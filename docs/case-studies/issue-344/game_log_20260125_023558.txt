[02:35:58] [INFO] ============================================================
[02:35:58] [INFO] GAME LOG STARTED
[02:35:58] [INFO] ============================================================
[02:35:58] [INFO] Timestamp: 2026-01-25T02:35:58
[02:35:58] [INFO] Log file: I:/Загрузки/godot exe/game_log_20260125_023558.txt
[02:35:58] [INFO] Executable: I:/Загрузки/godot exe/Godot-Top-Down-Template.exe
[02:35:58] [INFO] OS: Windows
[02:35:58] [INFO] Debug build: false
[02:35:58] [INFO] Engine version: 4.3-stable (official)
[02:35:58] [INFO] Project: Godot Top-Down Template
[02:35:58] [INFO] ------------------------------------------------------------
[02:35:58] [INFO] [GameManager] GameManager ready
[02:35:58] [INFO] [ScoreManager] ScoreManager ready
[02:35:58] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[02:35:58] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[02:35:58] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[02:35:58] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:35:58] [INFO] [PenultimateHit] Saturation shader loaded successfully
[02:35:58] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[02:35:58] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[02:35:58] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[02:35:58] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[02:35:58] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[02:35:58] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:35:58] [INFO] [LastChance] Last chance shader loaded successfully
[02:35:58] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[02:35:58] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[02:35:58] [INFO] [LastChance]   Sepia intensity: 0.70
[02:35:58] [INFO] [LastChance]   Brightness: 0.60
[02:35:58] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[02:35:58] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[02:35:58] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV enabled: true
[02:35:58] [ENEMY] [Enemy1] Death animation component initialized
[02:35:58] [ENEMY] [Enemy2] Death animation component initialized
[02:35:58] [ENEMY] [Enemy3] Death animation component initialized
[02:35:58] [ENEMY] [Enemy4] Death animation component initialized
[02:35:58] [ENEMY] [Enemy5] Death animation component initialized
[02:35:58] [ENEMY] [Enemy6] Death animation component initialized
[02:35:58] [ENEMY] [Enemy7] Death animation component initialized
[02:35:58] [ENEMY] [Enemy8] Death animation component initialized
[02:35:58] [ENEMY] [Enemy9] Death animation component initialized
[02:35:58] [ENEMY] [Enemy10] Death animation component initialized
[02:35:58] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:35:58] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:35:58] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:35:58] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:35:58] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:35:58] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:35:58] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[02:35:58] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[02:35:58] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:35:58] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:35:58] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[02:35:58] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[02:35:58] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[02:35:58] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[02:35:58] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[02:35:58] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[02:35:58] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[02:35:58] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[02:35:58] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[02:35:58] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[02:35:58] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[02:35:58] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[02:35:58] [INFO] [ScoreManager] Level started with 10 enemies
[02:35:58] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[02:35:58] [ENEMY] [Enemy1] Registered as sound listener
[02:35:58] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:35:58] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[02:35:58] [ENEMY] [Enemy2] Registered as sound listener
[02:35:58] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:35:58] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[02:35:58] [ENEMY] [Enemy3] Registered as sound listener
[02:35:58] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:35:58] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[02:35:58] [ENEMY] [Enemy4] Registered as sound listener
[02:35:58] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[02:35:58] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[02:35:58] [ENEMY] [Enemy5] Registered as sound listener
[02:35:58] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:35:58] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[02:35:58] [ENEMY] [Enemy6] Registered as sound listener
[02:35:58] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:35:58] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[02:35:58] [ENEMY] [Enemy7] Registered as sound listener
[02:35:58] [ENEMY] [Enemy7] Enemy spawned at (1606.114, 893.8859), health: 4, behavior: PATROL, player_found: yes
[02:35:58] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[02:35:58] [ENEMY] [Enemy8] Registered as sound listener
[02:35:58] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:35:58] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[02:35:58] [ENEMY] [Enemy9] Registered as sound listener
[02:35:58] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:35:58] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[02:35:58] [ENEMY] [Enemy10] Registered as sound listener
[02:35:58] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:35:58] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:35:58] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:35:58] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:35:58] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:35:58] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:35:58] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:35:58] [INFO] [LastChance] Found player: Player
[02:35:58] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:35:58] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:35:58] [INFO] [LastChance] Connected to player Died signal (C#)
[02:36:02] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:36:02] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:36:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1149.054, 1574.915), source=ENEMY (Enemy10), range=1469, listeners=10
[02:36:02] [ENEMY] [Enemy2] Heard gunshot at (1149.054, 1574.915), source_type=1, intensity=0.04, distance=1269
[02:36:02] [ENEMY] [Enemy3] Heard gunshot at (1149.054, 1574.915), source_type=1, intensity=0.05, distance=939
[02:36:02] [ENEMY] [Enemy4] Heard gunshot at (1149.054, 1574.915), source_type=1, intensity=0.07, distance=760
[02:36:02] [ENEMY] [Enemy5] Heard gunshot at (1149.054, 1574.915), source_type=1, intensity=0.04, distance=1343
[02:36:02] [ENEMY] [Enemy6] Heard gunshot at (1149.054, 1574.915), source_type=1, intensity=0.04, distance=1381
[02:36:02] [ENEMY] [Enemy7] Heard gunshot at (1149.054, 1574.915), source_type=1, intensity=0.06, distance=841
[02:36:02] [ENEMY] [Enemy8] Heard gunshot at (1149.054, 1574.915), source_type=1, intensity=0.07, distance=761
[02:36:02] [ENEMY] [Enemy9] Heard gunshot at (1149.054, 1574.915), source_type=1, intensity=0.05, distance=951
[02:36:02] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:36:02] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:36:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(408.3407, 649.9525), source=ENEMY (Enemy2), range=1469, listeners=10
[02:36:02] [ENEMY] [Enemy1] Heard gunshot at (408.3407, 649.9525), source_type=1, intensity=0.16, distance=319
[02:36:02] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=2, self=1, below_threshold=0
[02:36:02] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:36:02] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:36:02] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:36:02] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:36:02] [ENEMY] [Enemy5] State: COMBAT -> PURSUING
[02:36:02] [ENEMY] [Enemy6] State: COMBAT -> PURSUING
[02:36:02] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[02:36:02] [ENEMY] [Enemy8] State: COMBAT -> PURSUING
[02:36:02] [ENEMY] [Enemy9] State: COMBAT -> PURSUING
[02:36:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1091.864, 1538.039), shooter_id=45634029200, bullet_pos=(61.49099, 691.8055)
[02:36:02] [INFO] [Bullet] Using shooter_position, distance=1333.333984375
[02:36:02] [INFO] [Bullet] Distance to wall: 1333.333984375 (90.7891627810981% of viewport)
[02:36:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1091.864, 1538.039), shooter_id=45634029200, bullet_pos=(288.2763, 460.7588)
[02:36:02] [INFO] [Bullet] Using shooter_position, distance=1343.98132324219
[02:36:02] [INFO] [Bullet] Distance to wall: 1343.98132324219 (91.5141596632947% of viewport)
[02:36:02] [INFO] [Bullet] Distance-based penetration chance: 39.9001470594895%
[02:36:02] [INFO] [Bullet] Starting wall penetration at (288.2763, 460.7588)
[02:36:02] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:36:02] [INFO] [Bullet] Exiting penetration at (316.588, 431.9151) after traveling 35.4166717529297 pixels through wall
[02:36:02] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:36:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:36:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:36:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:36:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:36:02] [ENEMY] [Enemy1] Death animation component initialized
[02:36:02] [ENEMY] [Enemy2] Death animation component initialized
[02:36:02] [ENEMY] [Enemy3] Death animation component initialized
[02:36:02] [ENEMY] [Enemy4] Death animation component initialized
[02:36:02] [ENEMY] [Enemy5] Death animation component initialized
[02:36:02] [ENEMY] [Enemy6] Death animation component initialized
[02:36:02] [ENEMY] [Enemy7] Death animation component initialized
[02:36:02] [ENEMY] [Enemy8] Death animation component initialized
[02:36:02] [ENEMY] [Enemy9] Death animation component initialized
[02:36:02] [ENEMY] [Enemy10] Death animation component initialized
[02:36:02] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:36:02] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:36:02] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:36:02] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:36:02] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:36:02] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:36:02] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[02:36:02] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[02:36:02] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:36:02] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:36:02] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[02:36:02] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[02:36:02] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[02:36:02] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[02:36:02] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[02:36:02] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[02:36:02] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[02:36:02] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[02:36:02] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[02:36:02] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[02:36:02] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[02:36:02] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[02:36:02] [INFO] [ScoreManager] Level started with 10 enemies
[02:36:02] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:36:02] [ENEMY] [Enemy1] Registered as sound listener
[02:36:02] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:36:02] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:36:02] [ENEMY] [Enemy2] Registered as sound listener
[02:36:02] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:36:02] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:36:02] [ENEMY] [Enemy3] Registered as sound listener
[02:36:02] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:36:02] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:36:02] [ENEMY] [Enemy4] Registered as sound listener
[02:36:02] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:36:02] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:36:02] [ENEMY] [Enemy5] Registered as sound listener
[02:36:02] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:36:02] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:36:02] [ENEMY] [Enemy6] Registered as sound listener
[02:36:02] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:36:02] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:36:02] [ENEMY] [Enemy7] Registered as sound listener
[02:36:02] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:36:02] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:36:02] [ENEMY] [Enemy8] Registered as sound listener
[02:36:02] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:36:02] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:36:02] [ENEMY] [Enemy9] Registered as sound listener
[02:36:02] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:36:02] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:36:02] [ENEMY] [Enemy10] Registered as sound listener
[02:36:02] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:36:02] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:36:02] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:36:02] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:36:02] [INFO] [LastChance] Found player: Player
[02:36:02] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:36:02] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:36:02] [INFO] [LastChance] Connected to player Died signal (C#)
[02:36:02] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:36:02] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:36:02] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:36:03] [INFO] [Player.Debug] Debug mode toggled: ON
[02:36:03] [INFO] [GameManager] Debug mode toggled: ON
[02:36:05] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:36:05] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:36:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1153.696, 1576.042), source=ENEMY (Enemy10), range=1469, listeners=20
[02:36:05] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:36:05] [ENEMY] [Enemy2] Heard gunshot at (1153.696, 1576.042), source_type=1, intensity=0.04, distance=1273
[02:36:05] [ENEMY] [Enemy3] Heard gunshot at (1153.696, 1576.042), source_type=1, intensity=0.05, distance=942
[02:36:05] [ENEMY] [Enemy4] Heard gunshot at (1153.696, 1576.042), source_type=1, intensity=0.07, distance=763
[02:36:05] [ENEMY] [Enemy5] Heard gunshot at (1153.696, 1576.042), source_type=1, intensity=0.04, distance=1342
[02:36:05] [ENEMY] [Enemy6] Heard gunshot at (1153.696, 1576.042), source_type=1, intensity=0.04, distance=1379
[02:36:05] [ENEMY] [Enemy7] Heard gunshot at (1153.696, 1576.042), source_type=1, intensity=0.06, distance=868
[02:36:05] [ENEMY] [Enemy8] Heard gunshot at (1153.696, 1576.042), source_type=1, intensity=0.07, distance=757
[02:36:05] [ENEMY] [Enemy9] Heard gunshot at (1153.696, 1576.042), source_type=1, intensity=0.05, distance=947
[02:36:05] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:36:05] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:36:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(404.4334, 650.0688), source=ENEMY (Enemy2), range=1469, listeners=10
[02:36:05] [ENEMY] [Enemy1] Heard gunshot at (404.4334, 650.0688), source_type=1, intensity=0.16, distance=318
[02:36:05] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=2, self=1, below_threshold=0
[02:36:06] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:36:06] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:36:06] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:36:06] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:36:06] [ENEMY] [Enemy5] State: COMBAT -> PURSUING
[02:36:06] [ENEMY] [Enemy6] State: COMBAT -> PURSUING
[02:36:06] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[02:36:06] [ENEMY] [Enemy8] State: COMBAT -> PURSUING
[02:36:06] [ENEMY] [Enemy9] State: COMBAT -> PURSUING
[02:36:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1096.237, 1539.585), shooter_id=178878679802, bullet_pos=(59.70646, 700.9049)
[02:36:06] [INFO] [Bullet] Using shooter_position, distance=1333.33410644531
[02:36:06] [INFO] [Bullet] Distance to wall: 1333.33410644531 (90.7891710930902% of viewport)
[02:36:06] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:36:06] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:36:06] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:36:06] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:36:06] [ENEMY] [Enemy1] Death animation component initialized
[02:36:06] [ENEMY] [Enemy2] Death animation component initialized
[02:36:06] [ENEMY] [Enemy3] Death animation component initialized
[02:36:06] [ENEMY] [Enemy4] Death animation component initialized
[02:36:06] [ENEMY] [Enemy5] Death animation component initialized
[02:36:06] [ENEMY] [Enemy6] Death animation component initialized
[02:36:06] [ENEMY] [Enemy7] Death animation component initialized
[02:36:06] [ENEMY] [Enemy8] Death animation component initialized
[02:36:06] [ENEMY] [Enemy9] Death animation component initialized
[02:36:06] [ENEMY] [Enemy10] Death animation component initialized
[02:36:06] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:36:06] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:36:06] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:36:06] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:36:06] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:36:06] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:36:06] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:36:06] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[02:36:06] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:36:06] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:36:06] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[02:36:06] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[02:36:06] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[02:36:06] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[02:36:06] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[02:36:06] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[02:36:06] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[02:36:06] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[02:36:06] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[02:36:06] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[02:36:06] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[02:36:06] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[02:36:06] [INFO] [ScoreManager] Level started with 10 enemies
[02:36:06] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:36:06] [ENEMY] [Enemy1] Registered as sound listener
[02:36:06] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:36:06] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:36:06] [ENEMY] [Enemy2] Registered as sound listener
[02:36:06] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:36:06] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:36:06] [ENEMY] [Enemy3] Registered as sound listener
[02:36:06] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:36:06] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:36:06] [ENEMY] [Enemy4] Registered as sound listener
[02:36:06] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[02:36:06] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:36:06] [ENEMY] [Enemy5] Registered as sound listener
[02:36:06] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:36:06] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:36:06] [ENEMY] [Enemy6] Registered as sound listener
[02:36:06] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:36:06] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:36:06] [ENEMY] [Enemy7] Registered as sound listener
[02:36:06] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:36:06] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:36:06] [ENEMY] [Enemy8] Registered as sound listener
[02:36:06] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:36:06] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:36:06] [ENEMY] [Enemy9] Registered as sound listener
[02:36:06] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:36:06] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:36:06] [ENEMY] [Enemy10] Registered as sound listener
[02:36:06] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:36:06] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:36:06] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:36:06] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:36:06] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:36:06] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:36:06] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:36:06] [INFO] [LastChance] Found player: Player
[02:36:06] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:36:06] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:36:06] [INFO] [LastChance] Connected to player Died signal (C#)
[02:36:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(483.9333, 798.5679), source=PLAYER (AssaultRifle), range=1469, listeners=20
[02:36:09] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:36:09] [ENEMY] [Enemy1] Heard gunshot at (483.9333, 798.5679), source_type=0, intensity=0.10, distance=485
[02:36:09] [ENEMY] [Enemy2] Heard gunshot at (483.9333, 798.5679), source_type=0, intensity=0.19, distance=262
[02:36:09] [ENEMY] [Enemy3] Heard gunshot at (483.9333, 798.5679), source_type=0, intensity=0.23, distance=221
[02:36:09] [ENEMY] [Enemy4] Heard gunshot at (483.9333, 798.5679), source_type=0, intensity=0.15, distance=332
[02:36:09] [ENEMY] [Enemy5] Heard gunshot at (483.9333, 798.5679), source_type=0, intensity=0.04, distance=1296
[02:36:09] [ENEMY] [Enemy7] Heard gunshot at (483.9333, 798.5679), source_type=0, intensity=0.04, distance=1219
[02:36:09] [ENEMY] [Enemy10] Heard gunshot at (483.9333, 798.5679), source_type=0, intensity=0.05, distance=1050
[02:36:09] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=3, self=0, below_threshold=0
[02:36:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(483.9333, 798.5679), shooter_id=293282515075, bullet_pos=(508.85834, 796.63336)
[02:36:09] [INFO] [Bullet] Using shooter_position, distance=25,000008
[02:36:09] [INFO] [Bullet] Distance to wall: 25,000008 (1,7022965% of viewport)
[02:36:09] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:36:09] [INFO] [Bullet] Starting wall penetration at (508.85834, 796.63336)
[02:36:09] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:36:09] [INFO] [Bullet] Exiting penetration at (555.3851, 793.0223) after traveling 41,666668 pixels through wall
[02:36:09] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:36:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(484.6958, 769.5482), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:36:09] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=3, self=0, below_threshold=0
[02:36:09] [ENEMY] [Enemy3] Hit taken, health: 3/4
[02:36:09] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[02:36:09] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[02:36:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:36:09] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:36:09] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[02:36:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[02:36:09] [ENEMY] [Enemy6] Heard gunshot at (700, 750), source_type=1, intensity=0.04, distance=1285
[02:36:09] [ENEMY] [Enemy8] Heard gunshot at (700, 750), source_type=1, intensity=0.04, distance=1389
[02:36:09] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:36:09] [INFO] [LastChance] Threat detected: Bullet
[02:36:09] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(496.0244, 744.8598), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:36:09] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=3, self=0, below_threshold=0
[02:36:09] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:36:09] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:36:09] [ENEMY] [Enemy9] Memory: medium confidence (0.62) - transitioning to PURSUING
[02:36:09] [ENEMY] [Enemy9] State: IDLE -> PURSUING
[02:36:09] [ENEMY] [Enemy3] Hit taken, health: 2/4
[02:36:09] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[02:36:09] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[02:36:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:36:09] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:36:09] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[02:36:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[02:36:09] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:36:09] [INFO] [LastChance] Threat detected: Bullet
[02:36:09] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:36:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:09] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:36:09] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:36:09] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:36:09] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:36:10] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:36:10] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:36:10] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:36:10] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:36:10] [ENEMY] [Enemy1] Death animation component initialized
[02:36:10] [ENEMY] [Enemy2] Death animation component initialized
[02:36:10] [ENEMY] [Enemy3] Death animation component initialized
[02:36:10] [ENEMY] [Enemy4] Death animation component initialized
[02:36:10] [ENEMY] [Enemy5] Death animation component initialized
[02:36:10] [ENEMY] [Enemy6] Death animation component initialized
[02:36:10] [ENEMY] [Enemy7] Death animation component initialized
[02:36:10] [ENEMY] [Enemy8] Death animation component initialized
[02:36:10] [ENEMY] [Enemy9] Death animation component initialized
[02:36:10] [ENEMY] [Enemy10] Death animation component initialized
[02:36:10] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:36:10] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:36:10] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:36:10] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:36:10] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:36:10] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:36:10] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:36:10] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[02:36:10] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:36:10] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:36:10] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[02:36:10] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[02:36:10] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[02:36:10] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[02:36:10] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[02:36:10] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[02:36:10] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[02:36:10] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[02:36:10] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[02:36:10] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[02:36:10] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[02:36:10] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[02:36:10] [INFO] [ScoreManager] Level started with 10 enemies
[02:36:10] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:36:10] [ENEMY] [Enemy1] Registered as sound listener
[02:36:10] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:36:10] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:36:10] [ENEMY] [Enemy2] Registered as sound listener
[02:36:10] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:36:10] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:36:10] [ENEMY] [Enemy3] Registered as sound listener
[02:36:10] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:36:10] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:36:10] [ENEMY] [Enemy4] Registered as sound listener
[02:36:10] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[02:36:10] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:36:10] [ENEMY] [Enemy5] Registered as sound listener
[02:36:10] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:36:10] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:36:10] [ENEMY] [Enemy6] Registered as sound listener
[02:36:10] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[02:36:10] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:36:10] [ENEMY] [Enemy7] Registered as sound listener
[02:36:10] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:36:10] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:36:10] [ENEMY] [Enemy8] Registered as sound listener
[02:36:10] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:36:10] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:36:10] [ENEMY] [Enemy9] Registered as sound listener
[02:36:10] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:36:10] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:36:10] [ENEMY] [Enemy10] Registered as sound listener
[02:36:10] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:36:10] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:36:10] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:36:10] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:36:10] [INFO] [LastChance] Found player: Player
[02:36:10] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:36:10] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:36:10] [INFO] [LastChance] Connected to player Died signal (C#)
[02:36:10] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:36:10] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:36:10] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:36:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1116), source=PLAYER (AssaultRifle), range=1469, listeners=20
[02:36:11] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:36:11] [ENEMY] [Enemy1] Heard gunshot at (450, 1116), source_type=0, intensity=0.06, distance=781
[02:36:11] [ENEMY] [Enemy2] Heard gunshot at (450, 1116), source_type=0, intensity=0.09, distance=568
[02:36:11] [ENEMY] [Enemy3] Heard gunshot at (450, 1116), source_type=0, intensity=0.11, distance=443
[02:36:11] [ENEMY] [Enemy4] Heard gunshot at (450, 1116), source_type=0, intensity=0.12, distance=411
[02:36:11] [ENEMY] [Enemy5] Heard gunshot at (450, 1116), source_type=0, intensity=0.03, distance=1466
[02:36:11] [ENEMY] [Enemy7] Heard gunshot at (450, 1116), source_type=0, intensity=0.04, distance=1178
[02:36:11] [ENEMY] [Enemy10] Heard gunshot at (450, 1116), source_type=0, intensity=0.06, distance=867
[02:36:11] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=3, self=0, below_threshold=0
[02:36:11] [ENEMY] [Enemy6] Memory: medium confidence (0.63) - transitioning to PURSUING
[02:36:11] [ENEMY] [Enemy6] State: IDLE -> PURSUING
[02:36:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:36:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1195.4, 1547.301), source=ENEMY (Enemy10), range=1469, listeners=10
[02:36:11] [ENEMY] [Enemy8] Heard gunshot at (1195.4, 1547.301), source_type=1, intensity=0.07, distance=711
[02:36:11] [ENEMY] [Enemy9] Heard gunshot at (1195.4, 1547.301), source_type=1, intensity=0.06, distance=905
[02:36:11] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:36:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:36:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1163.419, 1528.041), source=ENEMY (Enemy10), range=1469, listeners=10
[02:36:11] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:36:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:36:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1131.666, 1508.406), source=ENEMY (Enemy10), range=1469, listeners=10
[02:36:11] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:36:11] [INFO] [LastChance] Threat detected: @Area2D@1058
[02:36:11] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400.9419, 650.0138), source=ENEMY (Enemy2), range=1469, listeners=10
[02:36:11] [INFO] [SoundPropagation] Sound result: notified=6, out_of_range=3, self=1, below_threshold=0
[02:36:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:36:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:36:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:36:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:36:11] [ENEMY] [Enemy1] Death animation component initialized
[02:36:11] [ENEMY] [Enemy2] Death animation component initialized
[02:36:11] [ENEMY] [Enemy3] Death animation component initialized
[02:36:11] [ENEMY] [Enemy4] Death animation component initialized
[02:36:11] [ENEMY] [Enemy5] Death animation component initialized
[02:36:11] [ENEMY] [Enemy6] Death animation component initialized
[02:36:11] [ENEMY] [Enemy7] Death animation component initialized
[02:36:11] [ENEMY] [Enemy8] Death animation component initialized
[02:36:11] [ENEMY] [Enemy9] Death animation component initialized
[02:36:11] [ENEMY] [Enemy10] Death animation component initialized
[02:36:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:36:11] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:36:11] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:36:11] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:36:11] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:36:11] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:36:11] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:36:11] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[02:36:11] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:36:11] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:36:11] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[02:36:11] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[02:36:11] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[02:36:11] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[02:36:11] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[02:36:11] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[02:36:11] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[02:36:11] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[02:36:11] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[02:36:11] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[02:36:11] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[02:36:11] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[02:36:11] [INFO] [ScoreManager] Level started with 10 enemies
[02:36:11] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:36:11] [ENEMY] [Enemy1] Registered as sound listener
[02:36:11] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:36:11] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:36:11] [ENEMY] [Enemy2] Registered as sound listener
[02:36:11] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:36:11] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:36:11] [ENEMY] [Enemy3] Registered as sound listener
[02:36:11] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:36:11] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:36:11] [ENEMY] [Enemy4] Registered as sound listener
[02:36:11] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[02:36:11] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:36:11] [ENEMY] [Enemy5] Registered as sound listener
[02:36:11] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:36:11] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:36:11] [ENEMY] [Enemy6] Registered as sound listener
[02:36:11] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:36:11] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:36:11] [ENEMY] [Enemy7] Registered as sound listener
[02:36:11] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:36:11] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:36:11] [ENEMY] [Enemy8] Registered as sound listener
[02:36:11] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:36:11] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:36:11] [ENEMY] [Enemy9] Registered as sound listener
[02:36:11] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:36:11] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:36:11] [ENEMY] [Enemy10] Registered as sound listener
[02:36:11] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:36:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:36:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:36:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:36:11] [INFO] [LastChance] Found player: Player
[02:36:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:36:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:36:11] [INFO] [LastChance] Connected to player Died signal (C#)
[02:36:11] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:36:11] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:36:11] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:36:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=20
[02:36:12] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:36:12] [ENEMY] [Enemy1] Heard gunshot at (450, 1256), source_type=0, intensity=0.05, distance=918
[02:36:12] [ENEMY] [Enemy2] Heard gunshot at (450, 1256), source_type=0, intensity=0.07, distance=708
[02:36:12] [ENEMY] [Enemy3] Heard gunshot at (450, 1256), source_type=0, intensity=0.09, distance=564
[02:36:12] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.10, distance=499
[02:36:12] [ENEMY] [Enemy7] Heard gunshot at (450, 1256), source_type=0, intensity=0.04, distance=1213
[02:36:12] [ENEMY] [Enemy8] Heard gunshot at (450, 1256), source_type=0, intensity=0.03, distance=1463
[02:36:12] [ENEMY] [Enemy10] Heard gunshot at (450, 1256), source_type=0, intensity=0.06, distance=806
[02:36:12] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=3, self=0, below_threshold=0
[02:36:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(398.8181, 649.9892), source=ENEMY (Enemy2), range=1469, listeners=10
[02:36:12] [ENEMY] [Enemy5] Heard gunshot at (398.8181, 649.9892), source_type=1, intensity=0.04, distance=1335
[02:36:12] [INFO] [SoundPropagation] Sound result: notified=6, out_of_range=3, self=1, below_threshold=0
[02:36:12] [ENEMY] [Enemy6] Memory: medium confidence (0.62) - transitioning to PURSUING
[02:36:12] [ENEMY] [Enemy6] State: IDLE -> PURSUING
[02:36:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(694.8868, 961.8645), source=ENEMY (Enemy4), range=1469, listeners=10
[02:36:12] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:36:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(657.0521, 1018.425), shooter_id=463336376451, bullet_pos=(657.0521, 1018.425)
[02:36:12] [INFO] [Bullet] Using shooter_position, distance=0
[02:36:12] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:36:12] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:36:12] [INFO] [Bullet] Starting wall penetration at (657.0521, 1018.425)
[02:36:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=465869736970, bullet_pos=(1569.0795, 991.11816)
[02:36:12] [INFO] [Bullet] Using shooter_position, distance=1150,0005
[02:36:12] [INFO] [Bullet] Distance to wall: 1150,0005 (78,30565% of viewport)
[02:36:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39.3506202697754
[02:36:12] [INFO] [Bullet] Body exited signal received for penetrating body
[02:36:12] [INFO] [Bullet] Exiting penetration at (626.8306, 1053.984) after traveling 41.6666679382324 pixels through wall
[02:36:12] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:36:12] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:36:12] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:36:12] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:36:12] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:36:12] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[02:36:12] [ENEMY] [Enemy8] State: COMBAT -> PURSUING
[02:36:12] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:36:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(384.971, 716.614), shooter_id=462765951621, bullet_pos=(96.79572, 1586.806)
[02:36:12] [INFO] [Bullet] Using shooter_position, distance=916.667358398438
[02:36:12] [INFO] [Bullet] Distance to wall: 916.667358398438 (62.417566035989% of viewport)
[02:36:12] [INFO] [Bullet] Distance-based penetration chance: 73.8461729580128%
[02:36:12] [INFO] [Bullet] Starting wall penetration at (96.79572, 1586.806)
[02:36:12] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:36:12] [INFO] [Bullet] Exiting penetration at (82.12497, 1631.107) after traveling 41.6666717529297 pixels through wall
[02:36:12] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:36:12] [ENEMY] [Enemy5] State: COMBAT -> PURSUING
[02:36:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=465869736970, bullet_pos=(2469.5823, 1327.4111)
[02:36:12] [INFO] [Bullet] Using shooter_position, distance=2020,8444
[02:36:12] [INFO] [Bullet] Distance to wall: 2020,8444 (137,60301% of viewport)
[02:36:12] [INFO] [Bullet] Distance-based penetration chance: 22,4794%
[02:36:12] [INFO] [Bullet] Penetration failed (distance roll)
[02:36:14] [ENEMY] [Enemy1] FLANKING started: target=(262.2357, 1181.119), side=left, pos=(302.682, 401.9331)
[02:36:14] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[02:36:14] [ENEMY] [Enemy2] FLANKING started: target=(261.9705, 1181.846), side=left, pos=(345.8553, 663.9335)
[02:36:14] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[02:36:14] [ENEMY] [Enemy7] FLANKING started: target=(599.6422, 1382.692), side=right, pos=(1476.142, 907.939)
[02:36:14] [ENEMY] [Enemy7] State: PURSUING -> FLANKING
[02:36:14] [ENEMY] [Enemy8] FLANKING started: target=(572.7283, 1092.083), side=left, pos=(1736.217, 1427.408)
[02:36:14] [ENEMY] [Enemy8] State: PURSUING -> FLANKING
[02:36:14] [ENEMY] [Enemy7] State: FLANKING -> COMBAT
[02:36:14] [ENEMY] [Enemy8] State: FLANKING -> COMBAT
[02:36:14] [ENEMY] [Enemy6] FLANKING started: target=(454.3992, 1050.048), side=left, pos=(1703.786, 562.4447)
[02:36:14] [ENEMY] [Enemy6] State: PURSUING -> FLANKING
[02:36:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1396.255, 1037.034), source=ENEMY (Enemy7), range=1469, listeners=10
[02:36:14] [ENEMY] [Enemy9] Heard gunshot at (1396.255, 1037.034), source_type=1, intensity=0.06, distance=871
[02:36:14] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:36:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1388.159, 1045.029), source=ENEMY (Enemy7), range=1469, listeners=10
[02:36:14] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:36:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1656.551, 1282.84), source=ENEMY (Enemy8), range=1469, listeners=10
[02:36:14] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:36:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1353.992, 1048.075), source=ENEMY (Enemy7), range=1469, listeners=10
[02:36:15] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:36:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1621.776, 1296.424), source=ENEMY (Enemy8), range=1469, listeners=10
[02:36:15] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:36:15] [INFO] [LastChance] Threat detected: Bullet
[02:36:15] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1317.337, 1048.065), source=ENEMY (Enemy7), range=1469, listeners=10
[02:36:15] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:36:15] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:36:15] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:36:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1585.146, 1292.617), source=ENEMY (Enemy8), range=1469, listeners=10
[02:36:15] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:36:15] [INFO] [LastChance] Threat detected: @Area2D@1326
[02:36:15] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:36:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1281.126, 1048.065), source=ENEMY (Enemy7), range=1469, listeners=10
[02:36:15] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:36:15] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:36:15] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:36:15] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:36:15] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:36:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:36:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(452.3936, 773.0168), source=ENEMY (Enemy2), range=1469, listeners=10
[02:36:15] [ENEMY] [Enemy1] Heard gunshot at (452.3936, 773.0168), source_type=1, intensity=0.39, distance=130
[02:36:15] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:36:15] [ENEMY] [Enemy2] State: FLANKING -> COMBAT
[02:36:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1547.839, 1291.217), source=ENEMY (Enemy8), range=1469, listeners=10
[02:36:15] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:36:15] [ENEMY] [Enemy9] State: COMBAT -> PURSUING
[02:36:15] [INFO] [LastChance] Threat detected: @Area2D@1330
[02:36:15] [INFO] [LastChance] Triggering last chance effect!
[02:36:15] [INFO] [LastChance] Starting last chance effect:
[02:36:15] [INFO] [LastChance]   - Time will be frozen (except player)
[02:36:15] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:36:15] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:36:15] [INFO] [LastChance]   - Brightness: 0.60
[02:36:15] [INFO] [LastChance] Set player Player and all 19 children to PROCESS_MODE_ALWAYS
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:36:15] [INFO] [LastChance] Skipping player node: Player
[02:36:15] [INFO] [LastChance] Froze existing bullet casing: Casing
[02:36:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1319
[02:36:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1321
[02:36:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1325
[02:36:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1327
[02:36:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1329
[02:36:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1331
[02:36:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1333
[02:36:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1335
[02:36:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1337
[02:36:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1338
[02:36:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1340
[02:36:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1342
[02:36:15] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:36:15] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:36:15] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:36:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:36:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:36:15] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:36:15] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:36:15] [INFO] [LastChance] Ending last chance effect
[02:36:15] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[02:36:15] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[02:36:15] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[02:36:15] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[02:36:15] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[02:36:15] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[02:36:15] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[02:36:15] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[02:36:15] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[02:36:15] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[02:36:15] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[02:36:15] [INFO] [LastChance] All process modes restored
[02:36:15] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:36:15] [ENEMY] [Enemy1] Death animation component initialized
[02:36:15] [ENEMY] [Enemy2] Death animation component initialized
[02:36:15] [ENEMY] [Enemy3] Death animation component initialized
[02:36:15] [ENEMY] [Enemy4] Death animation component initialized
[02:36:15] [ENEMY] [Enemy5] Death animation component initialized
[02:36:15] [ENEMY] [Enemy6] Death animation component initialized
[02:36:15] [ENEMY] [Enemy7] Death animation component initialized
[02:36:15] [ENEMY] [Enemy8] Death animation component initialized
[02:36:15] [ENEMY] [Enemy9] Death animation component initialized
[02:36:15] [ENEMY] [Enemy10] Death animation component initialized
[02:36:15] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:36:15] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:36:15] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:36:15] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:36:15] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:36:15] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:36:15] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:36:15] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[02:36:15] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:36:15] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:36:15] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[02:36:15] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[02:36:15] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[02:36:15] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[02:36:15] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[02:36:15] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[02:36:15] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[02:36:15] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[02:36:15] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[02:36:15] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[02:36:15] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[02:36:15] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[02:36:15] [INFO] [ScoreManager] Level started with 10 enemies
[02:36:15] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:36:15] [ENEMY] [Enemy1] Registered as sound listener
[02:36:15] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:36:15] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:36:15] [ENEMY] [Enemy2] Registered as sound listener
[02:36:15] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:36:15] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:36:15] [ENEMY] [Enemy3] Registered as sound listener
[02:36:15] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:36:15] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:36:15] [ENEMY] [Enemy4] Registered as sound listener
[02:36:15] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:36:15] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:36:15] [ENEMY] [Enemy5] Registered as sound listener
[02:36:15] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:36:15] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:36:15] [ENEMY] [Enemy6] Registered as sound listener
[02:36:15] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:36:15] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:36:15] [ENEMY] [Enemy7] Registered as sound listener
[02:36:15] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:36:15] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:36:15] [ENEMY] [Enemy8] Registered as sound listener
[02:36:15] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:36:15] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:36:15] [ENEMY] [Enemy9] Registered as sound listener
[02:36:15] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:36:15] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:36:15] [ENEMY] [Enemy10] Registered as sound listener
[02:36:15] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:36:15] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:36:15] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:36:15] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:36:15] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:36:15] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:36:15] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:36:15] [INFO] [LastChance] Found player: Player
[02:36:15] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:36:15] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:36:15] [INFO] [LastChance] Connected to player Died signal (C#)
[02:36:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(453.0796, 804.9423), source=PLAYER (AssaultRifle), range=1469, listeners=20
[02:36:17] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:36:17] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=3, self=0, below_threshold=0
[02:36:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(453.0796, 804.94226), shooter_id=623558790038, bullet_pos=(519.5977, 800.4946)
[02:36:17] [INFO] [Bullet] Using shooter_position, distance=66,66665
[02:36:17] [INFO] [Bullet] Distance to wall: 66,66665 (4,539455% of viewport)
[02:36:17] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:36:17] [INFO] [Bullet] Starting wall penetration at (519.5977, 800.4946)
[02:36:17] [INFO] [Bullet] Raycast backward hit penetrating body at distance 42,254543
[02:36:17] [INFO] [Bullet] Body exited signal received for penetrating body
[02:36:17] [INFO] [Bullet] Exiting penetration at (566.1604, 797.3813) after traveling 41,66667 pixels through wall
[02:36:17] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:36:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(470.1831, 773.7474), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:36:17] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=3, self=0, below_threshold=0
[02:36:17] [ENEMY] [Enemy3] Hit taken, health: 2/3
[02:36:17] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[02:36:17] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[02:36:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:36:17] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:36:17] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[02:36:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(496.6327, 754.6354), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:36:17] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=3, self=0, below_threshold=0
[02:36:17] [ENEMY] [Enemy3] Hit taken, health: 1/3
[02:36:17] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[02:36:17] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[02:36:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:36:17] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:36:17] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[02:36:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(528.4326, 748.701), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:36:17] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=2, self=0, below_threshold=0
[02:36:17] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:36:17] [ENEMY] [Enemy3] Hit taken, health: 0/3
[02:36:17] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[02:36:17] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=true
[02:36:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:36:17] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[02:36:17] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.5)
[02:36:17] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:36:17] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:36:17] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[02:36:17] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:36:17] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[02:36:17] [ENEMY] [Enemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[02:36:17] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[02:36:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(562.8162, 750.672), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:36:17] [ENEMY] [Enemy4] Heard gunshot at (562.8162, 750.672), source_type=0, intensity=0.18, distance=280
[02:36:17] [ENEMY] [Enemy5] Heard gunshot at (562.8162, 750.672), source_type=0, intensity=0.04, distance=1206
[02:36:17] [ENEMY] [Enemy6] Heard gunshot at (562.8162, 750.672), source_type=0, intensity=0.04, distance=1419
[02:36:17] [ENEMY] [Enemy7] Heard gunshot at (562.8162, 750.672), source_type=0, intensity=0.04, distance=1144
[02:36:17] [ENEMY] [Enemy10] Heard gunshot at (562.8162, 750.672), source_type=0, intensity=0.05, distance=1049
[02:36:17] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=2, self=0, below_threshold=0
[02:36:17] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:36:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(312.9635, 376.3921), source=ENEMY (Enemy1), range=1469, listeners=9
[02:36:17] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=1, below_threshold=0
[02:36:17] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:36:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 558.5333), source=ENEMY (Enemy2), range=1469, listeners=9
[02:36:17] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=3, self=1, below_threshold=0
[02:36:17] [INFO] [LastChance] Threat detected: @Area2D@1603
[02:36:17] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(590.2114, 762.4386), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:36:17] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=2, self=0, below_threshold=0
[02:36:17] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:36:17] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:36:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(562.8162, 750.672), shooter_id=623558790038, bullet_pos=(921.0017, 740.37604)
[02:36:18] [INFO] [Bullet] Using shooter_position, distance=358,33344
[02:36:18] [INFO] [Bullet] Distance to wall: 358,33344 (24,399584% of viewport)
[02:36:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:18] [INFO] [Bullet] Starting wall penetration at (921.0017, 740.37604)
[02:36:18] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:36:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 592.6666), source=ENEMY (Enemy2), range=1469, listeners=9
[02:36:18] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=3, self=1, below_threshold=0
[02:36:18] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,328844
[02:36:18] [INFO] [LastChance] Threat detected: @Area2D@1601
[02:36:18] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:36:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:18] [INFO] [Bullet] Body exited signal received for penetrating body
[02:36:18] [INFO] [Bullet] Exiting penetration at (959.3192, 739.2746) after traveling 33,333336 pixels through wall
[02:36:18] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:36:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(446.1641, 642.6614), shooter_id=620455004543, bullet_pos=(496.7068, 686.1341)
[02:36:18] [INFO] [Bullet] Using shooter_position, distance=66.6666717529297
[02:36:18] [INFO] [Bullet] Distance to wall: 66.6666717529297 (4.5394562688567% of viewport)
[02:36:18] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:36:18] [INFO] [Bullet] Starting wall penetration at (496.7068, 686.1341)
[02:36:18] [INFO] [LastChance] Threat detected: @Area2D@1608
[02:36:18] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:36:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:18] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.9895706176758
[02:36:18] [INFO] [Bullet] Body exited signal received for penetrating body
[02:36:18] [INFO] [Bullet] Exiting penetration at (525.7689, 711.1309) after traveling 33.3333320617676 pixels through wall
[02:36:18] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:36:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(590.2114, 762.4386), shooter_id=623558790038, bullet_pos=(914.78516, 745.7974)
[02:36:18] [INFO] [Bullet] Using shooter_position, distance=325,00006
[02:36:18] [INFO] [Bullet] Distance to wall: 325,00006 (22,129852% of viewport)
[02:36:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:18] [INFO] [Bullet] Starting wall penetration at (914.78516, 745.7974)
[02:36:18] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,090654
[02:36:18] [INFO] [Bullet] Body exited signal received for penetrating body
[02:36:18] [INFO] [Bullet] Exiting penetration at (953.06824, 743.8346) after traveling 33,333336 pixels through wall
[02:36:18] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:36:18] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[02:36:18] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:36:18] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:36:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(345.1657, 436.3388), shooter_id=620169791843, bullet_pos=(744.9232, 1010.964)
[02:36:18] [INFO] [Bullet] Using shooter_position, distance=699.999938964844
[02:36:18] [INFO] [Bullet] Distance to wall: 699.999938964844 (47.6642830305028% of viewport)
[02:36:18] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:36:18] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:36:18] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:36:18] [ENEMY] [Enemy3] Ragdoll activated
[02:36:18] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:36:18] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:36:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(345.1657, 436.3388), shooter_id=620169791843, bullet_pos=(913.3391, 742.7961)
[02:36:18] [INFO] [Bullet] Using shooter_position, distance=645.551696777344
[02:36:18] [INFO] [Bullet] Distance to wall: 645.551696777344 (43.956802098467% of viewport)
[02:36:18] [ENEMY] [Enemy5] State: COMBAT -> PURSUING
[02:36:18] [ENEMY] [Enemy6] State: COMBAT -> PURSUING
[02:36:18] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[02:36:18] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:36:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:36:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:36:18] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:36:18] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:36:18] [ENEMY] [Enemy1] Death animation component initialized
[02:36:18] [ENEMY] [Enemy2] Death animation component initialized
[02:36:18] [ENEMY] [Enemy3] Death animation component initialized
[02:36:18] [ENEMY] [Enemy4] Death animation component initialized
[02:36:18] [ENEMY] [Enemy5] Death animation component initialized
[02:36:18] [ENEMY] [Enemy6] Death animation component initialized
[02:36:18] [ENEMY] [Enemy7] Death animation component initialized
[02:36:18] [ENEMY] [Enemy8] Death animation component initialized
[02:36:18] [ENEMY] [Enemy9] Death animation component initialized
[02:36:18] [ENEMY] [Enemy10] Death animation component initialized
[02:36:18] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:36:18] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:36:18] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:36:18] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:36:18] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:36:18] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:36:18] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:36:18] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[02:36:18] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:36:18] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:36:18] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[02:36:18] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[02:36:18] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[02:36:18] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[02:36:18] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[02:36:18] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[02:36:18] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[02:36:18] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[02:36:18] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[02:36:18] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[02:36:18] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[02:36:18] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[02:36:18] [INFO] [ScoreManager] Level started with 10 enemies
[02:36:18] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[02:36:18] [ENEMY] [Enemy1] Registered as sound listener
[02:36:18] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:36:18] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[02:36:18] [ENEMY] [Enemy2] Registered as sound listener
[02:36:18] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:36:18] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[02:36:18] [ENEMY] [Enemy3] Registered as sound listener
[02:36:18] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:36:18] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[02:36:18] [ENEMY] [Enemy4] Registered as sound listener
[02:36:18] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:36:18] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[02:36:18] [ENEMY] [Enemy5] Registered as sound listener
[02:36:18] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:36:18] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[02:36:18] [ENEMY] [Enemy6] Registered as sound listener
[02:36:18] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:36:18] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[02:36:18] [ENEMY] [Enemy7] Registered as sound listener
[02:36:18] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:36:18] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[02:36:18] [ENEMY] [Enemy8] Registered as sound listener
[02:36:18] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:36:18] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[02:36:18] [ENEMY] [Enemy9] Registered as sound listener
[02:36:18] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:36:18] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[02:36:18] [ENEMY] [Enemy10] Registered as sound listener
[02:36:18] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:36:18] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:36:18] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:36:18] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:36:18] [INFO] [LastChance] Found player: Player
[02:36:18] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:36:18] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:36:18] [INFO] [LastChance] Connected to player Died signal (C#)
[02:36:18] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:36:18] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:36:18] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:36:20] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:36:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=19
[02:36:20] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[02:36:20] [ENEMY] [Enemy1] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.09, distance=558
[02:36:20] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.14, distance=350
[02:36:20] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.27, distance=186
[02:36:20] [ENEMY] [Enemy5] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.05, distance=1093
[02:36:20] [ENEMY] [Enemy6] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.04, distance=1301
[02:36:20] [ENEMY] [Enemy7] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.05, distance=992
[02:36:20] [ENEMY] [Enemy8] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.04, distance=1401
[02:36:20] [ENEMY] [Enemy10] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.05, distance=987
[02:36:20] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:36:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(453.6259, 753.7761), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:36:20] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=3, self=0, below_threshold=0
[02:36:20] [INFO] [LastChance] Threat detected: Bullet
[02:36:20] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:20] [ENEMY] [Enemy3] Hit taken, health: 3/4
[02:36:20] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[02:36:20] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[02:36:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:36:20] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:36:20] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[02:36:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(465.5354, 734.1329), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:36:20] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=3, self=0, below_threshold=0
[02:36:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[02:36:20] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:36:20] [INFO] [LastChance] Threat detected: @Area2D@1894
[02:36:20] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:20] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:36:20] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:36:20] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:36:20] [ENEMY] [Enemy3] Hit taken, health: 2/4
[02:36:20] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[02:36:20] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[02:36:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:36:20] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:36:20] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[02:36:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[02:36:20] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:36:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.6423, 760.9998), shooter_id=686590790617, bullet_pos=(66.66084, 756.4782)
[02:36:20] [INFO] [Bullet] Using shooter_position, distance=550.000061035156
[02:36:20] [INFO] [Bullet] Distance to wall: 550.000061035156 (37.4505155168165% of viewport)
[02:36:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:20] [INFO] [Bullet] Starting wall penetration at (66.66084, 756.4782)
[02:36:20] [INFO] [LastChance] Threat detected: @Area2D@1897
[02:36:20] [INFO] [LastChance] Triggering last chance effect!
[02:36:20] [INFO] [LastChance] Starting last chance effect:
[02:36:20] [INFO] [LastChance]   - Time will be frozen (except player)
[02:36:20] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:36:20] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:36:20] [INFO] [LastChance]   - Brightness: 0.60
[02:36:20] [INFO] [LastChance] Pushed bullet @Area2D@1897 from distance 144.4 to 200.0
[02:36:20] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:36:20] [INFO] [LastChance] Set player Player and all 19 children to PROCESS_MODE_ALWAYS
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:36:20] [INFO] [LastChance] Skipping player node: Player
[02:36:20] [INFO] [Bullet] Body exited signal received for penetrating body
[02:36:20] [INFO] [Bullet] Exiting penetration at (61.66101, 756.4371) after traveling 0 pixels through wall
[02:36:20] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:36:20] [INFO] [LastChance] Froze existing bullet casing: Casing
[02:36:20] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1891
[02:36:20] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1893
[02:36:20] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1895
[02:36:20] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1898
[02:36:20] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:36:20] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:36:20] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:36:21] [INFO] [LastChance] Freezing newly fired player bullet: Bullet
[02:36:21] [INFO] [LastChance] Registered frozen player bullet: Bullet
[02:36:21] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1906
[02:36:21] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1906
[02:36:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(474.3265, 734.0669), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:36:21] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=2, self=0, below_threshold=0
[02:36:22] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:36:22] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:36:22] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:36:22] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:36:22] [INFO] [LastChance] Ending last chance effect
[02:36:22] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[02:36:22] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[02:36:22] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[02:36:22] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[02:36:22] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[02:36:22] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[02:36:22] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[02:36:22] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[02:36:22] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[02:36:22] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[02:36:22] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[02:36:22] [INFO] [LastChance] All process modes restored
[02:36:22] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:36:22] [ENEMY] [Enemy1] Death animation component initialized
[02:36:22] [ENEMY] [Enemy2] Death animation component initialized
[02:36:22] [ENEMY] [Enemy3] Death animation component initialized
[02:36:22] [ENEMY] [Enemy4] Death animation component initialized
[02:36:22] [ENEMY] [Enemy5] Death animation component initialized
[02:36:22] [ENEMY] [Enemy6] Death animation component initialized
[02:36:22] [ENEMY] [Enemy7] Death animation component initialized
[02:36:22] [ENEMY] [Enemy8] Death animation component initialized
[02:36:22] [ENEMY] [Enemy9] Death animation component initialized
[02:36:22] [ENEMY] [Enemy10] Death animation component initialized
[02:36:22] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:36:22] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:36:22] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:36:22] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:36:22] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:36:22] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:36:22] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:36:22] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[02:36:22] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:36:22] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:36:22] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[02:36:22] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[02:36:22] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[02:36:22] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[02:36:22] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[02:36:22] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[02:36:22] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[02:36:22] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[02:36:22] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[02:36:22] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[02:36:22] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[02:36:22] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[02:36:22] [INFO] [ScoreManager] Level started with 10 enemies
[02:36:22] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:36:22] [ENEMY] [Enemy1] Registered as sound listener
[02:36:22] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:36:22] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:36:22] [ENEMY] [Enemy2] Registered as sound listener
[02:36:22] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:36:22] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:36:22] [ENEMY] [Enemy3] Registered as sound listener
[02:36:22] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:36:22] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:36:22] [ENEMY] [Enemy4] Registered as sound listener
[02:36:22] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:36:22] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:36:22] [ENEMY] [Enemy5] Registered as sound listener
[02:36:22] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:36:22] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:36:22] [ENEMY] [Enemy6] Registered as sound listener
[02:36:22] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[02:36:22] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:36:22] [ENEMY] [Enemy7] Registered as sound listener
[02:36:22] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:36:22] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:36:22] [ENEMY] [Enemy8] Registered as sound listener
[02:36:22] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:36:22] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:36:22] [ENEMY] [Enemy9] Registered as sound listener
[02:36:22] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:36:22] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:36:22] [ENEMY] [Enemy10] Registered as sound listener
[02:36:22] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:36:22] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:36:22] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:36:22] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:36:22] [INFO] [LastChance] Found player: Player
[02:36:22] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:36:22] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:36:22] [INFO] [LastChance] Connected to player Died signal (C#)
[02:36:22] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:36:22] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:36:22] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:36:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(456.4671, 789.8455), source=PLAYER (AssaultRifle), range=1469, listeners=20
[02:36:24] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:36:24] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=3, self=0, below_threshold=0
[02:36:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(477.5587, 760.781), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:36:24] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=3, self=0, below_threshold=0
[02:36:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(456.46713, 789.84546), shooter_id=759118693955, bullet_pos=(939.79785, 791.4944)
[02:36:24] [INFO] [Bullet] Using shooter_position, distance=483,33353
[02:36:24] [INFO] [Bullet] Distance to wall: 483,33353 (32,911068% of viewport)
[02:36:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:24] [INFO] [Bullet] Starting wall penetration at (939.79785, 791.4944)
[02:36:24] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:36:24] [INFO] [Bullet] Exiting penetration at (986.4643, 791.65356) after traveling 41,666668 pixels through wall
[02:36:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:36:24] [ENEMY] [Enemy3] Hit taken, health: 2/3
[02:36:24] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[02:36:24] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[02:36:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:36:24] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:36:24] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[02:36:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(506.7108, 744.7852), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:36:24] [ENEMY] [Enemy1] Heard gunshot at (506.7108, 744.7852), source_type=0, intensity=0.11, distance=446
[02:36:24] [ENEMY] [Enemy2] Heard gunshot at (506.7108, 744.7852), source_type=0, intensity=0.23, distance=222
[02:36:24] [ENEMY] [Enemy3] Heard gunshot at (506.7108, 744.7852), source_type=0, intensity=0.26, distance=193
[02:36:24] [ENEMY] [Enemy4] Heard gunshot at (506.7108, 744.7852), source_type=0, intensity=0.15, distance=332
[02:36:24] [ENEMY] [Enemy5] Heard gunshot at (506.7108, 744.7852), source_type=0, intensity=0.04, distance=1257
[02:36:24] [ENEMY] [Enemy7] Heard gunshot at (506.7108, 744.7852), source_type=0, intensity=0.04, distance=1202
[02:36:24] [ENEMY] [Enemy10] Heard gunshot at (506.7108, 744.7852), source_type=0, intensity=0.05, distance=1088
[02:36:24] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=3, self=0, below_threshold=0
[02:36:24] [ENEMY] [Enemy6] Memory: medium confidence (0.63) - transitioning to PURSUING
[02:36:24] [ENEMY] [Enemy6] State: IDLE -> PURSUING
[02:36:24] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:36:24] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:36:24] [ENEMY] [Enemy3] Hit taken, health: 1/3
[02:36:24] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[02:36:24] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 756.4001), dir=(1, 0), lethal=false
[02:36:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:36:24] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:36:24] [INFO] [ImpactEffects] Blood effect spawned at (700, 756.4001) (scale=1)
[02:36:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 758.5334), source=ENEMY (Enemy3), range=1469, listeners=10
[02:36:24] [ENEMY] [Enemy8] Heard gunshot at (700, 758.5334), source_type=1, intensity=0.04, distance=1385
[02:36:24] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:36:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(537.4919, 742.4693), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:36:24] [ENEMY] [Enemy3] Heard gunshot at (537.4919, 742.4693), source_type=0, intensity=0.31, distance=164
[02:36:24] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=2, self=0, below_threshold=0
[02:36:24] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:36:24] [ENEMY] [Enemy3] Hit taken, health: 0/3
[02:36:24] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[02:36:24] [INFO] [ImpactEffects] spawn_blood_effect called at (703.7581, 770.114), dir=(1, 0), lethal=true
[02:36:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:36:24] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[02:36:24] [INFO] [ImpactEffects] Blood effect spawned at (703.7581, 770.114) (scale=1.5)
[02:36:24] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:36:24] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:36:24] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[02:36:24] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:36:24] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[02:36:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(562.5864, 751.9113), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:36:24] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=0, below_threshold=0
[02:36:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(578.1535, 771.1327), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:36:24] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=0, below_threshold=0
[02:36:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(631.9626, 757.3038), shooter_id=756300123116, bullet_pos=(37.36089, 837.6083)
[02:36:24] [INFO] [Bullet] Using shooter_position, distance=600
[02:36:24] [INFO] [Bullet] Distance to wall: 600 (40.8551033027132% of viewport)
[02:36:24] [INFO] [Bullet] Distance-based penetration chance: 99.0023794801679%
[02:36:24] [INFO] [Bullet] Starting wall penetration at (37.36089, 837.6083)
[02:36:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32.9237747192383
[02:36:24] [INFO] [Bullet] Body exited signal received for penetrating body
[02:36:24] [INFO] [Bullet] Exiting penetration at (-0.627552, 842.7389) after traveling 33.3333358764648 pixels through wall
[02:36:24] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:36:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(562.58636, 751.91125), shooter_id=759118693955, bullet_pos=(920.8007, 742.6835)
[02:36:24] [INFO] [Bullet] Using shooter_position, distance=358,3332
[02:36:24] [INFO] [Bullet] Distance to wall: 358,3332 (24,399567% of viewport)
[02:36:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:24] [INFO] [Bullet] Starting wall penetration at (920.8007, 742.6835)
[02:36:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,12901
[02:36:24] [INFO] [Bullet] Body exited signal received for penetrating body
[02:36:24] [INFO] [Bullet] Exiting penetration at (959.12134, 741.6963) after traveling 33,333336 pixels through wall
[02:36:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:36:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(584.1928, 800.1336), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:36:24] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=0, below_threshold=0
[02:36:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(578.1535, 771.1327), shooter_id=759118693955, bullet_pos=(934.6108, 734.51355)
[02:36:24] [INFO] [Bullet] Using shooter_position, distance=358,33328
[02:36:24] [INFO] [Bullet] Distance to wall: 358,33328 (24,399572% of viewport)
[02:36:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:24] [INFO] [Bullet] Starting wall penetration at (934.6108, 734.51355)
[02:36:24] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:36:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,936783
[02:36:24] [INFO] [Bullet] Body exited signal received for penetrating body
[02:36:24] [INFO] [Bullet] Exiting penetration at (972.7434, 730.5961) after traveling 33,333332 pixels through wall
[02:36:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:36:25] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:36:25] [ENEMY] [Enemy5] State: COMBAT -> PURSUING
[02:36:25] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[02:36:25] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:36:25] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:36:25] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:36:25] [ENEMY] [Enemy9] Memory: medium confidence (0.59) - transitioning to PURSUING
[02:36:25] [ENEMY] [Enemy9] State: IDLE -> PURSUING
[02:36:25] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:36:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(584.1928, 800.1336), shooter_id=759118693955, bullet_pos=(932.9071, 717.6636)
[02:36:25] [INFO] [Bullet] Using shooter_position, distance=358,3336
[02:36:25] [INFO] [Bullet] Distance to wall: 358,3336 (24,399593% of viewport)
[02:36:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:25] [ENEMY] [Enemy8] State: COMBAT -> PURSUING
[02:36:25] [ENEMY] [Enemy3] Ragdoll activated
[02:36:25] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:36:25] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[02:36:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(778.5743, 980.2466), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:36:26] [ENEMY] [Enemy4] Heard gunshot at (778.5743, 980.2466), source_type=0, intensity=0.22, distance=226
[02:36:26] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=0, below_threshold=0
[02:36:26] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:36:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(813.5295, 979.6554), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:36:26] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=0, below_threshold=0
[02:36:26] [ENEMY] [Enemy3] Death animation completed
[02:36:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(844.4843, 969.4064), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:36:26] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=0, below_threshold=0
[02:36:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(870.5116, 947.2615), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:36:26] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=0, below_threshold=0
[02:36:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(778.57434, 980.24664), shooter_id=759118693955, bullet_pos=(720.65405, 57.061558)
[02:36:26] [INFO] [Bullet] Using shooter_position, distance=925,0002
[02:36:26] [INFO] [Bullet] Distance to wall: 925,0002 (62,984966% of viewport)
[02:36:26] [INFO] [Bullet] Distance-based penetration chance: 73,184204%
[02:36:26] [INFO] [Bullet] Starting wall penetration at (720.65405, 57.061558)
[02:36:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,222503
[02:36:26] [INFO] [Bullet] Body exited signal received for penetrating body
[02:36:26] [INFO] [Bullet] Exiting penetration at (718.2538, 18.803444) after traveling 33,333336 pixels through wall
[02:36:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:36:26] [ENEMY] [Enemy4] Hit taken, health: 3/4
[02:36:26] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[02:36:26] [INFO] [ImpactEffects] spawn_blood_effect called at (870.8176, 765.3364), dir=(1, 0), lethal=false
[02:36:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:36:26] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:36:26] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 765.3364) (dist=41 px)
[02:36:26] [INFO] [ImpactEffects] Blood effect spawned at (870.8176, 765.3364) (scale=1)
[02:36:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.2047, 922.2897), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:36:26] [ENEMY] [Enemy4] Heard gunshot at (895.2047, 922.2897), source_type=0, intensity=0.32, distance=156
[02:36:26] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=0, below_threshold=0
[02:36:26] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:36:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(813.52954, 979.6554), shooter_id=759118693955, bullet_pos=(758.0363, 56.321247)
[02:36:26] [INFO] [Bullet] Using shooter_position, distance=925,00024
[02:36:26] [INFO] [Bullet] Distance to wall: 925,00024 (62,984966% of viewport)
[02:36:26] [INFO] [Bullet] Distance-based penetration chance: 73,184204%
[02:36:26] [INFO] [Bullet] Starting wall penetration at (758.0363, 56.321247)
[02:36:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,968204
[02:36:26] [INFO] [Bullet] Body exited signal received for penetrating body
[02:36:26] [INFO] [Bullet] Exiting penetration at (755.7366, 18.056957) after traveling 33,333336 pixels through wall
[02:36:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:36:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(865.8271, 770.9148), source=ENEMY (Enemy4), range=1469, listeners=9
[02:36:26] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=0, self=1, below_threshold=0
[02:36:26] [INFO] [LastChance] Threat detected: @Area2D@2209
[02:36:26] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9326, 890.6424), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:36:26] [ENEMY] [Enemy4] Heard gunshot at (895.9326, 890.6424), source_type=0, intensity=0.39, distance=129
[02:36:26] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=0, below_threshold=0
[02:36:26] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:36:26] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:36:26] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:36:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(844.4843, 969.40643), shooter_id=759118693955, bullet_pos=(791.59436, 45.919518)
[02:36:26] [INFO] [Bullet] Using shooter_position, distance=925,00024
[02:36:26] [INFO] [Bullet] Distance to wall: 925,00024 (62,984966% of viewport)
[02:36:26] [INFO] [Bullet] Distance-based penetration chance: 73,184204%
[02:36:26] [INFO] [Bullet] Starting wall penetration at (791.59436, 45.919518)
[02:36:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24,391006
[02:36:26] [INFO] [Bullet] Body exited signal received for penetrating body
[02:36:26] [INFO] [Bullet] Exiting penetration at (789.4025, 7.6488953) after traveling 33,333336 pixels through wall
[02:36:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:36:26] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[02:36:26] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:36:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(871.462, 757.0927), source=ENEMY (Enemy4), range=1469, listeners=9
[02:36:26] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=0, self=1, below_threshold=0
[02:36:26] [INFO] [LastChance] Threat detected: @Area2D@2213
[02:36:26] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:36:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.93256, 890.6424), shooter_id=759118693955, bullet_pos=(908.78076, 666.0096)
[02:36:26] [INFO] [Bullet] Using shooter_position, distance=224,99995
[02:36:26] [INFO] [Bullet] Distance to wall: 224,99995 (15,320662% of viewport)
[02:36:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:26] [INFO] [Bullet] Starting wall penetration at (908.78076, 666.0096)
[02:36:26] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:36:26] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:36:26] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:36:26] [INFO] [Bullet] Raycast forward hit penetrating body at distance 18,042257
[02:36:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9326, 855.4422), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:36:26] [ENEMY] [Enemy4] Heard gunshot at (895.9326, 855.4422), source_type=0, intensity=0.46, distance=108
[02:36:26] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=0, below_threshold=0
[02:36:26] [INFO] [Bullet] Max penetration distance exceeded: 66,666664 >= 48
[02:36:26] [INFO] [Bullet] Body exited signal received for penetrating body
[02:36:26] [INFO] [Bullet] Exiting penetration at (912.87317, 594.4599) after traveling 66,666664 pixels through wall
[02:36:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:36:27] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:36:27] [ENEMY] [Enemy8] FLANKING started: target=(890.58, 1049.371), side=right, pos=(1755.363, 1376.795)
[02:36:27] [ENEMY] [Enemy8] State: PURSUING -> FLANKING
[02:36:27] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:36:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9326, 820.242), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:36:27] [ENEMY] [Enemy4] Heard gunshot at (895.9326, 820.242), source_type=0, intensity=0.57, distance=88
[02:36:27] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=0, below_threshold=0
[02:36:27] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:36:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.20465, 922.2897), shooter_id=759118693955, bullet_pos=(894.0118, 63.956936)
[02:36:27] [INFO] [Bullet] Using shooter_position, distance=858,3336
[02:36:27] [INFO] [Bullet] Distance to wall: 858,3336 (58,445515% of viewport)
[02:36:27] [INFO] [Bullet] Distance-based penetration chance: 78,48024%
[02:36:27] [INFO] [Bullet] Starting wall penetration at (894.0118, 63.956936)
[02:36:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6,376368
[02:36:27] [INFO] [Bullet] Body exited signal received for penetrating body
[02:36:27] [INFO] [Bullet] Exiting penetration at (893.9585, 25.623638) after traveling 33,333336 pixels through wall
[02:36:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:36:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(448.2652, 589.8234), source=ENEMY (Enemy2), range=1469, listeners=9
[02:36:27] [INFO] [SoundPropagation] Sound result: notified=6, out_of_range=2, self=1, below_threshold=0
[02:36:27] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:36:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.93256, 855.4422), shooter_id=759118693955, bullet_pos=(525.3356, 483.57812)
[02:36:27] [INFO] [Bullet] Using shooter_position, distance=525
[02:36:27] [INFO] [Bullet] Distance to wall: 525 (35,748215% of viewport)
[02:36:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:27] [INFO] [Bullet] Starting wall penetration at (525.3356, 483.57812)
[02:36:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9326, 785.0418), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:36:27] [ENEMY] [Enemy4] Heard gunshot at (895.9326, 785.0418), source_type=0, intensity=0.74, distance=67
[02:36:27] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=0, below_threshold=0
[02:36:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 2,4420555
[02:36:27] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:36:27] [INFO] [Bullet] Max penetration distance exceeded: 66,666664 >= 48
[02:36:27] [INFO] [Bullet] Body exited signal received for penetrating body
[02:36:27] [INFO] [Bullet] Exiting penetration at (474.74622, 432.81567) after traveling 66,666664 pixels through wall
[02:36:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:36:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(471.9399, 614.3935), source=ENEMY (Enemy2), range=1469, listeners=9
[02:36:27] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=1, self=1, below_threshold=0
[02:36:27] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:36:27] [ENEMY] [Enemy2] Hit taken, health: 3/4
[02:36:27] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[02:36:27] [INFO] [ImpactEffects] spawn_blood_effect called at (478.2332, 620.1563), dir=(1, 0), lethal=false
[02:36:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:36:27] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:36:27] [INFO] [ImpactEffects] Blood effect spawned at (478.2332, 620.1563) (scale=1)
[02:36:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9326, 749.8416), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:36:27] [ENEMY] [Enemy4] Heard gunshot at (895.9326, 749.8416), source_type=0, intensity=0.96, distance=52
[02:36:27] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=0, below_threshold=0
[02:36:27] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:36:27] [ENEMY] [Enemy4] Hit taken, health: 2/4
[02:36:27] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[02:36:27] [INFO] [ImpactEffects] spawn_blood_effect called at (868.1247, 703.5878), dir=(1, 0), lethal=false
[02:36:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:36:27] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:36:27] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 703.5878) (dist=43 px)
[02:36:27] [INFO] [ImpactEffects] Blood effect spawned at (868.1247, 703.5878) (scale=1)
[02:36:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(506.1541, 625.7606), shooter_id=756014908868, bullet_pos=(928.2023, 824.8914)
[02:36:27] [INFO] [Bullet] Using shooter_position, distance=466.666687011719
[02:36:27] [INFO] [Bullet] Distance to wall: 466.666687011719 (31.7761928429979% of viewport)
[02:36:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.93256, 785.0418), shooter_id=759118693955, bullet_pos=(518.2644, 590.12726)
[02:36:27] [INFO] [Bullet] Using shooter_position, distance=424,9999
[02:36:27] [INFO] [Bullet] Distance to wall: 424,9999 (28,939026% of viewport)
[02:36:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9326, 714.6414), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:36:27] [ENEMY] [Enemy4] Heard gunshot at (895.9326, 714.6414), source_type=0, intensity=1.00, distance=41
[02:36:27] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=0, below_threshold=0
[02:36:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(533.0718, 644.5115), shooter_id=756014908868, bullet_pos=(909.7622, 779.064)
[02:36:27] [INFO] [Bullet] Using shooter_position, distance=400.000091552734
[02:36:27] [INFO] [Bullet] Distance to wall: 400.000091552734 (27.2367417691362% of viewport)
[02:36:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:27] [INFO] [Bullet] Starting wall penetration at (909.7622, 779.064)
[02:36:27] [ENEMY] [Enemy4] Hit taken, health: 1/4
[02:36:27] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[02:36:27] [INFO] [ImpactEffects] spawn_blood_effect called at (864.3063, 689.1953), dir=(1, 0), lethal=false
[02:36:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:36:27] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:36:27] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 689.1953) (dist=47 px)
[02:36:27] [INFO] [ImpactEffects] Blood effect spawned at (864.3063, 689.1953) (scale=1)
[02:36:27] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:36:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10.4719438552856
[02:36:27] [INFO] [Bullet] Body exited signal received for penetrating body
[02:36:27] [INFO] [Bullet] Exiting penetration at (945.8617, 791.9586) after traveling 33.3333320617676 pixels through wall
[02:36:27] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:36:27] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:36:27] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:36:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(530.6302, 635.2913), source=ENEMY (Enemy2), range=1469, listeners=9
[02:36:27] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=1, self=1, below_threshold=0
[02:36:27] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:36:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(534.4081, 642.9428), source=ENEMY (Enemy2), range=1469, listeners=9
[02:36:27] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=1, self=1, below_threshold=0
[02:36:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9326, 679.4412), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:36:27] [ENEMY] [Enemy4] Heard gunshot at (895.9326, 679.4412), source_type=0, intensity=1.00, distance=35
[02:36:27] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=0, below_threshold=0
[02:36:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(506.1541, 625.7606), shooter_id=756014908868, bullet_pos=(567.2146, 1001.029)
[02:36:27] [INFO] [Bullet] Using shooter_position, distance=380.203308105469
[02:36:27] [INFO] [Bullet] Distance to wall: 380.203308105469 (25.8887423811371% of viewport)
[02:36:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:27] [INFO] [Bullet] Starting wall penetration at (567.2146, 1001.029)
[02:36:27] [ENEMY] [Enemy4] Hit taken, health: 0/4
[02:36:27] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[02:36:27] [INFO] [ImpactEffects] spawn_blood_effect called at (861.8002, 672.3206), dir=(1, 0), lethal=true
[02:36:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:36:27] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[02:36:27] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 672.3206) (dist=50 px)
[02:36:27] [INFO] [ImpactEffects] Blood effect spawned at (861.8002, 672.3206) (scale=1.5)
[02:36:27] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[02:36:27] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[02:36:27] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[02:36:27] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:36:27] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[02:36:27] [INFO] [Bullet] Body exited signal received for penetrating body
[02:36:27] [INFO] [Bullet] Exiting penetration at (537.2571, 1015.646) after traveling 0 pixels through wall
[02:36:27] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:36:27] [INFO] [LastChance] Threat detected: @Area2D@2239
[02:36:27] [INFO] [LastChance] Triggering last chance effect!
[02:36:27] [INFO] [LastChance] Starting last chance effect:
[02:36:27] [INFO] [LastChance]   - Time will be frozen (except player)
[02:36:27] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:36:27] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:36:27] [INFO] [LastChance]   - Brightness: 0.60
[02:36:27] [INFO] [LastChance] Pushed bullet @Area2D@2239 from distance 135.9 to 200.0
[02:36:27] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:36:27] [INFO] [LastChance] Set player Player and all 19 children to PROCESS_MODE_ALWAYS
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:36:27] [INFO] [LastChance] Skipping player node: Player
[02:36:27] [INFO] [LastChance] Froze existing bullet casing: Casing
[02:36:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2160
[02:36:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2161
[02:36:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2164
[02:36:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2167
[02:36:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2169
[02:36:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2172
[02:36:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2198
[02:36:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2200
[02:36:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2202
[02:36:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2204
[02:36:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2207
[02:36:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2211
[02:36:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2214
[02:36:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2217
[02:36:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2219
[02:36:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2221
[02:36:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2224
[02:36:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2226
[02:36:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2229
[02:36:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2235
[02:36:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2240
[02:36:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2243
[02:36:27] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:36:27] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:36:27] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:36:29] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:36:29] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:36:29] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:36:29] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:36:29] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:36:29] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:36:29] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:36:29] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:36:29] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:36:29] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:36:29] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1014.316, 671.987), source=PLAYER (Player), range=900, listeners=8
[02:36:29] [ENEMY] [Enemy1] Heard player RELOAD at (1014.316, 671.987), intensity=0.08, distance=639
[02:36:29] [ENEMY] [Enemy2] Heard player RELOAD at (1014.316, 671.987), intensity=0.10, distance=479
[02:36:29] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[02:36:29] [ENEMY] [Enemy5] Heard player RELOAD at (1014.316, 671.987), intensity=0.10, distance=489
[02:36:29] [ENEMY] [Enemy6] Heard player RELOAD at (1014.316, 671.987), intensity=0.07, distance=699
[02:36:29] [ENEMY] [Enemy7] Heard player RELOAD at (1014.316, 671.987), intensity=0.11, distance=462
[02:36:29] [ENEMY] [Enemy8] Heard player RELOAD at (1014.316, 671.987), intensity=0.06, distance=897
[02:36:29] [ENEMY] [Enemy10] Heard player RELOAD at (1014.316, 671.987), intensity=0.06, distance=775
[02:36:29] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=1, self=0, below_threshold=0
[02:36:29] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:36:29] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:36:29] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:36:29] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:36:29] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:36:29] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:36:29] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:36:29] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:36:29] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:36:29] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:36:29] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:36:29] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:36:30] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:36:31] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[02:36:33] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[02:36:33] [INFO] [LastChance] Ending last chance effect
[02:36:33] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=true
[02:36:33] [ENEMY] [Enemy1] Search mode: PURSUING -> SEARCHING at (895.9326, 699.8414)
[02:36:33] [ENEMY] [Enemy1] SEARCHING started: center=(895.9326, 699.8414), radius=100, waypoints=5
[02:36:33] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=true
[02:36:33] [ENEMY] [Enemy2] Search mode: PURSUING -> SEARCHING at (895.9326, 673.4412)
[02:36:33] [ENEMY] [Enemy2] SEARCHING started: center=(895.9326, 673.4412), radius=100, waypoints=5
[02:36:33] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=true
[02:36:33] [ENEMY] [Enemy5] Search mode: PURSUING -> SEARCHING at (1014.316, 671.987)
[02:36:33] [ENEMY] [Enemy5] SEARCHING started: center=(1014.316, 671.987), radius=100, waypoints=5
[02:36:33] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=true
[02:36:33] [ENEMY] [Enemy6] Search mode: PURSUING -> SEARCHING at (1014.316, 671.987)
[02:36:33] [ENEMY] [Enemy6] SEARCHING started: center=(1014.316, 671.987), radius=100, waypoints=5
[02:36:33] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=true
[02:36:33] [ENEMY] [Enemy7] Search mode: PURSUING -> SEARCHING at (1014.316, 671.987)
[02:36:33] [ENEMY] [Enemy7] SEARCHING started: center=(1014.316, 671.987), radius=100, waypoints=5
[02:36:33] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=true
[02:36:33] [ENEMY] [Enemy8] Search mode: FLANKING -> SEARCHING at (1014.316, 671.987)
[02:36:33] [ENEMY] [Enemy8] SEARCHING started: center=(1014.316, 671.987), radius=100, waypoints=5
[02:36:33] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=true
[02:36:33] [ENEMY] [Enemy9] Search mode: PURSUING -> SEARCHING at (700, 758.5334)
[02:36:33] [ENEMY] [Enemy9] SEARCHING started: center=(700, 758.5334), radius=100, waypoints=5
[02:36:33] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=true
[02:36:33] [ENEMY] [Enemy10] Search mode: PURSUING -> SEARCHING at (1014.316, 671.987)
[02:36:33] [ENEMY] [Enemy10] SEARCHING started: center=(1014.316, 671.987), radius=100, waypoints=5
[02:36:33] [INFO] [LastChance] Reset memory for 8 enemies (player teleport effect)
[02:36:33] [INFO] [LastChance] All process modes restored
[02:36:33] [INFO] [LastChance] Unfroze bullet casing: Casing
[02:36:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2160
[02:36:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2161
[02:36:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2164
[02:36:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2167
[02:36:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2169
[02:36:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2172
[02:36:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2198
[02:36:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2200
[02:36:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2202
[02:36:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2204
[02:36:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2207
[02:36:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2211
[02:36:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2214
[02:36:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2217
[02:36:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2219
[02:36:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2221
[02:36:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2224
[02:36:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2226
[02:36:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2229
[02:36:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2235
[02:36:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2240
[02:36:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2243
[02:36:33] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:36:33] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:36:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(600.9459, 657.202), shooter_id=756014908868, bullet_pos=(921.7189, 604.9548)
[02:36:33] [INFO] [Bullet] Using shooter_position, distance=325.000213623047
[02:36:33] [INFO] [Bullet] Distance to wall: 325.000213623047 (22.1298621682891% of viewport)
[02:36:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(596.0648, 653.9707), shooter_id=756014908868, bullet_pos=(1395.636, 801.7901)
[02:36:33] [INFO] [Bullet] Using shooter_position, distance=813.120300292969
[02:36:33] [INFO] [Bullet] Distance to wall: 813.120300292969 (55.3668564433374% of viewport)
[02:36:35] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:36:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1169.379, 432.0528), source=ENEMY (Enemy5), range=1469, listeners=8
[02:36:35] [ENEMY] [Enemy1] Heard gunshot at (1169.379, 432.0528), source_type=1, intensity=0.13, distance=396
[02:36:35] [ENEMY] [Enemy2] Heard gunshot at (1169.379, 432.0528), source_type=1, intensity=0.13, distance=377
[02:36:35] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:36:35] [ENEMY] [Enemy6] SEARCHING: Player spotted! Transitioning to COMBAT
[02:36:35] [ENEMY] [Enemy6] State: SEARCHING -> COMBAT
[02:36:35] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:36:35] [ENEMY] [Enemy5] SEARCHING: Player spotted! Transitioning to COMBAT
[02:36:35] [ENEMY] [Enemy5] State: SEARCHING -> COMBAT
[02:36:35] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:36:35] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:36:35] [INFO] [LastChance] Threat detected: Bullet
[02:36:35] [INFO] [LastChance] Effect already used this life
[02:36:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:35] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:36:35] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:36:35] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:36:35] [INFO] [LastChance] Player died
[02:36:35] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:36:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1148.655, 456.1122), source=ENEMY (Enemy5), range=1469, listeners=8
[02:36:35] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:36:35] [INFO] [LastChance] Threat detected: @Area2D@2254
[02:36:35] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1092.244, 663.2634), source=ENEMY (Enemy6), range=1469, listeners=8
[02:36:35] [ENEMY] [Enemy2] Heard gunshot at (1092.244, 663.2634), source_type=1, intensity=0.24, distance=205
[02:36:35] [ENEMY] [Enemy7] Heard gunshot at (1092.244, 663.2634), source_type=1, intensity=0.10, distance=479
[02:36:35] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:36:35] [INFO] [LastChance] Threat detected: Bullet
[02:36:35] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:35] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:36:35] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:36:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1123.634, 483.8208), source=ENEMY (Enemy5), range=1469, listeners=8
[02:36:35] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:36:35] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:36:35] [INFO] [LastChance] Threat detected: @Area2D@2257
[02:36:35] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:35] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:36:35] [ENEMY] [Enemy6] State: COMBAT -> RETREATING
[02:36:36] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[02:36:36] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[02:36:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.119, 539.2205), shooter_id=756870547890, bullet_pos=(916.5721, 724.7689)
[02:36:36] [INFO] [Bullet] Using shooter_position, distance=250.000198364258
[02:36:36] [INFO] [Bullet] Distance to wall: 250.000198364258 (17.0229732164509% of viewport)
[02:36:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:36] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:36:36] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:36:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.911, 495.6959), source=ENEMY (Enemy5), range=1469, listeners=8
[02:36:36] [ENEMY] [Enemy1] Heard gunshot at (1112.911, 495.6959), source_type=1, intensity=0.16, distance=310
[02:36:36] [ENEMY] [Enemy2] Heard gunshot at (1112.911, 495.6959), source_type=1, intensity=0.17, distance=293
[02:36:36] [ENEMY] [Enemy6] Heard gunshot at (1112.911, 495.6959), source_type=1, intensity=0.31, distance=160
[02:36:36] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:36:36] [ENEMY] [Enemy6] State: COMBAT -> RETREATING
[02:36:36] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[02:36:36] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:36:36] [INFO] [LastChance] Threat detected: Bullet
[02:36:36] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:36] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[02:36:36] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:36:36] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:36:36] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:36:36] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:36:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.911, 495.6959), source=ENEMY (Enemy5), range=1469, listeners=8
[02:36:36] [ENEMY] [Enemy1] Heard gunshot at (1112.911, 495.6959), source_type=1, intensity=0.16, distance=310
[02:36:36] [ENEMY] [Enemy2] Heard gunshot at (1112.911, 495.6959), source_type=1, intensity=0.17, distance=293
[02:36:36] [ENEMY] [Enemy6] Heard gunshot at (1112.911, 495.6959), source_type=1, intensity=0.34, distance=147
[02:36:36] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:36:36] [ENEMY] [Enemy6] State: COMBAT -> RETREATING
[02:36:36] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[02:36:36] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:36:36] [INFO] [LastChance] Threat detected: Bullet
[02:36:36] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:36] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[02:36:36] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:36:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.119, 539.2205), shooter_id=756870547890, bullet_pos=(1144.546, 1002.309)
[02:36:36] [INFO] [Bullet] Using shooter_position, distance=467.014678955078
[02:36:36] [INFO] [Bullet] Distance to wall: 467.014678955078 (31.799888254322% of viewport)
[02:36:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:36] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:36:36] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:36:36] [ENEMY] [Enemy8] SEARCHING: Player spotted! Transitioning to COMBAT
[02:36:36] [ENEMY] [Enemy8] State: SEARCHING -> COMBAT
[02:36:36] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:36:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.911, 495.6959), source=ENEMY (Enemy5), range=1469, listeners=8
[02:36:36] [ENEMY] [Enemy1] Heard gunshot at (1112.911, 495.6959), source_type=1, intensity=0.16, distance=310
[02:36:36] [ENEMY] [Enemy2] Heard gunshot at (1112.911, 495.6959), source_type=1, intensity=0.17, distance=293
[02:36:36] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:36:36] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[02:36:36] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:36:36] [INFO] [LastChance] Threat detected: Bullet
[02:36:36] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:36] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[02:36:36] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:36:36] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:36:36] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:36:36] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:36:36] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:36:36] [ENEMY] [Enemy1] Death animation component initialized
[02:36:36] [ENEMY] [Enemy2] Death animation component initialized
[02:36:36] [ENEMY] [Enemy3] Death animation component initialized
[02:36:36] [ENEMY] [Enemy4] Death animation component initialized
[02:36:36] [ENEMY] [Enemy5] Death animation component initialized
[02:36:36] [ENEMY] [Enemy6] Death animation component initialized
[02:36:36] [ENEMY] [Enemy7] Death animation component initialized
[02:36:36] [ENEMY] [Enemy8] Death animation component initialized
[02:36:36] [ENEMY] [Enemy9] Death animation component initialized
[02:36:36] [ENEMY] [Enemy10] Death animation component initialized
[02:36:36] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:36:36] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:36:36] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:36:36] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:36:36] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:36:36] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:36:36] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:36:36] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[02:36:36] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:36:36] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:36:36] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[02:36:36] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[02:36:36] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[02:36:36] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[02:36:36] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[02:36:36] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[02:36:36] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[02:36:36] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[02:36:36] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[02:36:36] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[02:36:36] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[02:36:36] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[02:36:36] [INFO] [ScoreManager] Level started with 10 enemies
[02:36:36] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[02:36:36] [ENEMY] [Enemy1] Registered as sound listener
[02:36:36] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:36:36] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[02:36:36] [ENEMY] [Enemy2] Registered as sound listener
[02:36:36] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:36:36] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[02:36:36] [ENEMY] [Enemy3] Registered as sound listener
[02:36:36] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:36:36] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[02:36:36] [ENEMY] [Enemy4] Registered as sound listener
[02:36:36] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:36:36] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[02:36:36] [ENEMY] [Enemy5] Registered as sound listener
[02:36:36] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:36:36] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[02:36:36] [ENEMY] [Enemy6] Registered as sound listener
[02:36:36] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:36:36] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[02:36:36] [ENEMY] [Enemy7] Registered as sound listener
[02:36:36] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:36:36] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[02:36:36] [ENEMY] [Enemy8] Registered as sound listener
[02:36:36] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:36:36] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[02:36:36] [ENEMY] [Enemy9] Registered as sound listener
[02:36:36] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:36:36] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[02:36:36] [ENEMY] [Enemy10] Registered as sound listener
[02:36:36] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:36:36] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:36:36] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:36:36] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:36:36] [INFO] [LastChance] Found player: Player
[02:36:36] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:36:36] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:36:36] [INFO] [LastChance] Connected to player Died signal (C#)
[02:36:36] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:36:36] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:36:36] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:36:36] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:36:36] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:36:36] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:36:36] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:36:36] [ENEMY] [Enemy1] Death animation component initialized
[02:36:36] [ENEMY] [Enemy2] Death animation component initialized
[02:36:36] [ENEMY] [Enemy3] Death animation component initialized
[02:36:36] [ENEMY] [Enemy4] Death animation component initialized
[02:36:36] [ENEMY] [Enemy5] Death animation component initialized
[02:36:36] [ENEMY] [Enemy6] Death animation component initialized
[02:36:36] [ENEMY] [Enemy7] Death animation component initialized
[02:36:36] [ENEMY] [Enemy8] Death animation component initialized
[02:36:36] [ENEMY] [Enemy9] Death animation component initialized
[02:36:36] [ENEMY] [Enemy10] Death animation component initialized
[02:36:36] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:36:36] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:36:36] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:36:36] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:36:36] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:36:36] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:36:36] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:36:36] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[02:36:36] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:36:36] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:36:36] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[02:36:36] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[02:36:36] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[02:36:36] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[02:36:36] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[02:36:36] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[02:36:36] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[02:36:36] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[02:36:36] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[02:36:36] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[02:36:36] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[02:36:36] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[02:36:36] [INFO] [ScoreManager] Level started with 10 enemies
[02:36:36] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 19)
[02:36:36] [ENEMY] [Enemy1] Registered as sound listener
[02:36:36] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:36:36] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 20)
[02:36:36] [ENEMY] [Enemy2] Registered as sound listener
[02:36:36] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:36:36] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 21)
[02:36:36] [ENEMY] [Enemy3] Registered as sound listener
[02:36:36] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:36:36] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 22)
[02:36:36] [ENEMY] [Enemy4] Registered as sound listener
[02:36:36] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:36:36] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 23)
[02:36:36] [ENEMY] [Enemy5] Registered as sound listener
[02:36:36] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:36:36] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 24)
[02:36:36] [ENEMY] [Enemy6] Registered as sound listener
[02:36:36] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[02:36:36] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 25)
[02:36:36] [ENEMY] [Enemy7] Registered as sound listener
[02:36:36] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:36:36] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 26)
[02:36:36] [ENEMY] [Enemy8] Registered as sound listener
[02:36:36] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:36:36] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 27)
[02:36:36] [ENEMY] [Enemy9] Registered as sound listener
[02:36:36] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:36:36] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 28)
[02:36:36] [ENEMY] [Enemy10] Registered as sound listener
[02:36:36] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:36:36] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:36:36] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:36:36] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:36:36] [INFO] [LastChance] Found player: Player
[02:36:36] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:36:36] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:36:36] [INFO] [LastChance] Connected to player Died signal (C#)
[02:36:36] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:36:36] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:36:36] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:36:38] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:36:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(474.0209, 780.6166), source=PLAYER (AssaultRifle), range=1469, listeners=28
[02:36:38] [INFO] [SoundPropagation] Cleaned up 18 invalid listeners
[02:36:38] [ENEMY] [Enemy1] Heard gunshot at (474.0209, 780.6166), source_type=0, intensity=0.11, distance=464
[02:36:38] [ENEMY] [Enemy2] Heard gunshot at (474.0209, 780.6166), source_type=0, intensity=0.21, distance=242
[02:36:38] [ENEMY] [Enemy4] Heard gunshot at (474.0209, 780.6166), source_type=0, intensity=0.14, distance=347
[02:36:38] [ENEMY] [Enemy5] Heard gunshot at (474.0209, 780.6166), source_type=0, intensity=0.04, distance=1299
[02:36:38] [ENEMY] [Enemy7] Heard gunshot at (474.0209, 780.6166), source_type=0, intensity=0.04, distance=1179
[02:36:38] [ENEMY] [Enemy10] Heard gunshot at (474.0209, 780.6166), source_type=0, intensity=0.05, distance=1083
[02:36:38] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=3, self=0, below_threshold=0
[02:36:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.6808, 752.7002), source=ENEMY (Enemy3), range=1469, listeners=10
[02:36:38] [ENEMY] [Enemy6] Heard gunshot at (689.6808, 752.7002), source_type=1, intensity=0.04, distance=1296
[02:36:38] [ENEMY] [Enemy8] Heard gunshot at (689.6808, 752.7002), source_type=1, intensity=0.04, distance=1397
[02:36:38] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:36:38] [INFO] [LastChance] Threat detected: @Area2D@2768
[02:36:38] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(503.9232, 759.8601), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:36:38] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=2, self=0, below_threshold=0
[02:36:38] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:36:38] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:36:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(474.02087, 780.6166), shooter_id=1018175687334, bullet_pos=(915.6852, 779.22626)
[02:36:38] [INFO] [Bullet] Using shooter_position, distance=441,6665
[02:36:38] [INFO] [Bullet] Distance to wall: 441,6665 (30,073885% of viewport)
[02:36:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:38] [INFO] [Bullet] Starting wall penetration at (915.6852, 779.22626)
[02:36:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.6808, 752.7002), source=ENEMY (Enemy3), range=1469, listeners=10
[02:36:38] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:36:38] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,351755
[02:36:38] [INFO] [LastChance] Threat detected: @Area2D@2772
[02:36:38] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:36:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:38] [ENEMY] [Enemy3] Hit taken, health: 2/3
[02:36:38] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[02:36:38] [INFO] [ImpactEffects] spawn_blood_effect called at (689.6808, 752.7002), dir=(1, 0), lethal=false
[02:36:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:36:38] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:36:38] [INFO] [ImpactEffects] Blood effect spawned at (689.6808, 752.7002) (scale=1)
[02:36:38] [INFO] [Bullet] Body exited signal received for penetrating body
[02:36:38] [INFO] [Bullet] Exiting penetration at (962.3516, 779.07935) after traveling 41,666668 pixels through wall
[02:36:38] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:36:38] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:36:38] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:36:38] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:36:38] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:36:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(537.8214, 754.0618), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:36:38] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=2, self=0, below_threshold=0
[02:36:38] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:36:38] [ENEMY] [Enemy3] Hit taken, health: 1/3
[02:36:38] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[02:36:38] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3469, 756.9537), dir=(1, 0), lethal=false
[02:36:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:36:38] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:36:38] [INFO] [ImpactEffects] Blood effect spawned at (689.3469, 756.9537) (scale=1)
[02:36:38] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:36:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[02:36:38] [INFO] [SoundPropagation] Sound result: notified=6, out_of_range=3, self=1, below_threshold=0
[02:36:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.0131, 761.2073), source=ENEMY (Enemy3), range=1469, listeners=10
[02:36:38] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:36:38] [INFO] [LastChance] Threat detected: @Area2D@2777
[02:36:38] [INFO] [LastChance] Triggering last chance effect!
[02:36:38] [INFO] [LastChance] Starting last chance effect:
[02:36:38] [INFO] [LastChance]   - Time will be frozen (except player)
[02:36:38] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:36:38] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:36:38] [INFO] [LastChance]   - Brightness: 0.60
[02:36:38] [INFO] [LastChance] Pushed bullet @Area2D@2777 from distance 55.3 to 200.0
[02:36:38] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:36:38] [INFO] [LastChance] Set player Player and all 19 children to PROCESS_MODE_ALWAYS
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:36:38] [INFO] [LastChance] Skipping player node: Player
[02:36:38] [INFO] [LastChance] Froze existing bullet casing: Casing
[02:36:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2769
[02:36:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2771
[02:36:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2773
[02:36:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2774
[02:36:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2776
[02:36:38] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:36:38] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:36:38] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:36:38] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2778
[02:36:38] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2778
[02:36:38] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2779
[02:36:38] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2779
[02:36:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(570.6524, 759.5189), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:36:38] [ENEMY] [Enemy3] Heard gunshot at (570.6524, 759.5189), source_type=0, intensity=0.42, distance=118
[02:36:38] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=1, self=0, below_threshold=0
[02:36:38] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2780
[02:36:38] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2780
[02:36:38] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2781
[02:36:38] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2781
[02:36:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(594.6854, 774.9436), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:36:38] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=1, self=0, below_threshold=0
[02:36:38] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2782
[02:36:38] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2782
[02:36:38] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2783
[02:36:38] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2783
[02:36:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(608.1754, 799.0435), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:36:38] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=1, self=0, below_threshold=0
[02:36:39] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2790
[02:36:39] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2790
[02:36:39] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2791
[02:36:39] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2791
[02:36:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(631.5743, 985.2504), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:36:39] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=1, self=0, below_threshold=0
[02:36:39] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2792
[02:36:39] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2792
[02:36:39] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2793
[02:36:39] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2793
[02:36:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(657.8703, 989.9338), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:36:39] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=1, self=0, below_threshold=0
[02:36:39] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2794
[02:36:39] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2794
[02:36:39] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2795
[02:36:39] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2795
[02:36:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(692.9052, 989.9338), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:36:39] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=1, self=0, below_threshold=0
[02:36:40] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2796
[02:36:40] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2796
[02:36:40] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2797
[02:36:40] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2797
[02:36:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(728.1053, 989.9338), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:36:40] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=1, self=0, below_threshold=0
[02:36:41] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2798
[02:36:41] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2798
[02:36:41] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2799
[02:36:41] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2799
[02:36:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(819.2401, 798.3001), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:36:41] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=1, self=0, below_threshold=0
[02:36:41] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2800
[02:36:41] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2800
[02:36:41] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2801
[02:36:41] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2801
[02:36:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(819.2401, 763.0999), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:36:41] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=1, self=0, below_threshold=0
[02:36:43] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:36:43] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:36:43] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:36:43] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[02:36:43] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:36:43] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:36:43] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:36:43] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:36:43] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:36:43] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:36:43] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:36:43] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(952.0005, 677.3585), source=PLAYER (Player), range=900, listeners=10
[02:36:43] [ENEMY] [Enemy1] Heard player RELOAD at (952.0005, 677.3585), intensity=0.07, distance=736
[02:36:43] [ENEMY] [Enemy2] Heard player RELOAD at (952.0005, 677.3585), intensity=0.09, distance=567
[02:36:43] [ENEMY] [Enemy3] Heard player RELOAD at (952.0005, 677.3585), intensity=0.18, distance=277
[02:36:43] [ENEMY] [Enemy4] Heard player RELOAD at (952.0005, 677.3585), intensity=0.16, distance=309
[02:36:43] [ENEMY] [Enemy5] Heard player RELOAD at (952.0005, 677.3585), intensity=0.07, distance=725
[02:36:43] [ENEMY] [Enemy7] Heard player RELOAD at (952.0005, 677.3585), intensity=0.08, distance=632
[02:36:43] [ENEMY] [Enemy10] Heard player RELOAD at (952.0005, 677.3585), intensity=0.06, distance=850
[02:36:43] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=3, self=0, below_threshold=0
[02:36:43] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:36:43] [INFO] [Player.Reload.Anim] LeftArm: pos=(10.594093, 5.291334), target=(12, 6), base=(24, 6)
[02:36:43] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.0016823, 7.644043), target=(-2, 8), base=(-2, 6)
[02:36:43] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:36:43] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:36:43] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:36:43] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[02:36:43] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:36:43] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:36:43] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:36:43] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:36:43] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:36:43] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:36:43] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:36:43] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:36:43] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:36:44] [INFO] [LastChance] Effect duration expired after 6.01 real seconds
[02:36:44] [INFO] [LastChance] Ending last chance effect
[02:36:44] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=true
[02:36:44] [ENEMY] [Enemy1] Search mode: COMBAT -> SEARCHING at (474.0209, 780.6166)
[02:36:44] [ENEMY] [Enemy1] SEARCHING started: center=(474.0209, 780.6166), radius=100, waypoints=5
[02:36:44] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=true
[02:36:44] [ENEMY] [Enemy2] Search mode: COMBAT -> SEARCHING at (562.9968, 751.0182)
[02:36:44] [ENEMY] [Enemy2] SEARCHING started: center=(562.9968, 751.0182), radius=100, waypoints=5
[02:36:44] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=true
[02:36:44] [ENEMY] [Enemy3] Search mode: COMBAT -> SEARCHING at (562.9968, 751.0182)
[02:36:44] [ENEMY] [Enemy3] SEARCHING started: center=(562.9968, 751.0182), radius=100, waypoints=5
[02:36:44] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=true
[02:36:44] [ENEMY] [Enemy4] Search mode: COMBAT -> SEARCHING at (474.0209, 780.6166)
[02:36:44] [ENEMY] [Enemy4] SEARCHING started: center=(474.0209, 780.6166), radius=100, waypoints=5
[02:36:44] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=true
[02:36:44] [ENEMY] [Enemy5] Search mode: COMBAT -> SEARCHING at (474.0209, 780.6166)
[02:36:44] [ENEMY] [Enemy5] SEARCHING started: center=(474.0209, 780.6166), radius=100, waypoints=5
[02:36:44] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=true
[02:36:44] [ENEMY] [Enemy6] Search mode: COMBAT -> SEARCHING at (689.6808, 752.7002)
[02:36:44] [ENEMY] [Enemy6] SEARCHING started: center=(689.6808, 752.7002), radius=100, waypoints=5
[02:36:44] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=true
[02:36:44] [ENEMY] [Enemy7] Search mode: COMBAT -> SEARCHING at (474.0209, 780.6166)
[02:36:44] [ENEMY] [Enemy7] SEARCHING started: center=(474.0209, 780.6166), radius=100, waypoints=5
[02:36:44] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=true
[02:36:44] [ENEMY] [Enemy8] Search mode: COMBAT -> SEARCHING at (689.6808, 752.7002)
[02:36:44] [ENEMY] [Enemy8] SEARCHING started: center=(689.6808, 752.7002), radius=100, waypoints=5
[02:36:44] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[02:36:44] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=true
[02:36:44] [ENEMY] [Enemy10] Search mode: COMBAT -> SEARCHING at (474.0209, 780.6166)
[02:36:44] [ENEMY] [Enemy10] SEARCHING started: center=(474.0209, 780.6166), radius=100, waypoints=5
[02:36:44] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[02:36:44] [INFO] [LastChance] All process modes restored
[02:36:44] [INFO] [LastChance] Unfroze player bullet: @Area2D@2778
[02:36:44] [INFO] [LastChance] Unfroze player bullet: @Area2D@2780
[02:36:44] [INFO] [LastChance] Unfroze player bullet: @Area2D@2782
[02:36:44] [INFO] [LastChance] Unfroze player bullet: @Area2D@2790
[02:36:44] [INFO] [LastChance] Unfroze player bullet: @Area2D@2792
[02:36:44] [INFO] [LastChance] Unfroze player bullet: @Area2D@2794
[02:36:44] [INFO] [LastChance] Unfroze player bullet: @Area2D@2796
[02:36:44] [INFO] [LastChance] Unfroze player bullet: @Area2D@2798
[02:36:44] [INFO] [LastChance] Unfroze player bullet: @Area2D@2800
[02:36:44] [INFO] [LastChance] Unfroze bullet casing: Casing
[02:36:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2769
[02:36:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2771
[02:36:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2773
[02:36:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2774
[02:36:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2776
[02:36:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2779
[02:36:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2781
[02:36:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2783
[02:36:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2791
[02:36:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2793
[02:36:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2795
[02:36:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2797
[02:36:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2799
[02:36:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2801
[02:36:44] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:36:44] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:36:44] [ENEMY] [Enemy3] Hit taken, health: 0/3
[02:36:44] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[02:36:44] [INFO] [ImpactEffects] spawn_blood_effect called at (683.7372, 762.834), dir=(1, 0), lethal=true
[02:36:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:36:44] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[02:36:44] [INFO] [ImpactEffects] Blood effect spawned at (683.7372, 762.834) (scale=1.5)
[02:36:44] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:36:44] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:36:44] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[02:36:44] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:36:44] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[02:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(819.2401, 798.3001), shooter_id=1018175687334, bullet_pos=(711.46674, 809.3009)
[02:36:44] [INFO] [Bullet] Using shooter_position, distance=108,33337
[02:36:44] [INFO] [Bullet] Distance to wall: 108,33337 (7,376619% of viewport)
[02:36:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:44] [ENEMY] [Enemy4] Hit taken, health: 1/2
[02:36:44] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[02:36:44] [INFO] [ImpactEffects] spawn_blood_effect called at (743.6179, 914.0595), dir=(1, 0), lethal=false
[02:36:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:36:44] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:36:44] [INFO] [ImpactEffects] Blood effect spawned at (743.6179, 914.0595) (scale=1)
[02:36:44] [ENEMY] [Enemy4] Hit taken, health: 0/2
[02:36:44] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[02:36:44] [INFO] [ImpactEffects] spawn_blood_effect called at (743.6179, 914.0595), dir=(1, 0), lethal=true
[02:36:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:36:44] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[02:36:44] [INFO] [ImpactEffects] Blood effect spawned at (743.6179, 914.0595) (scale=1.5)
[02:36:44] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[02:36:44] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[02:36:44] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[02:36:44] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:36:44] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[02:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(728.10535, 989.9338), shooter_id=1018175687334, bullet_pos=(916.7088, 789.7997)
[02:36:44] [INFO] [Bullet] Using shooter_position, distance=274,99985
[02:36:44] [INFO] [Bullet] Distance to wall: 274,99985 (18,725246% of viewport)
[02:36:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(621.0043, 763.5338), shooter_id=1015357115121, bullet_pos=(512.9091, 804.4167)
[02:36:44] [INFO] [Bullet] Using shooter_position, distance=115.568176269531
[02:36:44] [INFO] [Bullet] Distance to wall: 115.568176269531 (7.86924963332979% of viewport)
[02:36:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:44] [INFO] [Bullet] Starting wall penetration at (512.9091, 804.4167)
[02:36:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25.4112911224365
[02:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(819.2401, 763.0999), shooter_id=1018175687334, bullet_pos=(516.03955, 819.1254)
[02:36:44] [INFO] [Bullet] Using shooter_position, distance=308,3333
[02:36:44] [INFO] [Bullet] Distance to wall: 308,3333 (20,994984% of viewport)
[02:36:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(608.17535, 799.0435), shooter_id=1018175687334, bullet_pos=(916.0044, 781.41907)
[02:36:44] [INFO] [Bullet] Using shooter_position, distance=308,33316
[02:36:44] [INFO] [Bullet] Distance to wall: 308,33316 (20,994972% of viewport)
[02:36:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:44] [INFO] [Bullet] Starting wall penetration at (916.0044, 781.41907)
[02:36:44] [INFO] [Bullet] Body exited signal received for penetrating body
[02:36:44] [INFO] [Bullet] Exiting penetration at (474.6143, 806.1353) after traveling 33.3333358764648 pixels through wall
[02:36:44] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:36:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,304953
[02:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(819.2401, 798.3001), shooter_id=1018175687334, bullet_pos=(508.4813, 821.18823)
[02:36:44] [INFO] [Bullet] Using shooter_position, distance=311,60056
[02:36:44] [INFO] [Bullet] Distance to wall: 311,60056 (21,217455% of viewport)
[02:36:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:44] [INFO] [Bullet] Starting wall penetration at (508.4813, 821.18823)
[02:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(570.6524, 759.51886), shooter_id=1018175687334, bullet_pos=(910.0724, 798.637)
[02:36:44] [INFO] [Bullet] Using shooter_position, distance=341,66672
[02:36:44] [INFO] [Bullet] Distance to wall: 341,66672 (23,264715% of viewport)
[02:36:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:44] [INFO] [Bullet] Body exited signal received for penetrating body
[02:36:44] [INFO] [Bullet] Exiting penetration at (954.275, 779.2279) after traveling 33,333332 pixels through wall
[02:36:44] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:36:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24,837524
[02:36:44] [INFO] [Bullet] Body exited signal received for penetrating body
[02:36:44] [INFO] [Bullet] Exiting penetration at (475.20496, 823.13696) after traveling 28,333336 pixels through wall
[02:36:44] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(819.2401, 763.0999), shooter_id=1018175687334, bullet_pos=(691.0277, 821.163)
[02:36:44] [INFO] [Bullet] Using shooter_position, distance=140,74709
[02:36:44] [INFO] [Bullet] Distance to wall: 140,74709 (9,583728% of viewport)
[02:36:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:44] [INFO] [Bullet] Starting wall penetration at (691.0277, 821.163)
[02:36:44] [INFO] [Bullet] Body exited signal received for penetrating body
[02:36:44] [INFO] [Bullet] Exiting penetration at (724.35876, 821.55115) after traveling 0 pixels through wall
[02:36:44] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:36:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(436.5175, 607.4201), shooter_id=1015071901736, bullet_pos=(761.9258, 1008.735)
[02:36:44] [INFO] [Bullet] Using shooter_position, distance=516.666625976563
[02:36:44] [INFO] [Bullet] Distance to wall: 516.666625976563 (35.1807806288946% of viewport)
[02:36:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:44] [INFO] [Bullet] Starting wall penetration at (761.9258, 1008.735)
[02:36:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18.6808433532715
[02:36:44] [INFO] [Bullet] Body exited signal received for penetrating body
[02:36:44] [INFO] [Bullet] Exiting penetration at (786.069, 1038.51) after traveling 33.3333320617676 pixels through wall
[02:36:44] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:36:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(728.10535, 989.9338), shooter_id=1018175687334, bullet_pos=(526.3953, 297.39954)
[02:36:45] [INFO] [Bullet] Using shooter_position, distance=721,31177
[02:36:45] [INFO] [Bullet] Distance to wall: 721,31177 (49,115448% of viewport)
[02:36:45] [ENEMY] [Enemy3] Ragdoll activated
[02:36:45] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:36:45] [ENEMY] [Enemy4] Ragdoll activated
[02:36:45] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:36:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(728.10535, 989.9338), shooter_id=1018175687334, bullet_pos=(738.8505, 60.672184)
[02:36:45] [INFO] [Bullet] Using shooter_position, distance=929,3237
[02:36:45] [INFO] [Bullet] Distance to wall: 929,3237 (63,279366% of viewport)
[02:36:46] [ENEMY] [Enemy3] Death animation completed
[02:36:46] [ENEMY] [Enemy4] Death animation completed
[02:36:47] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:36:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1273.127, 227.8539), source=ENEMY (Enemy5), range=1469, listeners=8
[02:36:47] [INFO] [SoundPropagation] Sound result: notified=6, out_of_range=1, self=1, below_threshold=0
[02:36:47] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:36:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1379.415, 648.0021), source=ENEMY (Enemy6), range=1469, listeners=8
[02:36:47] [ENEMY] [Enemy5] Heard gunshot at (1379.415, 648.0021), source_type=1, intensity=0.12, distance=433
[02:36:47] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:36:47] [ENEMY] [Enemy6] SEARCHING: Player spotted! Transitioning to COMBAT
[02:36:47] [ENEMY] [Enemy6] State: SEARCHING -> COMBAT
[02:36:47] [INFO] [LastChance] Threat detected: @Area2D@2854
[02:36:47] [INFO] [LastChance] Effect already used this life
[02:36:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:47] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:36:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1254.152, 253.4102), source=ENEMY (Enemy5), range=1469, listeners=8
[02:36:47] [INFO] [SoundPropagation] Sound result: notified=6, out_of_range=1, self=1, below_threshold=0
[02:36:47] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:36:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1351.026, 641.0516), source=ENEMY (Enemy6), range=1469, listeners=8
[02:36:47] [ENEMY] [Enemy9] Heard gunshot at (1351.026, 641.0516), source_type=1, intensity=0.04, distance=1178
[02:36:47] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:36:47] [INFO] [LastChance] Threat detected: Bullet
[02:36:47] [INFO] [LastChance] Effect already used this life
[02:36:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:47] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:36:47] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:36:47] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:36:47] [INFO] [LastChance] Player died
[02:36:47] [INFO] [LastChance] Threat detected: @Area2D@2858
[02:36:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:47] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:36:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1234.341, 281.2066), source=ENEMY (Enemy5), range=1469, listeners=8
[02:36:47] [INFO] [SoundPropagation] Sound result: notified=6, out_of_range=1, self=1, below_threshold=0
[02:36:47] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:36:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1318.934, 629.5331), source=ENEMY (Enemy6), range=1469, listeners=8
[02:36:47] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:36:47] [INFO] [LastChance] Threat detected: @Area2D@2856
[02:36:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:47] [INFO] [LastChance] Threat detected: @Area2D@2861
[02:36:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:47] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:36:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1214.531, 309.003), source=ENEMY (Enemy5), range=1469, listeners=8
[02:36:47] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:36:47] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:36:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1285.322, 632.112), source=ENEMY (Enemy6), range=1469, listeners=8
[02:36:47] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:36:47] [INFO] [LastChance] Threat detected: Bullet
[02:36:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:47] [INFO] [LastChance] Threat detected: @Area2D@2865
[02:36:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:47] [INFO] [LastChance] Threat detected: @Area2D@2863
[02:36:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:47] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:36:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1194.72, 336.7994), source=ENEMY (Enemy5), range=1469, listeners=8
[02:36:47] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:36:47] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:36:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1251.498, 636.701), source=ENEMY (Enemy6), range=1469, listeners=8
[02:36:47] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:36:47] [INFO] [LastChance] Threat detected: @Area2D@2868
[02:36:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:47] [INFO] [LastChance] Threat detected: Bullet
[02:36:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1185.561, 653.5188), shooter_id=1016212752388, bullet_pos=(937.8307, 687.1304)
[02:36:47] [INFO] [Bullet] Using shooter_position, distance=249.999938964844
[02:36:47] [INFO] [Bullet] Distance to wall: 249.999938964844 (17.0229555534678% of viewport)
[02:36:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:47] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:36:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1173.672, 366.3331), source=ENEMY (Enemy5), range=1469, listeners=8
[02:36:47] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:36:47] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:36:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1217.628, 647.5434), source=ENEMY (Enemy6), range=1469, listeners=8
[02:36:47] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:36:47] [INFO] [LastChance] Threat detected: @Area2D@2873
[02:36:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:36:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:36:47] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:36:47] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:36:47] [ENEMY] [Enemy1] Death animation component initialized
[02:36:47] [ENEMY] [Enemy2] Death animation component initialized
[02:36:47] [ENEMY] [Enemy3] Death animation component initialized
[02:36:47] [ENEMY] [Enemy4] Death animation component initialized
[02:36:47] [ENEMY] [Enemy5] Death animation component initialized
[02:36:47] [ENEMY] [Enemy6] Death animation component initialized
[02:36:47] [ENEMY] [Enemy7] Death animation component initialized
[02:36:47] [ENEMY] [Enemy8] Death animation component initialized
[02:36:47] [ENEMY] [Enemy9] Death animation component initialized
[02:36:47] [ENEMY] [Enemy10] Death animation component initialized
[02:36:47] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:36:47] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:36:47] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:36:47] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:36:47] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:36:47] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:36:47] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:36:47] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[02:36:47] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:36:47] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:36:47] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[02:36:47] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[02:36:47] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[02:36:47] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[02:36:47] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[02:36:47] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[02:36:47] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[02:36:47] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[02:36:47] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[02:36:47] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[02:36:47] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[02:36:47] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[02:36:47] [INFO] [ScoreManager] Level started with 10 enemies
[02:36:47] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[02:36:47] [ENEMY] [Enemy1] Registered as sound listener
[02:36:47] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:36:47] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[02:36:47] [ENEMY] [Enemy2] Registered as sound listener
[02:36:47] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:36:47] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[02:36:47] [ENEMY] [Enemy3] Registered as sound listener
[02:36:47] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:36:47] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[02:36:47] [ENEMY] [Enemy4] Registered as sound listener
[02:36:47] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:36:47] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[02:36:47] [ENEMY] [Enemy5] Registered as sound listener
[02:36:47] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:36:47] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[02:36:47] [ENEMY] [Enemy6] Registered as sound listener
[02:36:47] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:36:47] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[02:36:47] [ENEMY] [Enemy7] Registered as sound listener
[02:36:47] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:36:47] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[02:36:47] [ENEMY] [Enemy8] Registered as sound listener
[02:36:47] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:36:47] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[02:36:47] [ENEMY] [Enemy9] Registered as sound listener
[02:36:47] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:36:47] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[02:36:47] [ENEMY] [Enemy10] Registered as sound listener
[02:36:47] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:36:48] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:36:48] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:36:48] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:36:48] [INFO] [LastChance] Found player: Player
[02:36:48] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:36:48] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:36:48] [INFO] [LastChance] Connected to player Died signal (C#)
[02:36:48] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:36:48] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:36:48] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:36:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(453.0796, 793.9423), source=PLAYER (AssaultRifle), range=1469, listeners=18
[02:36:49] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[02:36:49] [ENEMY] [Enemy1] Heard gunshot at (453.0796, 793.9423), source_type=0, intensity=0.11, distance=470
[02:36:49] [ENEMY] [Enemy2] Heard gunshot at (453.0796, 793.9423), source_type=0, intensity=0.20, distance=250
[02:36:49] [ENEMY] [Enemy3] Heard gunshot at (453.0796, 793.9423), source_type=0, intensity=0.20, distance=251
[02:36:49] [ENEMY] [Enemy4] Heard gunshot at (453.0796, 793.9423), source_type=0, intensity=0.14, distance=363
[02:36:49] [ENEMY] [Enemy5] Heard gunshot at (453.0796, 793.9423), source_type=0, intensity=0.04, distance=1324
[02:36:49] [ENEMY] [Enemy7] Heard gunshot at (453.0796, 793.9423), source_type=0, intensity=0.04, distance=1202
[02:36:49] [ENEMY] [Enemy10] Heard gunshot at (453.0796, 793.9423), source_type=0, intensity=0.05, distance=1089
[02:36:49] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=3, self=0, below_threshold=0
[02:36:49] [ENEMY] [Enemy3] Hit taken, health: 1/2
[02:36:49] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[02:36:49] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[02:36:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:36:49] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:36:49] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[02:36:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(467.6846, 765.9553), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:36:49] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=3, self=0, below_threshold=0
[02:36:49] [ENEMY] [Enemy3] Hit taken, health: 0/2
[02:36:49] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[02:36:49] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=true
[02:36:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:36:49] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[02:36:49] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.5)
[02:36:49] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:36:49] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:36:49] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[02:36:49] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:36:49] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[02:36:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(490.2034, 750.3859), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:36:49] [INFO] [SoundPropagation] Sound result: notified=6, out_of_range=3, self=0, below_threshold=0
[02:36:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(490.2034, 750.38586), shooter_id=1148098448464, bullet_pos=(914.0327, 718.8649)
[02:36:50] [INFO] [Bullet] Using shooter_position, distance=424,99982
[02:36:50] [INFO] [Bullet] Distance to wall: 424,99982 (28,93902% of viewport)
[02:36:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:36:50] [INFO] [Bullet] Starting wall penetration at (914.0327, 718.8649)
[02:36:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,305347
[02:36:50] [INFO] [Bullet] Body exited signal received for penetrating body
[02:36:50] [INFO] [Bullet] Exiting penetration at (952.26044, 716.02185) after traveling 33,333336 pixels through wall
[02:36:50] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:36:50] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:36:50] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:36:50] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:36:50] [ENEMY] [Enemy5] State: COMBAT -> PURSUING
[02:36:50] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[02:36:50] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:36:50] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:36:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(723.5121, 914.0653), source=ENEMY (Enemy4), range=1469, listeners=9
[02:36:50] [ENEMY] [Enemy6] Heard gunshot at (723.5121, 914.0653), source_type=1, intensity=0.04, distance=1311
[02:36:50] [ENEMY] [Enemy8] Heard gunshot at (723.5121, 914.0653), source_type=1, intensity=0.04, distance=1293
[02:36:50] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=1, self=1, below_threshold=0
[02:36:50] [INFO] [LastChance] Threat detected: Bullet
[02:36:50] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:50] [ENEMY] [Enemy3] Ragdoll activated
[02:36:50] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:36:50] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[02:36:50] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[02:36:50] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:36:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(723.5121, 914.0653), source=ENEMY (Enemy4), range=1469, listeners=9
[02:36:50] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=1, self=1, below_threshold=0
[02:36:50] [INFO] [LastChance] Threat detected: Bullet
[02:36:50] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:36:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:50] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:36:50] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:36:50] [ENEMY] [Enemy9] Memory: medium confidence (0.61) - transitioning to PURSUING
[02:36:50] [ENEMY] [Enemy9] State: IDLE -> PURSUING
[02:36:50] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[02:36:50] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:36:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(723.5121, 914.0653), source=ENEMY (Enemy4), range=1469, listeners=9
[02:36:50] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=1, self=1, below_threshold=0
[02:36:50] [INFO] [LastChance] Threat detected: Bullet
[02:36:50] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:36:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:50] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:36:50] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:36:50] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:36:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(723.5121, 914.0653), source=ENEMY (Enemy4), range=1469, listeners=9
[02:36:50] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=1, self=1, below_threshold=0
[02:36:50] [INFO] [LastChance] Threat detected: Bullet
[02:36:50] [INFO] [LastChance] Triggering last chance effect!
[02:36:50] [INFO] [LastChance] Starting last chance effect:
[02:36:50] [INFO] [LastChance]   - Time will be frozen (except player)
[02:36:50] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:36:50] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:36:50] [INFO] [LastChance]   - Brightness: 0.60
[02:36:50] [INFO] [LastChance] Pushed bullet Bullet from distance 102.3 to 200.0
[02:36:50] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:36:50] [INFO] [LastChance] Set player Player and all 19 children to PROCESS_MODE_ALWAYS
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:36:50] [INFO] [LastChance] Skipping player node: Player
[02:36:50] [INFO] [LastChance] Froze existing bullet casing: Casing
[02:36:50] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3127
[02:36:50] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3129
[02:36:50] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3135
[02:36:50] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3148
[02:36:50] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3152
[02:36:50] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3154
[02:36:50] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:36:50] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:36:50] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:36:50] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3155
[02:36:50] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3155
[02:36:50] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3156
[02:36:50] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3156
[02:36:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(561.3482, 931.5505), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:36:50] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=0, below_threshold=0
[02:36:51] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3157
[02:36:51] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3157
[02:36:51] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3158
[02:36:51] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3158
[02:36:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(584.4364, 957.1871), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:36:51] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=0, below_threshold=0
[02:36:51] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3159
[02:36:51] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3159
[02:36:51] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3160
[02:36:51] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3160
[02:36:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(610.1429, 980.1063), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:36:51] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=0, below_threshold=0
[02:36:51] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3161
[02:36:51] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3161
[02:36:51] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3162
[02:36:51] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3162
[02:36:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(640.7162, 989.9334), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:36:51] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=0, below_threshold=0
[02:36:51] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3163
[02:36:51] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3163
[02:36:51] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3164
[02:36:51] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3164
[02:36:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(675.9164, 989.9334), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:36:51] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=0, below_threshold=0
[02:36:51] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3165
[02:36:51] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3165
[02:36:51] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3166
[02:36:51] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3166
[02:36:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(711.1166, 989.9334), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:36:51] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=0, below_threshold=0
[02:36:52] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:36:52] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:36:52] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:36:52] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:36:52] [INFO] [LastChance] Ending last chance effect
[02:36:52] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[02:36:52] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[02:36:52] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[02:36:52] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[02:36:52] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[02:36:52] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[02:36:52] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[02:36:52] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[02:36:52] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[02:36:52] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[02:36:52] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[02:36:52] [INFO] [LastChance] All process modes restored
[02:36:52] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:36:52] [ENEMY] [Enemy1] Death animation component initialized
[02:36:52] [ENEMY] [Enemy2] Death animation component initialized
[02:36:52] [ENEMY] [Enemy3] Death animation component initialized
[02:36:52] [ENEMY] [Enemy4] Death animation component initialized
[02:36:52] [ENEMY] [Enemy5] Death animation component initialized
[02:36:52] [ENEMY] [Enemy6] Death animation component initialized
[02:36:52] [ENEMY] [Enemy7] Death animation component initialized
[02:36:52] [ENEMY] [Enemy8] Death animation component initialized
[02:36:52] [ENEMY] [Enemy9] Death animation component initialized
[02:36:52] [ENEMY] [Enemy10] Death animation component initialized
[02:36:52] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:36:52] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:36:52] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:36:52] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:36:52] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:36:52] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:36:52] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:36:52] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[02:36:52] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:36:52] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:36:52] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[02:36:52] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[02:36:52] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[02:36:52] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[02:36:52] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[02:36:52] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[02:36:52] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[02:36:52] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[02:36:52] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[02:36:52] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[02:36:52] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[02:36:52] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[02:36:52] [INFO] [ScoreManager] Level started with 10 enemies
[02:36:52] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[02:36:52] [ENEMY] [Enemy1] Registered as sound listener
[02:36:52] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:36:52] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[02:36:52] [ENEMY] [Enemy2] Registered as sound listener
[02:36:52] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:36:52] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[02:36:52] [ENEMY] [Enemy3] Registered as sound listener
[02:36:52] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:36:52] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[02:36:52] [ENEMY] [Enemy4] Registered as sound listener
[02:36:52] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:36:52] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[02:36:52] [ENEMY] [Enemy5] Registered as sound listener
[02:36:52] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:36:52] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[02:36:52] [ENEMY] [Enemy6] Registered as sound listener
[02:36:52] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:36:52] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[02:36:52] [ENEMY] [Enemy7] Registered as sound listener
[02:36:52] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:36:52] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[02:36:52] [ENEMY] [Enemy8] Registered as sound listener
[02:36:52] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:36:52] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[02:36:52] [ENEMY] [Enemy9] Registered as sound listener
[02:36:52] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:36:52] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[02:36:52] [ENEMY] [Enemy10] Registered as sound listener
[02:36:52] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:36:52] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:36:52] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:36:52] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:36:52] [INFO] [LastChance] Found player: Player
[02:36:52] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:36:52] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:36:52] [INFO] [LastChance] Connected to player Died signal (C#)
[02:36:52] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:36:52] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:36:52] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:36:53] [INFO] [Player] Invincibility mode: ON
[02:36:53] [INFO] [GameManager] Invincibility mode toggled: ON
[02:36:55] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:36:55] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:36:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1150.763, 1574.928), source=ENEMY (Enemy10), range=1469, listeners=19
[02:36:55] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[02:36:55] [ENEMY] [Enemy2] Heard gunshot at (1150.763, 1574.928), source_type=1, intensity=0.04, distance=1270
[02:36:55] [ENEMY] [Enemy3] Heard gunshot at (1150.763, 1574.928), source_type=1, intensity=0.05, distance=940
[02:36:55] [ENEMY] [Enemy4] Heard gunshot at (1150.763, 1574.928), source_type=1, intensity=0.07, distance=761
[02:36:55] [ENEMY] [Enemy5] Heard gunshot at (1150.763, 1574.928), source_type=1, intensity=0.04, distance=1342
[02:36:55] [ENEMY] [Enemy6] Heard gunshot at (1150.763, 1574.928), source_type=1, intensity=0.04, distance=1380
[02:36:55] [ENEMY] [Enemy7] Heard gunshot at (1150.763, 1574.928), source_type=1, intensity=0.06, distance=869
[02:36:55] [ENEMY] [Enemy8] Heard gunshot at (1150.763, 1574.928), source_type=1, intensity=0.07, distance=760
[02:36:55] [ENEMY] [Enemy9] Heard gunshot at (1150.763, 1574.928), source_type=1, intensity=0.05, distance=950
[02:36:55] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:36:55] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:36:55] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:36:55] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:36:55] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:36:55] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:36:55] [ENEMY] [Enemy5] State: COMBAT -> PURSUING
[02:36:55] [ENEMY] [Enemy6] State: COMBAT -> PURSUING
[02:36:55] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[02:36:55] [ENEMY] [Enemy8] State: COMBAT -> PURSUING
[02:36:55] [ENEMY] [Enemy9] State: COMBAT -> PURSUING
[02:36:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1093.517, 1538.138), shooter_id=1241564317010, bullet_pos=(61.86918, 693.4588)
[02:36:55] [INFO] [Bullet] Using shooter_position, distance=1333.33422851563
[02:36:55] [INFO] [Bullet] Distance to wall: 1333.33422851563 (90.7891794050822% of viewport)
[02:36:57] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:36:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1093.517, 1538.138), shooter_id=1241564317010, bullet_pos=(287.5396, 461.3234)
[02:36:57] [INFO] [Bullet] Using shooter_position, distance=1345.03857421875
[02:36:57] [INFO] [Bullet] Distance to wall: 1345.03857421875 (91.586149826402% of viewport)
[02:36:57] [INFO] [Bullet] Distance-based penetration chance: 39.8161585358644%
[02:36:57] [INFO] [Bullet] Penetration failed (distance roll)
[02:36:57] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[02:36:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(646.9326, 794.4742), source=ENEMY (Enemy3), range=1469, listeners=10
[02:36:58] [ENEMY] [Enemy1] Heard gunshot at (646.9326, 794.4742), source_type=1, intensity=0.09, distance=564
[02:36:58] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:36:58] [INFO] [LastChance] Threat detected: Bullet
[02:36:58] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:36:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:36:58] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:36:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(646.9326, 794.4742), source=ENEMY (Enemy3), range=1469, listeners=10
[02:36:58] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:36:58] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:36:58] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:36:58] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:36:58] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:36:58] [ENEMY] [Enemy1] Death animation component initialized
[02:36:58] [ENEMY] [Enemy2] Death animation component initialized
[02:36:58] [ENEMY] [Enemy3] Death animation component initialized
[02:36:58] [ENEMY] [Enemy4] Death animation component initialized
[02:36:58] [ENEMY] [Enemy5] Death animation component initialized
[02:36:58] [ENEMY] [Enemy6] Death animation component initialized
[02:36:58] [ENEMY] [Enemy7] Death animation component initialized
[02:36:58] [ENEMY] [Enemy8] Death animation component initialized
[02:36:58] [ENEMY] [Enemy9] Death animation component initialized
[02:36:58] [ENEMY] [Enemy10] Death animation component initialized
[02:36:58] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:36:58] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:36:58] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:36:58] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:36:58] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:36:58] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:36:58] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:36:58] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[02:36:58] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:36:58] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:36:58] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[02:36:58] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[02:36:58] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[02:36:58] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[02:36:58] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[02:36:58] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[02:36:58] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[02:36:58] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[02:36:58] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[02:36:58] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[02:36:58] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[02:36:58] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[02:36:58] [INFO] [ScoreManager] Level started with 10 enemies
[02:36:58] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:36:58] [ENEMY] [Enemy1] Registered as sound listener
[02:36:58] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:36:58] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:36:58] [ENEMY] [Enemy2] Registered as sound listener
[02:36:58] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:36:58] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:36:58] [ENEMY] [Enemy3] Registered as sound listener
[02:36:58] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:36:58] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:36:58] [ENEMY] [Enemy4] Registered as sound listener
[02:36:58] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:36:58] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:36:58] [ENEMY] [Enemy5] Registered as sound listener
[02:36:58] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:36:58] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:36:58] [ENEMY] [Enemy6] Registered as sound listener
[02:36:58] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:36:58] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:36:58] [ENEMY] [Enemy7] Registered as sound listener
[02:36:58] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:36:58] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:36:58] [ENEMY] [Enemy8] Registered as sound listener
[02:36:58] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:36:58] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:36:58] [ENEMY] [Enemy9] Registered as sound listener
[02:36:58] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:36:58] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:36:58] [ENEMY] [Enemy10] Registered as sound listener
[02:36:58] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:36:58] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:36:58] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:36:58] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:36:58] [INFO] [LastChance] Found player: Player
[02:36:58] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:36:58] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:36:58] [INFO] [LastChance] Connected to player Died signal (C#)
[02:36:58] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:36:58] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:36:58] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:36:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.8477, 804.432), source=PLAYER (AssaultRifle), range=1469, listeners=20
[02:36:59] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:36:59] [ENEMY] [Enemy1] Heard gunshot at (451.8477, 804.432), source_type=0, intensity=0.10, distance=479
[02:36:59] [ENEMY] [Enemy2] Heard gunshot at (451.8477, 804.432), source_type=0, intensity=0.19, distance=260
[02:36:59] [ENEMY] [Enemy3] Heard gunshot at (451.8477, 804.432), source_type=0, intensity=0.20, distance=254
[02:36:59] [ENEMY] [Enemy4] Heard gunshot at (451.8477, 804.432), source_type=0, intensity=0.14, distance=361
[02:36:59] [ENEMY] [Enemy5] Heard gunshot at (451.8477, 804.432), source_type=0, intensity=0.04, distance=1328
[02:36:59] [ENEMY] [Enemy7] Heard gunshot at (451.8477, 804.432), source_type=0, intensity=0.04, distance=1188
[02:36:59] [ENEMY] [Enemy10] Heard gunshot at (451.8477, 804.432), source_type=0, intensity=0.05, distance=1076
[02:36:59] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=3, self=0, below_threshold=0
[02:36:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(451.84775, 804.432), shooter_id=1348535847545, bullet_pos=(518.0513, 796.5876)
[02:36:59] [INFO] [Bullet] Using shooter_position, distance=66,66664
[02:36:59] [INFO] [Bullet] Distance to wall: 66,66664 (4,5394545% of viewport)
[02:36:59] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:36:59] [INFO] [Bullet] Starting wall penetration at (518.0513, 796.5876)
[02:36:59] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:36:59] [INFO] [Bullet] Exiting penetration at (564.39374, 791.0965) after traveling 41,666668 pixels through wall
[02:36:59] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:37:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(465.8941, 773.5463), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:37:00] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=3, self=0, below_threshold=0
[02:37:00] [ENEMY] [Enemy3] Hit taken, health: 1/2
[02:37:00] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[02:37:00] [INFO] [ImpactEffects] spawn_blood_effect called at (689.5309, 752.0432), dir=(1, 0), lethal=false
[02:37:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:37:00] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:37:00] [INFO] [ImpactEffects] Blood effect spawned at (689.5309, 752.0432) (scale=1)
[02:37:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.5309, 752.0432), source=ENEMY (Enemy3), range=1469, listeners=10
[02:37:00] [ENEMY] [Enemy6] Heard gunshot at (689.5309, 752.0432), source_type=1, intensity=0.04, distance=1296
[02:37:00] [ENEMY] [Enemy8] Heard gunshot at (689.5309, 752.0432), source_type=1, intensity=0.04, distance=1397
[02:37:00] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:37:00] [INFO] [LastChance] Threat detected: @Area2D@3675
[02:37:00] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(489.3797, 755.5081), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:37:00] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=3, self=0, below_threshold=0
[02:37:00] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:00] [ENEMY] [Enemy3] Hit taken, health: 0/2
[02:37:00] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[02:37:00] [INFO] [ImpactEffects] spawn_blood_effect called at (689.5309, 752.0432), dir=(1, 0), lethal=true
[02:37:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:37:00] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[02:37:00] [INFO] [ImpactEffects] Blood effect spawned at (689.5309, 752.0432) (scale=1.5)
[02:37:00] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:37:00] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:37:00] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[02:37:00] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:37:00] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[02:37:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(518.9286, 749.7706), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:37:00] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=2, self=0, below_threshold=0
[02:37:00] [ENEMY] [Enemy9] Memory: medium confidence (0.61) - transitioning to PURSUING
[02:37:00] [ENEMY] [Enemy9] State: IDLE -> PURSUING
[02:37:00] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(546.7894, 756.6365), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:37:00] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=0, below_threshold=0
[02:37:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(518.9286, 749.7706), shooter_id=1348535847545, bullet_pos=(909.16, 716.26984)
[02:37:00] [INFO] [Bullet] Using shooter_position, distance=391,66672
[02:37:00] [INFO] [Bullet] Distance to wall: 391,66672 (26,669308% of viewport)
[02:37:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:00] [INFO] [Bullet] Starting wall penetration at (909.16, 716.26984)
[02:37:00] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11,394601
[02:37:00] [INFO] [Bullet] Body exited signal received for penetrating body
[02:37:00] [INFO] [Bullet] Exiting penetration at (947.35284, 712.991) after traveling 33,333332 pixels through wall
[02:37:00] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:37:00] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:37:00] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:37:00] [ENEMY] [Enemy5] State: COMBAT -> PURSUING
[02:37:00] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[02:37:00] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:37:00] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(546.78937, 756.63654), shooter_id=1348535847545, bullet_pos=(934.0875, 698.2996)
[02:37:00] [INFO] [Bullet] Using shooter_position, distance=391,66702
[02:37:00] [INFO] [Bullet] Distance to wall: 391,66702 (26,669329% of viewport)
[02:37:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:00] [INFO] [Bullet] Starting wall penetration at (934.0875, 698.2996)
[02:37:00] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,399296
[02:37:00] [INFO] [Bullet] Body exited signal received for penetrating body
[02:37:00] [INFO] [Bullet] Exiting penetration at (971.9933, 692.59) after traveling 33,333336 pixels through wall
[02:37:00] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:37:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(546.78937, 756.63654), shooter_id=1348535847545, bullet_pos=(971.9933, 692.59)
[02:37:00] [INFO] [Bullet] Using shooter_position, distance=430,0004
[02:37:00] [INFO] [Bullet] Distance to wall: 430,0004 (29,279518% of viewport)
[02:37:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:00] [INFO] [Bullet] Starting wall penetration at (971.9933, 692.59)
[02:37:00] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7,5167055
[02:37:00] [INFO] [Bullet] Body exited signal received for penetrating body
[02:37:00] [INFO] [Bullet] Exiting penetration at (1009.89905, 686.88043) after traveling 33,333336 pixels through wall
[02:37:00] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:00] [ENEMY] [Enemy6] State: COMBAT -> PURSUING
[02:37:00] [ENEMY] [Enemy8] State: COMBAT -> PURSUING
[02:37:00] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:37:00] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:37:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(734.8321, 914.0658), source=ENEMY (Enemy4), range=1469, listeners=9
[02:37:00] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=0, self=1, below_threshold=0
[02:37:00] [ENEMY] [Enemy3] Ragdoll activated
[02:37:00] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:37:00] [INFO] [LastChance] Threat detected: Bullet
[02:37:00] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:00] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[02:37:00] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(734.8321, 914.0658), source=ENEMY (Enemy4), range=1469, listeners=9
[02:37:01] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=0, self=1, below_threshold=0
[02:37:01] [INFO] [LastChance] Threat detected: Bullet
[02:37:01] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(581.5777, 924.3464), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:37:01] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=0, below_threshold=0
[02:37:01] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:01] [ENEMY] [Enemy4] Hit taken, health: 1/2
[02:37:01] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[02:37:01] [INFO] [ImpactEffects] spawn_blood_effect called at (734.8321, 914.0658), dir=(1, 0), lethal=false
[02:37:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:37:01] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:37:01] [INFO] [ImpactEffects] Blood effect spawned at (734.8321, 914.0658) (scale=1)
[02:37:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(734.8321, 914.0658), source=ENEMY (Enemy4), range=1469, listeners=9
[02:37:01] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=0, self=1, below_threshold=0
[02:37:01] [INFO] [LastChance] Threat detected: Bullet
[02:37:01] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(599.4277, 951.7198), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:37:01] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=0, below_threshold=0
[02:37:01] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:01] [ENEMY] [Enemy4] Hit taken, health: 0/2
[02:37:01] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[02:37:01] [INFO] [ImpactEffects] spawn_blood_effect called at (734.8321, 914.0658), dir=(1, 0), lethal=true
[02:37:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:37:01] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[02:37:01] [INFO] [ImpactEffects] Blood effect spawned at (734.8321, 914.0658) (scale=1.5)
[02:37:01] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[02:37:01] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[02:37:01] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[02:37:01] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:37:01] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[02:37:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(625.2749, 968.711), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:37:01] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=0, self=0, below_threshold=0
[02:37:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(657.6921, 973.7666), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:37:01] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=0, self=0, below_threshold=0
[02:37:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(625.2749, 968.711), shooter_id=1348535847545, bullet_pos=(917.17804, 825.8215)
[02:37:01] [INFO] [Bullet] Using shooter_position, distance=324,9998
[02:37:01] [INFO] [Bullet] Distance to wall: 324,9998 (22,129833% of viewport)
[02:37:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:01] [INFO] [Bullet] Starting wall penetration at (917.17804, 825.8215)
[02:37:01] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,377312
[02:37:01] [INFO] [Bullet] Body exited signal received for penetrating body
[02:37:01] [INFO] [Bullet] Exiting penetration at (951.60767, 808.96783) after traveling 33,333336 pixels through wall
[02:37:01] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:37:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(657.69214, 973.7666), shooter_id=1348535847545, bullet_pos=(749.50146, 888.93713)
[02:37:01] [INFO] [Bullet] Using shooter_position, distance=124,99996
[02:37:01] [INFO] [Bullet] Distance to wall: 124,99996 (8,511477% of viewport)
[02:37:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:01] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(657.69214, 973.7666), shooter_id=1348535847545, bullet_pos=(912.3575, 1010.68396)
[02:37:01] [INFO] [Bullet] Using shooter_position, distance=257,32727
[02:37:01] [INFO] [Bullet] Distance to wall: 257,32727 (17,521889% of viewport)
[02:37:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(657.69214, 973.7666), shooter_id=1348535847545, bullet_pos=(916.47217, 1007.84326)
[02:37:01] [INFO] [Bullet] Using shooter_position, distance=261,01404
[02:37:01] [INFO] [Bullet] Distance to wall: 261,01404 (17,772926% of viewport)
[02:37:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:01] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:01] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[02:37:02] [ENEMY] [Enemy4] Ragdoll activated
[02:37:02] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:37:02] [ENEMY] [Enemy3] Death animation completed
[02:37:02] [ENEMY] [Enemy7] FLANKING started: target=(972.8051, 1108.646), side=right, pos=(1479.4, 893.6753)
[02:37:02] [ENEMY] [Enemy7] State: PURSUING -> FLANKING
[02:37:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(657.69214, 973.7666), shooter_id=1348535847545, bullet_pos=(1672.9202, 1382.8628)
[02:37:02] [INFO] [Bullet] Using shooter_position, distance=1094,5536
[02:37:02] [INFO] [Bullet] Distance to wall: 1094,5536 (74,53017% of viewport)
[02:37:02] [INFO] [Bullet] Distance-based penetration chance: 59,714806%
[02:37:02] [INFO] [Bullet] Penetration failed (distance roll)
[02:37:02] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:37:02] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:02] [ENEMY] [Enemy8] FLANKING started: target=(898.8668, 1097.216), side=right, pos=(1754.426, 1376.236)
[02:37:02] [ENEMY] [Enemy8] State: PURSUING -> FLANKING
[02:37:02] [ENEMY] [Enemy8] State: FLANKING -> RETREATING
[02:37:02] [ENEMY] [Enemy8] State: RETREATING -> IN_COVER
[02:37:02] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:02] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[02:37:02] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(529.5045, 653.5039), source=ENEMY (Enemy2), range=1469, listeners=8
[02:37:02] [INFO] [SoundPropagation] Sound result: notified=6, out_of_range=1, self=1, below_threshold=0
[02:37:02] [INFO] [LastChance] Threat detected: Bullet
[02:37:02] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:02] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(529.5045, 653.5039), source=ENEMY (Enemy2), range=1469, listeners=8
[02:37:02] [INFO] [SoundPropagation] Sound result: notified=6, out_of_range=1, self=1, below_threshold=0
[02:37:03] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[02:37:03] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:03] [INFO] [LastChance] Threat detected: @Area2D@3742
[02:37:03] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:03] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(549.3792, 659.9653), source=ENEMY (Enemy2), range=1469, listeners=8
[02:37:03] [INFO] [SoundPropagation] Sound result: notified=6, out_of_range=1, self=1, below_threshold=0
[02:37:03] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:03] [ENEMY] [Enemy4] Death animation completed
[02:37:03] [INFO] [LastChance] Threat detected: Bullet
[02:37:03] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:03] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(578.2512, 678.1723), source=ENEMY (Enemy2), range=1469, listeners=8
[02:37:03] [INFO] [SoundPropagation] Sound result: notified=6, out_of_range=1, self=1, below_threshold=0
[02:37:03] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:03] [INFO] [LastChance] Threat detected: @Area2D@3745
[02:37:03] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:03] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(607.1233, 696.3793), source=ENEMY (Enemy2), range=1469, listeners=8
[02:37:03] [INFO] [SoundPropagation] Sound result: notified=6, out_of_range=1, self=1, below_threshold=0
[02:37:03] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:37:03] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:37:03] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:37:03] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:37:03] [ENEMY] [Enemy1] Death animation component initialized
[02:37:03] [ENEMY] [Enemy2] Death animation component initialized
[02:37:03] [ENEMY] [Enemy3] Death animation component initialized
[02:37:03] [ENEMY] [Enemy4] Death animation component initialized
[02:37:03] [ENEMY] [Enemy5] Death animation component initialized
[02:37:03] [ENEMY] [Enemy6] Death animation component initialized
[02:37:03] [ENEMY] [Enemy7] Death animation component initialized
[02:37:03] [ENEMY] [Enemy8] Death animation component initialized
[02:37:03] [ENEMY] [Enemy9] Death animation component initialized
[02:37:03] [ENEMY] [Enemy10] Death animation component initialized
[02:37:03] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:37:03] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:37:03] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:37:03] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:37:03] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:37:03] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:37:03] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:37:03] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[02:37:03] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:37:03] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:37:03] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[02:37:03] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[02:37:03] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[02:37:03] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[02:37:03] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[02:37:03] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[02:37:03] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[02:37:03] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[02:37:03] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[02:37:03] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[02:37:03] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[02:37:03] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[02:37:03] [INFO] [ScoreManager] Level started with 10 enemies
[02:37:03] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[02:37:03] [ENEMY] [Enemy1] Registered as sound listener
[02:37:03] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:37:03] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[02:37:03] [ENEMY] [Enemy2] Registered as sound listener
[02:37:03] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:37:03] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[02:37:03] [ENEMY] [Enemy3] Registered as sound listener
[02:37:03] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:37:03] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[02:37:03] [ENEMY] [Enemy4] Registered as sound listener
[02:37:03] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:37:03] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[02:37:03] [ENEMY] [Enemy5] Registered as sound listener
[02:37:03] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:37:03] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[02:37:03] [ENEMY] [Enemy6] Registered as sound listener
[02:37:03] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[02:37:03] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[02:37:03] [ENEMY] [Enemy7] Registered as sound listener
[02:37:03] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:37:03] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[02:37:03] [ENEMY] [Enemy8] Registered as sound listener
[02:37:03] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:37:03] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[02:37:03] [ENEMY] [Enemy9] Registered as sound listener
[02:37:03] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:37:03] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[02:37:03] [ENEMY] [Enemy10] Registered as sound listener
[02:37:03] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:37:03] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:37:03] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:37:03] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:37:03] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:37:03] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:37:03] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:37:03] [INFO] [LastChance] Found player: Player
[02:37:03] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:37:03] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:37:03] [INFO] [LastChance] Connected to player Died signal (C#)
[02:37:05] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:37:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(454.6194, 816.5801), source=PLAYER (AssaultRifle), range=1469, listeners=18
[02:37:05] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[02:37:05] [ENEMY] [Enemy1] Heard gunshot at (454.6194, 816.5801), source_type=0, intensity=0.10, distance=492
[02:37:05] [ENEMY] [Enemy2] Heard gunshot at (454.6194, 816.5801), source_type=0, intensity=0.18, distance=272
[02:37:05] [ENEMY] [Enemy4] Heard gunshot at (454.6194, 816.5801), source_type=0, intensity=0.14, distance=355
[02:37:05] [ENEMY] [Enemy5] Heard gunshot at (454.6194, 816.5801), source_type=0, intensity=0.04, distance=1330
[02:37:05] [ENEMY] [Enemy7] Heard gunshot at (454.6194, 816.5801), source_type=0, intensity=0.04, distance=1170
[02:37:05] [ENEMY] [Enemy10] Heard gunshot at (454.6194, 816.5801), source_type=0, intensity=0.05, distance=1056
[02:37:05] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=3, self=0, below_threshold=0
[02:37:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(454.6194, 816.5801), shooter_id=1531726268561, bullet_pos=(520.78174, 808.3952)
[02:37:05] [INFO] [Bullet] Using shooter_position, distance=66,6667
[02:37:05] [INFO] [Bullet] Distance to wall: 66,6667 (4,5394583% of viewport)
[02:37:05] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:37:05] [INFO] [Bullet] Starting wall penetration at (520.78174, 808.3952)
[02:37:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 43,42385
[02:37:05] [INFO] [Bullet] Body exited signal received for penetrating body
[02:37:05] [INFO] [Bullet] Exiting penetration at (567.09534, 802.6658) after traveling 41,666668 pixels through wall
[02:37:05] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:37:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(472.3387, 788.2493), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:37:05] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=3, self=0, below_threshold=0
[02:37:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.6893, 752.7327), source=ENEMY (Enemy3), range=1469, listeners=10
[02:37:05] [ENEMY] [Enemy6] Heard gunshot at (689.6893, 752.7327), source_type=1, intensity=0.04, distance=1296
[02:37:05] [ENEMY] [Enemy8] Heard gunshot at (689.6893, 752.7327), source_type=1, intensity=0.04, distance=1397
[02:37:05] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:37:05] [INFO] [LastChance] Threat detected: @Area2D@4001
[02:37:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:05] [ENEMY] [Enemy3] Hit taken, health: 3/4
[02:37:05] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[02:37:05] [INFO] [ImpactEffects] spawn_blood_effect called at (689.6893, 752.7327), dir=(1, 0), lethal=false
[02:37:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:37:05] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:37:05] [INFO] [ImpactEffects] Blood effect spawned at (689.6893, 752.7327) (scale=1)
[02:37:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(498.8326, 773.2252), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:37:05] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=3, self=0, below_threshold=0
[02:37:05] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:05] [ENEMY] [Enemy3] Hit taken, health: 2/4
[02:37:05] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[02:37:05] [INFO] [ImpactEffects] spawn_blood_effect called at (689.6893, 752.7327), dir=(1, 0), lethal=false
[02:37:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:37:05] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:37:05] [INFO] [ImpactEffects] Blood effect spawned at (689.6893, 752.7327) (scale=1)
[02:37:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.6893, 752.7327), source=ENEMY (Enemy3), range=1469, listeners=10
[02:37:05] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:37:05] [INFO] [LastChance] Threat detected: @Area2D@4005
[02:37:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(531.6212, 770.2128), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:37:05] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=2, self=0, below_threshold=0
[02:37:05] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:05] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:37:05] [ENEMY] [Enemy3] Hit taken, health: 1/4
[02:37:05] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[02:37:05] [INFO] [ImpactEffects] spawn_blood_effect called at (690.1047, 754.8252), dir=(1, 0), lethal=false
[02:37:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:37:05] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:37:05] [INFO] [ImpactEffects] Blood effect spawned at (690.1047, 754.8252) (scale=1)
[02:37:05] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(691.351, 761.1028), source=ENEMY (Enemy3), range=1469, listeners=10
[02:37:05] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:37:05] [ENEMY] [Enemy9] Memory: medium confidence (0.60) - transitioning to PURSUING
[02:37:05] [ENEMY] [Enemy9] State: IDLE -> PURSUING
[02:37:05] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:05] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:37:05] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:37:05] [ENEMY] [Enemy5] State: COMBAT -> PURSUING
[02:37:05] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[02:37:05] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:37:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(697.8915, 770.9759), source=ENEMY (Enemy3), range=1469, listeners=10
[02:37:05] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:37:05] [INFO] [LastChance] Threat detected: Bullet
[02:37:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:05] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:05] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(706.9422, 776.6186), source=ENEMY (Enemy3), range=1469, listeners=10
[02:37:05] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:37:05] [INFO] [LastChance] Threat detected: Bullet
[02:37:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:05] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:05] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(713.9078, 784.6966), source=ENEMY (Enemy3), range=1469, listeners=10
[02:37:05] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:37:05] [INFO] [LastChance] Threat detected: Bullet
[02:37:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:05] [ENEMY] [Enemy6] State: COMBAT -> PURSUING
[02:37:05] [ENEMY] [Enemy8] State: COMBAT -> PURSUING
[02:37:05] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:37:05] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:37:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(767.5771, 912.9191), source=ENEMY (Enemy4), range=1469, listeners=10
[02:37:05] [ENEMY] [Enemy3] Heard gunshot at (767.5771, 912.9191), source_type=1, intensity=0.36, distance=139
[02:37:05] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:05] [INFO] [LastChance] Threat detected: Bullet
[02:37:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:06] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:37:06] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[02:37:06] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[02:37:06] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:06] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[02:37:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(767.5771, 912.9191), source=ENEMY (Enemy4), range=1469, listeners=10
[02:37:06] [ENEMY] [Enemy3] Heard gunshot at (767.5771, 912.9191), source_type=1, intensity=0.37, distance=136
[02:37:06] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:06] [INFO] [LastChance] Threat detected: Bullet
[02:37:06] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:06] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:37:06] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[02:37:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(609.4173, 945.7255), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:37:06] [ENEMY] [Enemy3] Heard gunshot at (609.4173, 945.7255), source_type=0, intensity=0.22, distance=232
[02:37:06] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=1, self=0, below_threshold=0
[02:37:06] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:37:06] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:06] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[02:37:06] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[02:37:06] [ENEMY] [Enemy4] Hit taken, health: 1/2
[02:37:06] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[02:37:06] [INFO] [ImpactEffects] spawn_blood_effect called at (767.5771, 912.9191), dir=(1, 0), lethal=false
[02:37:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:37:06] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:37:06] [INFO] [ImpactEffects] Blood effect spawned at (767.5771, 912.9191) (scale=1)
[02:37:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(767.5771, 912.9191), source=ENEMY (Enemy4), range=1469, listeners=10
[02:37:06] [ENEMY] [Enemy3] Heard gunshot at (767.5771, 912.9191), source_type=1, intensity=0.37, distance=136
[02:37:06] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:06] [INFO] [LastChance] Threat detected: Bullet
[02:37:06] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:06] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:37:06] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[02:37:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(634.0681, 969.082), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:37:06] [ENEMY] [Enemy3] Heard gunshot at (634.0681, 969.082), source_type=0, intensity=0.21, distance=234
[02:37:06] [INFO] [SoundPropagation] Sound result: notified=10, out_of_range=0, self=0, below_threshold=0
[02:37:06] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:06] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:37:06] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[02:37:06] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[02:37:06] [ENEMY] [Enemy4] Hit taken, health: 0/2
[02:37:06] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[02:37:06] [INFO] [ImpactEffects] spawn_blood_effect called at (767.5771, 912.9191), dir=(1, 0), lethal=true
[02:37:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:37:06] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[02:37:06] [INFO] [ImpactEffects] Blood effect spawned at (767.5771, 912.9191) (scale=1.5)
[02:37:06] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[02:37:06] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:37:06] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 9)
[02:37:06] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:37:06] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[02:37:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(664.5096, 980.5698), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:37:06] [ENEMY] [Enemy3] Heard gunshot at (664.5096, 980.5698), source_type=0, intensity=0.22, distance=229
[02:37:06] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=0, below_threshold=0
[02:37:06] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:37:06] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[02:37:06] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[02:37:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(699.2725, 981.6256), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:37:06] [ENEMY] [Enemy3] Heard gunshot at (699.2725, 981.6256), source_type=0, intensity=0.23, distance=216
[02:37:06] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=0, below_threshold=0
[02:37:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(664.50964, 980.56976), shooter_id=1531726268561, bullet_pos=(924.56366, 848.5037)
[02:37:06] [INFO] [Bullet] Using shooter_position, distance=291,6668
[02:37:06] [INFO] [Bullet] Distance to wall: 291,6668 (19,86013% of viewport)
[02:37:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:06] [INFO] [Bullet] Starting wall penetration at (924.56366, 848.5037)
[02:37:06] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:37:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,506796
[02:37:06] [INFO] [Bullet] Body exited signal received for penetrating body
[02:37:06] [INFO] [Bullet] Exiting penetration at (958.7422, 831.1465) after traveling 33,333336 pixels through wall
[02:37:06] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:37:06] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[02:37:06] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[02:37:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(699.27246, 981.6256), shooter_id=1531726268561, bullet_pos=(913.39886, 837.1059)
[02:37:06] [INFO] [Bullet] Using shooter_position, distance=258,33325
[02:37:06] [INFO] [Bullet] Distance to wall: 258,33325 (17,590387% of viewport)
[02:37:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:06] [INFO] [Bullet] Starting wall penetration at (913.39886, 837.1059)
[02:37:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11,066151
[02:37:06] [INFO] [Bullet] Body exited signal received for penetrating body
[02:37:06] [INFO] [Bullet] Exiting penetration at (945.1725, 815.661) after traveling 33,333336 pixels through wall
[02:37:06] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:37:06] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[02:37:06] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:07] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[02:37:07] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[02:37:07] [ENEMY] [Enemy4] Ragdoll activated
[02:37:07] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:37:07] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[02:37:07] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[02:37:07] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[02:37:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(829.5773, 959.2366), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:37:07] [ENEMY] [Enemy3] Heard gunshot at (829.5773, 959.2366), source_type=0, intensity=0.24, distance=209
[02:37:07] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=0, below_threshold=0
[02:37:07] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:37:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(829.5773, 959.23663), shooter_id=1531726268561, bullet_pos=(740.5546, 871.487)
[02:37:07] [INFO] [Bullet] Using shooter_position, distance=125,000114
[02:37:07] [INFO] [Bullet] Distance to wall: 125,000114 (8,511488% of viewport)
[02:37:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(854.4674, 934.3465), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:37:07] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=0, below_threshold=0
[02:37:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(829.5773, 959.23663), shooter_id=1531726268561, bullet_pos=(631.33167, 1008.21796)
[02:37:07] [INFO] [Bullet] Using shooter_position, distance=204,20699
[02:37:07] [INFO] [Bullet] Distance to wall: 204,20699 (13,904829% of viewport)
[02:37:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(854.4674, 934.3465), shooter_id=1531726268561, bullet_pos=(758.7893, 853.90594)
[02:37:07] [INFO] [Bullet] Using shooter_position, distance=124,99992
[02:37:07] [INFO] [Bullet] Distance to wall: 124,99992 (8,511475% of viewport)
[02:37:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:07] [ENEMY] [Enemy7] FLANKING started: target=(969.6644, 1088.698), side=right, pos=(1466.226, 898.4045)
[02:37:07] [ENEMY] [Enemy7] State: PURSUING -> FLANKING
[02:37:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(879.3575, 909.4564), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:37:07] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=0, below_threshold=0
[02:37:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(829.5773, 959.23663), shooter_id=1531726268561, bullet_pos=(513.9383, 880.351)
[02:37:07] [INFO] [Bullet] Using shooter_position, distance=325,34735
[02:37:07] [INFO] [Bullet] Distance to wall: 325,34735 (22,1535% of viewport)
[02:37:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(854.4674, 934.3465), shooter_id=1531726268561, bullet_pos=(915.66425, 724.54333)
[02:37:07] [INFO] [Bullet] Using shooter_position, distance=218,54616
[02:37:07] [INFO] [Bullet] Distance to wall: 218,54616 (14,88121% of viewport)
[02:37:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(879.35754, 909.45636), shooter_id=1531726268561, bullet_pos=(754.2607, 812.3985)
[02:37:07] [INFO] [Bullet] Using shooter_position, distance=158,33336
[02:37:07] [INFO] [Bullet] Distance to wall: 158,33336 (10,78121% of viewport)
[02:37:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:07] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[02:37:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9329, 881.6272), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:37:07] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=0, below_threshold=0
[02:37:07] [ENEMY] [Enemy8] FLANKING started: target=(894.1082, 1071.641), side=right, pos=(1752.9, 1376.9)
[02:37:07] [ENEMY] [Enemy8] State: PURSUING -> FLANKING
[02:37:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(879.35754, 909.45636), shooter_id=1531726268561, bullet_pos=(921.504, 652.089)
[02:37:07] [INFO] [Bullet] Using shooter_position, distance=260,7955
[02:37:07] [INFO] [Bullet] Distance to wall: 260,7955 (17,758045% of viewport)
[02:37:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9329, 847.0583), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:37:07] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=0, below_threshold=0
[02:37:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.3954, 600.1172), source=ENEMY (Enemy2), range=1469, listeners=9
[02:37:07] [INFO] [SoundPropagation] Sound result: notified=6, out_of_range=2, self=1, below_threshold=0
[02:37:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.93286, 881.6272), shooter_id=1531726268561, bullet_pos=(502.88113, 586.2518)
[02:37:07] [INFO] [Bullet] Using shooter_position, distance=491,66687
[02:37:07] [INFO] [Bullet] Distance to wall: 491,66687 (33,4785% of viewport)
[02:37:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:07] [ENEMY] [Enemy2] Hit taken, health: 3/4
[02:37:07] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[02:37:07] [INFO] [ImpactEffects] spawn_blood_effect called at (462.5146, 613.0627), dir=(1, 0), lethal=false
[02:37:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:37:07] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:37:07] [INFO] [ImpactEffects] Blood effect spawned at (462.5146, 613.0627) (scale=1)
[02:37:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9329, 811.8581), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:37:07] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=0, below_threshold=0
[02:37:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(854.4674, 934.3465), shooter_id=1531726268561, bullet_pos=(511.42783, 304.44617)
[02:37:08] [INFO] [Bullet] Using shooter_position, distance=717,25214
[02:37:08] [INFO] [Bullet] Distance to wall: 717,25214 (48,839016% of viewport)
[02:37:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(474.2358, 625.4656), source=ENEMY (Enemy2), range=1469, listeners=9
[02:37:08] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=1, self=1, below_threshold=0
[02:37:08] [ENEMY] [Enemy2] Hit taken, health: 2/4
[02:37:08] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[02:37:08] [INFO] [ImpactEffects] spawn_blood_effect called at (482.1775, 628.5875), dir=(1, 0), lethal=false
[02:37:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:37:08] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:37:08] [INFO] [ImpactEffects] Blood effect spawned at (482.1775, 628.5875) (scale=1)
[02:37:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(879.35754, 909.45636), shooter_id=1531726268561, bullet_pos=(520.51654, 335.7426)
[02:37:08] [INFO] [Bullet] Using shooter_position, distance=676,69366
[02:37:08] [INFO] [Bullet] Distance to wall: 676,69366 (46,077316% of viewport)
[02:37:08] [INFO] [Bullet] Distance-based penetration chance: 92,9098%
[02:37:08] [INFO] [Bullet] Starting wall penetration at (520.51654, 335.7426)
[02:37:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 2,95076
[02:37:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(508.0807, 637.9212), shooter_id=1528622483506, bullet_pos=(923.4152, 850.7009)
[02:37:08] [INFO] [Bullet] Using shooter_position, distance=466.666778564453
[02:37:08] [INFO] [Bullet] Distance to wall: 466.666778564453 (31.7761990769919% of viewport)
[02:37:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:08] [INFO] [Bullet] Max penetration distance exceeded: 48,166668 >= 48
[02:37:08] [INFO] [Bullet] Body exited signal received for penetrating body
[02:37:08] [INFO] [Bullet] Exiting penetration at (478.7757, 302.8124) after traveling 48,166668 pixels through wall
[02:37:08] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[02:37:08] [INFO] [LastChance] Threat detected: @Area2D@4072
[02:37:08] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:08] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:37:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.93286, 811.8581), shooter_id=1531726268561, bullet_pos=(489.98578, 686.0328)
[02:37:08] [INFO] [Bullet] Using shooter_position, distance=425,00006
[02:37:08] [INFO] [Bullet] Distance to wall: 425,00006 (28,939035% of viewport)
[02:37:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:08] [INFO] [Bullet] Starting wall penetration at (489.98578, 686.0328)
[02:37:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 44,977993
[02:37:08] [INFO] [Bullet] Body exited signal received for penetrating body
[02:37:08] [INFO] [Bullet] Exiting penetration at (453.37094, 674.68384) after traveling 33,333336 pixels through wall
[02:37:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:37:08] [ENEMY] [Enemy4] Death animation completed
[02:37:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(854.4674, 934.3465), shooter_id=1531726268561, bullet_pos=(681.98065, 67.935455)
[02:37:08] [INFO] [Bullet] Using shooter_position, distance=883,4137
[02:37:08] [INFO] [Bullet] Distance to wall: 883,4137 (60,153263% of viewport)
[02:37:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(534.2537, 657.7308), shooter_id=1528622483506, bullet_pos=(936.907, 817.8822)
[02:37:08] [INFO] [Bullet] Using shooter_position, distance=433.333709716797
[02:37:08] [INFO] [Bullet] Distance to wall: 433.333709716797 (29.5064891250462% of viewport)
[02:37:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(508.0807, 637.9212), shooter_id=1528622483506, bullet_pos=(712.1418, 1002.238)
[02:37:08] [INFO] [Bullet] Using shooter_position, distance=417.573638916016
[02:37:08] [INFO] [Bullet] Distance to wall: 417.573638916016 (28.4333569240062% of viewport)
[02:37:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(534.2537, 657.7308), shooter_id=1528622483506, bullet_pos=(744.5663, 883.8322)
[02:37:08] [INFO] [Bullet] Using shooter_position, distance=308.793151855469
[02:37:08] [INFO] [Bullet] Distance to wall: 308.793151855469 (21.026293530376% of viewport)
[02:37:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:08] [ENEMY] [Enemy3] Hit taken, health: 0/4
[02:37:08] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[02:37:08] [INFO] [ImpactEffects] spawn_blood_effect called at (567.8575, 861.8478), dir=(-0.703956, -0.710244), lethal=true
[02:37:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:37:08] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[02:37:08] [INFO] [ImpactEffects] Wall found for blood splatter at (524, 817.5986) (dist=62 px)
[02:37:08] [INFO] [ImpactEffects] Blood effect spawned at (567.8575, 861.8478) (scale=1.5)
[02:37:08] [ENEMY] [Enemy3] Enemy died (ricochet: true, penetration: false)
[02:37:08] [INFO] [ScoreManager] Ricochet kill registered
[02:37:08] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[02:37:08] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 8)
[02:37:08] [INFO] [DeathAnim] Started - Angle: -134.7 deg, Index: 3
[02:37:08] [ENEMY] [Enemy3] Death animation started with hit direction: (-0.703956, -0.710244)
[02:37:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(534.2537, 657.7308), shooter_id=1528622483506, bullet_pos=(914.5844, 918.8329)
[02:37:08] [INFO] [Bullet] Using shooter_position, distance=461.330352783203
[02:37:08] [INFO] [Bullet] Distance to wall: 461.330352783203 (31.4128320327248% of viewport)
[02:37:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:08] [ENEMY] [Enemy9] FLANKING started: target=(1054.626, 670.0379), side=left, pos=(2014.177, 1255.198)
[02:37:08] [ENEMY] [Enemy9] State: PURSUING -> FLANKING
[02:37:09] [ENEMY] [Enemy3] Ragdoll activated
[02:37:09] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:37:09] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:37:09] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:37:09] [ENEMY] [Enemy5] FLANKING started: target=(767.7989, 789.1951), side=left, pos=(1428.06, 407.2817)
[02:37:09] [ENEMY] [Enemy5] State: PURSUING -> FLANKING
[02:37:09] [ENEMY] [Enemy10] FLANKING started: target=(679.893, 1132.875), side=right, pos=(954.9115, 1416.112)
[02:37:09] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:37:10] [ENEMY] [Enemy3] Death animation completed
[02:37:10] [ENEMY] [Enemy1] FLANKING started: target=(904.9545, 806.7996), side=right, pos=(455.5567, 420.6943)
[02:37:10] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[02:37:11] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[02:37:11] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[02:37:11] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[02:37:12] [ENEMY] [Enemy6] FLANKING started: target=(741.0724, 706.7188), side=left, pos=(1425.762, 575.9334)
[02:37:12] [ENEMY] [Enemy6] State: PURSUING -> FLANKING
[02:37:12] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:13] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:37:13] [ENEMY] [Enemy7] FLANKING timeout (5.0s), target=(818.0304, 729.319), pos=(628.5463, 744.2049)
[02:37:13] [ENEMY] [Enemy7] State: FLANKING -> PURSUING
[02:37:13] [ENEMY] [Enemy8] FLANKING timeout (5.0s), target=(625.2791, 732.2749), pos=(469.094, 899.312)
[02:37:13] [ENEMY] [Enemy8] State: FLANKING -> PURSUING
[02:37:13] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:37:14] [ENEMY] [Enemy9] FLANKING timeout (5.0s), target=(692.0703, 708.6385), pos=(1017.905, 660.7325)
[02:37:14] [ENEMY] [Enemy9] State: FLANKING -> PURSUING
[02:37:14] [ENEMY] [Enemy1] FLANKING stuck (2.0s no progress), target=(924.1064, 896.3174), pos=(885.9441, 582.8076), fail_count=1
[02:37:14] [ENEMY] [Enemy1] State: FLANKING -> PURSUING
[02:37:14] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:37:15] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:37:15] [ENEMY] [Enemy5] FLANKING timeout (5.0s), target=(554.7347, 1012.006), pos=(557.1087, 811.1104)
[02:37:15] [ENEMY] [Enemy5] State: FLANKING -> PURSUING
[02:37:15] [ENEMY] [Enemy10] FLANKING timeout (5.0s), target=(924.0705, 895.6039), pos=(885.9258, 580.0282)
[02:37:15] [ENEMY] [Enemy10] State: FLANKING -> PURSUING
[02:37:15] [ENEMY] [Enemy9] FLANKING started: target=(917.2834, 958.6821), side=right, pos=(968.6949, 663.9336)
[02:37:15] [ENEMY] [Enemy9] State: PURSUING -> FLANKING
[02:37:16] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:37:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.4037, 862.6703), source=ENEMY (Enemy8), range=1469, listeners=8
[02:37:16] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:37:16] [ENEMY] [Enemy8] State: PURSUING -> COMBAT
[02:37:16] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:16] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:37:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(646.5005, 878.1369), source=ENEMY (Enemy8), range=1469, listeners=8
[02:37:16] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:37:16] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:16] [ENEMY] [Enemy5] State: PURSUING -> RETREATING
[02:37:16] [ENEMY] [Enemy7] State: PURSUING -> RETREATING
[02:37:16] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[02:37:16] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:37:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(646.5005, 878.1369), source=ENEMY (Enemy8), range=1469, listeners=8
[02:37:16] [ENEMY] [Enemy5] Heard gunshot at (646.5005, 878.1369), source_type=1, intensity=1.00, distance=44
[02:37:16] [ENEMY] [Enemy7] Heard gunshot at (646.5005, 878.1369), source_type=1, intensity=0.64, distance=78
[02:37:16] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:37:16] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:16] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[02:37:16] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[02:37:16] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[02:37:16] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[02:37:16] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:37:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(646.5005, 878.1369), source=ENEMY (Enemy8), range=1469, listeners=8
[02:37:16] [ENEMY] [Enemy5] Heard gunshot at (646.5005, 878.1369), source_type=1, intensity=1.00, distance=44
[02:37:16] [ENEMY] [Enemy7] Heard gunshot at (646.5005, 878.1369), source_type=1, intensity=0.64, distance=78
[02:37:16] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:37:16] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:16] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[02:37:16] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[02:37:16] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[02:37:16] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[02:37:16] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:37:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(646.5005, 878.1369), source=ENEMY (Enemy8), range=1469, listeners=8
[02:37:16] [ENEMY] [Enemy5] Heard gunshot at (646.5005, 878.1369), source_type=1, intensity=1.00, distance=44
[02:37:16] [ENEMY] [Enemy7] Heard gunshot at (646.5005, 878.1369), source_type=1, intensity=0.64, distance=78
[02:37:16] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:37:16] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:16] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[02:37:16] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[02:37:16] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[02:37:16] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[02:37:16] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:37:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(646.5005, 878.1369), source=ENEMY (Enemy8), range=1469, listeners=8
[02:37:16] [ENEMY] [Enemy5] Heard gunshot at (646.5005, 878.1369), source_type=1, intensity=1.00, distance=44
[02:37:16] [ENEMY] [Enemy7] Heard gunshot at (646.5005, 878.1369), source_type=1, intensity=0.64, distance=78
[02:37:16] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:37:16] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:16] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[02:37:16] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[02:37:16] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[02:37:16] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[02:37:16] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:37:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(646.5005, 878.1369), source=ENEMY (Enemy8), range=1469, listeners=8
[02:37:16] [ENEMY] [Enemy5] Heard gunshot at (646.5005, 878.1369), source_type=1, intensity=1.00, distance=44
[02:37:16] [ENEMY] [Enemy7] Heard gunshot at (646.5005, 878.1369), source_type=1, intensity=0.64, distance=78
[02:37:16] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:37:16] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:16] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[02:37:16] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[02:37:16] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[02:37:16] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[02:37:16] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:37:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(646.5005, 878.1369), source=ENEMY (Enemy8), range=1469, listeners=8
[02:37:16] [ENEMY] [Enemy5] Heard gunshot at (646.5005, 878.1369), source_type=1, intensity=1.00, distance=44
[02:37:16] [ENEMY] [Enemy7] Heard gunshot at (646.5005, 878.1369), source_type=1, intensity=0.64, distance=78
[02:37:16] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:37:16] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:16] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[02:37:16] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[02:37:16] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[02:37:16] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[02:37:16] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:37:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(646.5005, 878.1369), source=ENEMY (Enemy8), range=1469, listeners=8
[02:37:16] [ENEMY] [Enemy5] Heard gunshot at (646.5005, 878.1369), source_type=1, intensity=1.00, distance=44
[02:37:16] [ENEMY] [Enemy7] Heard gunshot at (646.5005, 878.1369), source_type=1, intensity=0.64, distance=78
[02:37:16] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:37:16] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:16] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[02:37:16] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[02:37:16] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[02:37:16] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[02:37:17] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:37:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(646.5005, 878.1369), source=ENEMY (Enemy8), range=1469, listeners=8
[02:37:17] [ENEMY] [Enemy5] Heard gunshot at (646.5005, 878.1369), source_type=1, intensity=1.00, distance=44
[02:37:17] [ENEMY] [Enemy7] Heard gunshot at (646.5005, 878.1369), source_type=1, intensity=0.64, distance=78
[02:37:17] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:37:17] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:17] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[02:37:17] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[02:37:17] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[02:37:17] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:37:17] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:37:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:37:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:37:17] [ENEMY] [Enemy1] Death animation component initialized
[02:37:17] [ENEMY] [Enemy2] Death animation component initialized
[02:37:17] [ENEMY] [Enemy3] Death animation component initialized
[02:37:17] [ENEMY] [Enemy4] Death animation component initialized
[02:37:17] [ENEMY] [Enemy5] Death animation component initialized
[02:37:17] [ENEMY] [Enemy6] Death animation component initialized
[02:37:17] [ENEMY] [Enemy7] Death animation component initialized
[02:37:17] [ENEMY] [Enemy8] Death animation component initialized
[02:37:17] [ENEMY] [Enemy9] Death animation component initialized
[02:37:17] [ENEMY] [Enemy10] Death animation component initialized
[02:37:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:37:17] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:37:17] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:37:17] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:37:17] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:37:17] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:37:17] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:37:17] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[02:37:17] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:37:17] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:37:17] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[02:37:17] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[02:37:17] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[02:37:17] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[02:37:17] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[02:37:17] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[02:37:17] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[02:37:17] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[02:37:17] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[02:37:17] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[02:37:17] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[02:37:17] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[02:37:17] [INFO] [ScoreManager] Level started with 10 enemies
[02:37:17] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[02:37:17] [ENEMY] [Enemy1] Registered as sound listener
[02:37:17] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:37:17] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[02:37:17] [ENEMY] [Enemy2] Registered as sound listener
[02:37:17] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:37:17] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[02:37:17] [ENEMY] [Enemy3] Registered as sound listener
[02:37:17] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:37:17] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[02:37:17] [ENEMY] [Enemy4] Registered as sound listener
[02:37:17] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:37:17] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[02:37:17] [ENEMY] [Enemy5] Registered as sound listener
[02:37:17] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:37:17] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[02:37:17] [ENEMY] [Enemy6] Registered as sound listener
[02:37:17] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:37:17] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[02:37:17] [ENEMY] [Enemy7] Registered as sound listener
[02:37:17] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:37:17] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[02:37:17] [ENEMY] [Enemy8] Registered as sound listener
[02:37:17] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:37:17] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[02:37:17] [ENEMY] [Enemy9] Registered as sound listener
[02:37:17] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:37:17] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[02:37:17] [ENEMY] [Enemy10] Registered as sound listener
[02:37:17] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:37:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:37:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:37:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:37:17] [INFO] [LastChance] Found player: Player
[02:37:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:37:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:37:17] [INFO] [LastChance] Connected to player Died signal (C#)
[02:37:17] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:37:17] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:37:17] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:37:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(722.1131, 912.0663), source=PLAYER (AssaultRifle), range=1469, listeners=18
[02:37:23] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[02:37:23] [ENEMY] [Enemy1] Heard gunshot at (722.1131, 912.0663), source_type=0, intensity=0.07, distance=703
[02:37:23] [ENEMY] [Enemy2] Heard gunshot at (722.1131, 912.0663), source_type=0, intensity=0.10, distance=485
[02:37:23] [ENEMY] [Enemy3] Heard gunshot at (722.1131, 912.0663), source_type=0, intensity=0.31, distance=164
[02:37:23] [ENEMY] [Enemy4] Heard gunshot at (722.1131, 912.0663), source_type=0, intensity=0.63, distance=79
[02:37:23] [ENEMY] [Enemy5] Heard gunshot at (722.1131, 912.0663), source_type=0, intensity=0.04, distance=1128
[02:37:23] [ENEMY] [Enemy6] Heard gunshot at (722.1131, 912.0663), source_type=0, intensity=0.04, distance=1312
[02:37:23] [ENEMY] [Enemy7] Heard gunshot at (722.1131, 912.0663), source_type=0, intensity=0.06, distance=889
[02:37:23] [ENEMY] [Enemy8] Heard gunshot at (722.1131, 912.0663), source_type=0, intensity=0.04, distance=1295
[02:37:23] [ENEMY] [Enemy10] Heard gunshot at (722.1131, 912.0663), source_type=0, intensity=0.06, distance=817
[02:37:23] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=1, self=0, below_threshold=0
[02:37:23] [ENEMY] [Enemy4] Hit taken, health: 3/4
[02:37:23] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[02:37:23] [INFO] [ImpactEffects] spawn_blood_effect called at (800, 900), dir=(1, 0), lethal=false
[02:37:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:37:23] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:37:23] [INFO] [ImpactEffects] Blood effect spawned at (800, 900) (scale=1)
[02:37:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(722.1131, 912.0663), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:37:23] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=1, self=0, below_threshold=0
[02:37:23] [ENEMY] [Enemy4] Hit taken, health: 2/4
[02:37:23] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[02:37:23] [INFO] [ImpactEffects] spawn_blood_effect called at (800, 900), dir=(1, 0), lethal=false
[02:37:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:37:23] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:37:23] [INFO] [ImpactEffects] Blood effect spawned at (800, 900) (scale=1)
[02:37:23] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(722.1131, 912.0663), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:37:23] [ENEMY] [Enemy4] Heard gunshot at (722.1131, 912.0663), source_type=0, intensity=0.63, distance=79
[02:37:23] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=1, self=0, below_threshold=0
[02:37:23] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:23] [ENEMY] [Enemy4] Hit taken, health: 1/4
[02:37:23] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[02:37:23] [INFO] [ImpactEffects] spawn_blood_effect called at (800, 900), dir=(1, 0), lethal=false
[02:37:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:37:23] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:37:23] [INFO] [ImpactEffects] Blood effect spawned at (800, 900) (scale=1)
[02:37:23] [ENEMY] [Enemy9] Memory: medium confidence (0.61) - transitioning to PURSUING
[02:37:23] [ENEMY] [Enemy9] State: IDLE -> PURSUING
[02:37:24] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:37:24] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:37:24] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:37:24] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:37:24] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:37:24] [ENEMY] [Enemy5] State: COMBAT -> PURSUING
[02:37:24] [ENEMY] [Enemy6] State: COMBAT -> PURSUING
[02:37:24] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[02:37:24] [ENEMY] [Enemy8] State: COMBAT -> PURSUING
[02:37:24] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:37:26] [ENEMY] [Enemy2] FLANKING started: target=(529.3433, 959.3561), side=left, pos=(476.1205, 663.9337)
[02:37:26] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[02:37:26] [ENEMY] [Enemy8] FLANKING started: target=(885.5155, 790.7422), side=left, pos=(1750.869, 1381.131)
[02:37:26] [ENEMY] [Enemy8] State: PURSUING -> FLANKING
[02:37:26] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[02:37:27] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[02:37:27] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:27] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:27] [ENEMY] [Enemy3] FLANKING started: target=(552.859, 799.5156), side=left, pos=(727.3466, 769.3188)
[02:37:27] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[02:37:28] [ENEMY] [Enemy10] FLANKING started: target=(921.972, 913.5761), side=left, pos=(1002.598, 1436.973)
[02:37:28] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:37:28] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:28] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:28] [ENEMY] [Enemy7] FLANKING started: target=(823.1479, 1078.67), side=right, pos=(1427.839, 901.8427)
[02:37:28] [ENEMY] [Enemy7] State: PURSUING -> FLANKING
[02:37:28] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[02:37:28] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:28] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:29] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:29] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:29] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:29] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:29] [ENEMY] [Enemy2] FLANKING stuck (2.0s no progress), target=(556.421, 1018.076), pos=(558.5156, 820.7128), fail_count=1
[02:37:29] [ENEMY] [Enemy2] State: FLANKING -> PURSUING
[02:37:29] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:29] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:29] [ENEMY] [Enemy9] FLANKING started: target=(877.6091, 780.2848), side=left, pos=(1734.037, 1295.124)
[02:37:29] [ENEMY] [Enemy9] State: PURSUING -> FLANKING
[02:37:29] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:30] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:30] [ENEMY] [Enemy5] FLANKING started: target=(733.8035, 706.4083), side=left, pos=(1412.067, 559.8245)
[02:37:30] [ENEMY] [Enemy5] State: PURSUING -> FLANKING
[02:37:30] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:31] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(640.0966, 861.1093), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:31] [ENEMY] [Enemy3] Heard gunshot at (640.0966, 861.1093), source_type=1, intensity=0.52, distance=97
[02:37:31] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:31] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[02:37:31] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:31] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:31] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:31] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:31] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:31] [ENEMY] [Enemy8] FLANKING timeout (5.0s), target=(756.2933, 709.0087), pos=(1387.721, 660.9184)
[02:37:31] [ENEMY] [Enemy8] State: FLANKING -> PURSUING
[02:37:31] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:31] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:31] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:31] [ENEMY] [Enemy4] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.35, distance=141
[02:37:31] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:31] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:31] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:31] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:31] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:37:31] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:31] [ENEMY] [Enemy4] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.34, distance=149
[02:37:31] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:31] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:31] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:31] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:37:31] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:31] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:37:31] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:31] [ENEMY] [Enemy4] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.33, distance=153
[02:37:31] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:31] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:31] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:31] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:37:31] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:37:31] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:31] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:31] [ENEMY] [Enemy4] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.33, distance=153
[02:37:31] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:31] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:31] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:31] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:37:31] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:37:31] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:31] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:31] [ENEMY] [Enemy4] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.33, distance=153
[02:37:31] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:31] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:31] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:31] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:37:31] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:37:31] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:31] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:31] [ENEMY] [Enemy4] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.33, distance=153
[02:37:31] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:31] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:31] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:31] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:37:31] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:37:32] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:32] [ENEMY] [Enemy4] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.33, distance=153
[02:37:32] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:32] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:32] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:32] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:37:32] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:37:32] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:32] [ENEMY] [Enemy4] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.33, distance=153
[02:37:32] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:32] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:32] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:32] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:37:32] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:37:32] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:32] [ENEMY] [Enemy4] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.33, distance=153
[02:37:32] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:32] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:32] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:32] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:37:32] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:37:32] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:32] [ENEMY] [Enemy4] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.33, distance=153
[02:37:32] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:32] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:32] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:32] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:37:32] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:37:32] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:32] [ENEMY] [Enemy4] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.33, distance=153
[02:37:32] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:32] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:32] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:32] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:37:32] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:37:32] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:32] [ENEMY] [Enemy4] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.33, distance=153
[02:37:32] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:32] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:32] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:32] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:37:32] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:37:32] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:32] [ENEMY] [Enemy4] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.33, distance=153
[02:37:32] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:32] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:32] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:32] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:37:32] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:37:32] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:32] [ENEMY] [Enemy4] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.33, distance=153
[02:37:32] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:32] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:32] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:32] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:37:32] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:37:32] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:32] [ENEMY] [Enemy4] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.33, distance=153
[02:37:32] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:32] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:32] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:32] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:37:33] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:37:33] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:33] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:33] [ENEMY] [Enemy10] FLANKING timeout (5.0s), target=(891.0751, 1013.08), pos=(721.0818, 1048.066)
[02:37:33] [ENEMY] [Enemy10] State: FLANKING -> PURSUING
[02:37:33] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:33] [ENEMY] [Enemy4] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.33, distance=153
[02:37:33] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:33] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:33] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:33] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:37:33] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:37:33] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:33] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:33] [ENEMY] [Enemy4] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.33, distance=153
[02:37:33] [ENEMY] [Enemy7] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.31, distance=160
[02:37:33] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:33] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:33] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:33] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:37:33] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:37:33] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:33] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:33] [ENEMY] [Enemy4] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.33, distance=153
[02:37:33] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:33] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:33] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:33] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:37:33] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:37:33] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:33] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:33] [ENEMY] [Enemy4] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.33, distance=153
[02:37:33] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:33] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:33] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:33] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:37:33] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:37:33] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:33] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:33] [ENEMY] [Enemy4] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.33, distance=153
[02:37:33] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:33] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:33] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:33] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:37:33] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:37:33] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:33] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:33] [ENEMY] [Enemy4] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.33, distance=153
[02:37:33] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:33] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:33] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:33] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:37:33] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:37:33] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[02:37:33] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:33] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:33] [ENEMY] [Enemy4] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.33, distance=153
[02:37:33] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:33] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:33] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:33] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:37:33] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:37:33] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:33] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:33] [ENEMY] [Enemy4] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.33, distance=153
[02:37:33] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:33] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:37:33] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:33] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:37:33] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:37:33] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:34] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[02:37:34] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:37:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7037, 876.4315), source=ENEMY (Enemy2), range=1469, listeners=10
[02:37:34] [ENEMY] [Enemy4] Heard gunshot at (644.7037, 876.4315), source_type=1, intensity=0.33, distance=153
[02:37:34] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=0, self=1, below_threshold=0
[02:37:34] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:34] [ENEMY] [Enemy2] State: COMBAT -> SEEKING_COVER
[02:37:34] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:37:34] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:37:34] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[02:37:34] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:37:34] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:37:34] [ENEMY] [Enemy1] Death animation component initialized
[02:37:34] [ENEMY] [Enemy2] Death animation component initialized
[02:37:34] [ENEMY] [Enemy3] Death animation component initialized
[02:37:34] [ENEMY] [Enemy4] Death animation component initialized
[02:37:34] [ENEMY] [Enemy5] Death animation component initialized
[02:37:34] [ENEMY] [Enemy6] Death animation component initialized
[02:37:34] [ENEMY] [Enemy7] Death animation component initialized
[02:37:34] [ENEMY] [Enemy8] Death animation component initialized
[02:37:34] [ENEMY] [Enemy9] Death animation component initialized
[02:37:34] [ENEMY] [Enemy10] Death animation component initialized
[02:37:34] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:37:34] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:37:34] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:37:34] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:37:34] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:37:34] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:37:34] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:37:34] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[02:37:34] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:37:34] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:37:34] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[02:37:34] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[02:37:34] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[02:37:34] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[02:37:34] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[02:37:34] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[02:37:34] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[02:37:34] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[02:37:34] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[02:37:34] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[02:37:34] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[02:37:34] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[02:37:34] [INFO] [ScoreManager] Level started with 10 enemies
[02:37:34] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:37:34] [ENEMY] [Enemy1] Registered as sound listener
[02:37:34] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:37:34] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:37:34] [ENEMY] [Enemy2] Registered as sound listener
[02:37:34] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:37:34] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:37:34] [ENEMY] [Enemy3] Registered as sound listener
[02:37:34] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:37:34] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:37:34] [ENEMY] [Enemy4] Registered as sound listener
[02:37:34] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:37:34] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:37:34] [ENEMY] [Enemy5] Registered as sound listener
[02:37:34] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:37:34] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:37:34] [ENEMY] [Enemy6] Registered as sound listener
[02:37:34] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:37:34] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:37:34] [ENEMY] [Enemy7] Registered as sound listener
[02:37:34] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:37:34] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:37:34] [ENEMY] [Enemy8] Registered as sound listener
[02:37:34] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:37:34] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:37:34] [ENEMY] [Enemy9] Registered as sound listener
[02:37:34] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:37:34] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:37:34] [ENEMY] [Enemy10] Registered as sound listener
[02:37:34] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:37:34] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:37:34] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:37:34] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:37:34] [INFO] [LastChance] Found player: Player
[02:37:34] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:37:34] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:37:34] [INFO] [LastChance] Connected to player Died signal (C#)
[02:37:34] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:37:34] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:37:34] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:37:35] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:37:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(477.91, 771.2275), source=PLAYER (AssaultRifle), range=1469, listeners=20
[02:37:36] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:37:36] [ENEMY] [Enemy1] Heard gunshot at (477.91, 771.2275), source_type=0, intensity=0.11, distance=457
[02:37:36] [ENEMY] [Enemy2] Heard gunshot at (477.91, 771.2275), source_type=0, intensity=0.21, distance=235
[02:37:36] [ENEMY] [Enemy4] Heard gunshot at (477.91, 771.2275), source_type=0, intensity=0.14, distance=347
[02:37:36] [ENEMY] [Enemy5] Heard gunshot at (477.91, 771.2275), source_type=0, intensity=0.04, distance=1293
[02:37:36] [ENEMY] [Enemy7] Heard gunshot at (477.91, 771.2275), source_type=0, intensity=0.04, distance=1209
[02:37:36] [ENEMY] [Enemy10] Heard gunshot at (477.91, 771.2275), source_type=0, intensity=0.05, distance=1091
[02:37:36] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=3, self=0, below_threshold=0
[02:37:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.6744, 752.6759), source=ENEMY (Enemy3), range=1469, listeners=10
[02:37:36] [ENEMY] [Enemy6] Heard gunshot at (689.6744, 752.6759), source_type=1, intensity=0.04, distance=1296
[02:37:36] [ENEMY] [Enemy8] Heard gunshot at (689.6744, 752.6759), source_type=1, intensity=0.04, distance=1397
[02:37:36] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:37:36] [INFO] [LastChance] Threat detected: @Area2D@4654
[02:37:36] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:36] [ENEMY] [Enemy3] Hit taken, health: 2/3
[02:37:36] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[02:37:36] [INFO] [ImpactEffects] spawn_blood_effect called at (689.6744, 752.6759), dir=(1, 0), lethal=false
[02:37:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:37:36] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:37:36] [INFO] [ImpactEffects] Blood effect spawned at (689.6744, 752.6759) (scale=1)
[02:37:36] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(506.7567, 753.2339), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:37:36] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=2, self=0, below_threshold=0
[02:37:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.6744, 752.6759), source=ENEMY (Enemy3), range=1469, listeners=10
[02:37:36] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:37:36] [INFO] [LastChance] Threat detected: @Area2D@4657
[02:37:36] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:36] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:36] [ENEMY] [Enemy3] Hit taken, health: 1/3
[02:37:36] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[02:37:36] [INFO] [ImpactEffects] spawn_blood_effect called at (689.6744, 752.6759), dir=(1, 0), lethal=false
[02:37:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:37:36] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:37:36] [INFO] [ImpactEffects] Blood effect spawned at (689.6744, 752.6759) (scale=1)
[02:37:36] [ENEMY] [Enemy9] Memory: medium confidence (0.61) - transitioning to PURSUING
[02:37:36] [ENEMY] [Enemy9] State: IDLE -> PURSUING
[02:37:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(538.6158, 748.5397), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:37:36] [INFO] [SoundPropagation] Sound result: notified=9, out_of_range=1, self=0, below_threshold=0
[02:37:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.6744, 752.6759), source=ENEMY (Enemy3), range=1469, listeners=10
[02:37:36] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=1, below_threshold=0
[02:37:36] [INFO] [LastChance] Threat detected: @Area2D@4661
[02:37:36] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:36] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:37:36] [ENEMY] [Enemy3] Hit taken, health: 0/3
[02:37:36] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[02:37:36] [INFO] [ImpactEffects] spawn_blood_effect called at (689.6744, 752.6759), dir=(1, 0), lethal=true
[02:37:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:37:36] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[02:37:36] [INFO] [ImpactEffects] Blood effect spawned at (689.6744, 752.6759) (scale=1.5)
[02:37:36] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:37:36] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:37:36] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[02:37:36] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:37:36] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[02:37:36] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(567.1927, 756.6108), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:37:36] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=0, below_threshold=0
[02:37:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(586.6398, 774.4236), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:37:36] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=0, below_threshold=0
[02:37:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(567.19275, 756.61084), shooter_id=2610115382386, bullet_pos=(925.4274, 748.2091)
[02:37:36] [INFO] [Bullet] Using shooter_position, distance=358,3332
[02:37:36] [INFO] [Bullet] Distance to wall: 358,3332 (24,399567% of viewport)
[02:37:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:36] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:37:36] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:37:36] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:37:36] [ENEMY] [Enemy5] State: COMBAT -> PURSUING
[02:37:36] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[02:37:36] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:37:36] [ENEMY] [Enemy6] State: COMBAT -> PURSUING
[02:37:36] [ENEMY] [Enemy8] State: COMBAT -> PURSUING
[02:37:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(586.6398, 774.4236), shooter_id=2610115382386, bullet_pos=(910.15125, 743.35443)
[02:37:36] [INFO] [Bullet] Using shooter_position, distance=324,99994
[02:37:36] [INFO] [Bullet] Distance to wall: 324,99994 (22,129845% of viewport)
[02:37:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:36] [INFO] [Bullet] Starting wall penetration at (910.15125, 743.35443)
[02:37:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,365655
[02:37:36] [INFO] [Bullet] Body exited signal received for penetrating body
[02:37:36] [INFO] [Bullet] Exiting penetration at (948.309, 739.6899) after traveling 33,333336 pixels through wall
[02:37:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:37:36] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:37:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(744.847, 914.0652), source=ENEMY (Enemy4), range=1469, listeners=9
[02:37:36] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=0, self=1, below_threshold=0
[02:37:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(680.0061, 893.419), shooter_id=2607582021289, bullet_pos=(680.0061, 893.419)
[02:37:36] [INFO] [Bullet] Using shooter_position, distance=0
[02:37:36] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:37:36] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:37:36] [INFO] [Bullet] Starting wall penetration at (680.0061, 893.419)
[02:37:36] [INFO] [LastChance] Threat detected: Bullet
[02:37:36] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:36] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:37:36] [INFO] [Bullet] Exiting penetration at (645.0536, 877.6784) after traveling 33.3333320617676 pixels through wall
[02:37:36] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:37:36] [ENEMY] [Enemy3] Ragdoll activated
[02:37:36] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:37:37] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[02:37:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(597.3514, 914.7307), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:37:37] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=0, below_threshold=0
[02:37:37] [ENEMY] [Enemy4] Hit taken, health: 1/2
[02:37:37] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[02:37:37] [INFO] [ImpactEffects] spawn_blood_effect called at (744.847, 914.0652), dir=(1, 0), lethal=false
[02:37:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:37:37] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[02:37:37] [INFO] [ImpactEffects] Blood effect spawned at (744.847, 914.0652) (scale=1)
[02:37:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(607.6004, 945.6855), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:37:37] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=1, self=0, below_threshold=0
[02:37:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(744.847, 914.0652), source=ENEMY (Enemy4), range=1469, listeners=9
[02:37:37] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=0, self=1, below_threshold=0
[02:37:37] [INFO] [LastChance] Threat detected: @Area2D@4696
[02:37:37] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:37] [ENEMY] [Enemy4] Hit taken, health: 0/2
[02:37:37] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[02:37:37] [INFO] [ImpactEffects] spawn_blood_effect called at (744.847, 914.0652), dir=(1, 0), lethal=true
[02:37:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[02:37:37] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[02:37:37] [INFO] [ImpactEffects] Blood effect spawned at (744.847, 914.0652) (scale=1.5)
[02:37:37] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[02:37:37] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[02:37:37] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[02:37:37] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:37:37] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[02:37:37] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(628.1552, 968.664), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:37:37] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=0, self=0, below_threshold=0
[02:37:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(654.1931, 979.6302), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:37:37] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=0, self=0, below_threshold=0
[02:37:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(628.15515, 968.664), shooter_id=2610115382386, bullet_pos=(931.7661, 852.70953)
[02:37:37] [INFO] [Bullet] Using shooter_position, distance=325,0001
[02:37:37] [INFO] [Bullet] Distance to wall: 325,0001 (22,129854% of viewport)
[02:37:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(628.15515, 968.664), shooter_id=2610115382386, bullet_pos=(760.1259, 818.5821)
[02:37:37] [INFO] [Bullet] Using shooter_position, distance=199,8521
[02:37:37] [INFO] [Bullet] Distance to wall: 199,8521 (13,608297% of viewport)
[02:37:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(678.262, 977.6765), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:37:37] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=0, self=0, below_threshold=0
[02:37:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(654.1931, 979.63025), shooter_id=2610115382386, bullet_pos=(911.1779, 841.6869)
[02:37:37] [INFO] [Bullet] Using shooter_position, distance=291,66687
[02:37:37] [INFO] [Bullet] Distance to wall: 291,66687 (19,860134% of viewport)
[02:37:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(628.15515, 968.664), shooter_id=2610115382386, bullet_pos=(930.9376, 787.68536)
[02:37:37] [INFO] [Bullet] Using shooter_position, distance=352,74707
[02:37:37] [INFO] [Bullet] Distance to wall: 352,74707 (24,019197% of viewport)
[02:37:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:37] [INFO] [Bullet] Starting wall penetration at (930.9376, 787.68536)
[02:37:37] [INFO] [Bullet] Body exited signal received for penetrating body
[02:37:37] [INFO] [Bullet] Exiting penetration at (959.5566, 782.5087) after traveling 0 pixels through wall
[02:37:37] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[02:37:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(678.26196, 977.6765), shooter_id=2610115382386, bullet_pos=(918.237, 811.90076)
[02:37:37] [INFO] [Bullet] Using shooter_position, distance=291,66696
[02:37:37] [INFO] [Bullet] Distance to wall: 291,66696 (19,860142% of viewport)
[02:37:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:37] [ENEMY] [Enemy4] Ragdoll activated
[02:37:37] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:37:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(678.26196, 977.6765), shooter_id=2610115382386, bullet_pos=(508.16974, 549.81384)
[02:37:38] [INFO] [Bullet] Using shooter_position, distance=460,43222
[02:37:38] [INFO] [Bullet] Distance to wall: 460,43222 (31,351677% of viewport)
[02:37:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:37:38] [INFO] [Bullet] Starting wall penetration at (508.16974, 549.81384)
[02:37:38] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,637514
[02:37:38] [INFO] [Bullet] Body exited signal received for penetrating body
[02:37:38] [INFO] [Bullet] Exiting penetration at (480.08295, 531.8627) after traveling 28,333336 pixels through wall
[02:37:38] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:37:38] [ENEMY] [Enemy3] Death animation completed
[02:37:38] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[02:37:38] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:37:38] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:37:38] [ENEMY] [Enemy7] FLANKING started: target=(829.2098, 730.3619), side=left, pos=(1520.907, 885.9335)
[02:37:38] [ENEMY] [Enemy7] State: PURSUING -> FLANKING
[02:37:38] [ENEMY] [Enemy8] FLANKING started: target=(752.194, 1105.208), side=right, pos=(1755.803, 1375.891)
[02:37:38] [ENEMY] [Enemy8] State: PURSUING -> FLANKING
[02:37:39] [ENEMY] [Enemy4] Death animation completed
[02:37:39] [ENEMY] [Enemy9] FLANKING started: target=(875.7104, 765.2667), side=left, pos=(2014.177, 1255.198)
[02:37:39] [ENEMY] [Enemy9] State: PURSUING -> FLANKING
[02:37:40] [ENEMY] [Enemy10] FLANKING started: target=(933.3282, 917.7695), side=left, pos=(1000.505, 1437.866)
[02:37:40] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:37:40] [ENEMY] [Enemy5] FLANKING started: target=(714.9332, 706.9468), side=left, pos=(1428.055, 413.0346)
[02:37:40] [ENEMY] [Enemy5] State: PURSUING -> FLANKING
[02:37:40] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[02:37:41] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[02:37:41] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[02:37:43] [ENEMY] [Enemy6] FLANKING started: target=(749.6415, 706.7057), side=left, pos=(1428.309, 575.9333)
[02:37:43] [ENEMY] [Enemy6] State: PURSUING -> FLANKING
[02:37:43] [ENEMY] [Enemy7] FLANKING timeout (5.0s), target=(571.0455, 789.6497), pos=(752.7473, 669.0331)
[02:37:43] [ENEMY] [Enemy7] State: FLANKING -> PURSUING
[02:37:43] [ENEMY] [Enemy8] FLANKING timeout (5.0s), target=(664.3347, 718.4705), pos=(469.4505, 855.4388)
[02:37:43] [ENEMY] [Enemy8] State: FLANKING -> PURSUING
[02:37:44] [ENEMY] [Enemy2] FLANKING started: target=(770.7799, 709.5399), side=right, pos=(435.6425, 649.7863)
[02:37:44] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[02:37:44] [ENEMY] [Enemy9] FLANKING timeout (5.0s), target=(697.025, 709.453), pos=(1014.706, 660.1263)
[02:37:44] [ENEMY] [Enemy9] State: FLANKING -> PURSUING
[02:37:45] [ENEMY] [Enemy1] FLANKING started: target=(775.5353, 710.4977), side=right, pos=(445.3008, 645.6633)
[02:37:45] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[02:37:45] [ENEMY] [Enemy10] FLANKING timeout (5.0s), target=(923.6732, 843.6241), pos=(916.6124, 1075.969)
[02:37:45] [ENEMY] [Enemy10] State: FLANKING -> PURSUING
[02:37:45] [ENEMY] [Enemy5] FLANKING timeout (5.0s), target=(564.9338, 1013.435), pos=(554.3639, 807.9144)
[02:37:45] [ENEMY] [Enemy5] State: FLANKING -> PURSUING
[02:37:46] [ENEMY] [Enemy9] FLANKING started: target=(681.7841, 712.9149), side=left, pos=(975.4965, 663.9335)
[02:37:46] [ENEMY] [Enemy9] State: PURSUING -> FLANKING
[02:37:47] [ENEMY] [Enemy10] FLANKING started: target=(930.105, 868.4691), side=left, pos=(867.9518, 1061.438)
[02:37:47] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:37:47] [ENEMY] [Enemy5] FLANKING started: target=(555.2296, 996.3927), side=left, pos=(498.9482, 752.7507)
[02:37:47] [ENEMY] [Enemy5] State: PURSUING -> FLANKING
[02:37:47] [ENEMY] [Enemy8] FLANKING started: target=(546.5641, 976.7147), side=left, pos=(638.4395, 828.0809)
[02:37:47] [ENEMY] [Enemy8] State: PURSUING -> FLANKING
[02:37:48] [ENEMY] [Enemy7] FLANKING started: target=(556.2158, 998.3151), side=left, pos=(488.8111, 749.8769)
[02:37:48] [ENEMY] [Enemy7] State: PURSUING -> FLANKING
[02:37:48] [ENEMY] [Enemy6] FLANKING timeout (5.0s), target=(551.7223, 989.1016), pos=(606.1418, 821.4957)
[02:37:48] [ENEMY] [Enemy6] State: FLANKING -> PURSUING
[02:37:48] [ENEMY] [Enemy2] FLANKING stuck (2.0s no progress), target=(924.1117, 967.1594), pos=(1077.982, 599.5026), fail_count=1
[02:37:48] [ENEMY] [Enemy2] State: FLANKING -> PURSUING
[02:37:49] [ENEMY] [Enemy1] FLANKING stuck (2.0s no progress), target=(924.0753, 967.2727), pos=(1078.319, 599.5643), fail_count=1
[02:37:49] [ENEMY] [Enemy1] State: FLANKING -> PURSUING
[02:37:50] [ENEMY] [Enemy6] FLANKING started: target=(556.8867, 999.5945), side=left, pos=(484.8946, 749.8951)
[02:37:50] [ENEMY] [Enemy6] State: PURSUING -> FLANKING
[02:37:50] [ENEMY] [Enemy9] FLANKING stuck (2.0s no progress), target=(566.2048, 1015.407), pos=(553.5761, 810.0344), fail_count=1
[02:37:50] [ENEMY] [Enemy9] State: FLANKING -> PURSUING
[02:37:50] [ENEMY] [Enemy8] FLANKING stuck (2.0s no progress), target=(565.127, 1013.738), pos=(556.5537, 809.6595), fail_count=1
[02:37:50] [ENEMY] [Enemy8] State: FLANKING -> PURSUING
[02:37:50] [ENEMY] [Enemy7] FLANKING stuck (2.0s no progress), target=(564.36, 1012.528), pos=(554.7977, 805.7325), fail_count=1
[02:37:50] [ENEMY] [Enemy7] State: FLANKING -> PURSUING
[02:37:50] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[02:37:51] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:37:51] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[02:37:51] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:37:52] [ENEMY] [Enemy8] State: PURSUING -> COMBAT
[02:37:52] [ENEMY] [Enemy9] State: PURSUING -> COMBAT
[02:37:52] [ENEMY] [Enemy10] FLANKING timeout (5.0s), target=(922.8731, 841.2403), pos=(901.7283, 1058.914)
[02:37:52] [ENEMY] [Enemy10] State: FLANKING -> PURSUING
[02:37:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(639.6182, 826.8635), source=ENEMY (Enemy8), range=1469, listeners=8
[02:37:52] [ENEMY] [Enemy5] Heard gunshot at (639.6182, 826.8635), source_type=1, intensity=0.57, distance=88
[02:37:52] [ENEMY] [Enemy6] Heard gunshot at (639.6182, 826.8635), source_type=1, intensity=0.58, distance=86
[02:37:52] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:37:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(639.0191, 838.1367), source=ENEMY (Enemy9), range=1469, listeners=8
[02:37:52] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:37:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(686.3015, 876.3737), shooter_id=2608722873658, bullet_pos=(686.3015, 876.3737)
[02:37:52] [INFO] [Bullet] Using shooter_position, distance=0
[02:37:52] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:37:52] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:37:52] [INFO] [Bullet] Starting wall penetration at (686.3015, 876.3737)
[02:37:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(689.3911, 883.8889), shooter_id=2609008086422, bullet_pos=(689.3911, 883.8889)
[02:37:52] [INFO] [Bullet] Using shooter_position, distance=0
[02:37:52] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:37:52] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:37:52] [INFO] [Bullet] Starting wall penetration at (689.3911, 883.8889)
[02:37:52] [INFO] [LastChance] Threat detected: Bullet
[02:37:52] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:52] [INFO] [LastChance] Threat detected: @Area2D@4732
[02:37:52] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25.5125637054443
[02:37:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36.185619354248
[02:37:52] [INFO] [Bullet] Body exited signal received for penetrating body
[02:37:52] [INFO] [Bullet] Exiting penetration at (721.9971, 906.4337) after traveling 41.6666717529297 pixels through wall
[02:37:52] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:37:52] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:52] [INFO] [Bullet] Body exited signal received for penetrating body
[02:37:52] [INFO] [Bullet] Exiting penetration at (727.3042, 911.0986) after traveling 41.6666679382324 pixels through wall
[02:37:52] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:37:52] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:52] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(639.6182, 826.8635), source=ENEMY (Enemy8), range=1469, listeners=8
[02:37:52] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:37:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(639.0191, 838.1367), source=ENEMY (Enemy9), range=1469, listeners=8
[02:37:52] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:37:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(686.3015, 876.3737), shooter_id=2608722873658, bullet_pos=(686.3015, 876.3737)
[02:37:52] [INFO] [Bullet] Using shooter_position, distance=0
[02:37:52] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:37:52] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:37:52] [INFO] [Bullet] Starting wall penetration at (686.3015, 876.3737)
[02:37:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(689.3911, 883.8889), shooter_id=2609008086422, bullet_pos=(689.3911, 883.8889)
[02:37:52] [INFO] [Bullet] Using shooter_position, distance=0
[02:37:52] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:37:52] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:37:52] [INFO] [Bullet] Starting wall penetration at (689.3911, 883.8889)
[02:37:52] [INFO] [LastChance] Threat detected: Bullet
[02:37:52] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:52] [INFO] [LastChance] Threat detected: @Area2D@4736
[02:37:52] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:37:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:37:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25.5125637054443
[02:37:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36.185619354248
[02:37:52] [INFO] [Bullet] Body exited signal received for penetrating body
[02:37:52] [INFO] [Bullet] Exiting penetration at (721.9971, 906.4337) after traveling 41.6666717529297 pixels through wall
[02:37:52] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:37:52] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:52] [INFO] [Bullet] Body exited signal received for penetrating body
[02:37:52] [INFO] [Bullet] Exiting penetration at (727.3042, 911.0986) after traveling 41.6666679382324 pixels through wall
[02:37:52] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:37:52] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:37:52] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:52] [ENEMY] [Enemy8] State: COMBAT -> RETREATING
[02:37:52] [ENEMY] [Enemy9] State: COMBAT -> RETREATING
[02:37:52] [ENEMY] [Enemy8] State: RETREATING -> IN_COVER
[02:37:52] [ENEMY] [Enemy9] State: RETREATING -> IN_COVER
[02:37:52] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[02:37:52] [ENEMY] [Enemy9] State: IN_COVER -> SUPPRESSED
[02:37:52] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:52] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[02:37:52] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:52] [ENEMY] [Enemy5] State: COMBAT -> PURSUING
[02:37:52] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:53] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:53] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:53] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:37:53] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[02:37:53] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:53] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:53] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:53] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:53] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:53] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:37:53] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:54] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:54] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:54] [ENEMY] [Enemy10] FLANKING started: target=(933.6664, 907.4031), side=left, pos=(814.3979, 1048.073)
[02:37:54] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:37:54] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:54] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:54] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:54] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:54] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:54] [ENEMY] [Enemy2] FLANKING started: target=(675.5788, 714.6896), side=left, pos=(960.0635, 664.2612)
[02:37:54] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[02:37:55] [ENEMY] [Enemy8] State: SUPPRESSED -> IN_COVER
[02:37:55] [ENEMY] [Enemy9] State: SUPPRESSED -> IN_COVER
[02:37:55] [ENEMY] [Enemy8] State: IN_COVER -> PURSUING
[02:37:55] [ENEMY] [Enemy9] State: IN_COVER -> PURSUING
[02:37:55] [ENEMY] [Enemy6] State: COMBAT -> SEEKING_COVER
[02:37:55] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[02:37:55] [ENEMY] [Enemy6] State: IN_COVER -> COMBAT
[02:37:55] [ENEMY] [Enemy1] FLANKING started: target=(675.5774, 714.6901), side=left, pos=(960.0619, 664.2595)
[02:37:55] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[02:37:56] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:56] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:56] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:56] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:56] [ENEMY] [Enemy7] State: PURSUING -> COMBAT
[02:37:56] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:56] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:56] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:56] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:57] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:57] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:57] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:57] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:57] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:57] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:57] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:57] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:57] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:57] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:57] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:57] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:57] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:57] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:57] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:57] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:57] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy6] State: COMBAT -> SEEKING_COVER
[02:37:58] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[02:37:58] [ENEMY] [Enemy6] State: IN_COVER -> COMBAT
[02:37:58] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy5] State: PURSUING -> COMBAT
[02:37:58] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy8] State: PURSUING -> COMBAT
[02:37:58] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:58] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy2] FLANKING stuck (2.0s no progress), target=(561.6808, 1008.143), pos=(554.9971, 810.9626), fail_count=1
[02:37:59] [ENEMY] [Enemy2] State: FLANKING -> PURSUING
[02:37:59] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy10] FLANKING timeout (5.0s), target=(924.5101, 846.2307), pos=(919.1899, 1071.453)
[02:37:59] [ENEMY] [Enemy10] State: FLANKING -> PURSUING
[02:37:59] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy1] FLANKING stuck (2.0s no progress), target=(561.681, 1008.143), pos=(554.9971, 810.9632), fail_count=1
[02:37:59] [ENEMY] [Enemy1] State: FLANKING -> PURSUING
[02:37:59] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:37:59] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy7] State: COMBAT -> SEEKING_COVER
[02:38:00] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy9] State: PURSUING -> COMBAT
[02:38:00] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy6] State: COMBAT -> SEEKING_COVER
[02:38:00] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[02:38:00] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy6] State: IN_COVER -> COMBAT
[02:38:00] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:38:00] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy8] State: COMBAT -> SEEKING_COVER
[02:38:01] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy5] State: COMBAT -> SEEKING_COVER
[02:38:01] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy8] State: SEEKING_COVER -> IN_COVER
[02:38:01] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy8] State: IN_COVER -> PURSUING
[02:38:01] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:01] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:02] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:02] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:02] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:02] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:02] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:02] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:02] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:02] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[02:38:02] [ENEMY] [Enemy5] State: IN_COVER -> PURSUING
[02:38:02] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:02] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:02] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:02] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(733.6708, 912.0671), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:38:02] [ENEMY] [Enemy7] Heard gunshot at (733.6708, 912.0671), source_type=0, intensity=0.90, distance=55
[02:38:02] [INFO] [SoundPropagation] Sound result: notified=8, out_of_range=0, self=0, below_threshold=0
[02:38:02] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(733.67084, 912.0671), shooter_id=2610115382386, bullet_pos=(918.1077, 859.9215)
[02:38:02] [INFO] [Bullet] Using shooter_position, distance=191,6667
[02:38:02] [INFO] [Bullet] Distance to wall: 191,6667 (13,05094% of viewport)
[02:38:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:38:02] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:02] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:38:02] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:02] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:02] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[02:38:02] [ENEMY] [Enemy9] State: COMBAT -> RETREATING
[02:38:02] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:38:02] [ENEMY] [Enemy5] State: PURSUING -> RETREATING
[02:38:02] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[02:38:02] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:02] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[02:38:02] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:02] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:38:03] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[02:38:03] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:03] [ENEMY] [Enemy8] State: PURSUING -> RETREATING
[02:38:03] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[02:38:03] [ENEMY] [Enemy8] State: RETREATING -> IN_COVER
[02:38:03] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:38:03] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[02:38:03] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:03] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:38:03] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:03] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:03] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:38:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(645.4599, 905.0688), source=ENEMY (Enemy7), range=1469, listeners=8
[02:38:03] [ENEMY] [Enemy1] Heard gunshot at (645.4599, 905.0688), source_type=1, intensity=0.81, distance=62
[02:38:03] [ENEMY] [Enemy5] Heard gunshot at (645.4599, 905.0688), source_type=1, intensity=0.21, distance=243
[02:38:03] [ENEMY] [Enemy8] Heard gunshot at (645.4599, 905.0688), source_type=1, intensity=0.95, distance=53
[02:38:03] [ENEMY] [Enemy9] Heard gunshot at (645.4599, 905.0688), source_type=1, intensity=1.00, distance=29
[02:38:03] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:38:03] [ENEMY] [Enemy8] State: COMBAT -> RETREATING
[02:38:03] [ENEMY] [Enemy9] State: COMBAT -> RETREATING
[02:38:03] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[02:38:03] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[02:38:03] [ENEMY] [Enemy8] State: RETREATING -> IN_COVER
[02:38:03] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[02:38:03] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[02:38:03] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:03] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[02:38:03] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:38:03] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[02:38:03] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(712.9673, 913.6332), shooter_id=2608437660467, bullet_pos=(921.2873, 915.9907)
[02:38:03] [INFO] [Bullet] Using shooter_position, distance=208.333343505859
[02:38:03] [INFO] [Bullet] Distance to wall: 208.333343505859 (14.1858004505525% of viewport)
[02:38:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:38:03] [INFO] [Bullet] Starting wall penetration at (921.2873, 915.9907)
[02:38:03] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31.9530334472656
[02:38:03] [INFO] [Bullet] Body exited signal received for penetrating body
[02:38:03] [INFO] [Bullet] Exiting penetration at (967.951, 916.5188) after traveling 41.6666679382324 pixels through wall
[02:38:03] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:38:03] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:38:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(625.4605, 888.2469), source=ENEMY (Enemy7), range=1469, listeners=8
[02:38:03] [ENEMY] [Enemy1] Heard gunshot at (625.4605, 888.2469), source_type=1, intensity=1.00, distance=48
[02:38:03] [ENEMY] [Enemy5] Heard gunshot at (625.4605, 888.2469), source_type=1, intensity=0.20, distance=254
[02:38:03] [ENEMY] [Enemy8] Heard gunshot at (625.4605, 888.2469), source_type=1, intensity=1.00, distance=42
[02:38:03] [ENEMY] [Enemy9] Heard gunshot at (625.4605, 888.2469), source_type=1, intensity=1.00, distance=30
[02:38:03] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:38:03] [ENEMY] [Enemy8] State: COMBAT -> RETREATING
[02:38:03] [ENEMY] [Enemy9] State: COMBAT -> RETREATING
[02:38:03] [INFO] [LastChance] Threat detected: @Area2D@4743
[02:38:03] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:38:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:38:03] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[02:38:03] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[02:38:03] [ENEMY] [Enemy8] State: RETREATING -> IN_COVER
[02:38:03] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:38:03] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[02:38:03] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[02:38:03] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:03] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[02:38:03] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:38:03] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[02:38:03] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(639.8654, 890.968), source=ENEMY (Enemy9), range=1469, listeners=8
[02:38:03] [ENEMY] [Enemy1] Heard gunshot at (639.8654, 890.968), source_type=1, intensity=1.00, distance=48
[02:38:03] [ENEMY] [Enemy5] Heard gunshot at (639.8654, 890.968), source_type=1, intensity=0.21, distance=242
[02:38:03] [ENEMY] [Enemy7] Heard gunshot at (639.8654, 890.968), source_type=1, intensity=1.00, distance=36
[02:38:03] [ENEMY] [Enemy8] Heard gunshot at (639.8654, 890.968), source_type=1, intensity=1.00, distance=39
[02:38:03] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:38:03] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[02:38:03] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[02:38:03] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[02:38:03] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[02:38:03] [ENEMY] [Enemy8] State: COMBAT -> RETREATING
[02:38:03] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:38:03] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[02:38:03] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[02:38:03] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:38:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(605.4615, 871.4249), source=ENEMY (Enemy7), range=1469, listeners=8
[02:38:03] [ENEMY] [Enemy1] Heard gunshot at (605.4615, 871.4249), source_type=1, intensity=1.00, distance=47
[02:38:03] [ENEMY] [Enemy2] Heard gunshot at (605.4615, 871.4249), source_type=1, intensity=0.45, distance=111
[02:38:03] [ENEMY] [Enemy5] Heard gunshot at (605.4615, 871.4249), source_type=1, intensity=0.19, distance=268
[02:38:03] [ENEMY] [Enemy8] Heard gunshot at (605.4615, 871.4249), source_type=1, intensity=1.00, distance=45
[02:38:03] [ENEMY] [Enemy9] Heard gunshot at (605.4615, 871.4249), source_type=1, intensity=1.00, distance=34
[02:38:03] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:38:03] [ENEMY] [Enemy8] State: COMBAT -> RETREATING
[02:38:03] [ENEMY] [Enemy9] State: COMBAT -> RETREATING
[02:38:03] [INFO] [LastChance] Threat detected: @Area2D@4746
[02:38:03] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:38:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:38:03] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[02:38:03] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:38:03] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[02:38:03] [ENEMY] [Enemy8] State: RETREATING -> IN_COVER
[02:38:03] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[02:38:03] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[02:38:03] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:03] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[02:38:03] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:38:03] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:38:03] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[02:38:03] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[02:38:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.5792, 865.4736), source=ENEMY (Enemy9), range=1469, listeners=8
[02:38:03] [ENEMY] [Enemy1] Heard gunshot at (636.5792, 865.4736), source_type=1, intensity=1.00, distance=23
[02:38:03] [ENEMY] [Enemy2] Heard gunshot at (636.5792, 865.4736), source_type=1, intensity=0.49, distance=102
[02:38:03] [ENEMY] [Enemy5] Heard gunshot at (636.5792, 865.4736), source_type=1, intensity=0.21, distance=236
[02:38:03] [ENEMY] [Enemy7] Heard gunshot at (636.5792, 865.4736), source_type=1, intensity=1.00, distance=22
[02:38:03] [ENEMY] [Enemy8] Heard gunshot at (636.5792, 865.4736), source_type=1, intensity=1.00, distance=17
[02:38:03] [INFO] [SoundPropagation] Sound result: notified=7, out_of_range=0, self=1, below_threshold=0
[02:38:03] [INFO] [LastChance] Threat detected: Bullet
[02:38:03] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:38:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:38:03] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[02:38:03] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:38:03] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[02:38:03] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[02:38:03] [ENEMY] [Enemy8] State: COMBAT -> RETREATING
[02:38:03] [INFO] [Player] Hit blocked by invincibility mode (C#)
[02:38:03] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[02:38:03] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[02:38:03] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:38:03] [ENEMY] [Enemy8] State: RETREATING -> IN_COVER
[02:38:03] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:38:03] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[02:38:03] [ENEMY] [Enemy7] State: RETREATING -> IN_COVER
[02:38:03] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[02:38:03] [ENEMY] [Enemy9] State: RETREATING -> IN_COVER
[02:38:03] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:03] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[02:38:03] [ENEMY] [Enemy9] State: IN_COVER -> SUPPRESSED
[02:38:03] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:03] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:03] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:03] [ENEMY] [Enemy6] State: COMBAT -> SEEKING_COVER
[02:38:03] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[02:38:04] [ENEMY] [Enemy6] State: IN_COVER -> COMBAT
[02:38:04] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:04] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:04] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:04] [ENEMY] [Enemy10] FLANKING started: target=(918.7659, 981.8288), side=left, pos=(752.9775, 1048.114)
[02:38:04] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:38:04] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:04] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:04] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:04] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:04] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:04] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:05] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:05] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:05] [ENEMY] [Enemy5] State: SUPPRESSED -> IN_COVER
[02:38:05] [ENEMY] [Enemy5] State: IN_COVER -> PURSUING
[02:38:05] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:05] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[02:38:05] [INFO] ------------------------------------------------------------
[02:38:05] [INFO] GAME LOG ENDED: 2026-01-25T02:38:05
[02:38:05] [INFO] ============================================================
