[08:23:59] [INFO] ============================================================
[08:23:59] [INFO] GAME LOG STARTED
[08:23:59] [INFO] ============================================================
[08:23:59] [INFO] Timestamp: 2026-01-22T08:23:59
[08:23:59] [INFO] Log file: I:/Рабочий стол/godot old version game/15. дробовик/game_log_20260122_082359.txt
[08:23:59] [INFO] Executable: I:/Рабочий стол/godot old version game/15. дробовик/Godot-Top-Down-Template.exe
[08:23:59] [INFO] OS: Windows
[08:23:59] [INFO] Debug build: false
[08:23:59] [INFO] Engine version: 4.3-stable (official)
[08:23:59] [INFO] Project: Godot Top-Down Template
[08:23:59] [INFO] ------------------------------------------------------------
[08:23:59] [INFO] [GameManager] GameManager ready
[08:23:59] [INFO] [ScoreManager] ScoreManager ready
[08:23:59] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[08:23:59] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[08:23:59] [INFO] [PenultimateHit] Saturation shader loaded successfully
[08:23:59] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[08:23:59] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[08:23:59] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[08:23:59] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[08:23:59] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[08:23:59] [INFO] [LastChance] Resetting all effects (scene change detected)
[08:23:59] [INFO] [LastChance] Last chance shader loaded successfully
[08:23:59] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[08:23:59] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[08:23:59] [INFO] [LastChance]   Sepia intensity: 0.70
[08:23:59] [INFO] [LastChance]   Brightness: 0.60
[08:23:59] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[08:23:59] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[08:23:59] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[08:23:59] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[08:23:59] [INFO] [Player] Ready! Grenades: 1/3
[08:23:59] [INFO] [ScoreManager] Level started with 10 enemies
[08:23:59] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[08:23:59] [ENEMY] [Enemy1] Registered as sound listener
[08:23:59] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[08:23:59] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[08:23:59] [ENEMY] [Enemy2] Registered as sound listener
[08:23:59] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[08:23:59] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[08:23:59] [ENEMY] [Enemy3] Registered as sound listener
[08:23:59] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[08:23:59] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[08:23:59] [ENEMY] [Enemy4] Registered as sound listener
[08:23:59] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[08:23:59] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[08:23:59] [ENEMY] [Enemy5] Registered as sound listener
[08:23:59] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[08:23:59] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[08:23:59] [ENEMY] [Enemy6] Registered as sound listener
[08:23:59] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[08:23:59] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[08:23:59] [ENEMY] [Enemy7] Registered as sound listener
[08:23:59] [ENEMY] [Enemy7] Enemy spawned at (1606.114, 893.8859), health: 3, behavior: PATROL, player_found: yes
[08:23:59] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[08:23:59] [ENEMY] [Enemy8] Registered as sound listener
[08:23:59] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[08:23:59] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[08:23:59] [ENEMY] [Enemy9] Registered as sound listener
[08:23:59] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[08:23:59] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[08:23:59] [ENEMY] [Enemy10] Registered as sound listener
[08:23:59] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[08:23:59] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[08:23:59] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[08:23:59] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[08:23:59] [INFO] [LastChance] Found player: Player
[08:23:59] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[08:23:59] [INFO] [LastChance] Connected to player Damaged signal (C#)
[08:23:59] [INFO] [LastChance] Connected to player Died signal (C#)
[08:24:00] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1200, 1550), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[08:24:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.99, 1534.529), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[08:24:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1200, 1550), shooter_id=41422947921, bullet_pos=(915.3665, 1400.156)
[08:24:00] [INFO] [Bullet] Using shooter_position, distance=321.666564941406
[08:24:00] [INFO] [Bullet] Distance to wall: 321.666564941406 (21.9028678995168% of viewport)
[08:24:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[08:24:00] [INFO] [Bullet] Starting wall penetration at (915.3665, 1400.156)
[08:24:00] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[08:24:00] [INFO] [Bullet] Exiting penetration at (874.0724, 1378.417) after traveling 41.6666717529297 pixels through wall
[08:24:00] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[08:24:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1140.006, 1515.278), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1108.816, 1494.764), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.466, 1473.029), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:00] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[08:24:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.99, 1534.529), shooter_id=41422947921, bullet_pos=(64.15709, 893.3544)
[08:24:00] [INFO] [Bullet] Using shooter_position, distance=1279.99975585938
[08:24:00] [INFO] [Bullet] Distance to wall: 1279.99975585938 (87.1575370884708% of viewport)
[08:24:00] [INFO] [Bullet] Distance-based penetration chance: 44.982873396784%
[08:24:00] [INFO] [Bullet] Penetration failed (distance roll)
[08:24:01] [INFO] [PauseMenu] Armory button pressed
[08:24:01] [INFO] [PauseMenu] Creating new armory menu instance
[08:24:01] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[08:24:01] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[08:24:01] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[08:24:01] [INFO] [PauseMenu] back_pressed signal exists on instance
[08:24:01] [INFO] [PauseMenu] back_pressed signal connected
[08:24:01] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[08:24:01] [INFO] [PauseMenu] _populate_weapon_grid method exists
[08:24:02] [INFO] [GameManager] Weapon selected: shotgun
[08:24:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=41422947921, bullet_pos=(58.7139, 830.2917)
[08:24:02] [INFO] [Bullet] Using shooter_position, distance=1279.99951171875
[08:24:02] [INFO] [Bullet] Distance to wall: 1279.99951171875 (87.1575204644867% of viewport)
[08:24:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.816, 1494.764), shooter_id=41422947921, bullet_pos=(55.6586, 767.2637)
[08:24:02] [INFO] [Bullet] Using shooter_position, distance=1279.99951171875
[08:24:02] [INFO] [Bullet] Distance to wall: 1279.99951171875 (87.1575204644867% of viewport)
[08:24:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=41422947921, bullet_pos=(318.3012, 704.7907)
[08:24:02] [INFO] [Bullet] Using shooter_position, distance=1154.16125488281
[08:24:02] [INFO] [Bullet] Distance to wall: 1154.16125488281 (78.5889621603774% of viewport)
[08:24:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.816, 1494.764), shooter_id=41422947921, bullet_pos=(109.8171, 714.1831)
[08:24:02] [INFO] [Bullet] Using shooter_position, distance=1267.79602050781
[08:24:02] [INFO] [Bullet] Distance to wall: 1267.79602050781 (86.3265623076924% of viewport)
[08:24:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1078.466, 1473.029), shooter_id=41422947921, bullet_pos=(54.86711, 704.4935)
[08:24:03] [INFO] [Bullet] Using shooter_position, distance=1280.00024414063
[08:24:03] [INFO] [Bullet] Distance to wall: 1280.00024414063 (87.157570336439% of viewport)
[08:24:03] [INFO] [Bullet] Distance-based penetration chance: 44.9828346074878%
[08:24:03] [INFO] [Bullet] Penetration failed (distance roll)
[08:24:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=41422947921, bullet_pos=(512.7885, 798.1384)
[08:24:03] [INFO] [Bullet] Using shooter_position, distance=952.728149414063
[08:24:03] [INFO] [Bullet] Distance to wall: 952.728149414063 (64.8730116061906% of viewport)
[08:24:03] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[08:24:03] [INFO] [LastChance] Resetting all effects (scene change detected)
[08:24:03] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[08:24:03] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[08:24:03] [INFO] [Player] Ready! Grenades: 1/3
[08:24:03] [INFO] [ScoreManager] Level started with 10 enemies
[08:24:03] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[08:24:03] [ENEMY] [Enemy1] Registered as sound listener
[08:24:03] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[08:24:03] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[08:24:03] [ENEMY] [Enemy2] Registered as sound listener
[08:24:03] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[08:24:03] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[08:24:03] [ENEMY] [Enemy3] Registered as sound listener
[08:24:03] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[08:24:03] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[08:24:03] [ENEMY] [Enemy4] Registered as sound listener
[08:24:03] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[08:24:03] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[08:24:03] [ENEMY] [Enemy5] Registered as sound listener
[08:24:03] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[08:24:03] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[08:24:03] [ENEMY] [Enemy6] Registered as sound listener
[08:24:03] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[08:24:03] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[08:24:03] [ENEMY] [Enemy7] Registered as sound listener
[08:24:03] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[08:24:03] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[08:24:03] [ENEMY] [Enemy8] Registered as sound listener
[08:24:03] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[08:24:03] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[08:24:03] [ENEMY] [Enemy9] Registered as sound listener
[08:24:03] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[08:24:03] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[08:24:03] [ENEMY] [Enemy10] Registered as sound listener
[08:24:03] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[08:24:03] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[08:24:03] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[08:24:03] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[08:24:03] [INFO] [LastChance] Found player: Player
[08:24:03] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[08:24:03] [INFO] [LastChance] Connected to player Damaged signal (C#)
[08:24:03] [INFO] [LastChance] Connected to player Died signal (C#)
[08:24:04] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1200, 1550), source=ENEMY (Enemy10), range=1469, listeners=20
[08:24:04] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[08:24:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[08:24:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.99, 1534.529), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[08:24:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1200, 1550), shooter_id=83785419354, bullet_pos=(915.3665, 1400.156)
[08:24:04] [INFO] [Bullet] Using shooter_position, distance=321.666564941406
[08:24:04] [INFO] [Bullet] Distance to wall: 321.666564941406 (21.9028678995168% of viewport)
[08:24:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[08:24:04] [INFO] [Bullet] Starting wall penetration at (915.3665, 1400.156)
[08:24:04] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[08:24:04] [INFO] [Bullet] Exiting penetration at (874.0724, 1378.417) after traveling 41.6666717529297 pixels through wall
[08:24:04] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[08:24:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1140.006, 1515.278), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1108.816, 1494.764), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.466, 1473.029), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:04] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[08:24:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.99, 1534.529), shooter_id=83785419354, bullet_pos=(64.15709, 893.3544)
[08:24:04] [INFO] [Bullet] Using shooter_position, distance=1279.99975585938
[08:24:04] [INFO] [Bullet] Distance to wall: 1279.99975585938 (87.1575370884708% of viewport)
[08:24:04] [INFO] [Bullet] Distance-based penetration chance: 44.982873396784%
[08:24:04] [INFO] [Bullet] Penetration failed (distance roll)
[08:24:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=83785419354, bullet_pos=(58.7139, 830.2917)
[08:24:04] [INFO] [Bullet] Using shooter_position, distance=1279.99951171875
[08:24:04] [INFO] [Bullet] Distance to wall: 1279.99951171875 (87.1575204644867% of viewport)
[08:24:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=83785419354, bullet_pos=(196.2943, 711.0189)
[08:24:04] [INFO] [Bullet] Using shooter_position, distance=1239.92919921875
[08:24:04] [INFO] [Bullet] Distance to wall: 1239.92919921875 (84.4290592035542% of viewport)
[08:24:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.816, 1494.764), shooter_id=83785419354, bullet_pos=(55.6586, 767.2637)
[08:24:04] [INFO] [Bullet] Using shooter_position, distance=1279.99951171875
[08:24:04] [INFO] [Bullet] Distance to wall: 1279.99951171875 (87.1575204644867% of viewport)
[08:24:05] [INFO] [LastChance] Threat detected: Bullet
[08:24:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[08:24:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.816, 1494.764), shooter_id=83785419354, bullet_pos=(144.9418, 700.8929)
[08:24:05] [INFO] [Bullet] Using shooter_position, distance=1248.7138671875
[08:24:05] [INFO] [Bullet] Distance to wall: 1248.7138671875 (85.0272233991264% of viewport)
[08:24:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1078.466, 1473.029), shooter_id=83785419354, bullet_pos=(54.86711, 704.4935)
[08:24:05] [INFO] [Bullet] Using shooter_position, distance=1280.00024414063
[08:24:05] [INFO] [Bullet] Distance to wall: 1280.00024414063 (87.157570336439% of viewport)
[08:24:05] [INFO] [LastChance] Threat detected: @Area2D@581
[08:24:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[08:24:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=83785419354, bullet_pos=(512.277, 997.4128)
[08:24:05] [INFO] [Bullet] Using shooter_position, distance=813.77392578125
[08:24:05] [INFO] [Bullet] Distance to wall: 813.77392578125 (55.4113630047458% of viewport)
[08:24:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=83785419354, bullet_pos=(509.1875, 1001.344)
[08:24:05] [INFO] [Bullet] Using shooter_position, distance=813.670776367188
[08:24:05] [INFO] [Bullet] Distance to wall: 813.670776367188 (55.4043393714672% of viewport)
[08:24:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=83785419354, bullet_pos=(512.7177, 1004.885)
[08:24:05] [INFO] [Bullet] Using shooter_position, distance=808.697570800781
[08:24:05] [INFO] [Bullet] Distance to wall: 808.697570800781 (55.065704659532% of viewport)
[08:24:05] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[08:24:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1078.466, 1473.029), shooter_id=83785419354, bullet_pos=(328.1927, 471.4829)
[08:24:05] [INFO] [Bullet] Using shooter_position, distance=1251.40075683594
[08:24:05] [INFO] [Bullet] Distance to wall: 1251.40075683594 (85.2101786560429% of viewport)
[08:24:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.816, 1494.764), shooter_id=83785419354, bullet_pos=(512.0613, 972.3201)
[08:24:05] [INFO] [Bullet] Using shooter_position, distance=793.136047363281
[08:24:05] [INFO] [Bullet] Distance to wall: 793.136047363281 (54.0060919135542% of viewport)
[08:24:05] [INFO] [Bullet] Distance-based penetration chance: 83.6595594341868%
[08:24:05] [INFO] [Bullet] Starting wall penetration at (512.0613, 972.3201)
[08:24:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20.2567386627197
[08:24:05] [INFO] [Bullet] Body exited signal received for penetrating body
[08:24:05] [INFO] [Bullet] Exiting penetration at (540.2883, 993.1896) after traveling 30.1041698455811 pixels through wall
[08:24:05] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[08:24:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(318.802, 816.9102), source=PLAYER (Shotgun), range=1469, listeners=10
[08:24:05] [ENEMY] [Enemy1] Heard gunshot at (318.802, 816.9102), source_type=0, intensity=0.01, distance=467
[08:24:05] [ENEMY] [Enemy2] Heard gunshot at (318.802, 816.9102), source_type=0, intensity=0.03, distance=279
[08:24:05] [ENEMY] [Enemy4] Heard gunshot at (318.802, 816.9102), source_type=0, intensity=0.01, distance=488
[08:24:05] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[08:24:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1078.466, 1473.029), shooter_id=83785419354, bullet_pos=(511.5123, 585.2062)
[08:24:05] [INFO] [Bullet] Using shooter_position, distance=1053.40649414063
[08:24:05] [INFO] [Bullet] Distance to wall: 1053.40649414063 (71.7283852297737% of viewport)
[08:24:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.1777, 762.1439), source=ENEMY (Enemy3), range=1469, listeners=10
[08:24:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[08:24:05] [ENEMY] [Enemy3] Hit taken, health: 2/3
[08:24:05] [ENEMY] [Enemy3] Hit taken, health: 1/3
[08:24:05] [ENEMY] [Enemy3] Hit taken, health: 0/3
[08:24:05] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[08:24:05] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[08:24:05] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[08:24:05] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[08:24:05] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[08:24:05] [INFO] [LastChance] Threat detected: @Area2D@603
[08:24:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[08:24:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:05] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[08:24:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1078.466, 1473.029), shooter_id=83785419354, bullet_pos=(287.5569, 685.8542)
[08:24:05] [INFO] [Bullet] Using shooter_position, distance=1115.87658691406
[08:24:05] [INFO] [Bullet] Distance to wall: 1115.87658691406 (75.9820887190885% of viewport)
[08:24:05] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[08:24:05] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[08:24:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1078.466, 1473.029), shooter_id=83785419354, bullet_pos=(63.55231, 628.6125)
[08:24:05] [INFO] [Bullet] Using shooter_position, distance=1320.26062011719
[08:24:05] [INFO] [Bullet] Distance to wall: 1320.26062011719 (89.8989733689866% of viewport)
[08:24:05] [INFO] [Bullet] Distance-based penetration chance: 41.7845310695157%
[08:24:05] [INFO] [Bullet] Starting wall penetration at (63.55231, 628.6125)
[08:24:05] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[08:24:05] [INFO] [Bullet] Exiting penetration at (41.84949, 623.0666) after traveling 17.4002075195313 pixels through wall
[08:24:05] [INFO] [Bullet] Damage multiplier after penetration: 0.05625
[08:24:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=83785419354, bullet_pos=(62.98875, 1435.276)
[08:24:05] [INFO] [Bullet] Using shooter_position, distance=1079.98449707031
[08:24:05] [INFO] [Bullet] Distance to wall: 1079.98449707031 (73.538130321894% of viewport)
[08:24:05] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[08:24:05] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[08:24:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=83785419354, bullet_pos=(200.3232, 1589.015)
[08:24:06] [INFO] [Bullet] Using shooter_position, distance=942.571472167969
[08:24:06] [INFO] [Bullet] Distance to wall: 942.571472167969 (64.1814247760214% of viewport)
[08:24:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=83785419354, bullet_pos=(341.627, 1408.296)
[08:24:06] [INFO] [Bullet] Using shooter_position, distance=805.514831542969
[08:24:06] [INFO] [Bullet] Distance to wall: 805.514831542969 (54.8489860909261% of viewport)
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=83785419354, bullet_pos=(489.0194, 1587.558)
[08:24:06] [INFO] [Bullet] Using shooter_position, distance=654.986938476563
[08:24:06] [INFO] [Bullet] Distance to wall: 654.986938476563 (44.5992650556464% of viewport)
[08:24:06] [INFO] [Bullet] Distance-based penetration chance: 94.6341907684125%
[08:24:06] [INFO] [Bullet] Starting wall penetration at (489.0194, 1587.558)
[08:24:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=83785419354, bullet_pos=(492.1949, 1591.42)
[08:24:06] [INFO] [Bullet] Using shooter_position, distance=652.270446777344
[08:24:06] [INFO] [Bullet] Distance to wall: 652.270446777344 (44.4142941406588% of viewport)
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7.72146606445313
[08:24:06] [INFO] [Bullet] Body exited signal received for penetrating body
[08:24:06] [INFO] [Bullet] Exiting penetration at (501.4728, 1582.718) after traveling 7.72056531906128 pixels through wall
[08:24:06] [INFO] [Bullet] Damage multiplier after penetration: 0.0017578125
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:07] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:07] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:07] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:07] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:07] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:07] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:08] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[08:24:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(562.6091, 902.1279), source=PLAYER (Shotgun), range=1469, listeners=9
[08:24:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[08:24:08] [ENEMY] [Enemy4] Hit taken, health: 2/3
[08:24:08] [ENEMY] [Enemy4] Hit taken, health: 1/3
[08:24:08] [ENEMY] [Enemy4] Hit taken, health: 0/3
[08:24:08] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[08:24:08] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[08:24:08] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[08:24:08] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:08] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[08:24:08] [ENEMY] [Enemy10] FLANKING started: target=(475.4966, 1132.646), side=right, pos=(955.1431, 1418.083)
[08:24:08] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[08:24:08] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[08:24:08] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:08] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:08] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:08] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:08] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(674.454, 766.2396), source=PLAYER (Shotgun), range=1469, listeners=8
[08:24:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=4
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy2] Hit taken, health: 2/3
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy2] Hit taken, health: 1/3
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[08:24:10] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[08:24:10] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(409.696, 605.9258), source=ENEMY (Enemy2), range=1469, listeners=8
[08:24:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[08:24:10] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(414.6125, 596.4598), source=ENEMY (Enemy2), range=1469, listeners=8
[08:24:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[08:24:10] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(419.5289, 586.9939), source=ENEMY (Enemy2), range=1469, listeners=8
[08:24:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[08:24:10] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(409.696, 605.9258), shooter_id=82174806522, bullet_pos=(938.2575, 644.9441)
[08:24:11] [INFO] [Bullet] Using shooter_position, distance=529.999755859375
[08:24:11] [INFO] [Bullet] Distance to wall: 529.999755859375 (36.0886579600793% of viewport)
[08:24:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:11] [INFO] [LastChance] Threat detected: @Area2D@644
[08:24:11] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[08:24:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(414.6125, 596.4598), shooter_id=82174806522, bullet_pos=(918.1846, 761.7319)
[08:24:11] [INFO] [Bullet] Using shooter_position, distance=529.999816894531
[08:24:11] [INFO] [Bullet] Distance to wall: 529.999816894531 (36.0886621160753% of viewport)
[08:24:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[08:24:11] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[08:24:11] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[08:24:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[08:24:11] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[08:24:11] [INFO] [PenultimateHit] Player died - ending penultimate effect
[08:24:11] [INFO] [LastChance] Player died
[08:24:11] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[08:24:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[08:24:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[08:24:11] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[08:24:11] [INFO] [Player] Ready! Grenades: 1/3
[08:24:11] [INFO] [ScoreManager] Level started with 10 enemies
[08:24:11] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[08:24:11] [ENEMY] [Enemy1] Registered as sound listener
[08:24:11] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[08:24:11] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[08:24:11] [ENEMY] [Enemy2] Registered as sound listener
[08:24:11] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[08:24:11] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[08:24:11] [ENEMY] [Enemy3] Registered as sound listener
[08:24:11] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[08:24:11] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[08:24:11] [ENEMY] [Enemy4] Registered as sound listener
[08:24:11] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[08:24:11] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[08:24:11] [ENEMY] [Enemy5] Registered as sound listener
[08:24:11] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[08:24:11] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[08:24:11] [ENEMY] [Enemy6] Registered as sound listener
[08:24:11] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[08:24:11] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[08:24:11] [ENEMY] [Enemy7] Registered as sound listener
[08:24:11] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[08:24:11] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[08:24:11] [ENEMY] [Enemy8] Registered as sound listener
[08:24:11] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[08:24:11] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[08:24:11] [ENEMY] [Enemy9] Registered as sound listener
[08:24:11] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[08:24:11] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[08:24:11] [ENEMY] [Enemy10] Registered as sound listener
[08:24:11] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[08:24:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[08:24:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[08:24:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[08:24:11] [INFO] [LastChance] Found player: Player
[08:24:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[08:24:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[08:24:11] [INFO] [LastChance] Connected to player Died signal (C#)
[08:24:12] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1200, 1550), source=ENEMY (Enemy10), range=1469, listeners=18
[08:24:12] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[08:24:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[08:24:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.99, 1534.529), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[08:24:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1200, 1550), shooter_id=205168576115, bullet_pos=(915.3665, 1400.156)
[08:24:12] [INFO] [Bullet] Using shooter_position, distance=321.666564941406
[08:24:12] [INFO] [Bullet] Distance to wall: 321.666564941406 (21.9028678995168% of viewport)
[08:24:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[08:24:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1140.006, 1515.278), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1108.816, 1494.764), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.466, 1473.029), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:12] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[08:24:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.99, 1534.529), shooter_id=205168576115, bullet_pos=(64.15709, 893.3544)
[08:24:12] [INFO] [Bullet] Using shooter_position, distance=1279.99975585938
[08:24:12] [INFO] [Bullet] Distance to wall: 1279.99975585938 (87.1575370884708% of viewport)
[08:24:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=205168576115, bullet_pos=(58.7139, 830.2917)
[08:24:13] [INFO] [Bullet] Using shooter_position, distance=1279.99951171875
[08:24:13] [INFO] [Bullet] Distance to wall: 1279.99951171875 (87.1575204644867% of viewport)
[08:24:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=205168576115, bullet_pos=(231.619, 698.3445)
[08:24:13] [INFO] [Bullet] Using shooter_position, distance=1221.69836425781
[08:24:13] [INFO] [Bullet] Distance to wall: 1221.69836425781 (83.1876881275145% of viewport)
[08:24:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.99, 1534.529), shooter_id=205168576115, bullet_pos=(493.7094, 714.1968)
[08:24:13] [INFO] [Bullet] Using shooter_position, distance=1064.42956542969
[08:24:13] [INFO] [Bullet] Distance to wall: 1064.42956542969 (72.4789664234868% of viewport)
[08:24:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.816, 1494.764), shooter_id=205168576115, bullet_pos=(55.6586, 767.2637)
[08:24:13] [INFO] [Bullet] Using shooter_position, distance=1279.99951171875
[08:24:13] [INFO] [Bullet] Distance to wall: 1279.99951171875 (87.1575204644867% of viewport)
[08:24:13] [INFO] [LastChance] Threat detected: Bullet
[08:24:13] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[08:24:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.816, 1494.764), shooter_id=205168576115, bullet_pos=(141.3838, 696.357)
[08:24:13] [INFO] [Bullet] Using shooter_position, distance=1254.34460449219
[08:24:13] [INFO] [Bullet] Distance to wall: 1254.34460449219 (85.4106306562155% of viewport)
[08:24:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.99, 1534.529), shooter_id=205168576115, bullet_pos=(681.552, 820.2828)
[08:24:13] [INFO] [Bullet] Using shooter_position, distance=866.416564941406
[08:24:13] [INFO] [Bullet] Distance to wall: 866.416564941406 (58.9958971064385% of viewport)
[08:24:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1078.466, 1473.029), shooter_id=205168576115, bullet_pos=(54.86711, 704.4935)
[08:24:13] [INFO] [Bullet] Using shooter_position, distance=1280.00024414063
[08:24:13] [INFO] [Bullet] Distance to wall: 1280.00024414063 (87.157570336439% of viewport)
[08:24:13] [INFO] [Bullet] Distance-based penetration chance: 44.9828346074878%
[08:24:13] [INFO] [Bullet] Starting wall penetration at (54.86711, 704.4935)
[08:24:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18.0715579986572
[08:24:13] [INFO] [Bullet] Body exited signal received for penetrating body
[08:24:13] [INFO] [Bullet] Exiting penetration at (17.5484, 676.474) after traveling 41.6666679382324 pixels through wall
[08:24:13] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[08:24:13] [INFO] [LastChance] Threat detected: @Area2D@900
[08:24:13] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[08:24:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=205168576115, bullet_pos=(511.6752, 934.3692)
[08:24:13] [INFO] [Bullet] Using shooter_position, distance=855.71875
[08:24:13] [INFO] [Bullet] Distance to wall: 855.71875 (58.2674632155311% of viewport)
[08:24:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.99, 1534.529), shooter_id=205168576115, bullet_pos=(510.9651, 889.5662)
[08:24:13] [INFO] [Bullet] Using shooter_position, distance=923.542846679688
[08:24:13] [INFO] [Bullet] Distance to wall: 923.542846679688 (62.8857306759675% of viewport)
[08:24:13] [INFO] [Bullet] Distance-based penetration chance: 73.2999808780379%
[08:24:13] [INFO] [Bullet] Penetration failed (distance roll)
[08:24:13] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[08:24:13] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[08:24:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.816, 1494.764), shooter_id=205168576115, bullet_pos=(497.0491, 982.629)
[08:24:13] [INFO] [Bullet] Using shooter_position, distance=797.835815429688
[08:24:13] [INFO] [Bullet] Distance to wall: 797.835815429688 (54.3261077633072% of viewport)
[08:24:13] [INFO] [Bullet] Distance-based penetration chance: 83.2862076094749%
[08:24:13] [INFO] [Bullet] Starting wall penetration at (497.0491, 982.629)
[08:24:13] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[08:24:13] [INFO] [Bullet] Exiting penetration at (524.3954, 1004.64) after traveling 30.1041660308838 pixels through wall
[08:24:13] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[08:24:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(315.5363, 802.1769), source=PLAYER (Shotgun), range=1469, listeners=10
[08:24:13] [ENEMY] [Enemy1] Heard gunshot at (315.5363, 802.1769), source_type=0, intensity=0.01, distance=452
[08:24:13] [ENEMY] [Enemy2] Heard gunshot at (315.5363, 802.1769), source_type=0, intensity=0.04, distance=266
[08:24:13] [ENEMY] [Enemy4] Heard gunshot at (315.5363, 802.1769), source_type=0, intensity=0.01, distance=494
[08:24:13] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[08:24:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=205168576115, bullet_pos=(47.40165, 1214.733)
[08:24:13] [INFO] [Bullet] Using shooter_position, distance=1133.1865234375
[08:24:13] [INFO] [Bullet] Distance to wall: 1133.1865234375 (77.1607541271359% of viewport)
[08:24:13] [ENEMY] [Enemy3] Hit taken, health: 2/3
[08:24:13] [ENEMY] [Enemy3] Hit taken, health: 1/3
[08:24:13] [ENEMY] [Enemy3] Hit taken, health: 0/3
[08:24:13] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[08:24:13] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[08:24:13] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[08:24:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=205168576115, bullet_pos=(277.6786, 1387.285)
[08:24:14] [INFO] [Bullet] Using shooter_position, distance=871.774536132813
[08:24:14] [INFO] [Bullet] Distance to wall: 871.774536132813 (59.3607312173016% of viewport)
[08:24:14] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[08:24:14] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[08:24:14] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[08:24:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=205168576115, bullet_pos=(911.8305, 1026.259)
[08:24:14] [INFO] [Bullet] Using shooter_position, distance=539.632568359375
[08:24:14] [INFO] [Bullet] Distance to wall: 539.632568359375 (36.7445738763846% of viewport)
[08:24:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[08:24:14] [INFO] [Bullet] Starting wall penetration at (911.8305, 1026.259)
[08:24:14] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[08:24:14] [INFO] [Bullet] Exiting penetration at (929.0289, 1016.468) after traveling 14.7901782989502 pixels through wall
[08:24:14] [INFO] [Bullet] Damage multiplier after penetration: 0.028125
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:16] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[08:24:16] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(567.6095, 933.3789), source=PLAYER (Shotgun), range=1469, listeners=9
[08:24:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[08:24:16] [ENEMY] [Enemy4] Hit taken, health: 3/4
[08:24:16] [ENEMY] [Enemy4] Hit taken, health: 2/4
[08:24:16] [ENEMY] [Enemy4] Hit taken, health: 1/4
[08:24:16] [ENEMY] [Enemy4] Hit taken, health: 0/4
[08:24:16] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[08:24:16] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[08:24:16] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[08:24:16] [ENEMY] [Enemy10] FLANKING started: target=(563.0056, 1165.842), side=right, pos=(955.1431, 1418.083)
[08:24:16] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(883.1784, 811.5823), source=PLAYER (Shotgun), range=1469, listeners=8
[08:24:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy2] Hit taken, health: 1/2
[08:24:18] [ENEMY] [Enemy2] Hit taken, health: 0/2
[08:24:18] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[08:24:18] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[08:24:18] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:18] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:19] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:19] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:19] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:19] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:19] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:19] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:19] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:19] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:19] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:19] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:19] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:19] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:19] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:19] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:19] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:19] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:19] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:19] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:19] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[08:24:19] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[08:24:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(868.2741, 792.8851), source=PLAYER (Shotgun), range=1469, listeners=7
[08:24:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=5
[08:24:20] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[08:24:20] [ENEMY] [Enemy1] Hit taken, health: 2/3
[08:24:20] [ENEMY] [Enemy1] Hit taken, health: 1/3
[08:24:20] [ENEMY] [Enemy1] Hit taken, health: 0/3
[08:24:20] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[08:24:20] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[08:24:20] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[08:24:21] [ENEMY] [Enemy7] FLANKING started: target=(884.9977, 713.9387), side=left, pos=(1473.992, 824.0652)
[08:24:21] [ENEMY] [Enemy7] State: PURSUING -> FLANKING
[08:24:22] [ENEMY] [Enemy10] FLANKING started: target=(857.1661, 928.1309), side=left, pos=(604.7847, 1056.144)
[08:24:22] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[08:24:22] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[08:24:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(476.3251, 1017.424), source=ENEMY (Enemy10), range=1469, listeners=6
[08:24:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=2
[08:24:23] [INFO] [LastChance] Threat detected: Bullet
[08:24:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[08:24:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(455.2648, 758.3463), source=PLAYER (Shotgun), range=1469, listeners=6
[08:24:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[08:24:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[08:24:23] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[08:24:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(472.2063, 1001.219), source=ENEMY (Enemy10), range=1469, listeners=6
[08:24:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=2
[08:24:23] [INFO] [LastChance] Threat detected: @Area2D@997
[08:24:23] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[08:24:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:23] [ENEMY] [Enemy10] Hit taken, health: 2/3
[08:24:23] [ENEMY] [Enemy10] Hit taken, health: 1/3
[08:24:23] [ENEMY] [Enemy10] Hit taken, health: 0/3
[08:24:23] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[08:24:23] [INFO] [ScoreManager] Kill registered. Combo: 5 (points: 7500)
[08:24:23] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 5)
[08:24:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[08:24:23] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[08:24:26] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[08:24:26] [ENEMY] [Enemy7] State: FLANKING -> COMBAT
[08:24:27] [INFO] [ScoreManager] Combo ended at 5. Max combo: 5
[08:24:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(470.7394, 769.8763), source=PLAYER (Shotgun), range=1469, listeners=5
[08:24:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=1
[08:24:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(897.8328, 580.6225), source=ENEMY (Enemy7), range=1469, listeners=5
[08:24:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=3
[08:24:27] [ENEMY] [Enemy7] Hit taken, health: 3/4
[08:24:27] [ENEMY] [Enemy7] Hit taken, health: 2/4
[08:24:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(870.3487, 604.9568), source=ENEMY (Enemy7), range=1469, listeners=5
[08:24:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=3
[08:24:27] [INFO] [LastChance] Threat detected: Bullet
[08:24:27] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[08:24:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(846.5065, 628.9547), source=ENEMY (Enemy7), range=1469, listeners=5
[08:24:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=3
[08:24:27] [INFO] [LastChance] Threat detected: @Area2D@1022
[08:24:27] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[08:24:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:27] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[08:24:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[08:24:27] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[08:24:27] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[08:24:27] [ENEMY] [Enemy7] State: RETREATING -> IN_COVER
[08:24:27] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[08:24:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(897.8328, 580.6225), shooter_id=204564596804, bullet_pos=(67.26122, 960.5295)
[08:24:27] [INFO] [Bullet] Using shooter_position, distance=913.333679199219
[08:24:27] [INFO] [Bullet] Distance to wall: 913.333679199219 (62.1905696892187% of viewport)
[08:24:27] [INFO] [LastChance] Threat detected: @Area2D@1023
[08:24:27] [INFO] [LastChance] Triggering last chance effect!
[08:24:27] [INFO] [LastChance] Starting last chance effect:
[08:24:27] [INFO] [LastChance]   - Time will be frozen (except player)
[08:24:27] [INFO] [LastChance]   - Duration: 6.0 real seconds
[08:24:27] [INFO] [LastChance]   - Sepia intensity: 0.70
[08:24:27] [INFO] [LastChance]   - Brightness: 0.60
[08:24:27] [INFO] [LastChance] Pushed bullet @Area2D@1023 from distance 132.6 to 200.0
[08:24:27] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[08:24:27] [INFO] [LastChance] Set player Player and all 16 children to PROCESS_MODE_ALWAYS
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[08:24:27] [INFO] [LastChance] Skipping player node: Player
[08:24:27] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[08:24:27] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[08:24:28] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[08:24:28] [INFO] [LastChance] Resetting all effects (scene change detected)
[08:24:28] [INFO] [LastChance] Ending last chance effect
[08:24:28] [INFO] [LastChance] All process modes restored
[08:24:28] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[08:24:28] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[08:24:28] [INFO] [Player] Ready! Grenades: 1/3
[08:24:28] [INFO] [ScoreManager] Level started with 10 enemies
[08:24:28] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[08:24:28] [ENEMY] [Enemy1] Registered as sound listener
[08:24:28] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[08:24:28] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[08:24:28] [ENEMY] [Enemy2] Registered as sound listener
[08:24:28] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[08:24:28] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[08:24:28] [ENEMY] [Enemy3] Registered as sound listener
[08:24:28] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[08:24:28] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[08:24:28] [ENEMY] [Enemy4] Registered as sound listener
[08:24:28] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[08:24:28] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 10)
[08:24:28] [ENEMY] [Enemy5] Registered as sound listener
[08:24:28] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[08:24:28] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 11)
[08:24:28] [ENEMY] [Enemy6] Registered as sound listener
[08:24:28] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[08:24:28] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 12)
[08:24:28] [ENEMY] [Enemy7] Registered as sound listener
[08:24:28] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[08:24:28] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 13)
[08:24:28] [ENEMY] [Enemy8] Registered as sound listener
[08:24:28] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[08:24:28] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 14)
[08:24:28] [ENEMY] [Enemy9] Registered as sound listener
[08:24:28] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[08:24:28] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 15)
[08:24:28] [ENEMY] [Enemy10] Registered as sound listener
[08:24:28] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[08:24:28] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[08:24:28] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[08:24:28] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[08:24:28] [INFO] [LastChance] Found player: Player
[08:24:28] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[08:24:28] [INFO] [LastChance] Connected to player Damaged signal (C#)
[08:24:28] [INFO] [LastChance] Connected to player Died signal (C#)
[08:24:29] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1200, 1550), source=ENEMY (Enemy10), range=1469, listeners=15
[08:24:29] [INFO] [SoundPropagation] Cleaned up 5 invalid listeners
[08:24:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[08:24:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.99, 1534.529), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[08:24:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1200, 1550), shooter_id=355240773460, bullet_pos=(915.3665, 1400.156)
[08:24:29] [INFO] [Bullet] Using shooter_position, distance=321.666564941406
[08:24:29] [INFO] [Bullet] Distance to wall: 321.666564941406 (21.9028678995168% of viewport)
[08:24:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[08:24:29] [INFO] [Bullet] Starting wall penetration at (915.3665, 1400.156)
[08:24:29] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[08:24:29] [INFO] [Bullet] Exiting penetration at (874.0724, 1378.417) after traveling 41.6666717529297 pixels through wall
[08:24:29] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[08:24:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1140.006, 1515.278), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1108.816, 1494.764), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.466, 1473.029), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:29] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[08:24:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.99, 1534.529), shooter_id=355240773460, bullet_pos=(64.15709, 893.3544)
[08:24:29] [INFO] [Bullet] Using shooter_position, distance=1279.99975585938
[08:24:29] [INFO] [Bullet] Distance to wall: 1279.99975585938 (87.1575370884708% of viewport)
[08:24:29] [INFO] [Bullet] Distance-based penetration chance: 44.982873396784%
[08:24:29] [INFO] [Bullet] Penetration failed (distance roll)
[08:24:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=355240773460, bullet_pos=(58.7139, 830.2917)
[08:24:29] [INFO] [Bullet] Using shooter_position, distance=1279.99951171875
[08:24:29] [INFO] [Bullet] Distance to wall: 1279.99951171875 (87.1575204644867% of viewport)
[08:24:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=355240773460, bullet_pos=(198.761, 713.9252)
[08:24:30] [INFO] [Bullet] Using shooter_position, distance=1236.16674804688
[08:24:30] [INFO] [Bullet] Distance to wall: 1236.16674804688 (84.1728669847236% of viewport)
[08:24:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.816, 1494.764), shooter_id=355240773460, bullet_pos=(55.6586, 767.2637)
[08:24:30] [INFO] [Bullet] Using shooter_position, distance=1279.99951171875
[08:24:30] [INFO] [Bullet] Distance to wall: 1279.99951171875 (87.1575204644867% of viewport)
[08:24:30] [INFO] [LastChance] Threat detected: Bullet
[08:24:30] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[08:24:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.816, 1494.764), shooter_id=355240773460, bullet_pos=(138.8788, 693.4332)
[08:24:30] [INFO] [Bullet] Using shooter_position, distance=1258.1376953125
[08:24:30] [INFO] [Bullet] Distance to wall: 1258.1376953125 (85.6689091850496% of viewport)
[08:24:30] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[08:24:30] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[08:24:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1078.466, 1473.029), shooter_id=355240773460, bullet_pos=(54.86711, 704.4935)
[08:24:30] [INFO] [Bullet] Using shooter_position, distance=1280.00024414063
[08:24:30] [INFO] [Bullet] Distance to wall: 1280.00024414063 (87.157570336439% of viewport)
[08:24:30] [INFO] [LastChance] Threat detected: @Area2D@1283
[08:24:30] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[08:24:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:30] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[08:24:30] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[08:24:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1078.466, 1473.029), shooter_id=355240773460, bullet_pos=(523.2455, 376.7364)
[08:24:30] [INFO] [Bullet] Using shooter_position, distance=1228.87219238281
[08:24:30] [INFO] [Bullet] Distance to wall: 1228.87219238281 (83.6761672760525% of viewport)
[08:24:30] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[08:24:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1078.466, 1473.029), shooter_id=355240773460, bullet_pos=(330.7495, 223.8335)
[08:24:30] [INFO] [Bullet] Using shooter_position, distance=1455.87377929688
[08:24:30] [INFO] [Bullet] Distance to wall: 1455.87377929688 (99.1331227481423% of viewport)
[08:24:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(282.8499, 806.7446), source=PLAYER (Shotgun), range=1469, listeners=10
[08:24:30] [ENEMY] [Enemy1] Heard gunshot at (282.8499, 806.7446), source_type=0, intensity=0.01, distance=457
[08:24:30] [ENEMY] [Enemy2] Heard gunshot at (282.8499, 806.7446), source_type=0, intensity=0.03, distance=282
[08:24:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[08:24:30] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[08:24:30] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[08:24:30] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[08:24:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.9084, 760.5054), source=ENEMY (Enemy3), range=1469, listeners=10
[08:24:30] [ENEMY] [Enemy4] Heard gunshot at (636.9084, 760.5054), source_type=1, intensity=0.05, distance=215
[08:24:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[08:24:30] [ENEMY] [Enemy3] Hit taken, health: 1/2
[08:24:30] [ENEMY] [Enemy3] Hit taken, health: 0/2
[08:24:30] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[08:24:30] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[08:24:30] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[08:24:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1078.466, 1473.029), shooter_id=355240773460, bullet_pos=(561.1731, 62.38299)
[08:24:30] [INFO] [Bullet] Using shooter_position, distance=1502.50244140625
[08:24:30] [INFO] [Bullet] Distance to wall: 1502.50244140625 (102.308154093719% of viewport)
[08:24:30] [INFO] [LastChance] Threat detected: Bullet
[08:24:30] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[08:24:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:30] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[08:24:30] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[08:24:30] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[08:24:31] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[08:24:31] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[08:24:32] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[08:24:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:32] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[08:24:32] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[08:24:33] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[08:24:33] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(583.0388, 944.5875), source=PLAYER (Shotgun), range=1469, listeners=9
[08:24:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[08:24:33] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[08:24:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(780.1523, 907.3999), source=ENEMY (Enemy4), range=1469, listeners=9
[08:24:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[08:24:33] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[08:24:33] [INFO] [LastChance] Threat detected: Bullet
[08:24:33] [INFO] [LastChance] Triggering last chance effect!
[08:24:33] [INFO] [LastChance] Starting last chance effect:
[08:24:33] [INFO] [LastChance]   - Time will be frozen (except player)
[08:24:33] [INFO] [LastChance]   - Duration: 6.0 real seconds
[08:24:33] [INFO] [LastChance]   - Sepia intensity: 0.70
[08:24:33] [INFO] [LastChance]   - Brightness: 0.60
[08:24:33] [INFO] [LastChance] Pushed bullet Bullet from distance 132.6 to 200.0
[08:24:33] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[08:24:33] [INFO] [LastChance] Set player Player and all 16 children to PROCESS_MODE_ALWAYS
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[08:24:33] [INFO] [LastChance] Skipping player node: Player
[08:24:33] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[08:24:33] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[08:24:34] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[08:24:39] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[08:24:39] [INFO] [LastChance] Ending last chance effect
[08:24:39] [INFO] [LastChance] All process modes restored
[08:24:39] [ENEMY] [Enemy4] Hit taken, health: 2/3
[08:24:39] [ENEMY] [Enemy4] Hit taken, health: 1/3
[08:24:39] [ENEMY] [Enemy4] Hit taken, health: 0/3
[08:24:39] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[08:24:39] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[08:24:39] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[08:24:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(780.1523, 907.3999), shooter_id=354032813480, bullet_pos=(505.845, 960.7611)
[08:24:39] [INFO] [Bullet] Using shooter_position, distance=279.449249267578
[08:24:39] [INFO] [Bullet] Distance to wall: 279.449249267578 (19.0282132444876% of viewport)
[08:24:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[08:24:39] [INFO] [Bullet] Starting wall penetration at (505.845, 960.7611)
[08:24:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32.3623428344727
[08:24:39] [INFO] [Bullet] Body exited signal received for penetrating body
[08:24:39] [INFO] [Bullet] Exiting penetration at (468.3204, 968.5934) after traveling 33.3333358764648 pixels through wall
[08:24:39] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[08:24:39] [ENEMY] [Enemy10] FLANKING started: target=(766.5583, 168.9243), side=left, pos=(955.1431, 1418.083)
[08:24:39] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[08:24:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(496.5124, 122.1177), source=PLAYER (Shotgun), range=1469, listeners=8
[08:24:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=4
[08:24:40] [ENEMY] [Enemy2] Hit taken, health: 3/4
[08:24:40] [ENEMY] [Enemy2] Hit taken, health: 2/4
[08:24:40] [ENEMY] [Enemy2] Hit taken, health: 1/4
[08:24:41] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[08:24:41] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[08:24:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(380.6433, 541.2123), source=ENEMY (Enemy2), range=1469, listeners=8
[08:24:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[08:24:41] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[08:24:41] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[08:24:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(370.529, 537.8242), source=ENEMY (Enemy2), range=1469, listeners=8
[08:24:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[08:24:41] [INFO] [LastChance] Threat detected: Bullet
[08:24:41] [INFO] [LastChance] Effect already used this life
[08:24:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(380.6433, 541.2123), shooter_id=353630161483, bullet_pos=(328.1991, 249.218)
[08:24:41] [INFO] [Bullet] Using shooter_position, distance=296.666625976563
[08:24:41] [INFO] [Bullet] Distance to wall: 296.666625976563 (20.2005760845664% of viewport)
[08:24:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[08:24:41] [INFO] [Bullet] Starting wall penetration at (328.1991, 249.218)
[08:24:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14.7438468933105
[08:24:41] [INFO] [Bullet] Body exited signal received for penetrating body
[08:24:41] [INFO] [Bullet] Exiting penetration at (321.4226, 211.4884) after traveling 33.3333320617676 pixels through wall
[08:24:41] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[08:24:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(360.4147, 534.4362), source=ENEMY (Enemy2), range=1469, listeners=8
[08:24:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[08:24:41] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[08:24:41] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[08:24:41] [INFO] [LastChance] Threat detected: @Area2D@1350
[08:24:41] [INFO] [LastChance] Effect already used this life
[08:24:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(370.529, 537.8242), shooter_id=353630161483, bullet_pos=(319.5352, 245.573)
[08:24:41] [INFO] [Bullet] Using shooter_position, distance=296.666717529297
[08:24:41] [INFO] [Bullet] Distance to wall: 296.666717529297 (20.2005823185605% of viewport)
[08:24:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[08:24:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(360.4147, 534.4362), shooter_id=353630161483, bullet_pos=(342.7323, 38.08442)
[08:24:41] [INFO] [Bullet] Using shooter_position, distance=496.666625976563
[08:24:41] [INFO] [Bullet] Distance to wall: 496.666625976563 (33.8189438521375% of viewport)
[08:24:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[08:24:41] [INFO] [Bullet] Starting wall penetration at (342.7323, 38.08442)
[08:24:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32.2450561523438
[08:24:41] [INFO] [Bullet] Body exited signal received for penetrating body
[08:24:41] [INFO] [Bullet] Exiting penetration at (341.3676, -0.224613) after traveling 33.3333358764648 pixels through wall
[08:24:41] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[08:24:41] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[08:24:43] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[08:24:44] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[08:24:44] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[08:24:44] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[08:24:44] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[08:24:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(177.2218, 210.1485), source=PLAYER (Shotgun), range=1469, listeners=8
[08:24:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=0
[08:24:44] [ENEMY] [Enemy1] Hit taken, health: 3/4
[08:24:44] [ENEMY] [Enemy1] Hit taken, health: 2/4
[08:24:44] [ENEMY] [Enemy1] Hit taken, health: 1/4
[08:24:44] [ENEMY] [Enemy1] Hit taken, health: 0/4
[08:24:44] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[08:24:44] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[08:24:44] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 7)
[08:24:44] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:44] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:44] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:44] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:44] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:44] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:44] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:44] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:45] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:45] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:45] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:45] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:45] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:45] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:45] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:45] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[08:24:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(203.8967, 211.6655), source=PLAYER (Shotgun), range=1469, listeners=7
[08:24:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[08:24:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(379.8331, 224.1384), source=ENEMY (Enemy10), range=1469, listeners=7
[08:24:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=2
[08:24:45] [ENEMY] [Enemy10] Hit taken, health: 1/2
[08:24:45] [ENEMY] [Enemy10] Hit taken, health: 0/2
[08:24:45] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[08:24:45] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[08:24:45] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 6)
[08:24:45] [INFO] [LastChance] Threat detected: Bullet
[08:24:45] [INFO] [LastChance] Effect already used this life
[08:24:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:45] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[08:24:45] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[08:24:45] [INFO] [PenultimateHit] Player died - ending penultimate effect
[08:24:45] [INFO] [LastChance] Player died
[08:24:46] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[08:24:46] [INFO] [LastChance] Resetting all effects (scene change detected)
[08:24:46] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[08:24:46] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[08:24:46] [INFO] [Player] Ready! Grenades: 1/3
[08:24:46] [INFO] [ScoreManager] Level started with 10 enemies
[08:24:46] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 7)
[08:24:46] [ENEMY] [Enemy1] Registered as sound listener
[08:24:46] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[08:24:46] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 8)
[08:24:46] [ENEMY] [Enemy2] Registered as sound listener
[08:24:46] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[08:24:46] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 9)
[08:24:46] [ENEMY] [Enemy3] Registered as sound listener
[08:24:46] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[08:24:46] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 10)
[08:24:46] [ENEMY] [Enemy4] Registered as sound listener
[08:24:46] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[08:24:46] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 11)
[08:24:46] [ENEMY] [Enemy5] Registered as sound listener
[08:24:46] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[08:24:46] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 12)
[08:24:46] [ENEMY] [Enemy6] Registered as sound listener
[08:24:46] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[08:24:46] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 13)
[08:24:46] [ENEMY] [Enemy7] Registered as sound listener
[08:24:46] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[08:24:46] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 14)
[08:24:46] [ENEMY] [Enemy8] Registered as sound listener
[08:24:46] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[08:24:46] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 15)
[08:24:46] [ENEMY] [Enemy9] Registered as sound listener
[08:24:46] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[08:24:46] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 16)
[08:24:46] [ENEMY] [Enemy10] Registered as sound listener
[08:24:46] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[08:24:46] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[08:24:46] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[08:24:46] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[08:24:46] [INFO] [LastChance] Found player: Player
[08:24:46] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[08:24:46] [INFO] [LastChance] Connected to player Damaged signal (C#)
[08:24:46] [INFO] [LastChance] Connected to player Died signal (C#)
[08:24:46] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1200, 1550), source=ENEMY (Enemy10), range=1469, listeners=16
[08:24:46] [INFO] [SoundPropagation] Cleaned up 6 invalid listeners
[08:24:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[08:24:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.964, 1534.575), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[08:24:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1200, 1550), shooter_id=500716013738, bullet_pos=(915.391, 1400.109)
[08:24:47] [INFO] [Bullet] Using shooter_position, distance=321.666778564453
[08:24:47] [INFO] [Bullet] Distance to wall: 321.666778564453 (21.9028824455029% of viewport)
[08:24:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[08:24:47] [INFO] [Bullet] Starting wall penetration at (915.391, 1400.109)
[08:24:47] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[08:24:47] [INFO] [Bullet] Exiting penetration at (874.1006, 1378.363) after traveling 41.6666679382324 pixels through wall
[08:24:47] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[08:24:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.721, 1515.758), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:47] [INFO] [LastChance] Threat detected: @Area2D@1642
[08:24:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[08:24:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.706, 1496.553), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:47] [INFO] [LastChance] Threat detected: Bullet
[08:24:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[08:24:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1075.693, 1477.344), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:47] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[08:24:47] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[08:24:47] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[08:24:47] [INFO] [LastChance] Threat detected: @Area2D@1643
[08:24:47] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[08:24:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.964, 1534.575), shooter_id=500716013738, bullet_pos=(60.33735, 899.9998)
[08:24:47] [INFO] [Bullet] Using shooter_position, distance=1280
[08:24:47] [INFO] [Bullet] Distance to wall: 1280 (87.1575537124549% of viewport)
[08:24:47] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[08:24:47] [INFO] [LastChance] Resetting all effects (scene change detected)
[08:24:47] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[08:24:47] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[08:24:47] [INFO] [Player] Ready! Grenades: 1/3
[08:24:47] [INFO] [ScoreManager] Level started with 10 enemies
[08:24:47] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[08:24:47] [ENEMY] [Enemy1] Registered as sound listener
[08:24:47] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[08:24:47] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[08:24:47] [ENEMY] [Enemy2] Registered as sound listener
[08:24:47] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[08:24:47] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[08:24:47] [ENEMY] [Enemy3] Registered as sound listener
[08:24:47] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[08:24:47] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[08:24:47] [ENEMY] [Enemy4] Registered as sound listener
[08:24:47] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[08:24:47] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[08:24:47] [ENEMY] [Enemy5] Registered as sound listener
[08:24:47] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[08:24:47] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[08:24:47] [ENEMY] [Enemy6] Registered as sound listener
[08:24:47] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[08:24:47] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[08:24:47] [ENEMY] [Enemy7] Registered as sound listener
[08:24:47] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[08:24:47] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[08:24:47] [ENEMY] [Enemy8] Registered as sound listener
[08:24:47] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[08:24:47] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[08:24:47] [ENEMY] [Enemy9] Registered as sound listener
[08:24:47] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[08:24:47] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[08:24:47] [ENEMY] [Enemy10] Registered as sound listener
[08:24:47] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[08:24:47] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[08:24:47] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[08:24:47] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[08:24:47] [INFO] [LastChance] Found player: Player
[08:24:47] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[08:24:47] [INFO] [LastChance] Connected to player Damaged signal (C#)
[08:24:47] [INFO] [LastChance] Connected to player Died signal (C#)
[08:24:48] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1200, 1550), source=ENEMY (Enemy10), range=1469, listeners=20
[08:24:48] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[08:24:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[08:24:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.975, 1534.556), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[08:24:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1200, 1550), shooter_id=519707822687, bullet_pos=(915.3665, 1400.156)
[08:24:48] [INFO] [Bullet] Using shooter_position, distance=321.666564941406
[08:24:48] [INFO] [Bullet] Distance to wall: 321.666564941406 (21.9028678995168% of viewport)
[08:24:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[08:24:48] [INFO] [Bullet] Starting wall penetration at (915.3665, 1400.156)
[08:24:48] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[08:24:48] [INFO] [Bullet] Exiting penetration at (874.0724, 1378.417) after traveling 41.6666717529297 pixels through wall
[08:24:48] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[08:24:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.937, 1515.394), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1108.69, 1494.969), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.277, 1473.32), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:48] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[08:24:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.975, 1534.556), shooter_id=519707822687, bullet_pos=(62.34277, 896.5001)
[08:24:48] [INFO] [Bullet] Using shooter_position, distance=1279.99951171875
[08:24:48] [INFO] [Bullet] Distance to wall: 1279.99951171875 (87.1575204644867% of viewport)
[08:24:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1139.937, 1515.394), shooter_id=519707822687, bullet_pos=(56.70889, 833.4718)
[08:24:48] [INFO] [Bullet] Using shooter_position, distance=1280.00073242188
[08:24:48] [INFO] [Bullet] Distance to wall: 1280.00073242188 (87.1576035844072% of viewport)
[08:24:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1139.937, 1515.394), shooter_id=519707822687, bullet_pos=(192.6247, 712.3055)
[08:24:48] [INFO] [Bullet] Using shooter_position, distance=1241.91479492188
[08:24:48] [INFO] [Bullet] Distance to wall: 1241.91479492188 (84.5642620661686% of viewport)
[08:24:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.975, 1534.556), shooter_id=519707822687, bullet_pos=(484.9061, 701.4285)
[08:24:48] [INFO] [Bullet] Using shooter_position, distance=1079.89099121094
[08:24:48] [INFO] [Bullet] Distance to wall: 1079.89099121094 (73.5317633359871% of viewport)
[08:24:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.69, 1494.969), shooter_id=519707822687, bullet_pos=(53.46958, 770.4619)
[08:24:48] [INFO] [Bullet] Using shooter_position, distance=1280.00012207031
[08:24:48] [INFO] [Bullet] Distance to wall: 1280.00012207031 (87.157562024447% of viewport)
[08:24:48] [INFO] [LastChance] Threat detected: Bullet
[08:24:48] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[08:24:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.69, 1494.969), shooter_id=519707822687, bullet_pos=(186.8162, 709.3899)
[08:24:49] [INFO] [Bullet] Using shooter_position, distance=1211.19189453125
[08:24:49] [INFO] [Bullet] Distance to wall: 1211.19189453125 (82.4722832841386% of viewport)
[08:24:49] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[08:24:49] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[08:24:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1078.277, 1473.32), shooter_id=519707822687, bullet_pos=(52.50022, 707.6948)
[08:24:49] [INFO] [Bullet] Using shooter_position, distance=1280.00024414063
[08:24:49] [INFO] [Bullet] Distance to wall: 1280.00024414063 (87.157570336439% of viewport)
[08:24:49] [INFO] [Bullet] Distance-based penetration chance: 44.9828346074878%
[08:24:49] [INFO] [Bullet] Starting wall penetration at (52.50022, 707.6948)
[08:24:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.975, 1534.556), shooter_id=519707822687, bullet_pos=(707.3419, 806.1009)
[08:24:49] [INFO] [Bullet] Using shooter_position, distance=864.019897460938
[08:24:49] [INFO] [Bullet] Distance to wall: 864.019897460938 (58.8327036106105% of viewport)
[08:24:49] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21.0857620239258
[08:24:49] [INFO] [Bullet] Body exited signal received for penetrating body
[08:24:49] [INFO] [Bullet] Exiting penetration at (15.1021, 679.7814) after traveling 41.6666717529297 pixels through wall
[08:24:49] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[08:24:49] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[08:24:49] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[08:24:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.69, 1494.969), shooter_id=519707822687, bullet_pos=(520.2416, 860.9366)
[08:24:49] [INFO] [Bullet] Using shooter_position, distance=865.025146484375
[08:24:49] [INFO] [Bullet] Distance to wall: 865.025146484375 (58.9011528651063% of viewport)
[08:24:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.975, 1534.556), shooter_id=519707822687, bullet_pos=(918.451, 702.1896)
[08:24:49] [INFO] [Bullet] Using shooter_position, distance=870.119262695313
[08:24:49] [INFO] [Bullet] Distance to wall: 870.119262695313 (59.2480206051628% of viewport)
[08:24:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(336.0993, 815.6596), source=PLAYER (Shotgun), range=1469, listeners=10
[08:24:49] [ENEMY] [Enemy1] Heard gunshot at (336.0993, 815.6596), source_type=0, intensity=0.01, distance=467
[08:24:49] [ENEMY] [Enemy2] Heard gunshot at (336.0993, 815.6596), source_type=0, intensity=0.03, distance=273
[08:24:49] [ENEMY] [Enemy4] Heard gunshot at (336.0993, 815.6596), source_type=0, intensity=0.01, distance=472
[08:24:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[08:24:49] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[08:24:49] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[08:24:49] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[08:24:49] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[08:24:49] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[08:24:50] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[08:24:50] [INFO] [LastChance] Resetting all effects (scene change detected)
[08:24:50] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[08:24:50] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[08:24:50] [INFO] [Player] Ready! Grenades: 1/3
[08:24:50] [INFO] [ScoreManager] Level started with 10 enemies
[08:24:50] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[08:24:50] [ENEMY] [Enemy1] Registered as sound listener
[08:24:50] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[08:24:50] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[08:24:50] [ENEMY] [Enemy2] Registered as sound listener
[08:24:50] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[08:24:50] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[08:24:50] [ENEMY] [Enemy3] Registered as sound listener
[08:24:50] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[08:24:50] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[08:24:50] [ENEMY] [Enemy4] Registered as sound listener
[08:24:50] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[08:24:50] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[08:24:50] [ENEMY] [Enemy5] Registered as sound listener
[08:24:50] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[08:24:50] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[08:24:50] [ENEMY] [Enemy6] Registered as sound listener
[08:24:50] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[08:24:50] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[08:24:50] [ENEMY] [Enemy7] Registered as sound listener
[08:24:50] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[08:24:50] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[08:24:50] [ENEMY] [Enemy8] Registered as sound listener
[08:24:50] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[08:24:50] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[08:24:50] [ENEMY] [Enemy9] Registered as sound listener
[08:24:50] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[08:24:50] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[08:24:50] [ENEMY] [Enemy10] Registered as sound listener
[08:24:50] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[08:24:50] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[08:24:50] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[08:24:50] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[08:24:50] [INFO] [LastChance] Found player: Player
[08:24:50] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[08:24:50] [INFO] [LastChance] Connected to player Damaged signal (C#)
[08:24:50] [INFO] [LastChance] Connected to player Died signal (C#)
[08:24:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1157.944), source=PLAYER (Shotgun), range=1469, listeners=20
[08:24:51] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[08:24:51] [ENEMY] [Enemy3] Heard gunshot at (450, 1157.944), source_type=0, intensity=0.01, distance=478
[08:24:51] [ENEMY] [Enemy4] Heard gunshot at (450, 1157.944), source_type=0, intensity=0.01, distance=435
[08:24:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[08:24:51] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[08:24:51] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:51] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:51] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:51] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:51] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:51] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:51] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:51] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:51] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.924, 1519.159), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1111.451, 1500.74), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:51] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:51] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.98, 1482.317), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:51] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:51] [INFO] [LastChance] Threat detected: Bullet
[08:24:51] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[08:24:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:51] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:51] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:51] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:51] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[08:24:51] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[08:24:51] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[08:24:51] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[08:24:51] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:51] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:51] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:51] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:51] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:51] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:51] [INFO] [LastChance] Threat detected: @Area2D@2179
[08:24:51] [INFO] [LastChance] Triggering last chance effect!
[08:24:51] [INFO] [LastChance] Starting last chance effect:
[08:24:51] [INFO] [LastChance]   - Time will be frozen (except player)
[08:24:51] [INFO] [LastChance]   - Duration: 6.0 real seconds
[08:24:51] [INFO] [LastChance]   - Sepia intensity: 0.70
[08:24:51] [INFO] [LastChance]   - Brightness: 0.60
[08:24:51] [INFO] [LastChance] Pushed bullet @Area2D@2179 from distance 147.2 to 200.0
[08:24:51] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[08:24:51] [INFO] [LastChance] Set player Player and all 16 children to PROCESS_MODE_ALWAYS
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[08:24:51] [INFO] [LastChance] Skipping player node: Player
[08:24:51] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[08:24:51] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[08:24:52] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[08:24:52] [INFO] [LastChance] Resetting all effects (scene change detected)
[08:24:52] [INFO] [LastChance] Ending last chance effect
[08:24:52] [INFO] [LastChance] All process modes restored
[08:24:52] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[08:24:52] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[08:24:52] [INFO] [Player] Ready! Grenades: 1/3
[08:24:52] [INFO] [ScoreManager] Level started with 10 enemies
[08:24:52] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[08:24:52] [ENEMY] [Enemy1] Registered as sound listener
[08:24:52] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[08:24:52] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[08:24:52] [ENEMY] [Enemy2] Registered as sound listener
[08:24:52] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[08:24:52] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[08:24:52] [ENEMY] [Enemy3] Registered as sound listener
[08:24:52] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[08:24:52] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[08:24:52] [ENEMY] [Enemy4] Registered as sound listener
[08:24:52] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[08:24:52] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[08:24:52] [ENEMY] [Enemy5] Registered as sound listener
[08:24:52] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[08:24:52] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[08:24:52] [ENEMY] [Enemy6] Registered as sound listener
[08:24:52] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[08:24:52] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[08:24:52] [ENEMY] [Enemy7] Registered as sound listener
[08:24:52] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[08:24:52] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[08:24:52] [ENEMY] [Enemy8] Registered as sound listener
[08:24:52] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[08:24:52] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[08:24:52] [ENEMY] [Enemy9] Registered as sound listener
[08:24:52] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[08:24:52] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[08:24:52] [ENEMY] [Enemy10] Registered as sound listener
[08:24:52] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[08:24:52] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[08:24:52] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[08:24:52] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[08:24:52] [INFO] [LastChance] Found player: Player
[08:24:52] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[08:24:52] [INFO] [LastChance] Connected to player Damaged signal (C#)
[08:24:52] [INFO] [LastChance] Connected to player Died signal (C#)
[08:24:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1250), source=PLAYER (Shotgun), range=1469, listeners=20
[08:24:52] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[08:24:52] [ENEMY] [Enemy4] Heard gunshot at (450, 1250), source_type=0, intensity=0.01, distance=495
[08:24:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[08:24:52] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:52] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:52] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:52] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:52] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:52] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:52] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:52] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:52] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:52] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:52] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:52] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:24:53] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[08:24:54] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[08:24:54] [INFO] [LastChance] Resetting all effects (scene change detected)
[08:24:54] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[08:24:54] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[08:24:54] [INFO] [Player] Ready! Grenades: 1/3
[08:24:54] [INFO] [ScoreManager] Level started with 10 enemies
[08:24:54] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[08:24:54] [ENEMY] [Enemy1] Registered as sound listener
[08:24:54] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[08:24:54] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[08:24:54] [ENEMY] [Enemy2] Registered as sound listener
[08:24:54] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[08:24:54] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[08:24:54] [ENEMY] [Enemy3] Registered as sound listener
[08:24:54] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[08:24:54] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[08:24:54] [ENEMY] [Enemy4] Registered as sound listener
[08:24:54] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[08:24:54] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[08:24:54] [ENEMY] [Enemy5] Registered as sound listener
[08:24:54] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[08:24:54] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[08:24:54] [ENEMY] [Enemy6] Registered as sound listener
[08:24:54] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[08:24:54] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[08:24:54] [ENEMY] [Enemy7] Registered as sound listener
[08:24:54] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[08:24:54] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[08:24:54] [ENEMY] [Enemy8] Registered as sound listener
[08:24:54] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[08:24:54] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[08:24:54] [ENEMY] [Enemy9] Registered as sound listener
[08:24:54] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[08:24:54] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[08:24:54] [ENEMY] [Enemy10] Registered as sound listener
[08:24:54] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[08:24:54] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[08:24:54] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[08:24:54] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[08:24:54] [INFO] [LastChance] Found player: Player
[08:24:54] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[08:24:54] [INFO] [LastChance] Connected to player Damaged signal (C#)
[08:24:54] [INFO] [LastChance] Connected to player Died signal (C#)
[08:24:54] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1200, 1550), source=ENEMY (Enemy10), range=1469, listeners=20
[08:24:54] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[08:24:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[08:24:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.99, 1534.529), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[08:24:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1200, 1550), shooter_id=604516648555, bullet_pos=(915.3665, 1400.156)
[08:24:54] [INFO] [Bullet] Using shooter_position, distance=321.666564941406
[08:24:54] [INFO] [Bullet] Distance to wall: 321.666564941406 (21.9028678995168% of viewport)
[08:24:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[08:24:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1140.006, 1515.278), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1108.816, 1494.764), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.464, 1473.031), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:55] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[08:24:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.99, 1534.529), shooter_id=604516648555, bullet_pos=(64.15709, 893.3544)
[08:24:55] [INFO] [Bullet] Using shooter_position, distance=1279.99975585938
[08:24:55] [INFO] [Bullet] Distance to wall: 1279.99975585938 (87.1575370884708% of viewport)
[08:24:55] [INFO] [Bullet] Distance-based penetration chance: 44.982873396784%
[08:24:55] [INFO] [Bullet] Starting wall penetration at (64.15709, 893.3544)
[08:24:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9.5120849609375
[08:24:55] [INFO] [Bullet] Body exited signal received for penetrating body
[08:24:55] [INFO] [Bullet] Exiting penetration at (23.76734, 869.9782) after traveling 41.6666717529297 pixels through wall
[08:24:55] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[08:24:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=604516648555, bullet_pos=(58.7139, 830.2917)
[08:24:55] [INFO] [Bullet] Using shooter_position, distance=1279.99951171875
[08:24:55] [INFO] [Bullet] Distance to wall: 1279.99951171875 (87.1575204644867% of viewport)
[08:24:55] [INFO] [Bullet] Distance-based penetration chance: 44.9828927914321%
[08:24:55] [INFO] [Bullet] Starting wall penetration at (58.7139, 830.2917)
[08:24:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15.0436010360718
[08:24:55] [INFO] [Bullet] Body exited signal received for penetrating body
[08:24:55] [INFO] [Bullet] Exiting penetration at (19.29178, 805.3183) after traveling 41.6666679382324 pixels through wall
[08:24:55] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[08:24:55] [INFO] [LastChance] Threat detected: @Area2D@2701
[08:24:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[08:24:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.816, 1494.764), shooter_id=604516648555, bullet_pos=(55.6586, 767.2637)
[08:24:55] [INFO] [Bullet] Using shooter_position, distance=1279.99951171875
[08:24:55] [INFO] [Bullet] Distance to wall: 1279.99951171875 (87.1575204644867% of viewport)
[08:24:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.816, 1494.764), shooter_id=604516648555, bullet_pos=(144.5354, 700.3498)
[08:24:55] [INFO] [Bullet] Using shooter_position, distance=1249.37280273438
[08:24:55] [INFO] [Bullet] Distance to wall: 1249.37280273438 (85.0720915321888% of viewport)
[08:24:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1078.464, 1473.031), shooter_id=604516648555, bullet_pos=(54.02669, 705.6147)
[08:24:55] [INFO] [Bullet] Using shooter_position, distance=1279.99987792969
[08:24:55] [INFO] [Bullet] Distance to wall: 1279.99987792969 (87.1575454004629% of viewport)
[08:24:55] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[08:24:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.816, 1494.764), shooter_id=604516648555, bullet_pos=(519.2745, 903.9113)
[08:24:55] [INFO] [Bullet] Using shooter_position, distance=834.665893554688
[08:24:55] [INFO] [Bullet] Distance to wall: 834.665893554688 (56.8339355073804% of viewport)
[08:24:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1078.464, 1473.031), shooter_id=604516648555, bullet_pos=(516.2462, 369.2282)
[08:24:56] [INFO] [Bullet] Using shooter_position, distance=1238.73681640625
[08:24:56] [INFO] [Bullet] Distance to wall: 1238.73681640625 (84.3478676652525% of viewport)
[08:24:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(285.3207, 808.3167), source=PLAYER (Shotgun), range=1469, listeners=10
[08:24:56] [ENEMY] [Enemy1] Heard gunshot at (285.3207, 808.3167), source_type=0, intensity=0.01, distance=459
[08:24:56] [ENEMY] [Enemy2] Heard gunshot at (285.3207, 808.3167), source_type=0, intensity=0.03, distance=283
[08:24:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[08:24:56] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[08:24:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.8934, 760.391), source=ENEMY (Enemy3), range=1469, listeners=10
[08:24:56] [ENEMY] [Enemy4] Heard gunshot at (636.8934, 760.391), source_type=1, intensity=0.05, distance=215
[08:24:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[08:24:56] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[08:24:56] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[08:24:56] [INFO] [LastChance] Threat detected: Bullet
[08:24:56] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[08:24:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(599.6978, 763.5729), source=ENEMY (Enemy3), range=1469, listeners=10
[08:24:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[08:24:56] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[08:24:56] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[08:24:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1078.464, 1473.031), shooter_id=604516648555, bullet_pos=(105.7337, 55.33096)
[08:24:56] [INFO] [Bullet] Using shooter_position, distance=1719.32470703125
[08:24:56] [INFO] [Bullet] Distance to wall: 1719.32470703125 (117.071980861115% of viewport)
[08:24:56] [INFO] [LastChance] Threat detected: @Area2D@2715
[08:24:56] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[08:24:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1078.464, 1473.031), shooter_id=604516648555, bullet_pos=(59.41551, 87.11922)
[08:24:56] [INFO] [Bullet] Using shooter_position, distance=1720.23571777344
[08:24:56] [INFO] [Bullet] Distance to wall: 1720.23571777344 (117.134013257751% of viewport)
[08:24:56] [INFO] [Bullet] Distance-based penetration chance: 26.5731973484497%
[08:24:56] [INFO] [Bullet] Penetration failed (distance roll)
[08:24:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(562.452, 766.1271), source=ENEMY (Enemy3), range=1469, listeners=10
[08:24:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[08:24:56] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[08:24:56] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[08:24:56] [INFO] [LastChance] Threat detected: Bullet
[08:24:56] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[08:24:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(525.317, 769.9084), source=ENEMY (Enemy3), range=1469, listeners=10
[08:24:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[08:24:56] [INFO] [LastChance] Threat detected: @Area2D@2725
[08:24:56] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[08:24:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:56] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[08:24:56] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[08:24:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(562.452, 766.1271), shooter_id=603107362305, bullet_pos=(34.04876, 807.2357)
[08:24:56] [INFO] [Bullet] Using shooter_position, distance=529.999938964844
[08:24:56] [INFO] [Bullet] Distance to wall: 529.999938964844 (36.0886704280673% of viewport)
[08:24:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[08:24:56] [INFO] [Bullet] Starting wall penetration at (34.04876, 807.2357)
[08:24:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 44.6117095947266
[08:24:56] [INFO] [Bullet] Body exited signal received for penetrating body
[08:24:56] [INFO] [Bullet] Exiting penetration at (-12.47731, 810.8553) after traveling 41.6666679382324 pixels through wall
[08:24:56] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[08:24:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(506.493, 774.6276), source=ENEMY (Enemy3), range=1469, listeners=10
[08:24:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[08:24:56] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[08:24:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(525.317, 769.9084), shooter_id=603107362305, bullet_pos=(42.17631, 840.933)
[08:24:56] [INFO] [Bullet] Using shooter_position, distance=488.333282470703
[08:24:56] [INFO] [Bullet] Distance to wall: 488.333282470703 (33.251511169156% of viewport)
[08:24:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[08:24:56] [INFO] [Bullet] Starting wall penetration at (42.17631, 840.933)
[08:24:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36.3809928894043
[08:24:56] [INFO] [Bullet] Body exited signal received for penetrating body
[08:24:56] [INFO] [Bullet] Exiting penetration at (-3.994137, 847.7204) after traveling 41.6666641235352 pixels through wall
[08:24:56] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[08:24:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(530.564, 776.7203), source=ENEMY (Enemy3), range=1469, listeners=10
[08:24:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[08:24:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(506.493, 774.6276), shooter_id=603107362305, bullet_pos=(66.44986, 851.2641)
[08:24:56] [INFO] [Bullet] Using shooter_position, distance=446.666656494141
[08:24:56] [INFO] [Bullet] Distance to wall: 446.666656494141 (30.4143539882427% of viewport)
[08:24:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[08:24:56] [INFO] [Bullet] Starting wall penetration at (66.44986, 851.2641)
[08:24:56] [INFO] [LastChance] Threat detected: Bullet
[08:24:56] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[08:24:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11.6982698440552
[08:24:56] [INFO] [Bullet] Body exited signal received for penetrating body
[08:24:56] [INFO] [Bullet] Exiting penetration at (20.4752, 859.2709) after traveling 41.6666641235352 pixels through wall
[08:24:56] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[08:24:56] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(542.8741, 779.064), source=ENEMY (Enemy3), range=1469, listeners=10
[08:24:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[08:24:56] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:56] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:56] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:56] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:56] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[08:24:56] [INFO] [LastChance] Resetting all effects (scene change detected)
[08:24:56] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[08:24:56] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[08:24:56] [INFO] [Player] Ready! Grenades: 1/3
[08:24:56] [INFO] [ScoreManager] Level started with 10 enemies
[08:24:56] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[08:24:56] [ENEMY] [Enemy1] Registered as sound listener
[08:24:56] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[08:24:56] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[08:24:56] [ENEMY] [Enemy2] Registered as sound listener
[08:24:56] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[08:24:56] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[08:24:56] [ENEMY] [Enemy3] Registered as sound listener
[08:24:56] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[08:24:56] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[08:24:56] [ENEMY] [Enemy4] Registered as sound listener
[08:24:56] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[08:24:56] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[08:24:56] [ENEMY] [Enemy5] Registered as sound listener
[08:24:56] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[08:24:56] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[08:24:56] [ENEMY] [Enemy6] Registered as sound listener
[08:24:56] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[08:24:56] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[08:24:56] [ENEMY] [Enemy7] Registered as sound listener
[08:24:56] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[08:24:56] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[08:24:56] [ENEMY] [Enemy8] Registered as sound listener
[08:24:56] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[08:24:56] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[08:24:56] [ENEMY] [Enemy9] Registered as sound listener
[08:24:56] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[08:24:56] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[08:24:56] [ENEMY] [Enemy10] Registered as sound listener
[08:24:56] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[08:24:56] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[08:24:56] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[08:24:56] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[08:24:56] [INFO] [LastChance] Found player: Player
[08:24:56] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[08:24:56] [INFO] [LastChance] Connected to player Damaged signal (C#)
[08:24:56] [INFO] [LastChance] Connected to player Died signal (C#)
[08:24:57] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:24:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1200, 1550), source=ENEMY (Enemy10), range=1469, listeners=20
[08:24:57] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[08:24:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[08:24:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.99, 1534.529), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[08:24:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1200, 1550), shooter_id=647348881593, bullet_pos=(915.3665, 1400.156)
[08:24:57] [INFO] [Bullet] Using shooter_position, distance=321.666564941406
[08:24:57] [INFO] [Bullet] Distance to wall: 321.666564941406 (21.9028678995168% of viewport)
[08:24:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[08:24:57] [INFO] [Bullet] Starting wall penetration at (915.3665, 1400.156)
[08:24:57] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[08:24:57] [INFO] [Bullet] Exiting penetration at (874.0724, 1378.417) after traveling 41.6666717529297 pixels through wall
[08:24:57] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[08:24:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1140.006, 1515.278), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1108.816, 1494.764), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.461, 1473.035), source=ENEMY (Enemy10), range=1469, listeners=10
[08:24:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:24:58] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[08:24:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.99, 1534.529), shooter_id=647348881593, bullet_pos=(64.15709, 893.3544)
[08:24:58] [INFO] [Bullet] Using shooter_position, distance=1279.99975585938
[08:24:58] [INFO] [Bullet] Distance to wall: 1279.99975585938 (87.1575370884708% of viewport)
[08:24:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=647348881593, bullet_pos=(58.7139, 830.2917)
[08:24:58] [INFO] [Bullet] Using shooter_position, distance=1279.99951171875
[08:24:58] [INFO] [Bullet] Distance to wall: 1279.99951171875 (87.1575204644867% of viewport)
[08:24:58] [INFO] [LastChance] Threat detected: @Area2D@2985
[08:24:58] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[08:24:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.99, 1534.529), shooter_id=647348881593, bullet_pos=(334.1301, 714.6685)
[08:24:58] [INFO] [Bullet] Using shooter_position, distance=1172.25476074219
[08:24:58] [INFO] [Bullet] Distance to wall: 1172.25476074219 (79.8209822453658% of viewport)
[08:24:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=647348881593, bullet_pos=(241.8598, 712.9722)
[08:24:58] [INFO] [Bullet] Using shooter_position, distance=1204.30944824219
[08:24:58] [INFO] [Bullet] Distance to wall: 1204.30944824219 (82.0036448606136% of viewport)
[08:24:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.816, 1494.764), shooter_id=647348881593, bullet_pos=(55.6586, 767.2637)
[08:24:58] [INFO] [Bullet] Using shooter_position, distance=1279.99951171875
[08:24:58] [INFO] [Bullet] Distance to wall: 1279.99951171875 (87.1575204644867% of viewport)
[08:24:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.99, 1534.529), shooter_id=647348881593, bullet_pos=(498.1611, 854.786)
[08:24:58] [INFO] [Bullet] Using shooter_position, distance=957.129272460938
[08:24:58] [INFO] [Bullet] Distance to wall: 957.129272460938 (65.172692167404% of viewport)
[08:24:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.816, 1494.764), shooter_id=647348881593, bullet_pos=(186.1751, 700.3566)
[08:24:58] [INFO] [Bullet] Using shooter_position, distance=1217.51831054688
[08:24:58] [INFO] [Bullet] Distance to wall: 1217.51831054688 (82.9030605838958% of viewport)
[08:24:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1078.461, 1473.035), shooter_id=647348881593, bullet_pos=(53.19054, 706.731)
[08:24:58] [INFO] [Bullet] Using shooter_position, distance=1280.00073242188
[08:24:58] [INFO] [Bullet] Distance to wall: 1280.00073242188 (87.1576035844072% of viewport)
[08:24:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=647348881593, bullet_pos=(504.7713, 922.4277)
[08:24:58] [INFO] [Bullet] Using shooter_position, distance=868.904235839844
[08:24:58] [INFO] [Bullet] Distance to wall: 868.904235839844 (59.1652871923366% of viewport)
[08:24:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.816, 1494.764), shooter_id=647348881593, bullet_pos=(501.5964, 886.4976)
[08:24:58] [INFO] [Bullet] Using shooter_position, distance=859.479248046875
[08:24:58] [INFO] [Bullet] Distance to wall: 859.479248046875 (58.523522442489% of viewport)
[08:24:58] [INFO] [Bullet] Distance-based penetration chance: 78.3892238170962%
[08:24:58] [INFO] [Bullet] Starting wall penetration at (501.5964, 886.4976)
[08:24:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(296.9359, 848.2521), source=PLAYER (Shotgun), range=1469, listeners=10
[08:24:58] [ENEMY] [Enemy1] Heard gunshot at (296.9359, 848.2521), source_type=0, intensity=0.01, distance=498
[08:24:58] [ENEMY] [Enemy2] Heard gunshot at (296.9359, 848.2521), source_type=0, intensity=0.03, distance=316
[08:24:58] [ENEMY] [Enemy3] Heard gunshot at (296.9359, 848.2521), source_type=0, intensity=0.01, distance=415
[08:24:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[08:24:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9.09029483795166
[08:24:58] [INFO] [Bullet] Body exited signal received for penetrating body
[08:24:58] [INFO] [Bullet] Exiting penetration at (531.8287, 904.3388) after traveling 30.1041698455811 pixels through wall
[08:24:58] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[08:24:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1078.461, 1473.035), shooter_id=647348881593, bullet_pos=(316.2632, 462.2039)
[08:24:58] [INFO] [Bullet] Using shooter_position, distance=1265.98791503906
[08:24:58] [INFO] [Bullet] Distance to wall: 1265.98791503906 (86.2034450815124% of viewport)
[08:24:58] [ENEMY] [Enemy2] Hit taken, health: 3/4
[08:24:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.99, 1534.529), shooter_id=647348881593, bullet_pos=(57.16526, 1289.341)
[08:24:58] [INFO] [Bullet] Using shooter_position, distance=1141.46899414063
[08:24:58] [INFO] [Bullet] Distance to wall: 1141.46899414063 (77.7247227874324% of viewport)
[08:24:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.5896, 764.1678), source=ENEMY (Enemy3), range=1469, listeners=10
[08:24:58] [ENEMY] [Enemy4] Heard gunshot at (637.5896, 764.1678), source_type=1, intensity=0.06, distance=212
[08:24:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[08:24:58] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[08:24:58] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[08:24:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=647348881593, bullet_pos=(52.0217, 1265.332)
[08:24:58] [INFO] [Bullet] Using shooter_position, distance=1116.32568359375
[08:24:58] [INFO] [Bullet] Distance to wall: 1116.32568359375 (76.0126685378244% of viewport)
[08:24:58] [INFO] [Bullet] Distance-based penetration chance: 57.9852200392049%
[08:24:58] [INFO] [Bullet] Penetration failed (distance roll)
[08:24:58] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[08:24:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.99, 1534.529), shooter_id=647348881593, bullet_pos=(200.2716, 1396.869)
[08:24:58] [INFO] [Bullet] Using shooter_position, distance=981.420959472656
[08:24:58] [INFO] [Bullet] Distance to wall: 981.420959472656 (66.8267578045055% of viewport)
[08:24:58] [INFO] [LastChance] Threat detected: @Area2D@3004
[08:24:58] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[08:24:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:24:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(637.5896, 764.1678), shooter_id=645939595500, bullet_pos=(39.59179, 900.4635)
[08:24:59] [INFO] [Bullet] Using shooter_position, distance=613.333435058594
[08:24:59] [INFO] [Bullet] Distance to wall: 613.333435058594 (41.763001413878% of viewport)
[08:24:59] [INFO] [Bullet] Distance-based penetration chance: 97.9431650171423%
[08:24:59] [INFO] [Bullet] Starting wall penetration at (39.59179, 900.4635)
[08:24:59] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38.8801765441895
[08:24:59] [INFO] [Bullet] Body exited signal received for penetrating body
[08:24:59] [INFO] [Bullet] Exiting penetration at (-5.908039, 910.8338) after traveling 41.6666679382324 pixels through wall
[08:24:59] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[08:24:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.99, 1534.529), shooter_id=647348881593, bullet_pos=(56.36562, 1547.557)
[08:24:59] [INFO] [Bullet] Using shooter_position, distance=1115.70043945313
[08:24:59] [INFO] [Bullet] Distance to wall: 1115.70043945313 (75.9700945145666% of viewport)
[08:24:59] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[08:24:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.99, 1534.529), shooter_id=647348881593, bullet_pos=(102.025, 1597.757)
[08:24:59] [INFO] [Bullet] Using shooter_position, distance=1071.83154296875
[08:24:59] [INFO] [Bullet] Distance to wall: 1071.83154296875 (72.982980685158% of viewport)
[08:24:59] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[08:24:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.99, 1534.529), shooter_id=647348881593, bullet_pos=(66.38808, 1644.061)
[08:24:59] [INFO] [Bullet] Using shooter_position, distance=1111.01428222656
[08:24:59] [INFO] [Bullet] Distance to wall: 1111.01428222656 (75.6510054519267% of viewport)
[08:24:59] [INFO] [Bullet] Distance-based penetration chance: 58.4071603060855%
[08:24:59] [INFO] [Bullet] Penetration failed (distance roll)
[08:24:59] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[08:24:59] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[08:24:59] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[08:24:59] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[08:24:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[08:24:59] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[08:24:59] [INFO] [LastChance] Resetting all effects (scene change detected)
[08:24:59] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[08:24:59] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[08:24:59] [INFO] [Player] Ready! Grenades: 1/3
[08:24:59] [INFO] [ScoreManager] Level started with 10 enemies
[08:24:59] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[08:24:59] [ENEMY] [Enemy1] Registered as sound listener
[08:24:59] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[08:24:59] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[08:24:59] [ENEMY] [Enemy2] Registered as sound listener
[08:24:59] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[08:24:59] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[08:24:59] [ENEMY] [Enemy3] Registered as sound listener
[08:24:59] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[08:24:59] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[08:24:59] [ENEMY] [Enemy4] Registered as sound listener
[08:24:59] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[08:24:59] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[08:24:59] [ENEMY] [Enemy5] Registered as sound listener
[08:24:59] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[08:24:59] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[08:24:59] [ENEMY] [Enemy6] Registered as sound listener
[08:24:59] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[08:24:59] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[08:24:59] [ENEMY] [Enemy7] Registered as sound listener
[08:24:59] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[08:24:59] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[08:24:59] [ENEMY] [Enemy8] Registered as sound listener
[08:24:59] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[08:24:59] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[08:24:59] [ENEMY] [Enemy9] Registered as sound listener
[08:24:59] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[08:24:59] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[08:24:59] [ENEMY] [Enemy10] Registered as sound listener
[08:24:59] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[08:24:59] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[08:24:59] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[08:24:59] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[08:24:59] [INFO] [LastChance] Found player: Player
[08:24:59] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[08:24:59] [INFO] [LastChance] Connected to player Damaged signal (C#)
[08:24:59] [INFO] [LastChance] Connected to player Died signal (C#)
[08:25:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1193.944), source=PLAYER (Shotgun), range=1469, listeners=20
[08:25:00] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[08:25:00] [ENEMY] [Enemy4] Heard gunshot at (450, 1193.944), source_type=0, intensity=0.01, distance=457
[08:25:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=5
[08:25:00] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:00] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:00] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:00] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:00] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:00] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:00] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:00] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:00] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:25:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1200, 1550), source=ENEMY (Enemy10), range=1469, listeners=10
[08:25:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[08:25:00] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:00] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:00] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:00] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:00] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.749, 1534.97), source=ENEMY (Enemy10), range=1469, listeners=10
[08:25:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[08:25:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1200, 1550), shooter_id=697042995123, bullet_pos=(915.08, 1400.702)
[08:25:00] [INFO] [Bullet] Using shooter_position, distance=321.666473388672
[08:25:00] [INFO] [Bullet] Distance to wall: 321.666473388672 (21.9028616655228% of viewport)
[08:25:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[08:25:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1138.857, 1517.311), source=ENEMY (Enemy10), range=1469, listeners=10
[08:25:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:25:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1105.965, 1499.65), source=ENEMY (Enemy10), range=1469, listeners=10
[08:25:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:25:01] [INFO] [LastChance] Threat detected: @Area2D@3276
[08:25:01] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[08:25:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:25:01] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:01] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[08:25:01] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[08:25:01] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[08:25:01] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:01] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[08:25:01] [INFO] [LastChance] Resetting all effects (scene change detected)
[08:25:01] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[08:25:01] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[08:25:01] [INFO] [Player] Ready! Grenades: 1/3
[08:25:01] [INFO] [ScoreManager] Level started with 10 enemies
[08:25:01] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[08:25:01] [ENEMY] [Enemy1] Registered as sound listener
[08:25:01] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[08:25:01] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[08:25:01] [ENEMY] [Enemy2] Registered as sound listener
[08:25:01] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[08:25:01] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[08:25:01] [ENEMY] [Enemy3] Registered as sound listener
[08:25:01] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[08:25:01] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[08:25:01] [ENEMY] [Enemy4] Registered as sound listener
[08:25:01] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[08:25:01] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[08:25:01] [ENEMY] [Enemy5] Registered as sound listener
[08:25:01] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[08:25:01] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[08:25:01] [ENEMY] [Enemy6] Registered as sound listener
[08:25:01] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[08:25:01] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[08:25:01] [ENEMY] [Enemy7] Registered as sound listener
[08:25:01] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[08:25:01] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[08:25:01] [ENEMY] [Enemy8] Registered as sound listener
[08:25:01] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[08:25:01] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[08:25:01] [ENEMY] [Enemy9] Registered as sound listener
[08:25:01] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[08:25:01] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[08:25:01] [ENEMY] [Enemy10] Registered as sound listener
[08:25:01] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[08:25:01] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[08:25:01] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[08:25:01] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[08:25:01] [INFO] [LastChance] Found player: Player
[08:25:01] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[08:25:01] [INFO] [LastChance] Connected to player Damaged signal (C#)
[08:25:01] [INFO] [LastChance] Connected to player Died signal (C#)
[08:25:01] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:25:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1200, 1550), source=ENEMY (Enemy10), range=1469, listeners=20
[08:25:01] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[08:25:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[08:25:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.99, 1534.529), source=ENEMY (Enemy10), range=1469, listeners=10
[08:25:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[08:25:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1200, 1550), shooter_id=718719159013, bullet_pos=(915.3665, 1400.156)
[08:25:02] [INFO] [Bullet] Using shooter_position, distance=321.666564941406
[08:25:02] [INFO] [Bullet] Distance to wall: 321.666564941406 (21.9028678995168% of viewport)
[08:25:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[08:25:02] [INFO] [Bullet] Starting wall penetration at (915.3665, 1400.156)
[08:25:02] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[08:25:02] [INFO] [Bullet] Exiting penetration at (874.0724, 1378.417) after traveling 41.6666717529297 pixels through wall
[08:25:02] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[08:25:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1140.006, 1515.278), source=ENEMY (Enemy10), range=1469, listeners=10
[08:25:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:25:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1108.732, 1494.891), source=ENEMY (Enemy10), range=1469, listeners=10
[08:25:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:25:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.882, 1473.867), source=ENEMY (Enemy10), range=1469, listeners=10
[08:25:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:25:02] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[08:25:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.99, 1534.529), shooter_id=718719159013, bullet_pos=(64.15709, 893.3544)
[08:25:02] [INFO] [Bullet] Using shooter_position, distance=1279.99975585938
[08:25:02] [INFO] [Bullet] Distance to wall: 1279.99975585938 (87.1575370884708% of viewport)
[08:25:02] [INFO] [Bullet] Distance-based penetration chance: 44.982873396784%
[08:25:02] [INFO] [Bullet] Penetration failed (distance roll)
[08:25:02] [INFO] [LastChance] Threat detected: @Area2D@3531
[08:25:02] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[08:25:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:25:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=718719159013, bullet_pos=(58.48521, 830.6517)
[08:25:02] [INFO] [Bullet] Using shooter_position, distance=1280.00012207031
[08:25:02] [INFO] [Bullet] Distance to wall: 1280.00012207031 (87.157562024447% of viewport)
[08:25:02] [INFO] [LastChance] Threat detected: @Area2D@3532
[08:25:02] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[08:25:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:25:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.732, 1494.891), shooter_id=718719159013, bullet_pos=(46.7076, 780.396)
[08:25:02] [INFO] [Bullet] Using shooter_position, distance=1279.99975585938
[08:25:02] [INFO] [Bullet] Distance to wall: 1279.99975585938 (87.1575370884708% of viewport)
[08:25:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=718719159013, bullet_pos=(318.2567, 705.5323)
[08:25:02] [INFO] [Bullet] Using shooter_position, distance=1153.67236328125
[08:25:02] [INFO] [Bullet] Distance to wall: 1153.67236328125 (78.5556726322346% of viewport)
[08:25:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.732, 1494.891), shooter_id=718719159013, bullet_pos=(132.7849, 709.9172)
[08:25:02] [INFO] [Bullet] Using shooter_position, distance=1252.46032714844
[08:25:02] [INFO] [Bullet] Distance to wall: 1252.46032714844 (85.2823267469991% of viewport)
[08:25:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.882, 1473.867), shooter_id=718719159013, bullet_pos=(58.67332, 770.5301)
[08:25:02] [INFO] [Bullet] Using shooter_position, distance=1238.3330078125
[08:25:02] [INFO] [Bullet] Distance to wall: 1238.3330078125 (84.3203715955655% of viewport)
[08:25:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.882, 1473.867), shooter_id=718719159013, bullet_pos=(140.7618, 695.4432)
[08:25:02] [INFO] [Bullet] Using shooter_position, distance=1218.25170898438
[08:25:02] [INFO] [Bullet] Distance to wall: 1218.25170898438 (82.952999032106% of viewport)
[08:25:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=718719159013, bullet_pos=(698.5406, 817.2496)
[08:25:03] [INFO] [Bullet] Using shooter_position, distance=825.914794921875
[08:25:03] [INFO] [Bullet] Distance to wall: 825.914794921875 (56.2380571096207% of viewport)
[08:25:03] [INFO] [Bullet] Distance-based penetration chance: 81.0556000387759%
[08:25:03] [INFO] [Bullet] Penetration failed (distance roll)
[08:25:03] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[08:25:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.732, 1494.891), shooter_id=718719159013, bullet_pos=(508.9963, 968.5951)
[08:25:03] [INFO] [Bullet] Using shooter_position, distance=797.916320800781
[08:25:03] [INFO] [Bullet] Distance to wall: 797.916320800781 (54.3315895220613% of viewport)
[08:25:03] [INFO] [Bullet] Distance-based penetration chance: 83.2798122242618%
[08:25:03] [INFO] [Bullet] Starting wall penetration at (508.9963, 968.5951)
[08:25:03] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16.8959712982178
[08:25:03] [INFO] [Bullet] Body exited signal received for penetrating body
[08:25:03] [INFO] [Bullet] Exiting penetration at (537.9224, 988.4843) after traveling 30.1041717529297 pixels through wall
[08:25:03] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[08:25:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(234.9935, 838.7627), source=PLAYER (Shotgun), range=1469, listeners=10
[08:25:03] [ENEMY] [Enemy1] Heard gunshot at (234.9935, 838.7627), source_type=0, intensity=0.01, distance=493
[08:25:03] [ENEMY] [Enemy2] Heard gunshot at (234.9935, 838.7627), source_type=0, intensity=0.02, distance=333
[08:25:03] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[08:25:03] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[08:25:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.882, 1473.867), shooter_id=718719159013, bullet_pos=(508.3569, 1014.376)
[08:25:03] [INFO] [Bullet] Using shooter_position, distance=731.772094726563
[08:25:03] [INFO] [Bullet] Distance to wall: 731.772094726563 (49.827707540161% of viewport)
[08:25:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.882, 1473.867), shooter_id=718719159013, bullet_pos=(504.4497, 1017.496)
[08:25:03] [INFO] [Bullet] Using shooter_position, distance=732.8701171875
[08:25:03] [INFO] [Bullet] Distance to wall: 732.8701171875 (49.9024739086115% of viewport)
[08:25:03] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[08:25:03] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[08:25:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.882, 1473.867), shooter_id=718719159013, bullet_pos=(187.3435, 712.4576)
[08:25:03] [INFO] [Bullet] Using shooter_position, distance=1171.66662597656
[08:25:03] [INFO] [Bullet] Distance to wall: 1171.66662597656 (79.7809350676899% of viewport)
[08:25:03] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[08:25:03] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[08:25:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.882, 1473.867), shooter_id=718719159013, bullet_pos=(56.67238, 823.3601)
[08:25:03] [INFO] [Bullet] Using shooter_position, distance=1210.79638671875
[08:25:03] [INFO] [Bullet] Distance to wall: 1210.79638671875 (82.4453524299108% of viewport)
[08:25:04] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[08:25:04] [INFO] [LastChance] Resetting all effects (scene change detected)
[08:25:04] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[08:25:04] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[08:25:04] [INFO] [Player] Ready! Grenades: 1/3
[08:25:04] [INFO] [ScoreManager] Level started with 10 enemies
[08:25:04] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[08:25:04] [ENEMY] [Enemy1] Registered as sound listener
[08:25:04] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[08:25:04] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[08:25:04] [ENEMY] [Enemy2] Registered as sound listener
[08:25:04] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[08:25:04] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[08:25:04] [ENEMY] [Enemy3] Registered as sound listener
[08:25:04] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[08:25:04] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[08:25:04] [ENEMY] [Enemy4] Registered as sound listener
[08:25:04] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[08:25:04] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[08:25:04] [ENEMY] [Enemy5] Registered as sound listener
[08:25:04] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[08:25:04] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[08:25:04] [ENEMY] [Enemy6] Registered as sound listener
[08:25:04] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[08:25:04] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[08:25:04] [ENEMY] [Enemy7] Registered as sound listener
[08:25:04] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[08:25:04] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[08:25:04] [ENEMY] [Enemy8] Registered as sound listener
[08:25:04] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[08:25:04] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[08:25:04] [ENEMY] [Enemy9] Registered as sound listener
[08:25:04] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[08:25:04] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[08:25:04] [ENEMY] [Enemy10] Registered as sound listener
[08:25:04] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[08:25:04] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[08:25:04] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[08:25:04] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[08:25:04] [INFO] [LastChance] Found player: Player
[08:25:04] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[08:25:04] [INFO] [LastChance] Connected to player Damaged signal (C#)
[08:25:04] [INFO] [LastChance] Connected to player Died signal (C#)
[08:25:04] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[08:25:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1200, 1550), source=ENEMY (Enemy10), range=1469, listeners=20
[08:25:04] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[08:25:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[08:25:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.99, 1534.529), source=ENEMY (Enemy10), range=1469, listeners=10
[08:25:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[08:25:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1200, 1550), shooter_id=753028564933, bullet_pos=(915.3665, 1400.156)
[08:25:04] [INFO] [Bullet] Using shooter_position, distance=321.666564941406
[08:25:04] [INFO] [Bullet] Distance to wall: 321.666564941406 (21.9028678995168% of viewport)
[08:25:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[08:25:04] [INFO] [Bullet] Starting wall penetration at (915.3665, 1400.156)
[08:25:04] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[08:25:04] [INFO] [Bullet] Exiting penetration at (874.0724, 1378.417) after traveling 41.6666717529297 pixels through wall
[08:25:04] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[08:25:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1140.006, 1515.278), source=ENEMY (Enemy10), range=1469, listeners=10
[08:25:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:25:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1108.732, 1494.891), source=ENEMY (Enemy10), range=1469, listeners=10
[08:25:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:25:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.882, 1473.867), source=ENEMY (Enemy10), range=1469, listeners=10
[08:25:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[08:25:05] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[08:25:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.99, 1534.529), shooter_id=753028564933, bullet_pos=(64.15709, 893.3544)
[08:25:05] [INFO] [Bullet] Using shooter_position, distance=1279.99975585938
[08:25:05] [INFO] [Bullet] Distance to wall: 1279.99975585938 (87.1575370884708% of viewport)
[08:25:05] [INFO] [LastChance] Threat detected: @Area2D@3814
[08:25:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[08:25:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:25:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=753028564933, bullet_pos=(58.48521, 830.6517)
[08:25:05] [INFO] [Bullet] Using shooter_position, distance=1280.00012207031
[08:25:05] [INFO] [Bullet] Distance to wall: 1280.00012207031 (87.157562024447% of viewport)
[08:25:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.99, 1534.529), shooter_id=753028564933, bullet_pos=(324.3688, 700.7307)
[08:25:05] [INFO] [Bullet] Using shooter_position, distance=1188.98364257813
[08:25:05] [INFO] [Bullet] Distance to wall: 1188.98364257813 (80.960082571276% of viewport)
[08:25:05] [INFO] [LastChance] Threat detected: @Area2D@3815
[08:25:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[08:25:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:25:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=753028564933, bullet_pos=(198.596, 714.3618)
[08:25:05] [INFO] [Bullet] Using shooter_position, distance=1236.00952148438
[08:25:05] [INFO] [Bullet] Distance to wall: 1236.00952148438 (84.1621611389689% of viewport)
[08:25:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.732, 1494.891), shooter_id=753028564933, bullet_pos=(46.7076, 780.396)
[08:25:05] [INFO] [Bullet] Using shooter_position, distance=1279.99975585938
[08:25:05] [INFO] [Bullet] Distance to wall: 1279.99975585938 (87.1575370884708% of viewport)
[08:25:05] [INFO] [Bullet] Distance-based penetration chance: 44.982873396784%
[08:25:05] [INFO] [Bullet] Starting wall penetration at (46.7076, 780.396)
[08:25:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28.9404239654541
[08:25:05] [INFO] [Bullet] Body exited signal received for penetrating body
[08:25:05] [INFO] [Bullet] Exiting penetration at (7.987942, 754.3467) after traveling 41.6666717529297 pixels through wall
[08:25:05] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[08:25:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.99, 1534.529), shooter_id=753028564933, bullet_pos=(499.1054, 873.6501)
[08:25:05] [INFO] [Bullet] Using shooter_position, distance=943.151672363281
[08:25:05] [INFO] [Bullet] Distance to wall: 943.151672363281 (64.2209316742144% of viewport)
[08:25:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.882, 1473.867), shooter_id=753028564933, bullet_pos=(58.67332, 770.5301)
[08:25:05] [INFO] [Bullet] Using shooter_position, distance=1238.3330078125
[08:25:05] [INFO] [Bullet] Distance to wall: 1238.3330078125 (84.3203715955655% of viewport)
[08:25:05] [INFO] [Bullet] Distance-based penetration chance: 48.2928998051736%
[08:25:05] [INFO] [Bullet] Starting wall penetration at (58.67332, 770.5301)
[08:25:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14.2587184906006
[08:25:05] [INFO] [Bullet] Body exited signal received for penetrating body
[08:25:05] [INFO] [Bullet] Exiting penetration at (20.26436, 744.0248) after traveling 41.6666717529297 pixels through wall
[08:25:05] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[08:25:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=753028564933, bullet_pos=(516.6212, 950.9135)
[08:25:05] [INFO] [Bullet] Using shooter_position, distance=840.901794433594
[08:25:05] [INFO] [Bullet] Distance to wall: 840.901794433594 (57.2585494650357% of viewport)
[08:25:05] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[08:25:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(267.2125, 802.2125), source=PLAYER (Shotgun), range=1469, listeners=10
[08:25:05] [ENEMY] [Enemy1] Heard gunshot at (267.2125, 802.2125), source_type=0, intensity=0.01, distance=453
[08:25:05] [ENEMY] [Enemy2] Heard gunshot at (267.2125, 802.2125), source_type=0, intensity=0.03, distance=285
[08:25:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[08:25:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.9053, 760.4122), source=ENEMY (Enemy3), range=1469, listeners=10
[08:25:05] [ENEMY] [Enemy4] Heard gunshot at (636.9053, 760.4122), source_type=1, intensity=0.05, distance=215
[08:25:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[08:25:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.99, 1534.529), shooter_id=753028564933, bullet_pos=(67.24542, 1451.604)
[08:25:05] [INFO] [Bullet] Using shooter_position, distance=1107.8525390625
[08:25:05] [INFO] [Bullet] Distance to wall: 1107.8525390625 (75.4357165459527% of viewport)
[08:25:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=753028564933, bullet_pos=(55.18063, 1235.916)
[08:25:05] [INFO] [Bullet] Using shooter_position, distance=1120.21850585938
[08:25:05] [INFO] [Bullet] Distance to wall: 1120.21850585938 (76.2777379641598% of viewport)
[08:25:06] [INFO] [LastChance] Threat detected: @Area2D@3833
[08:25:06] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[08:25:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:25:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(599.6767, 763.1683), source=ENEMY (Enemy3), range=1469, listeners=10
[08:25:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[08:25:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1171.99, 1534.529), shooter_id=753028564933, bullet_pos=(141.3176, 1590.317)
[08:25:06] [INFO] [Bullet] Using shooter_position, distance=1032.18103027344
[08:25:06] [INFO] [Bullet] Distance to wall: 1032.18103027344 (70.2831043648705% of viewport)
[08:25:06] [INFO] [Bullet] Distance-based penetration chance: 64.6697115743178%
[08:25:06] [INFO] [Bullet] Penetration failed (distance roll)
[08:25:06] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[08:25:06] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[08:25:06] [INFO] [LastChance] Threat detected: @Area2D@3836
[08:25:06] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[08:25:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:25:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(562.3974, 765.1757), source=ENEMY (Enemy3), range=1469, listeners=10
[08:25:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[08:25:06] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[08:25:06] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[08:25:06] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[08:25:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1140.006, 1515.278), shooter_id=753028564933, bullet_pos=(295.3935, 1394.345)
[08:25:06] [INFO] [Bullet] Using shooter_position, distance=853.226318359375
[08:25:06] [INFO] [Bullet] Distance to wall: 853.226318359375 (58.0977489619433% of viewport)
[08:25:06] [INFO] [LastChance] Threat detected: @Area2D@3838
[08:25:06] [INFO] [LastChance] Triggering last chance effect!
[08:25:06] [INFO] [LastChance] Starting last chance effect:
[08:25:06] [INFO] [LastChance]   - Time will be frozen (except player)
[08:25:06] [INFO] [LastChance]   - Duration: 6.0 real seconds
[08:25:06] [INFO] [LastChance]   - Sepia intensity: 0.70
[08:25:06] [INFO] [LastChance]   - Brightness: 0.60
[08:25:06] [INFO] [LastChance] Pushed bullet @Area2D@3838 from distance 141.6 to 200.0
[08:25:06] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[08:25:06] [INFO] [LastChance] Set player Player and all 16 children to PROCESS_MODE_ALWAYS
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[08:25:06] [INFO] [LastChance] Skipping player node: Player
[08:25:06] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[08:25:06] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[08:25:07] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[08:25:07] [INFO] [LastChance] Resetting all effects (scene change detected)
[08:25:07] [INFO] [LastChance] Ending last chance effect
[08:25:07] [INFO] [LastChance] All process modes restored
[08:25:07] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[08:25:07] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[08:25:07] [INFO] [Player] Ready! Grenades: 1/3
[08:25:07] [INFO] [ScoreManager] Level started with 10 enemies
[08:25:07] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[08:25:07] [ENEMY] [Enemy1] Registered as sound listener
[08:25:07] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[08:25:07] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[08:25:07] [ENEMY] [Enemy2] Registered as sound listener
[08:25:07] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[08:25:07] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[08:25:07] [ENEMY] [Enemy3] Registered as sound listener
[08:25:07] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[08:25:07] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[08:25:07] [ENEMY] [Enemy4] Registered as sound listener
[08:25:07] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[08:25:07] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[08:25:07] [ENEMY] [Enemy5] Registered as sound listener
[08:25:07] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[08:25:07] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[08:25:07] [ENEMY] [Enemy6] Registered as sound listener
[08:25:07] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[08:25:07] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[08:25:07] [ENEMY] [Enemy7] Registered as sound listener
[08:25:07] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[08:25:07] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[08:25:07] [ENEMY] [Enemy8] Registered as sound listener
[08:25:07] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[08:25:07] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[08:25:07] [ENEMY] [Enemy9] Registered as sound listener
[08:25:07] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[08:25:07] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[08:25:07] [ENEMY] [Enemy10] Registered as sound listener
[08:25:07] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[08:25:07] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[08:25:07] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[08:25:07] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[08:25:07] [INFO] [LastChance] Found player: Player
[08:25:07] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[08:25:07] [INFO] [LastChance] Connected to player Damaged signal (C#)
[08:25:07] [INFO] [LastChance] Connected to player Died signal (C#)
[08:25:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1250), source=PLAYER (Shotgun), range=1469, listeners=20
[08:25:11] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[08:25:11] [ENEMY] [Enemy4] Heard gunshot at (450, 1250), source_type=0, intensity=0.01, distance=495
[08:25:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[08:25:11] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:11] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:11] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:12] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[08:25:14] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[08:25:14] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[08:25:15] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[08:25:15] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:15] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[08:25:16] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[08:25:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(300.7626, 872.0132), source=PLAYER (Shotgun), range=1469, listeners=10
[08:25:16] [ENEMY] [Enemy2] Heard gunshot at (300.7626, 872.0132), source_type=0, intensity=0.02, distance=337
[08:25:16] [ENEMY] [Enemy3] Heard gunshot at (300.7626, 872.0132), source_type=0, intensity=0.01, distance=417
[08:25:16] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[08:25:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(638.0983, 766.1878), source=ENEMY (Enemy3), range=1469, listeners=10
[08:25:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[08:25:16] [INFO] [LastChance] Threat detected: Bullet
[08:25:16] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[08:25:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[08:25:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(601.6702, 774.3589), source=ENEMY (Enemy3), range=1469, listeners=10
[08:25:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[08:25:16] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[08:25:16] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[08:25:16] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[08:25:16] [ENEMY] [Enemy3] Hit taken, health: 3/4
[08:25:16] [ENEMY] [Enemy3] Hit taken, health: 2/4
[08:25:16] [ENEMY] [Enemy3] Hit taken, health: 1/4
[08:25:16] [INFO] [LastChance] Threat detected: @Area2D@4110
[08:25:16] [INFO] [LastChance] Triggering last chance effect!
[08:25:16] [INFO] [LastChance] Starting last chance effect:
[08:25:16] [INFO] [LastChance]   - Time will be frozen (except player)
[08:25:16] [INFO] [LastChance]   - Duration: 6.0 real seconds
[08:25:16] [INFO] [LastChance]   - Sepia intensity: 0.70
[08:25:16] [INFO] [LastChance]   - Brightness: 0.60
[08:25:16] [INFO] [LastChance] Pushed bullet @Area2D@4110 from distance 137.8 to 200.0
[08:25:16] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[08:25:16] [INFO] [LastChance] Set player Player and all 16 children to PROCESS_MODE_ALWAYS
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[08:25:16] [INFO] [LastChance] Skipping player node: Player
[08:25:16] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[08:25:16] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[08:25:18] [INFO] ------------------------------------------------------------
[08:25:18] [INFO] GAME LOG ENDED: 2026-01-22T08:25:18
[08:25:18] [INFO] ============================================================
