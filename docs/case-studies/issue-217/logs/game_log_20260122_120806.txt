[12:08:06] [INFO] ============================================================
[12:08:06] [INFO] GAME LOG STARTED
[12:08:06] [INFO] ============================================================
[12:08:06] [INFO] Timestamp: 2026-01-22T12:08:06
[12:08:06] [INFO] Log file: I:/Загрузки/godot exe/game_log_20260122_120806.txt
[12:08:06] [INFO] Executable: I:/Загрузки/godot exe/Godot-Top-Down-Template.exe
[12:08:06] [INFO] OS: Windows
[12:08:06] [INFO] Debug build: false
[12:08:06] [INFO] Engine version: 4.3-stable (official)
[12:08:06] [INFO] Project: Godot Top-Down Template
[12:08:06] [INFO] ------------------------------------------------------------
[12:08:06] [INFO] [GameManager] GameManager ready
[12:08:06] [INFO] [ScoreManager] ScoreManager ready
[12:08:06] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[12:08:06] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:08:06] [INFO] [PenultimateHit] Saturation shader loaded successfully
[12:08:06] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[12:08:06] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[12:08:06] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[12:08:06] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[12:08:06] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[12:08:06] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:08:06] [INFO] [LastChance] Last chance shader loaded successfully
[12:08:06] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[12:08:06] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[12:08:06] [INFO] [LastChance]   Sepia intensity: 0.70
[12:08:06] [INFO] [LastChance]   Brightness: 0.60
[12:08:06] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[12:08:06] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[12:08:06] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:08:06] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:08:06] [INFO] [Player] Ready! Grenades: 1/3
[12:08:06] [INFO] [ScoreManager] Level started with 10 enemies
[12:08:06] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[12:08:06] [ENEMY] [Enemy1] Registered as sound listener
[12:08:06] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[12:08:06] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[12:08:06] [ENEMY] [Enemy2] Registered as sound listener
[12:08:06] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[12:08:06] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[12:08:06] [ENEMY] [Enemy3] Registered as sound listener
[12:08:06] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[12:08:06] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[12:08:06] [ENEMY] [Enemy4] Registered as sound listener
[12:08:06] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[12:08:06] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[12:08:06] [ENEMY] [Enemy5] Registered as sound listener
[12:08:06] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[12:08:06] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[12:08:06] [ENEMY] [Enemy6] Registered as sound listener
[12:08:06] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[12:08:06] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[12:08:06] [ENEMY] [Enemy7] Registered as sound listener
[12:08:06] [ENEMY] [Enemy7] Enemy spawned at (1606.114, 893.8859), health: 3, behavior: PATROL, player_found: yes
[12:08:06] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[12:08:06] [ENEMY] [Enemy8] Registered as sound listener
[12:08:06] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[12:08:06] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[12:08:06] [ENEMY] [Enemy9] Registered as sound listener
[12:08:06] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[12:08:06] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[12:08:06] [ENEMY] [Enemy10] Registered as sound listener
[12:08:06] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[12:08:06] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:08:06] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:08:06] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:08:06] [INFO] [LastChance] Found player: Player
[12:08:06] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:08:06] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:08:06] [INFO] [LastChance] Connected to player Died signal (C#)
[12:08:07] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[12:08:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1200, 1550), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[12:08:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.99, 1534.529), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[12:08:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1140.006, 1515.278), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1108.816, 1494.764), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.466, 1473.029), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1153.019, 1516.452), shooter_id=42899342977, bullet_pos=(46.92997, 934.1586)
[12:08:07] [INFO] [Bullet] Using shooter_position, distance=1249.99951171875
[12:08:07] [INFO] [Bullet] Distance to wall: 1249.99951171875 (85.1147652993511% of viewport)
[12:08:07] [INFO] [Bullet] Distance-based penetration chance: 47.3661071507571%
[12:08:07] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:07] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:08:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=42899342977, bullet_pos=(33.87472, 883.6538)
[12:08:08] [INFO] [Bullet] Using shooter_position, distance=1249.99963378906
[12:08:08] [INFO] [Bullet] Distance to wall: 1249.99963378906 (85.1147736113431% of viewport)
[12:08:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.653, 1488.04), shooter_id=42899342977, bullet_pos=(63.90164, 841.4061)
[12:08:08] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:08:08] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:08:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=42899342977, bullet_pos=(423.9635, 702.7374)
[12:08:08] [INFO] [Bullet] Using shooter_position, distance=1062.97265625
[12:08:08] [INFO] [Bullet] Distance to wall: 1062.97265625 (72.3797627984221% of viewport)
[12:08:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1054.474, 1465.056), shooter_id=42899342977, bullet_pos=(60.28213, 778.2879)
[12:08:08] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:08:08] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:08:08] [INFO] [Bullet] Distance-based penetration chance: 50.6761238618226%
[12:08:08] [INFO] [Bullet] Starting wall penetration at (60.28213, 778.2879)
[12:08:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12.2927665710449
[12:08:08] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:08] [INFO] [Bullet] Exiting penetration at (21.88574, 751.7644) after traveling 41.6666679382324 pixels through wall
[12:08:08] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.653, 1488.04), shooter_id=42899342977, bullet_pos=(315.5491, 700.6593)
[12:08:08] [INFO] [Bullet] Using shooter_position, distance=1100.67663574219
[12:08:08] [INFO] [Bullet] Distance to wall: 1100.67663574219 (74.9470960935499% of viewport)
[12:08:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=42899342977, bullet_pos=(58.95797, 715.3979)
[12:08:08] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[12:08:08] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[12:08:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.653, 1488.04), shooter_id=42899342977, bullet_pos=(512.9849, 847.1281)
[12:08:08] [INFO] [Bullet] Using shooter_position, distance=858.8203125
[12:08:08] [INFO] [Bullet] Distance to wall: 858.8203125 (58.4786543094266% of viewport)
[12:08:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=42899342977, bullet_pos=(686.2411, 860.4458)
[12:08:08] [INFO] [Bullet] Using shooter_position, distance=778.546264648438
[12:08:08] [INFO] [Bullet] Distance to wall: 778.546264648438 (53.0126467802557% of viewport)
[12:08:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=42899342977, bullet_pos=(524.8075, 948.9856)
[12:08:08] [INFO] [Bullet] Using shooter_position, distance=814.689331054688
[12:08:08] [INFO] [Bullet] Distance to wall: 814.689331054688 (55.473694633096% of viewport)
[12:08:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=42899342977, bullet_pos=(600.0973, 1001.86)
[12:08:08] [INFO] [Bullet] Using shooter_position, distance=723.805908203125
[12:08:08] [INFO] [Bullet] Distance to wall: 723.805908203125 (49.2852752512548% of viewport)
[12:08:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=42899342977, bullet_pos=(496.6875, 347.7083)
[12:08:08] [INFO] [Bullet] Using shooter_position, distance=1214.26892089844
[12:08:08] [INFO] [Bullet] Distance to wall: 1214.26892089844 (82.681803667633% of viewport)
[12:08:08] [ENEMY] [Enemy4] Hit taken, health: 3/4
[12:08:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=42899342977, bullet_pos=(219.6853, 64.21855)
[12:08:08] [INFO] [Bullet] Using shooter_position, distance=1595.05126953125
[12:08:08] [INFO] [Bullet] Distance to wall: 1595.05126953125 (108.609973983039% of viewport)
[12:08:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=42899342977, bullet_pos=(56.44829, 233.6834)
[12:08:09] [INFO] [Bullet] Using shooter_position, distance=1547.88513183594
[12:08:09] [INFO] [Bullet] Distance to wall: 1547.88513183594 (105.398344936485% of viewport)
[12:08:09] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:08:09] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:08:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(373.3639, 804.916), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:09] [ENEMY] [Enemy1] Heard gunshot at (373.3639, 804.916), source_type=0, intensity=0.01, distance=461
[12:08:09] [ENEMY] [Enemy2] Heard gunshot at (373.3639, 804.916), source_type=0, intensity=0.04, distance=256
[12:08:09] [ENEMY] [Enemy4] Heard gunshot at (373.3639, 804.916), source_type=0, intensity=0.01, distance=437
[12:08:09] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:08:09] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[12:08:09] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[12:08:09] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[12:08:09] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[12:08:09] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[12:08:09] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[12:08:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=42899342977, bullet_pos=(229.37, 435.8116)
[12:08:09] [INFO] [Bullet] Using shooter_position, distance=1282.04028320313
[12:08:09] [INFO] [Bullet] Distance to wall: 1282.04028320313 (87.2964803475057% of viewport)
[12:08:09] [INFO] [Bullet] Distance-based penetration chance: 44.82077292791%
[12:08:09] [INFO] [Bullet] Starting wall penetration at (229.37, 435.8116)
[12:08:09] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:08:09] [INFO] [Bullet] Exiting penetration at (246.7597, 456.1383) after traveling 21.7502613067627 pixels through wall
[12:08:09] [INFO] [Bullet] Damage multiplier after penetration: 0.05625
[12:08:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.0547, 789.3979), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:09] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:08:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(931.0769, 704.5812)
[12:08:09] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:09] [INFO] [Bullet] Using shooter_position, distance=1167,621
[12:08:09] [INFO] [Bullet] Distance to wall: 1167,621 (79,50546% of viewport)
[12:08:09] [INFO] [Bullet] Distance-based penetration chance: 53,910297%
[12:08:09] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(335.1524, 788.6095), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:09] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:08:09] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[12:08:09] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[12:08:09] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:08:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(914.51355, 729.1898)
[12:08:09] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:09] [INFO] [Bullet] Using shooter_position, distance=1169,638
[12:08:09] [INFO] [Bullet] Distance to wall: 1169,638 (79,6428% of viewport)
[12:08:09] [INFO] [Bullet] Distance-based penetration chance: 53,75007%
[12:08:09] [INFO] [Bullet] Starting wall penetration at (914.51355, 729.1898)
[12:08:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,057854
[12:08:09] [ENEMY] [Enemy3] Hit taken, health: 1/2
[12:08:09] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:09] [INFO] [Bullet] Exiting penetration at (960.916, 724.2315) after traveling 41,666668 pixels through wall
[12:08:09] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:08:09] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[12:08:09] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[12:08:10] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[12:08:11] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[12:08:11] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.6815, 950.3282), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:11] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[12:08:11] [INFO] [LastChance] Threat detected: Bullet
[12:08:11] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:11] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(652.3362, 957.0433), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:11] [INFO] [LastChance] Threat detected: @Area2D@309
[12:08:11] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:11] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[12:08:11] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(663.0029, 957.0555), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(611.6237, 910.9701), shooter_id=40902854154, bullet_pos=(469.1705, 705.5265)
[12:08:11] [INFO] [Bullet] Using shooter_position, distance=249.999969482422
[12:08:11] [INFO] [Bullet] Distance to wall: 249.999969482422 (17.0229576314658% of viewport)
[12:08:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:11] [INFO] [LastChance] Threat detected: @Area2D@310
[12:08:11] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:11] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(673.6695, 957.0677), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:11] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[12:08:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[12:08:11] [INFO] [LastChance] Threat detected: @Area2D@312
[12:08:11] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:11] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.3361, 957.08), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(615.7087, 912.4101), shooter_id=40902854154, bullet_pos=(484.6766, 699.5002)
[12:08:11] [INFO] [Bullet] Using shooter_position, distance=250.000045776367
[12:08:11] [INFO] [Bullet] Distance to wall: 250.000045776367 (17.0229628264609% of viewport)
[12:08:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:11] [INFO] [LastChance] Threat detected: @Area2D@313
[12:08:11] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:11] [INFO] [LastChance] Threat detected: @Area2D@314
[12:08:11] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:11] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(695.0027, 957.0922), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[12:08:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(427.7194, 600.6391), shooter_id=40617641465, bullet_pos=(502.0039, 701.1717)
[12:08:11] [INFO] [Bullet] Using shooter_position, distance=124.999961853027
[12:08:11] [INFO] [Bullet] Distance to wall: 124.999961853027 (8.51147725723441% of viewport)
[12:08:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:11] [INFO] [Bullet] Starting wall penetration at (502.0039, 701.1717)
[12:08:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(626.2177, 912.5521), shooter_id=40902854154, bullet_pos=(494.4338, 700.1069)
[12:08:11] [INFO] [Bullet] Using shooter_position, distance=249.999923706055
[12:08:11] [INFO] [Bullet] Distance to wall: 249.999923706055 (17.0229545144688% of viewport)
[12:08:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:11] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[12:08:11] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[12:08:11] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:08:11] [INFO] [Bullet] Exiting penetration at (529.7368, 738.7039) after traveling 41.6666679382324 pixels through wall
[12:08:11] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:11] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:08:11] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(705.6694, 957.1044), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[12:08:11] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[12:08:11] [ENEMY] [Enemy10] FLANKING started: target=(757.2542, 740.9636), side=left, pos=(953.4263, 1416.483)
[12:08:11] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[12:08:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(636.5634, 912.8316), shooter_id=40902854154, bullet_pos=(503.2461, 701.3452)
[12:08:11] [INFO] [Bullet] Using shooter_position, distance=250.000030517578
[12:08:11] [INFO] [Bullet] Distance to wall: 250.000030517578 (17.0229617874619% of viewport)
[12:08:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:11] [INFO] [LastChance] Threat detected: @Area2D@316
[12:08:11] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:11] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(716.336, 957.1166), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[12:08:11] [INFO] [LastChance] Threat detected: @Area2D@319
[12:08:11] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:11] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(727.0026, 957.1288), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:11] [INFO] [LastChance] Threat detected: @Area2D@321
[12:08:11] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[12:08:11] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[12:08:11] [ENEMY] [Enemy2] Hit taken, health: 2/3
[12:08:11] [INFO] [LastChance] Threat detected: @Area2D@322
[12:08:11] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[12:08:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[12:08:11] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[12:08:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:08:11] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[12:08:11] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:08:11] [ENEMY] [Enemy2] Hit taken, health: 1/3
[12:08:11] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[12:08:11] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[12:08:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[12:08:11] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[12:08:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(636.5634, 912.8316), shooter_id=40902854154, bullet_pos=(801.9315, 53.55541)
[12:08:11] [INFO] [Bullet] Using shooter_position, distance=875.044128417969
[12:08:11] [INFO] [Bullet] Distance to wall: 875.044128417969 (59.583363768248% of viewport)
[12:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(405.2839, 543.9934), source=ENEMY (Enemy2), range=1469, listeners=10
[12:08:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[12:08:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(626.2177, 912.5521), shooter_id=40902854154, bullet_pos=(1063.499, 61.99298)
[12:08:11] [INFO] [Bullet] Using shooter_position, distance=956.381652832031
[12:08:11] [INFO] [Bullet] Distance to wall: 956.381652832031 (65.1217853721205% of viewport)
[12:08:11] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(407.0452, 541.9912), source=ENEMY (Enemy2), range=1469, listeners=10
[12:08:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[12:08:11] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[12:08:11] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.5678, 537.9868), source=ENEMY (Enemy2), range=1469, listeners=10
[12:08:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[12:08:11] [INFO] [LastChance] Threat detected: @Area2D@325
[12:08:11] [INFO] [LastChance] Triggering last chance effect!
[12:08:11] [INFO] [LastChance] Starting last chance effect:
[12:08:11] [INFO] [LastChance]   - Time will be frozen (except player)
[12:08:11] [INFO] [LastChance]   - Duration: 6.0 real seconds
[12:08:11] [INFO] [LastChance]   - Sepia intensity: 0.70
[12:08:11] [INFO] [LastChance]   - Brightness: 0.60
[12:08:11] [INFO] [LastChance] Pushed bullet Bullet from distance 87.0 to 200.0
[12:08:11] [INFO] [LastChance] Pushed bullet @Area2D@325 from distance 121.8 to 200.0
[12:08:11] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[12:08:11] [INFO] [LastChance] Set player Player and all 17 children to PROCESS_MODE_ALWAYS
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[12:08:11] [INFO] [LastChance] Skipping player node: Player
[12:08:11] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[12:08:11] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[12:08:12] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:08:12] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:08:12] [INFO] [LastChance] Ending last chance effect
[12:08:12] [INFO] [LastChance] All process modes restored
[12:08:12] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:08:12] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:08:12] [INFO] [Player] Ready! Grenades: 1/3
[12:08:12] [INFO] [ScoreManager] Level started with 10 enemies
[12:08:12] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:08:12] [ENEMY] [Enemy1] Registered as sound listener
[12:08:12] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[12:08:12] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:08:12] [ENEMY] [Enemy2] Registered as sound listener
[12:08:12] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[12:08:12] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:08:12] [ENEMY] [Enemy3] Registered as sound listener
[12:08:12] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[12:08:12] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:08:12] [ENEMY] [Enemy4] Registered as sound listener
[12:08:12] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[12:08:12] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:08:12] [ENEMY] [Enemy5] Registered as sound listener
[12:08:12] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[12:08:12] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:08:12] [ENEMY] [Enemy6] Registered as sound listener
[12:08:12] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[12:08:12] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:08:12] [ENEMY] [Enemy7] Registered as sound listener
[12:08:12] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[12:08:12] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:08:12] [ENEMY] [Enemy8] Registered as sound listener
[12:08:12] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[12:08:12] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:08:12] [ENEMY] [Enemy9] Registered as sound listener
[12:08:12] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[12:08:12] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:08:12] [ENEMY] [Enemy10] Registered as sound listener
[12:08:12] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[12:08:12] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:08:12] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:08:12] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:08:12] [INFO] [LastChance] Found player: Player
[12:08:12] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:08:12] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:08:12] [INFO] [LastChance] Connected to player Died signal (C#)
[12:08:12] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[12:08:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.528, 1518.106), source=ENEMY (Enemy10), range=1469, listeners=20
[12:08:13] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[12:08:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1113.222, 1497.771), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.749, 1476.207), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:13] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:08:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=156783086417, bullet_pos=(64.61339, 850.4285)
[12:08:13] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:08:13] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:08:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=156783086417, bullet_pos=(60.65509, 787.2949)
[12:08:13] [INFO] [Bullet] Using shooter_position, distance=1208.33386230469
[12:08:13] [INFO] [Bullet] Distance to wall: 1208.33386230469 (82.2776746143741% of viewport)
[12:08:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=156783086417, bullet_pos=(272.1178, 705.8297)
[12:08:13] [INFO] [Bullet] Using shooter_position, distance=1133.22839355469
[12:08:13] [INFO] [Bullet] Distance to wall: 1133.22839355469 (77.1636051404076% of viewport)
[12:08:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=156783086417, bullet_pos=(179.6429, 701.5452)
[12:08:13] [INFO] [Bullet] Using shooter_position, distance=1166.56591796875
[12:08:13] [INFO] [Bullet] Distance to wall: 1166.56591796875 (79.433618480063% of viewport)
[12:08:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.362, 1444.423), shooter_id=156783086417, bullet_pos=(59.01187, 724.3607)
[12:08:13] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[12:08:13] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[12:08:13] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[12:08:13] [INFO] [Bullet] Starting wall penetration at (59.01187, 724.3607)
[12:08:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13.0300064086914
[12:08:13] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:13] [INFO] [Bullet] Exiting penetration at (21.53628, 696.5513) after traveling 41.6666679382324 pixels through wall
[12:08:13] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=156783086417, bullet_pos=(510.129, 845.4442)
[12:08:13] [INFO] [Bullet] Using shooter_position, distance=867.277404785156
[12:08:13] [INFO] [Bullet] Distance to wall: 867.277404785156 (59.0545132743443% of viewport)
[12:08:13] [INFO] [Bullet] Distance-based penetration chance: 77.7697345132649%
[12:08:13] [INFO] [Bullet] Starting wall penetration at (510.129, 845.4442)
[12:08:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19.0228652954102
[12:08:13] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:13] [INFO] [Bullet] Exiting penetration at (540.4083, 863.2056) after traveling 30.1041698455811 pixels through wall
[12:08:13] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[12:08:13] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:13] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[12:08:13] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[12:08:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:13] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:13] [INFO] [LastChance] Threat detected: Bullet
[12:08:13] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:13] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:14] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:14] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=156783086417, bullet_pos=(518.2228, 1007.835)
[12:08:14] [INFO] [Bullet] Using shooter_position, distance=710.125183105469
[12:08:14] [INFO] [Bullet] Distance to wall: 710.125183105469 (48.3537295227201% of viewport)
[12:08:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=156783086417, bullet_pos=(514.0849, 1010.641)
[12:08:14] [INFO] [Bullet] Using shooter_position, distance=711.470581054688
[12:08:14] [INFO] [Bullet] Distance to wall: 711.470581054688 (48.4453401430511% of viewport)
[12:08:14] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:14] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.5667, 752.2189), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:14] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:14] [INFO] [LastChance] Threat detected: @Area2D@588
[12:08:14] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:14] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:14] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:14] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:14] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.5667, 752.2189), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(642.5308, 755.4742), shooter_id=154786597594, bullet_pos=(34.05996, 898.2617)
[12:08:14] [INFO] [Bullet] Using shooter_position, distance=625
[12:08:14] [INFO] [Bullet] Distance to wall: 625 (42.5573992736596% of viewport)
[12:08:14] [INFO] [Bullet] Distance-based penetration chance: 97.0163675140638%
[12:08:14] [INFO] [Bullet] Starting wall penetration at (34.05996, 898.2617)
[12:08:14] [INFO] [LastChance] Threat detected: @Area2D@589
[12:08:14] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 44.5507545471191
[12:08:14] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:14] [INFO] [Bullet] Exiting penetration at (-11.37253, 908.9232) after traveling 41.6666717529297 pixels through wall
[12:08:14] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.5667, 752.2189), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(634.7554, 764.1686), shooter_id=154786597594, bullet_pos=(53.20642, 809.7601)
[12:08:14] [INFO] [Bullet] Using shooter_position, distance=583.333374023438
[12:08:14] [INFO] [Bullet] Distance to wall: 583.333374023438 (39.7202420927463% of viewport)
[12:08:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:14] [INFO] [LastChance] Threat detected: Bullet
[12:08:14] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.5667, 752.2189), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(633.7642, 757.9769), shooter_id=154786597594, bullet_pos=(50.76007, 738.3809)
[12:08:14] [INFO] [Bullet] Using shooter_position, distance=583.333374023438
[12:08:14] [INFO] [Bullet] Distance to wall: 583.333374023438 (39.7202420927463% of viewport)
[12:08:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:14] [INFO] [Bullet] Starting wall penetration at (50.76007, 738.3809)
[12:08:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27.8959999084473
[12:08:14] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:14] [INFO] [Bullet] Exiting penetration at (4.119743, 736.8132) after traveling 41.6666717529297 pixels through wall
[12:08:14] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:14] [INFO] [LastChance] Threat detected: @Area2D@592
[12:08:14] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:14] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[12:08:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=156783086417, bullet_pos=(51.28431, 715.7688)
[12:08:14] [INFO] [Bullet] Using shooter_position, distance=1257.54333496094
[12:08:14] [INFO] [Bullet] Distance to wall: 1257.54333496094 (85.6284380957794% of viewport)
[12:08:14] [INFO] [Bullet] Distance-based penetration chance: 46.7668222215907%
[12:08:14] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:14] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[12:08:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(633.5322, 754.9022), shooter_id=154786597594, bullet_pos=(176.9953, 714.3598)
[12:08:14] [INFO] [Bullet] Using shooter_position, distance=458.333526611328
[12:08:14] [INFO] [Bullet] Distance to wall: 458.333526611328 (31.2087726280045% of viewport)
[12:08:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:14] [INFO] [Bullet] Starting wall penetration at (176.9953, 714.3598)
[12:08:14] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[12:08:14] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[12:08:14] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:08:14] [INFO] [Bullet] Exiting penetration at (130.5115, 710.2319) after traveling 41.6666717529297 pixels through wall
[12:08:14] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:14] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[12:08:15] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:08:15] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:08:15] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:08:15] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:08:15] [INFO] [Player] Ready! Grenades: 1/3
[12:08:15] [INFO] [ScoreManager] Level started with 10 enemies
[12:08:15] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:08:15] [ENEMY] [Enemy1] Registered as sound listener
[12:08:15] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[12:08:15] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:08:15] [ENEMY] [Enemy2] Registered as sound listener
[12:08:15] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[12:08:15] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:08:15] [ENEMY] [Enemy3] Registered as sound listener
[12:08:15] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[12:08:15] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:08:15] [ENEMY] [Enemy4] Registered as sound listener
[12:08:15] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[12:08:15] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:08:15] [ENEMY] [Enemy5] Registered as sound listener
[12:08:15] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[12:08:15] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:08:15] [ENEMY] [Enemy6] Registered as sound listener
[12:08:15] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[12:08:15] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:08:15] [ENEMY] [Enemy7] Registered as sound listener
[12:08:15] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[12:08:15] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:08:15] [ENEMY] [Enemy8] Registered as sound listener
[12:08:15] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[12:08:15] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:08:15] [ENEMY] [Enemy9] Registered as sound listener
[12:08:15] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[12:08:15] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:08:15] [ENEMY] [Enemy10] Registered as sound listener
[12:08:15] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[12:08:15] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:08:15] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:08:15] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:08:15] [INFO] [LastChance] Found player: Player
[12:08:15] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:08:15] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:08:15] [INFO] [LastChance] Connected to player Died signal (C#)
[12:08:15] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[12:08:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1200, 1550), source=ENEMY (Enemy10), range=1469, listeners=20
[12:08:15] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[12:08:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[12:08:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.99, 1534.529), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[12:08:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1140.006, 1515.278), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1108.816, 1494.764), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.466, 1473.029), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1153.019, 1516.452), shooter_id=186646529638, bullet_pos=(46.92997, 934.1586)
[12:08:16] [INFO] [Bullet] Using shooter_position, distance=1249.99951171875
[12:08:16] [INFO] [Bullet] Distance to wall: 1249.99951171875 (85.1147652993511% of viewport)
[12:08:16] [INFO] [Bullet] Distance-based penetration chance: 47.3661071507571%
[12:08:16] [INFO] [Bullet] Starting wall penetration at (46.92997, 934.1586)
[12:08:16] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:08:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.7942066192627
[12:08:16] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:16] [INFO] [Bullet] Exiting penetration at (5.635967, 912.4196) after traveling 41.6666717529297 pixels through wall
[12:08:16] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=186646529638, bullet_pos=(33.87472, 883.6538)
[12:08:16] [INFO] [Bullet] Using shooter_position, distance=1249.99963378906
[12:08:16] [INFO] [Bullet] Distance to wall: 1249.99963378906 (85.1147736113431% of viewport)
[12:08:16] [INFO] [Bullet] Distance-based penetration chance: 47.366097453433%
[12:08:16] [INFO] [Bullet] Starting wall penetration at (33.87472, 883.6538)
[12:08:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 44.5005912780762
[12:08:16] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:16] [INFO] [Bullet] Exiting penetration at (-6.515034, 860.2776) after traveling 41.6666717529297 pixels through wall
[12:08:16] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.653, 1488.04), shooter_id=186646529638, bullet_pos=(63.90164, 841.4061)
[12:08:16] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:08:16] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:08:16] [INFO] [Bullet] Distance-based penetration chance: 50.6761238618226%
[12:08:16] [INFO] [Bullet] Starting wall penetration at (63.90164, 841.4061)
[12:08:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8.90251350402832
[12:08:16] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:16] [INFO] [Bullet] Exiting penetration at (24.47953, 816.4327) after traveling 41.6666679382324 pixels through wall
[12:08:16] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1054.474, 1465.056), shooter_id=186646529638, bullet_pos=(60.28213, 778.2879)
[12:08:16] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:08:16] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:08:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1054.474, 1465.056), shooter_id=186646529638, bullet_pos=(145.9576, 707.3212)
[12:08:16] [INFO] [Bullet] Using shooter_position, distance=1183.03186035156
[12:08:16] [INFO] [Bullet] Distance to wall: 1183.03186035156 (80.5548147751069% of viewport)
[12:08:16] [INFO] [Bullet] Distance-based penetration chance: 52.686049429042%
[12:08:16] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=186646529638, bullet_pos=(58.95797, 715.3979)
[12:08:16] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[12:08:16] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[12:08:16] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:08:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=186646529638, bullet_pos=(508.579, 423.1566)
[12:08:16] [INFO] [Bullet] Using shooter_position, distance=1141.38195800781
[12:08:16] [INFO] [Bullet] Distance to wall: 1141.38195800781 (77.7187963371038% of viewport)
[12:08:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.5923, 752.3362), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:16] [ENEMY] [Enemy2] Heard gunshot at (689.5923, 752.3362), source_type=1, intensity=0.02, distance=353
[12:08:16] [ENEMY] [Enemy4] Heard gunshot at (689.5923, 752.3362), source_type=1, intensity=0.07, distance=184
[12:08:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:16] [INFO] [LastChance] Threat detected: Bullet
[12:08:16] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:16] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[12:08:16] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[12:08:17] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:08:17] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[12:08:17] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:08:17] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[12:08:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=186646529638, bullet_pos=(283.071, 264.1355)
[12:08:17] [INFO] [Bullet] Using shooter_position, distance=1391.26037597656
[12:08:17] [INFO] [Bullet] Distance to wall: 1391.26037597656 (94.7334773024902% of viewport)
[12:08:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.5923, 752.3362), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:17] [INFO] [LastChance] Threat detected: Bullet
[12:08:17] [INFO] [LastChance] Triggering last chance effect!
[12:08:17] [INFO] [LastChance] Starting last chance effect:
[12:08:17] [INFO] [LastChance]   - Time will be frozen (except player)
[12:08:17] [INFO] [LastChance]   - Duration: 6.0 real seconds
[12:08:17] [INFO] [LastChance]   - Sepia intensity: 0.70
[12:08:17] [INFO] [LastChance]   - Brightness: 0.60
[12:08:17] [INFO] [LastChance] Pushed bullet Bullet from distance 101.5 to 200.0
[12:08:17] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[12:08:17] [INFO] [LastChance] Set player Player and all 17 children to PROCESS_MODE_ALWAYS
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[12:08:17] [INFO] [LastChance] Skipping player node: Player
[12:08:17] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[12:08:17] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[12:08:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:08:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:08:17] [INFO] [LastChance] Ending last chance effect
[12:08:17] [INFO] [LastChance] All process modes restored
[12:08:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:08:17] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:08:17] [INFO] [Player] Ready! Grenades: 1/3
[12:08:17] [INFO] [ScoreManager] Level started with 10 enemies
[12:08:17] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:08:17] [ENEMY] [Enemy1] Registered as sound listener
[12:08:17] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[12:08:17] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:08:17] [ENEMY] [Enemy2] Registered as sound listener
[12:08:17] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[12:08:17] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:08:17] [ENEMY] [Enemy3] Registered as sound listener
[12:08:17] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[12:08:17] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:08:17] [ENEMY] [Enemy4] Registered as sound listener
[12:08:17] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[12:08:17] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:08:17] [ENEMY] [Enemy5] Registered as sound listener
[12:08:17] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[12:08:17] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:08:17] [ENEMY] [Enemy6] Registered as sound listener
[12:08:17] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[12:08:17] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:08:17] [ENEMY] [Enemy7] Registered as sound listener
[12:08:17] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[12:08:17] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:08:17] [ENEMY] [Enemy8] Registered as sound listener
[12:08:17] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[12:08:17] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:08:17] [ENEMY] [Enemy9] Registered as sound listener
[12:08:17] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[12:08:17] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:08:17] [ENEMY] [Enemy10] Registered as sound listener
[12:08:17] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[12:08:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:08:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:08:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:08:17] [INFO] [LastChance] Found player: Player
[12:08:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:08:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:08:17] [INFO] [LastChance] Connected to player Died signal (C#)
[12:08:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[12:08:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1200, 1550), source=ENEMY (Enemy10), range=1469, listeners=20
[12:08:18] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[12:08:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[12:08:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.99, 1534.529), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[12:08:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1140.006, 1515.278), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1108.816, 1494.764), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.466, 1473.029), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1153.019, 1516.452), shooter_id=216241538747, bullet_pos=(46.92997, 934.1586)
[12:08:18] [INFO] [Bullet] Using shooter_position, distance=1249.99951171875
[12:08:18] [INFO] [Bullet] Distance to wall: 1249.99951171875 (85.1147652993511% of viewport)
[12:08:18] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:08:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=216241538747, bullet_pos=(33.87472, 883.6538)
[12:08:18] [INFO] [Bullet] Using shooter_position, distance=1249.99963378906
[12:08:18] [INFO] [Bullet] Distance to wall: 1249.99963378906 (85.1147736113431% of viewport)
[12:08:18] [INFO] [Bullet] Distance-based penetration chance: 47.366097453433%
[12:08:18] [INFO] [Bullet] Starting wall penetration at (33.87472, 883.6538)
[12:08:18] [INFO] [Bullet] Raycast backward hit penetrating body at distance 44.5005912780762
[12:08:18] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:18] [INFO] [Bullet] Exiting penetration at (-6.515034, 860.2776) after traveling 41.6666717529297 pixels through wall
[12:08:18] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.653, 1488.04), shooter_id=216241538747, bullet_pos=(63.90164, 841.4061)
[12:08:19] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:08:19] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:08:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1054.474, 1465.056), shooter_id=216241538747, bullet_pos=(60.28213, 778.2879)
[12:08:19] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:08:19] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:08:19] [INFO] [Bullet] Distance-based penetration chance: 50.6761238618226%
[12:08:19] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.653, 1488.04), shooter_id=216241538747, bullet_pos=(315.5861, 700.7253)
[12:08:19] [INFO] [Bullet] Using shooter_position, distance=1100.603515625
[12:08:19] [INFO] [Bullet] Distance to wall: 1100.603515625 (74.9421172103146% of viewport)
[12:08:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=216241538747, bullet_pos=(58.95797, 715.3979)
[12:08:19] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[12:08:19] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[12:08:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.653, 1488.04), shooter_id=216241538747, bullet_pos=(688.4064, 835.2679)
[12:08:19] [INFO] [Bullet] Using shooter_position, distance=763.624755859375
[12:08:19] [INFO] [Bullet] Distance to wall: 763.624755859375 (51.9966138085732% of viewport)
[12:08:19] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:08:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.653, 1488.04), shooter_id=216241538747, bullet_pos=(509.9501, 880.5835)
[12:08:19] [INFO] [Bullet] Using shooter_position, distance=836.233642578125
[12:08:19] [INFO] [Bullet] Distance to wall: 836.233642578125 (56.9406864212225% of viewport)
[12:08:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=216241538747, bullet_pos=(514.298, 432.1496)
[12:08:19] [INFO] [Bullet] Using shooter_position, distance=1130.77478027344
[12:08:19] [INFO] [Bullet] Distance to wall: 1130.77478027344 (76.9965341002903% of viewport)
[12:08:19] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:08:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=216241538747, bullet_pos=(328.4599, 271.2202)
[12:08:19] [INFO] [Bullet] Using shooter_position, distance=1361.4951171875
[12:08:19] [INFO] [Bullet] Distance to wall: 1361.4951171875 (92.7067060980583% of viewport)
[12:08:19] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[12:08:19] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[12:08:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[12:08:19] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[12:08:19] [INFO] [LastChance] Threat detected: Bullet
[12:08:19] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(427.9019, 600.5388), shooter_id=213959837196, bullet_pos=(502.5487, 700.8027)
[12:08:19] [INFO] [Bullet] Using shooter_position, distance=125.000030517578
[12:08:19] [INFO] [Bullet] Distance to wall: 125.000030517578 (8.51148193272994% of viewport)
[12:08:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:19] [INFO] [Bullet] Starting wall penetration at (502.5487, 700.8027)
[12:08:19] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:08:19] [INFO] [Bullet] Exiting penetration at (530.4169, 738.2346) after traveling 41.6666679382324 pixels through wall
[12:08:19] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(313.3008, 378.494), source=ENEMY (Enemy1), range=1469, listeners=10
[12:08:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=4
[12:08:19] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(722.8379, 779.1613), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:19] [ENEMY] [Enemy4] Heard gunshot at (722.8379, 779.1613), source_type=1, intensity=0.12, distance=143
[12:08:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:19] [INFO] [LastChance] Threat detected: @Area2D@1125
[12:08:19] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:19] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[12:08:19] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(726.0397, 781.0811), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:19] [INFO] [LastChance] Threat detected: @Area2D@1126
[12:08:19] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:19] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[12:08:19] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[12:08:19] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[12:08:19] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[12:08:19] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(739.409, 785.9335), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:19] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[12:08:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=216241538747, bullet_pos=(54.45505, 509.6828)
[12:08:19] [INFO] [Bullet] Using shooter_position, distance=1345.2158203125
[12:08:19] [INFO] [Bullet] Distance to wall: 1345.2158203125 (91.5982188388522% of viewport)
[12:08:19] [INFO] [LastChance] Threat detected: @Area2D@1127
[12:08:19] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[12:08:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:19] [INFO] [LastChance] Threat detected: Bullet
[12:08:19] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[12:08:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:19] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(742.8384, 785.9335), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:19] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[12:08:19] [INFO] [LastChance] Threat detected: @Area2D@1129
[12:08:19] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[12:08:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:19] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(746.2679, 785.9335), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:19] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[12:08:19] [INFO] [LastChance] Threat detected: @Area2D@1130
[12:08:19] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[12:08:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:19] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(749.6973, 785.9335), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:19] [INFO] [LastChance] Threat detected: @Area2D@1131
[12:08:19] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[12:08:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:19] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:08:19] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[12:08:19] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:08:19] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(753.1268, 785.9335), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:19] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[12:08:19] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[12:08:19] [INFO] [PenultimateHit] Player died - ending penultimate effect
[12:08:19] [INFO] [LastChance] Player died
[12:08:19] [INFO] [LastChance] Threat detected: @Area2D@1132
[12:08:19] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:19] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(756.5562, 785.9335), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:20] [INFO] [LastChance] Threat detected: @Area2D@1133
[12:08:20] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:20] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[12:08:20] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:08:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(694.7847, 769.3176), shooter_id=214245051301, bullet_pos=(502.5886, 688.9221)
[12:08:20] [INFO] [Bullet] Using shooter_position, distance=208.333282470703
[12:08:20] [INFO] [Bullet] Distance to wall: 208.333282470703 (14.1857962945565% of viewport)
[12:08:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:20] [INFO] [Bullet] Starting wall penetration at (502.5886, 688.9221)
[12:08:20] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:08:20] [INFO] [Bullet] Exiting penetration at (459.5367, 670.9135) after traveling 41.6666641235352 pixels through wall
[12:08:20] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.7852, 430.7675), shooter_id=213674625937, bullet_pos=(760.7198, 1009.135)
[12:08:20] [INFO] [Bullet] Using shooter_position, distance=708.33349609375
[12:08:20] [INFO] [Bullet] Distance to wall: 708.33349609375 (48.2317302594703% of viewport)
[12:08:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=216241538747, bullet_pos=(246.1438, 694.1089)
[12:08:20] [INFO] [Bullet] Using shooter_position, distance=1079.21337890625
[12:08:20] [INFO] [Bullet] Distance to wall: 1079.21337890625 (73.4856234681418% of viewport)
[12:08:20] [INFO] [Bullet] Distance-based penetration chance: 60.9334392871679%
[12:08:20] [INFO] [Bullet] Starting wall penetration at (246.1438, 694.1089)
[12:08:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 0.94547408819199
[12:08:20] [ENEMY] [Enemy2] Hit taken, health: 1/2
[12:08:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22.6956939697266
[12:08:20] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:20] [INFO] [Bullet] Exiting penetration at (281.0945, 727.7355) after traveling 43.5005226135254 pixels through wall
[12:08:20] [INFO] [Bullet] Damage multiplier after penetration: 0.05625
[12:08:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.7852, 430.7675), shooter_id=213674625937, bullet_pos=(917.0438, 810.3142)
[12:08:20] [INFO] [Bullet] Using shooter_position, distance=680.862060546875
[12:08:20] [INFO] [Bullet] Distance to wall: 680.862060546875 (46.361149697568% of viewport)
[12:08:20] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:08:20] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:08:20] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:08:20] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:08:20] [INFO] [Player] Ready! Grenades: 1/3
[12:08:20] [INFO] [ScoreManager] Level started with 10 enemies
[12:08:20] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:08:20] [ENEMY] [Enemy1] Registered as sound listener
[12:08:20] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[12:08:20] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:08:20] [ENEMY] [Enemy2] Registered as sound listener
[12:08:20] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[12:08:20] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:08:20] [ENEMY] [Enemy3] Registered as sound listener
[12:08:20] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[12:08:20] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:08:20] [ENEMY] [Enemy4] Registered as sound listener
[12:08:20] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[12:08:20] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:08:20] [ENEMY] [Enemy5] Registered as sound listener
[12:08:20] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[12:08:20] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:08:20] [ENEMY] [Enemy6] Registered as sound listener
[12:08:20] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[12:08:20] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:08:20] [ENEMY] [Enemy7] Registered as sound listener
[12:08:20] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[12:08:20] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:08:20] [ENEMY] [Enemy8] Registered as sound listener
[12:08:20] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[12:08:20] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:08:20] [ENEMY] [Enemy9] Registered as sound listener
[12:08:20] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[12:08:20] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:08:20] [ENEMY] [Enemy10] Registered as sound listener
[12:08:20] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[12:08:20] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:08:20] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:08:20] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:08:20] [INFO] [LastChance] Found player: Player
[12:08:20] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:08:20] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:08:20] [INFO] [LastChance] Connected to player Died signal (C#)
[12:08:20] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:08:20] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:08:20] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:08:20] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:08:20] [INFO] [Player] Ready! Grenades: 1/3
[12:08:20] [INFO] [ScoreManager] Level started with 10 enemies
[12:08:20] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[12:08:20] [ENEMY] [Enemy1] Registered as sound listener
[12:08:20] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[12:08:20] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[12:08:20] [ENEMY] [Enemy2] Registered as sound listener
[12:08:20] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[12:08:20] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[12:08:20] [ENEMY] [Enemy3] Registered as sound listener
[12:08:20] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[12:08:20] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[12:08:20] [ENEMY] [Enemy4] Registered as sound listener
[12:08:20] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[12:08:20] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[12:08:20] [ENEMY] [Enemy5] Registered as sound listener
[12:08:20] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[12:08:20] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[12:08:20] [ENEMY] [Enemy6] Registered as sound listener
[12:08:20] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[12:08:20] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[12:08:20] [ENEMY] [Enemy7] Registered as sound listener
[12:08:20] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[12:08:20] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[12:08:20] [ENEMY] [Enemy8] Registered as sound listener
[12:08:20] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[12:08:20] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[12:08:20] [ENEMY] [Enemy9] Registered as sound listener
[12:08:20] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[12:08:20] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[12:08:20] [ENEMY] [Enemy10] Registered as sound listener
[12:08:20] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[12:08:20] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:08:20] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:08:20] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:08:20] [INFO] [LastChance] Found player: Player
[12:08:20] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:08:20] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:08:20] [INFO] [LastChance] Connected to player Died signal (C#)
[12:08:21] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[12:08:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1200, 1550), source=ENEMY (Enemy10), range=1469, listeners=30
[12:08:21] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[12:08:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[12:08:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.99, 1534.529), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[12:08:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1140.006, 1515.278), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1108.816, 1494.764), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.466, 1473.029), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1153.019, 1516.452), shooter_id=273753835671, bullet_pos=(46.92997, 934.1586)
[12:08:21] [INFO] [Bullet] Using shooter_position, distance=1249.99951171875
[12:08:21] [INFO] [Bullet] Distance to wall: 1249.99951171875 (85.1147652993511% of viewport)
[12:08:21] [INFO] [Bullet] Distance-based penetration chance: 47.3661071507571%
[12:08:21] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:21] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:08:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=273753835671, bullet_pos=(33.87472, 883.6538)
[12:08:21] [INFO] [Bullet] Using shooter_position, distance=1249.99963378906
[12:08:21] [INFO] [Bullet] Distance to wall: 1249.99963378906 (85.1147736113431% of viewport)
[12:08:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.653, 1488.04), shooter_id=273753835671, bullet_pos=(63.90164, 841.4061)
[12:08:21] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:08:21] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:08:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=273753835671, bullet_pos=(264.0308, 709.975)
[12:08:21] [INFO] [Bullet] Using shooter_position, distance=1168.39013671875
[12:08:21] [INFO] [Bullet] Distance to wall: 1168.39013671875 (79.557832889193% of viewport)
[12:08:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.653, 1488.04), shooter_id=273753835671, bullet_pos=(231.1982, 702.4166)
[12:08:21] [INFO] [Bullet] Using shooter_position, distance=1159.99523925781
[12:08:21] [INFO] [Bullet] Distance to wall: 1159.99523925781 (78.9862088842225% of viewport)
[12:08:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1054.474, 1465.056), shooter_id=273753835671, bullet_pos=(60.28213, 778.2879)
[12:08:21] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:08:21] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:08:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1054.474, 1465.056), shooter_id=273753835671, bullet_pos=(147.0996, 708.7228)
[12:08:21] [INFO] [Bullet] Using shooter_position, distance=1181.25720214844
[12:08:21] [INFO] [Bullet] Distance to wall: 1181.25720214844 (80.4339750347474% of viewport)
[12:08:21] [INFO] [Bullet] Distance-based penetration chance: 52.827029126128%
[12:08:21] [INFO] [Bullet] Starting wall penetration at (147.0996, 708.7228)
[12:08:21] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[12:08:21] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[12:08:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7.27625131607056
[12:08:21] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:21] [INFO] [Bullet] Exiting penetration at (178.6401, 683.4501) after traveling 35.4166679382324 pixels through wall
[12:08:21] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[12:08:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=273753835671, bullet_pos=(58.95797, 715.3979)
[12:08:22] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[12:08:22] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[12:08:22] [INFO] [Bullet] Distance-based penetration chance: 50.6760656778783%
[12:08:22] [INFO] [Bullet] Starting wall penetration at (58.95797, 715.3979)
[12:08:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12.9559803009033
[12:08:22] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:22] [INFO] [Bullet] Exiting penetration at (21.63927, 687.3784) after traveling 41.6666679382324 pixels through wall
[12:08:22] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.653, 1488.04), shooter_id=273753835671, bullet_pos=(508.4933, 985.6202)
[12:08:22] [INFO] [Bullet] Using shooter_position, distance=764.451110839844
[12:08:22] [INFO] [Bullet] Distance to wall: 764.451110839844 (52.0528818387262% of viewport)
[12:08:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.653, 1488.04), shooter_id=273753835671, bullet_pos=(504.6093, 988.7689)
[12:08:22] [INFO] [Bullet] Using shooter_position, distance=765.324829101563
[12:08:22] [INFO] [Bullet] Distance to wall: 765.324829101563 (52.1123749217928% of viewport)
[12:08:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.653, 1488.04), shooter_id=273753835671, bullet_pos=(527.4557, 1002.684)
[12:08:22] [INFO] [Bullet] Using shooter_position, distance=738.944763183594
[12:08:22] [INFO] [Bullet] Distance to wall: 738.944763183594 (50.3161077247745% of viewport)
[12:08:22] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:08:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:22] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[12:08:22] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[12:08:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:22] [INFO] [LastChance] Threat detected: Bullet
[12:08:22] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[12:08:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:22] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[12:08:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:22] [INFO] [LastChance] Threat detected: Bullet
[12:08:22] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[12:08:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.653, 1488.04), shooter_id=273753835671, bullet_pos=(63.99854, 1201.16)
[12:08:22] [INFO] [Bullet] Using shooter_position, distance=1060.205078125
[12:08:22] [INFO] [Bullet] Distance to wall: 1060.205078125 (72.1913133147634% of viewport)
[12:08:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(313.1258, 378.5782), source=ENEMY (Enemy1), range=1469, listeners=10
[12:08:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=4
[12:08:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[12:08:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[12:08:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:22] [INFO] [LastChance] Threat detected: @Area2D@1657
[12:08:22] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[12:08:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:22] [INFO] [LastChance] Threat detected: @Area2D@1658
[12:08:22] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[12:08:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:22] [ENEMY] [Enemy2] Hit taken, health: 2/3
[12:08:22] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:22] [INFO] [LastChance] Threat detected: @Area2D@1659
[12:08:22] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[12:08:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:08:22] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[12:08:22] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:08:22] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:22] [INFO] [LastChance] Threat detected: Bullet
[12:08:22] [INFO] [LastChance] Triggering last chance effect!
[12:08:22] [INFO] [LastChance] Starting last chance effect:
[12:08:22] [INFO] [LastChance]   - Time will be frozen (except player)
[12:08:22] [INFO] [LastChance]   - Duration: 6.0 real seconds
[12:08:22] [INFO] [LastChance]   - Sepia intensity: 0.70
[12:08:22] [INFO] [LastChance]   - Brightness: 0.60
[12:08:22] [INFO] [LastChance] Pushed bullet @Area2D@1657 from distance 20.0 to 200.0
[12:08:22] [INFO] [LastChance] Pushed bullet @Area2D@1659 from distance 55.1 to 200.0
[12:08:22] [INFO] [LastChance] Pushed bullet Bullet from distance 96.5 to 200.0
[12:08:22] [INFO] [LastChance] Pushed 3 threatening bullets away from player
[12:08:22] [INFO] [LastChance] Set player Player and all 17 children to PROCESS_MODE_ALWAYS
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[12:08:22] [INFO] [LastChance] Skipping player node: Player
[12:08:22] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[12:08:22] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[12:08:23] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:08:23] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:08:23] [INFO] [LastChance] Ending last chance effect
[12:08:23] [INFO] [LastChance] All process modes restored
[12:08:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:08:23] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:08:23] [INFO] [Player] Ready! Grenades: 1/3
[12:08:23] [INFO] [ScoreManager] Level started with 10 enemies
[12:08:23] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:08:23] [ENEMY] [Enemy1] Registered as sound listener
[12:08:23] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[12:08:23] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:08:23] [ENEMY] [Enemy2] Registered as sound listener
[12:08:23] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[12:08:23] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:08:23] [ENEMY] [Enemy3] Registered as sound listener
[12:08:23] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[12:08:23] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:08:23] [ENEMY] [Enemy4] Registered as sound listener
[12:08:23] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[12:08:23] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:08:23] [ENEMY] [Enemy5] Registered as sound listener
[12:08:23] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[12:08:23] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:08:23] [ENEMY] [Enemy6] Registered as sound listener
[12:08:23] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[12:08:23] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:08:23] [ENEMY] [Enemy7] Registered as sound listener
[12:08:23] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[12:08:23] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:08:23] [ENEMY] [Enemy8] Registered as sound listener
[12:08:23] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[12:08:23] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:08:23] [ENEMY] [Enemy9] Registered as sound listener
[12:08:23] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[12:08:23] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:08:23] [ENEMY] [Enemy10] Registered as sound listener
[12:08:23] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[12:08:23] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:08:23] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:08:23] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:08:23] [INFO] [LastChance] Found player: Player
[12:08:23] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:08:23] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:08:23] [INFO] [LastChance] Connected to player Died signal (C#)
[12:08:23] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[12:08:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1200, 1550), source=ENEMY (Enemy10), range=1469, listeners=20
[12:08:23] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[12:08:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[12:08:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.99, 1534.529), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[12:08:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1140.006, 1515.278), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1108.816, 1494.764), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.466, 1473.029), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1153.019, 1516.452), shooter_id=306217749313, bullet_pos=(46.92997, 934.1586)
[12:08:24] [INFO] [Bullet] Using shooter_position, distance=1249.99951171875
[12:08:24] [INFO] [Bullet] Distance to wall: 1249.99951171875 (85.1147652993511% of viewport)
[12:08:24] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:08:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=306217749313, bullet_pos=(33.87472, 883.6538)
[12:08:24] [INFO] [Bullet] Using shooter_position, distance=1249.99963378906
[12:08:24] [INFO] [Bullet] Distance to wall: 1249.99963378906 (85.1147736113431% of viewport)
[12:08:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.653, 1488.04), shooter_id=306217749313, bullet_pos=(63.90164, 841.4061)
[12:08:24] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:08:24] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:08:24] [INFO] [Bullet] Distance-based penetration chance: 50.6761238618226%
[12:08:24] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=306217749313, bullet_pos=(307.8917, 711.2335)
[12:08:24] [INFO] [Bullet] Using shooter_position, distance=1135.92858886719
[12:08:24] [INFO] [Bullet] Distance to wall: 1135.92858886719 (77.347466404457% of viewport)
[12:08:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1054.474, 1465.056), shooter_id=306217749313, bullet_pos=(60.28213, 778.2879)
[12:08:24] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:08:24] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:08:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1054.474, 1465.056), shooter_id=306217749313, bullet_pos=(225.605, 701.9814)
[12:08:24] [INFO] [Bullet] Using shooter_position, distance=1126.63537597656
[12:08:24] [INFO] [Bullet] Distance to wall: 1126.63537597656 (76.7146744500227% of viewport)
[12:08:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=306217749313, bullet_pos=(58.95797, 715.3979)
[12:08:24] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[12:08:24] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[12:08:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=306217749313, bullet_pos=(701.382, 875.648)
[12:08:24] [INFO] [Bullet] Using shooter_position, distance=757.525695800781
[12:08:24] [INFO] [Bullet] Distance to wall: 757.525695800781 (51.5813175940011% of viewport)
[12:08:24] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:08:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=306217749313, bullet_pos=(319.9664, 468.6685)
[12:08:24] [INFO] [Bullet] Using shooter_position, distance=1201.10754394531
[12:08:24] [INFO] [Bullet] Distance to wall: 1201.10754394531 (81.7856213092566% of viewport)
[12:08:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=306217749313, bullet_pos=(510.1617, 961.7427)
[12:08:24] [INFO] [Bullet] Using shooter_position, distance=816.759887695313
[12:08:24] [INFO] [Bullet] Distance to wall: 816.759887695313 (55.6146826421741% of viewport)
[12:08:24] [INFO] [Bullet] Distance-based penetration chance: 81.7828702507969%
[12:08:24] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:24] [ENEMY] [Enemy2] Hit taken, health: 2/3
[12:08:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1054.474, 1465.056), shooter_id=306217749313, bullet_pos=(695.8592, 827.3031)
[12:08:24] [INFO] [Bullet] Using shooter_position, distance=731.664978027344
[12:08:24] [INFO] [Bullet] Distance to wall: 731.664978027344 (49.8204137671409% of viewport)
[12:08:24] [INFO] [Bullet] Distance-based penetration chance: 88.5428506050023%
[12:08:24] [INFO] [Bullet] Starting wall penetration at (695.8592, 827.3031)
[12:08:24] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:08:24] [INFO] [Bullet] Exiting penetration at (729.7795, 836.3428) after traveling 30.1041698455811 pixels through wall
[12:08:24] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[12:08:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:25] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[12:08:25] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[12:08:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:25] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[12:08:25] [INFO] [LastChance] Threat detected: Bullet
[12:08:25] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:25] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[12:08:25] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[12:08:25] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[12:08:25] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:08:25] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[12:08:25] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[12:08:25] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[12:08:25] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[12:08:25] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[12:08:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[12:08:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(699.3511, 764.9192), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:25] [INFO] [LastChance] Threat detected: @Area2D@1927
[12:08:25] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:25] [INFO] [LastChance] Threat detected: @Area2D@1926
[12:08:25] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:25] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(395.3062, 547.4678), source=ENEMY (Enemy2), range=1469, listeners=10
[12:08:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[12:08:25] [INFO] [LastChance] Threat detected: @Area2D@1928
[12:08:25] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(427.4224, 600.8005), shooter_id=303936047101, bullet_pos=(501.1172, 701.7664)
[12:08:25] [INFO] [Bullet] Using shooter_position, distance=125.000038146973
[12:08:25] [INFO] [Bullet] Distance to wall: 125.000038146973 (8.51148245222944% of viewport)
[12:08:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:25] [INFO] [Bullet] Starting wall penetration at (501.1172, 701.7664)
[12:08:25] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(385.9185, 542.4033), source=ENEMY (Enemy2), range=1469, listeners=10
[12:08:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[12:08:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 48.5615310668945
[12:08:25] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:25] [INFO] [Bullet] Exiting penetration at (528.6298, 739.4603) after traveling 41.6666679382324 pixels through wall
[12:08:25] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:25] [INFO] [LastChance] Threat detected: @Area2D@1930
[12:08:25] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(312.9391, 378.6534), source=ENEMY (Enemy1), range=1469, listeners=10
[12:08:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=4
[12:08:25] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(376.5307, 537.3389), source=ENEMY (Enemy2), range=1469, listeners=10
[12:08:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[12:08:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(640.0501, 760.3319), shooter_id=304221259339, bullet_pos=(395.2943, 709.3945)
[12:08:25] [INFO] [Bullet] Using shooter_position, distance=250.000015258789
[12:08:25] [INFO] [Bullet] Distance to wall: 250.000015258789 (17.0229607484629% of viewport)
[12:08:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:25] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:08:25] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[12:08:25] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:08:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(644.091, 757.9196), shooter_id=304221259339, bullet_pos=(60.76225, 760.2344)
[12:08:25] [INFO] [Bullet] Using shooter_position, distance=583.333312988281
[12:08:25] [INFO] [Bullet] Distance to wall: 583.333312988281 (39.7202379367503% of viewport)
[12:08:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:25] [INFO] [Bullet] Starting wall penetration at (60.76225, 760.2344)
[12:08:25] [INFO] [LastChance] Threat detected: @Area2D@1932
[12:08:25] [INFO] [LastChance] Triggering last chance effect!
[12:08:25] [INFO] [LastChance] Starting last chance effect:
[12:08:25] [INFO] [LastChance]   - Time will be frozen (except player)
[12:08:25] [INFO] [LastChance]   - Duration: 6.0 real seconds
[12:08:25] [INFO] [LastChance]   - Sepia intensity: 0.70
[12:08:25] [INFO] [LastChance]   - Brightness: 0.60
[12:08:25] [INFO] [LastChance] Pushed bullet @Area2D@1930 from distance 34.6 to 200.0
[12:08:25] [INFO] [LastChance] Pushed bullet @Area2D@1932 from distance 128.2 to 200.0
[12:08:25] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[12:08:25] [INFO] [LastChance] Set player Player and all 17 children to PROCESS_MODE_ALWAYS
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[12:08:25] [INFO] [LastChance] Skipping player node: Player
[12:08:25] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:25] [INFO] [Bullet] Exiting penetration at (55.76229, 760.2542) after traveling 0 pixels through wall
[12:08:25] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:25] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[12:08:25] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[12:08:25] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:08:25] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:08:25] [INFO] [LastChance] Ending last chance effect
[12:08:25] [INFO] [LastChance] All process modes restored
[12:08:25] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:08:25] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:08:25] [INFO] [Player] Ready! Grenades: 1/3
[12:08:25] [INFO] [ScoreManager] Level started with 10 enemies
[12:08:25] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:08:25] [ENEMY] [Enemy1] Registered as sound listener
[12:08:25] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[12:08:25] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:08:25] [ENEMY] [Enemy2] Registered as sound listener
[12:08:25] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[12:08:25] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:08:25] [ENEMY] [Enemy3] Registered as sound listener
[12:08:25] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[12:08:25] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:08:25] [ENEMY] [Enemy4] Registered as sound listener
[12:08:25] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[12:08:25] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:08:25] [ENEMY] [Enemy5] Registered as sound listener
[12:08:25] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[12:08:25] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:08:25] [ENEMY] [Enemy6] Registered as sound listener
[12:08:25] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[12:08:25] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:08:25] [ENEMY] [Enemy7] Registered as sound listener
[12:08:25] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[12:08:25] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:08:25] [ENEMY] [Enemy8] Registered as sound listener
[12:08:25] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[12:08:25] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:08:25] [ENEMY] [Enemy9] Registered as sound listener
[12:08:25] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[12:08:25] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:08:25] [ENEMY] [Enemy10] Registered as sound listener
[12:08:25] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[12:08:25] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:08:25] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:08:25] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:08:25] [INFO] [LastChance] Found player: Player
[12:08:25] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:08:25] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:08:25] [INFO] [LastChance] Connected to player Died signal (C#)
[12:08:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(377.1667, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=20
[12:08:26] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[12:08:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[12:08:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(342.8333, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[12:08:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(321.8333, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[12:08:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(969.0773, 1012.11865)
[12:08:26] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:26] [INFO] [Bullet] Using shooter_position, distance=1401,2477
[12:08:26] [INFO] [Bullet] Distance to wall: 1401,2477 (95,413536% of viewport)
[12:08:26] [INFO] [Bullet] Distance-based penetration chance: 35,350883%
[12:08:26] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(314.4444, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[12:08:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(314.4444, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[12:08:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(314.4444, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[12:08:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(964.9669, 1021.0022)
[12:08:27] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:27] [INFO] [Bullet] Using shooter_position, distance=1404,8511
[12:08:27] [INFO] [Bullet] Distance to wall: 1404,8511 (95,6589% of viewport)
[12:08:27] [INFO] [Bullet] Distance-based penetration chance: 35,06462%
[12:08:27] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(964.9975, 1021.08734)
[12:08:27] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:27] [INFO] [Bullet] Using shooter_position, distance=1404,934
[12:08:27] [INFO] [Bullet] Distance to wall: 1404,934 (95,664536% of viewport)
[12:08:27] [INFO] [Bullet] Distance-based penetration chance: 35,05804%
[12:08:27] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(965.0116, 1021.12775)
[12:08:27] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:27] [INFO] [Bullet] Using shooter_position, distance=1404,973
[12:08:27] [INFO] [Bullet] Distance to wall: 1404,973 (95,6672% of viewport)
[12:08:27] [INFO] [Bullet] Distance-based penetration chance: 35,05494%
[12:08:27] [INFO] [Bullet] Starting wall penetration at (965.0116, 1021.12775)
[12:08:27] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:08:27] [INFO] [Bullet] Exiting penetration at (1008.9053, 1005.2809) after traveling 41,666668 pixels through wall
[12:08:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:08:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(314.4444, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[12:08:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(314.4444, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[12:08:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(314.4444, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[12:08:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(905.8851, 1398.3643)
[12:08:27] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:27] [INFO] [Bullet] Using shooter_position, distance=1666,1484
[12:08:27] [INFO] [Bullet] Distance to wall: 1666,1484 (113,45111% of viewport)
[12:08:27] [INFO] [Bullet] Distance-based penetration chance: 27,309778%
[12:08:27] [INFO] [Bullet] Starting wall penetration at (905.8851, 1398.3643)
[12:08:27] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:08:27] [INFO] [Bullet] Exiting penetration at (951.25586, 1409.2854) after traveling 41,66667 pixels through wall
[12:08:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:08:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(892.68066, 1444.9784)
[12:08:28] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:28] [INFO] [Bullet] Using shooter_position, distance=1698,482
[12:08:28] [INFO] [Bullet] Distance to wall: 1698,482 (115,65278% of viewport)
[12:08:28] [INFO] [Bullet] Distance-based penetration chance: 26,869446%
[12:08:28] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(892.69116, 1444.9463)
[12:08:28] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:28] [INFO] [Bullet] Using shooter_position, distance=1698,4602
[12:08:28] [INFO] [Bullet] Distance to wall: 1698,4602 (115,65128% of viewport)
[12:08:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(314.4444, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[12:08:28] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[12:08:28] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[12:08:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(314.4444, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[12:08:28] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[12:08:28] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[12:08:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(314.4444, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[12:08:28] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:08:28] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[12:08:28] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:08:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(314.4444, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[12:08:28] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[12:08:28] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[12:08:28] [INFO] [PenultimateHit] Player died - ending penultimate effect
[12:08:28] [INFO] [LastChance] Player died
[12:08:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(314.4444, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[12:08:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(314.4444, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[12:08:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(314.4444, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[12:08:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(991.0971, 1399.331)
[12:08:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:29] [INFO] [Bullet] Using shooter_position, distance=1714,7598
[12:08:29] [INFO] [Bullet] Distance to wall: 1714,7598 (116,76115% of viewport)
[12:08:29] [INFO] [Bullet] Distance-based penetration chance: 26,64777%
[12:08:29] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(690.1783, 1023.8494)
[12:08:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:29] [INFO] [Bullet] Using shooter_position, distance=1234,7526
[12:08:29] [INFO] [Bullet] Distance to wall: 1234,7526 (84,07658% of viewport)
[12:08:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(522.59784, 1017.35803)
[12:08:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:29] [INFO] [Bullet] Using shooter_position, distance=1143,7333
[12:08:29] [INFO] [Bullet] Distance to wall: 1143,7333 (77,87891% of viewport)
[12:08:29] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:08:29] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:08:29] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:08:29] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:08:29] [INFO] [Player] Ready! Grenades: 1/3
[12:08:29] [INFO] [ScoreManager] Level started with 10 enemies
[12:08:29] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:08:29] [ENEMY] [Enemy1] Registered as sound listener
[12:08:29] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[12:08:29] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:08:29] [ENEMY] [Enemy2] Registered as sound listener
[12:08:29] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[12:08:29] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:08:29] [ENEMY] [Enemy3] Registered as sound listener
[12:08:29] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[12:08:29] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:08:29] [ENEMY] [Enemy4] Registered as sound listener
[12:08:29] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[12:08:29] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:08:29] [ENEMY] [Enemy5] Registered as sound listener
[12:08:29] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[12:08:29] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:08:29] [ENEMY] [Enemy6] Registered as sound listener
[12:08:29] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[12:08:29] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:08:29] [ENEMY] [Enemy7] Registered as sound listener
[12:08:29] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[12:08:29] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:08:29] [ENEMY] [Enemy8] Registered as sound listener
[12:08:29] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[12:08:29] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:08:29] [ENEMY] [Enemy9] Registered as sound listener
[12:08:29] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[12:08:29] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:08:29] [ENEMY] [Enemy10] Registered as sound listener
[12:08:29] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[12:08:29] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:08:29] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:08:29] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:08:29] [INFO] [LastChance] Found player: Player
[12:08:29] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:08:29] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:08:29] [INFO] [LastChance] Connected to player Died signal (C#)
[12:08:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=20
[12:08:29] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[12:08:29] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[12:08:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[12:08:29] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[12:08:29] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[12:08:29] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[12:08:29] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[12:08:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[12:08:29] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[12:08:29] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[12:08:29] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[12:08:29] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[12:08:29] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[12:08:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(37.37445, 1004.3032)
[12:08:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:29] [INFO] [Bullet] Using shooter_position, distance=1004,9984
[12:08:29] [INFO] [Bullet] Distance to wall: 1004,9984 (68,4322% of viewport)
[12:08:29] [INFO] [Bullet] Distance-based penetration chance: 66,82911%
[12:08:29] [INFO] [Bullet] Starting wall penetration at (37.37445, 1004.3032)
[12:08:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40,37126
[12:08:29] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:29] [INFO] [Bullet] Exiting penetration at (-2.4652557, 980.00146) after traveling 41,666668 pixels through wall
[12:08:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:08:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[12:08:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(591.0493, 1019.9277)
[12:08:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:29] [INFO] [Bullet] Using shooter_position, distance=1178,8094
[12:08:29] [INFO] [Bullet] Distance to wall: 1178,8094 (80,2673% of viewport)
[12:08:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(1054.1592, 1016.2262)
[12:08:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:29] [INFO] [Bullet] Using shooter_position, distance=1464,2292
[12:08:29] [INFO] [Bullet] Distance to wall: 1464,2292 (99,702065% of viewport)
[12:08:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(1703.5759, 1210.7223)
[12:08:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:29] [INFO] [Bullet] Using shooter_position, distance=2089,9807
[12:08:29] [INFO] [Bullet] Distance to wall: 2089,9807 (142,31064% of viewport)
[12:08:29] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[12:08:30] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:08:30] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:08:30] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:08:30] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:08:30] [INFO] [Player] Ready! Grenades: 1/3
[12:08:30] [INFO] [ScoreManager] Level started with 10 enemies
[12:08:30] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:08:30] [ENEMY] [Enemy1] Registered as sound listener
[12:08:30] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[12:08:30] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:08:30] [ENEMY] [Enemy2] Registered as sound listener
[12:08:30] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[12:08:30] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:08:30] [ENEMY] [Enemy3] Registered as sound listener
[12:08:30] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[12:08:30] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:08:30] [ENEMY] [Enemy4] Registered as sound listener
[12:08:30] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[12:08:30] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:08:30] [ENEMY] [Enemy5] Registered as sound listener
[12:08:30] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[12:08:30] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:08:30] [ENEMY] [Enemy6] Registered as sound listener
[12:08:30] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[12:08:30] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:08:30] [ENEMY] [Enemy7] Registered as sound listener
[12:08:30] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[12:08:30] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:08:30] [ENEMY] [Enemy8] Registered as sound listener
[12:08:30] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[12:08:30] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:08:30] [ENEMY] [Enemy9] Registered as sound listener
[12:08:30] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[12:08:30] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:08:30] [ENEMY] [Enemy10] Registered as sound listener
[12:08:30] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[12:08:30] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:08:30] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:08:30] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:08:30] [INFO] [LastChance] Found player: Player
[12:08:30] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:08:30] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:08:30] [INFO] [LastChance] Connected to player Died signal (C#)
[12:08:30] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[12:08:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1200, 1550), source=ENEMY (Enemy10), range=1469, listeners=20
[12:08:30] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[12:08:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[12:08:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.99, 1534.529), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[12:08:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1140.006, 1515.278), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1108.816, 1494.764), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.466, 1473.029), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1153.019, 1516.452), shooter_id=392570079344, bullet_pos=(46.92997, 934.1586)
[12:08:31] [INFO] [Bullet] Using shooter_position, distance=1249.99951171875
[12:08:31] [INFO] [Bullet] Distance to wall: 1249.99951171875 (85.1147652993511% of viewport)
[12:08:31] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:08:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=392570079344, bullet_pos=(33.87472, 883.6538)
[12:08:31] [INFO] [Bullet] Using shooter_position, distance=1249.99963378906
[12:08:31] [INFO] [Bullet] Distance to wall: 1249.99963378906 (85.1147736113431% of viewport)
[12:08:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.653, 1488.04), shooter_id=392570079344, bullet_pos=(63.90164, 841.4061)
[12:08:31] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:08:31] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:08:31] [INFO] [Bullet] Distance-based penetration chance: 50.6761238618226%
[12:08:31] [INFO] [Bullet] Starting wall penetration at (63.90164, 841.4061)
[12:08:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8.90251350402832
[12:08:31] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:31] [INFO] [Bullet] Exiting penetration at (24.47953, 816.4327) after traveling 41.6666679382324 pixels through wall
[12:08:31] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1054.474, 1465.056), shooter_id=392570079344, bullet_pos=(60.28213, 778.2879)
[12:08:31] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:08:31] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:08:31] [INFO] [Bullet] Distance-based penetration chance: 50.6761238618226%
[12:08:31] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=392570079344, bullet_pos=(466.0007, 710.7957)
[12:08:31] [INFO] [Bullet] Using shooter_position, distance=1029.84216308594
[12:08:31] [INFO] [Bullet] Distance to wall: 1029.84216308594 (70.1238465972761% of viewport)
[12:08:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=392570079344, bullet_pos=(58.95797, 715.3979)
[12:08:31] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[12:08:31] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[12:08:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=392570079344, bullet_pos=(723.8221, 809.1302)
[12:08:31] [INFO] [Bullet] Using shooter_position, distance=802.833557128906
[12:08:31] [INFO] [Bullet] Distance to wall: 802.833557128906 (54.6664131856437% of viewport)
[12:08:31] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:08:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=392570079344, bullet_pos=(927.3135, 758.4457)
[12:08:31] [INFO] [Bullet] Using shooter_position, distance=774.622985839844
[12:08:31] [INFO] [Bullet] Distance to wall: 774.622985839844 (52.745503511905% of viewport)
[12:08:31] [INFO] [Bullet] Distance-based penetration chance: 85.1302459027775%
[12:08:31] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:31] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:08:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=392570079344, bullet_pos=(497.9018, 407.3518)
[12:08:31] [INFO] [Bullet] Using shooter_position, distance=1160.31042480469
[12:08:31] [INFO] [Bullet] Distance to wall: 1160.31042480469 (79.0076704476843% of viewport)
[12:08:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(364.0251, 790.5541), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:31] [ENEMY] [Enemy1] Heard gunshot at (364.0251, 790.5541), source_type=0, intensity=0.01, distance=445
[12:08:31] [ENEMY] [Enemy2] Heard gunshot at (364.0251, 790.5541), source_type=0, intensity=0.04, distance=243
[12:08:31] [ENEMY] [Enemy4] Heard gunshot at (364.0251, 790.5541), source_type=0, intensity=0.01, distance=450
[12:08:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:08:31] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[12:08:31] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[12:08:31] [ENEMY] [Enemy3] Hit taken, health: 1/2
[12:08:31] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[12:08:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(359.4142, 774.9263), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:08:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=392570079344, bullet_pos=(256.1277, 274.3604)
[12:08:31] [INFO] [Bullet] Using shooter_position, distance=1397.2705078125
[12:08:31] [INFO] [Bullet] Distance to wall: 1397.2705078125 (95.1427182308571% of viewport)
[12:08:31] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:31] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:31] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:31] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:31] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:31] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.743, 774.6064), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:08:31] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=392570079344, bullet_pos=(57.79745, 400.9689)
[12:08:32] [INFO] [Bullet] Using shooter_position, distance=1420.35888671875
[12:08:32] [INFO] [Bullet] Distance to wall: 1420.35888671875 (96.7148484063689% of viewport)
[12:08:32] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(925.88617, 760.07947)
[12:08:32] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:32] [INFO] [Bullet] Using shooter_position, distance=1197,909
[12:08:32] [INFO] [Bullet] Distance to wall: 1197,909 (81,56783% of viewport)
[12:08:32] [INFO] [Bullet] Distance-based penetration chance: 51,504196%
[12:08:32] [INFO] [Bullet] Starting wall penetration at (925.88617, 760.07947)
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[12:08:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(355.193, 790.5813), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:32] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:08:32] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,549355
[12:08:32] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:32] [INFO] [Bullet] Exiting penetration at (972.5368, 758.8568) after traveling 41,66667 pixels through wall
[12:08:32] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(923.405, 772.3793)
[12:08:32] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:32] [INFO] [Bullet] Using shooter_position, distance=1203,8466
[12:08:32] [INFO] [Bullet] Distance to wall: 1203,8466 (81,97213% of viewport)
[12:08:32] [INFO] [Bullet] Distance-based penetration chance: 51,03252%
[12:08:32] [INFO] [Bullet] Starting wall penetration at (923.405, 772.3793)
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34,071552
[12:08:32] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:32] [INFO] [Bullet] Exiting penetration at (970.0713, 772.19586) after traveling 41,666668 pixels through wall
[12:08:32] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(921.67487, 805.05206)
[12:08:32] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:32] [INFO] [Bullet] Using shooter_position, distance=1223,762
[12:08:32] [INFO] [Bullet] Distance to wall: 1223,762 (83,32821% of viewport)
[12:08:32] [INFO] [Bullet] Distance-based penetration chance: 49,450428%
[12:08:32] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=392570079344, bullet_pos=(385.2003, 694.9282)
[12:08:32] [INFO] [Bullet] Using shooter_position, distance=982.922607421875
[12:08:32] [INFO] [Bullet] Distance to wall: 982.922607421875 (66.9290077746549% of viewport)
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[12:08:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=392570079344, bullet_pos=(498.1084, 565.9861)
[12:08:32] [INFO] [Bullet] Using shooter_position, distance=1021.44689941406
[12:08:32] [INFO] [Bullet] Distance to wall: 1021.44689941406 (69.5521976563295% of viewport)
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=392570079344, bullet_pos=(259.9672, 267.1097)
[12:08:32] [INFO] [Bullet] Using shooter_position, distance=1401.22900390625
[12:08:32] [INFO] [Bullet] Distance to wall: 1401.22900390625 (95.412259508913% of viewport)
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:33] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:33] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:33] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:33] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(496.314, 739.7979), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:33] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:08:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(524.3043, 800.30396)
[12:08:33] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:33] [INFO] [Bullet] Using shooter_position, distance=956,75574
[12:08:33] [INFO] [Bullet] Distance to wall: 956,75574 (65,147255% of viewport)
[12:08:33] [INFO] [Bullet] Distance-based penetration chance: 70,66153%
[12:08:33] [INFO] [Bullet] Starting wall penetration at (524.3043, 800.30396)
[12:08:33] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:08:33] [INFO] [Bullet] Exiting penetration at (543.8975, 842.6582) after traveling 41,666668 pixels through wall
[12:08:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:08:33] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[12:08:33] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[12:08:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(534.814, 739.7979), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:33] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[12:08:33] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(395.3825, 547.3311), source=ENEMY (Enemy2), range=1469, listeners=10
[12:08:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[12:08:33] [ENEMY] [Enemy3] Hit taken, health: 0/2
[12:08:33] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[12:08:33] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[12:08:33] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[12:08:33] [INFO] [LastChance] Threat detected: @Area2D@2734
[12:08:33] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:33] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(386.1474, 541.9933), source=ENEMY (Enemy2), range=1469, listeners=9
[12:08:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[12:08:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=392570079344, bullet_pos=(60.8048, 524.6647)
[12:08:33] [INFO] [Bullet] Using shooter_position, distance=1330.27783203125
[12:08:33] [INFO] [Bullet] Distance to wall: 1330.27783203125 (90.5810637482436% of viewport)
[12:08:33] [INFO] [LastChance] Threat detected: Bullet
[12:08:33] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:33] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[12:08:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(569.1474, 739.7979), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:08:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[12:08:33] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:08:33] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:08:33] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[12:08:33] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:08:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(621.783, 1009.7135)
[12:08:33] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:33] [INFO] [Bullet] Using shooter_position, distance=1185,8058
[12:08:33] [INFO] [Bullet] Distance to wall: 1185,8058 (80,7437% of viewport)
[12:08:33] [INFO] [Bullet] Distance-based penetration chance: 52,46569%
[12:08:33] [INFO] [Bullet] Starting wall penetration at (621.783, 1009.7135)
[12:08:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(589.814, 739.7979), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:08:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[12:08:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32,11101
[12:08:33] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:33] [INFO] [Bullet] Exiting penetration at (630.71515, 1055.5173) after traveling 41,66667 pixels through wall
[12:08:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:08:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.2123, 591.4312), shooter_id=390288377186, bullet_pos=(770.6232, 1019.106)
[12:08:33] [INFO] [Bullet] Using shooter_position, distance=541.666748046875
[12:08:33] [INFO] [Bullet] Distance to wall: 541.666748046875 (36.883084911833% of viewport)
[12:08:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:33] [INFO] [Bullet] Starting wall penetration at (770.6232, 1019.106)
[12:08:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40.4683113098145
[12:08:33] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:33] [INFO] [Bullet] Exiting penetration at (799.2617, 1055.952) after traveling 41.6666679382324 pixels through wall
[12:08:33] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:33] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(344.6308, 509.5672), source=ENEMY (Enemy2), range=1469, listeners=9
[12:08:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[12:08:33] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(360.2825, 508.5711), source=ENEMY (Enemy2), range=1469, listeners=9
[12:08:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[12:08:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(618.5323, 1013.29425)
[12:08:33] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:33] [INFO] [Bullet] Using shooter_position, distance=1187,1594
[12:08:33] [INFO] [Bullet] Distance to wall: 1187,1594 (80,83588% of viewport)
[12:08:33] [INFO] [Bullet] Distance-based penetration chance: 52,35815%
[12:08:33] [INFO] [Bullet] Starting wall penetration at (618.5323, 1013.29425)
[12:08:33] [INFO] [LastChance] Threat detected: @Area2D@2739
[12:08:33] [INFO] [LastChance] Triggering last chance effect!
[12:08:33] [INFO] [LastChance] Starting last chance effect:
[12:08:33] [INFO] [LastChance]   - Time will be frozen (except player)
[12:08:33] [INFO] [LastChance]   - Duration: 6.0 real seconds
[12:08:33] [INFO] [LastChance]   - Sepia intensity: 0.70
[12:08:33] [INFO] [LastChance]   - Brightness: 0.60
[12:08:33] [INFO] [LastChance] Set player Player and all 17 children to PROCESS_MODE_ALWAYS
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[12:08:33] [INFO] [LastChance] Skipping player node: Player
[12:08:33] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:33] [INFO] [Bullet] Exiting penetration at (619.05444, 1018.2669) after traveling 0 pixels through wall
[12:08:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:08:33] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[12:08:33] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[12:08:34] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:08:34] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:08:34] [INFO] [LastChance] Ending last chance effect
[12:08:34] [INFO] [LastChance] All process modes restored
[12:08:34] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:08:34] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:08:34] [INFO] [Player] Ready! Grenades: 1/3
[12:08:34] [INFO] [ScoreManager] Level started with 10 enemies
[12:08:34] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[12:08:34] [ENEMY] [Enemy1] Registered as sound listener
[12:08:34] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[12:08:34] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[12:08:34] [ENEMY] [Enemy2] Registered as sound listener
[12:08:34] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[12:08:34] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[12:08:34] [ENEMY] [Enemy3] Registered as sound listener
[12:08:34] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[12:08:34] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[12:08:34] [ENEMY] [Enemy4] Registered as sound listener
[12:08:34] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[12:08:34] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[12:08:34] [ENEMY] [Enemy5] Registered as sound listener
[12:08:34] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[12:08:34] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[12:08:34] [ENEMY] [Enemy6] Registered as sound listener
[12:08:34] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[12:08:34] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[12:08:34] [ENEMY] [Enemy7] Registered as sound listener
[12:08:34] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[12:08:34] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[12:08:34] [ENEMY] [Enemy8] Registered as sound listener
[12:08:34] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[12:08:34] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[12:08:34] [ENEMY] [Enemy9] Registered as sound listener
[12:08:34] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[12:08:34] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[12:08:34] [ENEMY] [Enemy10] Registered as sound listener
[12:08:34] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[12:08:34] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:08:34] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:08:34] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:08:34] [INFO] [LastChance] Found player: Player
[12:08:34] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:08:34] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:08:34] [INFO] [LastChance] Connected to player Died signal (C#)
[12:08:34] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[12:08:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1200, 1550), source=ENEMY (Enemy10), range=1469, listeners=19
[12:08:34] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[12:08:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[12:08:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.99, 1534.529), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[12:08:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1140.006, 1515.278), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1108.816, 1494.764), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.466, 1473.029), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1153.019, 1516.452), shooter_id=479895489458, bullet_pos=(46.92997, 934.1586)
[12:08:34] [INFO] [Bullet] Using shooter_position, distance=1249.99951171875
[12:08:34] [INFO] [Bullet] Distance to wall: 1249.99951171875 (85.1147652993511% of viewport)
[12:08:34] [INFO] [Bullet] Distance-based penetration chance: 47.3661071507571%
[12:08:34] [INFO] [Bullet] Starting wall penetration at (46.92997, 934.1586)
[12:08:34] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:08:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.7942066192627
[12:08:34] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:34] [INFO] [Bullet] Exiting penetration at (5.635967, 912.4196) after traveling 41.6666717529297 pixels through wall
[12:08:34] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=479895489458, bullet_pos=(33.87472, 883.6538)
[12:08:35] [INFO] [Bullet] Using shooter_position, distance=1249.99963378906
[12:08:35] [INFO] [Bullet] Distance to wall: 1249.99963378906 (85.1147736113431% of viewport)
[12:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.653, 1488.04), shooter_id=479895489458, bullet_pos=(63.90164, 841.4061)
[12:08:35] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:08:35] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=479895489458, bullet_pos=(267.5627, 714.7572)
[12:08:35] [INFO] [Bullet] Using shooter_position, distance=1162.54235839844
[12:08:35] [INFO] [Bullet] Distance to wall: 1162.54235839844 (79.1596469102467% of viewport)
[12:08:35] [INFO] [LastChance] Threat detected: @Area2D@2994
[12:08:35] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1054.474, 1465.056), shooter_id=479895489458, bullet_pos=(60.28213, 778.2879)
[12:08:35] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:08:35] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.653, 1488.04), shooter_id=479895489458, bullet_pos=(359.5086, 709.3807)
[12:08:35] [INFO] [Bullet] Using shooter_position, distance=1064.02282714844
[12:08:35] [INFO] [Bullet] Distance to wall: 1064.02282714844 (72.4512708659907% of viewport)
[12:08:35] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:08:35] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[12:08:35] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1054.474, 1465.056), shooter_id=479895489458, bullet_pos=(182.566, 697.308)
[12:08:35] [INFO] [Bullet] Using shooter_position, distance=1161.74914550781
[12:08:35] [INFO] [Bullet] Distance to wall: 1161.74914550781 (79.1056355859342% of viewport)
[12:08:35] [INFO] [Bullet] Distance-based penetration chance: 54.3767584830768%
[12:08:35] [INFO] [Bullet] Starting wall penetration at (182.566, 697.308)
[12:08:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23.5585098266602
[12:08:35] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:35] [INFO] [Bullet] Exiting penetration at (216.2635, 674.9925) after traveling 35.4166679382324 pixels through wall
[12:08:35] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[12:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=479895489458, bullet_pos=(58.95797, 715.3979)
[12:08:35] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[12:08:35] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[12:08:35] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.653, 1488.04), shooter_id=479895489458, bullet_pos=(696.0555, 853.8635)
[12:08:35] [INFO] [Bullet] Using shooter_position, distance=743.766052246094
[12:08:35] [INFO] [Bullet] Distance to wall: 743.766052246094 (50.644398162609% of viewport)
[12:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.653, 1488.04), shooter_id=479895489458, bullet_pos=(515.3466, 960.2681)
[12:08:35] [INFO] [Bullet] Using shooter_position, distance=776.30712890625
[12:08:35] [INFO] [Bullet] Distance to wall: 776.30712890625 (52.8601799101626% of viewport)
[12:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=479895489458, bullet_pos=(521.9321, 380.0508)
[12:08:35] [INFO] [Bullet] Using shooter_position, distance=1174.19445800781
[12:08:35] [INFO] [Bullet] Distance to wall: 1174.19445800781 (79.953059798971% of viewport)
[12:08:35] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.653, 1488.04), shooter_id=479895489458, bullet_pos=(596.5629, 1003.49)
[12:08:35] [INFO] [Bullet] Using shooter_position, distance=687.764892578125
[12:08:35] [INFO] [Bullet] Distance to wall: 687.764892578125 (46.8311762237646% of viewport)
[12:08:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(493.0761, 761.6827), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:35] [ENEMY] [Enemy1] Heard gunshot at (493.0761, 761.6827), source_type=0, intensity=0.01, distance=455
[12:08:35] [ENEMY] [Enemy2] Heard gunshot at (493.0761, 761.6827), source_type=0, intensity=0.05, distance=231
[12:08:35] [ENEMY] [Enemy4] Heard gunshot at (493.0761, 761.6827), source_type=0, intensity=0.02, distance=337
[12:08:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:08:35] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[12:08:35] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[12:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=479895489458, bullet_pos=(339.4479, 264.9916)
[12:08:35] [INFO] [Bullet] Using shooter_position, distance=1361.28137207031
[12:08:35] [INFO] [Bullet] Distance to wall: 1361.28137207031 (92.6921517999864% of viewport)
[12:08:35] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[12:08:35] [ENEMY] [Enemy3] Hit taken, health: 1/2
[12:08:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(525.6693, 759.172), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[12:08:35] [ENEMY] [Enemy4] Hit taken, health: 3/4
[12:08:35] [ENEMY] [Enemy3] Hit taken, health: 0/2
[12:08:35] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[12:08:35] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[12:08:35] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[12:08:35] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[12:08:35] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[12:08:35] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(549.9139, 769.5448), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:08:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[12:08:36] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[12:08:36] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:08:36] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:36] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[12:08:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=479895489458, bullet_pos=(672.7281, 64.71261)
[12:08:36] [INFO] [Bullet] Using shooter_position, distance=1420.62292480469
[12:08:36] [INFO] [Bullet] Distance to wall: 1420.62292480469 (96.7328272451636% of viewport)
[12:08:36] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[12:08:36] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[12:08:36] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[12:08:36] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[12:08:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(563.4947, 792.2892), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:08:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[12:08:36] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[12:08:36] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[12:08:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(566.6663, 827.1097), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:08:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[12:08:36] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[12:08:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(921.8083, 796.03864)
[12:08:36] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:36] [INFO] [Bullet] Using shooter_position, distance=1217,9524
[12:08:36] [INFO] [Bullet] Distance to wall: 1217,9524 (82,932625% of viewport)
[12:08:36] [INFO] [Bullet] Distance-based penetration chance: 49,911945%
[12:08:36] [INFO] [Bullet] Starting wall penetration at (921.8083, 796.03864)
[12:08:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32,47419
[12:08:36] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:36] [INFO] [Bullet] Exiting penetration at (968.4724, 796.5269) after traveling 41,66667 pixels through wall
[12:08:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:08:36] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[12:08:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(716.5765, 821.9205)
[12:08:36] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:36] [INFO] [Bullet] Using shooter_position, distance=1090,4288
[12:08:36] [INFO] [Bullet] Distance to wall: 1090,4288 (74,249306% of viewport)
[12:08:36] [INFO] [Bullet] Distance-based penetration chance: 60,042477%
[12:08:36] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:36] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[12:08:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(1364.4742, 828.16895)
[12:08:36] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:36] [INFO] [Bullet] Using shooter_position, distance=1596,1371
[12:08:36] [INFO] [Bullet] Distance to wall: 1596,1371 (108,68391% of viewport)
[12:08:36] [INFO] [Bullet] Distance-based penetration chance: 28,26322%
[12:08:36] [INFO] [Bullet] Starting wall penetration at (1364.4742, 828.16895)
[12:08:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,080051
[12:08:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=479895489458, bullet_pos=(1021.22, 202.532)
[12:08:36] [INFO] [Bullet] Using shooter_position, distance=1238.3779296875
[12:08:36] [INFO] [Bullet] Distance to wall: 1238.3779296875 (84.3234304086383% of viewport)
[12:08:36] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:36] [INFO] [Bullet] Exiting penetration at (1411.0205, 831.5189) after traveling 41,66667 pixels through wall
[12:08:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:08:36] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(814.5449, 940.4254), source=ENEMY (Enemy4), range=1469, listeners=9
[12:08:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[12:08:36] [INFO] [LastChance] Threat detected: Bullet
[12:08:36] [INFO] [LastChance] Triggering last chance effect!
[12:08:36] [INFO] [LastChance] Starting last chance effect:
[12:08:36] [INFO] [LastChance]   - Time will be frozen (except player)
[12:08:36] [INFO] [LastChance]   - Duration: 6.0 real seconds
[12:08:36] [INFO] [LastChance]   - Sepia intensity: 0.70
[12:08:36] [INFO] [LastChance]   - Brightness: 0.60
[12:08:36] [INFO] [LastChance] Pushed bullet Bullet from distance 116.4 to 200.0
[12:08:36] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[12:08:36] [INFO] [LastChance] Set player Player and all 17 children to PROCESS_MODE_ALWAYS
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[12:08:36] [INFO] [LastChance] Skipping player node: Player
[12:08:36] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[12:08:36] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[12:08:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(575.1544, 981.0392), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:08:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[12:08:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(926.4311, 910.27496)
[12:08:37] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:37] [INFO] [Bullet] Using shooter_position, distance=1298,7975
[12:08:37] [INFO] [Bullet] Distance to wall: 1298,7975 (88,43751% of viewport)
[12:08:37] [INFO] [Bullet] Distance-based penetration chance: 43,489574%
[12:08:37] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:37] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:08:37] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:08:37] [INFO] [LastChance] Ending last chance effect
[12:08:37] [INFO] [LastChance] All process modes restored
[12:08:37] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:08:37] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:08:37] [INFO] [Player] Ready! Grenades: 1/3
[12:08:37] [INFO] [ScoreManager] Level started with 10 enemies
[12:08:37] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[12:08:37] [ENEMY] [Enemy1] Registered as sound listener
[12:08:37] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[12:08:37] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[12:08:37] [ENEMY] [Enemy2] Registered as sound listener
[12:08:37] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[12:08:37] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[12:08:37] [ENEMY] [Enemy3] Registered as sound listener
[12:08:37] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[12:08:37] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[12:08:37] [ENEMY] [Enemy4] Registered as sound listener
[12:08:37] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[12:08:37] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[12:08:37] [ENEMY] [Enemy5] Registered as sound listener
[12:08:37] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[12:08:37] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[12:08:37] [ENEMY] [Enemy6] Registered as sound listener
[12:08:37] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[12:08:37] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[12:08:37] [ENEMY] [Enemy7] Registered as sound listener
[12:08:37] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[12:08:37] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[12:08:37] [ENEMY] [Enemy8] Registered as sound listener
[12:08:37] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[12:08:37] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[12:08:37] [ENEMY] [Enemy9] Registered as sound listener
[12:08:37] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[12:08:37] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[12:08:37] [ENEMY] [Enemy10] Registered as sound listener
[12:08:37] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[12:08:37] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:08:37] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:08:37] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:08:37] [INFO] [LastChance] Found player: Player
[12:08:37] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:08:37] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:08:37] [INFO] [LastChance] Connected to player Died signal (C#)
[12:08:37] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[12:08:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1200, 1550), source=ENEMY (Enemy10), range=1469, listeners=19
[12:08:37] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[12:08:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[12:08:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.99, 1534.529), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[12:08:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1140.006, 1515.278), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1108.816, 1494.764), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.466, 1473.029), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1153.019, 1516.452), shooter_id=529908368696, bullet_pos=(46.92997, 934.1586)
[12:08:38] [INFO] [Bullet] Using shooter_position, distance=1249.99951171875
[12:08:38] [INFO] [Bullet] Distance to wall: 1249.99951171875 (85.1147652993511% of viewport)
[12:08:38] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:08:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=529908368696, bullet_pos=(33.87472, 883.6538)
[12:08:38] [INFO] [Bullet] Using shooter_position, distance=1249.99963378906
[12:08:38] [INFO] [Bullet] Distance to wall: 1249.99963378906 (85.1147736113431% of viewport)
[12:08:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.653, 1488.04), shooter_id=529908368696, bullet_pos=(63.90164, 841.4061)
[12:08:38] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:08:38] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:08:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.653, 1488.04), shooter_id=529908368696, bullet_pos=(232.1242, 703.5385)
[12:08:38] [INFO] [Bullet] Using shooter_position, distance=1158.55407714844
[12:08:38] [INFO] [Bullet] Distance to wall: 1158.55407714844 (78.8880775061317% of viewport)
[12:08:38] [INFO] [Bullet] Distance-based penetration chance: 54.6305762428464%
[12:08:38] [INFO] [Bullet] Starting wall penetration at (232.1242, 703.5385)
[12:08:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=529908368696, bullet_pos=(429.7331, 715.7367)
[12:08:38] [INFO] [Bullet] Using shooter_position, distance=1049.35595703125
[12:08:38] [INFO] [Bullet] Distance to wall: 1049.35595703125 (71.4525767097154% of viewport)
[12:08:38] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15.9031248092651
[12:08:38] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:38] [INFO] [Bullet] Exiting penetration at (263.3839, 677.9194) after traveling 35.4166717529297 pixels through wall
[12:08:38] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[12:08:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1054.474, 1465.056), shooter_id=529908368696, bullet_pos=(60.28213, 778.2879)
[12:08:38] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:08:38] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:08:38] [INFO] [Bullet] Distance-based penetration chance: 50.6761238618226%
[12:08:38] [INFO] [Bullet] Starting wall penetration at (60.28213, 778.2879)
[12:08:38] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12.2927665710449
[12:08:38] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:38] [INFO] [Bullet] Exiting penetration at (21.88574, 751.7644) after traveling 41.6666679382324 pixels through wall
[12:08:38] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=529908368696, bullet_pos=(58.95797, 715.3979)
[12:08:38] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[12:08:38] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[12:08:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=529908368696, bullet_pos=(686.692, 816.303)
[12:08:38] [INFO] [Bullet] Using shooter_position, distance=815.490356445313
[12:08:38] [INFO] [Bullet] Distance to wall: 815.490356445313 (55.5282379248995% of viewport)
[12:08:38] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:08:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=529908368696, bullet_pos=(525.8477, 905.9091)
[12:08:38] [INFO] [Bullet] Using shooter_position, distance=844.193115234375
[12:08:38] [INFO] [Bullet] Distance to wall: 844.193115234375 (57.4826615505662% of viewport)
[12:08:38] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:08:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.246, 1440.903), shooter_id=529908368696, bullet_pos=(515.7546, 434.505)
[12:08:38] [INFO] [Bullet] Using shooter_position, distance=1128.01538085938
[12:08:38] [INFO] [Bullet] Distance to wall: 1128.01538085938 (76.8086415200986% of viewport)
[12:08:38] [INFO] [Bullet] Distance-based penetration chance: 57.0565848932182%
[12:08:38] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=529908368696, bullet_pos=(752.0663, 998.0209)
[12:08:38] [INFO] [Bullet] Using shooter_position, distance=627.837280273438
[12:08:38] [INFO] [Bullet] Distance to wall: 627.837280273438 (42.7505949047764% of viewport)
[12:08:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=529908368696, bullet_pos=(921.5106, 912.335)
[12:08:38] [INFO] [Bullet] Using shooter_position, distance=628.245239257813
[12:08:38] [INFO] [Bullet] Distance to wall: 628.245239257813 (42.7783735821929% of viewport)
[12:08:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1115.743, 1509.801), shooter_id=529908368696, bullet_pos=(759.4791, 838.9866)
[12:08:39] [INFO] [Bullet] Using shooter_position, distance=759.549987792969
[12:08:39] [INFO] [Bullet] Distance to wall: 759.549987792969 (51.7191553580939% of viewport)
[12:08:39] [INFO] [Bullet] Distance-based penetration chance: 86.3276520822238%
[12:08:39] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:39] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[12:08:39] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:39] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:39] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:39] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:39] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:39] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[12:08:39] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:40] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[12:08:40] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:40] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:40] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:40] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[12:08:40] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[12:08:40] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[12:08:40] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:40] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:40] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:40] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(554.7083, 913.6462), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:40] [ENEMY] [Enemy2] Heard gunshot at (554.7083, 913.6462), source_type=1, intensity=0.02, distance=395
[12:08:40] [ENEMY] [Enemy4] Heard gunshot at (554.7083, 913.6462), source_type=1, intensity=0.04, distance=246
[12:08:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[12:08:40] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[12:08:40] [INFO] [LastChance] Threat detected: Bullet
[12:08:40] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:40] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[12:08:40] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[12:08:40] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[12:08:40] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[12:08:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[12:08:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[12:08:40] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[12:08:40] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(558.3018, 925.9973), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[12:08:40] [INFO] [LastChance] Threat detected: @Area2D@3289
[12:08:40] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:40] [INFO] [LastChance] Threat detected: @Area2D@3290
[12:08:40] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:40] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(567.4026, 931.5607), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(427.2957, 600.8687), shooter_id=527626669185, bullet_pos=(500.7386, 702.0178)
[12:08:40] [INFO] [Bullet] Using shooter_position, distance=124.999992370605
[12:08:40] [INFO] [Bullet] Distance to wall: 124.999992370605 (8.51147933523242% of viewport)
[12:08:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:40] [INFO] [LastChance] Threat detected: @Area2D@3291
[12:08:40] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:40] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(576.5744, 937.0057), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:40] [INFO] [LastChance] Threat detected: @Area2D@3293
[12:08:40] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(313.0003, 378.6302), source=ENEMY (Enemy1), range=1469, listeners=10
[12:08:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=4
[12:08:40] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(586.487, 940.2492), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(544.1492, 865.9868), shooter_id=527911881935, bullet_pos=(508.1448, 576.551)
[12:08:40] [INFO] [Bullet] Using shooter_position, distance=291.666534423828
[12:08:40] [INFO] [Bullet] Distance to wall: 291.666534423828 (19.8601106563831% of viewport)
[12:08:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:40] [INFO] [LastChance] Threat detected: @Area2D@3295
[12:08:40] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:40] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(597.0948, 941.368), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(553.086, 871.6471), shooter_id=527911881935, bullet_pos=(516.4313, 582.293)
[12:08:40] [INFO] [Bullet] Using shooter_position, distance=291.666564941406
[12:08:40] [INFO] [Bullet] Distance to wall: 291.666564941406 (19.8601127343811% of viewport)
[12:08:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:40] [INFO] [LastChance] Threat detected: @Area2D@3297
[12:08:40] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:40] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(607.7026, 942.4868), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(544.1492, 865.9868), shooter_id=527911881935, bullet_pos=(502.4125, 687.6533)
[12:08:40] [INFO] [Bullet] Using shooter_position, distance=183.152374267578
[12:08:40] [INFO] [Bullet] Distance to wall: 183.152374267578 (12.4711819513985% of viewport)
[12:08:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:40] [INFO] [Bullet] Starting wall penetration at (502.4125, 687.6533)
[12:08:40] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:08:40] [INFO] [Bullet] Exiting penetration at (500.33, 728.0162) after traveling 35.4166679382324 pixels through wall
[12:08:40] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[12:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(561.7424, 877.3251), shooter_id=527911881935, bullet_pos=(522.8438, 588.2641)
[12:08:40] [INFO] [Bullet] Using shooter_position, distance=291.666564941406
[12:08:40] [INFO] [Bullet] Distance to wall: 291.666564941406 (19.8601127343811% of viewport)
[12:08:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:40] [INFO] [LastChance] Threat detected: @Area2D@3299
[12:08:40] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:40] [INFO] [LastChance] Threat detected: @Area2D@3294
[12:08:40] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[12:08:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:40] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[12:08:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(618.3104, 943.6055), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(553.086, 871.6471), shooter_id=527911881935, bullet_pos=(497.7909, 691.9702)
[12:08:40] [INFO] [Bullet] Using shooter_position, distance=187.992950439453
[12:08:40] [INFO] [Bullet] Distance to wall: 187.992950439453 (12.8007856839762% of viewport)
[12:08:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:08:40] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[12:08:40] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:08:40] [INFO] [LastChance] Threat detected: @Area2D@3302
[12:08:40] [INFO] [LastChance] Triggering last chance effect!
[12:08:40] [INFO] [LastChance] Starting last chance effect:
[12:08:40] [INFO] [LastChance]   - Time will be frozen (except player)
[12:08:40] [INFO] [LastChance]   - Duration: 6.0 real seconds
[12:08:40] [INFO] [LastChance]   - Sepia intensity: 0.70
[12:08:40] [INFO] [LastChance]   - Brightness: 0.60
[12:08:40] [INFO] [LastChance] Pushed bullet @Area2D@3291 from distance 99.2 to 200.0
[12:08:40] [INFO] [LastChance] Pushed bullet @Area2D@3294 from distance 34.7 to 200.0
[12:08:40] [INFO] [LastChance] Pushed bullet @Area2D@3299 from distance 37.2 to 200.0
[12:08:40] [INFO] [LastChance] Pushed bullet @Area2D@3302 from distance 122.4 to 200.0
[12:08:40] [INFO] [LastChance] Pushed 4 threatening bullets away from player
[12:08:40] [INFO] [LastChance] Set player Player and all 17 children to PROCESS_MODE_ALWAYS
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[12:08:40] [INFO] [LastChance] Skipping player node: Player
[12:08:40] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[12:08:40] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[12:08:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(566.1801, 734.0663), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:44] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[12:08:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(566.1801, 734.0663), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:45] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[12:08:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(923.56976, 708.07733)
[12:08:46] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:46] [INFO] [Bullet] Using shooter_position, distance=1163,7675
[12:08:46] [INFO] [Bullet] Distance to wall: 1163,7675 (79,24307% of viewport)
[12:08:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(1380.6731, 351.18146)
[12:08:46] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:46] [INFO] [Bullet] Using shooter_position, distance=1424,6356
[12:08:46] [INFO] [Bullet] Distance to wall: 1424,6356 (97,006065% of viewport)
[12:08:46] [INFO] [Bullet] Distance-based penetration chance: 33,492935%
[12:08:46] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:46] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[12:08:46] [INFO] [LastChance] Ending last chance effect
[12:08:46] [INFO] [LastChance] All process modes restored
[12:08:46] [INFO] [LastChance] Threat detected: @Area2D@3302
[12:08:46] [INFO] [LastChance] Effect already used this life
[12:08:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(588.0931, 887.3348), shooter_id=527911881935, bullet_pos=(519.8096, 804.751)
[12:08:46] [INFO] [Bullet] Using shooter_position, distance=107.157379150391
[12:08:46] [INFO] [Bullet] Distance to wall: 107.157379150391 (7.29654299139537% of viewport)
[12:08:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(350.5612, 431.5825), shooter_id=527341454567, bullet_pos=(477.8665, 709.4069)
[12:08:46] [INFO] [Bullet] Using shooter_position, distance=305.602783203125
[12:08:46] [INFO] [Bullet] Distance to wall: 305.602783203125 (20.8090554622673% of viewport)
[12:08:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:46] [INFO] [Bullet] Starting wall penetration at (477.8665, 709.4069)
[12:08:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 43.5273323059082
[12:08:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(541.3216, 864.7274), shooter_id=527911881935, bullet_pos=(386.7591, 45.85318)
[12:08:46] [INFO] [Bullet] Using shooter_position, distance=833.333374023438
[12:08:46] [INFO] [Bullet] Distance to wall: 833.333374023438 (56.7432018022102% of viewport)
[12:08:46] [INFO] [Bullet] Distance-based penetration chance: 80.4662645640881%
[12:08:46] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:46] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:46] [INFO] [Bullet] Exiting penetration at (504.171, 747.9536) after traveling 41.6666679382324 pixels through wall
[12:08:46] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:46] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[12:08:46] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[12:08:46] [INFO] [PenultimateHit] Player died - ending penultimate effect
[12:08:46] [INFO] [LastChance] Player died
[12:08:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(654.8434, 941.4724), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[12:08:46] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:08:46] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:08:46] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:08:46] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:08:46] [INFO] [Player] Ready! Grenades: 1/3
[12:08:46] [INFO] [ScoreManager] Level started with 10 enemies
[12:08:46] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:08:46] [ENEMY] [Enemy1] Registered as sound listener
[12:08:46] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[12:08:46] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:08:46] [ENEMY] [Enemy2] Registered as sound listener
[12:08:46] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[12:08:46] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:08:46] [ENEMY] [Enemy3] Registered as sound listener
[12:08:46] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[12:08:46] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:08:46] [ENEMY] [Enemy4] Registered as sound listener
[12:08:46] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[12:08:46] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:08:46] [ENEMY] [Enemy5] Registered as sound listener
[12:08:46] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[12:08:46] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:08:46] [ENEMY] [Enemy6] Registered as sound listener
[12:08:46] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[12:08:46] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:08:46] [ENEMY] [Enemy7] Registered as sound listener
[12:08:46] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[12:08:46] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:08:46] [ENEMY] [Enemy8] Registered as sound listener
[12:08:46] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[12:08:46] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:08:46] [ENEMY] [Enemy9] Registered as sound listener
[12:08:46] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[12:08:46] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:08:46] [ENEMY] [Enemy10] Registered as sound listener
[12:08:46] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[12:08:46] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:08:46] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:08:46] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:08:46] [INFO] [LastChance] Found player: Player
[12:08:46] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:08:46] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:08:46] [INFO] [LastChance] Connected to player Died signal (C#)
[12:08:47] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[12:08:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.528, 1518.106), source=ENEMY (Enemy10), range=1469, listeners=20
[12:08:47] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[12:08:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1113.222, 1497.771), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.749, 1476.207), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:48] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:08:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=596262259073, bullet_pos=(64.61339, 850.4285)
[12:08:48] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:08:48] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:08:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=596262259073, bullet_pos=(234.4218, 714.519)
[12:08:48] [INFO] [Bullet] Using shooter_position, distance=1154.83471679688
[12:08:48] [INFO] [Bullet] Distance to wall: 1154.83471679688 (78.6348194204932% of viewport)
[12:08:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=596262259073, bullet_pos=(60.65509, 787.2949)
[12:08:48] [INFO] [Bullet] Using shooter_position, distance=1208.33386230469
[12:08:48] [INFO] [Bullet] Distance to wall: 1208.33386230469 (82.2776746143741% of viewport)
[12:08:48] [INFO] [Bullet] Distance-based penetration chance: 50.6760462832302%
[12:08:48] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:48] [INFO] [LastChance] Threat detected: Bullet
[12:08:48] [INFO] [LastChance] Not in hard mode - effect disabled
[12:08:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.362, 1444.423), shooter_id=596262259073, bullet_pos=(59.01187, 724.3607)
[12:08:48] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[12:08:48] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[12:08:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=596262259073, bullet_pos=(501.768, 918.2838)
[12:08:48] [INFO] [Bullet] Using shooter_position, distance=820.456665039063
[12:08:48] [INFO] [Bullet] Distance to wall: 820.456665039063 (55.8664030092842% of viewport)
[12:08:48] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:08:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(414.0648, 792.5295), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:48] [ENEMY] [Enemy1] Heard gunshot at (414.0648, 792.5295), source_type=0, intensity=0.01, distance=457
[12:08:48] [ENEMY] [Enemy2] Heard gunshot at (414.0648, 792.5295), source_type=0, intensity=0.04, distance=243
[12:08:48] [ENEMY] [Enemy4] Heard gunshot at (414.0648, 792.5295), source_type=0, intensity=0.02, distance=401
[12:08:48] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:08:48] [ENEMY] [Enemy3] Hit taken, health: 3/4
[12:08:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.6541, 758.6073), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(387.1426, 777.0953), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:48] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:08:48] [INFO] [LastChance] Threat detected: @Area2D@3569
[12:08:48] [INFO] [LastChance] Not in hard mode - effect disabled
[12:08:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:49] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[12:08:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=596262259073, bullet_pos=(62.99203, 1191.281)
[12:08:49] [INFO] [Bullet] Using shooter_position, distance=1068.98962402344
[12:08:49] [INFO] [Bullet] Distance to wall: 1068.98962402344 (72.7894691983436% of viewport)
[12:08:49] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[12:08:49] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[12:08:49] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[12:08:49] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[12:08:49] [ENEMY] [Enemy3] Hit taken, health: 2/4
[12:08:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.6541, 758.6073), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(371.7201, 768.4717), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:08:49] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:08:49] [INFO] [LastChance] Threat detected: @Area2D@3573
[12:08:49] [INFO] [LastChance] Not in hard mode - effect disabled
[12:08:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:49] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:08:49] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[12:08:49] [INFO] [PenultimateHit] Starting penultimate hit effect:
[12:08:49] [INFO] [PenultimateHit]   - Time scale: 0.10
[12:08:49] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[12:08:49] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[12:08:49] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[12:08:49] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[12:08:49] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[12:08:49] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:08:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.3163, 766.5799), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:49] [ENEMY] [Enemy3] Hit taken, health: 1/4
[12:08:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(367.9563, 766.3673), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:08:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(585.4415, 784.8305), shooter_id=594265770396, bullet_pos=(524.2477, 797.5417)
[12:08:49] [INFO] [Bullet] Using shooter_position, distance=62.5000915527344
[12:08:49] [INFO] [Bullet] Distance to wall: 62.5000915527344 (4.25574616136% of viewport)
[12:08:49] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[12:08:49] [INFO] [Bullet] Starting wall penetration at (524.2477, 797.5417)
[12:08:49] [INFO] [Bullet] Raycast forward hit penetrating body at distance 2.92053985595703
[12:08:49] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:08:49] [INFO] [Bullet] Exiting penetration at (511.193, 800.2534) after traveling 8.33333301544189 pixels through wall
[12:08:49] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(638.3325, 778.8043), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:50] [INFO] [LastChance] Threat detected: @Area2D@3579
[12:08:50] [INFO] [LastChance] Not in hard mode - effect disabled
[12:08:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:50] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[12:08:50] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[12:08:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=596262259073, bullet_pos=(515.7219, 1384.41)
[12:08:51] [INFO] [Bullet] Using shooter_position, distance=583.182861328125
[12:08:51] [INFO] [Bullet] Distance to wall: 583.182861328125 (39.7099934065541% of viewport)
[12:08:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(909.3083, 747.9274)
[12:08:51] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:51] [INFO] [Bullet] Using shooter_position, distance=1177,3856
[12:08:51] [INFO] [Bullet] Distance to wall: 1177,3856 (80,17036% of viewport)
[12:08:51] [INFO] [Bullet] Distance-based penetration chance: 53,134583%
[12:08:51] [INFO] [Bullet] Starting wall penetration at (909.3083, 747.9274)
[12:08:51] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:08:51] [INFO] [Bullet] Exiting penetration at (918.46967, 747.61536) after traveling 4,166667 pixels through wall
[12:08:51] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:08:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(586.6159, 787.017), shooter_id=594265770396, bullet_pos=(66.32431, 810.7597)
[12:08:51] [INFO] [Bullet] Using shooter_position, distance=520.833068847656
[12:08:51] [INFO] [Bullet] Distance to wall: 520.833068847656 (35.4644813854003% of viewport)
[12:08:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:51] [INFO] [Bullet] Starting wall penetration at (66.32431, 810.7597)
[12:08:51] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:08:51] [INFO] [Bullet] Exiting penetration at (57.16717, 811.1776) after traveling 4.16666698455811 pixels through wall
[12:08:51] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:52] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[12:08:52] [INFO] [PenultimateHit] Ending penultimate hit effect
[12:08:52] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:08:52] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:08:52] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:08:52] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:08:52] [INFO] [Player] Ready! Grenades: 1/3
[12:08:52] [INFO] [ScoreManager] Level started with 10 enemies
[12:08:52] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:08:52] [ENEMY] [Enemy1] Registered as sound listener
[12:08:52] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[12:08:52] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:08:52] [ENEMY] [Enemy2] Registered as sound listener
[12:08:52] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[12:08:52] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:08:52] [ENEMY] [Enemy3] Registered as sound listener
[12:08:52] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[12:08:52] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:08:52] [ENEMY] [Enemy4] Registered as sound listener
[12:08:52] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[12:08:52] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:08:52] [ENEMY] [Enemy5] Registered as sound listener
[12:08:52] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[12:08:52] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:08:52] [ENEMY] [Enemy6] Registered as sound listener
[12:08:52] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[12:08:52] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:08:52] [ENEMY] [Enemy7] Registered as sound listener
[12:08:52] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[12:08:52] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:08:52] [ENEMY] [Enemy8] Registered as sound listener
[12:08:52] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[12:08:52] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:08:52] [ENEMY] [Enemy9] Registered as sound listener
[12:08:52] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[12:08:52] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:08:52] [ENEMY] [Enemy10] Registered as sound listener
[12:08:52] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[12:08:52] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:08:52] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:08:52] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:08:52] [INFO] [LastChance] Found player: Player
[12:08:52] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:08:52] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:08:52] [INFO] [LastChance] Connected to player Died signal (C#)
[12:08:52] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[12:08:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.627, 1517.938), source=ENEMY (Enemy10), range=1469, listeners=20
[12:08:53] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[12:08:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1113.467, 1497.38), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.982, 1475.831), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:53] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:08:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.288, 1490.672), shooter_id=707495201407, bullet_pos=(33.67726, 821.2054)
[12:08:53] [INFO] [Bullet] Using shooter_position, distance=1249.99963378906
[12:08:53] [INFO] [Bullet] Distance to wall: 1249.99963378906 (85.1147736113431% of viewport)
[12:08:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1059.125, 1467.658), shooter_id=707495201407, bullet_pos=(65.00549, 780.7833)
[12:08:53] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[12:08:53] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[12:08:53] [INFO] [Bullet] Distance-based penetration chance: 50.6760947698504%
[12:08:53] [INFO] [Bullet] Starting wall penetration at (65.00549, 780.7833)
[12:08:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.288, 1490.672), shooter_id=707495201407, bullet_pos=(218.5246, 706.5854)
[12:08:53] [INFO] [Bullet] Using shooter_position, distance=1171.75952148438
[12:08:53] [INFO] [Bullet] Distance to wall: 1171.75952148438 (79.7872604936366% of viewport)
[12:08:53] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6.54910516738892
[12:08:53] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:53] [INFO] [Bullet] Exiting penetration at (26.61193, 754.2557) after traveling 41.6666679382324 pixels through wall
[12:08:53] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.222, 1444.782), shooter_id=707495201407, bullet_pos=(49.93296, 736.9236)
[12:08:53] [INFO] [Bullet] Using shooter_position, distance=1208.33410644531
[12:08:53] [INFO] [Bullet] Distance to wall: 1208.33410644531 (82.2776912383582% of viewport)
[12:08:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.222, 1444.782), shooter_id=707495201407, bullet_pos=(117.4641, 702.4236)
[12:08:53] [INFO] [Bullet] Using shooter_position, distance=1175.75476074219
[12:08:53] [INFO] [Bullet] Distance to wall: 1175.75476074219 (80.0593036812983% of viewport)
[12:08:53] [INFO] [Bullet] Distance-based penetration chance: 53.264145705152%
[12:08:53] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.288, 1490.672), shooter_id=707495201407, bullet_pos=(497.5876, 832.2251)
[12:08:53] [INFO] [Bullet] Using shooter_position, distance=885.246520996094
[12:08:53] [INFO] [Bullet] Distance to wall: 885.246520996094 (60.2780634394382% of viewport)
[12:08:53] [INFO] [Bullet] Distance-based penetration chance: 76.3422593206554%
[12:08:53] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:54] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:08:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(484.5886, 765.0591), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:54] [ENEMY] [Enemy1] Heard gunshot at (484.5886, 765.0591), source_type=0, intensity=0.01, distance=454
[12:08:54] [ENEMY] [Enemy2] Heard gunshot at (484.5886, 765.0591), source_type=0, intensity=0.05, distance=231
[12:08:54] [ENEMY] [Enemy4] Heard gunshot at (484.5886, 765.0591), source_type=0, intensity=0.02, distance=343
[12:08:54] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:08:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:54] [INFO] [LastChance] Threat detected: @Area2D@3842
[12:08:54] [INFO] [LastChance] Not in hard mode - effect disabled
[12:08:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:54] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[12:08:54] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[12:08:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(512.9769, 751.2548), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:54] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[12:08:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(923.39514, 815.2435)
[12:08:54] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:54] [INFO] [Bullet] Using shooter_position, distance=1231,7794
[12:08:54] [INFO] [Bullet] Distance to wall: 1231,7794 (83,87413% of viewport)
[12:08:54] [INFO] [Bullet] Distance-based penetration chance: 48,813522%
[12:08:54] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:54] [INFO] [LastChance] Threat detected: @Area2D@3844
[12:08:54] [INFO] [LastChance] Not in hard mode - effect disabled
[12:08:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(542.2076, 753.1689), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:54] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[12:08:54] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:08:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:54] [INFO] [LastChance] Threat detected: @Area2D@3846
[12:08:54] [INFO] [LastChance] Not in hard mode - effect disabled
[12:08:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:54] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[12:08:54] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[12:08:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[12:08:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[12:08:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(570.1471, 771.3652), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:54] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[12:08:54] [INFO] [LastChance] Threat detected: @Area2D@3847
[12:08:54] [INFO] [LastChance] Not in hard mode - effect disabled
[12:08:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(931.3088, 845.9064)
[12:08:54] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:54] [INFO] [Bullet] Using shooter_position, distance=1258,131
[12:08:54] [INFO] [Bullet] Distance to wall: 1258,131 (85,66846% of viewport)
[12:08:54] [ENEMY] [Enemy3] Hit taken, health: 3/4
[12:08:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(702.7226, 772.9701), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:54] [INFO] [LastChance] Threat detected: @Area2D@3850
[12:08:54] [INFO] [LastChance] Not in hard mode - effect disabled
[12:08:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:54] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[12:08:54] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:08:54] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[12:08:54] [INFO] [PenultimateHit] Starting penultimate hit effect:
[12:08:54] [INFO] [PenultimateHit]   - Time scale: 0.10
[12:08:54] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[12:08:54] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[12:08:54] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[12:08:54] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[12:08:54] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[12:08:54] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:08:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[12:08:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[12:08:54] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[12:08:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(645.6315, 786.5506), shooter_id=705498712149, bullet_pos=(521.272, 799.1874)
[12:08:54] [INFO] [Bullet] Using shooter_position, distance=124.999954223633
[12:08:54] [INFO] [Bullet] Distance to wall: 124.999954223633 (8.51147673773491% of viewport)
[12:08:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:54] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[12:08:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(591.9274, 795.8936), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:54] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[12:08:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(1362.7997, 941.3919)
[12:08:54] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:54] [INFO] [Bullet] Using shooter_position, distance=1656,3339
[12:08:54] [INFO] [Bullet] Distance to wall: 1656,3339 (112,78282% of viewport)
[12:08:54] [ENEMY] [Enemy4] Hit taken, health: 2/3
[12:08:55] [ENEMY] [Enemy3] Hit taken, health: 2/4
[12:08:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(429.7077, 599.4988), shooter_id=705213499264, bullet_pos=(497.4959, 684.002)
[12:08:55] [INFO] [Bullet] Using shooter_position, distance=108.332946777344
[12:08:55] [INFO] [Bullet] Distance to wall: 108.332946777344 (7.37658955279286% of viewport)
[12:08:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:55] [INFO] [Bullet] Starting wall penetration at (497.4959, 684.002)
[12:08:55] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:08:55] [INFO] [Bullet] Exiting penetration at (503.2318, 691.1523) after traveling 4.16666650772095 pixels through wall
[12:08:55] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:55] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[12:08:55] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[12:08:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(725.6436, 785.464), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(1226.7455, 996.16943)
[12:08:55] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:55] [INFO] [Bullet] Using shooter_position, distance=1580,2715
[12:08:55] [INFO] [Bullet] Distance to wall: 1580,2715 (107,6036% of viewport)
[12:08:55] [INFO] [Bullet] Distance-based penetration chance: 28,47928%
[12:08:55] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:55] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[12:08:55] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[12:08:55] [INFO] [PenultimateHit] Player died - ending penultimate effect
[12:08:55] [INFO] [PenultimateHit] Ending penultimate hit effect
[12:08:55] [INFO] [LastChance] Player died
[12:08:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(744.5029, 785.9335), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(695.804, 813.8665), shooter_id=705498712149, bullet_pos=(695.804, 813.8665)
[12:08:55] [INFO] [Bullet] Using shooter_position, distance=0
[12:08:55] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[12:08:55] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[12:08:55] [INFO] [Bullet] Starting wall penetration at (695.804, 813.8665)
[12:08:55] [INFO] [LastChance] Threat detected: Bullet
[12:08:55] [INFO] [LastChance] Not in hard mode - effect disabled
[12:08:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:55] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[12:08:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.6193447113037
[12:08:55] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:55] [INFO] [Bullet] Exiting penetration at (652.541, 831.3621) after traveling 41.6666679382324 pixels through wall
[12:08:55] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(645.6315, 786.5506), shooter_id=705498712149, bullet_pos=(38.24326, 808.8183)
[12:08:55] [INFO] [Bullet] Using shooter_position, distance=607.796264648438
[12:08:55] [INFO] [Bullet] Distance to wall: 607.796264648438 (41.3859652986919% of viewport)
[12:08:55] [INFO] [Bullet] Distance-based penetration chance: 98.3830404848594%
[12:08:55] [INFO] [Bullet] Starting wall penetration at (38.24326, 808.8183)
[12:08:55] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[12:08:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.1721725463867
[12:08:55] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:55] [INFO] [Bullet] Exiting penetration at (-2.165382, 809.6239) after traveling 35.4166717529297 pixels through wall
[12:08:55] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[12:08:55] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[12:08:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(807.6938, 942.0654), source=ENEMY (Enemy4), range=1469, listeners=10
[12:08:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[12:08:55] [INFO] [LastChance] Threat detected: Bullet
[12:08:55] [INFO] [LastChance] Not in hard mode - effect disabled
[12:08:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(750.3925, 926.1049), shooter_id=705783925232, bullet_pos=(502.969, 890.3045)
[12:08:55] [INFO] [Bullet] Using shooter_position, distance=250.000076293945
[12:08:55] [INFO] [Bullet] Distance to wall: 250.000076293945 (17.0229649044589% of viewport)
[12:08:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:55] [INFO] [Bullet] Starting wall penetration at (502.969, 890.3045)
[12:08:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(839.0337, 955.1556), source=ENEMY (Enemy4), range=1469, listeners=10
[12:08:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[12:08:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 43.6667594909668
[12:08:55] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:55] [INFO] [Bullet] Exiting penetration at (456.7833, 883.6218) after traveling 41.6666679382324 pixels through wall
[12:08:55] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:08:55] [INFO] [LastChance] Threat detected: @Area2D@3862
[12:08:55] [INFO] [LastChance] Not in hard mode - effect disabled
[12:08:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:56] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:08:56] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:08:56] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:08:56] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:08:56] [INFO] [Player] Ready! Grenades: 1/3
[12:08:56] [INFO] [ScoreManager] Level started with 10 enemies
[12:08:56] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:08:56] [ENEMY] [Enemy1] Registered as sound listener
[12:08:56] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[12:08:56] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:08:56] [ENEMY] [Enemy2] Registered as sound listener
[12:08:56] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[12:08:56] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:08:56] [ENEMY] [Enemy3] Registered as sound listener
[12:08:56] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[12:08:56] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:08:56] [ENEMY] [Enemy4] Registered as sound listener
[12:08:56] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[12:08:56] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:08:56] [ENEMY] [Enemy5] Registered as sound listener
[12:08:56] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[12:08:56] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:08:56] [ENEMY] [Enemy6] Registered as sound listener
[12:08:56] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[12:08:56] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:08:56] [ENEMY] [Enemy7] Registered as sound listener
[12:08:56] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[12:08:56] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:08:56] [ENEMY] [Enemy8] Registered as sound listener
[12:08:56] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[12:08:56] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:08:56] [ENEMY] [Enemy9] Registered as sound listener
[12:08:56] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[12:08:56] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:08:56] [ENEMY] [Enemy10] Registered as sound listener
[12:08:56] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[12:08:56] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:08:56] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:08:56] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:08:56] [INFO] [LastChance] Found player: Player
[12:08:56] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:08:56] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:08:56] [INFO] [LastChance] Connected to player Died signal (C#)
[12:08:56] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:08:56] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:08:56] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:08:56] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:08:56] [INFO] [Player] Ready! Grenades: 1/3
[12:08:56] [INFO] [ScoreManager] Level started with 10 enemies
[12:08:56] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[12:08:56] [ENEMY] [Enemy1] Registered as sound listener
[12:08:56] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[12:08:56] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[12:08:56] [ENEMY] [Enemy2] Registered as sound listener
[12:08:56] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[12:08:56] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[12:08:56] [ENEMY] [Enemy3] Registered as sound listener
[12:08:56] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[12:08:56] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[12:08:56] [ENEMY] [Enemy4] Registered as sound listener
[12:08:56] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[12:08:56] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[12:08:56] [ENEMY] [Enemy5] Registered as sound listener
[12:08:56] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[12:08:56] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[12:08:56] [ENEMY] [Enemy6] Registered as sound listener
[12:08:56] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[12:08:56] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[12:08:56] [ENEMY] [Enemy7] Registered as sound listener
[12:08:56] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[12:08:56] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[12:08:56] [ENEMY] [Enemy8] Registered as sound listener
[12:08:56] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[12:08:56] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[12:08:56] [ENEMY] [Enemy9] Registered as sound listener
[12:08:56] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[12:08:56] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[12:08:56] [ENEMY] [Enemy10] Registered as sound listener
[12:08:56] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[12:08:56] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:08:56] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:08:56] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:08:56] [INFO] [LastChance] Found player: Player
[12:08:56] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:08:56] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:08:56] [INFO] [LastChance] Connected to player Died signal (C#)
[12:08:56] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[12:08:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.528, 1518.106), source=ENEMY (Enemy10), range=1469, listeners=30
[12:08:56] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[12:08:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1113.222, 1497.771), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.749, 1476.207), source=ENEMY (Enemy10), range=1469, listeners=10
[12:08:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:08:57] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:08:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=788143277754, bullet_pos=(64.61339, 850.4285)
[12:08:57] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:08:57] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:08:57] [INFO] [Bullet] Distance-based penetration chance: 50.6761238618226%
[12:08:57] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=788143277754, bullet_pos=(60.65509, 787.2949)
[12:08:57] [INFO] [Bullet] Using shooter_position, distance=1208.33386230469
[12:08:57] [INFO] [Bullet] Distance to wall: 1208.33386230469 (82.2776746143741% of viewport)
[12:08:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=788143277754, bullet_pos=(188.6069, 715.6051)
[12:08:57] [INFO] [Bullet] Using shooter_position, distance=1150.57800292969
[12:08:57] [INFO] [Bullet] Distance to wall: 1150.57800292969 (78.3449719458698% of viewport)
[12:08:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.362, 1444.423), shooter_id=788143277754, bullet_pos=(59.01187, 724.3607)
[12:08:57] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[12:08:57] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[12:08:57] [INFO] [LastChance] Threat detected: @Area2D@4367
[12:08:57] [INFO] [LastChance] Not in hard mode - effect disabled
[12:08:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:57] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:08:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=788143277754, bullet_pos=(517.4975, 876.7575)
[12:08:57] [INFO] [Bullet] Using shooter_position, distance=801.864135742188
[12:08:57] [INFO] [Bullet] Distance to wall: 801.864135742188 (54.6004035008132% of viewport)
[12:08:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.8477, 776.932), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:57] [ENEMY] [Enemy1] Heard gunshot at (451.8477, 776.932), source_type=0, intensity=0.01, distance=453
[12:08:57] [ENEMY] [Enemy2] Heard gunshot at (451.8477, 776.932), source_type=0, intensity=0.05, distance=233
[12:08:57] [ENEMY] [Enemy4] Heard gunshot at (451.8477, 776.932), source_type=0, intensity=0.02, distance=369
[12:08:57] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:08:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.362, 1444.423), shooter_id=788143277754, bullet_pos=(505.6331, 427.5552)
[12:08:57] [INFO] [Bullet] Using shooter_position, distance=1143.81469726563
[12:08:57] [INFO] [Bullet] Distance to wall: 1143.81469726563 (77.8844460265813% of viewport)
[12:08:57] [ENEMY] [Enemy3] Hit taken, health: 1/2
[12:08:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.5667, 752.2189), source=ENEMY (Enemy3), range=1469, listeners=10
[12:08:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:08:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(464.5364, 748.0681), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:08:57] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:08:57] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[12:08:57] [INFO] [LastChance] Threat detected: Bullet
[12:08:57] [INFO] [LastChance] Not in hard mode - effect disabled
[12:08:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:08:57] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[12:08:57] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[12:08:57] [ENEMY] [Enemy3] Hit taken, health: 0/2
[12:08:57] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[12:08:57] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[12:08:57] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[12:08:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(486.9579, 734.3974), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:08:57] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[12:08:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.362, 1444.423), shooter_id=788143277754, bullet_pos=(63.04943, 225.1589)
[12:08:58] [INFO] [Bullet] Using shooter_position, distance=1555.75207519531
[12:08:58] [INFO] [Bullet] Distance to wall: 1555.75207519531 (105.934019575858% of viewport)
[12:08:58] [INFO] [Bullet] Distance-based penetration chance: 28.8131960848283%
[12:08:58] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:58] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[12:08:58] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[12:08:58] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:08:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(512.3081, 745.9813), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:08:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[12:08:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(633.7867, 758.1911), shooter_id=786146790235, bullet_pos=(50.71169, 740.8338)
[12:08:58] [INFO] [Bullet] Using shooter_position, distance=583.333374023438
[12:08:58] [INFO] [Bullet] Distance to wall: 583.333374023438 (39.7202420927463% of viewport)
[12:08:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:08:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(928.5659, 741.6182)
[12:08:58] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:58] [INFO] [Bullet] Using shooter_position, distance=1188,3738
[12:08:58] [INFO] [Bullet] Distance to wall: 1188,3738 (80,91856% of viewport)
[12:08:58] [INFO] [Bullet] Distance-based penetration chance: 52,26169%
[12:08:58] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(539.3235, 771.4667), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:08:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[12:08:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(911.8331, 726.4918)
[12:08:58] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:58] [INFO] [Bullet] Using shooter_position, distance=1165,8602
[12:08:58] [INFO] [Bullet] Distance to wall: 1165,8602 (79,38557% of viewport)
[12:08:58] [INFO] [Bullet] Distance-based penetration chance: 54,05017%
[12:08:58] [INFO] [Bullet] Starting wall penetration at (911.8331, 726.4918)
[12:08:58] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[12:08:58] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[12:08:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,471085
[12:08:58] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:58] [INFO] [Bullet] Exiting penetration at (958.4444, 724.2181) after traveling 41,666668 pixels through wall
[12:08:58] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:08:58] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[12:08:58] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[12:08:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(937.59406, 734.3124)
[12:08:58] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:58] [INFO] [Bullet] Using shooter_position, distance=1190,9229
[12:08:58] [INFO] [Bullet] Distance to wall: 1190,9229 (81,09213% of viewport)
[12:08:58] [INFO] [Bullet] Distance-based penetration chance: 52,059185%
[12:08:58] [INFO] [Bullet] Penetration failed (distance roll)
[12:08:58] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[12:08:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(569.7499, 945.8638), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:08:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:08:58] [ENEMY] [Enemy4] Hit taken, health: 1/2
[12:08:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(578.3727, 980.792), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:08:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[12:08:58] [ENEMY] [Enemy4] Hit taken, health: 0/2
[12:08:58] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[12:08:58] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[12:08:58] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[12:08:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(601.6849, 989.9327), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:08:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[12:08:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(638.531, 989.9327), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:08:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=7
[12:08:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(914.81433, 815.7118)
[12:08:59] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:59] [INFO] [Bullet] Using shooter_position, distance=1225,6716
[12:08:59] [INFO] [Bullet] Distance to wall: 1225,6716 (83,45824% of viewport)
[12:08:59] [INFO] [Bullet] Distance-based penetration chance: 49,29872%
[12:08:59] [INFO] [Bullet] Starting wall penetration at (914.81433, 815.7118)
[12:08:59] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,422647
[12:08:59] [INFO] [Bullet] Body exited signal received for penetrating body
[12:08:59] [INFO] [Bullet] Exiting penetration at (955.594, 793.0226) after traveling 41,66667 pixels through wall
[12:08:59] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:08:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(753.46844, 893.55115)
[12:08:59] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:59] [INFO] [Bullet] Using shooter_position, distance=1168,8235
[12:08:59] [INFO] [Bullet] Distance to wall: 1168,8235 (79,58734% of viewport)
[12:08:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(677.031, 989.9327), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:08:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=7
[12:08:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(855.59406, 998.81976)
[12:08:59] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:59] [INFO] [Bullet] Using shooter_position, distance=1315,1738
[12:08:59] [INFO] [Bullet] Distance to wall: 1315,1738 (89,552605% of viewport)
[12:08:59] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:08:59] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[12:08:59] [INFO] [PenultimateHit] Starting penultimate hit effect:
[12:08:59] [INFO] [PenultimateHit]   - Time scale: 0.10
[12:08:59] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[12:08:59] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[12:08:59] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[12:08:59] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[12:08:59] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[12:08:59] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:08:59] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[12:08:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(908.14734, 930.3901)
[12:08:59] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:08:59] [INFO] [Bullet] Using shooter_position, distance=1300,1375
[12:08:59] [INFO] [Bullet] Distance to wall: 1300,1375 (88,528755% of viewport)
[12:08:59] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[12:08:59] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[12:08:59] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[12:08:59] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[12:08:59] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[12:08:59] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[12:09:00] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[12:09:00] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[12:09:00] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[12:09:00] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[12:09:00] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[12:09:00] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[12:09:00] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[12:09:00] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[12:09:00] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[12:09:00] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[12:09:00] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(726.5717, 974.9817), source=PLAYER (Player), range=900, listeners=8
[12:09:00] [ENEMY] [Enemy10] Heard player RELOAD at (726.5717, 974.9817), intensity=0.01, distance=496
[12:09:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[12:09:00] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=736), can_see=false
[12:09:00] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=589), can_see=false
[12:09:00] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1157), can_see=false
[12:09:00] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1331), can_see=false
[12:09:00] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=975), can_see=false
[12:09:00] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1266), can_see=false
[12:09:00] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1489), can_see=false
[12:09:00] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=496), can_see=true
[12:09:00] [ENEMY] [Enemy10] Player vulnerable (reloading) - pursuing to attack (dist=496)
[12:09:00] [ENEMY] [Enemy10] Pursuing vulnerability sound at (726.5717, 974.9817), distance=496
[12:09:01] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(735.1746, 969.8356), source=PLAYER (Player), range=900, listeners=8
[12:09:01] [ENEMY] [Enemy10] Heard player RELOAD at (735.1746, 969.8356), intensity=0.01, distance=486
[12:09:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[12:09:01] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=738), can_see=false
[12:09:01] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=606), can_see=false
[12:09:01] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1142), can_see=false
[12:09:01] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1317), can_see=false
[12:09:01] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=962), can_see=false
[12:09:01] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1258), can_see=false
[12:09:01] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1481), can_see=false
[12:09:01] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=482), can_see=false
[12:09:01] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[12:09:01] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[12:09:01] [ENEMY] [Enemy10] Player vulnerable (reloading) - pursuing to attack (dist=473)
[12:09:01] [ENEMY] [Enemy10] Pursuing vulnerability sound at (735.1746, 969.8356), distance=468
[12:09:01] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=737), can_see=false
[12:09:01] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=614), can_see=false
[12:09:01] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1129), can_see=false
[12:09:01] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1304), can_see=false
[12:09:01] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=952), can_see=false
[12:09:01] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1252), can_see=false
[12:09:01] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1476), can_see=false
[12:09:01] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=473), can_see=true
[12:09:02] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[12:09:02] [INFO] [PenultimateHit] Ending penultimate hit effect
[12:09:02] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=733), can_see=false
[12:09:02] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=610), can_see=false
[12:09:02] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1116), can_see=false
[12:09:02] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1293), can_see=false
[12:09:02] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=944), can_see=false
[12:09:02] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1251), can_see=false
[12:09:02] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1474), can_see=false
[12:09:02] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=468), can_see=true
[12:09:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(515.4471, 409.43158)
[12:09:02] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:02] [INFO] [Bullet] Using shooter_position, distance=658,2704
[12:09:02] [INFO] [Bullet] Distance to wall: 658,2704 (44,82284% of viewport)
[12:09:02] [ENEMY] [Enemy7] Player vulnerable (reloading) - pursuing to attack (dist=837)
[12:09:02] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[12:09:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(741.82306, 57.733887)
[12:09:02] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:02] [INFO] [Bullet] Using shooter_position, distance=744,0663
[12:09:02] [INFO] [Bullet] Distance to wall: 744,0663 (50,66484% of viewport)
[12:09:02] [ENEMY] [Enemy10] Player vulnerable (reloading) - pursuing to attack (dist=421)
[12:09:02] [ENEMY] [Enemy10] Pursuing vulnerability sound at (735.1746, 969.8356), distance=340
[12:09:02] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=698), can_see=false
[12:09:02] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=580), can_see=false
[12:09:02] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1060), can_see=false
[12:09:02] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1246), can_see=false
[12:09:02] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=838), can_see=false
[12:09:02] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1261), can_see=false
[12:09:02] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1485), can_see=false
[12:09:02] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=422), can_see=true
[12:09:02] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[12:09:03] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[12:09:03] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[12:09:03] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=592), can_see=false
[12:09:03] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=458), can_see=false
[12:09:03] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=996), can_see=false
[12:09:03] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1208), can_see=false
[12:09:03] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=718), can_see=true
[12:09:03] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1351), can_see=false
[12:09:03] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1574), can_see=false
[12:09:03] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=494), can_see=true
[12:09:03] [ENEMY] [Enemy10] Pursuing vulnerability sound at (735.1746, 969.8356), distance=224
[12:09:03] [ENEMY] [Enemy10] Player vulnerable (reloading) - pursuing to attack (dist=445)
[12:09:03] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=441), can_see=false
[12:09:03] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=true (dist=216), can_see=false
[12:09:03] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1118), can_see=false
[12:09:03] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1341), can_see=false
[12:09:03] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=842), can_see=false
[12:09:03] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1502), can_see=false
[12:09:03] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1725), can_see=false
[12:09:03] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=441), can_see=true
[12:09:03] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[12:09:03] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(461.155, 1026.731), source=ENEMY (Enemy10), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(456.9747, 1023.419), source=ENEMY (Enemy10), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(452.7943, 1020.107), source=ENEMY (Enemy10), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4392
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4393
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(463.4416, 974.3312), shooter_id=788143277754, bullet_pos=(521.6139, 603.8705)
[12:09:04] [INFO] [Bullet] Using shooter_position, distance=375.000122070313
[12:09:04] [INFO] [Bullet] Distance to wall: 375.000122070313 (25.5344478761878% of viewport)
[12:09:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:04] [INFO] [Bullet] Starting wall penetration at (521.6139, 603.8705)
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31.284839630127
[12:09:04] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:04] [INFO] [Bullet] Exiting penetration at (528.8531, 557.7688) after traveling 41.6666641235352 pixels through wall
[12:09:04] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(459.1714, 971.0105), shooter_id=788143277754, bullet_pos=(516.5481, 600.4257)
[12:09:04] [INFO] [Bullet] Using shooter_position, distance=375.000213623047
[12:09:04] [INFO] [Bullet] Distance to wall: 375.000213623047 (25.5344541101819% of viewport)
[12:09:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:04] [INFO] [Bullet] Starting wall penetration at (516.5481, 600.4257)
[12:09:04] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=true (dist=318), can_see=false
[12:09:04] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=true (dist=118), can_see=false
[12:09:04] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1283), can_see=false
[12:09:04] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1510), can_see=false
[12:09:04] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1007), can_see=false
[12:09:04] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1649), can_see=false
[12:09:04] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1873), can_see=false
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:09:04] [INFO] [Bullet] Exiting penetration at (523.6883, 554.3085) after traveling 41.6666679382324 pixels through wall
[12:09:04] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4395
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4396
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4397
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(461.1737, 591.3923), shooter_id=785861576758, bullet_pos=(449.0634, 715.8043)
[12:09:04] [INFO] [Bullet] Using shooter_position, distance=124.999946594238
[12:09:04] [INFO] [Bullet] Distance to wall: 124.999946594238 (8.51147621823541% of viewport)
[12:09:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:04] [INFO] [Bullet] Starting wall penetration at (449.0634, 715.8043)
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4398
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:09:04] [INFO] [Bullet] Exiting penetration at (444.5422, 762.2514) after traveling 41.6666717529297 pixels through wall
[12:09:04] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[12:09:04] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[12:09:04] [INFO] [PenultimateHit] Player died - ending penultimate effect
[12:09:04] [INFO] [LastChance] Player died
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4400
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4401
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4402
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(404.5737, 662.6094), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=2
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4403
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4405
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4406
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(467.71, 977.6519), shooter_id=788143277754, bullet_pos=(618.368, 31.23496)
[12:09:04] [INFO] [Bullet] Using shooter_position, distance=958.333312988281
[12:09:04] [INFO] [Bullet] Distance to wall: 958.333312988281 (65.2546775009461% of viewport)
[12:09:04] [INFO] [Bullet] Distance-based penetration chance: 70.5362095822296%
[12:09:04] [INFO] [Bullet] Penetration failed (distance roll)
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4407
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4409
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=true (dist=288), can_see=false
[12:09:04] [INFO] [LastChance] Threat detected: Bullet
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4410
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4411
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4412
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.4244, 582.4622), shooter_id=785861576758, bullet_pos=(362.5416, 684.7258)
[12:09:04] [INFO] [Bullet] Using shooter_position, distance=124.999984741211
[12:09:04] [INFO] [Bullet] Distance to wall: 124.999984741211 (8.51147881573292% of viewport)
[12:09:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:04] [INFO] [LastChance] Threat detected: Bullet
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4414
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[12:09:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.1777, 581.8948), shooter_id=785861576758, bullet_pos=(333.2204, 715.2603)
[12:09:04] [INFO] [Bullet] Using shooter_position, distance=166.666763305664
[12:09:04] [INFO] [Bullet] Distance to wall: 166.666763305664 (11.3486463866363% of viewport)
[12:09:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4415
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(431.9884, 581.3215), shooter_id=785861576758, bullet_pos=(328.1844, 711.715)
[12:09:04] [INFO] [Bullet] Using shooter_position, distance=166.666549682617
[12:09:04] [INFO] [Bullet] Distance to wall: 166.666549682617 (11.3486318406502% of viewport)
[12:09:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4417
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy1] FLANKING started: target=(144.2688, 609.2214), side=left, pos=(264.1301, 401.9333)
[12:09:04] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(430.855, 580.7447), shooter_id=785861576758, bullet_pos=(323.4575, 708.1949)
[12:09:04] [INFO] [Bullet] Using shooter_position, distance=166.666717529297
[12:09:04] [INFO] [Bullet] Distance to wall: 166.666717529297 (11.3486432696393% of viewport)
[12:09:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4419
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4421
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4422
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy1] State: FLANKING -> COMBAT
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4423
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.0667, 538.5399), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [LastChance] Threat detected: @Area2D@4424
[12:09:04] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:04] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=true (dist=261), can_see=false
[12:09:04] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=true (dist=212), can_see=false
[12:09:04] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1449), can_see=false
[12:09:04] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1679), can_see=false
[12:09:04] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1173), can_see=false
[12:09:04] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1801), can_see=false
[12:09:04] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2024), can_see=false
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(431.9884, 581.3215), shooter_id=785861576758, bullet_pos=(66.60542, 416.2958)
[12:09:04] [INFO] [Bullet] Using shooter_position, distance=400.921661376953
[12:09:04] [INFO] [Bullet] Distance to wall: 400.921661376953 (27.2994931530847% of viewport)
[12:09:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:04] [INFO] [Bullet] Starting wall penetration at (66.60542, 416.2958)
[12:09:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.1777, 581.8948), shooter_id=785861576758, bullet_pos=(65.04483, 379.1326)
[12:09:04] [INFO] [Bullet] Using shooter_position, distance=420.278839111328
[12:09:04] [INFO] [Bullet] Distance to wall: 420.278839111328 (28.6175589797295% of viewport)
[12:09:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:09:04] [INFO] [Bullet] Exiting penetration at (39.81221, 386.0364) after traveling 35.4166641235352 pixels through wall
[12:09:04] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[12:09:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(430.855, 580.7447), shooter_id=785861576758, bullet_pos=(55.49074, 418.5575)
[12:09:04] [INFO] [Bullet] Using shooter_position, distance=408.904724121094
[12:09:04] [INFO] [Bullet] Distance to wall: 408.904724121094 (27.8430745748912% of viewport)
[12:09:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [ENEMY] [Enemy7] FLANKING started: target=(400.6069, 507.7172), side=left, pos=(1430.636, 901.5384)
[12:09:04] [ENEMY] [Enemy7] State: PURSUING -> FLANKING
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:09:04] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:09:04] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:09:04] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:09:04] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:09:04] [INFO] [Player] Ready! Grenades: 1/3
[12:09:05] [INFO] [ScoreManager] Level started with 10 enemies
[12:09:05] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[12:09:05] [ENEMY] [Enemy1] Registered as sound listener
[12:09:05] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[12:09:05] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[12:09:05] [ENEMY] [Enemy2] Registered as sound listener
[12:09:05] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[12:09:05] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[12:09:05] [ENEMY] [Enemy3] Registered as sound listener
[12:09:05] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[12:09:05] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[12:09:05] [ENEMY] [Enemy4] Registered as sound listener
[12:09:05] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[12:09:05] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[12:09:05] [ENEMY] [Enemy5] Registered as sound listener
[12:09:05] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[12:09:05] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[12:09:05] [ENEMY] [Enemy6] Registered as sound listener
[12:09:05] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[12:09:05] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[12:09:05] [ENEMY] [Enemy7] Registered as sound listener
[12:09:05] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[12:09:05] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[12:09:05] [ENEMY] [Enemy8] Registered as sound listener
[12:09:05] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[12:09:05] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[12:09:05] [ENEMY] [Enemy9] Registered as sound listener
[12:09:05] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[12:09:05] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[12:09:05] [ENEMY] [Enemy10] Registered as sound listener
[12:09:05] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[12:09:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(449.6667, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=18
[12:09:05] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[12:09:05] [ENEMY] [Enemy4] Heard gunshot at (449.6667, 1256), source_type=0, intensity=0.01, distance=499
[12:09:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[12:09:05] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:09:05] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:09:05] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:09:05] [INFO] [LastChance] Found player: Player
[12:09:05] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:09:05] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:09:05] [INFO] [LastChance] Connected to player Died signal (C#)
[12:09:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(440.6667, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=5
[12:09:05] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:09:05] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[12:09:05] [INFO] [PenultimateHit] Starting penultimate hit effect:
[12:09:05] [INFO] [PenultimateHit]   - Time scale: 0.10
[12:09:05] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[12:09:05] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[12:09:05] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[12:09:05] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[12:09:05] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[12:09:05] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:09:06] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:09:06] [INFO] [PenultimateHit] Ending penultimate hit effect
[12:09:06] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:09:06] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:09:06] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:09:06] [INFO] [Player] Ready! Grenades: 1/3
[12:09:06] [INFO] [ScoreManager] Level started with 10 enemies
[12:09:06] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:09:06] [ENEMY] [Enemy1] Registered as sound listener
[12:09:06] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[12:09:06] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:09:06] [ENEMY] [Enemy2] Registered as sound listener
[12:09:06] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[12:09:06] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:09:06] [ENEMY] [Enemy3] Registered as sound listener
[12:09:06] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[12:09:06] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:09:06] [ENEMY] [Enemy4] Registered as sound listener
[12:09:06] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[12:09:06] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:09:06] [ENEMY] [Enemy5] Registered as sound listener
[12:09:06] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[12:09:06] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:09:06] [ENEMY] [Enemy6] Registered as sound listener
[12:09:06] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[12:09:06] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:09:06] [ENEMY] [Enemy7] Registered as sound listener
[12:09:06] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[12:09:06] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:09:06] [ENEMY] [Enemy8] Registered as sound listener
[12:09:06] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[12:09:06] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:09:06] [ENEMY] [Enemy9] Registered as sound listener
[12:09:06] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[12:09:06] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:09:06] [ENEMY] [Enemy10] Registered as sound listener
[12:09:06] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[12:09:06] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:09:06] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:09:06] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:09:06] [INFO] [LastChance] Found player: Player
[12:09:06] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:09:06] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:09:06] [INFO] [LastChance] Connected to player Died signal (C#)
[12:09:06] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[12:09:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.528, 1518.106), source=ENEMY (Enemy10), range=1469, listeners=20
[12:09:06] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[12:09:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:09:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1113.222, 1497.771), source=ENEMY (Enemy10), range=1469, listeners=10
[12:09:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:09:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.71, 1476.261), source=ENEMY (Enemy10), range=1469, listeners=10
[12:09:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:09:07] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:09:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=975930657290, bullet_pos=(64.61339, 850.4285)
[12:09:07] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:09:07] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:09:07] [INFO] [Bullet] Distance-based penetration chance: 50.6761238618226%
[12:09:07] [INFO] [Bullet] Starting wall penetration at (64.61339, 850.4285)
[12:09:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8.19846057891846
[12:09:07] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:07] [INFO] [Bullet] Exiting penetration at (25.04935, 825.6805) after traveling 41.6666717529297 pixels through wall
[12:09:07] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:07] [INFO] [LastChance] Threat detected: @Area2D@4934
[12:09:07] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=975930657290, bullet_pos=(60.65509, 787.2949)
[12:09:07] [INFO] [Bullet] Using shooter_position, distance=1208.33386230469
[12:09:07] [INFO] [Bullet] Distance to wall: 1208.33386230469 (82.2776746143741% of viewport)
[12:09:07] [INFO] [Bullet] Distance-based penetration chance: 50.6760462832302%
[12:09:07] [INFO] [Bullet] Penetration failed (distance roll)
[12:09:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.099, 1444.918), shooter_id=975930657290, bullet_pos=(53.37347, 732.156)
[12:09:07] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[12:09:07] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[12:09:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.099, 1444.918), shooter_id=975930657290, bullet_pos=(113.6495, 686.1396)
[12:09:07] [INFO] [Bullet] Using shooter_position, distance=1189.02978515625
[12:09:07] [INFO] [Bullet] Distance to wall: 1189.02978515625 (80.9632245042692% of viewport)
[12:09:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.099, 1444.918), shooter_id=975930657290, bullet_pos=(67.3555, 640.2159)
[12:09:07] [INFO] [Bullet] Using shooter_position, distance=1253.99169921875
[12:09:07] [INFO] [Bullet] Distance to wall: 1253.99169921875 (85.3866006872116% of viewport)
[12:09:07] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:09:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(364.44, 811.6067), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:07] [ENEMY] [Enemy1] Heard gunshot at (364.44, 811.6067), source_type=0, intensity=0.01, distance=466
[12:09:07] [ENEMY] [Enemy2] Heard gunshot at (364.44, 811.6067), source_type=0, intensity=0.04, distance=264
[12:09:07] [ENEMY] [Enemy4] Heard gunshot at (364.44, 811.6067), source_type=0, intensity=0.01, distance=444
[12:09:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:09:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.099, 1444.918), shooter_id=975930657290, bullet_pos=(221.5325, 429.7623)
[12:09:07] [INFO] [Bullet] Using shooter_position, distance=1297.19091796875
[12:09:07] [INFO] [Bullet] Distance to wall: 1297.19091796875 (88.3281149282578% of viewport)
[12:09:07] [ENEMY] [Enemy3] Hit taken, health: 3/4
[12:09:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(366.2877, 773.8721), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:09:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.6865, 758.5029), source=ENEMY (Enemy3), range=1469, listeners=10
[12:09:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[12:09:07] [INFO] [LastChance] Threat detected: Bullet
[12:09:07] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.099, 1444.918), shooter_id=975930657290, bullet_pos=(66.55503, 240.9729)
[12:09:07] [INFO] [Bullet] Using shooter_position, distance=1541.41943359375
[12:09:07] [INFO] [Bullet] Distance to wall: 1541.41943359375 (104.958083653804% of viewport)
[12:09:07] [INFO] [Bullet] Distance-based penetration chance: 29.0083832692392%
[12:09:07] [INFO] [Bullet] Penetration failed (distance roll)
[12:09:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(380.3341, 742.9863), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:09:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(615.3561, 758.3569), source=ENEMY (Enemy3), range=1469, listeners=10
[12:09:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[12:09:08] [INFO] [LastChance] Threat detected: @Area2D@4943
[12:09:08] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:08] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:09:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(923.3357, 669.90643)
[12:09:08] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:08] [INFO] [Bullet] Using shooter_position, distance=1140,7556
[12:09:08] [INFO] [Bullet] Distance to wall: 1140,7556 (77,67615% of viewport)
[12:09:08] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[12:09:08] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[12:09:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(405.9671, 734.0663), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:08] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:09:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(612.7245, 765.9117), source=ENEMY (Enemy3), range=1469, listeners=10
[12:09:08] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[12:09:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(579.8909, 767.2234), shooter_id=973934169105, bullet_pos=(38.29586, 776.0355)
[12:09:08] [INFO] [Bullet] Using shooter_position, distance=541.666809082031
[12:09:08] [INFO] [Bullet] Distance to wall: 541.666809082031 (36.8830890678291% of viewport)
[12:09:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:08] [ENEMY] [Enemy3] Hit taken, health: 2/4
[12:09:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(609.2156, 775.9847), source=ENEMY (Enemy3), range=1469, listeners=10
[12:09:08] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[12:09:08] [INFO] [LastChance] Threat detected: @Area2D@4949
[12:09:08] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(443.6796, 734.0663), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:08] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:09:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(987.5734, 706.51575)
[12:09:08] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:08] [INFO] [Bullet] Using shooter_position, distance=1214,2758
[12:09:08] [INFO] [Bullet] Distance to wall: 1214,2758 (82,68227% of viewport)
[12:09:08] [INFO] [Bullet] Distance-based penetration chance: 50,20402%
[12:09:08] [INFO] [Bullet] Starting wall penetration at (987.5734, 706.51575)
[12:09:08] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:09:08] [INFO] [Bullet] Exiting penetration at (1034.1561, 703.718) after traveling 41,666668 pixels through wall
[12:09:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:09:08] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[12:09:08] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[12:09:08] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[12:09:08] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[12:09:08] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[12:09:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(556.7803, 774.7156), shooter_id=973934169105, bullet_pos=(56.87344, 784.366)
[12:09:08] [INFO] [Bullet] Using shooter_position, distance=500.000030517578
[12:09:08] [INFO] [Bullet] Distance to wall: 500.000030517578 (34.0459214969257% of viewport)
[12:09:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:08] [INFO] [Bullet] Starting wall penetration at (56.87344, 784.366)
[12:09:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(481.4147, 735.9141), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:08] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:09:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21.7885971069336
[12:09:08] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:08] [INFO] [Bullet] Exiting penetration at (10.21546, 785.2667) after traveling 41.6666717529297 pixels through wall
[12:09:08] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(922.4961, 799.98895)
[12:09:08] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:08] [INFO] [Bullet] Using shooter_position, distance=1221,0575
[12:09:08] [INFO] [Bullet] Distance to wall: 1221,0575 (83,14405% of viewport)
[12:09:08] [INFO] [Bullet] Distance-based penetration chance: 49,66528%
[12:09:08] [INFO] [Bullet] Starting wall penetration at (922.4961, 799.98895)
[12:09:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33,035336
[12:09:08] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:08] [INFO] [Bullet] Exiting penetration at (968.7266, 806.3539) after traveling 41,66667 pixels through wall
[12:09:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:09:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(513.6642, 751.0042), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:08] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[12:09:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(908.9336, 846.8059)
[12:09:08] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:08] [INFO] [Bullet] Using shooter_position, distance=1242,2723
[12:09:08] [INFO] [Bullet] Distance to wall: 1242,2723 (84,58861% of viewport)
[12:09:08] [INFO] [Bullet] Distance-based penetration chance: 47,979958%
[12:09:08] [INFO] [Bullet] Starting wall penetration at (908.9336, 846.8059)
[12:09:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,704554
[12:09:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(697.2408, 806.1019)
[12:09:08] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:08] [INFO] [Bullet] Using shooter_position, distance=1065,8073
[12:09:08] [INFO] [Bullet] Distance to wall: 1065,8073 (72,57278% of viewport)
[12:09:08] [INFO] [Bullet] Distance-based penetration chance: 61,99843%
[12:09:08] [INFO] [Bullet] Penetration failed (distance roll)
[12:09:08] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:08] [INFO] [Bullet] Exiting penetration at (954.1054, 858.52277) after traveling 41,66667 pixels through wall
[12:09:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:09:08] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[12:09:08] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[12:09:08] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[12:09:08] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[12:09:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(576.3358, 927.9689), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:09] [ENEMY] [Enemy3] Heard gunshot at (576.3358, 927.9689), source_type=0, intensity=0.37, distance=82
[12:09:09] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[12:09:09] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:09:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(722.29443, 893.38464)
[12:09:09] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:09] [INFO] [Bullet] Using shooter_position, distance=1148,8452
[12:09:09] [INFO] [Bullet] Distance to wall: 1148,8452 (78,22698% of viewport)
[12:09:09] [INFO] [Bullet] Distance-based penetration chance: 55,401855%
[12:09:09] [INFO] [Bullet] Starting wall penetration at (722.29443, 893.38464)
[12:09:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7,917101
[12:09:09] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:09] [INFO] [Bullet] Exiting penetration at (767.7038, 882.62506) after traveling 41,666668 pixels through wall
[12:09:09] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:09:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(665.41, 948.4804), source=ENEMY (Enemy3), range=1469, listeners=10
[12:09:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:09:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(598.6262, 955.03), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:09] [ENEMY] [Enemy3] Heard gunshot at (598.6262, 955.03), source_type=0, intensity=0.51, distance=70
[12:09:09] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[12:09:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(609.1617, 961.4913), shooter_id=973934169105, bullet_pos=(526.1792, 969.1302)
[12:09:09] [INFO] [Bullet] Using shooter_position, distance=83.3333358764648
[12:09:09] [INFO] [Bullet] Distance to wall: 83.3333358764648 (5.67432007632112% of viewport)
[12:09:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:09] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:09:09] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[12:09:09] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[12:09:09] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:09:09] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[12:09:09] [INFO] [PenultimateHit] Starting penultimate hit effect:
[12:09:09] [INFO] [PenultimateHit]   - Time scale: 0.10
[12:09:09] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[12:09:09] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[12:09:09] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[12:09:09] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[12:09:09] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[12:09:09] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:09:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(728.02893, 879.16876)
[12:09:09] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:09] [INFO] [Bullet] Using shooter_position, distance=1141,4744
[12:09:09] [INFO] [Bullet] Distance to wall: 1141,4744 (77,72509% of viewport)
[12:09:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(620.5941, 966.605), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:09] [ENEMY] [Enemy3] Heard gunshot at (620.5941, 966.605), source_type=0, intensity=0.87, distance=53
[12:09:09] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[12:09:09] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:09:09] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[12:09:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(706.5034, 893.9701)
[12:09:09] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:09] [INFO] [Bullet] Using shooter_position, distance=1139,4426
[12:09:09] [INFO] [Bullet] Distance to wall: 1139,4426 (77,58675% of viewport)
[12:09:10] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:09:10] [INFO] [PenultimateHit] Ending penultimate hit effect
[12:09:10] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:09:10] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:09:10] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:09:10] [INFO] [Player] Ready! Grenades: 1/3
[12:09:10] [INFO] [ScoreManager] Level started with 10 enemies
[12:09:10] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:09:10] [ENEMY] [Enemy1] Registered as sound listener
[12:09:10] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[12:09:10] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:09:10] [ENEMY] [Enemy2] Registered as sound listener
[12:09:10] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[12:09:10] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:09:10] [ENEMY] [Enemy3] Registered as sound listener
[12:09:10] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[12:09:10] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:09:10] [ENEMY] [Enemy4] Registered as sound listener
[12:09:10] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[12:09:10] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:09:10] [ENEMY] [Enemy5] Registered as sound listener
[12:09:10] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[12:09:10] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:09:10] [ENEMY] [Enemy6] Registered as sound listener
[12:09:10] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[12:09:10] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:09:10] [ENEMY] [Enemy7] Registered as sound listener
[12:09:10] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[12:09:10] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:09:10] [ENEMY] [Enemy8] Registered as sound listener
[12:09:10] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[12:09:10] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:09:10] [ENEMY] [Enemy9] Registered as sound listener
[12:09:10] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[12:09:10] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:09:10] [ENEMY] [Enemy10] Registered as sound listener
[12:09:10] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[12:09:10] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:09:10] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:09:10] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:09:10] [INFO] [LastChance] Found player: Player
[12:09:10] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:09:10] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:09:10] [INFO] [LastChance] Connected to player Died signal (C#)
[12:09:10] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[12:09:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.528, 1518.106), source=ENEMY (Enemy10), range=1469, listeners=20
[12:09:10] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[12:09:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:09:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1113.222, 1497.771), source=ENEMY (Enemy10), range=1469, listeners=10
[12:09:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:09:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.749, 1476.207), source=ENEMY (Enemy10), range=1469, listeners=10
[12:09:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:09:10] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:09:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=1060387163391, bullet_pos=(64.61339, 850.4285)
[12:09:11] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:09:11] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:09:11] [INFO] [LastChance] Threat detected: @Area2D@5215
[12:09:11] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=1060387163391, bullet_pos=(60.65509, 787.2949)
[12:09:11] [INFO] [Bullet] Using shooter_position, distance=1208.33386230469
[12:09:11] [INFO] [Bullet] Distance to wall: 1208.33386230469 (82.2776746143741% of viewport)
[12:09:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=1060387163391, bullet_pos=(317.7159, 712.3152)
[12:09:11] [INFO] [Bullet] Using shooter_position, distance=1096.19360351563
[12:09:11] [INFO] [Bullet] Distance to wall: 1096.19360351563 (74.6418381856739% of viewport)
[12:09:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=1060387163391, bullet_pos=(223.7687, 706.3732)
[12:09:11] [INFO] [Bullet] Using shooter_position, distance=1130.42517089844
[12:09:11] [INFO] [Bullet] Distance to wall: 1130.42517089844 (76.9727285550716% of viewport)
[12:09:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.35, 1444.443), shooter_id=1060387163391, bullet_pos=(58.73874, 724.7313)
[12:09:11] [INFO] [Bullet] Using shooter_position, distance=1208.33386230469
[12:09:11] [INFO] [Bullet] Distance to wall: 1208.33386230469 (82.2776746143741% of viewport)
[12:09:11] [INFO] [Bullet] Distance-based penetration chance: 50.6760462832302%
[12:09:11] [INFO] [Bullet] Starting wall penetration at (58.73874, 724.7313)
[12:09:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13.3790721893311
[12:09:11] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:11] [INFO] [Bullet] Exiting penetration at (21.25306, 696.9356) after traveling 41.6666641235352 pixels through wall
[12:09:11] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=1060387163391, bullet_pos=(498.7567, 829.6323)
[12:09:11] [INFO] [Bullet] Using shooter_position, distance=886.644470214844
[12:09:11] [INFO] [Bullet] Distance to wall: 886.644470214844 (60.3732523723448% of viewport)
[12:09:11] [INFO] [LastChance] Threat detected: Bullet
[12:09:11] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=1060387163391, bullet_pos=(512.2892, 878.8546)
[12:09:11] [INFO] [Bullet] Using shooter_position, distance=803.849426269531
[12:09:11] [INFO] [Bullet] Distance to wall: 803.849426269531 (54.7355855834475% of viewport)
[12:09:11] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:09:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(337.2163, 795.383), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:11] [ENEMY] [Enemy1] Heard gunshot at (337.2163, 795.383), source_type=0, intensity=0.01, distance=447
[12:09:11] [ENEMY] [Enemy2] Heard gunshot at (337.2163, 795.383), source_type=0, intensity=0.04, distance=253
[12:09:11] [ENEMY] [Enemy4] Heard gunshot at (337.2163, 795.383), source_type=0, intensity=0.01, distance=474
[12:09:11] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:09:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=1060387163391, bullet_pos=(52.73094, 1035.354)
[12:09:11] [INFO] [Bullet] Using shooter_position, distance=1132.1455078125
[12:09:11] [INFO] [Bullet] Distance to wall: 1132.1455078125 (77.0898694589707% of viewport)
[12:09:11] [INFO] [Bullet] Distance-based penetration chance: 56.7284856312008%
[12:09:11] [INFO] [Bullet] Starting wall penetration at (52.73094, 1035.354)
[12:09:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7.75878047943115
[12:09:11] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:11] [INFO] [Bullet] Exiting penetration at (24.95454, 1048.165) after traveling 25.5885429382324 pixels through wall
[12:09:11] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[12:09:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.7209, 758.8775), source=ENEMY (Enemy3), range=1469, listeners=10
[12:09:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:09:11] [ENEMY] [Enemy3] Hit taken, health: 1/2
[12:09:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(340.2101, 758.2795), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:11] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:09:11] [INFO] [LastChance] Threat detected: Bullet
[12:09:11] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(599.4197, 758.0046), source=ENEMY (Enemy3), range=1469, listeners=10
[12:09:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[12:09:11] [ENEMY] [Enemy3] Hit taken, health: 0/2
[12:09:11] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[12:09:11] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[12:09:11] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[12:09:11] [INFO] [LastChance] Threat detected: @Area2D@5225
[12:09:11] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(354.4541, 734.0682), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[12:09:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(580.1336, 768.305), shooter_id=1058390673054, bullet_pos=(38.69236, 783.9282)
[12:09:12] [INFO] [Bullet] Using shooter_position, distance=541.666564941406
[12:09:12] [INFO] [Bullet] Distance to wall: 541.666564941406 (36.883072443845% of viewport)
[12:09:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(382.6977, 734.0682), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:12] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[12:09:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(541.1791, 760.5732), shooter_id=1058390673054, bullet_pos=(43.19162, 715.7556)
[12:09:12] [INFO] [Bullet] Using shooter_position, distance=500.000122070313
[12:09:12] [INFO] [Bullet] Distance to wall: 500.000122070313 (34.0459277309198% of viewport)
[12:09:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:12] [INFO] [Bullet] Starting wall penetration at (43.19162, 715.7556)
[12:09:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35.4298133850098
[12:09:12] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:12] [INFO] [Bullet] Exiting penetration at (-3.287201, 711.5726) after traveling 41.6666679382324 pixels through wall
[12:09:12] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(921.02234, 723.5063)
[12:09:12] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:12] [INFO] [Bullet] Using shooter_position, distance=1171,2146
[12:09:12] [INFO] [Bullet] Distance to wall: 1171,2146 (79,75015% of viewport)
[12:09:12] [INFO] [Bullet] Distance-based penetration chance: 53,62482%
[12:09:12] [INFO] [Bullet] Starting wall penetration at (921.02234, 723.5063)
[12:09:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,68641
[12:09:12] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:12] [INFO] [Bullet] Exiting penetration at (967.6809, 722.6365) after traveling 41,666668 pixels through wall
[12:09:12] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:09:12] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[12:09:12] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[12:09:12] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[12:09:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(1360.8213, 835.1604)
[12:09:12] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:12] [INFO] [Bullet] Using shooter_position, distance=1596,6614
[12:09:12] [INFO] [Bullet] Distance to wall: 1596,6614 (108,71961% of viewport)
[12:09:12] [INFO] [Bullet] Distance-based penetration chance: 28,256079%
[12:09:12] [INFO] [Bullet] Penetration failed (distance roll)
[12:09:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(620.3328, 926.6606), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:09:13] [ENEMY] [Enemy4] Hit taken, health: 1/2
[12:09:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(646.0519, 954.5074), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:09:13] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[12:09:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(919.3432, 923.8982)
[12:09:13] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:13] [INFO] [Bullet] Using shooter_position, distance=1303,3724
[12:09:13] [INFO] [Bullet] Distance to wall: 1303,3724 (88,74902% of viewport)
[12:09:13] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[12:09:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(676.8474, 973.1081), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=7
[12:09:13] [ENEMY] [Enemy4] Hit taken, health: 0/2
[12:09:13] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[12:09:13] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[12:09:13] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[12:09:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(713.6708, 977.1555), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=7
[12:09:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(927.3301, 804.02313)
[12:09:13] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:13] [INFO] [Bullet] Using shooter_position, distance=1227,3525
[12:09:13] [INFO] [Bullet] Distance to wall: 1227,3525 (83,57269% of viewport)
[12:09:13] [INFO] [Bullet] Distance-based penetration chance: 49,165195%
[12:09:13] [INFO] [Bullet] Penetration failed (distance roll)
[12:09:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(752.1708, 977.1555), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[12:09:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(925.6361, 821.09686)
[12:09:13] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:13] [INFO] [Bullet] Using shooter_position, distance=1237,3368
[12:09:13] [INFO] [Bullet] Distance to wall: 1237,3368 (84,25254% of viewport)
[12:09:13] [INFO] [Bullet] Distance-based penetration chance: 48,372036%
[12:09:13] [INFO] [Bullet] Starting wall penetration at (925.6361, 821.09686)
[12:09:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32,725903
[12:09:13] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:13] [INFO] [Bullet] Exiting penetration at (960.32916, 789.88513) after traveling 41,666676 pixels through wall
[12:09:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:09:13] [ENEMY] [Enemy7] State: IDLE -> COMBAT
[12:09:14] [ENEMY] [Enemy10] FLANKING started: target=(681.2557, 975.0156), side=right, pos=(953.1761, 1417.052)
[12:09:14] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[12:09:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(736.8324, 720.2282), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[12:09:14] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[12:09:14] [ENEMY] [Enemy2] Hit taken, health: 3/4
[12:09:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(701.9688, 714.6442), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[12:09:15] [ENEMY] [Enemy2] Hit taken, health: 2/4
[12:09:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(670.0954, 724.7405), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[12:09:15] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[12:09:15] [ENEMY] [Enemy2] Hit taken, health: 1/4
[12:09:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.136, 749.2543), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[12:09:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(439.1981, 650.9458), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[12:09:15] [ENEMY] [Enemy2] Hit taken, health: 0/4
[12:09:15] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[12:09:15] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[12:09:15] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[12:09:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(614.7847, 776.17), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:09:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=4
[12:09:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(488.90692, 694.59326)
[12:09:15] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:15] [INFO] [Bullet] Using shooter_position, distance=849,4056
[12:09:15] [INFO] [Bullet] Distance to wall: 849,4056 (57,83759% of viewport)
[12:09:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(583.2762, 792.5938), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:09:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=3
[12:09:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(501.249, 667.235), shooter_id=1058105461369, bullet_pos=(937.02, 809.2669)
[12:09:15] [INFO] [Bullet] Using shooter_position, distance=458.333251953125
[12:09:15] [INFO] [Bullet] Distance to wall: 458.333251953125 (31.2087539260224% of viewport)
[12:09:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:15] [INFO] [Bullet] Starting wall penetration at (937.02, 809.2669)
[12:09:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 47.7393913269043
[12:09:15] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:15] [INFO] [Bullet] Exiting penetration at (981.3893, 823.7283) after traveling 41.6666679382324 pixels through wall
[12:09:15] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(329.13953, 431.3683)
[12:09:15] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:15] [INFO] [Bullet] Using shooter_position, distance=542,5969
[12:09:15] [INFO] [Bullet] Distance to wall: 542,5969 (36,946426% of viewport)
[12:09:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:15] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[12:09:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(510.56268, 207.26608)
[12:09:15] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:15] [INFO] [Bullet] Using shooter_position, distance=551,0295
[12:09:15] [INFO] [Bullet] Distance to wall: 551,0295 (37,52061% of viewport)
[12:09:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:15] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[12:09:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(420.4444, 44.984436)
[12:09:15] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:15] [INFO] [Bullet] Using shooter_position, distance=422,84402
[12:09:15] [INFO] [Bullet] Distance to wall: 422,84402 (28,792229% of viewport)
[12:09:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:15] [INFO] [Bullet] Starting wall penetration at (420.4444, 44.984436)
[12:09:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,251995
[12:09:15] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:15] [INFO] [Bullet] Exiting penetration at (403.40182, 14.294806) after traveling 30,104166 pixels through wall
[12:09:15] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[12:09:15] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[12:09:15] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:09:16] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[12:09:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(472.8181, 1011.525), source=ENEMY (Enemy10), range=1469, listeners=7
[12:09:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[12:09:16] [INFO] [LastChance] Threat detected: Bullet
[12:09:16] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(452.4766, 950.0721), shooter_id=1060387163391, bullet_pos=(381.8676, 710.2504)
[12:09:16] [INFO] [Bullet] Using shooter_position, distance=250.000106811523
[12:09:16] [INFO] [Bullet] Distance to wall: 250.000106811523 (17.0229669824569% of viewport)
[12:09:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:16] [INFO] [Bullet] Starting wall penetration at (381.8676, 710.2504)
[12:09:16] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[12:09:16] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[12:09:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(461.9134, 975.82), source=ENEMY (Enemy10), range=1469, listeners=7
[12:09:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=2
[12:09:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23.4719257354736
[12:09:16] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:16] [INFO] [Bullet] Exiting penetration at (368.6873, 665.4837) after traveling 41.6666679382324 pixels through wall
[12:09:16] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:16] [INFO] [LastChance] Threat detected: @Area2D@5252
[12:09:16] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(441.1934, 914.5595), shooter_id=1060387163391, bullet_pos=(381.7758, 714.879)
[12:09:16] [INFO] [Bullet] Using shooter_position, distance=208.333251953125
[12:09:16] [INFO] [Bullet] Distance to wall: 208.333251953125 (14.1857942165585% of viewport)
[12:09:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:16] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[12:09:16] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[12:09:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(457.2248, 960.5225), source=ENEMY (Enemy10), range=1469, listeners=7
[12:09:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=2
[12:09:16] [INFO] [LastChance] Threat detected: Bullet
[12:09:16] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:16] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:09:16] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[12:09:16] [INFO] [PenultimateHit] Starting penultimate hit effect:
[12:09:16] [INFO] [PenultimateHit]   - Time scale: 0.10
[12:09:16] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[12:09:16] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[12:09:16] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[12:09:16] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[12:09:16] [INFO] [PenultimateHit] Applying saturation to 8 enemies
[12:09:16] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:09:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(457.2248, 960.5225), source=ENEMY (Enemy10), range=1469, listeners=7
[12:09:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=2
[12:09:17] [INFO] [LastChance] Threat detected: Bullet
[12:09:17] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:09:17] [INFO] [PenultimateHit] Ending penultimate hit effect
[12:09:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:09:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:09:17] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:09:17] [INFO] [Player] Ready! Grenades: 1/3
[12:09:17] [INFO] [ScoreManager] Level started with 10 enemies
[12:09:17] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 8)
[12:09:17] [ENEMY] [Enemy1] Registered as sound listener
[12:09:17] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[12:09:17] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 9)
[12:09:17] [ENEMY] [Enemy2] Registered as sound listener
[12:09:17] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[12:09:17] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 10)
[12:09:17] [ENEMY] [Enemy3] Registered as sound listener
[12:09:17] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[12:09:17] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 11)
[12:09:17] [ENEMY] [Enemy4] Registered as sound listener
[12:09:17] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[12:09:17] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 12)
[12:09:17] [ENEMY] [Enemy5] Registered as sound listener
[12:09:17] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[12:09:17] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 13)
[12:09:17] [ENEMY] [Enemy6] Registered as sound listener
[12:09:17] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[12:09:17] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 14)
[12:09:17] [ENEMY] [Enemy7] Registered as sound listener
[12:09:17] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[12:09:17] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 15)
[12:09:17] [ENEMY] [Enemy8] Registered as sound listener
[12:09:17] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[12:09:17] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 16)
[12:09:17] [ENEMY] [Enemy9] Registered as sound listener
[12:09:17] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[12:09:17] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 17)
[12:09:17] [ENEMY] [Enemy10] Registered as sound listener
[12:09:17] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[12:09:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:09:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:09:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:09:17] [INFO] [LastChance] Found player: Player
[12:09:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:09:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:09:17] [INFO] [LastChance] Connected to player Died signal (C#)
[12:09:17] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[12:09:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.528, 1518.106), source=ENEMY (Enemy10), range=1469, listeners=17
[12:09:17] [INFO] [SoundPropagation] Cleaned up 7 invalid listeners
[12:09:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:09:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1113.222, 1497.771), source=ENEMY (Enemy10), range=1469, listeners=10
[12:09:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:09:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.749, 1476.207), source=ENEMY (Enemy10), range=1469, listeners=10
[12:09:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:09:18] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:09:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=1163734812352, bullet_pos=(64.61339, 850.4285)
[12:09:18] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:09:18] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:09:18] [INFO] [Bullet] Distance-based penetration chance: 50.6761238618226%
[12:09:18] [INFO] [Bullet] Penetration failed (distance roll)
[12:09:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=1163734812352, bullet_pos=(60.65509, 787.2949)
[12:09:18] [INFO] [Bullet] Using shooter_position, distance=1208.33386230469
[12:09:18] [INFO] [Bullet] Distance to wall: 1208.33386230469 (82.2776746143741% of viewport)
[12:09:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=1163734812352, bullet_pos=(143.0936, 712.5925)
[12:09:18] [INFO] [Bullet] Using shooter_position, distance=1187.28698730469
[12:09:18] [INFO] [Bullet] Distance to wall: 1187.28698730469 (80.8445541938337% of viewport)
[12:09:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.362, 1444.423), shooter_id=1163734812352, bullet_pos=(59.01187, 724.3607)
[12:09:18] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[12:09:18] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[12:09:18] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[12:09:18] [INFO] [Bullet] Penetration failed (distance roll)
[12:09:18] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:09:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=1163734812352, bullet_pos=(507.5894, 987.5325)
[12:09:18] [INFO] [Bullet] Using shooter_position, distance=731.4365234375
[12:09:18] [INFO] [Bullet] Distance to wall: 731.4365234375 (49.8048578740275% of viewport)
[12:09:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=1163734812352, bullet_pos=(503.6646, 990.6303)
[12:09:18] [INFO] [Bullet] Using shooter_position, distance=732.373596191406
[12:09:18] [INFO] [Bullet] Distance to wall: 732.373596191406 (49.8686648809658% of viewport)
[12:09:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=1163734812352, bullet_pos=(525.9149, 1005.48)
[12:09:18] [INFO] [Bullet] Using shooter_position, distance=705.830383300781
[12:09:18] [INFO] [Bullet] Distance to wall: 705.830383300781 (48.0612887065785% of viewport)
[12:09:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(401.8792, 797.6298), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:18] [ENEMY] [Enemy1] Heard gunshot at (401.8792, 797.6298), source_type=0, intensity=0.01, distance=459
[12:09:18] [ENEMY] [Enemy2] Heard gunshot at (401.8792, 797.6298), source_type=0, intensity=0.04, distance=248
[12:09:18] [ENEMY] [Enemy4] Heard gunshot at (401.8792, 797.6298), source_type=0, intensity=0.01, distance=411
[12:09:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:09:18] [ENEMY] [Enemy3] Hit taken, health: 3/4
[12:09:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.7485, 759.3223), source=ENEMY (Enemy3), range=1469, listeners=10
[12:09:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:09:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(369.3661, 785.3881), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:09:18] [INFO] [LastChance] Threat detected: Bullet
[12:09:18] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:18] [ENEMY] [Enemy3] Hit taken, health: 2/4
[12:09:19] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[12:09:19] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[12:09:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(599.5096, 761.9711), source=ENEMY (Enemy3), range=1469, listeners=10
[12:09:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[12:09:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(343.7408, 786.0681), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:09:19] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:09:19] [INFO] [LastChance] Threat detected: @Area2D@5516
[12:09:19] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:19] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[12:09:19] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[12:09:19] [ENEMY] [Enemy3] Hit taken, health: 1/4
[12:09:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(581.0415, 770.6884), source=ENEMY (Enemy3), range=1469, listeners=10
[12:09:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[12:09:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(332.4807, 792.6794), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:09:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(577.6982, 780.8176), source=ENEMY (Enemy3), range=1469, listeners=10
[12:09:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[12:09:19] [INFO] [LastChance] Threat detected: @Area2D@5520
[12:09:19] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:19] [ENEMY] [Enemy3] Hit taken, health: 0/4
[12:09:19] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[12:09:19] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[12:09:19] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[12:09:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(337.2978, 797.5365), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[12:09:19] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[12:09:19] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[12:09:19] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[12:09:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(529.8126, 792.1306), shooter_id=1161738324240, bullet_pos=(46.75843, 921.1995)
[12:09:19] [INFO] [Bullet] Using shooter_position, distance=500.000122070313
[12:09:19] [INFO] [Bullet] Distance to wall: 500.000122070313 (34.0459277309198% of viewport)
[12:09:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:19] [INFO] [Bullet] Starting wall penetration at (46.75843, 921.1995)
[12:09:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31.3905124664307
[12:09:19] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:19] [INFO] [Bullet] Exiting penetration at (1.673374, 933.2459) after traveling 41.6666679382324 pixels through wall
[12:09:19] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(526.1671, 794.7716), shooter_id=1161738324240, bullet_pos=(31.14551, 865.1544)
[12:09:19] [INFO] [Bullet] Using shooter_position, distance=500.000122070313
[12:09:19] [INFO] [Bullet] Distance to wall: 500.000122070313 (34.0459277309198% of viewport)
[12:09:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:19] [INFO] [Bullet] Starting wall penetration at (31.14551, 865.1544)
[12:09:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 47.5297546386719
[12:09:19] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:19] [INFO] [Bullet] Exiting penetration at (-15.0565, 871.7234) after traveling 41.6666679382324 pixels through wall
[12:09:19] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(1233.376, 713.6084)
[12:09:19] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:19] [INFO] [Bullet] Using shooter_position, distance=1424,9397
[12:09:19] [INFO] [Bullet] Distance to wall: 1424,9397 (97,026764% of viewport)
[12:09:19] [INFO] [Bullet] Distance-based penetration chance: 33,468777%
[12:09:19] [INFO] [Bullet] Penetration failed (distance roll)
[12:09:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(613.3375, 915.3743), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:09:20] [ENEMY] [Enemy4] Hit taken, health: 1/2
[12:09:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(628.4275, 947.6237), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:09:20] [ENEMY] [Enemy4] Hit taken, health: 0/2
[12:09:20] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[12:09:20] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[12:09:20] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[12:09:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(655.0836, 974.8272), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[12:09:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(918.6244, 896.27014)
[12:09:20] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:20] [INFO] [Bullet] Using shooter_position, distance=1283,4216
[12:09:20] [INFO] [Bullet] Distance to wall: 1283,4216 (87,39054% of viewport)
[12:09:20] [INFO] [Bullet] Distance-based penetration chance: 44,71104%
[12:09:20] [INFO] [Bullet] Penetration failed (distance roll)
[12:09:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(686.772, 989.9335), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=7
[12:09:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(724.6328, 989.0096), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[12:09:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(928.57904, 785.4655)
[12:09:21] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:21] [INFO] [Bullet] Using shooter_position, distance=1216,2299
[12:09:21] [INFO] [Bullet] Distance to wall: 1216,2299 (82,81533% of viewport)
[12:09:21] [INFO] [Bullet] Distance-based penetration chance: 50,048782%
[12:09:21] [INFO] [Bullet] Starting wall penetration at (928.57904, 785.4655)
[12:09:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,94827
[12:09:21] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:21] [INFO] [Bullet] Exiting penetration at (964.21375, 755.3334) after traveling 41,666668 pixels through wall
[12:09:21] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:09:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(908.6182, 731.27484)
[12:09:21] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:21] [INFO] [Bullet] Using shooter_position, distance=1166,3405
[12:09:21] [INFO] [Bullet] Distance to wall: 1166,3405 (79,41827% of viewport)
[12:09:21] [ENEMY] [Enemy7] State: IDLE -> COMBAT
[12:09:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(506.55475, 324.89136)
[12:09:21] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:21] [INFO] [Bullet] Using shooter_position, distance=601,7908
[12:09:21] [INFO] [Bullet] Distance to wall: 601,7908 (40,977043% of viewport)
[12:09:21] [INFO] [Bullet] Distance-based penetration chance: 98,860115%
[12:09:21] [INFO] [Bullet] Starting wall penetration at (506.55475, 324.89136)
[12:09:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,096937
[12:09:21] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:21] [INFO] [Bullet] Exiting penetration at (478.12897, 296.16016) after traveling 35,41667 pixels through wall
[12:09:21] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[12:09:21] [ENEMY] [Enemy10] FLANKING started: target=(653.5493, 1000.12), side=right, pos=(953.4262, 1416.483)
[12:09:21] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[12:09:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(741.15, 745.8947), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[12:09:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(711.2475, 725.1382), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[12:09:22] [ENEMY] [Enemy2] Hit taken, health: 3/4
[12:09:22] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[12:09:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(675.142, 719.3574), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[12:09:22] [ENEMY] [Enemy2] Hit taken, health: 2/4
[12:09:22] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[12:09:22] [ENEMY] [Enemy2] Hit taken, health: 1/4
[12:09:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.642, 719.3574), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[12:09:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(415.8692, 641.8651), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[12:09:22] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[12:09:22] [ENEMY] [Enemy2] Hit taken, health: 0/4
[12:09:22] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[12:09:22] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[12:09:22] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[12:09:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(598.9074, 717.5096), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:09:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=4
[12:09:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(474.7414, 643.6176), shooter_id=1161453111900, bullet_pos=(927.1465, 717.0962)
[12:09:22] [INFO] [Bullet] Using shooter_position, distance=458.333435058594
[12:09:22] [INFO] [Bullet] Distance to wall: 458.333435058594 (31.2087663940104% of viewport)
[12:09:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(566.658, 702.4196), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:09:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=4
[12:09:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(67.43407, 520.9206)
[12:09:22] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:22] [INFO] [Bullet] Using shooter_position, distance=525,26715
[12:09:22] [INFO] [Bullet] Distance to wall: 525,26715 (35,766407% of viewport)
[12:09:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(229.51147, 437.94318)
[12:09:22] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:22] [INFO] [Bullet] Using shooter_position, distance=494,4388
[12:09:22] [INFO] [Bullet] Distance to wall: 494,4388 (33,667248% of viewport)
[12:09:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:22] [INFO] [Bullet] Starting wall penetration at (229.51147, 437.94318)
[12:09:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,208901
[12:09:22] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:22] [INFO] [Bullet] Exiting penetration at (265.48746, 419.52484) after traveling 35,416668 pixels through wall
[12:09:22] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[12:09:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(37.051598, 500.8551)
[12:09:22] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:22] [INFO] [Bullet] Using shooter_position, distance=502,22372
[12:09:22] [INFO] [Bullet] Distance to wall: 502,22372 (34,19734% of viewport)
[12:09:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:22] [INFO] [Bullet] Starting wall penetration at (37.051598, 500.8551)
[12:09:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41,26157
[12:09:22] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:22] [INFO] [Bullet] Exiting penetration at (-6.5630417, 484.25568) after traveling 41,666668 pixels through wall
[12:09:22] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:09:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(436.5032, 606.6149), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:09:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[12:09:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:09:23] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[12:09:23] [INFO] [PenultimateHit] Starting penultimate hit effect:
[12:09:23] [INFO] [PenultimateHit]   - Time scale: 0.10
[12:09:23] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[12:09:23] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[12:09:23] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[12:09:23] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[12:09:23] [INFO] [PenultimateHit] Applying saturation to 8 enemies
[12:09:23] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:09:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.5307, 607.9482), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:09:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[12:09:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[12:09:23] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[12:09:23] [INFO] [PenultimateHit] Player died - ending penultimate effect
[12:09:23] [INFO] [PenultimateHit] Ending penultimate hit effect
[12:09:23] [INFO] [LastChance] Player died
[12:09:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(377.075, 597.8019), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:09:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[12:09:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(348.9098, 573.3927), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:09:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[12:09:24] [ENEMY] [Enemy1] Hit taken, health: 1/2
[12:09:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(321.6861, 546.169), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:09:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[12:09:24] [ENEMY] [Enemy1] Hit taken, health: 0/2
[12:09:24] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[12:09:24] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[12:09:24] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[12:09:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(294.4624, 518.9453), source=PLAYER (AssaultRifle), range=1469, listeners=6
[12:09:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=3
[12:09:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(342.58347, 472.80634)
[12:09:24] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:24] [INFO] [Bullet] Using shooter_position, distance=583,8743
[12:09:24] [INFO] [Bullet] Distance to wall: 583,8743 (39,75708% of viewport)
[12:09:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:24] [INFO] [Bullet] Starting wall penetration at (342.58347, 472.80634)
[12:09:24] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:09:24] [INFO] [Bullet] Exiting penetration at (376.26822, 440.50906) after traveling 41,666668 pixels through wall
[12:09:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:09:24] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:09:24] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:09:24] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:09:24] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:09:24] [INFO] [Player] Ready! Grenades: 1/3
[12:09:24] [INFO] [ScoreManager] Level started with 10 enemies
[12:09:24] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 7)
[12:09:24] [ENEMY] [Enemy1] Registered as sound listener
[12:09:24] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[12:09:24] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 8)
[12:09:24] [ENEMY] [Enemy2] Registered as sound listener
[12:09:24] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[12:09:24] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 9)
[12:09:24] [ENEMY] [Enemy3] Registered as sound listener
[12:09:24] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[12:09:24] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 10)
[12:09:24] [ENEMY] [Enemy4] Registered as sound listener
[12:09:24] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[12:09:24] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 11)
[12:09:24] [ENEMY] [Enemy5] Registered as sound listener
[12:09:24] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[12:09:24] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 12)
[12:09:24] [ENEMY] [Enemy6] Registered as sound listener
[12:09:24] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[12:09:24] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 13)
[12:09:24] [ENEMY] [Enemy7] Registered as sound listener
[12:09:24] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[12:09:24] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 14)
[12:09:24] [ENEMY] [Enemy8] Registered as sound listener
[12:09:24] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[12:09:24] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 15)
[12:09:24] [ENEMY] [Enemy9] Registered as sound listener
[12:09:24] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[12:09:24] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 16)
[12:09:24] [ENEMY] [Enemy10] Registered as sound listener
[12:09:24] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[12:09:24] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:09:24] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:09:24] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:09:24] [INFO] [LastChance] Found player: Player
[12:09:24] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:09:24] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:09:24] [INFO] [LastChance] Connected to player Died signal (C#)
[12:09:24] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[12:09:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.47, 1519.994), source=ENEMY (Enemy10), range=1469, listeners=16
[12:09:25] [INFO] [SoundPropagation] Cleaned up 6 invalid listeners
[12:09:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:09:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1086.576, 1497.266), shooter_id=1287819103361, bullet_pos=(903.0088, 1398.748)
[12:09:25] [INFO] [Bullet] Using shooter_position, distance=208.333465576172
[12:09:25] [INFO] [Bullet] Distance to wall: 208.333465576172 (14.1858087625446% of viewport)
[12:09:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:25] [INFO] [Bullet] Starting wall penetration at (903.0088, 1398.748)
[12:09:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 49.3146667480469
[12:09:25] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:25] [INFO] [Bullet] Exiting penetration at (861.8896, 1376.68) after traveling 41.6666679382324 pixels through wall
[12:09:25] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1110.707, 1502.097), source=ENEMY (Enemy10), range=1469, listeners=10
[12:09:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:09:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1054.223, 1478.07), shooter_id=1287819103361, bullet_pos=(909.0415, 1396.216)
[12:09:25] [INFO] [Bullet] Using shooter_position, distance=166.66667175293
[12:09:25] [INFO] [Bullet] Distance to wall: 166.66667175293 (11.3486401526422% of viewport)
[12:09:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:25] [INFO] [Bullet] Starting wall penetration at (909.0415, 1396.216)
[12:09:25] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:09:25] [INFO] [Bullet] Exiting penetration at (868.3906, 1373.297) after traveling 41.6666717529297 pixels through wall
[12:09:25] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.474, 1483.265), source=ENEMY (Enemy10), range=1469, listeners=10
[12:09:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:09:25] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:09:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.829, 1456.815), shooter_id=1287819103361, bullet_pos=(64.99185, 866.7529)
[12:09:25] [INFO] [Bullet] Using shooter_position, distance=1125
[12:09:25] [INFO] [Bullet] Distance to wall: 1125 (76.6033186925873% of viewport)
[12:09:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.829, 1456.815), shooter_id=1287819103361, bullet_pos=(306.9722, 709.9677)
[12:09:25] [INFO] [Bullet] Using shooter_position, distance=1034.52001953125
[12:09:25] [INFO] [Bullet] Distance to wall: 1034.52001953125 (70.4423704444569% of viewport)
[12:09:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.829, 1456.815), shooter_id=1287819103361, bullet_pos=(520.1047, 832.477)
[12:09:26] [INFO] [Bullet] Using shooter_position, distance=801.579345703125
[12:09:26] [INFO] [Bullet] Distance to wall: 801.579345703125 (54.5810116233708% of viewport)
[12:09:26] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:09:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(444.9292, 777.7401), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:26] [ENEMY] [Enemy1] Heard gunshot at (444.9292, 777.7401), source_type=0, intensity=0.01, distance=452
[12:09:26] [ENEMY] [Enemy2] Heard gunshot at (444.9292, 777.7401), source_type=0, intensity=0.05, distance=232
[12:09:26] [ENEMY] [Enemy4] Heard gunshot at (444.9292, 777.7401), source_type=0, intensity=0.02, distance=376
[12:09:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:09:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.829, 1456.815), shooter_id=1287819103361, bullet_pos=(66.55141, 1021.023)
[12:09:26] [INFO] [Bullet] Using shooter_position, distance=1050.89562988281
[12:09:26] [INFO] [Bullet] Distance to wall: 1050.89562988281 (71.557415865387% of viewport)
[12:09:26] [ENEMY] [Enemy3] Hit taken, health: 2/3
[12:09:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(673.7369, 754.5845), source=ENEMY (Enemy3), range=1469, listeners=10
[12:09:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:09:26] [INFO] [LastChance] Threat detected: @Area2D@5806
[12:09:26] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(467.4117, 754.1093), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:09:26] [ENEMY] [Enemy3] Hit taken, health: 1/3
[12:09:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(673.7369, 754.5845), source=ENEMY (Enemy3), range=1469, listeners=10
[12:09:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:09:26] [INFO] [LastChance] Threat detected: @Area2D@5809
[12:09:26] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(499.0584, 743.9987), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:09:26] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:09:26] [ENEMY] [Enemy3] Hit taken, health: 0/3
[12:09:26] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[12:09:26] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[12:09:26] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[12:09:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.5692, 762.0892), shooter_id=1285822613483, bullet_pos=(33.24359, 759.0779)
[12:09:26] [INFO] [Bullet] Using shooter_position, distance=583.333312988281
[12:09:26] [INFO] [Bullet] Distance to wall: 583.333312988281 (39.7202379367503% of viewport)
[12:09:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:26] [INFO] [Bullet] Starting wall penetration at (33.24359, 759.0779)
[12:09:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(533.7708, 748.2686), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[12:09:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 45.4230613708496
[12:09:26] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:26] [INFO] [Bullet] Exiting penetration at (-13.42246, 758.837) after traveling 41.6666679382324 pixels through wall
[12:09:26] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[12:09:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[12:09:26] [INFO] [LastChance] Threat detected: Bullet
[12:09:26] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(933.4663, 763.8674)
[12:09:26] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:26] [INFO] [Bullet] Using shooter_position, distance=1206,1727
[12:09:26] [INFO] [Bullet] Distance to wall: 1206,1727 (82,13052% of viewport)
[12:09:26] [INFO] [Bullet] Distance-based penetration chance: 50,84773%
[12:09:26] [INFO] [Bullet] Penetration failed (distance roll)
[12:09:26] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[12:09:26] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[12:09:26] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[12:09:26] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[12:09:26] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[12:09:26] [ENEMY] [Enemy10] FLANKING started: target=(779.2773, 780.6796), side=left, pos=(1055.928, 1469.026)
[12:09:26] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[12:09:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(587.496, 928.7672), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:09:27] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[12:09:27] [ENEMY] [Enemy4] Hit taken, health: 1/2
[12:09:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(607.2391, 956.1125), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:09:27] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[12:09:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.2675, 970.086), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[12:09:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(920.5095, 909.8589)
[12:09:27] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:27] [INFO] [Bullet] Using shooter_position, distance=1294,2878
[12:09:27] [INFO] [Bullet] Distance to wall: 1294,2878 (88,13045% of viewport)
[12:09:27] [INFO] [Bullet] Distance-based penetration chance: 43,847816%
[12:09:27] [INFO] [Bullet] Penetration failed (distance roll)
[12:09:27] [ENEMY] [Enemy4] Hit taken, health: 0/2
[12:09:27] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[12:09:27] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[12:09:27] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[12:09:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(673.4697, 972.0006), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[12:09:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(923.84033, 858.2481)
[12:09:27] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:27] [INFO] [Bullet] Using shooter_position, distance=1260,9801
[12:09:27] [INFO] [Bullet] Distance to wall: 1260,9801 (85,86246% of viewport)
[12:09:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(710.6941, 968.921), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[12:09:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(929.8319, 802.7778)
[12:09:27] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:27] [INFO] [Bullet] Using shooter_position, distance=1228,4297
[12:09:27] [INFO] [Bullet] Distance to wall: 1228,4297 (83,64604% of viewport)
[12:09:27] [INFO] [Bullet] Distance-based penetration chance: 49,07962%
[12:09:27] [INFO] [Bullet] Penetration failed (distance roll)
[12:09:28] [ENEMY] [Enemy7] State: IDLE -> COMBAT
[12:09:28] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[12:09:29] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[12:09:29] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[12:09:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(455.6492, 566.3896), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[12:09:29] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[12:09:29] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[12:09:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.248, 660.4352), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[12:09:29] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:09:29] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[12:09:29] [INFO] [PenultimateHit] Starting penultimate hit effect:
[12:09:29] [INFO] [PenultimateHit]   - Time scale: 0.10
[12:09:29] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[12:09:29] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[12:09:29] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[12:09:29] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[12:09:29] [INFO] [PenultimateHit] Applying saturation to 8 enemies
[12:09:29] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:09:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(455.6492, 566.3896), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[12:09:29] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[12:09:29] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[12:09:29] [INFO] [PenultimateHit] Player died - ending penultimate effect
[12:09:29] [INFO] [PenultimateHit] Ending penultimate hit effect
[12:09:29] [INFO] [LastChance] Player died
[12:09:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(424.1481, 660.4352), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[12:09:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(455.6492, 566.3896), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[12:09:29] [INFO] [LastChance] Threat detected: @Area2D@5823
[12:09:29] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(454.3569, 418.623), source=ENEMY (Enemy1), range=1469, listeners=8
[12:09:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[12:09:29] [INFO] [LastChance] Threat detected: Bullet
[12:09:29] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:29] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[12:09:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(385.6481, 660.4352), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[12:09:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(446.0529, 467.4566), shooter_id=1285252187461, bullet_pos=(397.4776, 712.692)
[12:09:29] [INFO] [Bullet] Using shooter_position, distance=249.999938964844
[12:09:29] [INFO] [Bullet] Distance to wall: 249.999938964844 (17.0229555534678% of viewport)
[12:09:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:29] [INFO] [Bullet] Starting wall penetration at (397.4776, 712.692)
[12:09:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(454.3569, 418.623), source=ENEMY (Enemy1), range=1469, listeners=8
[12:09:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[12:09:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 47.3721199035645
[12:09:29] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:29] [INFO] [Bullet] Exiting penetration at (388.4102, 758.4693) after traveling 41.6666679382324 pixels through wall
[12:09:29] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(473.7159, 579.6318), source=ENEMY (Enemy2), range=1469, listeners=8
[12:09:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[12:09:29] [INFO] [LastChance] Threat detected: @Area2D@5825
[12:09:29] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(347.1481, 660.4352), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[12:09:29] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[12:09:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(437.763, 618.7776), shooter_id=1285537401253, bullet_pos=(342.7162, 699.9633)
[12:09:30] [INFO] [Bullet] Using shooter_position, distance=125.000015258789
[12:09:30] [INFO] [Bullet] Distance to wall: 125.000015258789 (8.51148089373093% of viewport)
[12:09:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(439.6488, 466.2169), shooter_id=1285252187461, bullet_pos=(354.6897, 701.3381)
[12:09:30] [INFO] [Bullet] Using shooter_position, distance=250.000076293945
[12:09:30] [INFO] [Bullet] Distance to wall: 250.000076293945 (17.0229649044589% of viewport)
[12:09:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:30] [INFO] [Bullet] Starting wall penetration at (354.6897, 701.3381)
[12:09:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35.3300971984863
[12:09:30] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:30] [INFO] [Bullet] Exiting penetration at (338.8307, 745.2274) after traveling 41.6666717529297 pixels through wall
[12:09:30] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(309.4135, 658.5874), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[12:09:30] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:09:30] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:09:30] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:09:30] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:09:30] [INFO] [Player] Ready! Grenades: 1/3
[12:09:30] [INFO] [ScoreManager] Level started with 10 enemies
[12:09:30] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[12:09:30] [ENEMY] [Enemy1] Registered as sound listener
[12:09:30] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[12:09:30] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[12:09:30] [ENEMY] [Enemy2] Registered as sound listener
[12:09:30] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[12:09:30] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[12:09:30] [ENEMY] [Enemy3] Registered as sound listener
[12:09:30] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[12:09:30] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[12:09:30] [ENEMY] [Enemy4] Registered as sound listener
[12:09:30] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[12:09:30] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[12:09:30] [ENEMY] [Enemy5] Registered as sound listener
[12:09:30] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[12:09:30] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[12:09:30] [ENEMY] [Enemy6] Registered as sound listener
[12:09:30] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[12:09:30] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[12:09:30] [ENEMY] [Enemy7] Registered as sound listener
[12:09:30] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[12:09:30] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[12:09:30] [ENEMY] [Enemy8] Registered as sound listener
[12:09:30] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[12:09:30] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[12:09:30] [ENEMY] [Enemy9] Registered as sound listener
[12:09:30] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[12:09:30] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[12:09:30] [ENEMY] [Enemy10] Registered as sound listener
[12:09:30] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[12:09:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(449.7643, 1255.764), source=PLAYER (AssaultRifle), range=1469, listeners=18
[12:09:30] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[12:09:30] [ENEMY] [Enemy4] Heard gunshot at (449.7643, 1255.764), source_type=0, intensity=0.01, distance=499
[12:09:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[12:09:30] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:09:30] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:09:30] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:09:30] [INFO] [LastChance] Found player: Player
[12:09:30] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:09:30] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:09:30] [INFO] [LastChance] Connected to player Died signal (C#)
[12:09:30] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[12:09:30] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[12:09:30] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[12:09:30] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[12:09:30] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[12:09:30] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[12:09:30] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[12:09:30] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[12:09:30] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[12:09:30] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[12:09:30] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(432.8445, 1215.025), source=PLAYER (Player), range=900, listeners=10
[12:09:30] [ENEMY] [Enemy4] Heard player RELOAD at (432.8445, 1215.025), intensity=0.02, distance=408
[12:09:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[12:09:30] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=875), can_see=false
[12:09:30] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=666), can_see=false
[12:09:30] [ENEMY] [Enemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=536), can_see=false
[12:09:30] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=408), can_see=false
[12:09:30] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1534), can_see=false
[12:09:30] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1699), can_see=false
[12:09:30] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1218), can_see=false
[12:09:30] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1486), can_see=false
[12:09:30] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1700), can_see=false
[12:09:30] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=837), can_see=false
[12:09:30] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[12:09:30] [ENEMY] [Enemy10] Player vulnerable (reloading) - pursuing to attack (dist=867)
[12:09:30] [ENEMY] [Enemy10] State: IDLE -> PURSUING
[12:09:30] [ENEMY] [Enemy4] Pursuing vulnerability sound at (432.8445, 1215.025), distance=347
[12:09:30] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:30] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:30] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:30] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:30] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:30] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(2474.7644, 1255.7643)
[12:09:31] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:31] [INFO] [Bullet] Using shooter_position, distance=2775,1401
[12:09:31] [INFO] [Bullet] Distance to wall: 2775,1401 (188,9644% of viewport)
[12:09:31] [INFO] [Bullet] Distance-based penetration chance: 12,207121%
[12:09:31] [INFO] [Bullet] Penetration failed (distance roll)
[12:09:31] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=713), can_see=false
[12:09:31] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=501), can_see=false
[12:09:31] [ENEMY] [Enemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=403), can_see=false
[12:09:31] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1449), can_see=false
[12:09:31] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1633), can_see=false
[12:09:31] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1186), can_see=false
[12:09:31] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1522), can_see=false
[12:09:31] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1742), can_see=false
[12:09:31] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=842), can_see=false
[12:09:31] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=true (dist=199), can_see=false
[12:09:31] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[12:09:31] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[12:09:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(515.4823, 775.9944), source=ENEMY (Enemy4), range=1469, listeners=10
[12:09:31] [ENEMY] [Enemy1] Heard gunshot at (515.4823, 775.9944), source_type=1, intensity=0.01, distance=477
[12:09:31] [ENEMY] [Enemy2] Heard gunshot at (515.4823, 775.9944), source_type=1, intensity=0.04, distance=254
[12:09:31] [ENEMY] [Enemy3] Heard gunshot at (515.4823, 775.9944), source_type=1, intensity=0.07, distance=186
[12:09:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[12:09:31] [INFO] [LastChance] Threat detected: Bullet
[12:09:31] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:31] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=541), can_see=false
[12:09:31] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy3] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1375), can_see=false
[12:09:31] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1578), can_see=false
[12:09:31] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1176), can_see=false
[12:09:31] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1575), can_see=false
[12:09:31] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1798), can_see=false
[12:09:31] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=850), can_see=false
[12:09:31] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:09:31] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[12:09:31] [INFO] [PenultimateHit] Starting penultimate hit effect:
[12:09:31] [INFO] [PenultimateHit]   - Time scale: 0.10
[12:09:31] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[12:09:31] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[12:09:31] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[12:09:31] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[12:09:31] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[12:09:31] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:09:31] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy3] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy3] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy3] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy3] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy3] Player reloading - priority attack triggered
[12:09:31] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[12:09:31] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[12:09:31] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[12:09:31] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[12:09:31] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[12:09:31] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[12:09:31] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[12:09:31] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[12:09:31] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[12:09:31] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[12:09:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(504.8157, 775.9944), source=ENEMY (Enemy4), range=1469, listeners=10
[12:09:32] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[12:09:32] [INFO] [LastChance] Threat detected: Bullet
[12:09:32] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:32] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:09:32] [INFO] [PenultimateHit] Ending penultimate hit effect
[12:09:32] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:09:32] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:09:32] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:09:32] [INFO] [Player] Ready! Grenades: 1/3
[12:09:32] [INFO] [ScoreManager] Level started with 10 enemies
[12:09:32] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:09:32] [ENEMY] [Enemy1] Registered as sound listener
[12:09:32] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[12:09:32] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:09:32] [ENEMY] [Enemy2] Registered as sound listener
[12:09:32] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[12:09:32] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:09:32] [ENEMY] [Enemy3] Registered as sound listener
[12:09:32] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[12:09:32] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:09:32] [ENEMY] [Enemy4] Registered as sound listener
[12:09:32] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[12:09:32] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:09:32] [ENEMY] [Enemy5] Registered as sound listener
[12:09:32] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[12:09:32] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:09:32] [ENEMY] [Enemy6] Registered as sound listener
[12:09:32] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[12:09:32] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:09:32] [ENEMY] [Enemy7] Registered as sound listener
[12:09:32] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[12:09:32] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:09:32] [ENEMY] [Enemy8] Registered as sound listener
[12:09:32] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[12:09:32] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:09:32] [ENEMY] [Enemy9] Registered as sound listener
[12:09:32] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[12:09:32] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:09:32] [ENEMY] [Enemy10] Registered as sound listener
[12:09:32] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[12:09:32] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:09:32] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:09:32] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:09:32] [INFO] [LastChance] Found player: Player
[12:09:32] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:09:32] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:09:32] [INFO] [LastChance] Connected to player Died signal (C#)
[12:09:32] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[12:09:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.528, 1518.106), source=ENEMY (Enemy10), range=1469, listeners=20
[12:09:32] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[12:09:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:09:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1113.222, 1497.771), source=ENEMY (Enemy10), range=1469, listeners=10
[12:09:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:09:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.749, 1476.207), source=ENEMY (Enemy10), range=1469, listeners=10
[12:09:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:09:33] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:09:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=1419990009570, bullet_pos=(64.61339, 850.4285)
[12:09:33] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:09:33] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:09:33] [INFO] [Bullet] Distance-based penetration chance: 50.6761238618226%
[12:09:33] [INFO] [Bullet] Starting wall penetration at (64.61339, 850.4285)
[12:09:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8.19846057891846
[12:09:33] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:33] [INFO] [Bullet] Exiting penetration at (25.04935, 825.6805) after traveling 41.6666717529297 pixels through wall
[12:09:33] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=1419990009570, bullet_pos=(60.65509, 787.2949)
[12:09:33] [INFO] [Bullet] Using shooter_position, distance=1208.33386230469
[12:09:33] [INFO] [Bullet] Distance to wall: 1208.33386230469 (82.2776746143741% of viewport)
[12:09:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=1419990009570, bullet_pos=(140.3266, 709.6482)
[12:09:33] [INFO] [Bullet] Using shooter_position, distance=1191.29516601563
[12:09:33] [INFO] [Bullet] Distance to wall: 1191.29516601563 (81.1174784526522% of viewport)
[12:09:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.362, 1444.423), shooter_id=1419990009570, bullet_pos=(59.01187, 724.3607)
[12:09:33] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[12:09:33] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[12:09:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.362, 1444.423), shooter_id=1419990009570, bullet_pos=(125.846, 688.5292)
[12:09:33] [INFO] [Bullet] Using shooter_position, distance=1178.013671875
[12:09:33] [INFO] [Bullet] Distance to wall: 1178.013671875 (80.2131170941028% of viewport)
[12:09:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.362, 1444.423), shooter_id=1419990009570, bullet_pos=(50.19848, 630.5471)
[12:09:33] [INFO] [Bullet] Using shooter_position, distance=1273.24572753906
[12:09:33] [INFO] [Bullet] Distance to wall: 1273.24572753906 (86.6976428805778% of viewport)
[12:09:33] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:09:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(454.6194, 800.0801), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:33] [ENEMY] [Enemy1] Heard gunshot at (454.6194, 800.0801), source_type=0, intensity=0.01, distance=476
[12:09:33] [ENEMY] [Enemy2] Heard gunshot at (454.6194, 800.0801), source_type=0, intensity=0.04, distance=256
[12:09:33] [ENEMY] [Enemy4] Heard gunshot at (454.6194, 800.0801), source_type=0, intensity=0.02, distance=360
[12:09:33] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:09:33] [ENEMY] [Enemy3] Hit taken, health: 2/3
[12:09:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.362, 1444.423), shooter_id=1419990009570, bullet_pos=(254.7479, 468.6186)
[12:09:33] [INFO] [Bullet] Using shooter_position, distance=1245.88159179688
[12:09:33] [INFO] [Bullet] Distance to wall: 1245.88159179688 (84.8343685596836% of viewport)
[12:09:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(471.2922, 773.2814), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:33] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:09:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.5767, 752.2654), source=ENEMY (Enemy3), range=1469, listeners=10
[12:09:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:09:33] [INFO] [LastChance] Threat detected: @Area2D@6342
[12:09:33] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(498.2798, 759.1469), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:33] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:09:33] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:09:33] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[12:09:33] [INFO] [PenultimateHit] Starting penultimate hit effect:
[12:09:33] [INFO] [PenultimateHit]   - Time scale: 0.10
[12:09:33] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[12:09:33] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[12:09:33] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[12:09:33] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[12:09:33] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[12:09:33] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:09:33] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:09:34] [INFO] [LastChance] Threat detected: @Area2D@6335
[12:09:34] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(910.2922, 674.3928)
[12:09:34] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:34] [INFO] [Bullet] Using shooter_position, distance=1132,889
[12:09:34] [INFO] [Bullet] Distance to wall: 1132,889 (77,140495% of viewport)
[12:09:34] [INFO] [Bullet] Distance-based penetration chance: 56,669426%
[12:09:34] [INFO] [Bullet] Penetration failed (distance roll)
[12:09:34] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[12:09:34] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[12:09:34] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:09:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.6887, 761.8652), source=ENEMY (Enemy3), range=1469, listeners=10
[12:09:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:09:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.362, 1444.423), shooter_id=1419990009570, bullet_pos=(467.4073, 684.4253)
[12:09:34] [INFO] [Bullet] Using shooter_position, distance=945.192810058594
[12:09:34] [INFO] [Bullet] Distance to wall: 945.192810058594 (64.3599164932094% of viewport)
[12:09:35] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[12:09:35] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[12:09:35] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[12:09:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(909.6202, 692.7349)
[12:09:35] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:35] [INFO] [Bullet] Using shooter_position, distance=1143,368
[12:09:35] [INFO] [Bullet] Distance to wall: 1143,368 (77,854034% of viewport)
[12:09:35] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[12:09:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(695.2249, 772.8603), source=ENEMY (Enemy3), range=1469, listeners=10
[12:09:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:09:35] [INFO] [LastChance] Threat detected: @Area2D@6347
[12:09:35] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:35] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[12:09:35] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[12:09:35] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[12:09:35] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[12:09:35] [INFO] [PenultimateHit] Player died - ending penultimate effect
[12:09:35] [INFO] [PenultimateHit] Ending penultimate hit effect
[12:09:35] [INFO] [LastChance] Player died
[12:09:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(399.193, 572.2686), source=ENEMY (Enemy2), range=1469, listeners=10
[12:09:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[12:09:35] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[12:09:35] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[12:09:35] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[12:09:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(636.0542, 773.5945), shooter_id=1417993522090, bullet_pos=(42.23319, 822.5134)
[12:09:35] [INFO] [Bullet] Using shooter_position, distance=595.832580566406
[12:09:35] [INFO] [Bullet] Distance to wall: 595.832580566406 (40.5713360502712% of viewport)
[12:09:35] [INFO] [Bullet] Distance-based penetration chance: 99.3334412746836%
[12:09:35] [INFO] [Bullet] Starting wall penetration at (42.23319, 822.5134)
[12:09:35] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[12:09:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36.3988189697266
[12:09:35] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:35] [INFO] [Bullet] Exiting penetration at (-4.275944, 826.3447) after traveling 41.6666717529297 pixels through wall
[12:09:35] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450.2736, 612.0322), shooter_id=1417708309675, bullet_pos=(719.9664, 807.9326)
[12:09:35] [INFO] [Bullet] Using shooter_position, distance=333.333465576172
[12:09:35] [INFO] [Bullet] Distance to wall: 333.333465576172 (22.6972886172765% of viewport)
[12:09:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:35] [ENEMY] [Enemy3] Hit taken, health: 1/3
[12:09:36] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:09:36] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:09:36] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:09:36] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:09:36] [INFO] [Player] Ready! Grenades: 1/3
[12:09:36] [INFO] [ScoreManager] Level started with 10 enemies
[12:09:36] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:09:36] [ENEMY] [Enemy1] Registered as sound listener
[12:09:36] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[12:09:36] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:09:36] [ENEMY] [Enemy2] Registered as sound listener
[12:09:36] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[12:09:36] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:09:36] [ENEMY] [Enemy3] Registered as sound listener
[12:09:36] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[12:09:36] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:09:36] [ENEMY] [Enemy4] Registered as sound listener
[12:09:36] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[12:09:36] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:09:36] [ENEMY] [Enemy5] Registered as sound listener
[12:09:36] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[12:09:36] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:09:36] [ENEMY] [Enemy6] Registered as sound listener
[12:09:36] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[12:09:36] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:09:36] [ENEMY] [Enemy7] Registered as sound listener
[12:09:36] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[12:09:36] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:09:36] [ENEMY] [Enemy8] Registered as sound listener
[12:09:36] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[12:09:36] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:09:36] [ENEMY] [Enemy9] Registered as sound listener
[12:09:36] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[12:09:36] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:09:36] [ENEMY] [Enemy10] Registered as sound listener
[12:09:36] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[12:09:36] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:09:36] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:09:36] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:09:36] [INFO] [LastChance] Found player: Player
[12:09:36] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:09:36] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:09:36] [INFO] [LastChance] Connected to player Died signal (C#)
[12:09:37] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[12:09:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1146.603, 1564.145), source=ENEMY (Enemy10), range=1469, listeners=20
[12:09:38] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[12:09:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[12:09:38] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:09:38] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:09:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1095.51, 1525.029), shooter_id=1500470315816, bullet_pos=(143.4071, 715.0917)
[12:09:38] [INFO] [Bullet] Using shooter_position, distance=1249.99951171875
[12:09:38] [INFO] [Bullet] Distance to wall: 1249.99951171875 (85.1147652993511% of viewport)
[12:09:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1095.51, 1525.029), shooter_id=1500470315816, bullet_pos=(52.71659, 779.5261)
[12:09:38] [INFO] [Bullet] Using shooter_position, distance=1281.87097167969
[12:09:38] [INFO] [Bullet] Distance to wall: 1281.87097167969 (87.2849516145384% of viewport)
[12:09:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(457.4109, 773.8726), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:38] [ENEMY] [Enemy1] Heard gunshot at (457.4109, 773.8726), source_type=0, intensity=0.01, distance=452
[12:09:38] [ENEMY] [Enemy2] Heard gunshot at (457.4109, 773.8726), source_type=0, intensity=0.05, distance=231
[12:09:38] [ENEMY] [Enemy4] Heard gunshot at (457.4109, 773.8726), source_type=0, intensity=0.02, distance=365
[12:09:38] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:09:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.5962, 752.3535), source=ENEMY (Enemy3), range=1469, listeners=10
[12:09:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:09:38] [ENEMY] [Enemy3] Hit taken, health: 2/3
[12:09:38] [INFO] [LastChance] Threat detected: @Area2D@6606
[12:09:38] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(476.0335, 752.5269), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:38] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:09:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.5962, 752.3535), source=ENEMY (Enemy3), range=1469, listeners=10
[12:09:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:09:38] [INFO] [LastChance] Threat detected: @Area2D@6608
[12:09:38] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1095.51, 1525.029), shooter_id=1500470315816, bullet_pos=(516.0239, 1008.433)
[12:09:38] [INFO] [Bullet] Using shooter_position, distance=776.321960449219
[12:09:38] [INFO] [Bullet] Distance to wall: 776.321960449219 (52.8611898171962% of viewport)
[12:09:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1095.51, 1525.029), shooter_id=1500470315816, bullet_pos=(511.4206, 1010.385)
[12:09:38] [INFO] [Bullet] Using shooter_position, distance=778.472412109375
[12:09:38] [INFO] [Bullet] Distance to wall: 778.472412109375 (53.0076180250681% of viewport)
[12:09:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(500.2463, 745.6013), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:09:39] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:09:39] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[12:09:39] [INFO] [PenultimateHit] Starting penultimate hit effect:
[12:09:39] [INFO] [PenultimateHit]   - Time scale: 0.10
[12:09:39] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[12:09:39] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[12:09:39] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[12:09:39] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[12:09:39] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[12:09:39] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:09:39] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:09:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(911.2239, 707.63226)
[12:09:39] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:39] [INFO] [Bullet] Using shooter_position, distance=1153,7211
[12:09:39] [INFO] [Bullet] Distance to wall: 1153,7211 (78,55899% of viewport)
[12:09:39] [INFO] [Bullet] Distance-based penetration chance: 55,014515%
[12:09:39] [INFO] [Bullet] Starting wall penetration at (911.2239, 707.63226)
[12:09:39] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:09:39] [INFO] [Bullet] Exiting penetration at (920.34216, 706.69165) after traveling 4,1666665 pixels through wall
[12:09:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:09:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(634.1826, 760.4234), shooter_id=1498473825671, bullet_pos=(67.53561, 765.1465)
[12:09:39] [INFO] [Bullet] Using shooter_position, distance=566.666625976563
[12:09:39] [INFO] [Bullet] Distance to wall: 566.666625976563 (38.5853725707874% of viewport)
[12:09:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:39] [INFO] [Bullet] Starting wall penetration at (67.53561, 765.1465)
[12:09:39] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:09:39] [INFO] [Bullet] Exiting penetration at (58.36927, 765.223) after traveling 4.16666698455811 pixels through wall
[12:09:39] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(696.76, 758.7432), source=ENEMY (Enemy3), range=1469, listeners=10
[12:09:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:09:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(525.1077, 754.1998), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[12:09:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(910.16156, 699.47894)
[12:09:40] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:40] [INFO] [Bullet] Using shooter_position, distance=1147,8959
[12:09:40] [INFO] [Bullet] Distance to wall: 1147,8959 (78,162346% of viewport)
[12:09:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(704.3551, 765.0373), source=ENEMY (Enemy3), range=1469, listeners=10
[12:09:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:09:40] [INFO] [LastChance] Threat detected: @Area2D@6617
[12:09:40] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:40] [ENEMY] [Enemy3] Hit taken, health: 1/3
[12:09:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[12:09:40] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[12:09:40] [INFO] [PenultimateHit] Player died - ending penultimate effect
[12:09:40] [INFO] [PenultimateHit] Ending penultimate hit effect
[12:09:40] [INFO] [LastChance] Player died
[12:09:40] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[12:09:40] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[12:09:40] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[12:09:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(645.5358, 771.2993), shooter_id=1498473825671, bullet_pos=(54.26329, 844.8755)
[12:09:40] [INFO] [Bullet] Using shooter_position, distance=595.832702636719
[12:09:40] [INFO] [Bullet] Distance to wall: 595.832702636719 (40.5713443622633% of viewport)
[12:09:40] [INFO] [Bullet] Distance-based penetration chance: 99.3334315773595%
[12:09:40] [INFO] [Bullet] Starting wall penetration at (54.26329, 844.8755)
[12:09:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24.2316818237305
[12:09:40] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:40] [INFO] [Bullet] Exiting penetration at (7.95377, 850.6381) after traveling 41.666675567627 pixels through wall
[12:09:40] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1095.51, 1525.029), shooter_id=1500470315816, bullet_pos=(65.73805, 729.1334)
[12:09:40] [INFO] [Bullet] Using shooter_position, distance=1301.49169921875
[12:09:40] [INFO] [Bullet] Distance to wall: 1301.49169921875 (88.6209630320097% of viewport)
[12:09:40] [INFO] [Bullet] Distance-based penetration chance: 43.275543129322%
[12:09:40] [INFO] [Bullet] Penetration failed (distance roll)
[12:09:41] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[12:09:41] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[12:09:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:09:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:09:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:09:41] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:09:41] [INFO] [Player] Ready! Grenades: 1/3
[12:09:41] [INFO] [ScoreManager] Level started with 10 enemies
[12:09:41] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:09:41] [ENEMY] [Enemy1] Registered as sound listener
[12:09:41] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[12:09:41] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:09:41] [ENEMY] [Enemy2] Registered as sound listener
[12:09:41] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[12:09:41] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:09:41] [ENEMY] [Enemy3] Registered as sound listener
[12:09:41] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[12:09:41] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:09:41] [ENEMY] [Enemy4] Registered as sound listener
[12:09:41] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[12:09:41] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:09:41] [ENEMY] [Enemy5] Registered as sound listener
[12:09:41] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[12:09:41] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:09:41] [ENEMY] [Enemy6] Registered as sound listener
[12:09:41] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[12:09:41] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:09:41] [ENEMY] [Enemy7] Registered as sound listener
[12:09:41] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[12:09:41] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:09:41] [ENEMY] [Enemy8] Registered as sound listener
[12:09:41] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[12:09:41] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:09:41] [ENEMY] [Enemy9] Registered as sound listener
[12:09:41] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[12:09:41] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:09:41] [ENEMY] [Enemy10] Registered as sound listener
[12:09:41] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[12:09:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:09:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:09:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:09:41] [INFO] [LastChance] Found player: Player
[12:09:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:09:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:09:41] [INFO] [LastChance] Connected to player Died signal (C#)
[12:09:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:09:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:09:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:09:41] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:09:41] [INFO] [Player] Ready! Grenades: 1/3
[12:09:41] [INFO] [ScoreManager] Level started with 10 enemies
[12:09:41] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[12:09:41] [ENEMY] [Enemy1] Registered as sound listener
[12:09:41] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[12:09:41] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[12:09:41] [ENEMY] [Enemy2] Registered as sound listener
[12:09:41] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[12:09:41] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[12:09:41] [ENEMY] [Enemy3] Registered as sound listener
[12:09:41] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[12:09:41] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[12:09:41] [ENEMY] [Enemy4] Registered as sound listener
[12:09:41] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[12:09:41] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[12:09:41] [ENEMY] [Enemy5] Registered as sound listener
[12:09:41] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[12:09:41] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[12:09:41] [ENEMY] [Enemy6] Registered as sound listener
[12:09:41] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[12:09:41] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[12:09:41] [ENEMY] [Enemy7] Registered as sound listener
[12:09:41] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[12:09:41] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[12:09:41] [ENEMY] [Enemy8] Registered as sound listener
[12:09:41] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[12:09:41] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[12:09:41] [ENEMY] [Enemy9] Registered as sound listener
[12:09:41] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[12:09:41] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[12:09:41] [ENEMY] [Enemy10] Registered as sound listener
[12:09:41] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[12:09:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:09:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:09:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:09:41] [INFO] [LastChance] Found player: Player
[12:09:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:09:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:09:41] [INFO] [LastChance] Connected to player Died signal (C#)
[12:09:41] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[12:09:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.528, 1518.106), source=ENEMY (Enemy10), range=1469, listeners=30
[12:09:42] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[12:09:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:09:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1113.222, 1497.771), source=ENEMY (Enemy10), range=1469, listeners=10
[12:09:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:09:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.749, 1476.207), source=ENEMY (Enemy10), range=1469, listeners=10
[12:09:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:09:42] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:09:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=1584490613051, bullet_pos=(64.61339, 850.4285)
[12:09:42] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:09:42] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:09:42] [INFO] [Bullet] Distance-based penetration chance: 50.6761238618226%
[12:09:42] [INFO] [Bullet] Starting wall penetration at (64.61339, 850.4285)
[12:09:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8.19846057891846
[12:09:42] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:42] [INFO] [Bullet] Exiting penetration at (25.04935, 825.6805) after traveling 41.6666717529297 pixels through wall
[12:09:42] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=1584490613051, bullet_pos=(60.65509, 787.2949)
[12:09:42] [INFO] [Bullet] Using shooter_position, distance=1208.33386230469
[12:09:42] [INFO] [Bullet] Distance to wall: 1208.33386230469 (82.2776746143741% of viewport)
[12:09:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=1584490613051, bullet_pos=(225.2877, 709.5101)
[12:09:42] [INFO] [Bullet] Using shooter_position, distance=1127.18920898438
[12:09:42] [INFO] [Bullet] Distance to wall: 1127.18920898438 (76.7523859579338% of viewport)
[12:09:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.362, 1444.423), shooter_id=1584490613051, bullet_pos=(59.01187, 724.3607)
[12:09:42] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[12:09:42] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[12:09:43] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:09:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=1584490613051, bullet_pos=(517.0211, 801.9934)
[12:09:43] [INFO] [Bullet] Using shooter_position, distance=858.813659667969
[12:09:43] [INFO] [Bullet] Distance to wall: 858.813659667969 (58.4782013058601% of viewport)
[12:09:43] [ENEMY] [Enemy3] Hit taken, health: 1/2
[12:09:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.362, 1444.423), shooter_id=1584490613051, bullet_pos=(496.2836, 413.9453)
[12:09:43] [INFO] [Bullet] Using shooter_position, distance=1160.19689941406
[12:09:43] [INFO] [Bullet] Distance to wall: 1160.19689941406 (78.9999402950819% of viewport)
[12:09:43] [INFO] [Bullet] Distance-based penetration chance: 54.5000696557378%
[12:09:43] [INFO] [Bullet] Penetration failed (distance roll)
[12:09:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(468.7599, 764.6313), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:43] [ENEMY] [Enemy1] Heard gunshot at (468.7599, 764.6313), source_type=0, intensity=0.01, distance=448
[12:09:43] [ENEMY] [Enemy2] Heard gunshot at (468.7599, 764.6313), source_type=0, intensity=0.05, distance=225
[12:09:43] [ENEMY] [Enemy4] Heard gunshot at (468.7599, 764.6313), source_type=0, intensity=0.02, distance=358
[12:09:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:09:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.5684, 752.2266), source=ENEMY (Enemy3), range=1469, listeners=10
[12:09:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:09:43] [INFO] [LastChance] Threat detected: @Area2D@7132
[12:09:43] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:43] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[12:09:43] [ENEMY] [Enemy3] Hit taken, health: 0/2
[12:09:43] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[12:09:43] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[12:09:43] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[12:09:43] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[12:09:43] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[12:09:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(494.5206, 748.1166), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[12:09:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(523.8715, 746.4526), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[12:09:43] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[12:09:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(935.05347, 716.49255)
[12:09:43] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:43] [INFO] [Bullet] Using shooter_position, distance=1178,0011
[12:09:43] [INFO] [Bullet] Distance to wall: 1178,0011 (80,212265% of viewport)
[12:09:43] [INFO] [Bullet] Distance-based penetration chance: 53,085697%
[12:09:43] [INFO] [Bullet] Penetration failed (distance roll)
[12:09:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(634.0096, 759.9497), shooter_id=1582494124451, bullet_pos=(50.67717, 760.9469)
[12:09:43] [INFO] [Bullet] Using shooter_position, distance=583.333312988281
[12:09:43] [INFO] [Bullet] Distance to wall: 583.333312988281 (39.7202379367503% of viewport)
[12:09:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:43] [INFO] [Bullet] Starting wall penetration at (50.67717, 760.9469)
[12:09:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27.9894638061523
[12:09:43] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:43] [INFO] [Bullet] Exiting penetration at (4.010574, 761.0267) after traveling 41.6666679382324 pixels through wall
[12:09:43] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(552.0227, 761.0779), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[12:09:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(923.8212, 740.0999)
[12:09:43] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:43] [INFO] [Bullet] Using shooter_position, distance=1183,7202
[12:09:43] [INFO] [Bullet] Distance to wall: 1183,7202 (80,601685% of viewport)
[12:09:43] [INFO] [Bullet] Distance-based penetration chance: 52,631367%
[12:09:43] [INFO] [Bullet] Starting wall penetration at (923.8212, 740.0999)
[12:09:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34,486404
[12:09:43] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:43] [INFO] [Bullet] Exiting penetration at (970.48206, 739.35876) after traveling 41,666668 pixels through wall
[12:09:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:09:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(579.2911, 787.6939), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[12:09:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(910.0901, 774.8786)
[12:09:43] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:43] [INFO] [Bullet] Using shooter_position, distance=1195,2827
[12:09:43] [INFO] [Bullet] Distance to wall: 1195,2827 (81,389% of viewport)
[12:09:43] [INFO] [Bullet] Distance-based penetration chance: 51,712833%
[12:09:43] [INFO] [Bullet] Starting wall penetration at (910.0901, 774.8786)
[12:09:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,737492
[12:09:43] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:43] [INFO] [Bullet] Exiting penetration at (956.7221, 776.6759) after traveling 41,66667 pixels through wall
[12:09:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:09:43] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[12:09:43] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[12:09:43] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[12:09:43] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[12:09:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(937.6084, 791.07166)
[12:09:43] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:43] [INFO] [Bullet] Using shooter_position, distance=1226,7452
[12:09:43] [INFO] [Bullet] Distance to wall: 1226,7452 (83,53134% of viewport)
[12:09:43] [INFO] [Bullet] Distance-based penetration chance: 49,21344%
[12:09:43] [INFO] [Bullet] Starting wall penetration at (937.6084, 791.07166)
[12:09:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 48,275093
[12:09:43] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:43] [INFO] [Bullet] Exiting penetration at (984.27295, 791.51154) after traveling 41,666668 pixels through wall
[12:09:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:09:44] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[12:09:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(610.4478, 934.2885), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=7
[12:09:44] [ENEMY] [Enemy4] Hit taken, health: 2/3
[12:09:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(627.6575, 961.8883), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=7
[12:09:44] [ENEMY] [Enemy4] Hit taken, health: 1/3
[12:09:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(732.9659, 914.0655), source=ENEMY (Enemy4), range=1469, listeners=9
[12:09:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=7
[12:09:44] [INFO] [LastChance] Threat detected: Bullet
[12:09:44] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:44] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[12:09:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[12:09:44] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[12:09:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(654.8435, 976.5555), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=7
[12:09:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(918.5849, 898.6744)
[12:09:44] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:44] [INFO] [Bullet] Using shooter_position, distance=1285,0735
[12:09:44] [INFO] [Bullet] Distance to wall: 1285,0735 (87,50302% of viewport)
[12:09:44] [INFO] [Bullet] Distance-based penetration chance: 44,57981%
[12:09:44] [INFO] [Bullet] Penetration failed (distance roll)
[12:09:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(691.2298, 978.8222), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:44] [ENEMY] [Enemy4] Heard gunshot at (691.2298, 978.8222), source_type=0, intensity=0.42, distance=77
[12:09:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=7
[12:09:44] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[12:09:44] [ENEMY] [Enemy4] Hit taken, health: 0/3
[12:09:44] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[12:09:44] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[12:09:44] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[12:09:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(725.2651, 968.0436), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=7
[12:09:44] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[12:09:44] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[12:09:44] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[12:09:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(753.5747, 943.442), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=7
[12:09:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(932.97644, 729.0166)
[12:09:44] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:44] [INFO] [Bullet] Using shooter_position, distance=1184,023
[12:09:44] [INFO] [Bullet] Distance to wall: 1184,023 (80,62231% of viewport)
[12:09:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[12:09:44] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[12:09:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(526.58264, 231.37105)
[12:09:45] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:45] [INFO] [Bullet] Using shooter_position, distance=575,17114
[12:09:45] [INFO] [Bullet] Distance to wall: 575,17114 (39,164463% of viewport)
[12:09:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:45] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[12:09:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(646.60895, 52.115036)
[12:09:45] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:45] [INFO] [Bullet] Using shooter_position, distance=648,7057
[12:09:45] [INFO] [Bullet] Distance to wall: 648,7057 (44,171566% of viewport)
[12:09:45] [INFO] [Bullet] Distance-based penetration chance: 95,13317%
[12:09:45] [INFO] [Bullet] Starting wall penetration at (646.60895, 52.115036)
[12:09:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,896326
[12:09:45] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:45] [INFO] [Bullet] Exiting penetration at (666.14, 22.945898) after traveling 30,104168 pixels through wall
[12:09:45] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[12:09:45] [ENEMY] [Enemy7] State: IDLE -> COMBAT
[12:09:45] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[12:09:45] [ENEMY] [Enemy10] FLANKING started: target=(861.7711, 696.882), side=left, pos=(953.4262, 1416.483)
[12:09:45] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[12:09:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(536.6292, 634.5817), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[12:09:46] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[12:09:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(501.7009, 643.2045), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[12:09:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(33.934208, 483.17865)
[12:09:46] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:46] [INFO] [Bullet] Using shooter_position, distance=484,3688
[12:09:46] [INFO] [Bullet] Distance to wall: 484,3688 (32,981564% of viewport)
[12:09:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(472.8007, 666.3807), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[12:09:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(30.593815, 535.18024)
[12:09:46] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:46] [INFO] [Bullet] Using shooter_position, distance=536,05396
[12:09:46] [INFO] [Bullet] Distance to wall: 536,05396 (36,5009% of viewport)
[12:09:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:46] [INFO] [Bullet] Starting wall penetration at (30.593815, 535.18024)
[12:09:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(245.68375, 433.496)
[12:09:46] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:46] [INFO] [Bullet] Using shooter_position, distance=498,2763
[12:09:46] [INFO] [Bullet] Distance to wall: 498,2763 (33,92855% of viewport)
[12:09:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:46] [INFO] [Bullet] Starting wall penetration at (245.68375, 433.496)
[12:09:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7,600734
[12:09:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 48,109352
[12:09:46] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:46] [INFO] [Bullet] Exiting penetration at (-14.892389, 524.7503) after traveling 41,666668 pixels through wall
[12:09:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:09:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.0684, 421.8279), source=ENEMY (Enemy1), range=1469, listeners=8
[12:09:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[12:09:46] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:46] [INFO] [Bullet] Exiting penetration at (319.51212, 416.1737) after traveling 35,416664 pixels through wall
[12:09:46] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[12:09:46] [ENEMY] [Enemy2] Hit taken, health: 1/2
[12:09:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(445.2437, 677.9338), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:09:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[12:09:46] [INFO] [LastChance] Threat detected: @Area2D@7154
[12:09:46] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:46] [ENEMY] [Enemy2] Hit taken, health: 0/2
[12:09:46] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[12:09:46] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[12:09:46] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[12:09:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.0684, 421.8279), source=ENEMY (Enemy1), range=1469, listeners=7
[12:09:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[12:09:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(408.5765, 677.9338), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:09:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[12:09:46] [INFO] [LastChance] Threat detected: @Area2D@7157
[12:09:46] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.0684, 421.8279), source=ENEMY (Enemy1), range=1469, listeners=7
[12:09:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[12:09:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(370.0765, 677.9338), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:09:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[12:09:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(53.524033, 629.55457)
[12:09:46] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:46] [INFO] [Bullet] Using shooter_position, distance=631,82574
[12:09:46] [INFO] [Bullet] Distance to wall: 631,82574 (43,022175% of viewport)
[12:09:46] [INFO] [LastChance] Threat detected: @Area2D@7158
[12:09:46] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:46] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[12:09:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(445.4948, 469.9593), shooter_id=1581923699422, bullet_pos=(371.9417, 708.8943)
[12:09:46] [INFO] [Bullet] Using shooter_position, distance=250.000015258789
[12:09:46] [INFO] [Bullet] Distance to wall: 250.000015258789 (17.0229607484629% of viewport)
[12:09:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:46] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:09:46] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[12:09:46] [INFO] [PenultimateHit] Starting penultimate hit effect:
[12:09:46] [INFO] [PenultimateHit]   - Time scale: 0.10
[12:09:46] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[12:09:46] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[12:09:46] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[12:09:46] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[12:09:46] [INFO] [PenultimateHit] Applying saturation to 8 enemies
[12:09:46] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:09:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(331.5765, 677.9338), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:09:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[12:09:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(67.100105, 572.3906)
[12:09:47] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:47] [INFO] [Bullet] Using shooter_position, distance=576,31024
[12:09:47] [INFO] [Bullet] Distance to wall: 576,31024 (39,242027% of viewport)
[12:09:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:47] [INFO] [Bullet] Starting wall penetration at (67.100105, 572.3906)
[12:09:47] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:09:47] [INFO] [Bullet] Exiting penetration at (58.443638, 569.3751) after traveling 4,166667 pixels through wall
[12:09:47] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:09:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(457.1633, 471.2196), shooter_id=1581923699422, bullet_pos=(436.1243, 1587.687)
[12:09:47] [INFO] [Bullet] Using shooter_position, distance=1116.66577148438
[12:09:47] [INFO] [Bullet] Distance to wall: 1116.66577148438 (76.0358257476635% of viewport)
[12:09:47] [INFO] [Bullet] Distance-based penetration chance: 57.9582032943925%
[12:09:47] [INFO] [Bullet] Penetration failed (distance roll)
[12:09:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(66.18154, 567.3798)
[12:09:48] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:48] [INFO] [Bullet] Using shooter_position, distance=571,2266
[12:09:48] [INFO] [Bullet] Distance to wall: 571,2266 (38,895874% of viewport)
[12:09:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:48] [INFO] [Bullet] Starting wall penetration at (66.18154, 567.3798)
[12:09:48] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:09:48] [INFO] [Bullet] Exiting penetration at (57.719673, 563.8549) after traveling 4,1666665 pixels through wall
[12:09:48] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:09:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(451.5521, 470.8744), shooter_id=1581923699422, bullet_pos=(310.8495, 1385.109)
[12:09:48] [INFO] [Bullet] Using shooter_position, distance=924.998901367188
[12:09:48] [INFO] [Bullet] Distance to wall: 924.998901367188 (62.9848761170878% of viewport)
[12:09:48] [INFO] [Bullet] Distance-based penetration chance: 73.1843111967309%
[12:09:48] [INFO] [Bullet] Starting wall penetration at (310.8495, 1385.109)
[12:09:48] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:09:48] [INFO] [Bullet] Exiting penetration at (309.4552, 1394.169) after traveling 4.16666650772095 pixels through wall
[12:09:48] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(268.4648, 662.9947), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:09:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[12:09:49] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[12:09:49] [ENEMY] [Enemy7] FLANKING started: target=(382.6452, 490.6785), side=left, pos=(1500.817, 885.9338)
[12:09:49] [ENEMY] [Enemy7] State: PURSUING -> FLANKING
[12:09:50] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[12:09:50] [INFO] [PenultimateHit] Ending penultimate hit effect
[12:09:50] [ENEMY] [Enemy1] Hit taken, health: 3/4
[12:09:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(239.1931, 635.4039), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:09:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[12:09:50] [ENEMY] [Enemy1] Hit taken, health: 2/4
[12:09:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(211.9695, 608.1802), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:09:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[12:09:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(421.2304, 477.6806), source=ENEMY (Enemy1), range=1469, listeners=7
[12:09:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[12:09:50] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[12:09:50] [INFO] [LastChance] Threat detected: @Area2D@7169
[12:09:50] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:50] [ENEMY] [Enemy1] Hit taken, health: 1/4
[12:09:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(416.5628, 471.1834), source=ENEMY (Enemy1), range=1469, listeners=7
[12:09:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[12:09:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(184.7459, 580.9565), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:09:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[12:09:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.3394, 462.5204), source=ENEMY (Enemy1), range=1469, listeners=7
[12:09:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[12:09:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(379.0854, 510.3419), shooter_id=1581923699422, bullet_pos=(56.80966, 702.0797)
[12:09:50] [INFO] [Bullet] Using shooter_position, distance=375
[12:09:50] [INFO] [Bullet] Distance to wall: 375 (25.5344395641958% of viewport)
[12:09:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:50] [INFO] [Bullet] Starting wall penetration at (56.80966, 702.0797)
[12:09:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.7981204986572
[12:09:50] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:50] [INFO] [Bullet] Exiting penetration at (16.70424, 725.9404) after traveling 41.6666641235352 pixels through wall
[12:09:50] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(342.08505, 471.50104)
[12:09:50] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:50] [INFO] [Bullet] Using shooter_position, distance=582,525
[12:09:50] [INFO] [Bullet] Distance to wall: 582,525 (39,665203% of viewport)
[12:09:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(404.1161, 453.8575), source=ENEMY (Enemy1), range=1469, listeners=7
[12:09:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[12:09:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(157.5223, 553.7328), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:09:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[12:09:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(342.3965, 473.4277), shooter_id=1581923699422, bullet_pos=(342.3965, 473.4277)
[12:09:50] [INFO] [Bullet] Using shooter_position, distance=0
[12:09:50] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[12:09:50] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[12:09:50] [INFO] [Bullet] Starting wall penetration at (342.3965, 473.4277)
[12:09:50] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:09:50] [INFO] [Bullet] Exiting penetration at (297.48, 486.088) after traveling 41.6666603088379 pixels through wall
[12:09:50] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(366.0128, 510.749), shooter_id=1581923699422, bullet_pos=(58.01825, 724.6753)
[12:09:50] [INFO] [Bullet] Using shooter_position, distance=375.000152587891
[12:09:50] [INFO] [Bullet] Distance to wall: 375.000152587891 (25.5344499541858% of viewport)
[12:09:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(497.09668, 567.0297)
[12:09:50] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:50] [INFO] [Bullet] Using shooter_position, distance=754,07416
[12:09:50] [INFO] [Bullet] Distance to wall: 754,07416 (51,346294% of viewport)
[12:09:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(284.39438, 473.71106)
[12:09:50] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:50] [INFO] [Bullet] Using shooter_position, distance=552,5236
[12:09:50] [INFO] [Bullet] Distance to wall: 552,5236 (37,62235% of viewport)
[12:09:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(397.8926, 445.1945), source=ENEMY (Enemy1), range=1469, listeners=7
[12:09:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[12:09:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(333.8931, 456.1569), shooter_id=1581923699422, bullet_pos=(333.8931, 456.1569)
[12:09:50] [INFO] [Bullet] Using shooter_position, distance=0
[12:09:50] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[12:09:50] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[12:09:50] [INFO] [Bullet] Starting wall penetration at (333.8931, 456.1569)
[12:09:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(354.6509, 495.3698), shooter_id=1581923699422, bullet_pos=(61.36426, 653.7809)
[12:09:50] [INFO] [Bullet] Using shooter_position, distance=333.333343505859
[12:09:50] [INFO] [Bullet] Distance to wall: 333.333343505859 (22.6972803052845% of viewport)
[12:09:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:50] [INFO] [Bullet] Starting wall penetration at (61.36426, 653.7809)
[12:09:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13.2928628921509
[12:09:50] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:09:50] [INFO] [Bullet] Exiting penetration at (287.7696, 463.2563) after traveling 41.6666679382324 pixels through wall
[12:09:50] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:50] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:50] [INFO] [Bullet] Exiting penetration at (20.30414, 675.9585) after traveling 41.6666641235352 pixels through wall
[12:09:50] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:50] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[12:09:50] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:09:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(130.2987, 526.5092), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:09:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[12:09:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(322.19318, 693.3146)
[12:09:50] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:50] [INFO] [Bullet] Using shooter_position, distance=764,5218
[12:09:50] [INFO] [Bullet] Distance to wall: 764,5218 (52,057693% of viewport)
[12:09:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(314.53595, 473.66248)
[12:09:50] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:50] [INFO] [Bullet] Using shooter_position, distance=568,5851
[12:09:50] [INFO] [Bullet] Distance to wall: 568,5851 (38,716007% of viewport)
[12:09:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(103.0751, 499.2855), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:09:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[12:09:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(366.0128, 510.749), shooter_id=1581923699422, bullet_pos=(514.8597, 1005.496)
[12:09:50] [INFO] [Bullet] Using shooter_position, distance=516.652587890625
[12:09:50] [INFO] [Bullet] Distance to wall: 516.652587890625 (35.1798247498094% of viewport)
[12:09:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(366.0128, 510.749), shooter_id=1581923699422, bullet_pos=(519.7353, 1006.604)
[12:09:50] [INFO] [Bullet] Using shooter_position, distance=519.136962890625
[12:09:50] [INFO] [Bullet] Distance to wall: 519.136962890625 (35.3489904119222% of viewport)
[12:09:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:50] [INFO] [Bullet] Starting wall penetration at (519.7353, 1006.604)
[12:09:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30.7306041717529
[12:09:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(249.06659, 464.84012)
[12:09:50] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:50] [INFO] [Bullet] Using shooter_position, distance=527,3618
[12:09:50] [INFO] [Bullet] Distance to wall: 527,3618 (35,909035% of viewport)
[12:09:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:50] [INFO] [Bullet] Starting wall penetration at (249.06659, 464.84012)
[12:09:50] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:50] [INFO] [Bullet] Exiting penetration at (553.9659, 1014.387) after traveling 30.1041717529297 pixels through wall
[12:09:50] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[12:09:50] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:09:50] [INFO] [Bullet] Exiting penetration at (294.48618, 454.12378) after traveling 41,666668 pixels through wall
[12:09:50] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:09:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(59.872005, 524.2865)
[12:09:50] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:50] [INFO] [Bullet] Using shooter_position, distance=527,69403
[12:09:50] [INFO] [Bullet] Distance to wall: 527,69403 (35,93166% of viewport)
[12:09:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(909.5923, 885.7228)
[12:09:50] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:50] [INFO] [Bullet] Using shooter_position, distance=1269,5917
[12:09:50] [INFO] [Bullet] Distance to wall: 1269,5917 (86,44884% of viewport)
[12:09:50] [ENEMY] [Enemy10] State: FLANKING -> RETREATING
[12:09:50] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[12:09:50] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[12:09:50] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[12:09:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(773.988, 1012.4829)
[12:09:50] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:50] [INFO] [Bullet] Using shooter_position, distance=1274,4329
[12:09:50] [INFO] [Bullet] Distance to wall: 1274,4329 (86,77848% of viewport)
[12:09:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(233.09369, 422.81833)
[12:09:50] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:50] [INFO] [Bullet] Using shooter_position, distance=482,81262
[12:09:50] [INFO] [Bullet] Distance to wall: 482,81262 (32,8756% of viewport)
[12:09:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(59.159767, 346.65814)
[12:09:51] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:51] [INFO] [Bullet] Using shooter_position, distance=351,66992
[12:09:51] [INFO] [Bullet] Distance to wall: 351,66992 (23,945852% of viewport)
[12:09:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:51] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[12:09:51] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:09:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(495.50897, 705.5779)
[12:09:51] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:51] [INFO] [Bullet] Using shooter_position, distance=862,18866
[12:09:51] [INFO] [Bullet] Distance to wall: 862,18866 (58,70801% of viewport)
[12:09:51] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:09:51] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:09:51] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:09:51] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:09:51] [INFO] [Player] Ready! Grenades: 1/3
[12:09:51] [INFO] [ScoreManager] Level started with 10 enemies
[12:09:51] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 8)
[12:09:51] [ENEMY] [Enemy1] Registered as sound listener
[12:09:51] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[12:09:51] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 9)
[12:09:51] [ENEMY] [Enemy2] Registered as sound listener
[12:09:51] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[12:09:51] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 10)
[12:09:51] [ENEMY] [Enemy3] Registered as sound listener
[12:09:51] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[12:09:51] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 11)
[12:09:51] [ENEMY] [Enemy4] Registered as sound listener
[12:09:51] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[12:09:51] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 12)
[12:09:51] [ENEMY] [Enemy5] Registered as sound listener
[12:09:51] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[12:09:51] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 13)
[12:09:51] [ENEMY] [Enemy6] Registered as sound listener
[12:09:51] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[12:09:51] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 14)
[12:09:51] [ENEMY] [Enemy7] Registered as sound listener
[12:09:51] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[12:09:51] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 15)
[12:09:51] [ENEMY] [Enemy8] Registered as sound listener
[12:09:51] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[12:09:51] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 16)
[12:09:51] [ENEMY] [Enemy9] Registered as sound listener
[12:09:51] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[12:09:51] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 17)
[12:09:51] [ENEMY] [Enemy10] Registered as sound listener
[12:09:51] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[12:09:51] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:09:51] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:09:51] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:09:51] [INFO] [LastChance] Found player: Player
[12:09:51] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:09:51] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:09:51] [INFO] [LastChance] Connected to player Died signal (C#)
[12:09:51] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[12:09:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.528, 1518.106), source=ENEMY (Enemy10), range=1469, listeners=17
[12:09:51] [INFO] [SoundPropagation] Cleaned up 7 invalid listeners
[12:09:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:09:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1113.222, 1497.771), source=ENEMY (Enemy10), range=1469, listeners=10
[12:09:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:09:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.749, 1476.207), source=ENEMY (Enemy10), range=1469, listeners=10
[12:09:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:09:52] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:09:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=1738270573802, bullet_pos=(64.61339, 850.4285)
[12:09:52] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:09:52] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:09:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=1738270573802, bullet_pos=(60.65509, 787.2949)
[12:09:52] [INFO] [Bullet] Using shooter_position, distance=1208.33386230469
[12:09:52] [INFO] [Bullet] Distance to wall: 1208.33386230469 (82.2776746143741% of viewport)
[12:09:52] [INFO] [Bullet] Distance-based penetration chance: 50.6760462832302%
[12:09:52] [INFO] [Bullet] Penetration failed (distance roll)
[12:09:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=1738270573802, bullet_pos=(273.0406, 707.1634)
[12:09:52] [INFO] [Bullet] Using shooter_position, distance=1131.63879394531
[12:09:52] [INFO] [Bullet] Distance to wall: 1131.63879394531 (77.0553663799893% of viewport)
[12:09:52] [INFO] [LastChance] Threat detected: Bullet
[12:09:52] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.362, 1444.423), shooter_id=1738270573802, bullet_pos=(59.01187, 724.3607)
[12:09:52] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[12:09:52] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[12:09:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.362, 1444.423), shooter_id=1738270573802, bullet_pos=(125.035, 687.0559)
[12:09:52] [INFO] [Bullet] Using shooter_position, distance=1179.58117675781
[12:09:52] [INFO] [Bullet] Distance to wall: 1179.58117675781 (80.3198513839608% of viewport)
[12:09:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=1738270573802, bullet_pos=(497.3396, 915.3734)
[12:09:52] [INFO] [Bullet] Using shooter_position, distance=825.659484863281
[12:09:52] [INFO] [Bullet] Distance to wall: 825.659484863281 (56.2206725782573% of viewport)
[12:09:52] [INFO] [Bullet] Distance-based penetration chance: 81.0758819920332%
[12:09:52] [INFO] [Bullet] Starting wall penetration at (497.3396, 915.3734)
[12:09:52] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:09:52] [INFO] [Bullet] Exiting penetration at (523.0676, 939.2559) after traveling 30.1041717529297 pixels through wall
[12:09:52] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[12:09:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.362, 1444.423), shooter_id=1738270573802, bullet_pos=(65.30599, 660.8916)
[12:09:52] [INFO] [Bullet] Using shooter_position, distance=1242.30627441406
[12:09:52] [INFO] [Bullet] Distance to wall: 1242.30627441406 (84.5909186246589% of viewport)
[12:09:52] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:09:52] [ENEMY] [Enemy2] Hit taken, health: 1/2
[12:09:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(489.7048, 765.3682), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:52] [ENEMY] [Enemy1] Heard gunshot at (489.7048, 765.3682), source_type=0, intensity=0.01, distance=457
[12:09:52] [ENEMY] [Enemy2] Heard gunshot at (489.7048, 765.3682), source_type=0, intensity=0.05, distance=233
[12:09:52] [ENEMY] [Enemy4] Heard gunshot at (489.7048, 765.3682), source_type=0, intensity=0.02, distance=338
[12:09:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:09:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.5923, 752.3362), source=ENEMY (Enemy3), range=1469, listeners=10
[12:09:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:09:52] [INFO] [LastChance] Threat detected: @Area2D@7457
[12:09:52] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:52] [ENEMY] [Enemy3] Hit taken, health: 2/3
[12:09:52] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[12:09:52] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[12:09:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.3931, 748.9232), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:53] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[12:09:53] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[12:09:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.5923, 752.3362), source=ENEMY (Enemy3), range=1469, listeners=10
[12:09:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:09:53] [INFO] [LastChance] Threat detected: @Area2D@7459
[12:09:53] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:53] [ENEMY] [Enemy3] Hit taken, health: 1/3
[12:09:53] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[12:09:53] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[12:09:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.5274, 547.1436), source=ENEMY (Enemy2), range=1469, listeners=10
[12:09:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[12:09:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(557.0414, 747.6636), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:09:53] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[12:09:53] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:09:53] [ENEMY] [Enemy3] Hit taken, health: 0/3
[12:09:53] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[12:09:53] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[12:09:53] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[12:09:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(382.5639, 543.335), source=ENEMY (Enemy2), range=1469, listeners=9
[12:09:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[12:09:53] [INFO] [LastChance] Threat detected: @Area2D@7463
[12:09:53] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(372.6004, 539.5264), source=ENEMY (Enemy2), range=1469, listeners=9
[12:09:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[12:09:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(588.4048, 761.9337), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:53] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[12:09:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(443.4938, 582.0857), shooter_id=1735988873571, bullet_pos=(728.5967, 825.6866)
[12:09:53] [INFO] [Bullet] Using shooter_position, distance=375.000091552734
[12:09:53] [INFO] [Bullet] Distance to wall: 375.000091552734 (25.5344457981898% of viewport)
[12:09:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:53] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:09:53] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[12:09:53] [INFO] [PenultimateHit] Starting penultimate hit effect:
[12:09:53] [INFO] [PenultimateHit]   - Time scale: 0.10
[12:09:53] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[12:09:53] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[12:09:53] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[12:09:53] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[12:09:53] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[12:09:53] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:09:53] [INFO] [LastChance] Threat detected: @Area2D@7464
[12:09:53] [INFO] [LastChance] Not in hard mode - effect disabled
[12:09:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:09:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(416.2639, 587.1805), shooter_id=1735988873571, bullet_pos=(499.7548, 685.7366)
[12:09:53] [INFO] [Bullet] Using shooter_position, distance=129.166717529297
[12:09:53] [INFO] [Bullet] Distance to wall: 129.166717529297 (8.79519931321968% of viewport)
[12:09:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:53] [INFO] [Bullet] Starting wall penetration at (499.7548, 685.7366)
[12:09:53] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:09:53] [INFO] [Bullet] Exiting penetration at (505.68, 692.7308) after traveling 4.16666698455811 pixels through wall
[12:09:53] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(361.1424, 535.1465), source=ENEMY (Enemy2), range=1469, listeners=9
[12:09:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[12:09:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(394.7876, 590.7578), shooter_id=1735988873571, bullet_pos=(452.685, 687.2156)
[12:09:53] [INFO] [Bullet] Using shooter_position, distance=112.499816894531
[12:09:53] [INFO] [Bullet] Distance to wall: 112.499816894531 (7.66031940127067% of viewport)
[12:09:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(908.71375, 780.26227)
[12:09:53] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:09:53] [INFO] [Bullet] Using shooter_position, distance=1197,7354
[12:09:53] [INFO] [Bullet] Distance to wall: 1197,7354 (81,55601% of viewport)
[12:09:53] [INFO] [Bullet] Distance-based penetration chance: 51,517998%
[12:09:53] [INFO] [Bullet] Starting wall penetration at (908.71375, 780.26227)
[12:09:53] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:09:53] [INFO] [Bullet] Exiting penetration at (917.8654, 780.78595) after traveling 4,1666665 pixels through wall
[12:09:53] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:09:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(443.4938, 582.0857), shooter_id=1735988873571, bullet_pos=(909.6541, 649.0928)
[12:09:54] [INFO] [Bullet] Using shooter_position, distance=470.951538085938
[12:09:54] [INFO] [Bullet] Distance to wall: 470.951538085938 (32.0679562317878% of viewport)
[12:09:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:54] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[12:09:54] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[12:09:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(394.7876, 590.7578), shooter_id=1735988873571, bullet_pos=(496.1454, 596.4606)
[12:09:54] [INFO] [Bullet] Using shooter_position, distance=101.518119812012
[12:09:54] [INFO] [Bullet] Distance to wall: 101.518119812012 (6.9125554533616% of viewport)
[12:09:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:54] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[12:09:54] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[12:09:54] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[12:09:55] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[12:09:55] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[12:09:55] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[12:09:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(394.7876, 590.7578), shooter_id=1735988873571, bullet_pos=(336.4594, 276.9221)
[12:09:56] [INFO] [Bullet] Using shooter_position, distance=319.210052490234
[12:09:56] [INFO] [Bullet] Distance to wall: 319.210052490234 (21.7355994495884% of viewport)
[12:09:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:56] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[12:09:56] [INFO] [PenultimateHit] Ending penultimate hit effect
[12:09:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(443.4938, 582.0857), shooter_id=1735988873571, bullet_pos=(517.7585, 312.2434)
[12:09:56] [INFO] [Bullet] Using shooter_position, distance=279.875152587891
[12:09:56] [INFO] [Bullet] Distance to wall: 279.875152587891 (19.0572137847348% of viewport)
[12:09:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:09:56] [ENEMY] [Enemy1] Hit taken, health: 3/4
[12:09:56] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[12:09:56] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[12:09:56] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:09:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(443.4938, 582.0857), shooter_id=1735988873571, bullet_pos=(878.7066, 60.60641)
[12:09:56] [INFO] [Bullet] Using shooter_position, distance=679.228088378906
[12:09:56] [INFO] [Bullet] Distance to wall: 679.228088378906 (46.2498895280411% of viewport)
[12:09:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(443.4938, 582.0857), shooter_id=1735988873571, bullet_pos=(1075.128, 239.9837)
[12:09:56] [INFO] [Bullet] Using shooter_position, distance=718.328430175781
[12:09:56] [INFO] [Bullet] Distance to wall: 718.328430175781 (48.912303700179% of viewport)
[12:09:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(443.4938, 582.0857), shooter_id=1735988873571, bullet_pos=(1027.339, 277.0237)
[12:09:56] [INFO] [Bullet] Using shooter_position, distance=658.739379882813
[12:09:56] [INFO] [Bullet] Distance to wall: 658.739379882813 (44.8547756911293% of viewport)
[12:09:57] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[12:09:57] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[12:09:57] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[12:09:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(443.4938, 582.0857), shooter_id=1735988873571, bullet_pos=(1368.686, 481.4188)
[12:09:57] [INFO] [Bullet] Using shooter_position, distance=930.652587890625
[12:09:57] [INFO] [Bullet] Distance to wall: 930.652587890625 (63.3698460286815% of viewport)
[12:09:57] [INFO] [Bullet] Distance-based penetration chance: 72.7351796332049%
[12:09:57] [INFO] [Bullet] Starting wall penetration at (1368.686, 481.4188)
[12:09:57] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:09:57] [INFO] [Bullet] Exiting penetration at (1386.458, 492.0605) after traveling 15.7145643234253 pixels through wall
[12:09:57] [INFO] [Bullet] Damage multiplier after penetration: 0.0140625
[12:09:57] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[12:09:57] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[12:09:57] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[12:09:57] [ENEMY] [Enemy7] State: IDLE -> COMBAT
[12:09:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(807.1632, 962.0237), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[12:09:57] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[12:09:57] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[12:09:57] [INFO] [PenultimateHit] Player died - ending penultimate effect
[12:09:57] [INFO] [LastChance] Player died
[12:09:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(832.5391, 934.0347), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[12:09:58] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[12:09:58] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[12:09:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(844.6727, 900.5605), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[12:09:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(845.3677, 862.3484), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[12:09:58] [ENEMY] [Enemy10] FLANKING started: target=(694.2407, 987.347), side=right, pos=(953.4262, 1416.483)
[12:09:58] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[12:09:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(845.3677, 823.8484), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:09:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[12:09:58] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:09:58] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:09:58] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:09:58] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:09:58] [INFO] [Player] Ready! Grenades: 1/3
[12:09:58] [INFO] [ScoreManager] Level started with 10 enemies
[12:09:58] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[12:09:58] [ENEMY] [Enemy1] Registered as sound listener
[12:09:58] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[12:09:58] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[12:09:58] [ENEMY] [Enemy2] Registered as sound listener
[12:09:58] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[12:09:58] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[12:09:58] [ENEMY] [Enemy3] Registered as sound listener
[12:09:58] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[12:09:58] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[12:09:58] [ENEMY] [Enemy4] Registered as sound listener
[12:09:58] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[12:09:58] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[12:09:58] [ENEMY] [Enemy5] Registered as sound listener
[12:09:58] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[12:09:58] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[12:09:58] [ENEMY] [Enemy6] Registered as sound listener
[12:09:58] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[12:09:58] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[12:09:58] [ENEMY] [Enemy7] Registered as sound listener
[12:09:58] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[12:09:58] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[12:09:58] [ENEMY] [Enemy8] Registered as sound listener
[12:09:58] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[12:09:58] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[12:09:58] [ENEMY] [Enemy9] Registered as sound listener
[12:09:58] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[12:09:58] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[12:09:58] [ENEMY] [Enemy10] Registered as sound listener
[12:09:58] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[12:09:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1255.667), source=PLAYER (AssaultRifle), range=1469, listeners=19
[12:09:58] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[12:09:58] [ENEMY] [Enemy4] Heard gunshot at (450, 1255.667), source_type=0, intensity=0.01, distance=499
[12:09:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[12:09:58] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:09:58] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:09:58] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:09:58] [INFO] [LastChance] Found player: Player
[12:09:58] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:09:58] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:09:58] [INFO] [LastChance] Connected to player Died signal (C#)
[12:09:58] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:09:58] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:09:58] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:09:58] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:09:58] [INFO] [Player] Ready! Grenades: 1/3
[12:09:58] [INFO] [ScoreManager] Level started with 10 enemies
[12:09:58] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:09:58] [ENEMY] [Enemy1] Registered as sound listener
[12:09:58] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[12:09:58] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:09:58] [ENEMY] [Enemy2] Registered as sound listener
[12:09:58] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[12:09:58] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:09:58] [ENEMY] [Enemy3] Registered as sound listener
[12:09:58] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[12:09:58] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:09:58] [ENEMY] [Enemy4] Registered as sound listener
[12:09:58] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[12:09:58] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:09:58] [ENEMY] [Enemy5] Registered as sound listener
[12:09:58] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[12:09:58] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:09:58] [ENEMY] [Enemy6] Registered as sound listener
[12:09:58] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[12:09:58] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:09:58] [ENEMY] [Enemy7] Registered as sound listener
[12:09:58] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[12:09:58] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:09:58] [ENEMY] [Enemy8] Registered as sound listener
[12:09:58] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[12:09:58] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:09:58] [ENEMY] [Enemy9] Registered as sound listener
[12:09:58] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[12:09:58] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:09:58] [ENEMY] [Enemy10] Registered as sound listener
[12:09:58] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[12:09:58] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:09:58] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:09:58] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:09:58] [INFO] [LastChance] Found player: Player
[12:09:58] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:09:58] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:09:58] [INFO] [LastChance] Connected to player Died signal (C#)
[12:09:59] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[12:09:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.528, 1518.106), source=ENEMY (Enemy10), range=1469, listeners=20
[12:09:59] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[12:09:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:09:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1113.222, 1497.771), source=ENEMY (Enemy10), range=1469, listeners=10
[12:09:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:09:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.749, 1476.207), source=ENEMY (Enemy10), range=1469, listeners=10
[12:09:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:09:59] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:09:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=1880776247512, bullet_pos=(64.61339, 850.4285)
[12:09:59] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:09:59] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:09:59] [INFO] [Bullet] Distance-based penetration chance: 50.6761238618226%
[12:09:59] [INFO] [Bullet] Starting wall penetration at (64.61339, 850.4285)
[12:09:59] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8.19846057891846
[12:09:59] [INFO] [Bullet] Body exited signal received for penetrating body
[12:09:59] [INFO] [Bullet] Exiting penetration at (25.04935, 825.6805) after traveling 41.6666717529297 pixels through wall
[12:09:59] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:09:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=1880776247512, bullet_pos=(60.65509, 787.2949)
[12:09:59] [INFO] [Bullet] Using shooter_position, distance=1208.33386230469
[12:09:59] [INFO] [Bullet] Distance to wall: 1208.33386230469 (82.2776746143741% of viewport)
[12:09:59] [INFO] [Bullet] Distance-based penetration chance: 50.6760462832302%
[12:09:59] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.362, 1444.423), shooter_id=1880776247512, bullet_pos=(59.01187, 724.3607)
[12:10:00] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[12:10:00] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[12:10:00] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:10:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.362, 1444.423), shooter_id=1880776247512, bullet_pos=(308.4187, 465.9098)
[12:10:00] [INFO] [Bullet] Using shooter_position, distance=1215.42053222656
[12:10:00] [INFO] [Bullet] Distance to wall: 1215.42053222656 (82.7602190005915% of viewport)
[12:10:00] [INFO] [Bullet] Distance-based penetration chance: 50.1130778326432%
[12:10:00] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.5667, 752.2189), source=ENEMY (Enemy3), range=1469, listeners=10
[12:10:00] [ENEMY] [Enemy2] Heard gunshot at (689.5667, 752.2189), source_type=1, intensity=0.02, distance=353
[12:10:00] [ENEMY] [Enemy4] Heard gunshot at (689.5667, 752.2189), source_type=1, intensity=0.07, distance=184
[12:10:00] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:10:00] [INFO] [LastChance] Threat detected: Bullet
[12:10:00] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(459.3898, 734.0669), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:00] [ENEMY] [Enemy1] Heard gunshot at (459.3898, 734.0669), source_type=0, intensity=0.01, distance=416
[12:10:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:10:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.5667, 752.2189), source=ENEMY (Enemy3), range=1469, listeners=10
[12:10:00] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:10:00] [ENEMY] [Enemy3] Hit taken, health: 2/3
[12:10:00] [INFO] [LastChance] Threat detected: @Area2D@7990
[12:10:00] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(480.8696, 736.0453), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:10:00] [ENEMY] [Enemy3] Hit taken, health: 1/3
[12:10:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.5667, 752.2189), source=ENEMY (Enemy3), range=1469, listeners=10
[12:10:00] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:10:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(633.664, 756.9049), shooter_id=1878779759589, bullet_pos=(51.14336, 726.1235)
[12:10:00] [INFO] [Bullet] Using shooter_position, distance=583.333312988281
[12:10:00] [INFO] [Bullet] Distance to wall: 583.333312988281 (39.7202379367503% of viewport)
[12:10:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:10:00] [INFO] [LastChance] Threat detected: @Area2D@7993
[12:10:00] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(506.4516, 752.2018), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:10:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(633.664, 756.9049), shooter_id=1878779759589, bullet_pos=(125.9358, 713.6023)
[12:10:00] [INFO] [Bullet] Using shooter_position, distance=509.571380615234
[12:10:00] [INFO] [Bullet] Distance to wall: 509.571380615234 (34.697652325236% of viewport)
[12:10:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:10:00] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[12:10:00] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[12:10:00] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:10:00] [ENEMY] [Enemy3] Hit taken, health: 0/3
[12:10:00] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[12:10:00] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[12:10:00] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[12:10:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(533.6364, 779.1635), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:00] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[12:10:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(633.664, 756.9049), shooter_id=1878779759589, bullet_pos=(501.7106, 839.6581)
[12:10:00] [INFO] [Bullet] Using shooter_position, distance=155.755569458008
[12:10:00] [INFO] [Bullet] Distance to wall: 155.755569458008 (10.6056831336331% of viewport)
[12:10:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:10:00] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[12:10:00] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[12:10:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(933.45026, 791.3679)
[12:10:00] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:00] [INFO] [Bullet] Using shooter_position, distance=1223,7616
[12:10:00] [INFO] [Bullet] Distance to wall: 1223,7616 (83,32818% of viewport)
[12:10:00] [INFO] [Bullet] Distance-based penetration chance: 49,45046%
[12:10:00] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:00] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[12:10:01] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[12:10:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(603.684, 959.149), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:10:01] [ENEMY] [Enemy4] Hit taken, health: 2/3
[12:10:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(718.5417, 914.0654), source=ENEMY (Enemy4), range=1469, listeners=9
[12:10:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[12:10:01] [INFO] [LastChance] Threat detected: Bullet
[12:10:01] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(620.3569, 985.9477), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:10:01] [ENEMY] [Enemy4] Hit taken, health: 1/3
[12:10:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(718.5417, 914.0654), source=ENEMY (Enemy4), range=1469, listeners=9
[12:10:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[12:10:01] [INFO] [LastChance] Threat detected: Bullet
[12:10:01] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:01] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[12:10:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[12:10:01] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[12:10:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(649.187, 989.9336), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=7
[12:10:01] [ENEMY] [Enemy4] Hit taken, health: 0/3
[12:10:01] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[12:10:01] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[12:10:01] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[12:10:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(687.6213, 989.9336), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:10:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=7
[12:10:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:10:01] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[12:10:01] [INFO] [PenultimateHit] Starting penultimate hit effect:
[12:10:01] [INFO] [PenultimateHit]   - Time scale: 0.10
[12:10:01] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[12:10:01] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[12:10:01] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[12:10:01] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[12:10:01] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[12:10:01] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:10:04] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[12:10:04] [INFO] [PenultimateHit] Ending penultimate hit effect
[12:10:05] [ENEMY] [Enemy10] FLANKING started: target=(629.5632, 1062.025), side=right, pos=(953.4262, 1416.483)
[12:10:05] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[12:10:07] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:10:07] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:10:07] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:10:07] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:10:07] [INFO] [Player] Ready! Grenades: 1/3
[12:10:07] [INFO] [ScoreManager] Level started with 10 enemies
[12:10:07] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[12:10:07] [ENEMY] [Enemy1] Registered as sound listener
[12:10:07] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[12:10:07] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[12:10:07] [ENEMY] [Enemy2] Registered as sound listener
[12:10:07] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[12:10:07] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[12:10:07] [ENEMY] [Enemy3] Registered as sound listener
[12:10:07] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[12:10:07] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[12:10:07] [ENEMY] [Enemy4] Registered as sound listener
[12:10:07] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[12:10:07] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[12:10:07] [ENEMY] [Enemy5] Registered as sound listener
[12:10:07] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[12:10:07] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[12:10:07] [ENEMY] [Enemy6] Registered as sound listener
[12:10:07] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[12:10:07] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[12:10:07] [ENEMY] [Enemy7] Registered as sound listener
[12:10:07] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[12:10:07] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[12:10:07] [ENEMY] [Enemy8] Registered as sound listener
[12:10:07] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[12:10:07] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[12:10:07] [ENEMY] [Enemy9] Registered as sound listener
[12:10:07] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[12:10:07] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[12:10:07] [ENEMY] [Enemy10] Registered as sound listener
[12:10:07] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[12:10:07] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:10:07] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:10:07] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:10:07] [INFO] [LastChance] Found player: Player
[12:10:07] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:10:07] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:10:07] [INFO] [LastChance] Connected to player Died signal (C#)
[12:10:07] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[12:10:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.528, 1518.106), source=ENEMY (Enemy10), range=1469, listeners=18
[12:10:07] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[12:10:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:10:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1113.222, 1497.771), source=ENEMY (Enemy10), range=1469, listeners=10
[12:10:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:10:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.749, 1476.207), source=ENEMY (Enemy10), range=1469, listeners=10
[12:10:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:10:08] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:10:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=1958270209247, bullet_pos=(64.61339, 850.4285)
[12:10:08] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:10:08] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:10:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=1958270209247, bullet_pos=(60.65509, 787.2949)
[12:10:08] [INFO] [Bullet] Using shooter_position, distance=1208.33386230469
[12:10:08] [INFO] [Bullet] Distance to wall: 1208.33386230469 (82.2776746143741% of viewport)
[12:10:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=1958270209247, bullet_pos=(397.3531, 715.2068)
[12:10:08] [INFO] [Bullet] Using shooter_position, distance=1039.53552246094
[12:10:08] [INFO] [Bullet] Distance to wall: 1039.53552246094 (70.783885261636% of viewport)
[12:10:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=1958270209247, bullet_pos=(226.4903, 712.1083)
[12:10:08] [INFO] [Bullet] Using shooter_position, distance=1124.55126953125
[12:10:08] [INFO] [Bullet] Distance to wall: 1124.55126953125 (76.5727638098276% of viewport)
[12:10:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.362, 1444.423), shooter_id=1958270209247, bullet_pos=(59.01187, 724.3607)
[12:10:08] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[12:10:08] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[12:10:08] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:10:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=1958270209247, bullet_pos=(695.9335, 840.4336)
[12:10:08] [INFO] [Bullet] Using shooter_position, distance=725.243041992188
[12:10:08] [INFO] [Bullet] Distance to wall: 725.243041992188 (49.383132333608% of viewport)
[12:10:08] [INFO] [Bullet] Distance-based penetration chance: 89.0530122774573%
[12:10:08] [INFO] [Bullet] Starting wall penetration at (695.9335, 840.4336)
[12:10:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=1958270209247, bullet_pos=(929.5416, 841.0955)
[12:10:08] [INFO] [Bullet] Using shooter_position, distance=669.40869140625
[12:10:08] [INFO] [Bullet] Distance to wall: 669.40869140625 (45.5812687318941% of viewport)
[12:10:08] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:10:08] [INFO] [Bullet] Exiting penetration at (729.7953, 849.6899) after traveling 30.1041660308838 pixels through wall
[12:10:08] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[12:10:08] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:10:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=1958270209247, bullet_pos=(746.4279, 860.3167)
[12:10:08] [INFO] [Bullet] Using shooter_position, distance=717.93310546875
[12:10:08] [INFO] [Bullet] Distance to wall: 717.93310546875 (48.8853853139392% of viewport)
[12:10:08] [INFO] [Bullet] Distance-based penetration chance: 89.6337171337376%
[12:10:08] [INFO] [Bullet] Starting wall penetration at (746.4279, 860.3167)
[12:10:08] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:10:08] [INFO] [Bullet] Exiting penetration at (716.0065, 863.51) after traveling 25.5885429382324 pixels through wall
[12:10:08] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[12:10:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(484.5606, 742.9026), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:08] [ENEMY] [Enemy1] Heard gunshot at (484.5606, 742.9026), source_type=0, intensity=0.01, distance=434
[12:10:08] [ENEMY] [Enemy2] Heard gunshot at (484.5606, 742.9026), source_type=0, intensity=0.06, distance=211
[12:10:08] [ENEMY] [Enemy4] Heard gunshot at (484.5606, 742.9026), source_type=0, intensity=0.02, distance=352
[12:10:08] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:10:08] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[12:10:08] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[12:10:08] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[12:10:08] [ENEMY] [Enemy3] Hit taken, health: 3/4
[12:10:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(510.3912, 739.1338), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:09] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[12:10:09] [ENEMY] [Enemy3] Hit taken, health: 2/4
[12:10:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(536.9552, 751.6818), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:09] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[12:10:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[12:10:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[12:10:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(564.1207, 777.6108), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:09] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[12:10:09] [INFO] [LastChance] Threat detected: @Area2D@8268
[12:10:09] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(427.4637, 600.7781), shooter_id=1955988506942, bullet_pos=(501.2404, 701.6841)
[12:10:09] [INFO] [Bullet] Using shooter_position, distance=125.00008392334
[12:10:09] [INFO] [Bullet] Distance to wall: 125.00008392334 (8.51148556922646% of viewport)
[12:10:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:10:09] [INFO] [Bullet] Starting wall penetration at (501.2404, 701.6841)
[12:10:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(936.9554, 751.46844)
[12:10:09] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:09] [INFO] [Bullet] Using shooter_position, distance=1201,0787
[12:10:09] [INFO] [Bullet] Distance to wall: 1201,0787 (81,78366% of viewport)
[12:10:09] [INFO] [Bullet] Distance-based penetration chance: 51,252396%
[12:10:09] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 48.7683525085449
[12:10:09] [INFO] [Bullet] Body exited signal received for penetrating body
[12:10:09] [INFO] [Bullet] Exiting penetration at (528.7838, 739.3557) after traveling 41.6666679382324 pixels through wall
[12:10:09] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:10:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[12:10:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[12:10:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(582.7214, 808.4063), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:09] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[12:10:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(922.4132, 772.187)
[12:10:09] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:09] [INFO] [Bullet] Using shooter_position, distance=1202,9625
[12:10:09] [INFO] [Bullet] Distance to wall: 1202,9625 (81,911934% of viewport)
[12:10:09] [INFO] [Bullet] Distance-based penetration chance: 51,102745%
[12:10:09] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(427.6403, 600.6823), shooter_id=1955988506942, bullet_pos=(501.7677, 701.3308)
[12:10:09] [INFO] [Bullet] Using shooter_position, distance=124.999969482422
[12:10:09] [INFO] [Bullet] Distance to wall: 124.999969482422 (8.51147777673392% of viewport)
[12:10:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:10:09] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[12:10:09] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[12:10:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(930.0965, 720.46783)
[12:10:09] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:09] [INFO] [Bullet] Using shooter_position, distance=1176,5005
[12:10:09] [INFO] [Bullet] Distance to wall: 1176,5005 (80,110085% of viewport)
[12:10:09] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[12:10:09] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[12:10:09] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[12:10:10] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[12:10:10] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[12:10:10] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[12:10:10] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[12:10:10] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[12:10:10] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[12:10:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(791.1459, 978.8472), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[12:10:10] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[12:10:10] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[12:10:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(819.4555, 954.2456), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[12:10:10] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:10:10] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[12:10:10] [INFO] [PenultimateHit] Starting penultimate hit effect:
[12:10:10] [INFO] [PenultimateHit]   - Time scale: 0.10
[12:10:10] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[12:10:10] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[12:10:10] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[12:10:10] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[12:10:10] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[12:10:10] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:10:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(837.0272, 932.9241), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[12:10:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[12:10:11] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[12:10:11] [INFO] [PenultimateHit] Player died - ending penultimate effect
[12:10:11] [INFO] [PenultimateHit] Ending penultimate hit effect
[12:10:11] [INFO] [LastChance] Player died
[12:10:11] [ENEMY] [Enemy7] State: IDLE -> COMBAT
[12:10:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(846.8335, 897.9359), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[12:10:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(846.9655, 859.4906), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[12:10:11] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[12:10:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(846.9655, 820.9906), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[12:10:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:10:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:10:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:10:11] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:10:11] [INFO] [Player] Ready! Grenades: 1/3
[12:10:11] [INFO] [ScoreManager] Level started with 10 enemies
[12:10:11] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:10:11] [ENEMY] [Enemy1] Registered as sound listener
[12:10:11] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[12:10:11] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:10:11] [ENEMY] [Enemy2] Registered as sound listener
[12:10:11] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[12:10:11] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:10:11] [ENEMY] [Enemy3] Registered as sound listener
[12:10:11] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[12:10:11] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:10:11] [ENEMY] [Enemy4] Registered as sound listener
[12:10:11] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[12:10:11] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:10:11] [ENEMY] [Enemy5] Registered as sound listener
[12:10:11] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[12:10:11] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:10:11] [ENEMY] [Enemy6] Registered as sound listener
[12:10:11] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[12:10:11] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:10:11] [ENEMY] [Enemy7] Registered as sound listener
[12:10:11] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[12:10:11] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:10:11] [ENEMY] [Enemy8] Registered as sound listener
[12:10:11] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[12:10:11] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:10:11] [ENEMY] [Enemy9] Registered as sound listener
[12:10:11] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[12:10:11] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:10:11] [ENEMY] [Enemy10] Registered as sound listener
[12:10:11] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[12:10:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:10:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:10:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:10:11] [INFO] [LastChance] Found player: Player
[12:10:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:10:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:10:11] [INFO] [LastChance] Connected to player Died signal (C#)
[12:10:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:10:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:10:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:10:11] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:10:11] [INFO] [Player] Ready! Grenades: 1/3
[12:10:11] [INFO] [ScoreManager] Level started with 10 enemies
[12:10:11] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[12:10:11] [ENEMY] [Enemy1] Registered as sound listener
[12:10:11] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[12:10:11] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[12:10:11] [ENEMY] [Enemy2] Registered as sound listener
[12:10:11] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[12:10:11] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[12:10:11] [ENEMY] [Enemy3] Registered as sound listener
[12:10:11] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[12:10:11] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[12:10:11] [ENEMY] [Enemy4] Registered as sound listener
[12:10:11] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[12:10:11] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[12:10:11] [ENEMY] [Enemy5] Registered as sound listener
[12:10:11] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[12:10:11] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[12:10:11] [ENEMY] [Enemy6] Registered as sound listener
[12:10:11] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[12:10:11] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[12:10:11] [ENEMY] [Enemy7] Registered as sound listener
[12:10:11] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[12:10:11] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[12:10:11] [ENEMY] [Enemy8] Registered as sound listener
[12:10:11] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[12:10:11] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[12:10:11] [ENEMY] [Enemy9] Registered as sound listener
[12:10:11] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[12:10:11] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[12:10:11] [ENEMY] [Enemy10] Registered as sound listener
[12:10:11] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[12:10:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:10:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:10:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:10:11] [INFO] [LastChance] Found player: Player
[12:10:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:10:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:10:11] [INFO] [LastChance] Connected to player Died signal (C#)
[12:10:12] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[12:10:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.528, 1518.106), source=ENEMY (Enemy10), range=1469, listeners=30
[12:10:12] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[12:10:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:10:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1113.222, 1497.771), source=ENEMY (Enemy10), range=1469, listeners=10
[12:10:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:10:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.749, 1476.207), source=ENEMY (Enemy10), range=1469, listeners=10
[12:10:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:10:12] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:10:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=2072741153287, bullet_pos=(64.61339, 850.4285)
[12:10:13] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:10:13] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:10:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=2072741153287, bullet_pos=(233.7709, 713.7097)
[12:10:13] [INFO] [Bullet] Using shooter_position, distance=1155.86071777344
[12:10:13] [INFO] [Bullet] Distance to wall: 1155.86071777344 (78.7046817136368% of viewport)
[12:10:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=2072741153287, bullet_pos=(60.65509, 787.2949)
[12:10:13] [INFO] [Bullet] Using shooter_position, distance=1208.33386230469
[12:10:13] [INFO] [Bullet] Distance to wall: 1208.33386230469 (82.2776746143741% of viewport)
[12:10:13] [INFO] [LastChance] Threat detected: Bullet
[12:10:13] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=2072741153287, bullet_pos=(182.5537, 705.736)
[12:10:13] [INFO] [Bullet] Using shooter_position, distance=1161.61828613281
[12:10:13] [INFO] [Bullet] Distance to wall: 1161.61828613281 (79.0967251304613% of viewport)
[12:10:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.362, 1444.423), shooter_id=2072741153287, bullet_pos=(59.01187, 724.3607)
[12:10:13] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[12:10:13] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[12:10:13] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[12:10:13] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:13] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[12:10:13] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[12:10:13] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:10:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=2072741153287, bullet_pos=(516.0039, 919.9967)
[12:10:13] [INFO] [Bullet] Using shooter_position, distance=771.562927246094
[12:10:13] [INFO] [Bullet] Distance to wall: 771.562927246094 (52.537138495305% of viewport)
[12:10:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(463.232, 771.7252), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:13] [ENEMY] [Enemy1] Heard gunshot at (463.232, 771.7252), source_type=0, intensity=0.01, distance=452
[12:10:13] [ENEMY] [Enemy2] Heard gunshot at (463.232, 771.7252), source_type=0, intensity=0.05, distance=231
[12:10:13] [ENEMY] [Enemy4] Heard gunshot at (463.232, 771.7252), source_type=0, intensity=0.02, distance=360
[12:10:13] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:10:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.5684, 752.2266), source=ENEMY (Enemy3), range=1469, listeners=10
[12:10:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:10:13] [ENEMY] [Enemy3] Hit taken, health: 1/2
[12:10:13] [INFO] [LastChance] Threat detected: @Area2D@8787
[12:10:13] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(486.1424, 751.5154), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:13] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:10:13] [ENEMY] [Enemy3] Hit taken, health: 0/2
[12:10:13] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[12:10:13] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[12:10:13] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[12:10:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(514.5111, 745.6916), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:13] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[12:10:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(634.0096, 759.9497), shooter_id=2070744664300, bullet_pos=(50.67717, 760.9469)
[12:10:13] [INFO] [Bullet] Using shooter_position, distance=583.333312988281
[12:10:13] [INFO] [Bullet] Distance to wall: 583.333312988281 (39.7202379367503% of viewport)
[12:10:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:10:13] [INFO] [Bullet] Starting wall penetration at (50.67717, 760.9469)
[12:10:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27.9894638061523
[12:10:13] [INFO] [Bullet] Body exited signal received for penetrating body
[12:10:13] [INFO] [Bullet] Exiting penetration at (4.010574, 761.0267) after traveling 41.6666679382324 pixels through wall
[12:10:13] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:10:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(542.3141, 756.1912), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:13] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[12:10:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(913.8674, 723.0029)
[12:10:13] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:13] [INFO] [Bullet] Using shooter_position, distance=1165,2839
[12:10:13] [INFO] [Bullet] Distance to wall: 1165,2839 (79,34633% of viewport)
[12:10:13] [INFO] [Bullet] Distance-based penetration chance: 54,095955%
[12:10:13] [INFO] [Bullet] Starting wall penetration at (913.8674, 723.0029)
[12:10:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24,498365
[12:10:13] [INFO] [Bullet] Body exited signal received for penetrating body
[12:10:13] [INFO] [Bullet] Exiting penetration at (960.4589, 720.3559) after traveling 41,666668 pixels through wall
[12:10:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:10:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[12:10:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[12:10:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(569.615, 781.1874), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:14] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[12:10:14] [INFO] [LastChance] Threat detected: Bullet
[12:10:14] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(427.8982, 600.5408), shooter_id=2070459452490, bullet_pos=(502.5375, 700.8102)
[12:10:14] [INFO] [Bullet] Using shooter_position, distance=125.000015258789
[12:10:14] [INFO] [Bullet] Distance to wall: 125.000015258789 (8.51148089373093% of viewport)
[12:10:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:10:14] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[12:10:14] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[12:10:14] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[12:10:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(596.8387, 808.4111), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:10:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(927.9133, 776.1635)
[12:10:14] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:14] [INFO] [Bullet] Using shooter_position, distance=1209,7327
[12:10:14] [INFO] [Bullet] Distance to wall: 1209,7327 (82,372925% of viewport)
[12:10:14] [INFO] [Bullet] Distance-based penetration chance: 50,564926%
[12:10:14] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(705.1567, 806.5896)
[12:10:14] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:14] [INFO] [Bullet] Using shooter_position, distance=1071,3695
[12:10:14] [INFO] [Bullet] Distance to wall: 1071,3695 (72,95152% of viewport)
[12:10:14] [INFO] [Bullet] Distance-based penetration chance: 61,556564%
[12:10:14] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(623.1385, 836.0175), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:10:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(689.43427, 828.9952)
[12:10:14] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:14] [INFO] [Bullet] Using shooter_position, distance=1078,2173
[12:10:14] [INFO] [Bullet] Distance to wall: 1078,2173 (73,4178% of viewport)
[12:10:14] [INFO] [Bullet] Distance-based penetration chance: 61,012566%
[12:10:14] [INFO] [Bullet] Starting wall penetration at (689.43427, 828.9952)
[12:10:14] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:10:14] [INFO] [Bullet] Exiting penetration at (735.8413, 824.0796) after traveling 41,666668 pixels through wall
[12:10:14] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:10:14] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[12:10:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.0119, 954.6998), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:10:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(2481.6523, 661.12256)
[12:10:14] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:14] [INFO] [Bullet] Using shooter_position, distance=2568,2058
[12:10:14] [INFO] [Bullet] Distance to wall: 2568,2058 (174,87387% of viewport)
[12:10:14] [INFO] [Bullet] Distance-based penetration chance: 15,0252285%
[12:10:14] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:14] [ENEMY] [Enemy4] Hit taken, health: 2/3
[12:10:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(658.1362, 984.6345), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=7
[12:10:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(918.6602, 896.58746)
[12:10:14] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:14] [INFO] [Bullet] Using shooter_position, distance=1283,6688
[12:10:14] [INFO] [Bullet] Distance to wall: 1283,6688 (87,40737% of viewport)
[12:10:14] [INFO] [Bullet] Distance-based penetration chance: 44,691402%
[12:10:14] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(686.2546, 989.9337), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=7
[12:10:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(930.90137, 864.34357)
[12:10:14] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:14] [INFO] [Bullet] Using shooter_position, distance=1270,302
[12:10:14] [INFO] [Bullet] Distance to wall: 1270,302 (86,4972% of viewport)
[12:10:14] [INFO] [Bullet] Distance-based penetration chance: 45,75327%
[12:10:14] [INFO] [Bullet] Starting wall penetration at (930.90137, 864.34357)
[12:10:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(723.8204, 988.0859), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:10:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40,935432
[12:10:14] [INFO] [Bullet] Body exited signal received for penetrating body
[12:10:14] [INFO] [Bullet] Exiting penetration at (972.4172, 843.0313) after traveling 41,666668 pixels through wall
[12:10:14] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:10:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(927.87006, 874.9129)
[12:10:15] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:15] [INFO] [Bullet] Using shooter_position, distance=1275,3099
[12:10:15] [INFO] [Bullet] Distance to wall: 1275,3099 (86,8382% of viewport)
[12:10:15] [INFO] [Bullet] Distance-based penetration chance: 45,355434%
[12:10:15] [INFO] [Bullet] Starting wall penetration at (927.87006, 874.9129)
[12:10:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,36998
[12:10:15] [INFO] [Bullet] Body exited signal received for penetrating body
[12:10:15] [INFO] [Bullet] Exiting penetration at (968.68, 852.2783) after traveling 41,66667 pixels through wall
[12:10:15] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:10:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(756.0698, 972.9959), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[12:10:15] [ENEMY] [Enemy4] Hit taken, health: 1/3
[12:10:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(782.6574, 946.0847), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[12:10:15] [ENEMY] [Enemy4] Hit taken, health: 0/3
[12:10:15] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[12:10:15] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[12:10:15] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[12:10:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(796.9467, 913.5034), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:10:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=8
[12:10:15] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[12:10:15] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[12:10:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(798.4512, 875.6266), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:10:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=8
[12:10:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(917.9612, 675.2226)
[12:10:15] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:15] [INFO] [Bullet] Using shooter_position, distance=1139,5518
[12:10:15] [INFO] [Bullet] Distance to wall: 1139,5518 (77,59418% of viewport)
[12:10:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(798.4512, 837.1266), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:10:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[12:10:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(924.51105, 640.7763)
[12:10:15] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:15] [INFO] [Bullet] Using shooter_position, distance=1124,8622
[12:10:15] [INFO] [Bullet] Distance to wall: 1124,8622 (76,59393% of viewport)
[12:10:15] [ENEMY] [Enemy7] State: IDLE -> COMBAT
[12:10:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(506.97406, 49.350098)
[12:10:15] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:15] [INFO] [Bullet] Using shooter_position, distance=509,37033
[12:10:15] [INFO] [Bullet] Distance to wall: 509,37033 (34,683964% of viewport)
[12:10:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:10:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(668.1252, 51.647686)
[12:10:15] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:15] [INFO] [Bullet] Using shooter_position, distance=670,1184
[12:10:15] [INFO] [Bullet] Distance to wall: 670,1184 (45,629597% of viewport)
[12:10:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(818.3839, 703.0104), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:10:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[12:10:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(845.028, 684.4589), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:10:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[12:10:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(522.36615, 320.74948)
[12:10:16] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:16] [INFO] [Bullet] Using shooter_position, distance=612,98175
[12:10:16] [INFO] [Bullet] Distance to wall: 612,98175 (41,739056% of viewport)
[12:10:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(243.78908, 422.42224)
[12:10:16] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:16] [INFO] [Bullet] Using shooter_position, distance=487,72293
[12:10:16] [INFO] [Bullet] Distance to wall: 487,72293 (33,209953% of viewport)
[12:10:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:10:16] [INFO] [Bullet] Starting wall penetration at (243.78908, 422.42224)
[12:10:16] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:10:16] [INFO] [Bullet] Exiting penetration at (223.5533, 451.107) after traveling 30,104166 pixels through wall
[12:10:16] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[12:10:16] [ENEMY] [Enemy2] Hit taken, health: 2/3
[12:10:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(871.2364, 680.5773), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:10:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[12:10:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(499.74884, 588.6201)
[12:10:16] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:16] [INFO] [Bullet] Using shooter_position, distance=772,1545
[12:10:16] [INFO] [Bullet] Distance to wall: 772,1545 (52,57742% of viewport)
[12:10:16] [INFO] [Bullet] Distance-based penetration chance: 85,32635%
[12:10:16] [INFO] [Bullet] Starting wall penetration at (499.74884, 588.6201)
[12:10:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 46,92731
[12:10:16] [INFO] [Bullet] Body exited signal received for penetrating body
[12:10:16] [INFO] [Bullet] Exiting penetration at (454.78226, 576.1388) after traveling 41,666668 pixels through wall
[12:10:16] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:10:16] [ENEMY] [Enemy2] Hit taken, health: 1/3
[12:10:16] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[12:10:16] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[12:10:16] [ENEMY] [Enemy10] FLANKING started: target=(714.6473, 792.7479), side=right, pos=(953.4262, 1416.483)
[12:10:16] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[12:10:16] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[12:10:16] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:10:16] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[12:10:16] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[12:10:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(884.813, 685.6617), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:10:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[12:10:16] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[12:10:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(522.9532, 596.3058)
[12:10:16] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:16] [INFO] [Bullet] Using shooter_position, distance=793,1334
[12:10:16] [INFO] [Bullet] Distance to wall: 793,1334 (54,005917% of viewport)
[12:10:16] [INFO] [Bullet] Distance-based penetration chance: 83,65977%
[12:10:16] [INFO] [Bullet] Starting wall penetration at (522.9532, 596.3058)
[12:10:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,051125
[12:10:16] [INFO] [Bullet] Body exited signal received for penetrating body
[12:10:16] [INFO] [Bullet] Exiting penetration at (477.5954, 585.3309) after traveling 41,666668 pixels through wall
[12:10:16] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:10:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(882.5574, 690.5586), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:10:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[12:10:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(712.33435, 828.7511)
[12:10:16] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:16] [INFO] [Bullet] Using shooter_position, distance=1092,8168
[12:10:16] [INFO] [Bullet] Distance to wall: 1092,8168 (74,4119% of viewport)
[12:10:16] [INFO] [Bullet] Distance-based penetration chance: 59,85278%
[12:10:16] [INFO] [Bullet] Starting wall penetration at (712.33435, 828.7511)
[12:10:16] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:10:16] [INFO] [Bullet] Exiting penetration at (723.0484, 857.40186) after traveling 25,588543 pixels through wall
[12:10:16] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[12:10:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(497.7217, 584.86285)
[12:10:16] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:16] [INFO] [Bullet] Using shooter_position, distance=767,9788
[12:10:16] [INFO] [Bullet] Distance to wall: 767,9788 (52,29309% of viewport)
[12:10:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(864.1154, 693.2686), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:10:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[12:10:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(497.30115, 582.95935)
[12:10:16] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:16] [INFO] [Bullet] Using shooter_position, distance=766,25714
[12:10:16] [INFO] [Bullet] Distance to wall: 766,25714 (52,17586% of viewport)
[12:10:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(830.0326, 693.8654), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:10:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[12:10:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(521.04553, 589.7988)
[12:10:16] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:16] [INFO] [Bullet] Using shooter_position, distance=786,98865
[12:10:16] [INFO] [Bullet] Distance to wall: 786,98865 (53,58751% of viewport)
[12:10:16] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[12:10:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(791.5326, 693.8654), source=PLAYER (AssaultRifle), range=1469, listeners=8
[12:10:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[12:10:16] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[12:10:16] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[12:10:16] [ENEMY] [Enemy2] Hit taken, health: 0/3
[12:10:16] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[12:10:16] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[12:10:16] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[12:10:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(753.0326, 693.8654), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:10:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[12:10:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(498.9781, 588.5977)
[12:10:17] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:17] [INFO] [Bullet] Using shooter_position, distance=771,63873
[12:10:17] [INFO] [Bullet] Distance to wall: 771,63873 (52,542297% of viewport)
[12:10:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(715.8082, 696.945), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:10:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[12:10:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(65.99335, 421.4354)
[12:10:17] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:17] [INFO] [Bullet] Using shooter_position, distance=426,57114
[12:10:17] [INFO] [Bullet] Distance to wall: 426,57114 (29,046015% of viewport)
[12:10:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:10:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(506.5444, 593.73126)
[12:10:17] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:17] [INFO] [Bullet] Using shooter_position, distance=780,4512
[12:10:17] [INFO] [Bullet] Distance to wall: 780,4512 (53,142357% of viewport)
[12:10:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(275.0485, 695.5963)
[12:10:17] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:17] [INFO] [Bullet] Using shooter_position, distance=748,0013
[12:10:17] [INFO] [Bullet] Distance to wall: 748,0013 (50,93278% of viewport)
[12:10:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(65.03958, 567.8063)
[12:10:17] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:17] [INFO] [Bullet] Using shooter_position, distance=571,51917
[12:10:17] [INFO] [Bullet] Distance to wall: 571,51917 (38,91579% of viewport)
[12:10:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:10:17] [INFO] [Bullet] Starting wall penetration at (65.03958, 567.8063)
[12:10:17] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:10:17] [INFO] [Bullet] Exiting penetration at (35.051025, 549.5583) after traveling 30,10417 pixels through wall
[12:10:17] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[12:10:17] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[12:10:17] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[12:10:17] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[12:10:17] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[12:10:17] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[12:10:17] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[12:10:17] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[12:10:17] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[12:10:17] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(633.2327, 774.8151), source=PLAYER (Player), range=900, listeners=7
[12:10:17] [ENEMY] [Enemy1] Heard player RELOAD at (633.2327, 774.8151), intensity=0.02, distance=394
[12:10:17] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[12:10:17] [ENEMY] [Enemy10] Heard player RELOAD at (633.2327, 774.8151), intensity=0.01, distance=431
[12:10:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=1
[12:10:17] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=true (dist=394), can_see=false
[12:10:17] [ENEMY] [Enemy1] Pursuing vulnerability sound at (633.2327, 774.8151), distance=394
[12:10:17] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1148), can_see=false
[12:10:17] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1356), can_see=false
[12:10:17] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=871), can_see=false
[12:10:17] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1435), can_see=false
[12:10:17] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1659), can_see=false
[12:10:17] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=431), can_see=false
[12:10:17] [ENEMY] [Enemy1] Player reloading - priority attack triggered
[12:10:17] [ENEMY] [Enemy1] Player reloading - priority attack triggered
[12:10:17] [ENEMY] [Enemy1] Player reloading - priority attack triggered
[12:10:17] [ENEMY] [Enemy1] Player reloading - priority attack triggered
[12:10:17] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:10:17] [ENEMY] [Enemy1] Player reloading - priority attack triggered
[12:10:17] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:10:17] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:10:17] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:10:17] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:10:17] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:10:17] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:10:17] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:10:17] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:10:17] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:10:17] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:10:17] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:10:17] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:10:17] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:10:17] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:10:17] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:10:17] [ENEMY] [Enemy10] Player reloading - priority attack triggered
[12:10:17] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[12:10:17] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[12:10:17] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[12:10:17] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[12:10:17] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[12:10:17] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[12:10:17] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[12:10:17] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[12:10:17] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[12:10:17] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[12:10:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(630.6107, 989.975), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:10:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=4
[12:10:18] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:10:18] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[12:10:18] [INFO] [PenultimateHit] Starting penultimate hit effect:
[12:10:18] [INFO] [PenultimateHit]   - Time scale: 0.10
[12:10:18] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[12:10:18] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[12:10:18] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[12:10:18] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[12:10:18] [INFO] [PenultimateHit] Applying saturation to 8 enemies
[12:10:18] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:10:18] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[12:10:18] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:10:18] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[12:10:18] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[12:10:18] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:10:18] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[12:10:19] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[12:10:19] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:10:19] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[12:10:19] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[12:10:19] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:10:19] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[12:10:19] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[12:10:19] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:10:19] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[12:10:19] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[12:10:19] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:10:19] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[12:10:19] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[12:10:19] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:10:19] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[12:10:19] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[12:10:19] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:10:19] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[12:10:19] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[12:10:19] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:10:20] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[12:10:20] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[12:10:20] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:10:20] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[12:10:20] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[12:10:20] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:10:20] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[12:10:20] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[12:10:20] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:10:20] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[12:10:20] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[12:10:20] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:10:20] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[12:10:20] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[12:10:20] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[12:10:20] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[12:10:20] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[12:10:20] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[12:10:20] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[12:10:20] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[12:10:20] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(655.5767, 971.5056), source=PLAYER (Player), range=900, listeners=7
[12:10:20] [ENEMY] [Enemy1] Heard player RELOAD at (655.5767, 971.5056), intensity=0.02, distance=395
[12:10:20] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[12:10:20] [ENEMY] [Enemy10] Heard player RELOAD at (655.5767, 971.5056), intensity=0.07, distance=185
[12:10:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=1
[12:10:20] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=true (dist=395), can_see=false
[12:10:20] [ENEMY] [Enemy1] Pursuing vulnerability sound at (655.5767, 971.5056), distance=395
[12:10:20] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1215), can_see=false
[12:10:20] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1396), can_see=false
[12:10:20] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=772), can_see=true
[12:10:20] [ENEMY] [Enemy7] Player vulnerable (reloading) - pursuing to attack (dist=772)
[12:10:20] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1333), can_see=false
[12:10:20] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1556), can_see=false
[12:10:20] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[12:10:20] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=true (dist=188), can_see=false
[12:10:20] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[12:10:20] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[12:10:20] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[12:10:20] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[12:10:20] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[12:10:20] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[12:10:20] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[12:10:20] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[12:10:21] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[12:10:21] [INFO] [PenultimateHit] Ending penultimate hit effect
[12:10:21] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:10:21] [ENEMY] [Enemy1] Pursuing vulnerability sound at (655.5767, 971.5056), distance=257
[12:10:22] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[12:10:22] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[12:10:22] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:10:22] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[12:10:22] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[12:10:22] [INFO] [ScoreManager] Combo ended at 3. Max combo: 3
[12:10:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(891.8325, 851.6751), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:10:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=5
[12:10:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(746.8468, 890.1352)
[12:10:22] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:22] [INFO] [Bullet] Using shooter_position, distance=1161,947
[12:10:22] [INFO] [Bullet] Distance to wall: 1161,947 (79,11911% of viewport)
[12:10:22] [INFO] [Bullet] Distance-based penetration chance: 54,361046%
[12:10:22] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(891.8325, 890.1751), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:10:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=5
[12:10:22] [ENEMY] [Enemy1] Hit taken, health: 1/2
[12:10:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(891.8325, 928.6751), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:10:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=5
[12:10:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(891.5245, 967.0475), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:10:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=5
[12:10:23] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[12:10:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.2546, 917.9767), source=ENEMY (Enemy1), range=1469, listeners=7
[12:10:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=4
[12:10:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(879.977, 987.4237), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:10:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=5
[12:10:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(638.3586, 907.3674), source=ENEMY (Enemy1), range=1469, listeners=7
[12:10:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=4
[12:10:23] [INFO] [LastChance] Threat detected: @Area2D@8839
[12:10:23] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(36.97644, 1005.85974)
[12:10:23] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:23] [INFO] [Bullet] Using shooter_position, distance=1006,5391
[12:10:23] [INFO] [Bullet] Distance to wall: 1006,5391 (68,5371% of viewport)
[12:10:23] [INFO] [Bullet] Distance-based penetration chance: 66,70672%
[12:10:23] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:23] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[12:10:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(856.4622, 989.9794), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:10:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=5
[12:10:23] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[12:10:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(525.3582, 935.96173)
[12:10:23] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:23] [INFO] [Bullet] Using shooter_position, distance=1073,3246
[12:10:23] [INFO] [Bullet] Distance to wall: 1073,3246 (73,08465% of viewport)
[12:10:23] [INFO] [Bullet] Distance-based penetration chance: 61,40125%
[12:10:23] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[12:10:23] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[12:10:23] [INFO] [PenultimateHit] Player died - ending penultimate effect
[12:10:23] [INFO] [LastChance] Player died
[12:10:23] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[12:10:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(33.64551, 939.12616)
[12:10:23] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:23] [INFO] [Bullet] Using shooter_position, distance=939,72864
[12:10:23] [INFO] [Bullet] Distance to wall: 939,72864 (63,98785% of viewport)
[12:10:23] [INFO] [Bullet] Distance-based penetration chance: 72,014175%
[12:10:23] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(819.4097, 989.9794), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:10:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=5
[12:10:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(508.11288, 905.9813)
[12:10:23] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:23] [INFO] [Bullet] Using shooter_position, distance=1038,74
[12:10:23] [INFO] [Bullet] Distance to wall: 1038,74 (70,72972% of viewport)
[12:10:23] [INFO] [Bullet] Distance-based penetration chance: 64,14867%
[12:10:23] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(693.0341, 917.2806), shooter_id=2070174238648, bullet_pos=(1354.63, 999.348)
[12:10:23] [INFO] [Bullet] Using shooter_position, distance=666.666381835938
[12:10:23] [INFO] [Bullet] Distance to wall: 666.666381835938 (45.3945398305888% of viewport)
[12:10:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(693.0341, 917.2806), shooter_id=2070174238648, bullet_pos=(1359.626, 999.1479)
[12:10:23] [INFO] [Bullet] Using shooter_position, distance=671.600158691406
[12:10:23] [INFO] [Bullet] Distance to wall: 671.600158691406 (45.7304897690934% of viewport)
[12:10:23] [INFO] [Bullet] Distance-based penetration chance: 93.3144286027244%
[12:10:23] [INFO] [Bullet] Starting wall penetration at (1359.626, 999.1479)
[12:10:23] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:10:23] [INFO] [Bullet] Exiting penetration at (1400.01, 997.5302) after traveling 35.4166679382324 pixels through wall
[12:10:23] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[12:10:23] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[12:10:23] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[12:10:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(780.9097, 989.9794), source=PLAYER (AssaultRifle), range=1469, listeners=7
[12:10:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=5
[12:10:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(526.9795, 868.47955)
[12:10:23] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:23] [INFO] [Bullet] Using shooter_position, distance=1015,8563
[12:10:23] [INFO] [Bullet] Distance to wall: 1015,8563 (69,17153% of viewport)
[12:10:23] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[12:10:23] [ENEMY] [Enemy1] Hit taken, health: 0/2
[12:10:23] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[12:10:23] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[12:10:23] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[12:10:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(742.4097, 989.9794), source=PLAYER (AssaultRifle), range=1469, listeners=6
[12:10:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=5
[12:10:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(510.40143, 825.3492)
[12:10:23] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:23] [INFO] [Bullet] Using shooter_position, distance=970,4179
[12:10:23] [INFO] [Bullet] Distance to wall: 970,4179 (66,077545% of viewport)
[12:10:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(465.95038, 700.8942)
[12:10:23] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:23] [INFO] [Bullet] Using shooter_position, distance=841,64276
[12:10:23] [INFO] [Bullet] Distance to wall: 841,64276 (57,309006% of viewport)
[12:10:23] [INFO] [Bullet] Distance-based penetration chance: 79,80616%
[12:10:23] [INFO] [Bullet] Starting wall penetration at (465.95038, 700.8942)
[12:10:23] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,825277
[12:10:23] [INFO] [Bullet] Body exited signal received for penetrating body
[12:10:23] [INFO] [Bullet] Exiting penetration at (433.69678, 667.1676) after traveling 41,666668 pixels through wall
[12:10:23] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:10:23] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:10:23] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:10:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:10:23] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:10:23] [INFO] [Player] Ready! Grenades: 1/3
[12:10:23] [INFO] [ScoreManager] Level started with 10 enemies
[12:10:23] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 7)
[12:10:23] [ENEMY] [Enemy1] Registered as sound listener
[12:10:23] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[12:10:23] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 8)
[12:10:23] [ENEMY] [Enemy2] Registered as sound listener
[12:10:23] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[12:10:23] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 9)
[12:10:23] [ENEMY] [Enemy3] Registered as sound listener
[12:10:23] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[12:10:23] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 10)
[12:10:23] [ENEMY] [Enemy4] Registered as sound listener
[12:10:23] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[12:10:23] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 11)
[12:10:23] [ENEMY] [Enemy5] Registered as sound listener
[12:10:23] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[12:10:23] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 12)
[12:10:23] [ENEMY] [Enemy6] Registered as sound listener
[12:10:23] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[12:10:23] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 13)
[12:10:23] [ENEMY] [Enemy7] Registered as sound listener
[12:10:23] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[12:10:23] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 14)
[12:10:23] [ENEMY] [Enemy8] Registered as sound listener
[12:10:23] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[12:10:23] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 15)
[12:10:23] [ENEMY] [Enemy9] Registered as sound listener
[12:10:23] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[12:10:23] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 16)
[12:10:23] [ENEMY] [Enemy10] Registered as sound listener
[12:10:23] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[12:10:23] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:10:23] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:10:23] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:10:23] [INFO] [LastChance] Found player: Player
[12:10:23] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:10:23] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:10:23] [INFO] [LastChance] Connected to player Died signal (C#)
[12:10:24] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[12:10:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.402, 1518.323), source=ENEMY (Enemy10), range=1469, listeners=16
[12:10:24] [INFO] [SoundPropagation] Cleaned up 6 invalid listeners
[12:10:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:10:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.96, 1498.198), source=ENEMY (Enemy10), range=1469, listeners=10
[12:10:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:10:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.299, 1476.902), source=ENEMY (Enemy10), range=1469, listeners=10
[12:10:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:10:24] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:10:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1088.777, 1491.805), shooter_id=2272289360924, bullet_pos=(60.62088, 857.0089)
[12:10:25] [INFO] [Bullet] Using shooter_position, distance=1208.33410644531
[12:10:25] [INFO] [Bullet] Distance to wall: 1208.33410644531 (82.2776912383582% of viewport)
[12:10:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1088.777, 1491.805), shooter_id=2272289360924, bullet_pos=(224.9763, 714.5534)
[12:10:25] [INFO] [Bullet] Using shooter_position, distance=1162.01196289063
[12:10:25] [INFO] [Bullet] Distance to wall: 1162.01196289063 (79.1235313048085% of viewport)
[12:10:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.259, 1469.326), shooter_id=2272289360924, bullet_pos=(54.83759, 796.1134)
[12:10:25] [INFO] [Bullet] Using shooter_position, distance=1208.33312988281
[12:10:25] [INFO] [Bullet] Distance to wall: 1208.33312988281 (82.2776247424219% of viewport)
[12:10:25] [INFO] [Bullet] Distance-based penetration chance: 50.6761044671745%
[12:10:25] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:25] [INFO] [LastChance] Threat detected: Bullet
[12:10:25] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1028.623, 1445.719), shooter_id=2272289360924, bullet_pos=(51.1955, 735.2937)
[12:10:25] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[12:10:25] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[12:10:25] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[12:10:25] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:25] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:10:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1088.777, 1491.805), shooter_id=2272289360924, bullet_pos=(505.3882, 950.1556)
[12:10:25] [INFO] [Bullet] Using shooter_position, distance=796.069519042969
[12:10:25] [INFO] [Bullet] Distance to wall: 796.069519042969 (54.2058373944029% of viewport)
[12:10:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(417.7967, 765.4554), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:25] [ENEMY] [Enemy1] Heard gunshot at (417.7967, 765.4554), source_type=0, intensity=0.01, distance=432
[12:10:25] [ENEMY] [Enemy2] Heard gunshot at (417.7967, 765.4554), source_type=0, intensity=0.05, distance=216
[12:10:25] [ENEMY] [Enemy4] Heard gunshot at (417.7967, 765.4554), source_type=0, intensity=0.02, distance=405
[12:10:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:10:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(652.5612, 756.9775), source=ENEMY (Enemy3), range=1469, listeners=10
[12:10:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:10:25] [INFO] [LastChance] Threat detected: @Area2D@9111
[12:10:25] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:25] [ENEMY] [Enemy3] Hit taken, health: 2/3
[12:10:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(440.9164, 740.9227), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:10:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(652.5612, 756.9775), source=ENEMY (Enemy3), range=1469, listeners=10
[12:10:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:10:25] [INFO] [LastChance] Threat detected: @Area2D@9113
[12:10:25] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:25] [ENEMY] [Enemy3] Hit taken, health: 1/3
[12:10:25] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:10:25] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[12:10:25] [INFO] [PenultimateHit] Starting penultimate hit effect:
[12:10:25] [INFO] [PenultimateHit]   - Time scale: 0.10
[12:10:25] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[12:10:25] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[12:10:25] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[12:10:25] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[12:10:25] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[12:10:25] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:10:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1088.777, 1491.805), shooter_id=2272289360924, bullet_pos=(55.11087, 1252.487)
[12:10:25] [INFO] [Bullet] Using shooter_position, distance=1061.00830078125
[12:10:25] [INFO] [Bullet] Distance to wall: 1061.00830078125 (72.2460062224237% of viewport)
[12:10:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(468.6273, 734.0694), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:10:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(595.3824, 764.3154), shooter_id=2270292871389, bullet_pos=(66.23291, 760.0417)
[12:10:26] [INFO] [Bullet] Using shooter_position, distance=529.166687011719
[12:10:26] [INFO] [Bullet] Distance to wall: 529.166687011719 (36.0319327703638% of viewport)
[12:10:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:10:26] [INFO] [Bullet] Starting wall penetration at (66.23291, 760.0417)
[12:10:26] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[12:10:26] [INFO] [Bullet] Exiting penetration at (57.06654, 759.9677) after traveling 4.16666698455811 pixels through wall
[12:10:26] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:10:26] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:10:26] [ENEMY] [Enemy3] Hit taken, health: 0/3
[12:10:26] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[12:10:26] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[12:10:26] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[12:10:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1088.777, 1491.805), shooter_id=2272289360924, bullet_pos=(273.4188, 1384.52)
[12:10:27] [INFO] [Bullet] Using shooter_position, distance=822.38623046875
[12:10:27] [INFO] [Bullet] Distance to wall: 822.38623046875 (55.9977906675495% of viewport)
[12:10:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(534.1197, 768.2497), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[12:10:28] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[12:10:28] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[12:10:28] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[12:10:28] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[12:10:28] [INFO] [PenultimateHit] Ending penultimate hit effect
[12:10:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(561.7325, 795.8625), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[12:10:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(795.1399, 1019.7961)
[12:10:28] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:28] [INFO] [Bullet] Using shooter_position, distance=1293,148
[12:10:28] [INFO] [Bullet] Distance to wall: 1293,148 (88,052826% of viewport)
[12:10:28] [INFO] [Bullet] Distance-based penetration chance: 43,93837%
[12:10:28] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(588.9562, 823.0862), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:10:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(790.52155, 1014.799)
[12:10:28] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:28] [INFO] [Bullet] Using shooter_position, distance=1286,3676
[12:10:28] [INFO] [Bullet] Distance to wall: 1286,3676 (87,59113% of viewport)
[12:10:28] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[12:10:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(921.74866, 888.5697)
[12:10:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:29] [INFO] [Bullet] Using shooter_position, distance=1280,3033
[12:10:29] [INFO] [Bullet] Distance to wall: 1280,3033 (87,178215% of viewport)
[12:10:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(785.1144, 1015.82196)
[12:10:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:29] [INFO] [Bullet] Using shooter_position, distance=1283,8608
[12:10:29] [INFO] [Bullet] Distance to wall: 1283,8608 (87,42045% of viewport)
[12:10:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(616.1799, 850.3099), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:10:29] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[12:10:29] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[12:10:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(738.4589, 997.90375)
[12:10:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:29] [INFO] [Bullet] Using shooter_position, distance=1241,424
[12:10:29] [INFO] [Bullet] Distance to wall: 1241,424 (84,530846% of viewport)
[12:10:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(934.81506, 912.16846)
[12:10:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:29] [INFO] [Bullet] Using shooter_position, distance=1306,1128
[12:10:29] [INFO] [Bullet] Distance to wall: 1306,1128 (88,93562% of viewport)
[12:10:29] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[12:10:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(643.4036, 877.5336), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:10:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1088.777, 1491.805), shooter_id=2272289360924, bullet_pos=(801.6622, 1018.211)
[12:10:29] [INFO] [Bullet] Using shooter_position, distance=553.828735351563
[12:10:29] [INFO] [Bullet] Distance to wall: 553.828735351563 (37.7112169913319% of viewport)
[12:10:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:10:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(765.66547, 1025.1417)
[12:10:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:29] [INFO] [Bullet] Using shooter_position, distance=1279,5151
[12:10:29] [INFO] [Bullet] Distance to wall: 1279,5151 (87,12454% of viewport)
[12:10:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(925.0444, 827.1619)
[12:10:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:29] [INFO] [Bullet] Using shooter_position, distance=1240,9287
[12:10:29] [INFO] [Bullet] Distance to wall: 1240,9287 (84,497116% of viewport)
[12:10:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(665.4333, 904.7122), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:10:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(515.8911, 522.0291)
[12:10:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:29] [INFO] [Bullet] Using shooter_position, distance=733,9333
[12:10:29] [INFO] [Bullet] Distance to wall: 733,9333 (49,97487% of viewport)
[12:10:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(763.011, 1018.6358)
[12:10:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:29] [INFO] [Bullet] Using shooter_position, distance=1272,7155
[12:10:29] [INFO] [Bullet] Distance to wall: 1272,7155 (86,66154% of viewport)
[12:10:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(929.573, 832.5252)
[12:10:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:29] [INFO] [Bullet] Using shooter_position, distance=1247,8799
[12:10:29] [INFO] [Bullet] Distance to wall: 1247,8799 (84,970436% of viewport)
[12:10:29] [ENEMY] [Enemy4] Hit taken, health: 2/3
[12:10:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(672.981, 935.4454), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:10:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(853.5871, 999.6132)
[12:10:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:29] [INFO] [Bullet] Using shooter_position, distance=1314,4723
[12:10:29] [INFO] [Bullet] Distance to wall: 1314,4723 (89,50484% of viewport)
[12:10:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(924.9857, 974.0606)
[12:10:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:29] [INFO] [Bullet] Using shooter_position, distance=1343,2769
[12:10:29] [INFO] [Bullet] Distance to wall: 1343,2769 (91,466194% of viewport)
[12:10:29] [INFO] [Bullet] Distance-based penetration chance: 39,956116%
[12:10:29] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(673.191, 973.7384), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=7
[12:10:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(524.36145, 454.97208)
[12:10:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:29] [INFO] [Bullet] Using shooter_position, distance=694,22943
[12:10:29] [INFO] [Bullet] Distance to wall: 694,22943 (47,27136% of viewport)
[12:10:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(918.53345, 849.51227)
[12:10:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:29] [INFO] [Bullet] Using shooter_position, distance=1251,1494
[12:10:29] [INFO] [Bullet] Distance to wall: 1251,1494 (85,19307% of viewport)
[12:10:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(673.4268, 989.9337), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=7
[12:10:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(511.1272, 312.73553)
[12:10:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:29] [INFO] [Bullet] Using shooter_position, distance=599,2116
[12:10:29] [INFO] [Bullet] Distance to wall: 599,2116 (40,801422% of viewport)
[12:10:29] [INFO] [Bullet] Distance-based penetration chance: 99,06501%
[12:10:29] [INFO] [Bullet] Starting wall penetration at (511.1272, 312.73553)
[12:10:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(915.7532, 49.350296)
[12:10:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:29] [INFO] [Bullet] Using shooter_position, distance=917,082
[12:10:29] [INFO] [Bullet] Distance to wall: 917,082 (62,4458% of viewport)
[12:10:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,359728
[12:10:29] [INFO] [Bullet] Body exited signal received for penetrating body
[12:10:29] [INFO] [Bullet] Exiting penetration at (489.11404, 285.391) after traveling 30,10417 pixels through wall
[12:10:29] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[12:10:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(680.9977, 989.9337), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=7
[12:10:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(919.4239, 790.5269)
[12:10:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:29] [INFO] [Bullet] Using shooter_position, distance=1212,5482
[12:10:29] [INFO] [Bullet] Distance to wall: 1212,5482 (82,56464% of viewport)
[12:10:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1088.777, 1491.805), shooter_id=2272289360924, bullet_pos=(1245.373, 1377.163)
[12:10:29] [INFO] [Bullet] Using shooter_position, distance=194.074737548828
[12:10:29] [INFO] [Bullet] Distance to wall: 194.074737548828 (13.2149057516739% of viewport)
[12:10:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:10:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(696.7036, 989.9338), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=7
[12:10:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(920.7168, 783.0216)
[12:10:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:29] [INFO] [Bullet] Using shooter_position, distance=1208,6531
[12:10:29] [INFO] [Bullet] Distance to wall: 1208,6531 (82,29941% of viewport)
[12:10:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(1004.93787, 64.635895)
[12:10:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:29] [INFO] [Bullet] Using shooter_position, distance=1007,01434
[12:10:29] [INFO] [Bullet] Distance to wall: 1007,01434 (68,56946% of viewport)
[12:10:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(1083.1836, 283.3783)
[12:10:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:29] [INFO] [Bullet] Using shooter_position, distance=1119,6383
[12:10:29] [INFO] [Bullet] Distance to wall: 1119,6383 (76,238235% of viewport)
[12:10:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(717.5464, 989.9337), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:10:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(933.9044, 780.13965)
[12:10:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:29] [INFO] [Bullet] Using shooter_position, distance=1216,8793
[12:10:29] [INFO] [Bullet] Distance to wall: 1216,8793 (82,85955% of viewport)
[12:10:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(516.3269, 336.58496)
[12:10:30] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:30] [INFO] [Bullet] Using shooter_position, distance=616,34644
[12:10:30] [INFO] [Bullet] Distance to wall: 616,34644 (41,968163% of viewport)
[12:10:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(934.8779, 821.4347)
[12:10:30] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:30] [INFO] [Bullet] Using shooter_position, distance=1244,4885
[12:10:30] [INFO] [Bullet] Distance to wall: 1244,4885 (84,73951% of viewport)
[12:10:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(742.2111, 989.9337), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[12:10:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(503.31604, 446.36053)
[12:10:30] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:30] [INFO] [Bullet] Using shooter_position, distance=672,7293
[12:10:30] [INFO] [Bullet] Distance to wall: 672,7293 (45,807377% of viewport)
[12:10:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(931.3785, 959.0822)
[12:10:30] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:30] [INFO] [Bullet] Using shooter_position, distance=1336,9011
[12:10:30] [INFO] [Bullet] Distance to wall: 1336,9011 (91,03206% of viewport)
[12:10:30] [INFO] [Bullet] Distance-based penetration chance: 40,46261%
[12:10:30] [INFO] [Bullet] Starting wall penetration at (931.3785, 959.0822)
[12:10:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41,98412
[12:10:30] [INFO] [Bullet] Body exited signal received for penetrating body
[12:10:30] [INFO] [Bullet] Exiting penetration at (977.43665, 951.57056) after traveling 41,666668 pixels through wall
[12:10:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:10:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(778.492, 989.9337), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[12:10:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(501.30338, 463.24704)
[12:10:30] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:30] [INFO] [Bullet] Using shooter_position, distance=682,5708
[12:10:30] [INFO] [Bullet] Distance to wall: 682,5708 (46,4775% of viewport)
[12:10:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(761.4754, 64.479904)
[12:10:30] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:30] [INFO] [Bullet] Using shooter_position, distance=764,20056
[12:10:30] [INFO] [Bullet] Distance to wall: 764,20056 (52,03582% of viewport)
[12:10:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(1368.8855, 270.74066)
[12:10:30] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:30] [INFO] [Bullet] Using shooter_position, distance=1395,4025
[12:10:30] [INFO] [Bullet] Distance to wall: 1395,4025 (95,01552% of viewport)
[12:10:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(928.61536, 604.3682)
[12:10:30] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:30] [INFO] [Bullet] Using shooter_position, distance=1107,9655
[12:10:30] [INFO] [Bullet] Distance to wall: 1107,9655 (75,443405% of viewport)
[12:10:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(928.2354, 981.1625)
[12:10:30] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:30] [INFO] [Bullet] Using shooter_position, distance=1350,6667
[12:10:30] [INFO] [Bullet] Distance to wall: 1350,6667 (91,96938% of viewport)
[12:10:30] [INFO] [Bullet] Distance-based penetration chance: 39,369053%
[12:10:30] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:30] [ENEMY] [Enemy7] State: IDLE -> COMBAT
[12:10:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(502.65714, 568.41516)
[12:10:30] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:30] [INFO] [Bullet] Using shooter_position, distance=758,7885
[12:10:30] [INFO] [Bullet] Distance to wall: 758,7885 (51,66731% of viewport)
[12:10:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(816.1587, 989.9337), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[12:10:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(924.0393, 980.0393)
[12:10:30] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:30] [INFO] [Bullet] Using shooter_position, distance=1346,9691
[12:10:30] [INFO] [Bullet] Distance to wall: 1346,9691 (91,717606% of viewport)
[12:10:30] [INFO] [Bullet] Distance-based penetration chance: 39,662804%
[12:10:30] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(982.77246, 246.40002)
[12:10:30] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:30] [INFO] [Bullet] Using shooter_position, distance=1013,19037
[12:10:30] [INFO] [Bullet] Distance to wall: 1013,19037 (68,99% of viewport)
[12:10:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(842.6587, 989.9337), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[12:10:30] [ENEMY] [Enemy4] Hit taken, health: 1/3
[12:10:30] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[12:10:30] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[12:10:30] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[12:10:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(853.1587, 989.9337), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[12:10:30] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[12:10:30] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[12:10:30] [INFO] [PenultimateHit] Player died - ending penultimate effect
[12:10:30] [INFO] [LastChance] Player died
[12:10:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(847.3254, 989.9337), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[12:10:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(825.1587, 989.9337), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[12:10:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(788.6587, 989.9337), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[12:10:30] [ENEMY] [Enemy10] FLANKING started: target=(651.6779, 1143.572), side=right, pos=(957.2564, 1420.892)
[12:10:30] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[12:10:31] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[12:10:31] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[12:10:31] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:10:31] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:10:31] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:10:31] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:10:31] [INFO] [Player] Ready! Grenades: 1/3
[12:10:31] [INFO] [ScoreManager] Level started with 10 enemies
[12:10:31] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[12:10:31] [ENEMY] [Enemy1] Registered as sound listener
[12:10:31] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[12:10:31] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[12:10:31] [ENEMY] [Enemy2] Registered as sound listener
[12:10:31] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[12:10:31] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[12:10:31] [ENEMY] [Enemy3] Registered as sound listener
[12:10:31] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[12:10:31] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[12:10:31] [ENEMY] [Enemy4] Registered as sound listener
[12:10:31] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[12:10:31] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[12:10:31] [ENEMY] [Enemy5] Registered as sound listener
[12:10:31] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[12:10:31] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[12:10:31] [ENEMY] [Enemy6] Registered as sound listener
[12:10:31] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[12:10:31] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[12:10:31] [ENEMY] [Enemy7] Registered as sound listener
[12:10:31] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[12:10:31] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[12:10:31] [ENEMY] [Enemy8] Registered as sound listener
[12:10:31] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[12:10:31] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[12:10:31] [ENEMY] [Enemy9] Registered as sound listener
[12:10:31] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[12:10:31] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[12:10:31] [ENEMY] [Enemy10] Registered as sound listener
[12:10:31] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[12:10:31] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:10:31] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:10:31] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:10:31] [INFO] [LastChance] Found player: Player
[12:10:31] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:10:31] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:10:31] [INFO] [LastChance] Connected to player Died signal (C#)
[12:10:31] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[12:10:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.46, 1518.223), source=ENEMY (Enemy10), range=1469, listeners=19
[12:10:31] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[12:10:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:10:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1113.085, 1497.993), source=ENEMY (Enemy10), range=1469, listeners=10
[12:10:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:10:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.52, 1476.56), source=ENEMY (Enemy10), range=1469, listeners=10
[12:10:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:10:32] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:10:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1088.901, 1491.527), shooter_id=2420650280337, bullet_pos=(62.57323, 853.782)
[12:10:32] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:10:32] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:10:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1088.901, 1491.527), shooter_id=2420650280337, bullet_pos=(227.0152, 711.4266)
[12:10:32] [INFO] [Bullet] Using shooter_position, distance=1162.49926757813
[12:10:32] [INFO] [Bullet] Distance to wall: 1162.49926757813 (79.1567127770546% of viewport)
[12:10:32] [INFO] [Bullet] Distance-based penetration chance: 54.3171684267696%
[12:10:32] [INFO] [Bullet] Starting wall penetration at (227.0152, 711.4266)
[12:10:32] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4.62396860122681
[12:10:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.489, 1468.874), shooter_id=2420650280337, bullet_pos=(57.77457, 791.6436)
[12:10:32] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[12:10:32] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[12:10:32] [INFO] [Bullet] Max penetration distance exceeded: 70.8333358764648 >= 48
[12:10:32] [INFO] [Bullet] Body exited signal received for penetrating body
[12:10:32] [INFO] [Bullet] Exiting penetration at (284.3493, 661.7931) after traveling 70.8333358764648 pixels through wall
[12:10:32] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[12:10:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.489, 1468.874), shooter_id=2420650280337, bullet_pos=(137.933, 714.4995)
[12:10:32] [INFO] [Bullet] Using shooter_position, distance=1190.16979980469
[12:10:32] [INFO] [Bullet] Distance to wall: 1190.16979980469 (81.0408501979834% of viewport)
[12:10:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1028.993, 1445.066), shooter_id=2420650280337, bullet_pos=(55.21342, 729.6481)
[12:10:32] [INFO] [Bullet] Using shooter_position, distance=1208.33312988281
[12:10:32] [INFO] [Bullet] Distance to wall: 1208.33312988281 (82.2776247424219% of viewport)
[12:10:32] [INFO] [Bullet] Distance-based penetration chance: 50.6761044671745%
[12:10:32] [INFO] [Bullet] Starting wall penetration at (55.21342, 729.6481)
[12:10:32] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.8618545532227
[12:10:32] [INFO] [Bullet] Body exited signal received for penetrating body
[12:10:32] [INFO] [Bullet] Exiting penetration at (17.6054, 702.0181) after traveling 41.6666717529297 pixels through wall
[12:10:32] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:10:32] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:10:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(418.0297, 763.385), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:32] [ENEMY] [Enemy1] Heard gunshot at (418.0297, 763.385), source_type=0, intensity=0.01, distance=430
[12:10:32] [ENEMY] [Enemy2] Heard gunshot at (418.0297, 763.385), source_type=0, intensity=0.05, distance=214
[12:10:32] [ENEMY] [Enemy4] Heard gunshot at (418.0297, 763.385), source_type=0, intensity=0.02, distance=406
[12:10:32] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:10:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(668.502, 755.5597), source=ENEMY (Enemy3), range=1469, listeners=10
[12:10:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:10:32] [INFO] [LastChance] Threat detected: @Area2D@9429
[12:10:32] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(396.0237, 744.0452), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:32] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:10:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(668.502, 755.5597), source=ENEMY (Enemy3), range=1469, listeners=10
[12:10:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:10:32] [INFO] [LastChance] Threat detected: @Area2D@9431
[12:10:32] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(938.87103, 697.43726)
[12:10:33] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:33] [INFO] [Bullet] Using shooter_position, distance=1169,5715
[12:10:33] [INFO] [Bullet] Distance to wall: 1169,5715 (79,638275% of viewport)
[12:10:33] [INFO] [Bullet] Distance-based penetration chance: 53,755344%
[12:10:33] [INFO] [Bullet] Starting wall penetration at (938.87103, 697.43726)
[12:10:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 49,560593
[12:10:33] [ENEMY] [Enemy3] Hit taken, health: 2/3
[12:10:33] [INFO] [Bullet] Body exited signal received for penetrating body
[12:10:33] [INFO] [Bullet] Exiting penetration at (985.168, 691.57526) after traveling 41,666668 pixels through wall
[12:10:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:10:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(985.168, 691.57526)
[12:10:33] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:33] [INFO] [Bullet] Using shooter_position, distance=1203,6746
[12:10:33] [INFO] [Bullet] Distance to wall: 1203,6746 (81,96042% of viewport)
[12:10:33] [INFO] [Bullet] Distance-based penetration chance: 51,04618%
[12:10:33] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(375.6397, 739.3867), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:33] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:10:33] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:10:33] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[12:10:33] [INFO] [PenultimateHit] Starting penultimate hit effect:
[12:10:33] [INFO] [PenultimateHit]   - Time scale: 0.10
[12:10:33] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[12:10:33] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[12:10:33] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[12:10:33] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[12:10:33] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[12:10:33] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:10:33] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:10:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(612.3401, 762.8961), shooter_id=2418653791567, bullet_pos=(29.02063, 758.8749)
[12:10:33] [INFO] [Bullet] Using shooter_position, distance=583.333312988281
[12:10:33] [INFO] [Bullet] Distance to wall: 583.333312988281 (39.7202379367503% of viewport)
[12:10:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:10:33] [INFO] [Bullet] Starting wall penetration at (29.02063, 758.8749)
[12:10:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12.1461038589478
[12:10:33] [INFO] [Bullet] Body exited signal received for penetrating body
[12:10:33] [INFO] [Bullet] Exiting penetration at (19.85419, 758.8116) after traveling 4.16666650772095 pixels through wall
[12:10:33] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:10:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(662.1519, 762.7601), source=ENEMY (Enemy3), range=1469, listeners=10
[12:10:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:10:33] [ENEMY] [Enemy3] Hit taken, health: 1/3
[12:10:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(655.6254, 770.1606), source=ENEMY (Enemy3), range=1469, listeners=10
[12:10:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:10:34] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:10:34] [INFO] [PenultimateHit] Ending penultimate hit effect
[12:10:34] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:10:34] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:10:34] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:10:34] [INFO] [Player] Ready! Grenades: 1/3
[12:10:34] [INFO] [ScoreManager] Level started with 10 enemies
[12:10:34] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:10:34] [ENEMY] [Enemy1] Registered as sound listener
[12:10:34] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[12:10:34] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:10:34] [ENEMY] [Enemy2] Registered as sound listener
[12:10:34] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[12:10:34] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:10:34] [ENEMY] [Enemy3] Registered as sound listener
[12:10:34] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[12:10:34] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:10:34] [ENEMY] [Enemy4] Registered as sound listener
[12:10:34] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[12:10:34] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:10:34] [ENEMY] [Enemy5] Registered as sound listener
[12:10:34] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[12:10:34] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:10:34] [ENEMY] [Enemy6] Registered as sound listener
[12:10:34] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[12:10:34] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:10:34] [ENEMY] [Enemy7] Registered as sound listener
[12:10:34] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[12:10:34] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:10:34] [ENEMY] [Enemy8] Registered as sound listener
[12:10:34] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[12:10:34] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:10:34] [ENEMY] [Enemy9] Registered as sound listener
[12:10:34] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[12:10:34] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:10:34] [ENEMY] [Enemy10] Registered as sound listener
[12:10:34] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[12:10:34] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:10:34] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:10:34] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:10:34] [INFO] [LastChance] Found player: Player
[12:10:34] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:10:34] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:10:34] [INFO] [LastChance] Connected to player Died signal (C#)
[12:10:34] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[12:10:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.528, 1518.106), source=ENEMY (Enemy10), range=1469, listeners=20
[12:10:35] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[12:10:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:10:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1113.222, 1497.771), source=ENEMY (Enemy10), range=1469, listeners=10
[12:10:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:10:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.749, 1476.207), source=ENEMY (Enemy10), range=1469, listeners=10
[12:10:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:10:35] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:10:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1089.039, 1491.225), shooter_id=2472894532793, bullet_pos=(64.61339, 850.4285)
[12:10:35] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:10:35] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:10:35] [INFO] [Bullet] Distance-based penetration chance: 50.6761238618226%
[12:10:35] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=2472894532793, bullet_pos=(60.65509, 787.2949)
[12:10:35] [INFO] [Bullet] Using shooter_position, distance=1208.33386230469
[12:10:35] [INFO] [Bullet] Distance to wall: 1208.33386230469 (82.2776746143741% of viewport)
[12:10:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=2472894532793, bullet_pos=(179.7057, 701.6324)
[12:10:35] [INFO] [Bullet] Using shooter_position, distance=1166.46118164063
[12:10:35] [INFO] [Bullet] Distance to wall: 1166.46118164063 (79.4264867908878% of viewport)
[12:10:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.362, 1444.423), shooter_id=2472894532793, bullet_pos=(59.01187, 724.3607)
[12:10:35] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[12:10:35] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[12:10:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.362, 1444.423), shooter_id=2472894532793, bullet_pos=(123.9397, 685.1807)
[12:10:35] [INFO] [Bullet] Using shooter_position, distance=1181.62512207031
[12:10:35] [INFO] [Bullet] Distance to wall: 1181.62512207031 (80.4590273787729% of viewport)
[12:10:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.362, 1444.423), shooter_id=2472894532793, bullet_pos=(67.10595, 653.2111)
[12:10:35] [INFO] [Bullet] Using shooter_position, distance=1245.77380371094
[12:10:35] [INFO] [Bullet] Distance to wall: 1245.77380371094 (84.8270290707073% of viewport)
[12:10:35] [INFO] [Bullet] Distance-based penetration chance: 47.7017994175082%
[12:10:35] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:35] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:10:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=2472894532793, bullet_pos=(510.7308, 919.6211)
[12:10:35] [INFO] [Bullet] Using shooter_position, distance=775.546875
[12:10:35] [INFO] [Bullet] Distance to wall: 775.546875 (52.8084128237024% of viewport)
[12:10:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(418.5954, 785.073), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:35] [ENEMY] [Enemy1] Heard gunshot at (418.5954, 785.073), source_type=0, intensity=0.01, distance=451
[12:10:35] [ENEMY] [Enemy2] Heard gunshot at (418.5954, 785.073), source_type=0, intensity=0.04, distance=236
[12:10:35] [ENEMY] [Enemy4] Heard gunshot at (418.5954, 785.073), source_type=0, intensity=0.02, distance=398
[12:10:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:10:36] [ENEMY] [Enemy3] Hit taken, health: 3/4
[12:10:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(668.4872, 755.4919), source=ENEMY (Enemy3), range=1469, listeners=10
[12:10:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:10:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(387.8159, 770.696), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:10:36] [INFO] [LastChance] Threat detected: @Area2D@9698
[12:10:36] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:36] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[12:10:36] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[12:10:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(668.4872, 755.4919), source=ENEMY (Enemy3), range=1469, listeners=10
[12:10:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:10:36] [ENEMY] [Enemy3] Hit taken, health: 2/4
[12:10:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(361.4625, 769.0451), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:10:36] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[12:10:36] [INFO] [LastChance] Threat detected: @Area2D@9699
[12:10:36] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.728, 1468.413), shooter_id=2472894532793, bullet_pos=(56.48889, 1215.961)
[12:10:36] [INFO] [Bullet] Using shooter_position, distance=1033.54479980469
[12:10:36] [INFO] [Bullet] Distance to wall: 1033.54479980469 (70.3759659400043% of viewport)
[12:10:36] [INFO] [Bullet] Distance-based penetration chance: 64.561373069995%
[12:10:36] [INFO] [Bullet] Starting wall penetration at (56.48889, 1215.961)
[12:10:36] [INFO] [Bullet] Body exited signal received for penetrating body
[12:10:36] [INFO] [Bullet] Exiting penetration at (30.87008, 1232.675) after traveling 0 pixels through wall
[12:10:36] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[12:10:36] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[12:10:36] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[12:10:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(663.8069, 761.9799), source=ENEMY (Enemy3), range=1469, listeners=10
[12:10:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:10:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(347.42, 777.1669), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:10:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.5663, 780.7302), shooter_id=2470898042857, bullet_pos=(496.9459, 817.0063)
[12:10:36] [INFO] [Bullet] Using shooter_position, distance=125.000015258789
[12:10:36] [INFO] [Bullet] Distance to wall: 125.000015258789 (8.51148089373093% of viewport)
[12:10:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:10:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(657.5665, 770.6306), source=ENEMY (Enemy3), range=1469, listeners=10
[12:10:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:10:36] [INFO] [LastChance] Threat detected: @Area2D@9705
[12:10:36] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(348.1949, 791.8594), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:10:36] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[12:10:36] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[12:10:36] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[12:10:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(913.2013, 745.5011)
[12:10:36] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:36] [INFO] [Bullet] Using shooter_position, distance=1178,859
[12:10:36] [INFO] [Bullet] Distance to wall: 1178,859 (80,270676% of viewport)
[12:10:36] [INFO] [Bullet] Distance-based penetration chance: 53,017544%
[12:10:36] [INFO] [Bullet] Starting wall penetration at (913.2013, 745.5011)
[12:10:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(363.6197, 803.5353), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[12:10:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,832285
[12:10:36] [INFO] [Bullet] Body exited signal received for penetrating body
[12:10:36] [INFO] [Bullet] Exiting penetration at (959.79504, 742.8933) after traveling 41,666676 pixels through wall
[12:10:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[12:10:36] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[12:10:36] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[12:10:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(608.6471, 779.4056), shooter_id=2470898042857, bullet_pos=(30.80323, 859.2443)
[12:10:36] [INFO] [Bullet] Using shooter_position, distance=583.333312988281
[12:10:36] [INFO] [Bullet] Distance to wall: 583.333312988281 (39.7202379367503% of viewport)
[12:10:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:10:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(913.69305, 755.4845)
[12:10:36] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:36] [INFO] [Bullet] Using shooter_position, distance=1185,5765
[12:10:36] [INFO] [Bullet] Distance to wall: 1185,5765 (80,72809% of viewport)
[12:10:36] [INFO] [Bullet] Distance-based penetration chance: 52,4839%
[12:10:36] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:36] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[12:10:36] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[12:10:36] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[12:10:36] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[12:10:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(928.4986, 758.55756)
[12:10:36] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:36] [INFO] [Bullet] Using shooter_position, distance=1198,966
[12:10:36] [INFO] [Bullet] Distance to wall: 1198,966 (81,63979% of viewport)
[12:10:36] [INFO] [Bullet] Distance-based penetration chance: 51,420242%
[12:10:36] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(616.6621, 867.7759), source=ENEMY (Enemy3), range=1469, listeners=10
[12:10:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:10:36] [INFO] [LastChance] Threat detected: Bullet
[12:10:36] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(570.9828, 839.6775), shooter_id=2470898042857, bullet_pos=(408.5645, 709.2051)
[12:10:37] [INFO] [Bullet] Using shooter_position, distance=208.333358764648
[12:10:37] [INFO] [Bullet] Distance to wall: 208.333358764648 (14.1858014895516% of viewport)
[12:10:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[12:10:37] [INFO] [Bullet] Starting wall penetration at (408.5645, 709.2051)
[12:10:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12.8072280883789
[12:10:37] [INFO] [Bullet] Body exited signal received for penetrating body
[12:10:37] [INFO] [Bullet] Exiting penetration at (372.1827, 679.9792) after traveling 41.6666679382324 pixels through wall
[12:10:37] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:10:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(557.9116, 867.6032), source=ENEMY (Enemy3), range=1469, listeners=10
[12:10:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:10:37] [INFO] [LastChance] Threat detected: Bullet
[12:10:37] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:10:37] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[12:10:37] [INFO] [PenultimateHit] Starting penultimate hit effect:
[12:10:37] [INFO] [PenultimateHit]   - Time scale: 0.10
[12:10:37] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[12:10:37] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[12:10:37] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[12:10:37] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[12:10:37] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[12:10:37] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:10:37] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[12:10:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.3575, 734.0978), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[12:10:37] [ENEMY] [Enemy3] Hit taken, health: 1/4
[12:10:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(569.3441, 739.4252), source=PLAYER (AssaultRifle), range=1469, listeners=10
[12:10:38] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[12:10:38] [ENEMY] [Enemy3] Hit taken, health: 0/4
[12:10:38] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[12:10:38] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[12:10:38] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[12:10:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[12:10:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[12:10:39] [INFO] [LastChance] Threat detected: Bullet
[12:10:39] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(598.4, 768.4156), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[12:10:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[12:10:40] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[12:10:40] [INFO] [PenultimateHit] Player died - ending penultimate effect
[12:10:40] [INFO] [PenultimateHit] Ending penultimate hit effect
[12:10:40] [INFO] [LastChance] Player died
[12:10:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[12:10:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[12:10:40] [INFO] [LastChance] Threat detected: Bullet
[12:10:40] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:40] [ENEMY] [Enemy2] Hit taken, health: 1/2
[12:10:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(621.7427, 796.7159), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:10:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[12:10:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[12:10:40] [INFO] [LastChance] Threat detected: @Area2D@9716
[12:10:40] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:40] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[12:10:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(648.9664, 823.9396), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:10:40] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[12:10:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(399.5886, 557.9894), source=ENEMY (Enemy2), range=1469, listeners=9
[12:10:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[12:10:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(663.9349, 851.1633), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:10:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(399.0399, 568.642), source=ENEMY (Enemy2), range=1469, listeners=9
[12:10:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[12:10:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(663.9349, 877.8161), source=PLAYER (AssaultRifle), range=1469, listeners=9
[12:10:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[12:10:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(398.4913, 579.2946), source=ENEMY (Enemy2), range=1469, listeners=9
[12:10:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[12:10:40] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:10:40] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:10:40] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:10:40] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:10:40] [INFO] [Player] Ready! Grenades: 1/3
[12:10:40] [INFO] [ScoreManager] Level started with 10 enemies
[12:10:40] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[12:10:40] [ENEMY] [Enemy1] Registered as sound listener
[12:10:40] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[12:10:40] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[12:10:40] [ENEMY] [Enemy2] Registered as sound listener
[12:10:40] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[12:10:40] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[12:10:40] [ENEMY] [Enemy3] Registered as sound listener
[12:10:40] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[12:10:40] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[12:10:40] [ENEMY] [Enemy4] Registered as sound listener
[12:10:40] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[12:10:40] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[12:10:40] [ENEMY] [Enemy5] Registered as sound listener
[12:10:40] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[12:10:40] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[12:10:40] [ENEMY] [Enemy6] Registered as sound listener
[12:10:40] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[12:10:40] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[12:10:40] [ENEMY] [Enemy7] Registered as sound listener
[12:10:40] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[12:10:40] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[12:10:40] [ENEMY] [Enemy8] Registered as sound listener
[12:10:40] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[12:10:40] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[12:10:40] [ENEMY] [Enemy9] Registered as sound listener
[12:10:40] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[12:10:40] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[12:10:40] [ENEMY] [Enemy10] Registered as sound listener
[12:10:40] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[12:10:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450.3333, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=19
[12:10:40] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[12:10:40] [ENEMY] [Enemy4] Heard gunshot at (450.3333, 1256), source_type=0, intensity=0.01, distance=499
[12:10:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[12:10:40] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:10:40] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:10:40] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:10:40] [INFO] [LastChance] Found player: Player
[12:10:40] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:10:40] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:10:40] [INFO] [LastChance] Connected to player Died signal (C#)
[12:10:41] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[12:10:41] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[12:10:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.49, 1518.171), source=ENEMY (Enemy10), range=1469, listeners=10
[12:10:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:10:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(2475.3335, 1256)
[12:10:41] [INFO] [Bullet] WARNING: Unable to determine shooter position
[12:10:41] [INFO] [Bullet] Using shooter_position, distance=2775,7544
[12:10:41] [INFO] [Bullet] Distance to wall: 2775,7544 (189,00623% of viewport)
[12:10:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1113.174, 1497.852), source=ENEMY (Enemy10), range=1469, listeners=10
[12:10:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:10:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.7, 1476.289), source=ENEMY (Enemy10), range=1469, listeners=10
[12:10:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:10:41] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:10:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1088.985, 1491.335), shooter_id=2571158686279, bullet_pos=(64.09964, 851.2745)
[12:10:41] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[12:10:41] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[12:10:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1058.674, 1468.509), shooter_id=2571158686279, bullet_pos=(60.44024, 787.6282)
[12:10:42] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[12:10:42] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[12:10:42] [INFO] [Bullet] Distance-based penetration chance: 50.6760947698504%
[12:10:42] [INFO] [Bullet] Penetration failed (distance roll)
[12:10:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1088.985, 1491.335), shooter_id=2571158686279, bullet_pos=(267.4449, 700.8831)
[12:10:42] [INFO] [Bullet] Using shooter_position, distance=1140.06298828125
[12:10:42] [INFO] [Bullet] Distance to wall: 1140.06298828125 (77.6289852630507% of viewport)
[12:10:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.32, 1444.491), shooter_id=2571158686279, bullet_pos=(59.14255, 724.1966)
[12:10:42] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[12:10:42] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[12:10:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1088.985, 1491.335), shooter_id=2571158686279, bullet_pos=(506.0846, 892.4882)
[12:10:42] [INFO] [Bullet] Using shooter_position, distance=835.697998046875
[12:10:42] [INFO] [Bullet] Distance to wall: 835.697998046875 (56.9042134001262% of viewport)
[12:10:42] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[12:10:42] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[12:10:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.32, 1444.491), shooter_id=2571158686279, bullet_pos=(307.5883, 464.8216)
[12:10:42] [INFO] [Bullet] Using shooter_position, distance=1216.81945800781
[12:10:42] [INFO] [Bullet] Distance to wall: 1216.81945800781 (82.8554744294345% of viewport)
[12:10:42] [ENEMY] [Enemy2] Hit taken, health: 2/3
[12:10:43] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[12:10:43] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[12:10:46] [ENEMY] [Enemy7] State: IDLE -> COMBAT
[12:10:47] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[12:10:47] [ENEMY] [Enemy4] FLANKING started: target=(699.9758, 1382.159), side=left, pos=(600.4022, 975.9338)
[12:10:47] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[12:10:47] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[12:10:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(956.3019, 1478.088), source=ENEMY (Enemy10), range=1469, listeners=10
[12:10:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[12:10:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(911.3257, 1522.269), shooter_id=2571158686279, bullet_pos=(911.3257, 1522.269)
[12:10:47] [INFO] [Bullet] Using shooter_position, distance=0
[12:10:47] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[12:10:47] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[12:10:47] [INFO] [Bullet] Starting wall penetration at (911.3257, 1522.269)
[12:10:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16.4107513427734
[12:10:47] [INFO] [Bullet] Body exited signal received for penetrating body
[12:10:47] [INFO] [Bullet] Exiting penetration at (875.3482, 1551.991) after traveling 41.6666679382324 pixels through wall
[12:10:47] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[12:10:47] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:10:48] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:10:48] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:10:48] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:10:48] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:10:48] [INFO] [Player] Ready! Grenades: 1/3
[12:10:48] [INFO] [ScoreManager] Level started with 10 enemies
[12:10:48] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:10:48] [ENEMY] [Enemy1] Registered as sound listener
[12:10:48] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[12:10:48] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:10:48] [ENEMY] [Enemy2] Registered as sound listener
[12:10:48] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[12:10:48] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:10:48] [ENEMY] [Enemy3] Registered as sound listener
[12:10:48] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[12:10:48] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:10:48] [ENEMY] [Enemy4] Registered as sound listener
[12:10:48] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[12:10:48] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:10:48] [ENEMY] [Enemy5] Registered as sound listener
[12:10:48] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[12:10:48] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:10:48] [ENEMY] [Enemy6] Registered as sound listener
[12:10:48] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[12:10:48] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:10:48] [ENEMY] [Enemy7] Registered as sound listener
[12:10:48] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[12:10:48] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:10:48] [ENEMY] [Enemy8] Registered as sound listener
[12:10:48] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[12:10:48] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:10:48] [ENEMY] [Enemy9] Registered as sound listener
[12:10:48] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[12:10:48] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:10:48] [ENEMY] [Enemy10] Registered as sound listener
[12:10:48] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[12:10:48] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:10:48] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:10:48] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:10:48] [INFO] [LastChance] Found player: Player
[12:10:48] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:10:48] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:10:48] [INFO] [LastChance] Connected to player Died signal (C#)
[12:10:48] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[12:10:49] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[12:10:49] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[12:10:50] [ENEMY] [Enemy1] State: IDLE -> COMBAT
[12:10:50] [ENEMY] [Enemy2] State: IDLE -> COMBAT
[12:10:50] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[12:10:50] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[12:10:50] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[12:10:50] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[12:10:50] [ENEMY] [Enemy10] FLANKING started: target=(897.6669, 709.2762), side=left, pos=(1061.809, 1459.636)
[12:10:50] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[12:10:50] [ENEMY] [Enemy4] State: IDLE -> COMBAT
[12:10:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=20
[12:10:51] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[12:10:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:10:51] [INFO] [LastChance] Threat detected: Bullet
[12:10:51] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:51] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[12:10:51] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[12:10:51] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[12:10:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[12:10:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:10:51] [INFO] [LastChance] Threat detected: Bullet
[12:10:51] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:51] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[12:10:51] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[12:10:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[12:10:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:10:51] [INFO] [LastChance] Threat detected: Bullet
[12:10:51] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:51] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[12:10:51] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[12:10:51] [INFO] [PenultimateHit] Starting penultimate hit effect:
[12:10:51] [INFO] [PenultimateHit]   - Time scale: 0.10
[12:10:51] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[12:10:51] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[12:10:51] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[12:10:51] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[12:10:51] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[12:10:51] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[12:10:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[12:10:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:10:51] [INFO] [LastChance] Threat detected: Bullet
[12:10:51] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:52] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[12:10:52] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[12:10:52] [INFO] [PenultimateHit] Player died - ending penultimate effect
[12:10:52] [INFO] [PenultimateHit] Ending penultimate hit effect
[12:10:52] [INFO] [LastChance] Player died
[12:10:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[12:10:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:10:52] [INFO] [LastChance] Threat detected: Bullet
[12:10:52] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[12:10:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:10:52] [INFO] [LastChance] Threat detected: Bullet
[12:10:52] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[12:10:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:10:52] [INFO] [LastChance] Threat detected: Bullet
[12:10:52] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[12:10:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[12:10:52] [INFO] [LastChance] Threat detected: Bullet
[12:10:52] [INFO] [LastChance] Not in hard mode - effect disabled
[12:10:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[12:10:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[12:10:53] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[12:10:53] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[12:10:53] [INFO] [LastChance] Resetting all effects (scene change detected)
[12:10:53] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[12:10:53] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[12:10:53] [INFO] [Player] Ready! Grenades: 1/3
[12:10:53] [INFO] [ScoreManager] Level started with 10 enemies
[12:10:53] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[12:10:53] [ENEMY] [Enemy1] Registered as sound listener
[12:10:53] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[12:10:53] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[12:10:53] [ENEMY] [Enemy2] Registered as sound listener
[12:10:53] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[12:10:53] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[12:10:53] [ENEMY] [Enemy3] Registered as sound listener
[12:10:53] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[12:10:53] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[12:10:53] [ENEMY] [Enemy4] Registered as sound listener
[12:10:53] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[12:10:53] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[12:10:53] [ENEMY] [Enemy5] Registered as sound listener
[12:10:53] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[12:10:53] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[12:10:53] [ENEMY] [Enemy6] Registered as sound listener
[12:10:53] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[12:10:53] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[12:10:53] [ENEMY] [Enemy7] Registered as sound listener
[12:10:53] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[12:10:53] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[12:10:53] [ENEMY] [Enemy8] Registered as sound listener
[12:10:53] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[12:10:53] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[12:10:53] [ENEMY] [Enemy9] Registered as sound listener
[12:10:53] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[12:10:53] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[12:10:53] [ENEMY] [Enemy10] Registered as sound listener
[12:10:53] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[12:10:53] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[12:10:53] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[12:10:53] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[12:10:53] [INFO] [LastChance] Found player: Player
[12:10:53] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[12:10:53] [INFO] [LastChance] Connected to player Damaged signal (C#)
[12:10:53] [INFO] [LastChance] Connected to player Died signal (C#)
[12:10:54] [INFO] ------------------------------------------------------------
[12:10:54] [INFO] GAME LOG ENDED: 2026-01-22T12:10:54
[12:10:54] [INFO] ============================================================
