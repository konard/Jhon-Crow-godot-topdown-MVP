{"additions":227,"author":{"id":"MDQ6VXNlcjE0MzE5MDQ=","is_bot":false,"login":"konard","name":"Konstantin Diachenko"},"body":"## Summary\n–î–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é –∑–≤—É–∫–æ–≤—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è –¥—Ä–æ–±–æ–≤–∏–∫–∞:\n- –°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –∑–≤—É–∫–∞ –≤—ã—Å—Ç—Ä–µ–ª–∞ –∏–∑ 4 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤\n- –ó–≤—É–∫–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è –∑–∞—Ç–≤–æ—Ä–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∫–µ\n- –ó–≤—É–∫ –≤—ã–±—Ä–æ—Å–∞ –≥–∏–ª—å–∑—ã (—Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –∑–∞—Ç–≤–æ—Ä–∞ –∏ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –±—ã–ª –ø—Ä–æ–∏–∑–≤–µ–¥—ë–Ω –≤—ã—Å—Ç—Ä–µ–ª)\n- –ó–≤—É–∫ –ø—É—Å—Ç–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –¥–ª—è –¥—Ä–æ–±–æ–≤–∏–∫–∞\n\n## Changes\n\n### AudioManager (`scripts/autoload/audio_manager.gd`)\n- Added shotgun sound constants for shots, action, shell, and empty click\n- Added volume constants: `VOLUME_SHOTGUN_SHOT = -3.0`, `VOLUME_SHOTGUN_ACTION = -5.0`\n- Added preloading for all shotgun sounds\n- Added convenience methods: `play_shotgun_shot()`, `play_shotgun_action_open()`, `play_shotgun_action_close()`, `play_shell_shotgun()`, `play_shotgun_empty_click()`, `play_shotgun_load_shell()`\n\n### Shotgun (`Scripts/Weapons/Shotgun.cs`)\n- Added `_hasFiredBeforeActionOpen` flag to track shot state for shell ejection\n- Replaced placeholder M16 sounds with proper shotgun sounds\n- Added async `PlayActionOpenWithShellEject()` method with proper timing sequence:\n  - 100ms delay: action open sound\n  - 250ms delay: shell ejection sound (only if shot was fired)\n- Added `PlayActionCloseSound()` method\n- Updated `PlayEmptyClickSound()` to use shotgun-specific empty click\n\n## Sound Timing Sequence\nWhen shotgun fires:\n1. `0ms`: Shotgun shot sound (random 1-4)\n2. `100ms`: Action open sound (pump-action pulling back)\n3. `250ms`: Shell ejection sound (only if shot was fired)\n4. `300ms`: Action close sound (pump-action pushing forward)\n\n## Test Plan\n- [ ] Equip shotgun and fire to hear random shot sounds\n- [ ] Listen for action open sound after firing\n- [ ] Verify shell ejection sound plays after action opens\n- [ ] Listen for action close sound after cycling\n- [ ] Empty magazine and verify shotgun-specific empty click plays\n\n## Fixes\nFixes #204\n\n---\nü§ñ Generated with [Claude Code](https://claude.ai/code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>","commits":[{"authoredDate":"2026-01-22T04:01:06Z","authors":[{"email":"drakonard@gmail.com","id":"MDQ6VXNlcjE0MzE5MDQ=","login":"konard","name":"konard"}],"committedDate":"2026-01-22T04:01:06Z","messageBody":"Adding CLAUDE.md with task information for AI processing.\nThis file will be removed when the task is complete.\n\nIssue: https://github.com/Jhon-Crow/godot-topdown-MVP/issues/204","messageHeadline":"Initial commit with task details","oid":"58029b834a21f7ed00a0d4226759bc499e46643c"},{"authoredDate":"2026-01-22T04:05:35Z","authors":[{"email":"drakonard@gmail.com","id":"MDQ6VXNlcjE0MzE5MDQ=","login":"konard","name":"konard"},{"email":"noreply@anthropic.com","id":"MDQ6VXNlcjgxODQ3","login":"claude","name":"Claude Opus 4.5"}],"committedDate":"2026-01-22T04:05:35Z","messageBody":"- Add shotgun sound constants and convenience methods to AudioManager\n- Implement random shot selection from 4 shotgun variants\n- Add action open/close sounds for pump-action mechanism\n- Add shell ejection sound that plays only after a shot was fired\n- Update Shotgun.cs to use proper shotgun sounds instead of M16 placeholder\n- Add case study documentation for issue #204\n\nFixes #204\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>","messageHeadline":"Add shotgun sounds with action cycling and shell ejection","oid":"f3fcd04b590036fe44783ec542618f05a028758f"},{"authoredDate":"2026-01-22T04:08:08Z","authors":[{"email":"drakonard@gmail.com","id":"MDQ6VXNlcjE0MzE5MDQ=","login":"konard","name":"konard"}],"committedDate":"2026-01-22T04:08:08Z","messageBody":"This reverts commit 58029b834a21f7ed00a0d4226759bc499e46643c.","messageHeadline":"Revert \"Initial commit with task details\"","oid":"e17dd57ca314b90d0943371de1859ecf29f3e602"}],"createdAt":"2026-01-22T04:01:13Z","deletions":6,"state":"OPEN","title":"–î–æ–±–∞–≤–∏—Ç—å –∑–≤—É–∫–∏ –¥—Ä–æ–±–æ–≤–∏–∫—É","updatedAt":"2026-01-22T04:19:59Z"}
