[01:50:04] [INFO] ============================================================
[01:50:04] [INFO] GAME LOG STARTED
[01:50:04] [INFO] ============================================================
[01:50:04] [INFO] Timestamp: 2026-01-24T01:50:04
[01:50:04] [INFO] Log file: I:/Загрузки/godot exe/game_log_20260124_015004.txt
[01:50:04] [INFO] Executable: I:/Загрузки/godot exe/Godot-Top-Down-Template.exe
[01:50:04] [INFO] OS: Windows
[01:50:04] [INFO] Debug build: false
[01:50:04] [INFO] Engine version: 4.3-stable (official)
[01:50:04] [INFO] Project: Godot Top-Down Template
[01:50:04] [INFO] ------------------------------------------------------------
[01:50:04] [INFO] [GameManager] GameManager ready
[01:50:04] [INFO] [ScoreManager] ScoreManager ready
[01:50:04] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[01:50:04] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[01:50:04] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[01:50:04] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:50:04] [INFO] [PenultimateHit] Saturation shader loaded successfully
[01:50:04] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[01:50:04] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[01:50:04] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[01:50:04] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[01:50:04] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[01:50:04] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:50:04] [INFO] [LastChance] Last chance shader loaded successfully
[01:50:04] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[01:50:04] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[01:50:04] [INFO] [LastChance]   Sepia intensity: 0.70
[01:50:04] [INFO] [LastChance]   Brightness: 0.60
[01:50:04] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[01:50:04] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[01:50:04] [ENEMY] [Enemy1] Death animation component initialized
[01:50:04] [ENEMY] [Enemy2] Death animation component initialized
[01:50:04] [ENEMY] [Enemy3] Death animation component initialized
[01:50:04] [ENEMY] [Enemy4] Death animation component initialized
[01:50:04] [ENEMY] [Enemy5] Death animation component initialized
[01:50:04] [ENEMY] [Enemy6] Death animation component initialized
[01:50:04] [ENEMY] [Enemy7] Death animation component initialized
[01:50:04] [ENEMY] [Enemy8] Death animation component initialized
[01:50:04] [ENEMY] [Enemy9] Death animation component initialized
[01:50:04] [ENEMY] [Enemy10] Death animation component initialized
[01:50:04] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:50:04] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:50:04] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:50:04] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:50:04] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:50:04] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:50:04] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:50:04] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[01:50:04] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:50:04] [INFO] [ScoreManager] Level started with 10 enemies
[01:50:04] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[01:50:04] [ENEMY] [Enemy1] Registered as sound listener
[01:50:04] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[01:50:04] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[01:50:04] [ENEMY] [Enemy2] Registered as sound listener
[01:50:04] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[01:50:04] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[01:50:04] [ENEMY] [Enemy3] Registered as sound listener
[01:50:04] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[01:50:04] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[01:50:04] [ENEMY] [Enemy4] Registered as sound listener
[01:50:04] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[01:50:04] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[01:50:04] [ENEMY] [Enemy5] Registered as sound listener
[01:50:04] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[01:50:04] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[01:50:04] [ENEMY] [Enemy6] Registered as sound listener
[01:50:04] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[01:50:04] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[01:50:04] [ENEMY] [Enemy7] Registered as sound listener
[01:50:04] [ENEMY] [Enemy7] Enemy spawned at (1606.114, 893.8859), health: 4, behavior: PATROL, player_found: yes
[01:50:04] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[01:50:04] [ENEMY] [Enemy8] Registered as sound listener
[01:50:04] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[01:50:04] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[01:50:04] [ENEMY] [Enemy9] Registered as sound listener
[01:50:04] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[01:50:04] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[01:50:04] [ENEMY] [Enemy10] Registered as sound listener
[01:50:04] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[01:50:04] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:50:04] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:50:04] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:50:04] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:50:04] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:50:04] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:50:04] [INFO] [LastChance] Found player: Player
[01:50:04] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:50:04] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:50:04] [INFO] [LastChance] Connected to player Died signal (C#)
[01:50:05] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[01:50:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=10
[01:50:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:50:06] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[01:50:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=44560287370, bullet_pos=(41.69983, 702.3934)
[01:50:06] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[01:50:06] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[01:50:06] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[01:50:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=44560287370, bullet_pos=(304.4976, 457.571)
[01:50:07] [INFO] [Bullet] Using shooter_position, distance=1199.62170410156
[01:50:07] [INFO] [Bullet] Distance to wall: 1199.62170410156 (81.6844477420771% of viewport)
[01:50:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 782.4999), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:07] [ENEMY] [Enemy1] Heard gunshot at (450, 782.4999), source_type=0, intensity=0.01, distance=458
[01:50:07] [ENEMY] [Enemy2] Heard gunshot at (450, 782.4999), source_type=0, intensity=0.04, distance=238
[01:50:07] [ENEMY] [Enemy4] Heard gunshot at (450, 782.4999), source_type=0, intensity=0.02, distance=369
[01:50:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:50:07] [ENEMY] [Enemy2] Hit taken, health: 2/3
[01:50:07] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:07] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(0.745163, 0.666883), lethal=false
[01:50:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:07] [INFO] [ImpactEffects] _spawn_blood_decal called at (400, 550), intensity=0.5
[01:50:07] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:07] [INFO] [ImpactEffects] Blood decal spawned at (414.7142, 563.1685) (total: 1)
[01:50:07] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[01:50:07] [ENEMY] [Enemy3] Hit taken, health: 3/4
[01:50:07] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:07] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[01:50:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:07] [INFO] [ImpactEffects] _spawn_blood_decal called at (684.4485, 753.7583), intensity=0.5
[01:50:07] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:07] [INFO] [ImpactEffects] Blood decal spawned at (712.9556, 753.7583) (total: 2)
[01:50:07] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[01:50:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 756.2222), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:50:07] [ENEMY] [Enemy3] Hit taken, health: 2/4
[01:50:07] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:07] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[01:50:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:07] [INFO] [ImpactEffects] _spawn_blood_decal called at (684.4485, 753.7583), intensity=0.5
[01:50:07] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:07] [INFO] [ImpactEffects] Blood decal spawned at (714.28, 753.7583) (total: 3)
[01:50:07] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[01:50:07] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[01:50:07] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[01:50:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 744.0621), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:50:07] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[01:50:07] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[01:50:07] [ENEMY] [Enemy3] Hit taken, health: 1/4
[01:50:07] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:07] [INFO] [ImpactEffects] spawn_blood_effect called at (680.1714, 758.5192), dir=(1, 0), lethal=false
[01:50:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:07] [INFO] [ImpactEffects] _spawn_blood_decal called at (680.1714, 758.5192), intensity=0.5
[01:50:07] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:07] [INFO] [ImpactEffects] Blood decal spawned at (701.3824, 758.5192) (total: 4)
[01:50:07] [INFO] [ImpactEffects] Blood effect spawned at (680.1714, 758.5192) (scale=1)
[01:50:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(678.7457, 760.1062), source=ENEMY (Enemy3), range=1469, listeners=10
[01:50:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:50:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 745.5554), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:50:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(671.6173, 768.0411), source=ENEMY (Enemy3), range=1469, listeners=10
[01:50:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:50:07] [INFO] [LastChance] Threat detected: @Area2D@298
[01:50:07] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:07] [ENEMY] [Enemy3] Hit taken, health: 0/4
[01:50:07] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:07] [INFO] [ImpactEffects] spawn_blood_effect called at (667.3403, 772.802), dir=(1, 0), lethal=true
[01:50:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:07] [INFO] [ImpactEffects] _spawn_blood_decal called at (667.3403, 772.802), intensity=1.5
[01:50:07] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:07] [INFO] [ImpactEffects] Blood decal spawned at (692.2021, 772.802) (total: 5)
[01:50:07] [INFO] [ImpactEffects] Blood effect spawned at (667.3403, 772.802) (scale=1.5)
[01:50:07] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[01:50:07] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:50:07] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[01:50:07] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:50:07] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[01:50:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 760.702), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[01:50:07] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[01:50:07] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[01:50:07] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[01:50:07] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[01:50:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(610.7126, 761.5507), shooter_id=42563798547, bullet_pos=(46.92975, 818.6487)
[01:50:07] [INFO] [Bullet] Using shooter_position, distance=566.666809082031
[01:50:07] [INFO] [Bullet] Distance to wall: 566.666809082031 (38.5853850387754% of viewport)
[01:50:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:07] [INFO] [Bullet] Starting wall penetration at (46.92975, 818.6487)
[01:50:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23.3272113800049
[01:50:07] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:07] [INFO] [Bullet] Exiting penetration at (8.791508, 822.5112) after traveling 33.3333320617676 pixels through wall
[01:50:07] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:50:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 760.702), shooter_id=45382371003, bullet_pos=(937.55304, 824.17096)
[01:50:07] [INFO] [Bullet] Using shooter_position, distance=491,66684
[01:50:07] [INFO] [Bullet] Distance to wall: 491,66684 (33,4785% of viewport)
[01:50:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:07] [INFO] [Bullet] Starting wall penetration at (937.55304, 824.17096)
[01:50:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,89951
[01:50:07] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:07] [INFO] [Bullet] Exiting penetration at (975.5657, 829.1194) after traveling 33,333336 pixels through wall
[01:50:07] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:50:08] [ENEMY] [Enemy3] Ragdoll activated
[01:50:08] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:50:08] [ENEMY] [Enemy10] FLANKING started: target=(641.6298, 834.1151), side=left, pos=(1022.668, 1432.257)
[01:50:08] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[01:50:08] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:50:08] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:50:08] [ENEMY] [Enemy1] Death animation component initialized
[01:50:08] [ENEMY] [Enemy2] Death animation component initialized
[01:50:08] [ENEMY] [Enemy3] Death animation component initialized
[01:50:08] [ENEMY] [Enemy4] Death animation component initialized
[01:50:08] [ENEMY] [Enemy5] Death animation component initialized
[01:50:08] [ENEMY] [Enemy6] Death animation component initialized
[01:50:08] [ENEMY] [Enemy7] Death animation component initialized
[01:50:08] [ENEMY] [Enemy8] Death animation component initialized
[01:50:08] [ENEMY] [Enemy9] Death animation component initialized
[01:50:08] [ENEMY] [Enemy10] Death animation component initialized
[01:50:08] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:50:08] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:50:08] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:50:08] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:50:08] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:50:08] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:50:08] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:50:08] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[01:50:08] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:50:08] [INFO] [ScoreManager] Level started with 10 enemies
[01:50:08] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[01:50:08] [ENEMY] [Enemy1] Registered as sound listener
[01:50:08] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[01:50:08] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[01:50:08] [ENEMY] [Enemy2] Registered as sound listener
[01:50:08] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[01:50:08] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[01:50:08] [ENEMY] [Enemy3] Registered as sound listener
[01:50:08] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[01:50:08] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[01:50:08] [ENEMY] [Enemy4] Registered as sound listener
[01:50:08] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[01:50:08] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[01:50:08] [ENEMY] [Enemy5] Registered as sound listener
[01:50:08] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[01:50:08] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[01:50:08] [ENEMY] [Enemy6] Registered as sound listener
[01:50:08] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[01:50:08] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[01:50:08] [ENEMY] [Enemy7] Registered as sound listener
[01:50:08] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[01:50:08] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[01:50:08] [ENEMY] [Enemy8] Registered as sound listener
[01:50:08] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[01:50:08] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[01:50:08] [ENEMY] [Enemy9] Registered as sound listener
[01:50:08] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[01:50:08] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[01:50:08] [ENEMY] [Enemy10] Registered as sound listener
[01:50:08] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[01:50:08] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:50:08] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:50:08] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:50:08] [INFO] [LastChance] Found player: Player
[01:50:08] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:50:08] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:50:08] [INFO] [LastChance] Connected to player Died signal (C#)
[01:50:08] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:50:08] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:50:08] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:50:08] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[01:50:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[01:50:09] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[01:50:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:50:09] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[01:50:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=284105378560, bullet_pos=(41.69983, 702.3934)
[01:50:10] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[01:50:10] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[01:50:10] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[01:50:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(455.3224, 780.5273), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:10] [ENEMY] [Enemy1] Heard gunshot at (455.3224, 780.5273), source_type=0, intensity=0.01, distance=458
[01:50:10] [ENEMY] [Enemy2] Heard gunshot at (455.3224, 780.5273), source_type=0, intensity=0.04, distance=237
[01:50:10] [ENEMY] [Enemy4] Heard gunshot at (455.3224, 780.5273), source_type=0, intensity=0.02, distance=365
[01:50:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:50:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=284105378560, bullet_pos=(518.6601, 387.2561)
[01:50:10] [INFO] [Bullet] Using shooter_position, distance=1151.70666503906
[01:50:10] [INFO] [Bullet] Distance to wall: 1151.70666503906 (78.4218246243238% of viewport)
[01:50:10] [ENEMY] [Enemy3] Hit taken, health: 2/3
[01:50:10] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:10] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[01:50:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:10] [INFO] [ImpactEffects] _spawn_blood_decal called at (684.4485, 753.7583), intensity=0.5
[01:50:10] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:10] [INFO] [ImpactEffects] Blood decal spawned at (704.0181, 753.7583) (total: 6)
[01:50:10] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[01:50:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(471.4171, 758.4818), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:50:10] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[01:50:10] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[01:50:10] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[01:50:10] [ENEMY] [Enemy3] Hit taken, health: 1/3
[01:50:10] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:10] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[01:50:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:10] [INFO] [ImpactEffects] _spawn_blood_decal called at (684.4485, 753.7583), intensity=0.5
[01:50:10] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:10] [INFO] [ImpactEffects] Blood decal spawned at (695.7804, 753.7583) (total: 7)
[01:50:10] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[01:50:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=284105378560, bullet_pos=(327.0693, 253.2728)
[01:50:10] [INFO] [Bullet] Using shooter_position, distance=1359.18481445313
[01:50:10] [INFO] [Bullet] Distance to wall: 1359.18481445313 (92.5493933366026% of viewport)
[01:50:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(493.4578, 748.9669), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:50:10] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[01:50:10] [ENEMY] [Enemy3] Hit taken, health: 0/3
[01:50:10] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:10] [INFO] [ImpactEffects] spawn_blood_effect called at (687.673, 756.5524), dir=(1, 0), lethal=true
[01:50:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:10] [INFO] [ImpactEffects] _spawn_blood_decal called at (687.673, 756.5524), intensity=1.5
[01:50:10] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:10] [INFO] [ImpactEffects] Blood decal spawned at (713.3563, 756.5524) (total: 8)
[01:50:10] [INFO] [ImpactEffects] Blood effect spawned at (687.673, 756.5524) (scale=1.5)
[01:50:10] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[01:50:10] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:50:10] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[01:50:10] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:50:10] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[01:50:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(516.7033, 753.0038), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[01:50:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=284105378560, bullet_pos=(544.5761, 59.06549)
[01:50:10] [INFO] [Bullet] Using shooter_position, distance=1447.27075195313
[01:50:10] [INFO] [Bullet] Distance to wall: 1447.27075195313 (98.547326796734% of viewport)
[01:50:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(516.7033, 753.0038), shooter_id=284927462193, bullet_pos=(936.114, 821.70544)
[01:50:10] [INFO] [Bullet] Using shooter_position, distance=425,0003
[01:50:10] [INFO] [Bullet] Distance to wall: 425,0003 (28,939053% of viewport)
[01:50:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:10] [INFO] [Bullet] Starting wall penetration at (936.114, 821.70544)
[01:50:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,448914
[01:50:10] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:10] [INFO] [Bullet] Exiting penetration at (973.94324, 827.90204) after traveling 33,333336 pixels through wall
[01:50:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:50:10] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[01:50:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[01:50:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[01:50:10] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[01:50:10] [INFO] [LastChance] Threat detected: @Area2D@583
[01:50:10] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[01:50:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[01:50:10] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[01:50:10] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[01:50:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(430.8492, 610.5941), shooter_id=281823677048, bullet_pos=(492.8232, 689.0749)
[01:50:10] [INFO] [Bullet] Using shooter_position, distance=100.000076293945
[01:50:10] [INFO] [Bullet] Distance to wall: 100.000076293945 (6.80918907878057% of viewport)
[01:50:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:10] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[01:50:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(431.3474, 610.4986), shooter_id=281823677048, bullet_pos=(681.8573, 878.2469)
[01:50:11] [INFO] [Bullet] Using shooter_position, distance=366.666564941406
[01:50:11] [INFO] [Bullet] Distance to wall: 366.666564941406 (24.9670006472203% of viewport)
[01:50:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(431.3474, 610.4986), shooter_id=281823677048, bullet_pos=(571.1306, 1013.763)
[01:50:11] [INFO] [Bullet] Using shooter_position, distance=426.804046630859
[01:50:11] [INFO] [Bullet] Distance to wall: 426.804046630859 (29.061872358533% of viewport)
[01:50:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:11] [ENEMY] [Enemy3] Ragdoll activated
[01:50:11] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:50:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(431.3474, 610.4986), shooter_id=281823677048, bullet_pos=(515.0014, 929.3953)
[01:50:11] [INFO] [Bullet] Using shooter_position, distance=329.686309814453
[01:50:11] [INFO] [Bullet] Distance to wall: 329.686309814453 (22.448947074933% of viewport)
[01:50:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:11] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[01:50:11] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[01:50:11] [ENEMY] [Enemy10] FLANKING started: target=(766.1209, 883.6497), side=left, pos=(1022.668, 1432.257)
[01:50:11] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[01:50:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(570.2626, 934.5406), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[01:50:11] [ENEMY] [Enemy4] Hit taken, health: 3/4
[01:50:11] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:11] [INFO] [ImpactEffects] spawn_blood_effect called at (775.1631, 910.8105), dir=(1, 0), lethal=false
[01:50:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:11] [INFO] [ImpactEffects] _spawn_blood_decal called at (775.1631, 910.8105), intensity=0.5
[01:50:11] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:11] [INFO] [ImpactEffects] Blood decal spawned at (793.8361, 910.8105) (total: 9)
[01:50:11] [INFO] [ImpactEffects] Blood effect spawned at (775.1631, 910.8105) (scale=1)
[01:50:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(577.293, 971.1158), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[01:50:11] [ENEMY] [Enemy4] Hit taken, health: 2/4
[01:50:11] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:11] [INFO] [ImpactEffects] spawn_blood_effect called at (797.5066, 893.6026), dir=(1, 0), lethal=false
[01:50:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:11] [INFO] [ImpactEffects] _spawn_blood_decal called at (797.5066, 893.6026), intensity=0.5
[01:50:11] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:11] [INFO] [ImpactEffects] Blood decal spawned at (808.4866, 893.6026) (total: 10)
[01:50:11] [INFO] [ImpactEffects] Blood effect spawned at (797.5066, 893.6026) (scale=1)
[01:50:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(594.2253, 989.9333), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[01:50:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(594.2253, 989.9333), shooter_id=284927462193, bullet_pos=(712.6025, 884.7845)
[01:50:11] [INFO] [Bullet] Using shooter_position, distance=158,3333
[01:50:11] [INFO] [Bullet] Distance to wall: 158,3333 (10,781205% of viewport)
[01:50:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(623.1057, 989.9333), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[01:50:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(594.2253, 989.9333), shooter_id=284927462193, bullet_pos=(840.1897, 1004.5614)
[01:50:11] [INFO] [Bullet] Using shooter_position, distance=246,39902
[01:50:11] [INFO] [Bullet] Distance to wall: 246,39902 (16,777763% of viewport)
[01:50:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:11] [INFO] [Bullet] Starting wall penetration at (840.1897, 1004.5614)
[01:50:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4,932654
[01:50:11] [INFO] [Bullet] Max penetration distance exceeded: 56,666668 >= 48
[01:50:11] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:11] [INFO] [Bullet] Exiting penetration at (885.149, 1046.7686) after traveling 56,666668 pixels through wall
[01:50:11] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[01:50:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(623.10565, 989.9333), shooter_id=284927462193, bullet_pos=(729.5359, 872.7068)
[01:50:11] [INFO] [Bullet] Using shooter_position, distance=158,33334
[01:50:11] [INFO] [Bullet] Distance to wall: 158,33334 (10,781209% of viewport)
[01:50:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:11] [INFO] [Bullet] Starting wall penetration at (729.5359, 872.7068)
[01:50:11] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:50:11] [INFO] [Bullet] Exiting penetration at (755.3032, 844.3256) after traveling 33,333336 pixels through wall
[01:50:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:50:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(658.3058, 989.9333), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[01:50:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(658.30585, 989.9333), shooter_id=284927462193, bullet_pos=(727.5401, 885.8582)
[01:50:11] [INFO] [Bullet] Using shooter_position, distance=125,000015
[01:50:11] [INFO] [Bullet] Distance to wall: 125,000015 (8,511481% of viewport)
[01:50:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:11] [INFO] [Bullet] Starting wall penetration at (727.5401, 885.8582)
[01:50:11] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:50:11] [INFO] [Bullet] Exiting penetration at (748.7719, 853.94183) after traveling 33,333336 pixels through wall
[01:50:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:50:12] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[01:50:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(693.506, 989.9333), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[01:50:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(693.50604, 989.9333), shooter_id=284927462193, bullet_pos=(757.4873, 882.549)
[01:50:12] [INFO] [Bullet] Using shooter_position, distance=124,99994
[01:50:12] [INFO] [Bullet] Distance to wall: 124,99994 (8,5114765% of viewport)
[01:50:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:12] [INFO] [Bullet] Starting wall penetration at (757.4873, 882.549)
[01:50:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33,42439
[01:50:12] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:12] [INFO] [Bullet] Exiting penetration at (777.1083, 849.61786) after traveling 33,333336 pixels through wall
[01:50:12] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:50:12] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[01:50:12] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[01:50:12] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[01:50:12] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[01:50:12] [ENEMY] [Enemy3] Death animation completed
[01:50:12] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[01:50:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(807.9067, 989.9333), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[01:50:12] [ENEMY] [Enemy4] Hit taken, health: 1/4
[01:50:12] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:12] [INFO] [ImpactEffects] spawn_blood_effect called at (880.5784, 811.5529), dir=(1, 0), lethal=false
[01:50:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:12] [INFO] [ImpactEffects] _spawn_blood_decal called at (880.5784, 811.5529), intensity=0.5
[01:50:12] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:12] [INFO] [ImpactEffects] Blood decal spawned at (904.2374, 811.5529) (total: 11)
[01:50:12] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 811.5529) (dist=31 px)
[01:50:12] [INFO] [ImpactEffects] Blood effect spawned at (880.5784, 811.5529) (scale=1)
[01:50:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(839.3734, 989.9333), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[01:50:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(839.37335, 989.9333), shooter_id=284927462193, bullet_pos=(919.7554, 779.7815)
[01:50:12] [INFO] [Bullet] Using shooter_position, distance=225,0001
[01:50:12] [INFO] [Bullet] Distance to wall: 225,0001 (15,320672% of viewport)
[01:50:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(859.6044, 989.9333), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[01:50:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(866.9289, 989.9333), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[01:50:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(839.37335, 989.9333), shooter_id=284927462193, bullet_pos=(667.1423, 52.397892)
[01:50:13] [INFO] [Bullet] Using shooter_position, distance=953,2241
[01:50:13] [INFO] [Bullet] Distance to wall: 953,2241 (64,906784% of viewport)
[01:50:13] [INFO] [Bullet] Distance-based penetration chance: 70,94208%
[01:50:13] [INFO] [Bullet] Starting wall penetration at (667.1423, 52.397892)
[01:50:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11,740349
[01:50:13] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:13] [INFO] [Bullet] Exiting penetration at (656.20667, 20.909428) after traveling 28,33333 pixels through wall
[01:50:13] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[01:50:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(859.60443, 989.9333), shooter_id=284927462193, bullet_pos=(781.5702, 34.78203)
[01:50:13] [INFO] [Bullet] Using shooter_position, distance=958,33356
[01:50:13] [INFO] [Bullet] Distance to wall: 958,33356 (65,25469% of viewport)
[01:50:13] [INFO] [Bullet] Distance-based penetration chance: 70,536194%
[01:50:13] [INFO] [Bullet] Starting wall penetration at (781.5702, 34.78203)
[01:50:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,542038
[01:50:13] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:13] [INFO] [Bullet] Exiting penetration at (778.4488, -3.4240093) after traveling 33,333332 pixels through wall
[01:50:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:50:13] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[01:50:13] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[01:50:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(866.9289, 989.9333), shooter_id=284927462193, bullet_pos=(751.39197, 38.589806)
[01:50:13] [INFO] [Bullet] Using shooter_position, distance=958,33356
[01:50:13] [INFO] [Bullet] Distance to wall: 958,33356 (65,25469% of viewport)
[01:50:13] [INFO] [Bullet] Distance-based penetration chance: 70,536194%
[01:50:13] [INFO] [Bullet] Starting wall penetration at (751.39197, 38.589806)
[01:50:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,69511
[01:50:13] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:13] [INFO] [Bullet] Exiting penetration at (746.7705, 0.5360718) after traveling 33,333336 pixels through wall
[01:50:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:50:14] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[01:50:14] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:50:14] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:50:14] [ENEMY] [Enemy1] Death animation component initialized
[01:50:14] [ENEMY] [Enemy2] Death animation component initialized
[01:50:14] [ENEMY] [Enemy3] Death animation component initialized
[01:50:14] [ENEMY] [Enemy4] Death animation component initialized
[01:50:14] [ENEMY] [Enemy5] Death animation component initialized
[01:50:14] [ENEMY] [Enemy6] Death animation component initialized
[01:50:14] [ENEMY] [Enemy7] Death animation component initialized
[01:50:14] [ENEMY] [Enemy8] Death animation component initialized
[01:50:14] [ENEMY] [Enemy9] Death animation component initialized
[01:50:14] [ENEMY] [Enemy10] Death animation component initialized
[01:50:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:50:14] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:50:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:50:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:50:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:50:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:50:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:50:14] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[01:50:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:50:14] [INFO] [ScoreManager] Level started with 10 enemies
[01:50:14] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[01:50:14] [ENEMY] [Enemy1] Registered as sound listener
[01:50:14] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[01:50:14] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[01:50:14] [ENEMY] [Enemy2] Registered as sound listener
[01:50:14] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[01:50:14] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[01:50:14] [ENEMY] [Enemy3] Registered as sound listener
[01:50:14] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[01:50:14] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[01:50:14] [ENEMY] [Enemy4] Registered as sound listener
[01:50:14] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[01:50:14] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[01:50:14] [ENEMY] [Enemy5] Registered as sound listener
[01:50:14] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[01:50:14] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[01:50:14] [ENEMY] [Enemy6] Registered as sound listener
[01:50:14] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[01:50:14] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[01:50:14] [ENEMY] [Enemy7] Registered as sound listener
[01:50:14] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[01:50:14] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[01:50:14] [ENEMY] [Enemy8] Registered as sound listener
[01:50:14] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[01:50:14] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[01:50:14] [ENEMY] [Enemy9] Registered as sound listener
[01:50:14] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[01:50:14] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[01:50:14] [ENEMY] [Enemy10] Registered as sound listener
[01:50:14] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[01:50:14] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:50:14] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:50:14] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:50:14] [INFO] [LastChance] Found player: Player
[01:50:14] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:50:14] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:50:14] [INFO] [LastChance] Connected to player Died signal (C#)
[01:50:14] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:50:14] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:50:14] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:50:15] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[01:50:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[01:50:15] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[01:50:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:50:15] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[01:50:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=709206477684, bullet_pos=(41.69983, 702.3934)
[01:50:16] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[01:50:16] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[01:50:16] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[01:50:16] [INFO] [Bullet] Penetration failed (distance roll)
[01:50:16] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[01:50:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(463.232, 760.7252), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:16] [ENEMY] [Enemy1] Heard gunshot at (463.232, 760.7252), source_type=0, intensity=0.01, distance=442
[01:50:16] [ENEMY] [Enemy2] Heard gunshot at (463.232, 760.7252), source_type=0, intensity=0.05, distance=220
[01:50:16] [ENEMY] [Enemy4] Heard gunshot at (463.232, 760.7252), source_type=0, intensity=0.02, distance=364
[01:50:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:50:16] [ENEMY] [Enemy3] Hit taken, health: 3/4
[01:50:16] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:16] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[01:50:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:16] [INFO] [ImpactEffects] _spawn_blood_decal called at (684.4485, 753.7583), intensity=0.5
[01:50:16] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:16] [INFO] [ImpactEffects] Blood decal spawned at (711.5634, 753.7583) (total: 13)
[01:50:16] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[01:50:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(485.3331, 740.8922), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:50:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(513.6422, 733.477), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[01:50:16] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[01:50:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(485.33313, 740.8922), shooter_id=710028561317, bullet_pos=(908.96484, 706.8188)
[01:50:16] [INFO] [Bullet] Using shooter_position, distance=424,9998
[01:50:16] [INFO] [Bullet] Distance to wall: 424,9998 (28,939018% of viewport)
[01:50:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:16] [ENEMY] [Enemy3] Hit taken, health: 2/4
[01:50:16] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:16] [INFO] [ImpactEffects] spawn_blood_effect called at (686.478, 754.4156), dir=(1, 0), lethal=false
[01:50:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:16] [INFO] [ImpactEffects] _spawn_blood_decal called at (686.478, 754.4156), intensity=0.5
[01:50:16] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:16] [INFO] [ImpactEffects] Blood decal spawned at (698.3677, 754.4156) (total: 14)
[01:50:16] [INFO] [ImpactEffects] Blood effect spawned at (686.478, 754.4156) (scale=1)
[01:50:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(692.5667, 756.3875), source=ENEMY (Enemy3), range=1469, listeners=10
[01:50:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:50:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(541.4982, 739.1363), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[01:50:17] [ENEMY] [Enemy3] Hit taken, health: 1/4
[01:50:17] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:17] [INFO] [ImpactEffects] spawn_blood_effect called at (701.8817, 761.1511), dir=(1, 0), lethal=false
[01:50:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:17] [INFO] [ImpactEffects] _spawn_blood_decal called at (701.8817, 761.1511), intensity=0.5
[01:50:17] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:17] [INFO] [ImpactEffects] Blood decal spawned at (718.0997, 761.1511) (total: 15)
[01:50:17] [INFO] [ImpactEffects] Blood effect spawned at (701.8817, 761.1511) (scale=1)
[01:50:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(701.8817, 761.1511), source=ENEMY (Enemy3), range=1469, listeners=10
[01:50:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:50:17] [INFO] [LastChance] Threat detected: Bullet
[01:50:17] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:17] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[01:50:17] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[01:50:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(710.187, 767.8425), source=ENEMY (Enemy3), range=1469, listeners=10
[01:50:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:50:17] [INFO] [LastChance] Threat detected: Bullet
[01:50:17] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:17] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[01:50:17] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[01:50:17] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[01:50:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[01:50:17] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[01:50:17] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[01:50:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(717.6182, 775.4921), source=ENEMY (Enemy3), range=1469, listeners=10
[01:50:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:50:17] [INFO] [LastChance] Threat detected: @Area2D@892
[01:50:17] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:17] [INFO] [LastChance] Threat detected: Bullet
[01:50:17] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.9408, 607.7481), shooter_id=706924775584, bullet_pos=(498.1674, 686.0288)
[01:50:17] [INFO] [Bullet] Using shooter_position, distance=100.000068664551
[01:50:17] [INFO] [Bullet] Distance to wall: 100.000068664551 (6.80918855928107% of viewport)
[01:50:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(624.5831, 753.415), shooter_id=707209987806, bullet_pos=(58.3215, 774.8404)
[01:50:17] [INFO] [Bullet] Using shooter_position, distance=566.666748046875
[01:50:17] [INFO] [Bullet] Distance to wall: 566.666748046875 (38.5853808827794% of viewport)
[01:50:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:17] [INFO] [Bullet] Starting wall penetration at (58.3215, 774.8404)
[01:50:17] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11.9929990768433
[01:50:17] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:17] [INFO] [Bullet] Exiting penetration at (20.01558, 776.2897) after traveling 33.3333358764648 pixels through wall
[01:50:17] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:50:17] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[01:50:17] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[01:50:17] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[01:50:17] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[01:50:17] [ENEMY] [Enemy10] FLANKING started: target=(498.9916, 1016.607), side=right, pos=(1022.668, 1432.257)
[01:50:17] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[01:50:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:50:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:50:17] [ENEMY] [Enemy1] Death animation component initialized
[01:50:17] [ENEMY] [Enemy2] Death animation component initialized
[01:50:17] [ENEMY] [Enemy3] Death animation component initialized
[01:50:17] [ENEMY] [Enemy4] Death animation component initialized
[01:50:17] [ENEMY] [Enemy5] Death animation component initialized
[01:50:17] [ENEMY] [Enemy6] Death animation component initialized
[01:50:17] [ENEMY] [Enemy7] Death animation component initialized
[01:50:17] [ENEMY] [Enemy8] Death animation component initialized
[01:50:17] [ENEMY] [Enemy9] Death animation component initialized
[01:50:17] [ENEMY] [Enemy10] Death animation component initialized
[01:50:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:50:17] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:50:17] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:50:17] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:50:17] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:50:17] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:50:17] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:50:17] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[01:50:17] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:50:17] [INFO] [ScoreManager] Level started with 10 enemies
[01:50:17] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[01:50:17] [ENEMY] [Enemy1] Registered as sound listener
[01:50:17] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[01:50:17] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[01:50:17] [ENEMY] [Enemy2] Registered as sound listener
[01:50:17] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[01:50:17] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[01:50:17] [ENEMY] [Enemy3] Registered as sound listener
[01:50:17] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[01:50:17] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[01:50:17] [ENEMY] [Enemy4] Registered as sound listener
[01:50:17] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[01:50:17] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[01:50:17] [ENEMY] [Enemy5] Registered as sound listener
[01:50:17] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[01:50:17] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[01:50:17] [ENEMY] [Enemy6] Registered as sound listener
[01:50:17] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[01:50:17] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[01:50:17] [ENEMY] [Enemy7] Registered as sound listener
[01:50:17] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[01:50:17] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[01:50:17] [ENEMY] [Enemy8] Registered as sound listener
[01:50:17] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[01:50:17] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[01:50:17] [ENEMY] [Enemy9] Registered as sound listener
[01:50:17] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[01:50:17] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[01:50:17] [ENEMY] [Enemy10] Registered as sound listener
[01:50:17] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[01:50:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:50:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:50:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:50:17] [INFO] [LastChance] Found player: Player
[01:50:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:50:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:50:17] [INFO] [LastChance] Connected to player Died signal (C#)
[01:50:17] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:50:17] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:50:17] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:50:18] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[01:50:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[01:50:19] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[01:50:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:50:19] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[01:50:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=906204548151, bullet_pos=(41.69983, 702.3934)
[01:50:19] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[01:50:19] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[01:50:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=906204548151, bullet_pos=(497.4905, 357.3463)
[01:50:20] [INFO] [Bullet] Using shooter_position, distance=1187.78088378906
[01:50:20] [INFO] [Bullet] Distance to wall: 1187.78088378906 (80.8781845136503% of viewport)
[01:50:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=906204548151, bullet_pos=(323.1167, 230.3312)
[01:50:20] [INFO] [Bullet] Using shooter_position, distance=1381.05883789063
[01:50:20] [INFO] [Bullet] Distance to wall: 1381.05883789063 (94.0388358152443% of viewport)
[01:50:20] [INFO] [Bullet] Distance-based penetration chance: 36.9546915488816%
[01:50:20] [INFO] [Bullet] Starting wall penetration at (323.1167, 230.3312)
[01:50:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27.7478103637695
[01:50:20] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:20] [INFO] [Bullet] Exiting penetration at (294.742, 209.6629) after traveling 30.1041698455811 pixels through wall
[01:50:20] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[01:50:20] [ENEMY] [Enemy10] FLANKING started: target=(641.1672, 841.1644), side=left, pos=(1022.668, 1432.257)
[01:50:20] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[01:50:21] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[01:50:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 758.3889), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:21] [ENEMY] [Enemy1] Heard gunshot at (450, 758.3889), source_type=0, intensity=0.01, distance=435
[01:50:21] [ENEMY] [Enemy2] Heard gunshot at (450, 758.3889), source_type=0, intensity=0.05, distance=214
[01:50:21] [ENEMY] [Enemy4] Heard gunshot at (450, 758.3889), source_type=0, intensity=0.02, distance=378
[01:50:21] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:50:21] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[01:50:21] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[01:50:21] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[01:50:21] [ENEMY] [Enemy3] Hit taken, health: 2/3
[01:50:21] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:21] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4765, 753.8722), dir=(1, 0), lethal=false
[01:50:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:21] [INFO] [ImpactEffects] _spawn_blood_decal called at (684.4765, 753.8722), intensity=0.5
[01:50:21] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:21] [INFO] [ImpactEffects] Blood decal spawned at (701.984, 753.8722) (total: 16)
[01:50:21] [INFO] [ImpactEffects] Blood effect spawned at (684.4765, 753.8722) (scale=1)
[01:50:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 741.5555), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:21] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:50:22] [ENEMY] [Enemy3] Hit taken, health: 1/3
[01:50:22] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:22] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4765, 753.8722), dir=(1, 0), lethal=false
[01:50:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:22] [INFO] [ImpactEffects] _spawn_blood_decal called at (684.4765, 753.8722), intensity=0.5
[01:50:22] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:22] [INFO] [ImpactEffects] Blood decal spawned at (699.8013, 753.8722) (total: 17)
[01:50:22] [INFO] [ImpactEffects] Blood effect spawned at (684.4765, 753.8722) (scale=1)
[01:50:22] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[01:50:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(678.6015, 760.061), source=ENEMY (Enemy3), range=1469, listeners=10
[01:50:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:50:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(671.2578, 767.797), source=ENEMY (Enemy3), range=1469, listeners=10
[01:50:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:50:22] [INFO] [LastChance] Threat detected: @Area2D@1152
[01:50:22] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(663.914, 775.533), source=ENEMY (Enemy3), range=1469, listeners=10
[01:50:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:50:22] [INFO] [LastChance] Threat detected: @Area2D@1153
[01:50:22] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[01:50:22] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[01:50:22] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[01:50:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(715.4051, 914.0651), source=ENEMY (Enemy4), range=1469, listeners=10
[01:50:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:50:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[01:50:22] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[01:50:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(656.5702, 783.269), source=ENEMY (Enemy3), range=1469, listeners=10
[01:50:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:50:22] [INFO] [LastChance] Threat detected: @Area2D@1155
[01:50:22] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(610.5569, 759.3323), shooter_id=904208058656, bullet_pos=(48.06735, 828.0098)
[01:50:22] [INFO] [Bullet] Using shooter_position, distance=566.666625976563
[01:50:22] [INFO] [Bullet] Distance to wall: 566.666625976563 (38.5853725707874% of viewport)
[01:50:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:22] [INFO] [LastChance] Threat detected: @Area2D@1154
[01:50:22] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(589.114, 774.3097), shooter_id=904208058656, bullet_pos=(473.3279, 708.1932)
[01:50:22] [INFO] [Bullet] Using shooter_position, distance=133.333419799805
[01:50:22] [INFO] [Bullet] Distance to wall: 133.333419799805 (9.07891773270842% of viewport)
[01:50:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[01:50:22] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[01:50:22] [INFO] [PenultimateHit] Starting penultimate hit effect:
[01:50:22] [INFO] [PenultimateHit]   - Time scale: 0.10
[01:50:22] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[01:50:22] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[01:50:22] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[01:50:22] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[01:50:22] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[01:50:22] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[01:50:22] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[01:50:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[01:50:22] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[01:50:22] [INFO] [PenultimateHit] Player died - ending penultimate effect
[01:50:22] [INFO] [PenultimateHit] Ending penultimate hit effect
[01:50:22] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[01:50:22] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[01:50:22] [INFO] [LastChance] Player died
[01:50:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(681.8824, 914.0657), source=ENEMY (Enemy4), range=1469, listeners=10
[01:50:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:50:22] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[01:50:22] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[01:50:22] [INFO] [LastChance] Threat detected: @Area2D@1158
[01:50:22] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(623.9669, 878.3263), shooter_id=904493270589, bullet_pos=(525.8156, 800.9227)
[01:50:22] [INFO] [Bullet] Using shooter_position, distance=125
[01:50:22] [INFO] [Bullet] Distance to wall: 125 (8.51147985473193% of viewport)
[01:50:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:22] [INFO] [Bullet] Starting wall penetration at (525.8156, 800.9227)
[01:50:22] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:50:22] [INFO] [Bullet] Exiting penetration at (489.1724, 772.0253) after traveling 41.6666679382324 pixels through wall
[01:50:22] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:50:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(652.0606, 898.1743), source=ENEMY (Enemy4), range=1469, listeners=10
[01:50:22] [ENEMY] [Enemy3] Heard gunshot at (652.0606, 898.1743), source_type=1, intensity=0.42, distance=77
[01:50:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:50:22] [ENEMY] [Enemy3] Hit taken, health: 0/3
[01:50:22] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:22] [INFO] [ImpactEffects] spawn_blood_effect called at (607.3671, 835.1007), dir=(-0.759681, -0.650296), lethal=true
[01:50:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:22] [INFO] [ImpactEffects] _spawn_blood_decal called at (607.3671, 835.1007), intensity=1.5
[01:50:22] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:22] [INFO] [ImpactEffects] Blood decal spawned at (593.7169, 823.416) (total: 18)
[01:50:22] [INFO] [ImpactEffects] Blood effect spawned at (607.3671, 835.1007) (scale=1.5)
[01:50:22] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[01:50:22] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:50:22] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[01:50:22] [INFO] [DeathAnim] Started - Angle: -139.4 deg, Index: 2
[01:50:22] [ENEMY] [Enemy3] Death animation started with hit direction: (-0.759681, -0.650296)
[01:50:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(643.9573, 891.2378), source=ENEMY (Enemy4), range=1469, listeners=9
[01:50:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[01:50:22] [INFO] [LastChance] Threat detected: Bullet
[01:50:22] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:22] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:50:22] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:50:22] [ENEMY] [Enemy1] Death animation component initialized
[01:50:22] [ENEMY] [Enemy2] Death animation component initialized
[01:50:22] [ENEMY] [Enemy3] Death animation component initialized
[01:50:22] [ENEMY] [Enemy4] Death animation component initialized
[01:50:22] [ENEMY] [Enemy5] Death animation component initialized
[01:50:23] [ENEMY] [Enemy6] Death animation component initialized
[01:50:23] [ENEMY] [Enemy7] Death animation component initialized
[01:50:23] [ENEMY] [Enemy8] Death animation component initialized
[01:50:23] [ENEMY] [Enemy9] Death animation component initialized
[01:50:23] [ENEMY] [Enemy10] Death animation component initialized
[01:50:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:50:23] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:50:23] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:50:23] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:50:23] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:50:23] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:50:23] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:50:23] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[01:50:23] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:50:23] [INFO] [ScoreManager] Level started with 10 enemies
[01:50:23] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[01:50:23] [ENEMY] [Enemy1] Registered as sound listener
[01:50:23] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[01:50:23] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[01:50:23] [ENEMY] [Enemy2] Registered as sound listener
[01:50:23] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[01:50:23] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[01:50:23] [ENEMY] [Enemy3] Registered as sound listener
[01:50:23] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[01:50:23] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[01:50:23] [ENEMY] [Enemy4] Registered as sound listener
[01:50:23] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[01:50:23] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[01:50:23] [ENEMY] [Enemy5] Registered as sound listener
[01:50:23] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[01:50:23] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[01:50:23] [ENEMY] [Enemy6] Registered as sound listener
[01:50:23] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[01:50:23] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[01:50:23] [ENEMY] [Enemy7] Registered as sound listener
[01:50:23] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[01:50:23] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[01:50:23] [ENEMY] [Enemy8] Registered as sound listener
[01:50:23] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[01:50:23] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[01:50:23] [ENEMY] [Enemy9] Registered as sound listener
[01:50:23] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[01:50:23] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[01:50:23] [ENEMY] [Enemy10] Registered as sound listener
[01:50:23] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[01:50:23] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:50:23] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:50:23] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:50:23] [INFO] [LastChance] Found player: Player
[01:50:23] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:50:23] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:50:23] [INFO] [LastChance] Connected to player Died signal (C#)
[01:50:23] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:50:23] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:50:23] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:50:23] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[01:50:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[01:50:23] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[01:50:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:50:24] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[01:50:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=1209553390206, bullet_pos=(41.69983, 702.3934)
[01:50:24] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[01:50:24] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[01:50:24] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[01:50:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450.9239, 793.0493), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:24] [ENEMY] [Enemy1] Heard gunshot at (450.9239, 793.0493), source_type=0, intensity=0.01, distance=468
[01:50:24] [ENEMY] [Enemy2] Heard gunshot at (450.9239, 793.0493), source_type=0, intensity=0.04, distance=248
[01:50:24] [ENEMY] [Enemy4] Heard gunshot at (450.9239, 793.0493), source_type=0, intensity=0.02, distance=365
[01:50:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:50:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=1209553390206, bullet_pos=(497.1785, 419.3679)
[01:50:24] [INFO] [Bullet] Using shooter_position, distance=1132.17492675781
[01:50:24] [INFO] [Bullet] Distance to wall: 1132.17492675781 (77.0918726490537% of viewport)
[01:50:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(461.5958, 763.1656), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:50:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450.92386, 793.0493), shooter_id=1210375472487, bullet_pos=(933.85956, 773.44885)
[01:50:24] [INFO] [Bullet] Using shooter_position, distance=483,33328
[01:50:24] [INFO] [Bullet] Distance to wall: 483,33328 (32,911053% of viewport)
[01:50:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:24] [INFO] [Bullet] Starting wall penetration at (933.85956, 773.44885)
[01:50:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 44,52448
[01:50:24] [ENEMY] [Enemy3] Hit taken, health: 1/2
[01:50:24] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:24] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[01:50:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:24] [INFO] [ImpactEffects] _spawn_blood_decal called at (684.4485, 753.7583), intensity=0.5
[01:50:24] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:24] [INFO] [ImpactEffects] Blood decal spawned at (702.5853, 753.7583) (total: 19)
[01:50:24] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[01:50:24] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:24] [INFO] [Bullet] Exiting penetration at (980.48785, 771.5564) after traveling 41,66667 pixels through wall
[01:50:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:50:24] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[01:50:24] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[01:50:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(482.4692, 745.6189), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:50:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=1209553390206, bullet_pos=(306.9723, 273.3143)
[01:50:24] [INFO] [Bullet] Using shooter_position, distance=1352.13317871094
[01:50:24] [INFO] [Bullet] Distance to wall: 1352.13317871094 (92.0692344921023% of viewport)
[01:50:24] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[01:50:24] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[01:50:24] [ENEMY] [Enemy3] Hit taken, health: 0/2
[01:50:24] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:24] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3025, 757.9293), dir=(1, 0), lethal=true
[01:50:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:24] [INFO] [ImpactEffects] _spawn_blood_decal called at (689.3025, 757.9293), intensity=1.5
[01:50:24] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:24] [INFO] [ImpactEffects] Blood decal spawned at (703.9631, 757.9293) (total: 20)
[01:50:24] [INFO] [ImpactEffects] Blood effect spawned at (689.3025, 757.9293) (scale=1.5)
[01:50:24] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[01:50:24] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:50:24] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[01:50:24] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:50:24] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[01:50:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(505.8141, 741.7209), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:24] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[01:50:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=1209553390206, bullet_pos=(66.69266, 398.9018)
[01:50:25] [INFO] [Bullet] Using shooter_position, distance=1395.27966308594
[01:50:25] [INFO] [Bullet] Distance to wall: 1395.27966308594 (95.0071579525848% of viewport)
[01:50:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(529.8908, 751.4567), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[01:50:25] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[01:50:25] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[01:50:25] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[01:50:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(505.81412, 741.72095), shooter_id=1210375472487, bullet_pos=(930.79285, 745.9427)
[01:50:25] [INFO] [Bullet] Using shooter_position, distance=424,9997
[01:50:25] [INFO] [Bullet] Distance to wall: 424,9997 (28,939013% of viewport)
[01:50:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:25] [INFO] [Bullet] Starting wall penetration at (930.79285, 745.9427)
[01:50:25] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[01:50:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33,125904
[01:50:25] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:25] [INFO] [Bullet] Exiting penetration at (969.12427, 746.3235) after traveling 33,333336 pixels through wall
[01:50:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:50:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[01:50:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[01:50:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(554.6442, 773.7987), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[01:50:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[01:50:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[01:50:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(529.8908, 751.45667), shooter_id=1210375472487, bullet_pos=(921.53424, 747.168)
[01:50:25] [INFO] [Bullet] Using shooter_position, distance=391,6669
[01:50:25] [INFO] [Bullet] Distance to wall: 391,6669 (26,669321% of viewport)
[01:50:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:25] [INFO] [Bullet] Starting wall penetration at (921.53424, 747.168)
[01:50:25] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[01:50:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,866726
[01:50:25] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:25] [INFO] [Bullet] Exiting penetration at (959.8653, 746.7483) after traveling 33,333336 pixels through wall
[01:50:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:50:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.1585, 609.5474), shooter_id=1207271688774, bullet_pos=(498.9443, 684.8616)
[01:50:25] [INFO] [Bullet] Using shooter_position, distance=100.000045776367
[01:50:25] [INFO] [Bullet] Distance to wall: 100.000045776367 (6.80918700078256% of viewport)
[01:50:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:25] [INFO] [Bullet] Starting wall penetration at (498.9443, 684.8616)
[01:50:25] [INFO] [LastChance] Threat detected: @Area2D@1433
[01:50:25] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:25] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:50:25] [INFO] [Bullet] Exiting penetration at (524.1622, 713.7321) after traveling 33.3333282470703 pixels through wall
[01:50:25] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:50:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(576.5779, 799.9135), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[01:50:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.3579, 610.0582), shooter_id=1207271688774, bullet_pos=(680.265, 832.8878)
[01:50:25] [INFO] [Bullet] Using shooter_position, distance=333.333099365234
[01:50:25] [INFO] [Bullet] Distance to wall: 333.333099365234 (22.6972636813004% of viewport)
[01:50:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(554.6442, 773.7987), shooter_id=1210375472487, bullet_pos=(912.97736, 773.75275)
[01:50:25] [INFO] [Bullet] Using shooter_position, distance=358,33313
[01:50:25] [INFO] [Bullet] Distance to wall: 358,33313 (24,399563% of viewport)
[01:50:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:25] [INFO] [Bullet] Starting wall penetration at (912.97736, 773.75275)
[01:50:25] [ENEMY] [Enemy2] Hit taken, health: 3/4
[01:50:25] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:25] [INFO] [ImpactEffects] spawn_blood_effect called at (394.5033, 575.0031), dir=(0.846481, 0.532418), lethal=false
[01:50:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:25] [INFO] [ImpactEffects] _spawn_blood_decal called at (394.5033, 575.0031), intensity=0.5
[01:50:25] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:25] [INFO] [ImpactEffects] Blood decal spawned at (409.1116, 584.1913) (total: 21)
[01:50:25] [INFO] [ImpactEffects] Blood effect spawned at (394.5033, 575.0031) (scale=1)
[01:50:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,310669
[01:50:25] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:25] [INFO] [Bullet] Exiting penetration at (951.31067, 773.7478) after traveling 33,333336 pixels through wall
[01:50:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:50:25] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[01:50:25] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[01:50:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.3579, 610.0582), shooter_id=1207271688774, bullet_pos=(510.2338, 944.3951)
[01:50:25] [INFO] [Bullet] Using shooter_position, distance=343.286804199219
[01:50:25] [INFO] [Bullet] Distance to wall: 343.286804199219 (23.3750297466956% of viewport)
[01:50:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:25] [ENEMY] [Enemy3] Ragdoll activated
[01:50:25] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:50:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(576.57794, 799.91345), shooter_id=1210375472487, bullet_pos=(934.69977, 787.60187)
[01:50:25] [INFO] [Bullet] Using shooter_position, distance=358,3334
[01:50:25] [INFO] [Bullet] Distance to wall: 358,3334 (24,399582% of viewport)
[01:50:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:25] [INFO] [Bullet] Starting wall penetration at (934.69977, 787.60187)
[01:50:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,032364
[01:50:25] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:25] [INFO] [Bullet] Exiting penetration at (973.0105, 786.2848) after traveling 33,333332 pixels through wall
[01:50:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:50:25] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[01:50:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.3579, 610.0582), shooter_id=1207271688774, bullet_pos=(621.899, 1001.494)
[01:50:25] [INFO] [Bullet] Using shooter_position, distance=434.910888671875
[01:50:25] [INFO] [Bullet] Distance to wall: 434.910888671875 (29.6138821402738% of viewport)
[01:50:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:25] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[01:50:25] [ENEMY] [Enemy10] FLANKING started: target=(515.3177, 1080.935), side=right, pos=(1022.668, 1432.257)
[01:50:25] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[01:50:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.3579, 610.0582), shooter_id=1207271688774, bullet_pos=(914.0594, 891.8334)
[01:50:25] [INFO] [Bullet] Using shooter_position, distance=558.062316894531
[01:50:25] [INFO] [Bullet] Distance to wall: 558.062316894531 (37.9994893434626% of viewport)
[01:50:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:26] [INFO] [PauseMenu] Armory button pressed
[01:50:26] [INFO] [PauseMenu] Creating new armory menu instance
[01:50:26] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[01:50:26] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[01:50:26] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[01:50:26] [INFO] [PauseMenu] back_pressed signal exists on instance
[01:50:26] [INFO] [PauseMenu] back_pressed signal connected
[01:50:26] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[01:50:26] [INFO] [PauseMenu] _populate_weapon_grid method exists
[01:50:27] [INFO] [GameManager] Weapon selected: shotgun
[01:50:27] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:50:27] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:50:27] [ENEMY] [Enemy1] Death animation component initialized
[01:50:27] [ENEMY] [Enemy2] Death animation component initialized
[01:50:27] [ENEMY] [Enemy3] Death animation component initialized
[01:50:27] [ENEMY] [Enemy4] Death animation component initialized
[01:50:27] [ENEMY] [Enemy5] Death animation component initialized
[01:50:27] [ENEMY] [Enemy6] Death animation component initialized
[01:50:27] [ENEMY] [Enemy7] Death animation component initialized
[01:50:27] [ENEMY] [Enemy8] Death animation component initialized
[01:50:27] [ENEMY] [Enemy9] Death animation component initialized
[01:50:27] [ENEMY] [Enemy10] Death animation component initialized
[01:50:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:50:27] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:50:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:50:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:50:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:50:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:50:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:50:27] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[01:50:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:50:27] [INFO] [ScoreManager] Level started with 10 enemies
[01:50:27] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[01:50:27] [ENEMY] [Enemy1] Registered as sound listener
[01:50:27] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[01:50:27] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[01:50:27] [ENEMY] [Enemy2] Registered as sound listener
[01:50:27] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[01:50:27] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[01:50:27] [ENEMY] [Enemy3] Registered as sound listener
[01:50:27] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[01:50:27] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[01:50:27] [ENEMY] [Enemy4] Registered as sound listener
[01:50:27] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[01:50:27] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[01:50:27] [ENEMY] [Enemy5] Registered as sound listener
[01:50:27] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[01:50:27] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[01:50:27] [ENEMY] [Enemy6] Registered as sound listener
[01:50:27] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[01:50:27] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[01:50:27] [ENEMY] [Enemy7] Registered as sound listener
[01:50:27] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[01:50:27] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[01:50:27] [ENEMY] [Enemy8] Registered as sound listener
[01:50:27] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[01:50:27] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[01:50:27] [ENEMY] [Enemy9] Registered as sound listener
[01:50:27] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[01:50:27] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[01:50:27] [ENEMY] [Enemy10] Registered as sound listener
[01:50:27] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[01:50:27] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:50:27] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[01:50:27] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[01:50:27] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:50:27] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:50:27] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:50:27] [INFO] [LastChance] Found player: Player
[01:50:27] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:50:27] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:50:27] [INFO] [LastChance] Connected to player Died signal (C#)
[01:50:27] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[01:50:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[01:50:28] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[01:50:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:50:28] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[01:50:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=1411249081402, bullet_pos=(41.69983, 702.3934)
[01:50:28] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[01:50:28] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[01:50:28] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[01:50:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=1411249081402, bullet_pos=(305.4086, 458.5526)
[01:50:29] [INFO] [Bullet] Using shooter_position, distance=1198.29284667969
[01:50:29] [INFO] [Bullet] Distance to wall: 1198.29284667969 (81.5939633966683% of viewport)
[01:50:29] [INFO] [Bullet] Distance-based penetration chance: 51.4737093705537%
[01:50:29] [INFO] [Bullet] Penetration failed (distance roll)
[01:50:29] [ENEMY] [Enemy1] Player ammo empty state changed: false -> true
[01:50:29] [ENEMY] [Enemy2] Player ammo empty state changed: false -> true
[01:50:29] [ENEMY] [Enemy3] Player ammo empty state changed: false -> true
[01:50:29] [ENEMY] [Enemy4] Player ammo empty state changed: false -> true
[01:50:29] [ENEMY] [Enemy5] Player ammo empty state changed: false -> true
[01:50:29] [ENEMY] [Enemy6] Player ammo empty state changed: false -> true
[01:50:29] [ENEMY] [Enemy7] Player ammo empty state changed: false -> true
[01:50:29] [ENEMY] [Enemy8] Player ammo empty state changed: false -> true
[01:50:29] [ENEMY] [Enemy9] Player ammo empty state changed: false -> true
[01:50:29] [ENEMY] [Enemy10] Player ammo empty state changed: false -> true
[01:50:29] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(450, 755.9444), source=PLAYER (Player), range=600, listeners=10
[01:50:29] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (450, 755.9444), intensity=0.01, distance=433
[01:50:29] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:50:29] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (450, 755.9444), intensity=0.06, distance=212
[01:50:29] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:50:29] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (450, 755.9444), intensity=0.05, distance=234
[01:50:29] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (450, 755.9444), intensity=0.02, distance=378
[01:50:29] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:50:29] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[01:50:29] [INFO] [Shotgun.FIX#212] Firing 7 pellets with 15° spread at pos=(450, 755.9444)
[01:50:29] [INFO] [Shotgun.FIX#212] Normal pellet 1/7: extraOffset=6,1, distance=31,1px, pos=(480.4099, 749.3746)
[01:50:29] [INFO] [Shotgun.FIX#212] Normal pellet 2/7: extraOffset=7,8, distance=32,8px, pos=(482.341, 750.4673)
[01:50:29] [INFO] [Shotgun.FIX#212] Normal pellet 3/7: extraOffset=11,3, distance=36,3px, pos=(486.08243, 751.63477)
[01:50:29] [INFO] [Shotgun.FIX#212] Normal pellet 4/7: extraOffset=-8,4, distance=16,6px, pos=(466.5535, 754.94684)
[01:50:29] [INFO] [Shotgun.FIX#212] Normal pellet 5/7: extraOffset=-12,2, distance=12,8px, pos=(462.76016, 755.76886)
[01:50:29] [INFO] [Shotgun.FIX#212] Normal pellet 6/7: extraOffset=-0,7, distance=24,3px, pos=(474.2562, 756.5093)
[01:50:29] [INFO] [Shotgun.FIX#212] Normal pellet 7/7: extraOffset=7,0, distance=32,0px, pos=(481.91238, 758.47144)
[01:50:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 755.9444), source=PLAYER (Shotgun), range=1469, listeners=10
[01:50:29] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:50:29] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=433), can_see=false
[01:50:29] [ENEMY] [Enemy1] Pursuing vulnerability sound at (450, 755.9444), distance=433
[01:50:29] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=212), can_see=false
[01:50:29] [ENEMY] [Enemy2] Pursuing vulnerability sound at (450, 755.9444), distance=212
[01:50:29] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[01:50:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[01:50:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:50:29] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=378), can_see=false
[01:50:29] [ENEMY] [Enemy4] Pursuing vulnerability sound at (450, 755.9444), distance=378
[01:50:29] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1314), can_see=false
[01:50:29] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1531), can_see=false
[01:50:29] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1220), can_see=false
[01:50:29] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1608), can_see=false
[01:50:29] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1831), can_see=false
[01:50:29] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=886), can_see=false
[01:50:29] [INFO] [LastChance] Threat detected: Bullet
[01:50:29] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:29] [ENEMY] [Enemy3] Hit taken, health: 1/2
[01:50:29] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:29] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[01:50:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:29] [INFO] [ImpactEffects] _spawn_blood_decal called at (684.4485, 753.7583), intensity=0.5
[01:50:29] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:29] [INFO] [ImpactEffects] Blood decal spawned at (714.1821, 753.7583) (total: 22)
[01:50:29] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[01:50:29] [ENEMY] [Enemy3] Hit taken, health: 0/2
[01:50:29] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:29] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=true
[01:50:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:29] [INFO] [ImpactEffects] _spawn_blood_decal called at (684.4485, 753.7583), intensity=1.5
[01:50:29] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:29] [INFO] [ImpactEffects] Blood decal spawned at (710.7894, 753.7583) (total: 23)
[01:50:29] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1.5)
[01:50:29] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[01:50:29] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:50:29] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[01:50:29] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:50:29] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[01:50:29] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[01:50:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(784.066, 813.601), source=ENEMY (Enemy4), range=1469, listeners=9
[01:50:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[01:50:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(716.1863, 808.8114), shooter_id=1409537804341, bullet_pos=(716.1863, 808.8114)
[01:50:29] [INFO] [Bullet] Using shooter_position, distance=0
[01:50:29] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[01:50:29] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[01:50:29] [INFO] [Bullet] Starting wall penetration at (716.1863, 808.8114)
[01:50:29] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[01:50:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 44.7839126586914
[01:50:29] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:29] [INFO] [Bullet] Exiting penetration at (678.5093, 801.748) after traveling 33.3333358764648 pixels through wall
[01:50:29] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:50:29] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[01:50:29] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=343), can_see=false
[01:50:29] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=149), can_see=false
[01:50:29] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=341), can_see=false
[01:50:29] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1321), can_see=false
[01:50:29] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1535), can_see=false
[01:50:29] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1252), can_see=false
[01:50:29] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1599), can_see=false
[01:50:29] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1822), can_see=false
[01:50:29] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=870), can_see=false
[01:50:29] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[01:50:29] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[01:50:29] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:50:29] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:50:29] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[01:50:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(522.7733, 660.9303), source=ENEMY (Enemy2), range=1469, listeners=9
[01:50:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[01:50:29] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:50:29] [INFO] [LastChance] Threat detected: Bullet
[01:50:29] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:29] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[01:50:29] [ENEMY] [Enemy3] Ragdoll activated
[01:50:29] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:50:29] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:50:29] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:50:29] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:50:29] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[01:50:29] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[01:50:29] [INFO] [PenultimateHit] Starting penultimate hit effect:
[01:50:29] [INFO] [PenultimateHit]   - Time scale: 0.10
[01:50:29] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[01:50:29] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[01:50:29] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[01:50:29] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[01:50:29] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[01:50:29] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[01:50:29] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[01:50:29] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:50:30] [ENEMY] [Enemy1] Pursuing vulnerability sound at (450, 755.9444), distance=260
[01:50:30] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=343), can_see=false
[01:50:30] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=337), can_see=false
[01:50:30] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1343), can_see=false
[01:50:30] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1550), can_see=false
[01:50:30] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1247), can_see=false
[01:50:30] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1573), can_see=false
[01:50:30] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1796), can_see=false
[01:50:30] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=824), can_see=false
[01:50:30] [INFO] [Shotgun.FIX#243] RMB released after 26 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:50:30] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:50:30] [INFO] [PenultimateHit] Ending penultimate hit effect
[01:50:30] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[01:50:30] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:50:30] [ENEMY] [Enemy1] Death animation component initialized
[01:50:30] [ENEMY] [Enemy2] Death animation component initialized
[01:50:30] [ENEMY] [Enemy3] Death animation component initialized
[01:50:30] [ENEMY] [Enemy4] Death animation component initialized
[01:50:30] [ENEMY] [Enemy5] Death animation component initialized
[01:50:30] [ENEMY] [Enemy6] Death animation component initialized
[01:50:30] [ENEMY] [Enemy7] Death animation component initialized
[01:50:30] [ENEMY] [Enemy8] Death animation component initialized
[01:50:30] [ENEMY] [Enemy9] Death animation component initialized
[01:50:30] [ENEMY] [Enemy10] Death animation component initialized
[01:50:30] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:50:30] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:50:30] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:50:30] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:50:30] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:50:30] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:50:30] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:50:30] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[01:50:30] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:50:30] [INFO] [ScoreManager] Level started with 10 enemies
[01:50:30] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[01:50:30] [ENEMY] [Enemy1] Registered as sound listener
[01:50:30] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[01:50:30] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[01:50:30] [ENEMY] [Enemy2] Registered as sound listener
[01:50:30] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[01:50:30] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[01:50:30] [ENEMY] [Enemy3] Registered as sound listener
[01:50:30] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[01:50:30] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[01:50:30] [ENEMY] [Enemy4] Registered as sound listener
[01:50:30] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[01:50:30] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[01:50:30] [ENEMY] [Enemy5] Registered as sound listener
[01:50:30] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[01:50:30] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[01:50:30] [ENEMY] [Enemy6] Registered as sound listener
[01:50:30] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[01:50:30] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[01:50:30] [ENEMY] [Enemy7] Registered as sound listener
[01:50:30] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[01:50:30] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[01:50:30] [ENEMY] [Enemy8] Registered as sound listener
[01:50:30] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[01:50:30] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[01:50:30] [ENEMY] [Enemy9] Registered as sound listener
[01:50:30] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[01:50:30] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[01:50:30] [ENEMY] [Enemy10] Registered as sound listener
[01:50:30] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[01:50:30] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:50:30] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:50:30] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:50:30] [INFO] [LastChance] Found player: Player
[01:50:30] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:50:30] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:50:30] [INFO] [LastChance] Connected to player Died signal (C#)
[01:50:30] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:50:30] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[01:50:30] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[01:50:30] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[01:50:31] [INFO] [PauseMenu] Armory button pressed
[01:50:31] [INFO] [PauseMenu] Creating new armory menu instance
[01:50:31] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[01:50:31] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[01:50:31] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[01:50:31] [INFO] [PauseMenu] back_pressed signal exists on instance
[01:50:31] [INFO] [PauseMenu] back_pressed signal connected
[01:50:31] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[01:50:31] [INFO] [PauseMenu] _populate_weapon_grid method exists
[01:50:32] [INFO] [GameManager] Weapon selected: m16
[01:50:32] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:50:32] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:50:32] [ENEMY] [Enemy1] Death animation component initialized
[01:50:32] [ENEMY] [Enemy2] Death animation component initialized
[01:50:32] [ENEMY] [Enemy3] Death animation component initialized
[01:50:32] [ENEMY] [Enemy4] Death animation component initialized
[01:50:32] [ENEMY] [Enemy5] Death animation component initialized
[01:50:32] [ENEMY] [Enemy6] Death animation component initialized
[01:50:32] [ENEMY] [Enemy7] Death animation component initialized
[01:50:32] [ENEMY] [Enemy8] Death animation component initialized
[01:50:32] [ENEMY] [Enemy9] Death animation component initialized
[01:50:32] [ENEMY] [Enemy10] Death animation component initialized
[01:50:32] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:50:32] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:50:32] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:50:32] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:50:32] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:50:32] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:50:32] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:50:32] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[01:50:32] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:50:32] [INFO] [ScoreManager] Level started with 10 enemies
[01:50:32] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[01:50:32] [ENEMY] [Enemy1] Registered as sound listener
[01:50:32] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[01:50:32] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[01:50:32] [ENEMY] [Enemy2] Registered as sound listener
[01:50:32] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[01:50:32] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[01:50:32] [ENEMY] [Enemy3] Registered as sound listener
[01:50:32] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[01:50:32] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[01:50:32] [ENEMY] [Enemy4] Registered as sound listener
[01:50:32] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[01:50:32] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[01:50:32] [ENEMY] [Enemy5] Registered as sound listener
[01:50:32] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[01:50:32] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[01:50:32] [ENEMY] [Enemy6] Registered as sound listener
[01:50:32] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[01:50:32] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[01:50:32] [ENEMY] [Enemy7] Registered as sound listener
[01:50:32] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[01:50:32] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[01:50:32] [ENEMY] [Enemy8] Registered as sound listener
[01:50:32] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[01:50:32] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[01:50:32] [ENEMY] [Enemy9] Registered as sound listener
[01:50:32] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[01:50:32] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[01:50:32] [ENEMY] [Enemy10] Registered as sound listener
[01:50:32] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[01:50:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=29
[01:50:32] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[01:50:32] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[01:50:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[01:50:32] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:50:32] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:50:32] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:50:32] [INFO] [LastChance] Found player: Player
[01:50:32] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:50:32] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:50:32] [INFO] [LastChance] Connected to player Died signal (C#)
[01:50:32] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:50:32] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:50:32] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:50:32] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[01:50:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=1650559288716, bullet_pos=(2475.0002, 1256)
[01:50:33] [INFO] [Bullet] Using shooter_position, distance=2025,0002
[01:50:33] [INFO] [Bullet] Distance to wall: 2025,0002 (137,886% of viewport)
[01:50:33] [INFO] [Bullet] Distance-based penetration chance: 22,4228%
[01:50:33] [INFO] [Bullet] Starting wall penetration at (2475.0002, 1256)
[01:50:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,666992
[01:50:33] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:33] [INFO] [Bullet] Exiting penetration at (2521.667, 1256) after traveling 41,666668 pixels through wall
[01:50:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:50:33] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:50:33] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:50:33] [ENEMY] [Enemy1] Death animation component initialized
[01:50:33] [ENEMY] [Enemy2] Death animation component initialized
[01:50:33] [ENEMY] [Enemy3] Death animation component initialized
[01:50:33] [ENEMY] [Enemy4] Death animation component initialized
[01:50:33] [ENEMY] [Enemy5] Death animation component initialized
[01:50:33] [ENEMY] [Enemy6] Death animation component initialized
[01:50:33] [ENEMY] [Enemy7] Death animation component initialized
[01:50:33] [ENEMY] [Enemy8] Death animation component initialized
[01:50:33] [ENEMY] [Enemy9] Death animation component initialized
[01:50:33] [ENEMY] [Enemy10] Death animation component initialized
[01:50:33] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:50:33] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:50:33] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:50:33] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:50:33] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:50:33] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:50:33] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:50:33] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[01:50:33] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:50:33] [INFO] [ScoreManager] Level started with 10 enemies
[01:50:33] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[01:50:33] [ENEMY] [Enemy1] Registered as sound listener
[01:50:33] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[01:50:33] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[01:50:33] [ENEMY] [Enemy2] Registered as sound listener
[01:50:33] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[01:50:33] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[01:50:33] [ENEMY] [Enemy3] Registered as sound listener
[01:50:33] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[01:50:33] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[01:50:33] [ENEMY] [Enemy4] Registered as sound listener
[01:50:33] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[01:50:33] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[01:50:33] [ENEMY] [Enemy5] Registered as sound listener
[01:50:33] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[01:50:33] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[01:50:33] [ENEMY] [Enemy6] Registered as sound listener
[01:50:33] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[01:50:33] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[01:50:33] [ENEMY] [Enemy7] Registered as sound listener
[01:50:33] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[01:50:33] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[01:50:33] [ENEMY] [Enemy8] Registered as sound listener
[01:50:33] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[01:50:33] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[01:50:33] [ENEMY] [Enemy9] Registered as sound listener
[01:50:33] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[01:50:33] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[01:50:33] [ENEMY] [Enemy10] Registered as sound listener
[01:50:33] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[01:50:33] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:50:33] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:50:33] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:50:33] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:50:33] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:50:33] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:50:33] [INFO] [LastChance] Found player: Player
[01:50:33] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:50:33] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:50:33] [INFO] [LastChance] Connected to player Died signal (C#)
[01:50:33] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[01:50:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[01:50:34] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[01:50:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:50:34] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[01:50:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=1711192148394, bullet_pos=(41.69983, 702.3934)
[01:50:34] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[01:50:34] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[01:50:34] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[01:50:34] [INFO] [Bullet] Starting wall penetration at (41.69983, 702.3934)
[01:50:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.508674621582
[01:50:34] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:34] [INFO] [Bullet] Exiting penetration at (4.46851, 674.2579) after traveling 41.6666717529297 pixels through wall
[01:50:34] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:50:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 831.1666), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:34] [ENEMY] [Enemy2] Heard gunshot at (450, 831.1666), source_type=0, intensity=0.03, distance=286
[01:50:34] [ENEMY] [Enemy3] Heard gunshot at (450, 831.1666), source_type=0, intensity=0.04, distance=263
[01:50:34] [ENEMY] [Enemy4] Heard gunshot at (450, 831.1666), source_type=0, intensity=0.02, distance=357
[01:50:34] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[01:50:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 831.1666), shooter_id=1712014231770, bullet_pos=(516.3736, 824.92267)
[01:50:34] [INFO] [Bullet] Using shooter_position, distance=66,66664
[01:50:34] [INFO] [Bullet] Distance to wall: 66,66664 (4,5394545% of viewport)
[01:50:34] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[01:50:34] [INFO] [Bullet] Starting wall penetration at (516.3736, 824.92267)
[01:50:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,006607
[01:50:34] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:34] [INFO] [Bullet] Exiting penetration at (562.83514, 820.5519) after traveling 41,666668 pixels through wall
[01:50:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:50:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(454.6194, 794.5801), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:34] [ENEMY] [Enemy1] Heard gunshot at (454.6194, 794.5801), source_type=0, intensity=0.01, distance=471
[01:50:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:50:34] [ENEMY] [Enemy3] Hit taken, health: 1/2
[01:50:34] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:34] [INFO] [ImpactEffects] spawn_blood_effect called at (684.6161, 754.3947), dir=(1, 0), lethal=false
[01:50:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:34] [INFO] [ImpactEffects] _spawn_blood_decal called at (684.6161, 754.3947), intensity=0.5
[01:50:34] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:34] [INFO] [ImpactEffects] Blood decal spawned at (706.6678, 754.3947) (total: 24)
[01:50:34] [INFO] [ImpactEffects] Blood effect spawned at (684.6161, 754.3947) (scale=1)
[01:50:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(470.6559, 768.3506), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:50:35] [ENEMY] [Enemy3] Hit taken, health: 0/2
[01:50:35] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:35] [INFO] [ImpactEffects] spawn_blood_effect called at (684.6161, 754.3947), dir=(1, 0), lethal=true
[01:50:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:35] [INFO] [ImpactEffects] _spawn_blood_decal called at (684.6161, 754.3947), intensity=1.5
[01:50:35] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:35] [INFO] [ImpactEffects] Blood decal spawned at (698.952, 754.3947) (total: 25)
[01:50:35] [INFO] [ImpactEffects] Blood effect spawned at (684.6161, 754.3947) (scale=1.5)
[01:50:35] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[01:50:35] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:50:35] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[01:50:35] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:50:35] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[01:50:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(494.1074, 754.5789), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[01:50:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(519.4116, 753.7403), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[01:50:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(494.10742, 754.57886), shooter_id=1712014231770, bullet_pos=(918.68695, 773.4719)
[01:50:35] [INFO] [Bullet] Using shooter_position, distance=424,9997
[01:50:35] [INFO] [Bullet] Distance to wall: 424,9997 (28,939013% of viewport)
[01:50:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:35] [INFO] [Bullet] Starting wall penetration at (918.68695, 773.4719)
[01:50:35] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[01:50:35] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[01:50:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,003122
[01:50:35] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:35] [INFO] [Bullet] Exiting penetration at (956.98236, 775.176) after traveling 33,333336 pixels through wall
[01:50:35] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:50:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(544.4961, 766.5533), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[01:50:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(519.4116, 753.7403), shooter_id=1712014231770, bullet_pos=(910.79553, 738.86633)
[01:50:35] [INFO] [Bullet] Using shooter_position, distance=391,66644
[01:50:35] [INFO] [Bullet] Distance to wall: 391,66644 (26,669289% of viewport)
[01:50:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:35] [INFO] [Bullet] Starting wall penetration at (910.79553, 738.86633)
[01:50:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,110652
[01:50:35] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:35] [INFO] [Bullet] Exiting penetration at (949.1012, 737.4106) after traveling 33,333336 pixels through wall
[01:50:35] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:50:35] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[01:50:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(569.4025, 790.434), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[01:50:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(544.4961, 766.5533), shooter_id=1712014231770, bullet_pos=(932.32, 711.82513)
[01:50:35] [INFO] [Bullet] Using shooter_position, distance=391,66638
[01:50:35] [INFO] [Bullet] Distance to wall: 391,66638 (26,669285% of viewport)
[01:50:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:35] [INFO] [Bullet] Starting wall penetration at (932.32, 711.82513)
[01:50:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34,616837
[01:50:35] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:35] [INFO] [Bullet] Exiting penetration at (970.2772, 706.46875) after traveling 33,333336 pixels through wall
[01:50:35] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:50:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(544.4961, 766.5533), shooter_id=1712014231770, bullet_pos=(970.2772, 706.46875)
[01:50:35] [INFO] [Bullet] Using shooter_position, distance=429,99966
[01:50:35] [INFO] [Bullet] Distance to wall: 429,99966 (29,279467% of viewport)
[01:50:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:35] [INFO] [Bullet] Starting wall penetration at (970.2772, 706.46875)
[01:50:35] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:50:35] [INFO] [Bullet] Exiting penetration at (1008.23444, 701.11237) after traveling 33,333336 pixels through wall
[01:50:35] [ENEMY] [Enemy3] Ragdoll activated
[01:50:35] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:50:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(569.4025, 790.434), shooter_id=1712014231770, bullet_pos=(917.3813, 704.91364)
[01:50:35] [INFO] [Bullet] Using shooter_position, distance=358,3336
[01:50:35] [INFO] [Bullet] Distance to wall: 358,3336 (24,399593% of viewport)
[01:50:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:35] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[01:50:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(599.6705, 923.0969), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[01:50:36] [ENEMY] [Enemy10] FLANKING started: target=(532.9412, 1112.139), side=right, pos=(1022.668, 1432.257)
[01:50:36] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[01:50:36] [ENEMY] [Enemy4] Hit taken, health: 3/4
[01:50:36] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:36] [INFO] [ImpactEffects] spawn_blood_effect called at (768.9967, 912.3763), dir=(1, 0), lethal=false
[01:50:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:36] [INFO] [ImpactEffects] _spawn_blood_decal called at (768.9967, 912.3763), intensity=0.5
[01:50:36] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:36] [INFO] [ImpactEffects] Blood decal spawned at (787.3676, 912.3763) (total: 26)
[01:50:36] [INFO] [ImpactEffects] Blood effect spawned at (768.9967, 912.3763) (scale=1)
[01:50:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(616.1322, 951.3339), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[01:50:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.1322, 951.3339), shooter_id=1712014231770, bullet_pos=(762.82904, 891.756)
[01:50:36] [INFO] [Bullet] Using shooter_position, distance=158,3335
[01:50:36] [INFO] [Bullet] Distance to wall: 158,3335 (10,781219% of viewport)
[01:50:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:36] [ENEMY] [Enemy4] Hit taken, health: 2/4
[01:50:36] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:36] [INFO] [ImpactEffects] spawn_blood_effect called at (768.9967, 912.3763), dir=(1, 0), lethal=false
[01:50:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:36] [INFO] [ImpactEffects] _spawn_blood_decal called at (768.9967, 912.3763), intensity=0.5
[01:50:36] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:36] [INFO] [ImpactEffects] Blood decal spawned at (791.7147, 912.3763) (total: 27)
[01:50:36] [INFO] [ImpactEffects] Blood effect spawned at (768.9967, 912.3763) (scale=1)
[01:50:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(641.1564, 969.8203), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[01:50:36] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[01:50:36] [ENEMY] [Enemy4] Hit taken, health: 1/4
[01:50:36] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:36] [INFO] [ImpactEffects] spawn_blood_effect called at (772.7282, 910.3822), dir=(1, 0), lethal=false
[01:50:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:36] [INFO] [ImpactEffects] _spawn_blood_decal called at (772.7282, 910.3822), intensity=0.5
[01:50:36] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:36] [INFO] [ImpactEffects] Blood decal spawned at (792.0997, 910.3822) (total: 28)
[01:50:36] [INFO] [ImpactEffects] Blood effect spawned at (772.7282, 910.3822) (scale=1)
[01:50:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(775.5144, 911.2534), source=ENEMY (Enemy4), range=1469, listeners=9
[01:50:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=7
[01:50:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(672.7645, 976.3456), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[01:50:36] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[01:50:36] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[01:50:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(781.7814, 912.0085), source=ENEMY (Enemy4), range=1469, listeners=9
[01:50:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[01:50:36] [INFO] [LastChance] Threat detected: Bullet
[01:50:36] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:36] [ENEMY] [Enemy4] Hit taken, health: 0/4
[01:50:36] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:36] [INFO] [ImpactEffects] spawn_blood_effect called at (782.0825, 909.8965), dir=(1, 0), lethal=true
[01:50:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:36] [INFO] [ImpactEffects] _spawn_blood_decal called at (782.0825, 909.8965), intensity=1.5
[01:50:36] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:36] [INFO] [ImpactEffects] Blood decal spawned at (807.9941, 909.8965) (total: 29)
[01:50:36] [INFO] [ImpactEffects] Blood effect spawned at (782.0825, 909.8965) (scale=1.5)
[01:50:36] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[01:50:36] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[01:50:36] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[01:50:36] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:50:36] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[01:50:36] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[01:50:36] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[01:50:36] [INFO] [PenultimateHit] Starting penultimate hit effect:
[01:50:36] [INFO] [PenultimateHit]   - Time scale: 0.10
[01:50:36] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[01:50:36] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[01:50:36] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[01:50:36] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[01:50:36] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[01:50:36] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[01:50:36] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[01:50:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(702.4645, 976.3456), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:50:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[01:50:37] [ENEMY] [Enemy3] Death animation completed
[01:50:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(702.4645, 976.34564), shooter_id=1712014231770, bullet_pos=(909.104, 782.4934)
[01:50:37] [INFO] [Bullet] Using shooter_position, distance=283,33475
[01:50:37] [INFO] [Bullet] Distance to wall: 283,33475 (19,292786% of viewport)
[01:50:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:37] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[01:50:37] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[01:50:37] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[01:50:37] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[01:50:37] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[01:50:37] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[01:50:37] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[01:50:37] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[01:50:37] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[01:50:37] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[01:50:37] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[01:50:37] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(735.4582, 964.0172), source=PLAYER (Player), range=900, listeners=8
[01:50:37] [ENEMY] [Enemy10] Heard player RELOAD at (735.4582, 964.0172), intensity=0.01, distance=440
[01:50:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[01:50:37] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=750), can_see=false
[01:50:37] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=514), can_see=true
[01:50:37] [ENEMY] [Enemy2] Player vulnerable (reloading) - pursuing to attack (dist=514)
[01:50:37] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1143), can_see=false
[01:50:37] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1319), can_see=false
[01:50:37] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=963), can_see=false
[01:50:37] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1262), can_see=false
[01:50:37] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1485), can_see=false
[01:50:37] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=440), can_see=false
[01:50:38] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[01:50:38] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[01:50:38] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[01:50:38] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[01:50:38] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[01:50:38] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[01:50:38] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[01:50:38] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[01:50:38] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[01:50:38] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[01:50:38] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[01:50:38] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[01:50:38] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[01:50:38] [INFO] [Player.Reload.Anim] LeftArm: pos=(18.808918, 5.2451253), target=(24, 6), base=(24, 6)
[01:50:38] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.9443307, 6.393507), target=(-2, 6), base=(-2, 6)
[01:50:39] [INFO] [Player.Reload.Anim] LeftArm: pos=(23.693932, 5.955492), target=(24, 6), base=(24, 6)
[01:50:39] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.0556781, 6.0232015), target=(-2, 6), base=(-2, 6)
[01:50:39] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[01:50:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(702.4645, 976.34564), shooter_id=1712014231770, bullet_pos=(507.513, 395.80374)
[01:50:39] [INFO] [Bullet] Using shooter_position, distance=612,40094
[01:50:39] [INFO] [Bullet] Distance to wall: 612,40094 (41,69951% of viewport)
[01:50:39] [INFO] [Bullet] Distance-based penetration chance: 98,01724%
[01:50:39] [INFO] [Bullet] Starting wall penetration at (507.513, 395.80374)
[01:50:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,986917
[01:50:39] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:39] [INFO] [Bullet] Exiting penetration at (478.39908, 367.77008) after traveling 35,416668 pixels through wall
[01:50:39] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[01:50:39] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[01:50:39] [INFO] [PenultimateHit] Ending penultimate hit effect
[01:50:39] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[01:50:39] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[01:50:39] [ENEMY] [Enemy4] Ragdoll activated
[01:50:39] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:50:39] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[01:50:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9349, 787.386), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:50:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[01:50:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9349, 769.8999), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:50:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[01:50:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(565.649, 646.9782), source=ENEMY (Enemy2), range=1469, listeners=8
[01:50:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[01:50:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9349, 767.5805), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:50:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[01:50:40] [ENEMY] [Enemy2] Hit taken, health: 1/2
[01:50:40] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:40] [INFO] [ImpactEffects] spawn_blood_effect called at (585.8193, 653.9257), dir=(1, 0), lethal=false
[01:50:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:40] [INFO] [ImpactEffects] _spawn_blood_decal called at (585.8193, 653.9257), intensity=0.5
[01:50:40] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:40] [INFO] [ImpactEffects] Blood decal spawned at (605.1425, 653.9257) (total: 30)
[01:50:40] [INFO] [ImpactEffects] Blood effect spawned at (585.8193, 653.9257) (scale=1)
[01:50:40] [INFO] [LastChance] Threat detected: @Area2D@2621
[01:50:40] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(598.9067, 658.5089), source=ENEMY (Enemy2), range=1469, listeners=8
[01:50:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=3
[01:50:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[01:50:40] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[01:50:40] [INFO] [PenultimateHit] Player died - ending penultimate effect
[01:50:40] [INFO] [LastChance] Player died
[01:50:40] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[01:50:40] [INFO] [LastChance] Threat detected: @Area2D@2625
[01:50:40] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9349, 780.167), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:50:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[01:50:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.93494, 787.386), shooter_id=1712014231770, bullet_pos=(58.876396, 505.2324)
[01:50:40] [INFO] [Bullet] Using shooter_position, distance=883,33325
[01:50:40] [INFO] [Bullet] Distance to wall: 883,33325 (60,147785% of viewport)
[01:50:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(609.0428, 671.176), source=ENEMY (Enemy2), range=1469, listeners=8
[01:50:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=3
[01:50:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.93494, 767.5805), shooter_id=1712014231770, bullet_pos=(503.68152, 583.4199)
[01:50:40] [INFO] [Bullet] Using shooter_position, distance=433,33344
[01:50:40] [INFO] [Bullet] Distance to wall: 433,33344 (29,506472% of viewport)
[01:50:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(659.8969, 688.624), shooter_id=1708910447001, bullet_pos=(910.9648, 778.4902)
[01:50:40] [INFO] [Bullet] Using shooter_position, distance=266.666473388672
[01:50:40] [INFO] [Bullet] Distance to wall: 266.666473388672 (18.1578105294407% of viewport)
[01:50:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.93494, 787.386), shooter_id=1712014231770, bullet_pos=(228.76517, 463.2468)
[01:50:40] [INFO] [Bullet] Using shooter_position, distance=741,7424
[01:50:40] [INFO] [Bullet] Distance to wall: 741,7424 (50,506603% of viewport)
[01:50:40] [INFO] [Bullet] Distance-based penetration chance: 87,7423%
[01:50:40] [INFO] [Bullet] Starting wall penetration at (228.76517, 463.2468)
[01:50:40] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:50:40] [INFO] [Bullet] Exiting penetration at (261.12494, 455.24954) after traveling 28,33333 pixels through wall
[01:50:40] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[01:50:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(606.6646, 681.5742), source=ENEMY (Enemy2), range=1469, listeners=8
[01:50:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=3
[01:50:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9349, 806.2064), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:50:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[01:50:40] [ENEMY] [Enemy2] Hit taken, health: 0/2
[01:50:40] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:40] [INFO] [ImpactEffects] spawn_blood_effect called at (606.1889, 683.6539), dir=(1, 0), lethal=true
[01:50:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:40] [INFO] [ImpactEffects] _spawn_blood_decal called at (606.1889, 683.6539), intensity=1.5
[01:50:40] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:40] [INFO] [ImpactEffects] Blood decal spawned at (618.5374, 683.6539) (total: 31)
[01:50:40] [INFO] [ImpactEffects] Blood effect spawned at (606.1889, 683.6539) (scale=1.5)
[01:50:40] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[01:50:40] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[01:50:40] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[01:50:40] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:50:40] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[01:50:40] [ENEMY] [Enemy4] Death animation completed
[01:50:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(669.5395, 702.3329), shooter_id=1708910447001, bullet_pos=(932.435, 747.0219)
[01:50:40] [INFO] [Bullet] Using shooter_position, distance=266.666748046875
[01:50:40] [INFO] [Bullet] Distance to wall: 266.666748046875 (18.1578292314228% of viewport)
[01:50:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:40] [INFO] [Bullet] Starting wall penetration at (932.435, 747.0219)
[01:50:40] [INFO] [LastChance] Threat detected: Bullet
[01:50:40] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.7171630859375
[01:50:40] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:40] [INFO] [Bullet] Exiting penetration at (970.2262, 753.4459) after traveling 33.3333320617676 pixels through wall
[01:50:40] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:50:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9349, 841.2215), source=PLAYER (AssaultRifle), range=1469, listeners=7
[01:50:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[01:50:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(666.6364, 713.7297), shooter_id=1708910447001, bullet_pos=(923.3649, 785.8517)
[01:50:40] [INFO] [Bullet] Using shooter_position, distance=266.666687011719
[01:50:40] [INFO] [Bullet] Distance to wall: 266.666687011719 (18.1578250754268% of viewport)
[01:50:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(666.6364, 713.7297), shooter_id=1708910447001, bullet_pos=(751.5321, 818.9956)
[01:50:40] [INFO] [Bullet] Using shooter_position, distance=135.233856201172
[01:50:40] [INFO] [Bullet] Distance to wall: 135.233856201172 (9.20832194187191% of viewport)
[01:50:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9349, 876.4217), source=PLAYER (AssaultRifle), range=1469, listeners=7
[01:50:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[01:50:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(666.6364, 713.7297), shooter_id=1708910447001, bullet_pos=(924.2495, 836.3116)
[01:50:40] [INFO] [Bullet] Using shooter_position, distance=285.290802001953
[01:50:40] [INFO] [Bullet] Distance to wall: 285.290802001953 (19.4259753118395% of viewport)
[01:50:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:40] [INFO] [Bullet] Starting wall penetration at (924.2495, 836.3116)
[01:50:40] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:40] [INFO] [Bullet] Exiting penetration at (953.1877, 839.2129) after traveling 0 pixels through wall
[01:50:40] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[01:50:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:50:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:50:41] [ENEMY] [Enemy1] Death animation component initialized
[01:50:41] [ENEMY] [Enemy2] Death animation component initialized
[01:50:41] [ENEMY] [Enemy3] Death animation component initialized
[01:50:41] [ENEMY] [Enemy4] Death animation component initialized
[01:50:41] [ENEMY] [Enemy5] Death animation component initialized
[01:50:41] [ENEMY] [Enemy6] Death animation component initialized
[01:50:41] [ENEMY] [Enemy7] Death animation component initialized
[01:50:41] [ENEMY] [Enemy8] Death animation component initialized
[01:50:41] [ENEMY] [Enemy9] Death animation component initialized
[01:50:41] [ENEMY] [Enemy10] Death animation component initialized
[01:50:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:50:41] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:50:41] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:50:41] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:50:41] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:50:41] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:50:41] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:50:41] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[01:50:41] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:50:41] [INFO] [ScoreManager] Level started with 10 enemies
[01:50:41] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 8)
[01:50:41] [ENEMY] [Enemy1] Registered as sound listener
[01:50:41] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[01:50:41] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 9)
[01:50:41] [ENEMY] [Enemy2] Registered as sound listener
[01:50:41] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[01:50:41] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 10)
[01:50:41] [ENEMY] [Enemy3] Registered as sound listener
[01:50:41] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[01:50:41] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 11)
[01:50:41] [ENEMY] [Enemy4] Registered as sound listener
[01:50:41] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[01:50:41] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 12)
[01:50:41] [ENEMY] [Enemy5] Registered as sound listener
[01:50:41] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[01:50:41] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 13)
[01:50:41] [ENEMY] [Enemy6] Registered as sound listener
[01:50:41] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[01:50:41] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 14)
[01:50:41] [ENEMY] [Enemy7] Registered as sound listener
[01:50:41] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[01:50:41] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 15)
[01:50:41] [ENEMY] [Enemy8] Registered as sound listener
[01:50:41] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[01:50:41] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 16)
[01:50:41] [ENEMY] [Enemy9] Registered as sound listener
[01:50:41] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[01:50:41] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 17)
[01:50:41] [ENEMY] [Enemy10] Registered as sound listener
[01:50:41] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[01:50:41] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:50:41] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:50:41] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:50:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:50:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:50:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:50:41] [INFO] [LastChance] Found player: Player
[01:50:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:50:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:50:41] [INFO] [LastChance] Connected to player Died signal (C#)
[01:50:41] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[01:50:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=17
[01:50:42] [INFO] [SoundPropagation] Cleaned up 7 invalid listeners
[01:50:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:50:42] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[01:50:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=2111261642059, bullet_pos=(41.69983, 702.3934)
[01:50:42] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[01:50:42] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[01:50:42] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[01:50:42] [INFO] [Bullet] Penetration failed (distance roll)
[01:50:42] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[01:50:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450.9239, 809.5493), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:42] [ENEMY] [Enemy1] Heard gunshot at (450.9239, 809.5493), source_type=0, intensity=0.01, distance=484
[01:50:42] [ENEMY] [Enemy2] Heard gunshot at (450.9239, 809.5493), source_type=0, intensity=0.04, distance=264
[01:50:42] [ENEMY] [Enemy4] Heard gunshot at (450.9239, 809.5493), source_type=0, intensity=0.02, distance=361
[01:50:42] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:50:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450.92386, 809.5493), shooter_id=2112083725692, bullet_pos=(516.2513, 796.2536)
[01:50:42] [INFO] [Bullet] Using shooter_position, distance=66,666695
[01:50:42] [INFO] [Bullet] Distance to wall: 66,666695 (4,5394583% of viewport)
[01:50:42] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[01:50:42] [INFO] [Bullet] Starting wall penetration at (516.2513, 796.2536)
[01:50:42] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:50:42] [INFO] [Bullet] Exiting penetration at (561.98047, 786.9466) after traveling 41,666668 pixels through wall
[01:50:42] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:50:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(463.5218, 776.8335), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:42] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:50:42] [ENEMY] [Enemy3] Hit taken, health: 3/4
[01:50:42] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:42] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4503, 753.7664), dir=(1, 0), lethal=false
[01:50:42] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:42] [INFO] [ImpactEffects] _spawn_blood_decal called at (684.4503, 753.7664), intensity=0.5
[01:50:42] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:42] [INFO] [ImpactEffects] Blood decal spawned at (708.2109, 753.7664) (total: 32)
[01:50:42] [INFO] [ImpactEffects] Blood effect spawned at (684.4503, 753.7664) (scale=1)
[01:50:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(486.0211, 756.3064), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:42] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:50:42] [ENEMY] [Enemy3] Hit taken, health: 2/4
[01:50:42] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:42] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4503, 753.7664), dir=(1, 0), lethal=false
[01:50:42] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:42] [INFO] [ImpactEffects] _spawn_blood_decal called at (684.4503, 753.7664), intensity=0.5
[01:50:42] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:42] [INFO] [ImpactEffects] Blood decal spawned at (705.3676, 753.7664) (total: 33)
[01:50:42] [INFO] [ImpactEffects] Blood effect spawned at (684.4503, 753.7664) (scale=1)
[01:50:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(512.4875, 749.077), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[01:50:43] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[01:50:43] [ENEMY] [Enemy3] Hit taken, health: 1/4
[01:50:43] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:43] [INFO] [ImpactEffects] spawn_blood_effect called at (686.4799, 754.4235), dir=(1, 0), lethal=false
[01:50:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:43] [INFO] [ImpactEffects] _spawn_blood_decal called at (686.4799, 754.4235), intensity=0.5
[01:50:43] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:43] [INFO] [ImpactEffects] Blood decal spawned at (712.4952, 754.4235) (total: 34)
[01:50:43] [INFO] [ImpactEffects] Blood effect spawned at (686.4799, 754.4235) (scale=1)
[01:50:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(692.5687, 756.395), source=ENEMY (Enemy3), range=1469, listeners=10
[01:50:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:50:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(538.3645, 755.4412), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[01:50:43] [INFO] [LastChance] Threat detected: Bullet
[01:50:43] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:43] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[01:50:43] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[01:50:43] [ENEMY] [Enemy3] Hit taken, health: 0/4
[01:50:43] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:43] [INFO] [ImpactEffects] spawn_blood_effect called at (700.7278, 763.2644), dir=(1, 0), lethal=true
[01:50:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:43] [INFO] [ImpactEffects] _spawn_blood_decal called at (700.7278, 763.2644), intensity=1.5
[01:50:43] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:43] [INFO] [ImpactEffects] Blood decal spawned at (720.3718, 763.2644) (total: 35)
[01:50:43] [INFO] [ImpactEffects] Blood effect spawned at (700.7278, 763.2644) (scale=1.5)
[01:50:43] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[01:50:43] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:50:43] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[01:50:43] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:50:43] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[01:50:43] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[01:50:43] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[01:50:43] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[01:50:43] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[01:50:43] [ENEMY] [Enemy3] Ragdoll activated
[01:50:43] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:50:43] [ENEMY] [Enemy10] FLANKING started: target=(782.9985, 889.5004), side=left, pos=(1022.668, 1432.257)
[01:50:43] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[01:50:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(587.1313, 941.5267), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[01:50:44] [ENEMY] [Enemy4] Hit taken, health: 1/2
[01:50:44] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:44] [INFO] [ImpactEffects] spawn_blood_effect called at (739.6973, 914.0657), dir=(1, 0), lethal=false
[01:50:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:44] [INFO] [ImpactEffects] _spawn_blood_decal called at (739.6973, 914.0657), intensity=0.5
[01:50:44] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:44] [INFO] [ImpactEffects] Blood decal spawned at (753.7974, 914.0657) (total: 36)
[01:50:44] [INFO] [ImpactEffects] Blood effect spawned at (739.6973, 914.0657) (scale=1)
[01:50:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(596.504, 971.2744), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[01:50:44] [ENEMY] [Enemy4] Hit taken, health: 0/2
[01:50:44] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:44] [INFO] [ImpactEffects] spawn_blood_effect called at (739.6973, 914.0657), dir=(1, 0), lethal=true
[01:50:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:44] [INFO] [ImpactEffects] _spawn_blood_decal called at (739.6973, 914.0657), intensity=1.5
[01:50:44] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:44] [INFO] [ImpactEffects] Blood decal spawned at (760.2557, 914.0657) (total: 37)
[01:50:44] [INFO] [ImpactEffects] Blood effect spawned at (739.6973, 914.0657) (scale=1.5)
[01:50:44] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[01:50:44] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[01:50:44] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[01:50:44] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:50:44] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[01:50:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(614.9268, 989.9338), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:50:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[01:50:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.8176, 989.9338), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:50:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[01:50:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(614.9268, 989.9338), shooter_id=2112083725692, bullet_pos=(929.9286, 819.1214)
[01:50:44] [INFO] [Bullet] Using shooter_position, distance=358,33362
[01:50:44] [INFO] [Bullet] Distance to wall: 358,33362 (24,399595% of viewport)
[01:50:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(680.0178, 989.9338), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:50:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[01:50:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(644.81757, 989.9338), shooter_id=2112083725692, bullet_pos=(932.9883, 776.954)
[01:50:44] [INFO] [Bullet] Using shooter_position, distance=358,33328
[01:50:44] [INFO] [Bullet] Distance to wall: 358,33328 (24,399572% of viewport)
[01:50:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(680.01776, 989.9338), shooter_id=2112083725692, bullet_pos=(923.3218, 726.8632)
[01:50:44] [INFO] [Bullet] Using shooter_position, distance=358,3336
[01:50:44] [INFO] [Bullet] Distance to wall: 358,3336 (24,399593% of viewport)
[01:50:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:44] [ENEMY] [Enemy4] Ragdoll activated
[01:50:44] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:50:44] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[01:50:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(644.81757, 989.9338), shooter_id=2112083725692, bullet_pos=(525.2255, 567.67285)
[01:50:44] [INFO] [Bullet] Using shooter_position, distance=438,8696
[01:50:44] [INFO] [Bullet] Distance to wall: 438,8696 (29,883438% of viewport)
[01:50:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:44] [INFO] [Bullet] Starting wall penetration at (525.2255, 567.67285)
[01:50:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4,979377
[01:50:44] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:44] [INFO] [Bullet] Exiting penetration at (495.57004, 552.4524) after traveling 28,333334 pixels through wall
[01:50:44] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[01:50:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(680.01776, 989.9338), shooter_id=2112083725692, bullet_pos=(527.39795, 314.49524)
[01:50:45] [INFO] [Bullet] Using shooter_position, distance=692,4666
[01:50:45] [INFO] [Bullet] Distance to wall: 692,4666 (47,15133% of viewport)
[01:50:45] [INFO] [Bullet] Distance-based penetration chance: 91,656784%
[01:50:45] [INFO] [Bullet] Starting wall penetration at (527.39795, 314.49524)
[01:50:45] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:50:45] [INFO] [Bullet] Exiting penetration at (504.31204, 290.45044) after traveling 28,333332 pixels through wall
[01:50:45] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[01:50:45] [ENEMY] [Enemy3] Death animation completed
[01:50:45] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[01:50:45] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[01:50:45] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[01:50:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(851.4861, 860.8439), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:50:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[01:50:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(452.1002, 612.9431), source=ENEMY (Enemy2), range=1469, listeners=8
[01:50:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[01:50:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(851.4861, 860.8439), shooter_id=2112083725692, bullet_pos=(735.313, 814.7047)
[01:50:45] [INFO] [Bullet] Using shooter_position, distance=125,000046
[01:50:45] [INFO] [Bullet] Distance to wall: 125,000046 (8,511483% of viewport)
[01:50:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:45] [INFO] [Bullet] Starting wall penetration at (735.313, 814.7047)
[01:50:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,587442
[01:50:45] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:45] [INFO] [Bullet] Exiting penetration at (699.6866, 800.55536) after traveling 33,333332 pixels through wall
[01:50:45] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:50:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(452.1002, 612.9431), source=ENEMY (Enemy2), range=1469, listeners=8
[01:50:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[01:50:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(861.7128, 831.438), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:50:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[01:50:45] [INFO] [LastChance] Threat detected: @Area2D@2948
[01:50:45] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(452.1002, 612.9431), source=ENEMY (Enemy2), range=1469, listeners=8
[01:50:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[01:50:45] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[01:50:45] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[01:50:45] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[01:50:45] [INFO] [PenultimateHit] Starting penultimate hit effect:
[01:50:45] [INFO] [PenultimateHit]   - Time scale: 0.10
[01:50:45] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[01:50:45] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[01:50:45] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[01:50:45] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[01:50:45] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[01:50:45] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[01:50:45] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[01:50:45] [INFO] [LastChance] Threat detected: Bullet
[01:50:45] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(876.0168, 814.2622), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:50:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[01:50:46] [ENEMY] [Enemy4] Death animation completed
[01:50:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(861.71277, 831.438), shooter_id=2112083725692, bullet_pos=(501.43414, 700.50195)
[01:50:46] [INFO] [Bullet] Using shooter_position, distance=383,33398
[01:50:46] [INFO] [Bullet] Distance to wall: 383,33398 (26,101917% of viewport)
[01:50:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:46] [INFO] [Bullet] Starting wall penetration at (501.43414, 700.50195)
[01:50:46] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:50:46] [INFO] [Bullet] Exiting penetration at (492.8188, 697.37085) after traveling 4,166667 pixels through wall
[01:50:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:50:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(507.8819, 652.4836), shooter_id=2108979940547, bullet_pos=(910.451, 853.5735)
[01:50:46] [INFO] [Bullet] Using shooter_position, distance=449.998840332031
[01:50:46] [INFO] [Bullet] Distance to wall: 449.998840332031 (30.6412485131105% of viewport)
[01:50:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(892.5448, 803.7034), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:50:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[01:50:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(509.3549, 650.2729), shooter_id=2108979940547, bullet_pos=(936.4182, 876.6091)
[01:50:47] [INFO] [Bullet] Using shooter_position, distance=483.333282470703
[01:50:47] [INFO] [Bullet] Distance to wall: 483.333282470703 (32.9110519749668% of viewport)
[01:50:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:47] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[01:50:47] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[01:50:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(507.8819, 652.4836), shooter_id=2108979940547, bullet_pos=(630.3343, 1001.263)
[01:50:47] [INFO] [Bullet] Using shooter_position, distance=369.650665283203
[01:50:47] [INFO] [Bullet] Distance to wall: 369.650665283203 (25.1701935267699% of viewport)
[01:50:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:47] [INFO] [Bullet] Starting wall penetration at (630.3343, 1001.263)
[01:50:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9338, 784.728), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:50:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[01:50:47] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:50:47] [INFO] [Bullet] Exiting penetration at (594.5825, 1020.113) after traveling 35.4166679382324 pixels through wall
[01:50:47] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[01:50:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(509.3549, 650.2729), shooter_id=2108979940547, bullet_pos=(638.1365, 1002.475)
[01:50:47] [INFO] [Bullet] Using shooter_position, distance=375.008392333984
[01:50:47] [INFO] [Bullet] Distance to wall: 375.008392333984 (25.5350110136489% of viewport)
[01:50:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(876.01685, 814.2622), shooter_id=2112083725692, bullet_pos=(34.654976, 531.8266)
[01:50:47] [INFO] [Bullet] Using shooter_position, distance=887,50195
[01:50:47] [INFO] [Bullet] Distance to wall: 887,50195 (60,43164% of viewport)
[01:50:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(509.3549, 650.2729), shooter_id=2108979940547, bullet_pos=(526.152, 946.0062)
[01:50:47] [INFO] [Bullet] Using shooter_position, distance=296.209838867188
[01:50:47] [INFO] [Bullet] Distance to wall: 296.209838867188 (20.1694726103317% of viewport)
[01:50:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:47] [INFO] [Bullet] Starting wall penetration at (526.152, 946.0062)
[01:50:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 5.81536626815796
[01:50:47] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:47] [INFO] [Bullet] Exiting penetration at (494.8075, 930.2004) after traveling 30.1041660308838 pixels through wall
[01:50:47] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[01:50:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.93384, 784.728), shooter_id=2112083725692, bullet_pos=(503.23434, 582.59827)
[01:50:47] [INFO] [Bullet] Using shooter_position, distance=441,66653
[01:50:47] [INFO] [Bullet] Distance to wall: 441,66653 (30,073887% of viewport)
[01:50:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:47] [INFO] [Bullet] Starting wall penetration at (503.23434, 582.59827)
[01:50:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 43,029022
[01:50:47] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:47] [INFO] [Bullet] Exiting penetration at (461.74155, 561.24115) after traveling 41,666668 pixels through wall
[01:50:47] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:50:47] [ENEMY] [Enemy2] Hit taken, health: 3/4
[01:50:47] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:47] [INFO] [ImpactEffects] spawn_blood_effect called at (459.8363, 550.8391), dir=(1, 0), lethal=false
[01:50:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:47] [INFO] [ImpactEffects] _spawn_blood_decal called at (459.8363, 550.8391), intensity=0.5
[01:50:47] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:47] [INFO] [ImpactEffects] Blood decal spawned at (471.6109, 550.8391) (total: 38)
[01:50:47] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550.8391) (dist=40 px)
[01:50:47] [INFO] [ImpactEffects] Blood effect spawned at (459.8363, 550.8391) (scale=1)
[01:50:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(876.01685, 814.2622), shooter_id=2112083725692, bullet_pos=(237.48921, 475.84943)
[01:50:47] [INFO] [Bullet] Using shooter_position, distance=722,6623
[01:50:47] [INFO] [Bullet] Distance to wall: 722,6623 (49,20741% of viewport)
[01:50:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(892.5448, 803.7034), shooter_id=2112083725692, bullet_pos=(38.763443, 406.4718)
[01:50:47] [INFO] [Bullet] Using shooter_position, distance=941,6664
[01:50:47] [INFO] [Bullet] Distance to wall: 941,6664 (64,1198% of viewport)
[01:50:47] [INFO] [Bullet] Distance-based penetration chance: 71,860245%
[01:50:47] [INFO] [Bullet] Penetration failed (distance roll)
[01:50:47] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[01:50:47] [INFO] [Player.Grenade] G pressed - starting grab animation
[01:50:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(876.01685, 814.2622), shooter_id=2112083725692, bullet_pos=(503.2574, 601.56024)
[01:50:47] [INFO] [Bullet] Using shooter_position, distance=429,17566
[01:50:47] [INFO] [Bullet] Distance to wall: 429,17566 (29,223362% of viewport)
[01:50:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:47] [INFO] [Bullet] Starting wall penetration at (503.2574, 601.56024)
[01:50:47] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:50:47] [INFO] [Bullet] Exiting penetration at (529.548, 613.9959) after traveling 24,08333 pixels through wall
[01:50:47] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[01:50:47] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (652.6166, 579.8531)
[01:50:47] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[01:50:47] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[01:50:47] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[01:50:47] [INFO] [Player.Grenade] Timer started, grenade created at (895.93384, 620.3098)
[01:50:47] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[01:50:47] [INFO] [Player.Grenade] Step 1 complete! Drag: (210.49854, 7.8931885)
[01:50:47] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[01:50:47] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[01:50:47] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[01:50:47] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[01:50:48] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[01:50:48] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[01:50:48] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[01:50:48] [INFO] [Player.Grenade] Throwing toward mouse! Direction: (-0.9703711, 0.24161911), Mouse velocity: 1094,1 px/s, Swing: 674,6
[01:50:48] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 2,8975587
[01:50:48] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (-1061.69, 264.3573), Swing: 674.6, Transfer: 1.00, Final speed: 576.6
[01:50:48] [INFO] [Player.Grenade] Thrown! Velocity: 1094,1, Swing: 674,6
[01:50:48] [INFO] [Player.Grenade] State reset to IDLE
[01:50:48] [INFO] [Player.Grenade] Player rotation restored to 0
[01:50:48] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[01:50:48] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[01:50:48] [INFO] [PenultimateHit] Ending penultimate hit effect
[01:50:48] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[01:50:48] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[01:50:48] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[01:50:48] [ENEMY] [Enemy1] FLANKING started: target=(844.2802, 514.1687), side=left, pos=(455.4113, 422.1347)
[01:50:48] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[01:50:48] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[01:50:49] [INFO] [GrenadeBase] Grenade landed at (610.4143, 585.8024)
[01:50:49] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[01:50:49] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[01:50:49] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[01:50:49] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[01:50:49] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[01:50:49] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[01:50:49] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[01:50:49] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[01:50:49] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[01:50:49] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(855.1391, 261.6537), source=PLAYER (Player), range=900, listeners=8
[01:50:49] [ENEMY] [Enemy1] Heard player RELOAD at (855.1391, 261.6537), intensity=0.01, distance=457
[01:50:49] [ENEMY] [Enemy2] Heard player RELOAD at (855.1391, 261.6537), intensity=0.01, distance=490
[01:50:49] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[01:50:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=1
[01:50:49] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=457), can_see=false
[01:50:49] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=490), can_see=false
[01:50:49] [ENEMY] [Enemy2] Pursuing vulnerability sound at (855.1391, 261.6537), distance=490
[01:50:49] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=849), can_see=false
[01:50:49] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1111), can_see=false
[01:50:49] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=989), can_see=false
[01:50:49] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1582), can_see=false
[01:50:49] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1792), can_see=false
[01:50:49] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1087), can_see=false
[01:50:49] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[01:50:49] [ENEMY] [Enemy2] Player vulnerable (reloading) - pursuing to attack (dist=587)
[01:50:49] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[01:50:49] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[01:50:49] [INFO] [Player.Reload.Anim] LeftArm: pos=(11.664278, 5.831509), target=(12, 6), base=(24, 6)
[01:50:49] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9999105, 7.9155297), target=(-2, 8), base=(-2, 6)
[01:50:49] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[01:50:49] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[01:50:49] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[01:50:49] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[01:50:49] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[01:50:49] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[01:50:49] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[01:50:49] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[01:50:49] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[01:50:49] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[01:50:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(509.2462, 639.57), source=ENEMY (Enemy2), range=1469, listeners=8
[01:50:49] [ENEMY] [Enemy1] Heard gunshot at (509.2462, 639.57), source_type=1, intensity=1.00, distance=28
[01:50:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[01:50:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(499.9748, 644.8428), source=ENEMY (Enemy2), range=1469, listeners=8
[01:50:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[01:50:49] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[01:50:49] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[01:50:49] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[01:50:49] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[01:50:49] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[01:50:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(553.1886, 587.6117), shooter_id=2108979940547, bullet_pos=(782.5326, 51.25455)
[01:50:49] [INFO] [Bullet] Using shooter_position, distance=583.333190917969
[01:50:49] [INFO] [Bullet] Distance to wall: 583.333190917969 (39.7202296247583% of viewport)
[01:50:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:49] [INFO] [Bullet] Starting wall penetration at (782.5326, 51.25455)
[01:50:49] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[01:50:49] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25.7257385253906
[01:50:49] [INFO] [Bullet] Body exited signal received for penetrating body
[01:50:49] [INFO] [Bullet] Exiting penetration at (800.8801, 8.345974) after traveling 41.6666679382324 pixels through wall
[01:50:49] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:50:49] [INFO] [LastChance] Threat detected: @Area2D@2972
[01:50:49] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(846.4197, 86.06503), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:50:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=6
[01:50:49] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[01:50:49] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[01:50:49] [INFO] [PenultimateHit] Player died - ending penultimate effect
[01:50:49] [INFO] [LastChance] Player died
[01:50:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(837.7928, 86.06503), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:50:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=6
[01:50:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(846.4197, 86.06503), shooter_id=2112083725692, bullet_pos=(512.28503, 543.73865)
[01:50:50] [INFO] [Bullet] Using shooter_position, distance=566,6666
[01:50:50] [INFO] [Bullet] Distance to wall: 566,6666 (38,585373% of viewport)
[01:50:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(818.8585, 92.56445), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:50:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=6
[01:50:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(799.4142, 112.9512), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:50:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=6
[01:50:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(837.79285, 86.06503), shooter_id=2112083725692, bullet_pos=(516.6035, 602.69543)
[01:50:50] [INFO] [Bullet] Using shooter_position, distance=608,33344
[01:50:50] [INFO] [Bullet] Distance to wall: 608,33344 (41,422543% of viewport)
[01:50:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(818.85846, 92.56445), shooter_id=2112083725692, bullet_pos=(523.46686, 576.1502)
[01:50:50] [INFO] [Bullet] Using shooter_position, distance=566,6669
[01:50:50] [INFO] [Bullet] Distance to wall: 566,6669 (38,585392% of viewport)
[01:50:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(791.6807, 144.4151), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:50:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=6
[01:50:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(846.4197, 86.06503), shooter_id=2112083725692, bullet_pos=(922.15405, 942.2486)
[01:50:50] [INFO] [Bullet] Using shooter_position, distance=859,5267
[01:50:50] [INFO] [Bullet] Distance to wall: 859,5267 (58,526756% of viewport)
[01:50:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(837.79285, 86.06503), shooter_id=2112083725692, bullet_pos=(689.36194, 876.49945)
[01:50:50] [INFO] [Bullet] Using shooter_position, distance=804,2502
[01:50:50] [INFO] [Bullet] Distance to wall: 804,2502 (54,762875% of viewport)
[01:50:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(846.4197, 86.06503), shooter_id=2112083725692, bullet_pos=(862.73114, 1016.7696)
[01:50:50] [INFO] [Bullet] Using shooter_position, distance=930,84753
[01:50:50] [INFO] [Bullet] Distance to wall: 930,84753 (63,38312% of viewport)
[01:50:50] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:50:50] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:50:50] [ENEMY] [Enemy1] Death animation component initialized
[01:50:50] [ENEMY] [Enemy2] Death animation component initialized
[01:50:50] [ENEMY] [Enemy3] Death animation component initialized
[01:50:50] [ENEMY] [Enemy4] Death animation component initialized
[01:50:50] [ENEMY] [Enemy5] Death animation component initialized
[01:50:50] [ENEMY] [Enemy6] Death animation component initialized
[01:50:50] [ENEMY] [Enemy7] Death animation component initialized
[01:50:50] [ENEMY] [Enemy8] Death animation component initialized
[01:50:50] [ENEMY] [Enemy9] Death animation component initialized
[01:50:50] [ENEMY] [Enemy10] Death animation component initialized
[01:50:50] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:50:50] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:50:50] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:50:50] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:50:50] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:50:50] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:50:50] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:50:50] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[01:50:50] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:50:50] [INFO] [ScoreManager] Level started with 10 enemies
[01:50:50] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[01:50:50] [ENEMY] [Enemy1] Registered as sound listener
[01:50:50] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[01:50:50] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[01:50:50] [ENEMY] [Enemy2] Registered as sound listener
[01:50:50] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[01:50:50] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[01:50:50] [ENEMY] [Enemy3] Registered as sound listener
[01:50:50] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[01:50:50] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[01:50:50] [ENEMY] [Enemy4] Registered as sound listener
[01:50:50] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[01:50:50] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[01:50:50] [ENEMY] [Enemy5] Registered as sound listener
[01:50:50] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[01:50:50] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[01:50:50] [ENEMY] [Enemy6] Registered as sound listener
[01:50:50] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[01:50:50] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[01:50:50] [ENEMY] [Enemy7] Registered as sound listener
[01:50:50] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[01:50:50] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[01:50:50] [ENEMY] [Enemy8] Registered as sound listener
[01:50:50] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[01:50:50] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[01:50:50] [ENEMY] [Enemy9] Registered as sound listener
[01:50:50] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[01:50:50] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[01:50:50] [ENEMY] [Enemy10] Registered as sound listener
[01:50:50] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[01:50:50] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:50:50] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:50:50] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:50:50] [INFO] [LastChance] Found player: Player
[01:50:50] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:50:50] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:50:50] [INFO] [LastChance] Connected to player Died signal (C#)
[01:50:50] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:50:50] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:50:50] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:50:55] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[01:50:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(820.3576, 1309.586), source=PLAYER (AssaultRifle), range=1469, listeners=18
[01:50:55] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[01:50:55] [ENEMY] [Enemy4] Heard gunshot at (820.3576, 1309.586), source_type=0, intensity=0.01, distance=410
[01:50:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[01:50:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(842.358, 1290.78), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[01:50:55] [ENEMY] [Enemy10] Hit taken, health: 1/2
[01:50:55] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:55] [INFO] [ImpactEffects] spawn_blood_effect called at (1119.314, 1545.397), dir=(1, 0), lethal=false
[01:50:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:55] [INFO] [ImpactEffects] _spawn_blood_decal called at (1119.314, 1545.397), intensity=0.5
[01:50:55] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:55] [INFO] [ImpactEffects] Blood decal spawned at (1144.51, 1545.397) (total: 40)
[01:50:55] [INFO] [ImpactEffects] Blood effect spawned at (1119.314, 1545.397) (scale=1)
[01:50:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(849.4708, 1278.63), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:50:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[01:50:55] [ENEMY] [Enemy10] Hit taken, health: 0/2
[01:50:55] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[01:50:55] [INFO] [ImpactEffects] spawn_blood_effect called at (1094.304, 1520.631), dir=(1, 0), lethal=true
[01:50:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:50:55] [INFO] [ImpactEffects] _spawn_blood_decal called at (1094.304, 1520.631), intensity=1.5
[01:50:55] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:50:55] [INFO] [ImpactEffects] Blood decal spawned at (1104.754, 1520.631) (total: 41)
[01:50:55] [INFO] [ImpactEffects] Blood effect spawned at (1094.304, 1520.631) (scale=1.5)
[01:50:55] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[01:50:55] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:50:55] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[01:50:55] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:50:55] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[01:50:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(847.1148, 1273.255), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[01:50:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(847.1148, 1273.2545), shooter_id=2616289397525, bullet_pos=(987.4223, 1403.8297)
[01:50:55] [INFO] [Bullet] Using shooter_position, distance=191,66656
[01:50:55] [INFO] [Bullet] Distance to wall: 191,66656 (13,050929% of viewport)
[01:50:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:55] [INFO] [Bullet] Starting wall penetration at (987.4223, 1403.8297)
[01:50:55] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:50:55] [INFO] [Bullet] Exiting penetration at (1015.4838, 1429.9447) after traveling 33,333336 pixels through wall
[01:50:55] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:50:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(849.4708, 1278.6298), shooter_id=2616289397525, bullet_pos=(1200.9662, 1622.4135)
[01:50:55] [INFO] [Bullet] Using shooter_position, distance=491,66678
[01:50:55] [INFO] [Bullet] Distance to wall: 491,66678 (33,478497% of viewport)
[01:50:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(836.605, 1278.831), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[01:50:56] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[01:50:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(817.9415, 1295.358), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:50:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[01:50:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(836.60504, 1278.8307), shooter_id=2616289397525, bullet_pos=(1231.9474, 1624.2714)
[01:50:56] [INFO] [Bullet] Using shooter_position, distance=524,9999
[01:50:56] [INFO] [Bullet] Distance to wall: 524,9999 (35,748207% of viewport)
[01:50:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:56] [ENEMY] [Enemy10] Ragdoll activated
[01:50:56] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:50:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(817.94147, 1295.358), shooter_id=2616289397525, bullet_pos=(1223.5361, 1628.7017)
[01:50:56] [INFO] [Bullet] Using shooter_position, distance=525
[01:50:56] [INFO] [Bullet] Distance to wall: 525 (35,748215% of viewport)
[01:50:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:56] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[01:50:56] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[01:50:56] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[01:50:56] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[01:50:56] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[01:50:56] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[01:50:56] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[01:50:56] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[01:50:56] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[01:50:56] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[01:50:56] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[01:50:56] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(817.349, 1467.207), source=PLAYER (Player), range=900, listeners=9
[01:50:56] [ENEMY] [Enemy4] Heard player RELOAD at (817.349, 1467.207), intensity=0.01, distance=497
[01:50:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=1
[01:50:56] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1231), can_see=false
[01:50:56] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1008), can_see=false
[01:50:56] [ENEMY] [Enemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=727), can_see=false
[01:50:56] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=497), can_see=false
[01:50:56] [ENEMY] [Enemy4] Pursuing vulnerability sound at (817.349, 1467.207), distance=497
[01:50:56] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1424), can_see=false
[01:50:56] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1522), can_see=false
[01:50:56] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=976), can_see=false
[01:50:56] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1083), can_see=false
[01:50:56] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1285), can_see=false
[01:50:57] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[01:50:57] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[01:50:57] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[01:50:57] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[01:50:57] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[01:50:57] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[01:50:57] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[01:50:57] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[01:50:57] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[01:50:57] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[01:50:57] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[01:50:57] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[01:50:57] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[01:50:57] [ENEMY] [Enemy10] Death animation completed
[01:50:57] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[01:50:57] [ENEMY] [Enemy4] Pursuing vulnerability sound at (817.349, 1467.207), distance=706
[01:50:58] [ENEMY] [Enemy4] Pursuing vulnerability sound at (817.349, 1467.207), distance=645
[01:50:59] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[01:50:59] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[01:50:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(541.6135, 1105.904), source=ENEMY (Enemy4), range=1469, listeners=9
[01:50:59] [ENEMY] [Enemy3] Heard gunshot at (541.6135, 1105.904), source_type=1, intensity=0.02, distance=390
[01:50:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[01:50:59] [INFO] [LastChance] Threat detected: Bullet
[01:50:59] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(564.6721, 1135.264), source=ENEMY (Enemy4), range=1469, listeners=9
[01:50:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[01:50:59] [INFO] [LastChance] Threat detected: @Area2D@3265
[01:50:59] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(576.7877, 1164.168), shooter_id=2613756037839, bullet_pos=(908.0338, 1592.746)
[01:50:59] [INFO] [Bullet] Using shooter_position, distance=541.666870117188
[01:50:59] [INFO] [Bullet] Distance to wall: 541.666870117188 (36.8830932238251% of viewport)
[01:50:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(588.7645, 1163.778), source=ENEMY (Enemy4), range=1469, listeners=9
[01:50:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[01:50:59] [INFO] [LastChance] Threat detected: @Area2D@3267
[01:50:59] [INFO] [LastChance] Not in hard mode - effect disabled
[01:50:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:50:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(601.2003, 1192.723), shooter_id=2613756037839, bullet_pos=(889.7838, 1548.797)
[01:50:59] [INFO] [Bullet] Using shooter_position, distance=458.332977294922
[01:50:59] [INFO] [Bullet] Distance to wall: 458.332977294922 (31.2087352240403% of viewport)
[01:50:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:50:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(614.75, 1190.569), source=ENEMY (Enemy4), range=1469, listeners=9
[01:50:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[01:51:00] [INFO] [LastChance] Threat detected: @Area2D@3269
[01:51:00] [INFO] [LastChance] Not in hard mode - effect disabled
[01:51:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:51:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(628.4263, 1219.17), shooter_id=2613756037839, bullet_pos=(908.1876, 1527.949)
[01:51:00] [INFO] [Bullet] Using shooter_position, distance=416.666595458984
[01:51:00] [INFO] [Bullet] Distance to wall: 416.666595458984 (28.3715946671111% of viewport)
[01:51:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:51:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(638.826, 1211.639), source=ENEMY (Enemy4), range=1469, listeners=9
[01:51:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[01:51:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(658.9348, 1242.459), shooter_id=2613756037839, bullet_pos=(902.6628, 1469.853)
[01:51:00] [INFO] [Bullet] Using shooter_position, distance=333.333435058594
[01:51:00] [INFO] [Bullet] Distance to wall: 333.333435058594 (22.6972865392785% of viewport)
[01:51:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:51:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(576.7877, 1164.168), shooter_id=2613756037839, bullet_pos=(608.828, 2079.858)
[01:51:00] [INFO] [Bullet] Using shooter_position, distance=916.250305175781
[01:51:00] [INFO] [Bullet] Distance to wall: 916.250305175781 (62.3891681151651% of viewport)
[01:51:00] [INFO] [Bullet] Distance-based penetration chance: 73.8793038656407%
[01:51:00] [INFO] [Bullet] Starting wall penetration at (608.828, 2079.858)
[01:51:00] [INFO] [LastChance] Threat detected: @Area2D@3270
[01:51:00] [INFO] [LastChance] Not in hard mode - effect disabled
[01:51:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:51:00] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21.4728717803955
[01:51:00] [INFO] [Bullet] Body exited signal received for penetrating body
[01:51:00] [INFO] [Bullet] Exiting penetration at (587.6743, 2114.297) after traveling 35.4166717529297 pixels through wall
[01:51:00] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[01:51:00] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[01:51:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(601.2003, 1192.723), shooter_id=2613756037839, bullet_pos=(524.1251, 1891.037)
[01:51:00] [INFO] [Bullet] Using shooter_position, distance=702.554626464844
[01:51:00] [INFO] [Bullet] Distance to wall: 702.554626464844 (47.8382364000338% of viewport)
[01:51:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(687.4422, 1259.374), shooter_id=2613756037839, bullet_pos=(884.7061, 1412.954)
[01:51:00] [INFO] [Bullet] Using shooter_position, distance=249.999862670898
[01:51:00] [INFO] [Bullet] Distance to wall: 249.999862670898 (17.0229503584728% of viewport)
[01:51:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:51:00] [INFO] [Bullet] Starting wall penetration at (884.7061, 1412.954)
[01:51:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(638.826, 1211.639), source=ENEMY (Enemy4), range=1469, listeners=9
[01:51:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[01:51:00] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12.0760583877563
[01:51:00] [INFO] [Bullet] Body exited signal received for penetrating body
[01:51:00] [INFO] [Bullet] Exiting penetration at (921.5287, 1441.622) after traveling 41.6666679382324 pixels through wall
[01:51:00] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:51:00] [INFO] [LastChance] Threat detected: Bullet
[01:51:00] [INFO] [LastChance] Not in hard mode - effect disabled
[01:51:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:51:00] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[01:51:00] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[01:51:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(601.2003, 1192.723), shooter_id=2613756037839, bullet_pos=(690.9338, 2071.616)
[01:51:00] [INFO] [Bullet] Using shooter_position, distance=883.462158203125
[01:51:00] [INFO] [Bullet] Distance to wall: 883.462158203125 (60.1565628957111% of viewport)
[01:51:00] [INFO] [Bullet] Distance-based penetration chance: 76.4840099550037%
[01:51:00] [INFO] [Bullet] Starting wall penetration at (690.9338, 2071.616)
[01:51:00] [INFO] [Bullet] Raycast backward hit penetrating body at distance 1.90909802913666
[01:51:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(638.826, 1211.639), source=ENEMY (Enemy4), range=1469, listeners=9
[01:51:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[01:51:00] [INFO] [Bullet] Max penetration distance exceeded: 60.2083396911621 >= 48
[01:51:00] [INFO] [Bullet] Body exited signal received for penetrating body
[01:51:00] [INFO] [Bullet] Exiting penetration at (735.1805, 2119.516) after traveling 60.2083396911621 pixels through wall
[01:51:00] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[01:51:00] [INFO] [LastChance] Threat detected: Bullet
[01:51:00] [INFO] [LastChance] Not in hard mode - effect disabled
[01:51:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:51:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(628.4263, 1219.17), shooter_id=2613756037839, bullet_pos=(461.7391, 2084.302)
[01:51:00] [INFO] [Bullet] Using shooter_position, distance=881.044006347656
[01:51:00] [INFO] [Bullet] Distance to wall: 881.044006347656 (59.9919064892831% of viewport)
[01:51:00] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[01:51:00] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[01:51:00] [INFO] [PenultimateHit] Starting penultimate hit effect:
[01:51:00] [INFO] [PenultimateHit]   - Time scale: 0.10
[01:51:00] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[01:51:00] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[01:51:00] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[01:51:00] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[01:51:00] [INFO] [PenultimateHit] Applying saturation to 9 enemies
[01:51:00] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[01:51:00] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[01:51:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(658.9348, 1242.459), shooter_id=2613756037839, bullet_pos=(506.2414, 1881.742)
[01:51:00] [INFO] [Bullet] Using shooter_position, distance=657.265747070313
[01:51:00] [INFO] [Bullet] Distance to wall: 657.265747070313 (44.7544333231544% of viewport)
[01:51:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(638.826, 1211.639), source=ENEMY (Enemy4), range=1469, listeners=9
[01:51:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[01:51:00] [INFO] [LastChance] Threat detected: Bullet
[01:51:00] [INFO] [LastChance] Not in hard mode - effect disabled
[01:51:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:51:01] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:51:01] [INFO] [PenultimateHit] Ending penultimate hit effect
[01:51:01] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[01:51:01] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:51:01] [ENEMY] [Enemy1] Death animation component initialized
[01:51:01] [ENEMY] [Enemy2] Death animation component initialized
[01:51:01] [ENEMY] [Enemy3] Death animation component initialized
[01:51:01] [ENEMY] [Enemy4] Death animation component initialized
[01:51:01] [ENEMY] [Enemy5] Death animation component initialized
[01:51:01] [ENEMY] [Enemy6] Death animation component initialized
[01:51:01] [ENEMY] [Enemy7] Death animation component initialized
[01:51:01] [ENEMY] [Enemy8] Death animation component initialized
[01:51:01] [ENEMY] [Enemy9] Death animation component initialized
[01:51:01] [ENEMY] [Enemy10] Death animation component initialized
[01:51:01] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:51:01] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:51:01] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:51:01] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:51:01] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:51:01] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:51:01] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:51:01] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[01:51:01] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:51:01] [INFO] [ScoreManager] Level started with 10 enemies
[01:51:01] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[01:51:01] [ENEMY] [Enemy1] Registered as sound listener
[01:51:01] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[01:51:01] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[01:51:01] [ENEMY] [Enemy2] Registered as sound listener
[01:51:01] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[01:51:01] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[01:51:01] [ENEMY] [Enemy3] Registered as sound listener
[01:51:01] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[01:51:01] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[01:51:01] [ENEMY] [Enemy4] Registered as sound listener
[01:51:01] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[01:51:01] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[01:51:01] [ENEMY] [Enemy5] Registered as sound listener
[01:51:01] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[01:51:01] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[01:51:01] [ENEMY] [Enemy6] Registered as sound listener
[01:51:01] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[01:51:01] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[01:51:01] [ENEMY] [Enemy7] Registered as sound listener
[01:51:01] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[01:51:01] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[01:51:01] [ENEMY] [Enemy8] Registered as sound listener
[01:51:01] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[01:51:01] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[01:51:01] [ENEMY] [Enemy9] Registered as sound listener
[01:51:01] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[01:51:01] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[01:51:01] [ENEMY] [Enemy10] Registered as sound listener
[01:51:01] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[01:51:01] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:51:01] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:51:01] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:51:01] [INFO] [LastChance] Found player: Player
[01:51:01] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:51:01] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:51:01] [INFO] [LastChance] Connected to player Died signal (C#)
[01:51:01] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:51:01] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:51:01] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:51:01] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[01:51:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[01:51:01] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[01:51:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:51:02] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[01:51:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=3086370212329, bullet_pos=(41.69983, 702.3934)
[01:51:02] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[01:51:02] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[01:51:02] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[01:51:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=3086370212329, bullet_pos=(307.8404, 461.2093)
[01:51:02] [INFO] [Bullet] Using shooter_position, distance=1194.71594238281
[01:51:02] [INFO] [Bullet] Distance to wall: 1194.71594238281 (81.350405405747% of viewport)
[01:51:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(477.91, 782.2275), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:51:02] [ENEMY] [Enemy1] Heard gunshot at (477.91, 782.2275), source_type=0, intensity=0.01, distance=467
[01:51:02] [ENEMY] [Enemy2] Heard gunshot at (477.91, 782.2275), source_type=0, intensity=0.04, distance=245
[01:51:02] [ENEMY] [Enemy4] Heard gunshot at (477.91, 782.2275), source_type=0, intensity=0.02, distance=343
[01:51:02] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:51:02] [ENEMY] [Enemy2] Hit taken, health: 2/3
[01:51:02] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:51:02] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(0.622865, 0.782329), lethal=false
[01:51:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:51:02] [INFO] [ImpactEffects] _spawn_blood_decal called at (400, 550), intensity=0.5
[01:51:02] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:51:02] [INFO] [ImpactEffects] Blood decal spawned at (410.6759, 563.4091) (total: 42)
[01:51:02] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[01:51:02] [ENEMY] [Enemy3] Hit taken, health: 3/4
[01:51:02] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:51:02] [INFO] [ImpactEffects] spawn_blood_effect called at (689.6893, 752.7327), dir=(1, 0), lethal=false
[01:51:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:51:02] [INFO] [ImpactEffects] _spawn_blood_decal called at (689.6893, 752.7327), intensity=0.5
[01:51:02] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:51:02] [INFO] [ImpactEffects] Blood decal spawned at (702.0383, 752.7327) (total: 43)
[01:51:02] [INFO] [ImpactEffects] Blood effect spawned at (689.6893, 752.7327) (scale=1)
[01:51:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(504.6138, 759.0601), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:51:02] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:51:02] [ENEMY] [Enemy3] Hit taken, health: 2/4
[01:51:02] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:51:02] [INFO] [ImpactEffects] spawn_blood_effect called at (689.6893, 752.7327), dir=(1, 0), lethal=false
[01:51:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:51:02] [INFO] [ImpactEffects] _spawn_blood_decal called at (689.6893, 752.7327), intensity=0.5
[01:51:02] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:51:02] [INFO] [ImpactEffects] Blood decal spawned at (706.3951, 752.7327) (total: 44)
[01:51:02] [INFO] [ImpactEffects] Blood effect spawned at (689.6893, 752.7327) (scale=1)
[01:51:02] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[01:51:02] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[01:51:02] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[01:51:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(535.0076, 748.3962), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:51:02] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[01:51:02] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[01:51:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[01:51:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[01:51:02] [ENEMY] [Enemy3] Hit taken, health: 1/4
[01:51:02] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:51:02] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3047, 754.8311), dir=(1, 0), lethal=false
[01:51:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:51:02] [INFO] [ImpactEffects] _spawn_blood_decal called at (689.3047, 754.8311), intensity=0.5
[01:51:02] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:51:02] [INFO] [ImpactEffects] Blood decal spawned at (709.2542, 754.8311) (total: 45)
[01:51:02] [INFO] [ImpactEffects] Blood effect spawned at (689.3047, 754.8311) (scale=1)
[01:51:02] [INFO] [LastChance] Threat detected: @Area2D@3538
[01:51:02] [INFO] [LastChance] Not in hard mode - effect disabled
[01:51:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:51:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(688.1508, 761.1262), source=ENEMY (Enemy3), range=1469, listeners=10
[01:51:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:51:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(564.513, 750.9263), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:51:03] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[01:51:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[01:51:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[01:51:03] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[01:51:03] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[01:51:03] [INFO] [PenultimateHit] Starting penultimate hit effect:
[01:51:03] [INFO] [PenultimateHit]   - Time scale: 0.10
[01:51:03] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[01:51:03] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[01:51:03] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[01:51:03] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[01:51:03] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[01:51:03] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[01:51:03] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[01:51:03] [ENEMY] [Enemy3] Hit taken, health: 0/4
[01:51:03] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:51:03] [INFO] [ImpactEffects] spawn_blood_effect called at (686.6122, 769.5198), dir=(1, 0), lethal=true
[01:51:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:51:03] [INFO] [ImpactEffects] _spawn_blood_decal called at (686.6122, 769.5198), intensity=1.5
[01:51:03] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:51:03] [INFO] [ImpactEffects] Blood decal spawned at (712.2015, 769.5198) (total: 46)
[01:51:03] [INFO] [ImpactEffects] Blood effect spawned at (686.6122, 769.5198) (scale=1.5)
[01:51:03] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[01:51:03] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:51:03] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[01:51:03] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:51:03] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[01:51:03] [INFO] [LastChance] Threat detected: @Area2D@3543
[01:51:03] [INFO] [LastChance] Not in hard mode - effect disabled
[01:51:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:51:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[01:51:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[01:51:03] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[01:51:03] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[01:51:03] [INFO] [PenultimateHit] Player died - ending penultimate effect
[01:51:03] [INFO] [PenultimateHit] Ending penultimate hit effect
[01:51:03] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[01:51:03] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[01:51:03] [INFO] [LastChance] Player died
[01:51:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[01:51:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[01:51:03] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[01:51:03] [INFO] [LastChance] Threat detected: @Area2D@3547
[01:51:03] [INFO] [LastChance] Not in hard mode - effect disabled
[01:51:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:51:03] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[01:51:03] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[01:51:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(620.1158, 759.7708), shooter_id=3084373723029, bullet_pos=(60.95506, 820.9738)
[01:51:03] [INFO] [Bullet] Using shooter_position, distance=562.500244140625
[01:51:03] [INFO] [Bullet] Distance to wall: 562.500244140625 (38.3016759702778% of viewport)
[01:51:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:51:03] [INFO] [Bullet] Starting wall penetration at (60.95506, 820.9738)
[01:51:03] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.5386867523193
[01:51:03] [INFO] [Bullet] Body exited signal received for penetrating body
[01:51:03] [INFO] [Bullet] Exiting penetration at (14.56544, 826.0513) after traveling 41.6666679382324 pixels through wall
[01:51:03] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:51:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(439.4782, 605.7103), shooter_id=3084088511063, bullet_pos=(718.8825, 1020.358)
[01:51:03] [INFO] [Bullet] Using shooter_position, distance=499.999725341797
[01:51:03] [INFO] [Bullet] Distance to wall: 499.999725341797 (34.0459007169456% of viewport)
[01:51:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:51:03] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[01:51:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(439.6383, 605.3619), shooter_id=3084088511063, bullet_pos=(725.3781, 1015.67)
[01:51:03] [INFO] [Bullet] Using shooter_position, distance=499.999816894531
[01:51:03] [INFO] [Bullet] Distance to wall: 499.999816894531 (34.0459069509396% of viewport)
[01:51:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:51:03] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[01:51:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(439.4782, 605.7103), shooter_id=3084088511063, bullet_pos=(917.7611, 764.8953)
[01:51:03] [INFO] [Bullet] Using shooter_position, distance=504.077728271484
[01:51:03] [INFO] [Bullet] Distance to wall: 504.077728271484 (34.3235794352142% of viewport)
[01:51:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:51:03] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[01:51:04] [ENEMY] [Enemy3] Ragdoll activated
[01:51:04] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:51:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(439.6383, 605.3619), shooter_id=3084088511063, bullet_pos=(912.4733, 628.5067)
[01:51:04] [INFO] [Bullet] Using shooter_position, distance=473.401184082031
[01:51:04] [INFO] [Bullet] Distance to wall: 473.401184082031 (32.2347571321636% of viewport)
[01:51:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:51:04] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:51:04] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:51:04] [ENEMY] [Enemy1] Death animation component initialized
[01:51:04] [ENEMY] [Enemy2] Death animation component initialized
[01:51:04] [ENEMY] [Enemy3] Death animation component initialized
[01:51:04] [ENEMY] [Enemy4] Death animation component initialized
[01:51:04] [ENEMY] [Enemy5] Death animation component initialized
[01:51:04] [ENEMY] [Enemy6] Death animation component initialized
[01:51:04] [ENEMY] [Enemy7] Death animation component initialized
[01:51:04] [ENEMY] [Enemy8] Death animation component initialized
[01:51:04] [ENEMY] [Enemy9] Death animation component initialized
[01:51:04] [ENEMY] [Enemy10] Death animation component initialized
[01:51:04] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:51:04] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:51:04] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:51:04] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:51:04] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:51:04] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:51:04] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:51:04] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[01:51:04] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:51:04] [INFO] [ScoreManager] Level started with 10 enemies
[01:51:04] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[01:51:04] [ENEMY] [Enemy1] Registered as sound listener
[01:51:04] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[01:51:04] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[01:51:04] [ENEMY] [Enemy2] Registered as sound listener
[01:51:04] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[01:51:04] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[01:51:04] [ENEMY] [Enemy3] Registered as sound listener
[01:51:04] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[01:51:04] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[01:51:04] [ENEMY] [Enemy4] Registered as sound listener
[01:51:04] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[01:51:04] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[01:51:04] [ENEMY] [Enemy5] Registered as sound listener
[01:51:04] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[01:51:04] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[01:51:04] [ENEMY] [Enemy6] Registered as sound listener
[01:51:04] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[01:51:04] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[01:51:04] [ENEMY] [Enemy7] Registered as sound listener
[01:51:04] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[01:51:04] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[01:51:04] [ENEMY] [Enemy8] Registered as sound listener
[01:51:04] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[01:51:04] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[01:51:04] [ENEMY] [Enemy9] Registered as sound listener
[01:51:04] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[01:51:04] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[01:51:04] [ENEMY] [Enemy10] Registered as sound listener
[01:51:04] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[01:51:04] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:51:04] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:51:04] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:51:04] [INFO] [LastChance] Found player: Player
[01:51:04] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:51:04] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:51:04] [INFO] [LastChance] Connected to player Died signal (C#)
[01:51:04] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:51:04] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:51:04] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:51:05] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[01:51:06] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[01:51:06] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[01:51:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 784.9999), source=PLAYER (AssaultRifle), range=1469, listeners=19
[01:51:06] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[01:51:06] [ENEMY] [Enemy1] Heard gunshot at (450, 784.9999), source_type=0, intensity=0.01, distance=460
[01:51:06] [ENEMY] [Enemy2] Heard gunshot at (450, 784.9999), source_type=0, intensity=0.04, distance=240
[01:51:06] [ENEMY] [Enemy4] Heard gunshot at (450, 784.9999), source_type=0, intensity=0.02, distance=368
[01:51:06] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:51:06] [ENEMY] [Enemy3] Hit taken, health: 1/2
[01:51:06] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:51:06] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4969, 753.9532), dir=(1, 0), lethal=false
[01:51:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:51:06] [INFO] [ImpactEffects] _spawn_blood_decal called at (684.4969, 753.9532), intensity=0.5
[01:51:06] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:51:06] [INFO] [ImpactEffects] Blood decal spawned at (697.5504, 753.9532) (total: 47)
[01:51:06] [INFO] [ImpactEffects] Blood effect spawned at (684.4969, 753.9532) (scale=1)
[01:51:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(456.6436, 753.1748), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:51:06] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:51:07] [ENEMY] [Enemy3] Hit taken, health: 0/2
[01:51:07] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:51:07] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4969, 753.9532), dir=(1, 0), lethal=true
[01:51:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:51:07] [INFO] [ImpactEffects] _spawn_blood_decal called at (684.4969, 753.9532), intensity=1.5
[01:51:07] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:51:07] [INFO] [ImpactEffects] Blood decal spawned at (697.8125, 753.9532) (total: 48)
[01:51:07] [INFO] [ImpactEffects] Blood effect spawned at (684.4969, 753.9532) (scale=1.5)
[01:51:07] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[01:51:07] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:51:07] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[01:51:07] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:51:07] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[01:51:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(471.8993, 734.0665), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:51:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[01:51:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(491.5523, 741.4252), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:51:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[01:51:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(471.8993, 734.0665), shooter_id=3282915298352, bullet_pos=(930.0133, 748.2353)
[01:51:07] [INFO] [Bullet] Using shooter_position, distance=458,33307
[01:51:07] [INFO] [Bullet] Distance to wall: 458,33307 (31,208742% of viewport)
[01:51:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:51:07] [INFO] [Bullet] Starting wall penetration at (930.0133, 748.2353)
[01:51:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32,343765
[01:51:07] [INFO] [Bullet] Body exited signal received for penetrating body
[01:51:07] [INFO] [Bullet] Exiting penetration at (968.3283, 749.4203) after traveling 33,333336 pixels through wall
[01:51:07] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:51:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(512.7284, 761.0068), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:51:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[01:51:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(491.55228, 741.42523), shooter_id=3282915298352, bullet_pos=(916.24, 757.70746)
[01:51:07] [INFO] [Bullet] Using shooter_position, distance=424,99973
[01:51:07] [INFO] [Bullet] Distance to wall: 424,99973 (28,939014% of viewport)
[01:51:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:51:07] [INFO] [Bullet] Starting wall penetration at (916.24, 757.70746)
[01:51:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,55879
[01:51:07] [INFO] [Bullet] Body exited signal received for penetrating body
[01:51:07] [INFO] [Bullet] Exiting penetration at (954.54517, 759.176) after traveling 33,333336 pixels through wall
[01:51:07] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:51:07] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[01:51:07] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[01:51:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(712.3702, 914.0651), source=ENEMY (Enemy4), range=1469, listeners=9
[01:51:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[01:51:07] [INFO] [LastChance] Threat detected: @Area2D@3824
[01:51:07] [INFO] [LastChance] Not in hard mode - effect disabled
[01:51:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:51:07] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[01:51:07] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[01:51:07] [INFO] [PenultimateHit] Starting penultimate hit effect:
[01:51:07] [INFO] [PenultimateHit]   - Time scale: 0.10
[01:51:07] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[01:51:07] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[01:51:07] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[01:51:07] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[01:51:07] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[01:51:07] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[01:51:07] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[01:51:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(512.7284, 761.00684), shooter_id=3282915298352, bullet_pos=(936.09155, 798.2724)
[01:51:07] [INFO] [Bullet] Using shooter_position, distance=425,0001
[01:51:07] [INFO] [Bullet] Distance to wall: 425,0001 (28,93904% of viewport)
[01:51:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:51:07] [INFO] [Bullet] Starting wall penetration at (936.09155, 798.2724)
[01:51:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9,258561
[01:51:07] [INFO] [Bullet] Body exited signal received for penetrating body
[01:51:07] [INFO] [Bullet] Exiting penetration at (945.2229, 799.0762) after traveling 4,166667 pixels through wall
[01:51:07] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:51:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(712.3702, 914.0651), source=ENEMY (Enemy4), range=1469, listeners=9
[01:51:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[01:51:07] [INFO] [LastChance] Threat detected: Bullet
[01:51:07] [INFO] [LastChance] Not in hard mode - effect disabled
[01:51:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:51:08] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[01:51:08] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[01:51:08] [INFO] [PenultimateHit] Player died - ending penultimate effect
[01:51:08] [INFO] [PenultimateHit] Ending penultimate hit effect
[01:51:08] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[01:51:08] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[01:51:08] [INFO] [LastChance] Player died
[01:51:08] [ENEMY] [Enemy3] Ragdoll activated
[01:51:08] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:51:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(712.3702, 914.0651), source=ENEMY (Enemy4), range=1469, listeners=9
[01:51:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[01:51:08] [INFO] [LastChance] Threat detected: Bullet
[01:51:08] [INFO] [LastChance] Not in hard mode - effect disabled
[01:51:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:51:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(712.3702, 914.0651), source=ENEMY (Enemy4), range=1469, listeners=9
[01:51:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[01:51:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(652.7253, 881.2998), shooter_id=3280381938774, bullet_pos=(414.8714, 712.4953)
[01:51:08] [INFO] [Bullet] Using shooter_position, distance=291.666656494141
[01:51:08] [INFO] [Bullet] Distance to wall: 291.666656494141 (19.8601189683752% of viewport)
[01:51:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:51:08] [INFO] [LastChance] Threat detected: @Area2D@3837
[01:51:08] [INFO] [LastChance] Not in hard mode - effect disabled
[01:51:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:51:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(712.3702, 914.0651), source=ENEMY (Enemy4), range=1469, listeners=9
[01:51:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[01:51:08] [INFO] [LastChance] Threat detected: @Area2D@3839
[01:51:08] [INFO] [LastChance] Not in hard mode - effect disabled
[01:51:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:51:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(652.7253, 881.2998), shooter_id=3280381938774, bullet_pos=(57.91018, 952.2428)
[01:51:08] [INFO] [Bullet] Using shooter_position, distance=599.030822753906
[01:51:08] [INFO] [Bullet] Distance to wall: 599.030822753906 (40.7891102418669% of viewport)
[01:51:08] [INFO] [Bullet] Distance-based penetration chance: 99.0793713844886%
[01:51:08] [INFO] [Bullet] Starting wall penetration at (57.91018, 952.2428)
[01:51:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9.20492076873779
[01:51:08] [INFO] [Bullet] Body exited signal received for penetrating body
[01:51:08] [INFO] [Bullet] Exiting penetration at (24.35859, 974.7772) after traveling 35.4166679382324 pixels through wall
[01:51:08] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[01:51:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(712.3702, 914.0651), source=ENEMY (Enemy4), range=1469, listeners=9
[01:51:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[01:51:08] [INFO] [LastChance] Threat detected: @Area2D@3841
[01:51:08] [INFO] [LastChance] Not in hard mode - effect disabled
[01:51:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:51:08] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:51:08] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:51:08] [ENEMY] [Enemy1] Death animation component initialized
[01:51:08] [ENEMY] [Enemy2] Death animation component initialized
[01:51:08] [ENEMY] [Enemy3] Death animation component initialized
[01:51:08] [ENEMY] [Enemy4] Death animation component initialized
[01:51:08] [ENEMY] [Enemy5] Death animation component initialized
[01:51:08] [ENEMY] [Enemy6] Death animation component initialized
[01:51:08] [ENEMY] [Enemy7] Death animation component initialized
[01:51:08] [ENEMY] [Enemy8] Death animation component initialized
[01:51:08] [ENEMY] [Enemy9] Death animation component initialized
[01:51:08] [ENEMY] [Enemy10] Death animation component initialized
[01:51:08] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:51:08] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:51:08] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:51:08] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:51:08] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:51:08] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:51:08] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:51:08] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[01:51:08] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:51:08] [INFO] [ScoreManager] Level started with 10 enemies
[01:51:08] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[01:51:08] [ENEMY] [Enemy1] Registered as sound listener
[01:51:08] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[01:51:08] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[01:51:08] [ENEMY] [Enemy2] Registered as sound listener
[01:51:08] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[01:51:08] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[01:51:08] [ENEMY] [Enemy3] Registered as sound listener
[01:51:08] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[01:51:08] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[01:51:08] [ENEMY] [Enemy4] Registered as sound listener
[01:51:08] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[01:51:08] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[01:51:08] [ENEMY] [Enemy5] Registered as sound listener
[01:51:08] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[01:51:08] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[01:51:08] [ENEMY] [Enemy6] Registered as sound listener
[01:51:08] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[01:51:08] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[01:51:08] [ENEMY] [Enemy7] Registered as sound listener
[01:51:08] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[01:51:08] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[01:51:08] [ENEMY] [Enemy8] Registered as sound listener
[01:51:08] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[01:51:08] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[01:51:08] [ENEMY] [Enemy9] Registered as sound listener
[01:51:08] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[01:51:08] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[01:51:08] [ENEMY] [Enemy10] Registered as sound listener
[01:51:08] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[01:51:08] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:51:08] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:51:08] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:51:08] [INFO] [LastChance] Found player: Player
[01:51:08] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:51:08] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:51:08] [INFO] [LastChance] Connected to player Died signal (C#)
[01:51:08] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:51:08] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:51:08] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:51:10] [INFO] ------------------------------------------------------------
[01:51:10] [INFO] GAME LOG ENDED: 2026-01-24T01:51:10
[01:51:10] [INFO] ============================================================
