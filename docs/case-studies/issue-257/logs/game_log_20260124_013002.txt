[01:30:02] [INFO] ============================================================
[01:30:02] [INFO] GAME LOG STARTED
[01:30:02] [INFO] ============================================================
[01:30:02] [INFO] Timestamp: 2026-01-24T01:30:02
[01:30:02] [INFO] Log file: I:/Загрузки/godot exe/game_log_20260124_013002.txt
[01:30:02] [INFO] Executable: I:/Загрузки/godot exe/Godot-Top-Down-Template.exe
[01:30:02] [INFO] OS: Windows
[01:30:02] [INFO] Debug build: false
[01:30:02] [INFO] Engine version: 4.3-stable (official)
[01:30:02] [INFO] Project: Godot Top-Down Template
[01:30:02] [INFO] ------------------------------------------------------------
[01:30:02] [INFO] [GameManager] GameManager ready
[01:30:02] [INFO] [ScoreManager] ScoreManager ready
[01:30:02] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[01:30:02] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[01:30:02] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[01:30:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:30:02] [INFO] [PenultimateHit] Saturation shader loaded successfully
[01:30:02] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[01:30:02] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[01:30:02] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[01:30:02] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[01:30:02] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[01:30:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:30:02] [INFO] [LastChance] Last chance shader loaded successfully
[01:30:02] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[01:30:02] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[01:30:02] [INFO] [LastChance]   Sepia intensity: 0.70
[01:30:02] [INFO] [LastChance]   Brightness: 0.60
[01:30:02] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[01:30:02] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[01:30:02] [ENEMY] [Enemy1] Death animation component initialized
[01:30:02] [ENEMY] [Enemy2] Death animation component initialized
[01:30:02] [ENEMY] [Enemy3] Death animation component initialized
[01:30:02] [ENEMY] [Enemy4] Death animation component initialized
[01:30:02] [ENEMY] [Enemy5] Death animation component initialized
[01:30:02] [ENEMY] [Enemy6] Death animation component initialized
[01:30:02] [ENEMY] [Enemy7] Death animation component initialized
[01:30:02] [ENEMY] [Enemy8] Death animation component initialized
[01:30:02] [ENEMY] [Enemy9] Death animation component initialized
[01:30:02] [ENEMY] [Enemy10] Death animation component initialized
[01:30:02] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:30:02] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:30:02] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:30:02] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:30:02] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:30:02] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:30:02] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:30:02] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[01:30:02] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:30:02] [INFO] [ScoreManager] Level started with 10 enemies
[01:30:02] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[01:30:02] [ENEMY] [Enemy1] Registered as sound listener
[01:30:02] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[01:30:02] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[01:30:02] [ENEMY] [Enemy2] Registered as sound listener
[01:30:02] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[01:30:02] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[01:30:02] [ENEMY] [Enemy3] Registered as sound listener
[01:30:02] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[01:30:02] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[01:30:02] [ENEMY] [Enemy4] Registered as sound listener
[01:30:02] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[01:30:02] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[01:30:02] [ENEMY] [Enemy5] Registered as sound listener
[01:30:02] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[01:30:02] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[01:30:02] [ENEMY] [Enemy6] Registered as sound listener
[01:30:02] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[01:30:02] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[01:30:02] [ENEMY] [Enemy7] Registered as sound listener
[01:30:02] [ENEMY] [Enemy7] Enemy spawned at (1606.114, 893.8859), health: 4, behavior: PATROL, player_found: yes
[01:30:02] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[01:30:02] [ENEMY] [Enemy8] Registered as sound listener
[01:30:02] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[01:30:02] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[01:30:02] [ENEMY] [Enemy9] Registered as sound listener
[01:30:02] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[01:30:02] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[01:30:02] [ENEMY] [Enemy10] Registered as sound listener
[01:30:02] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[01:30:02] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:30:02] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:30:02] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:30:02] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:30:02] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:30:02] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:30:02] [INFO] [LastChance] Found player: Player
[01:30:02] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:30:02] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:30:02] [INFO] [LastChance] Connected to player Died signal (C#)
[01:30:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:05] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[01:30:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[01:30:06] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:30:06] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:30:06] [ENEMY] [Enemy1] Death animation component initialized
[01:30:06] [ENEMY] [Enemy2] Death animation component initialized
[01:30:06] [ENEMY] [Enemy3] Death animation component initialized
[01:30:06] [ENEMY] [Enemy4] Death animation component initialized
[01:30:06] [ENEMY] [Enemy5] Death animation component initialized
[01:30:06] [ENEMY] [Enemy6] Death animation component initialized
[01:30:06] [ENEMY] [Enemy7] Death animation component initialized
[01:30:06] [ENEMY] [Enemy8] Death animation component initialized
[01:30:06] [ENEMY] [Enemy9] Death animation component initialized
[01:30:06] [ENEMY] [Enemy10] Death animation component initialized
[01:30:06] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:30:06] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:30:06] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:30:06] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:30:06] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:30:06] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:30:06] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:30:06] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[01:30:06] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:30:06] [INFO] [ScoreManager] Level started with 10 enemies
[01:30:06] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[01:30:06] [ENEMY] [Enemy1] Registered as sound listener
[01:30:06] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[01:30:06] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[01:30:06] [ENEMY] [Enemy2] Registered as sound listener
[01:30:06] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[01:30:06] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[01:30:06] [ENEMY] [Enemy3] Registered as sound listener
[01:30:06] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[01:30:06] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[01:30:06] [ENEMY] [Enemy4] Registered as sound listener
[01:30:06] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[01:30:06] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[01:30:06] [ENEMY] [Enemy5] Registered as sound listener
[01:30:06] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[01:30:06] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[01:30:06] [ENEMY] [Enemy6] Registered as sound listener
[01:30:06] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[01:30:06] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[01:30:06] [ENEMY] [Enemy7] Registered as sound listener
[01:30:06] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[01:30:06] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[01:30:06] [ENEMY] [Enemy8] Registered as sound listener
[01:30:06] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[01:30:06] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[01:30:06] [ENEMY] [Enemy9] Registered as sound listener
[01:30:06] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[01:30:06] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[01:30:06] [ENEMY] [Enemy10] Registered as sound listener
[01:30:06] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[01:30:06] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:30:06] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:30:06] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:30:06] [INFO] [LastChance] Found player: Player
[01:30:06] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:30:06] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:30:06] [INFO] [LastChance] Connected to player Died signal (C#)
[01:30:06] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:30:06] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:30:06] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:30:06] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[01:30:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[01:30:07] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[01:30:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:30:07] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[01:30:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=235619224187, bullet_pos=(41.69983, 702.3934)
[01:30:07] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[01:30:07] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[01:30:07] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[01:30:07] [INFO] [Bullet] Penetration failed (distance roll)
[01:30:07] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[01:30:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 761.9444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:07] [ENEMY] [Enemy1] Heard gunshot at (450, 761.9444), source_type=0, intensity=0.01, distance=438
[01:30:07] [ENEMY] [Enemy2] Heard gunshot at (450, 761.9444), source_type=0, intensity=0.05, distance=218
[01:30:07] [ENEMY] [Enemy4] Heard gunshot at (450, 761.9444), source_type=0, intensity=0.02, distance=376
[01:30:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:30:07] [ENEMY] [Enemy3] Hit taken, health: 3/4
[01:30:07] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:07] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[01:30:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:07] [INFO] [ImpactEffects] _spawn_blood_decal called at (684.4485, 753.7583), intensity=0.5
[01:30:07] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:07] [INFO] [ImpactEffects] Blood decal spawned at (701.1605, 753.7583) (total: 1)
[01:30:07] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[01:30:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 746.4443), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:30:08] [ENEMY] [Enemy3] Hit taken, health: 2/4
[01:30:08] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:08] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[01:30:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:08] [INFO] [ImpactEffects] _spawn_blood_decal called at (684.4485, 753.7583), intensity=0.5
[01:30:08] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:08] [INFO] [ImpactEffects] Blood decal spawned at (711.5646, 753.7583) (total: 2)
[01:30:08] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[01:30:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 740.7555), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:08] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:30:08] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[01:30:08] [ENEMY] [Enemy3] Hit taken, health: 1/4
[01:30:08] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:08] [INFO] [ImpactEffects] spawn_blood_effect called at (681.5601, 756.8986), dir=(1, 0), lethal=false
[01:30:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:08] [INFO] [ImpactEffects] _spawn_blood_decal called at (681.5601, 756.8986), intensity=0.5
[01:30:08] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:08] [INFO] [ImpactEffects] Blood decal spawned at (700.8606, 756.8986) (total: 3)
[01:30:08] [INFO] [ImpactEffects] Blood effect spawned at (681.5601, 756.8986) (scale=1)
[01:30:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(678.6716, 760.0388), source=ENEMY (Enemy3), range=1469, listeners=10
[01:30:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:30:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 740.7555), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:08] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:30:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(671.4506, 767.8895), source=ENEMY (Enemy3), range=1469, listeners=10
[01:30:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:30:08] [INFO] [LastChance] Threat detected: @Area2D@547
[01:30:08] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:08] [ENEMY] [Enemy3] Hit taken, health: 0/4
[01:30:08] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:08] [INFO] [ImpactEffects] spawn_blood_effect called at (668.5621, 771.0298), dir=(1, 0), lethal=true
[01:30:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:08] [INFO] [ImpactEffects] _spawn_blood_decal called at (668.5621, 771.0298), intensity=1.5
[01:30:08] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:08] [INFO] [ImpactEffects] Blood decal spawned at (684.3606, 771.0298) (total: 4)
[01:30:08] [INFO] [ImpactEffects] Blood effect spawned at (668.5621, 771.0298) (scale=1.5)
[01:30:08] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[01:30:08] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:30:08] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[01:30:08] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:30:08] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[01:30:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 740.7555), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:08] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[01:30:08] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[01:30:08] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[01:30:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(698.338, 914.0654), source=ENEMY (Enemy4), range=1469, listeners=9
[01:30:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[01:30:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(610.6239, 760.3625), shooter_id=233622735364, bullet_pos=(44.90813, 793.1797)
[01:30:08] [INFO] [Bullet] Using shooter_position, distance=566.666809082031
[01:30:08] [INFO] [Bullet] Distance to wall: 566.666809082031 (38.5853850387754% of viewport)
[01:30:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:08] [INFO] [Bullet] Starting wall penetration at (44.90813, 793.1797)
[01:30:08] [INFO] [LastChance] Threat detected: @Area2D@552
[01:30:08] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25.403507232666
[01:30:08] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:08] [INFO] [Bullet] Exiting penetration at (6.63913, 795.3997) after traveling 33.3333358764648 pixels through wall
[01:30:08] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:30:08] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[01:30:08] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[01:30:08] [INFO] [PenultimateHit] Starting penultimate hit effect:
[01:30:08] [INFO] [PenultimateHit]   - Time scale: 0.10
[01:30:08] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[01:30:08] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[01:30:08] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[01:30:08] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[01:30:08] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[01:30:08] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[01:30:08] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[01:30:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(668.1409, 911.1855), source=ENEMY (Enemy4), range=1469, listeners=9
[01:30:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[01:30:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(603.4406, 765.6005), shooter_id=233622735364, bullet_pos=(36.98418, 750.1641)
[01:30:08] [INFO] [Bullet] Using shooter_position, distance=566.666625976563
[01:30:08] [INFO] [Bullet] Distance to wall: 566.666625976563 (38.5853725707874% of viewport)
[01:30:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:08] [INFO] [Bullet] Starting wall penetration at (36.98418, 750.1641)
[01:30:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4.18063640594482
[01:30:08] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:08] [INFO] [Bullet] Exiting penetration at (27.82092, 749.9144) after traveling 4.16666698455811 pixels through wall
[01:30:08] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:30:08] [INFO] [LastChance] Threat detected: Bullet
[01:30:08] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(610.6535, 874.722), shooter_id=233907948053, bullet_pos=(526.4217, 806.5958)
[01:30:09] [INFO] [Bullet] Using shooter_position, distance=108.333648681641
[01:30:09] [INFO] [Bullet] Distance to wall: 108.333648681641 (7.37663734674712% of viewport)
[01:30:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:09] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:30:09] [INFO] [PenultimateHit] Ending penultimate hit effect
[01:30:09] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[01:30:09] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:30:09] [ENEMY] [Enemy1] Death animation component initialized
[01:30:09] [ENEMY] [Enemy2] Death animation component initialized
[01:30:09] [ENEMY] [Enemy3] Death animation component initialized
[01:30:09] [ENEMY] [Enemy4] Death animation component initialized
[01:30:09] [ENEMY] [Enemy5] Death animation component initialized
[01:30:09] [ENEMY] [Enemy6] Death animation component initialized
[01:30:09] [ENEMY] [Enemy7] Death animation component initialized
[01:30:09] [ENEMY] [Enemy8] Death animation component initialized
[01:30:09] [ENEMY] [Enemy9] Death animation component initialized
[01:30:09] [ENEMY] [Enemy10] Death animation component initialized
[01:30:09] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:30:09] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:30:09] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:30:09] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:30:09] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:30:09] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:30:09] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:30:09] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[01:30:09] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:30:09] [INFO] [ScoreManager] Level started with 10 enemies
[01:30:09] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[01:30:09] [ENEMY] [Enemy1] Registered as sound listener
[01:30:09] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[01:30:09] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[01:30:09] [ENEMY] [Enemy2] Registered as sound listener
[01:30:09] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[01:30:09] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[01:30:09] [ENEMY] [Enemy3] Registered as sound listener
[01:30:09] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[01:30:09] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[01:30:09] [ENEMY] [Enemy4] Registered as sound listener
[01:30:09] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[01:30:09] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[01:30:09] [ENEMY] [Enemy5] Registered as sound listener
[01:30:09] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[01:30:09] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[01:30:09] [ENEMY] [Enemy6] Registered as sound listener
[01:30:09] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[01:30:09] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[01:30:09] [ENEMY] [Enemy7] Registered as sound listener
[01:30:09] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[01:30:09] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[01:30:09] [ENEMY] [Enemy8] Registered as sound listener
[01:30:09] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[01:30:09] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[01:30:09] [ENEMY] [Enemy9] Registered as sound listener
[01:30:09] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[01:30:09] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[01:30:09] [ENEMY] [Enemy10] Registered as sound listener
[01:30:09] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[01:30:09] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:30:09] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:30:09] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:30:09] [INFO] [LastChance] Found player: Player
[01:30:09] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:30:09] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:30:09] [INFO] [LastChance] Connected to player Died signal (C#)
[01:30:09] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:30:09] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:30:09] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:30:09] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[01:30:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[01:30:10] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[01:30:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:30:10] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[01:30:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=428188109705, bullet_pos=(41.69983, 702.3934)
[01:30:10] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[01:30:10] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[01:30:10] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[01:30:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=428188109705, bullet_pos=(303.9386, 456.9724)
[01:30:10] [INFO] [Bullet] Using shooter_position, distance=1200.43420410156
[01:30:10] [INFO] [Bullet] Distance to wall: 1200.43420410156 (81.7397723611328% of viewport)
[01:30:10] [ENEMY] [Enemy2] Hit taken, health: 3/4
[01:30:10] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:10] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(0.736118, 0.676853), lethal=false
[01:30:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:10] [INFO] [ImpactEffects] _spawn_blood_decal called at (400, 550), intensity=0.5
[01:30:10] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:10] [INFO] [ImpactEffects] Blood decal spawned at (415.8924, 564.6129) (total: 5)
[01:30:10] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[01:30:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(370.9693, 786.7145), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:11] [ENEMY] [Enemy1] Heard gunshot at (370.9693, 786.7145), source_type=0, intensity=0.01, distance=442
[01:30:11] [ENEMY] [Enemy2] Heard gunshot at (370.9693, 786.7145), source_type=0, intensity=0.04, distance=238
[01:30:11] [ENEMY] [Enemy4] Heard gunshot at (370.9693, 786.7145), source_type=0, intensity=0.01, distance=444
[01:30:11] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:30:11] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[01:30:11] [ENEMY] [Enemy3] Hit taken, health: 1/2
[01:30:11] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:11] [INFO] [ImpactEffects] spawn_blood_effect called at (610.4901, 763.358), dir=(1, 0), lethal=false
[01:30:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:11] [INFO] [ImpactEffects] _spawn_blood_decal called at (610.4901, 763.358), intensity=0.5
[01:30:11] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:11] [INFO] [ImpactEffects] Blood decal spawned at (632.404, 763.358) (total: 6)
[01:30:11] [INFO] [ImpactEffects] Blood effect spawned at (610.4901, 763.358) (scale=1)
[01:30:11] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[01:30:11] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[01:30:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(354.3685, 782.9023), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:11] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:30:11] [ENEMY] [Enemy3] Hit taken, health: 0/2
[01:30:11] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:11] [INFO] [ImpactEffects] spawn_blood_effect called at (610.4901, 763.358), dir=(1, 0), lethal=true
[01:30:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:11] [INFO] [ImpactEffects] _spawn_blood_decal called at (610.4901, 763.358), intensity=1.5
[01:30:11] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:11] [INFO] [ImpactEffects] Blood decal spawned at (632.1262, 763.358) (total: 7)
[01:30:11] [INFO] [ImpactEffects] Blood effect spawned at (610.4901, 763.358) (scale=1.5)
[01:30:11] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[01:30:11] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:30:11] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[01:30:11] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:30:11] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[01:30:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(343.9346, 792.2001), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[01:30:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(338.6023, 814.1624), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[01:30:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(338.6023, 814.1624), shooter_id=429010193338, bullet_pos=(496.4972, 802.38776)
[01:30:11] [INFO] [Bullet] Using shooter_position, distance=158,33333
[01:30:11] [INFO] [Bullet] Distance to wall: 158,33333 (10,781208% of viewport)
[01:30:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:11] [INFO] [Bullet] Starting wall penetration at (496.4972, 802.38776)
[01:30:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,754143
[01:30:11] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:11] [INFO] [Bullet] Exiting penetration at (534.72437, 799.53705) after traveling 33,333336 pixels through wall
[01:30:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:30:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(337.8491, 847.4927), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[01:30:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(343.93463, 792.20013), shooter_id=429010193338, bullet_pos=(935.3886, 776.33954)
[01:30:11] [INFO] [Bullet] Using shooter_position, distance=591,6666
[01:30:11] [INFO] [Bullet] Distance to wall: 591,6666 (40,28767% of viewport)
[01:30:11] [INFO] [Bullet] Distance-based penetration chance: 99,66438%
[01:30:11] [INFO] [Bullet] Starting wall penetration at (935.3886, 776.33954)
[01:30:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,72175
[01:30:11] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:11] [INFO] [Bullet] Exiting penetration at (973.7082, 775.31195) after traveling 33,333332 pixels through wall
[01:30:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:30:11] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[01:30:11] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[01:30:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(337.84912, 847.49274), shooter_id=429010193338, bullet_pos=(694.02747, 808.2517)
[01:30:11] [INFO] [Bullet] Using shooter_position, distance=358,33347
[01:30:11] [INFO] [Bullet] Distance to wall: 358,33347 (24,399586% of viewport)
[01:30:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:11] [INFO] [Bullet] Starting wall penetration at (694.02747, 808.2517)
[01:30:11] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[01:30:11] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:30:11] [INFO] [Bullet] Exiting penetration at (732.13025, 804.05383) after traveling 33,333332 pixels through wall
[01:30:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:30:11] [ENEMY] [Enemy3] Ragdoll activated
[01:30:11] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:30:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(932.1993, 1386.879), source=ENEMY (Enemy10), range=1469, listeners=9
[01:30:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[01:30:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(918.7215, 1376.864), source=ENEMY (Enemy10), range=1469, listeners=9
[01:30:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[01:30:12] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[01:30:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(874.8029, 1350.3), shooter_id=428188109705, bullet_pos=(46.90979, 677.7148)
[01:30:12] [INFO] [Bullet] Using shooter_position, distance=1066.66650390625
[01:30:12] [INFO] [Bullet] Distance to wall: 1066.66650390625 (72.631283677723% of viewport)
[01:30:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(862.2736, 1338.78), shooter_id=428188109705, bullet_pos=(128.1349, 709.9056)
[01:30:12] [INFO] [Bullet] Using shooter_position, distance=966.665893554688
[01:30:12] [INFO] [Bullet] Distance to wall: 966.665893554688 (65.8220582339773% of viewport)
[01:30:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(862.2736, 1338.78), shooter_id=428188109705, bullet_pos=(65.95193, 774.9691)
[01:30:13] [INFO] [Bullet] Using shooter_position, distance=975.710632324219
[01:30:13] [INFO] [Bullet] Distance to wall: 975.710632324219 (66.4379311286027% of viewport)
[01:30:13] [INFO] [Bullet] Distance-based penetration chance: 69.1557470166302%
[01:30:13] [INFO] [Bullet] Penetration failed (distance roll)
[01:30:13] [ENEMY] [Enemy3] Death animation completed
[01:30:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(874.8029, 1350.3), shooter_id=428188109705, bullet_pos=(508.5584, 391.1984)
[01:30:13] [INFO] [Bullet] Using shooter_position, distance=1026.65002441406
[01:30:13] [INFO] [Bullet] Distance to wall: 1026.65002441406 (69.9064880052827% of viewport)
[01:30:13] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[01:30:13] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[01:30:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(874.8029, 1350.3), shooter_id=428188109705, bullet_pos=(327.1228, 263.7063)
[01:30:13] [INFO] [Bullet] Using shooter_position, distance=1216.81494140625
[01:30:13] [INFO] [Bullet] Distance to wall: 1216.81494140625 (82.8551668857288% of viewport)
[01:30:13] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[01:30:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(515.6004, 756.5075), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:13] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[01:30:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(515.6004, 756.5075), shooter_id=429010193338, bullet_pos=(497.7213, 700.9817)
[01:30:13] [INFO] [Bullet] Using shooter_position, distance=58,33334
[01:30:13] [INFO] [Bullet] Distance to wall: 58,33334 (3,9720244% of viewport)
[01:30:13] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[01:30:13] [INFO] [Bullet] Starting wall penetration at (497.7213, 700.9817)
[01:30:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24,695269
[01:30:13] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:13] [INFO] [Bullet] Exiting penetration at (485.9722, 664.4933) after traveling 33,333332 pixels through wall
[01:30:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:30:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(874.8029, 1350.3), shooter_id=428188109705, bullet_pos=(540.5153, 64.98713)
[01:30:13] [INFO] [Bullet] Using shooter_position, distance=1328.07250976563
[01:30:13] [INFO] [Bullet] Distance to wall: 1328.07250976563 (90.4308992999471% of viewport)
[01:30:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(541.237, 733.4193), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:13] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[01:30:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(342.2367, 402.1011), source=ENEMY (Enemy1), range=1469, listeners=9
[01:30:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[01:30:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[01:30:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[01:30:13] [INFO] [LastChance] Threat detected: @Area2D@845
[01:30:13] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(342.2367, 402.1011), source=ENEMY (Enemy1), range=1469, listeners=9
[01:30:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[01:30:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[01:30:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[01:30:13] [INFO] [LastChance] Threat detected: @Area2D@844
[01:30:13] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:13] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[01:30:13] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[01:30:13] [INFO] [PenultimateHit] Starting penultimate hit effect:
[01:30:13] [INFO] [PenultimateHit]   - Time scale: 0.10
[01:30:13] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[01:30:13] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[01:30:13] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[01:30:13] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[01:30:13] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[01:30:13] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[01:30:13] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[01:30:13] [ENEMY] [Enemy2] Hit taken, health: 2/4
[01:30:13] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:13] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=false
[01:30:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:13] [INFO] [ImpactEffects] _spawn_blood_decal called at (400, 550), intensity=0.5
[01:30:13] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:13] [INFO] [ImpactEffects] Blood decal spawned at (425.4356, 550) (total: 8)
[01:30:13] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[01:30:13] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[01:30:13] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[01:30:13] [INFO] [LastChance] Threat detected: @Area2D@847
[01:30:13] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(563.4028, 711.2535), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:13] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[01:30:14] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[01:30:14] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[01:30:14] [INFO] [PenultimateHit] Player died - ending penultimate effect
[01:30:14] [INFO] [PenultimateHit] Ending penultimate hit effect
[01:30:14] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[01:30:14] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[01:30:14] [INFO] [LastChance] Player died
[01:30:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(342.2367, 402.1011), source=ENEMY (Enemy1), range=1469, listeners=9
[01:30:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[01:30:14] [INFO] [LastChance] Threat detected: @Area2D@846
[01:30:14] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:14] [ENEMY] [Enemy2] Hit taken, health: 1/4
[01:30:14] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:14] [INFO] [ImpactEffects] spawn_blood_effect called at (415.7503, 526.5278), dir=(0.601435, 0.798922), lethal=false
[01:30:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:14] [INFO] [ImpactEffects] _spawn_blood_decal called at (415.7503, 526.5278), intensity=0.5
[01:30:14] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:14] [INFO] [ImpactEffects] Blood decal spawned at (430.8716, 546.6144) (total: 10)
[01:30:14] [INFO] [ImpactEffects] Blood effect spawned at (415.7503, 526.5278) (scale=1)
[01:30:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(441.9844, 604.4996), shooter_id=425906408193, bullet_pos=(677.2506, 846.4825)
[01:30:14] [INFO] [Bullet] Using shooter_position, distance=337.499572753906
[01:30:14] [INFO] [Bullet] Distance to wall: 337.499572753906 (22.980966515804% of viewport)
[01:30:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(563.40283, 711.2535), shooter_id=429010193338, bullet_pos=(241.28058, 460.30826)
[01:30:14] [INFO] [Bullet] Using shooter_position, distance=408,3335
[01:30:14] [INFO] [Bullet] Distance to wall: 408,3335 (27,804178% of viewport)
[01:30:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:14] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[01:30:14] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[01:30:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(441.9844, 604.4996), shooter_id=425906408193, bullet_pos=(541.8509, 1016.698)
[01:30:14] [INFO] [Bullet] Using shooter_position, distance=424.123413085938
[01:30:14] [INFO] [Bullet] Distance to wall: 424.123413085938 (28.8793430912088% of viewport)
[01:30:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:14] [INFO] [Bullet] Starting wall penetration at (541.8509, 1016.698)
[01:30:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31.0858860015869
[01:30:14] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:14] [INFO] [Bullet] Exiting penetration at (516.6904, 1048.328) after traveling 35.4166679382324 pixels through wall
[01:30:14] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[01:30:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(563.40283, 711.2535), shooter_id=429010193338, bullet_pos=(45.465485, 671.9509)
[01:30:14] [INFO] [Bullet] Using shooter_position, distance=519,42645
[01:30:14] [INFO] [Bullet] Distance to wall: 519,42645 (35,368706% of viewport)
[01:30:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:14] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[01:30:14] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[01:30:14] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[01:30:14] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[01:30:14] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:30:14] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:30:14] [ENEMY] [Enemy1] Death animation component initialized
[01:30:14] [ENEMY] [Enemy2] Death animation component initialized
[01:30:14] [ENEMY] [Enemy3] Death animation component initialized
[01:30:14] [ENEMY] [Enemy4] Death animation component initialized
[01:30:14] [ENEMY] [Enemy5] Death animation component initialized
[01:30:14] [ENEMY] [Enemy6] Death animation component initialized
[01:30:14] [ENEMY] [Enemy7] Death animation component initialized
[01:30:14] [ENEMY] [Enemy8] Death animation component initialized
[01:30:14] [ENEMY] [Enemy9] Death animation component initialized
[01:30:14] [ENEMY] [Enemy10] Death animation component initialized
[01:30:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:30:14] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:30:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:30:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:30:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:30:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:30:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:30:14] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[01:30:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:30:14] [INFO] [ScoreManager] Level started with 10 enemies
[01:30:14] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[01:30:14] [ENEMY] [Enemy1] Registered as sound listener
[01:30:14] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[01:30:14] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[01:30:14] [ENEMY] [Enemy2] Registered as sound listener
[01:30:14] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[01:30:14] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[01:30:14] [ENEMY] [Enemy3] Registered as sound listener
[01:30:14] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[01:30:14] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[01:30:14] [ENEMY] [Enemy4] Registered as sound listener
[01:30:14] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[01:30:14] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[01:30:14] [ENEMY] [Enemy5] Registered as sound listener
[01:30:14] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[01:30:14] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[01:30:14] [ENEMY] [Enemy6] Registered as sound listener
[01:30:14] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[01:30:14] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[01:30:14] [ENEMY] [Enemy7] Registered as sound listener
[01:30:14] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[01:30:14] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[01:30:14] [ENEMY] [Enemy8] Registered as sound listener
[01:30:14] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[01:30:14] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[01:30:14] [ENEMY] [Enemy9] Registered as sound listener
[01:30:14] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[01:30:14] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[01:30:14] [ENEMY] [Enemy10] Registered as sound listener
[01:30:14] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[01:30:14] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:30:14] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:30:14] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:30:14] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:30:14] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:30:14] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:30:14] [INFO] [LastChance] Found player: Player
[01:30:14] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:30:14] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:30:14] [INFO] [LastChance] Connected to player Died signal (C#)
[01:30:14] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:30:14] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:30:14] [ENEMY] [Enemy1] Death animation component initialized
[01:30:14] [ENEMY] [Enemy2] Death animation component initialized
[01:30:14] [ENEMY] [Enemy3] Death animation component initialized
[01:30:14] [ENEMY] [Enemy4] Death animation component initialized
[01:30:14] [ENEMY] [Enemy5] Death animation component initialized
[01:30:14] [ENEMY] [Enemy6] Death animation component initialized
[01:30:14] [ENEMY] [Enemy7] Death animation component initialized
[01:30:14] [ENEMY] [Enemy8] Death animation component initialized
[01:30:14] [ENEMY] [Enemy9] Death animation component initialized
[01:30:14] [ENEMY] [Enemy10] Death animation component initialized
[01:30:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:30:14] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:30:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:30:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:30:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:30:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:30:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:30:14] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[01:30:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:30:14] [INFO] [ScoreManager] Level started with 10 enemies
[01:30:14] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[01:30:14] [ENEMY] [Enemy1] Registered as sound listener
[01:30:14] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[01:30:14] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[01:30:14] [ENEMY] [Enemy2] Registered as sound listener
[01:30:14] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[01:30:14] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[01:30:14] [ENEMY] [Enemy3] Registered as sound listener
[01:30:14] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[01:30:14] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[01:30:14] [ENEMY] [Enemy4] Registered as sound listener
[01:30:14] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[01:30:14] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[01:30:14] [ENEMY] [Enemy5] Registered as sound listener
[01:30:14] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[01:30:14] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[01:30:14] [ENEMY] [Enemy6] Registered as sound listener
[01:30:14] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[01:30:14] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[01:30:14] [ENEMY] [Enemy7] Registered as sound listener
[01:30:14] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[01:30:14] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[01:30:14] [ENEMY] [Enemy8] Registered as sound listener
[01:30:14] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[01:30:14] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[01:30:14] [ENEMY] [Enemy9] Registered as sound listener
[01:30:14] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[01:30:14] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[01:30:14] [ENEMY] [Enemy10] Registered as sound listener
[01:30:14] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[01:30:14] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:30:14] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:30:14] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:30:14] [INFO] [LastChance] Found player: Player
[01:30:14] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:30:14] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:30:14] [INFO] [LastChance] Connected to player Died signal (C#)
[01:30:14] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:30:14] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:30:14] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:30:15] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[01:30:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=29
[01:30:15] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[01:30:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:30:15] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[01:30:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=781751159757, bullet_pos=(41.69983, 702.3934)
[01:30:16] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[01:30:16] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[01:30:16] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[01:30:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.6229, 790.7384), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:16] [ENEMY] [Enemy1] Heard gunshot at (458.6229, 790.7384), source_type=0, intensity=0.01, distance=468
[01:30:16] [ENEMY] [Enemy2] Heard gunshot at (458.6229, 790.7384), source_type=0, intensity=0.04, distance=248
[01:30:16] [ENEMY] [Enemy4] Heard gunshot at (458.6229, 790.7384), source_type=0, intensity=0.02, distance=358
[01:30:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:30:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=781751159757, bullet_pos=(516.1531, 452.4772)
[01:30:16] [INFO] [Bullet] Using shooter_position, distance=1094.07275390625
[01:30:16] [INFO] [Bullet] Distance to wall: 1094.07275390625 (74.497425635873% of viewport)
[01:30:16] [ENEMY] [Enemy3] Hit taken, health: 3/4
[01:30:16] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:16] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4551, 753.7862), dir=(1, 0), lethal=false
[01:30:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:16] [INFO] [ImpactEffects] _spawn_blood_decal called at (684.4551, 753.7862), intensity=0.5
[01:30:16] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:16] [INFO] [ImpactEffects] Blood decal spawned at (702.6161, 753.7862) (total: 11)
[01:30:16] [INFO] [ImpactEffects] Blood effect spawned at (684.4551, 753.7862) (scale=1)
[01:30:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(480.611, 763.6672), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:30:16] [ENEMY] [Enemy3] Hit taken, health: 2/4
[01:30:16] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:16] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4551, 753.7862), dir=(1, 0), lethal=false
[01:30:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:16] [INFO] [ImpactEffects] _spawn_blood_decal called at (684.4551, 753.7862), intensity=0.5
[01:30:16] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:16] [INFO] [ImpactEffects] Blood decal spawned at (699.0104, 753.7862) (total: 12)
[01:30:16] [INFO] [ImpactEffects] Blood effect spawned at (684.4551, 753.7862) (scale=1)
[01:30:16] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[01:30:16] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[01:30:16] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[01:30:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(508.5486, 749.5826), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:30:16] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[01:30:16] [ENEMY] [Enemy3] Hit taken, health: 1/4
[01:30:16] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:16] [INFO] [ImpactEffects] spawn_blood_effect called at (686.4849, 754.4431), dir=(1, 0), lethal=false
[01:30:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:16] [INFO] [ImpactEffects] _spawn_blood_decal called at (686.4849, 754.4431), intensity=0.5
[01:30:16] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:16] [INFO] [ImpactEffects] Blood decal spawned at (714.1125, 754.4431) (total: 13)
[01:30:16] [INFO] [ImpactEffects] Blood effect spawned at (686.4849, 754.4431) (scale=1)
[01:30:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(692.574, 756.4136), source=ENEMY (Enemy3), range=1469, listeners=10
[01:30:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:30:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(538.8103, 748.1765), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[01:30:16] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[01:30:16] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[01:30:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[01:30:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[01:30:16] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[01:30:16] [INFO] [LastChance] Threat detected: Bullet
[01:30:16] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:16] [ENEMY] [Enemy3] Hit taken, health: 0/4
[01:30:16] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:16] [INFO] [ImpactEffects] spawn_blood_effect called at (701.4933, 761.8914), dir=(1, 0), lethal=true
[01:30:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:16] [INFO] [ImpactEffects] _spawn_blood_decal called at (701.4933, 761.8914), intensity=1.5
[01:30:16] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:16] [INFO] [ImpactEffects] Blood decal spawned at (717.9479, 761.8914) (total: 14)
[01:30:16] [INFO] [ImpactEffects] Blood effect spawned at (701.4933, 761.8914) (scale=1.5)
[01:30:16] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[01:30:16] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:30:16] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[01:30:16] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:30:16] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[01:30:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[01:30:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[01:30:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(566.3395, 760.1474), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:16] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[01:30:16] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[01:30:17] [INFO] [LastChance] Threat detected: @Area2D@1378
[01:30:17] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.691, 609.0428), shooter_id=779469458304, bullet_pos=(699.3479, 811.6954)
[01:30:17] [INFO] [Bullet] Using shooter_position, distance=333.333709716797
[01:30:17] [INFO] [Bullet] Distance to wall: 333.333709716797 (22.6973052412606% of viewport)
[01:30:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:17] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[01:30:17] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[01:30:17] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[01:30:17] [INFO] [PenultimateHit] Starting penultimate hit effect:
[01:30:17] [INFO] [PenultimateHit]   - Time scale: 0.10
[01:30:17] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[01:30:17] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[01:30:17] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[01:30:17] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[01:30:17] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[01:30:17] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[01:30:17] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[01:30:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(624.5408, 757.8539), shooter_id=779754669392, bullet_pos=(67.76735, 837.9132)
[01:30:17] [INFO] [Bullet] Using shooter_position, distance=562.499938964844
[01:30:17] [INFO] [Bullet] Distance to wall: 562.499938964844 (38.3016551902976% of viewport)
[01:30:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(566.3395, 760.1474), shooter_id=782573242602, bullet_pos=(911.60205, 780.01196)
[01:30:17] [INFO] [Bullet] Using shooter_position, distance=345,83356
[01:30:17] [INFO] [Bullet] Distance to wall: 345,83356 (23,548443% of viewport)
[01:30:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:17] [INFO] [Bullet] Starting wall penetration at (911.60205, 780.01196)
[01:30:17] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:30:17] [INFO] [Bullet] Exiting penetration at (920.7536, 780.5385) after traveling 4,166667 pixels through wall
[01:30:17] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:30:17] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[01:30:17] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[01:30:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.691, 609.0428), shooter_id=779469458304, bullet_pos=(909.6511, 635.7991)
[01:30:17] [INFO] [Bullet] Using shooter_position, distance=475.713134765625
[01:30:17] [INFO] [Bullet] Distance to wall: 475.713134765625 (32.3921821055119% of viewport)
[01:30:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(606.3152, 851.6307), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[01:30:19] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[01:30:19] [ENEMY] [Enemy4] Hit taken, health: 2/3
[01:30:19] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:19] [INFO] [ImpactEffects] spawn_blood_effect called at (741.4763, 914.0654), dir=(1, 0), lethal=false
[01:30:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:19] [INFO] [ImpactEffects] _spawn_blood_decal called at (741.4763, 914.0654), intensity=0.5
[01:30:19] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:19] [INFO] [ImpactEffects] Blood decal spawned at (766.6438, 914.0654) (total: 15)
[01:30:19] [INFO] [ImpactEffects] Blood effect spawned at (741.4763, 914.0654) (scale=1)
[01:30:19] [ENEMY] [Enemy3] Ragdoll activated
[01:30:19] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:30:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(585.8619, 882.3526), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[01:30:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.691, 609.0428), shooter_id=779469458304, bullet_pos=(510.3921, 298.3029)
[01:30:19] [INFO] [Bullet] Using shooter_position, distance=319.827941894531
[01:30:19] [INFO] [Bullet] Distance to wall: 319.827941894531 (21.7776726753254% of viewport)
[01:30:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:20] [ENEMY] [Enemy4] Hit taken, health: 1/3
[01:30:20] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:20] [INFO] [ImpactEffects] spawn_blood_effect called at (741.4763, 914.0654), dir=(1, 0), lethal=false
[01:30:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:20] [INFO] [ImpactEffects] _spawn_blood_decal called at (741.4763, 914.0654), intensity=0.5
[01:30:20] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:20] [INFO] [ImpactEffects] Blood decal spawned at (756.7648, 914.0654) (total: 16)
[01:30:20] [INFO] [ImpactEffects] Blood effect spawned at (741.4763, 914.0654) (scale=1)
[01:30:20] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[01:30:20] [ENEMY] [Enemy10] FLANKING started: target=(763.9766, 859.2888), side=left, pos=(1022.668, 1432.257)
[01:30:20] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[01:30:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(560.9718, 907.2427), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[01:30:20] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[01:30:20] [INFO] [PenultimateHit] Ending penultimate hit effect
[01:30:20] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[01:30:20] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[01:30:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(749.314, 914.0654), source=ENEMY (Enemy4), range=1469, listeners=9
[01:30:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[01:30:20] [INFO] [LastChance] Threat detected: @Area2D@1407
[01:30:20] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.0652, 932.1329), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[01:30:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.691, 609.0428), shooter_id=779469458304, bullet_pos=(735.7493, 53.7779)
[01:30:20] [INFO] [Bullet] Using shooter_position, distance=631.629028320313
[01:30:20] [INFO] [Bullet] Distance to wall: 631.629028320313 (43.0087820016979% of viewport)
[01:30:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(758.6932, 914.0656), source=ENEMY (Enemy4), range=1469, listeners=9
[01:30:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[01:30:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(681.5869, 920.6713), shooter_id=780039883266, bullet_pos=(517.8545, 951.8073)
[01:30:20] [INFO] [Bullet] Using shooter_position, distance=166.666595458984
[01:30:20] [INFO] [Bullet] Distance to wall: 166.666595458984 (11.3486349576472% of viewport)
[01:30:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:20] [INFO] [Bullet] Starting wall penetration at (517.8545, 951.8073)
[01:30:20] [INFO] [LastChance] Threat detected: @Area2D@1411
[01:30:20] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28.4922294616699
[01:30:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.9718, 907.24274), shooter_id=782573242602, bullet_pos=(923.3623, 1003.66974)
[01:30:20] [INFO] [Bullet] Using shooter_position, distance=375,00006
[01:30:20] [INFO] [Bullet] Distance to wall: 375,00006 (25,534445% of viewport)
[01:30:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:20] [INFO] [Bullet] Starting wall penetration at (923.3623, 1003.66974)
[01:30:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.9718, 907.24274), shooter_id=782573242602, bullet_pos=(928.19415, 1004.95544)
[01:30:20] [INFO] [Bullet] Using shooter_position, distance=380,00003
[01:30:20] [INFO] [Bullet] Distance to wall: 380,00003 (25,8749% of viewport)
[01:30:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:20] [INFO] [Bullet] Already penetrating, cannot start new penetration
[01:30:20] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:20] [INFO] [Bullet] Exiting penetration at (472.0094, 960.5253) after traveling 41.6666679382324 pixels through wall
[01:30:20] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:30:20] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:30:20] [INFO] [Bullet] Exiting penetration at (968.4598, 1015.66956) after traveling 41,666668 pixels through wall
[01:30:20] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:30:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(766.1992, 913.9883), source=ENEMY (Enemy4), range=1469, listeners=9
[01:30:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[01:30:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(691.6259, 925.5793), shooter_id=780039883266, bullet_pos=(525.6549, 940.7912)
[01:30:20] [INFO] [Bullet] Using shooter_position, distance=166.666610717773
[01:30:20] [INFO] [Bullet] Distance to wall: 166.666610717773 (11.3486359966462% of viewport)
[01:30:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:20] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[01:30:20] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[01:30:20] [INFO] [PenultimateHit] Player died - ending penultimate effect
[01:30:20] [INFO] [LastChance] Player died
[01:30:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.06525, 932.1329), shooter_id=782573242602, bullet_pos=(807.4498, 996.4007)
[01:30:20] [INFO] [Bullet] Using shooter_position, distance=274,99976
[01:30:20] [INFO] [Bullet] Distance to wall: 274,99976 (18,72524% of viewport)
[01:30:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:20] [INFO] [Bullet] Starting wall penetration at (807.4498, 996.4007)
[01:30:20] [INFO] [LastChance] Threat detected: @Area2D@1415
[01:30:20] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.0651, 959.3566), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[01:30:20] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:30:20] [INFO] [Bullet] Exiting penetration at (852.8242, 1007.30676) after traveling 41,666668 pixels through wall
[01:30:20] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:30:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(775.0389, 919.6733), source=ENEMY (Enemy4), range=1469, listeners=9
[01:30:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[01:30:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.0651, 989.9767), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[01:30:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(709.544, 938.1397), shooter_id=780039883266, bullet_pos=(502.1554, 918.3207)
[01:30:20] [INFO] [Bullet] Using shooter_position, distance=208.333419799805
[01:30:20] [INFO] [Bullet] Distance to wall: 208.333419799805 (14.1858056455476% of viewport)
[01:30:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:20] [INFO] [Bullet] Starting wall penetration at (502.1554, 918.3207)
[01:30:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 44.5014190673828
[01:30:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.06506, 959.35657), shooter_id=782573242602, bullet_pos=(897.4385, 985.5712)
[01:30:20] [INFO] [Bullet] Using shooter_position, distance=358,3336
[01:30:20] [INFO] [Bullet] Distance to wall: 358,3336 (24,399593% of viewport)
[01:30:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:20] [INFO] [Bullet] Starting wall penetration at (897.4385, 985.5712)
[01:30:20] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:20] [INFO] [Bullet] Exiting penetration at (455.7004, 913.8812) after traveling 41.666675567627 pixels through wall
[01:30:20] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:30:20] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:30:20] [INFO] [Bullet] Exiting penetration at (943.9801, 988.9852) after traveling 41,66667 pixels through wall
[01:30:20] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:30:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.06506, 989.9767), shooter_id=782573242602, bullet_pos=(939.5174, 969.04755)
[01:30:20] [INFO] [Bullet] Using shooter_position, distance=400,00024
[01:30:20] [INFO] [Bullet] Distance to wall: 400,00024 (27,236753% of viewport)
[01:30:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:20] [INFO] [Bullet] Starting wall penetration at (939.5174, 969.04755)
[01:30:20] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:30:20] [INFO] [Bullet] Exiting penetration at (986.1202, 966.60583) after traveling 41,66667 pixels through wall
[01:30:20] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:30:20] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:30:20] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:30:20] [ENEMY] [Enemy1] Death animation component initialized
[01:30:20] [ENEMY] [Enemy2] Death animation component initialized
[01:30:20] [ENEMY] [Enemy3] Death animation component initialized
[01:30:20] [ENEMY] [Enemy4] Death animation component initialized
[01:30:20] [ENEMY] [Enemy5] Death animation component initialized
[01:30:20] [ENEMY] [Enemy6] Death animation component initialized
[01:30:20] [ENEMY] [Enemy7] Death animation component initialized
[01:30:20] [ENEMY] [Enemy8] Death animation component initialized
[01:30:20] [ENEMY] [Enemy9] Death animation component initialized
[01:30:20] [ENEMY] [Enemy10] Death animation component initialized
[01:30:20] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:30:20] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:30:20] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:30:20] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:30:20] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:30:20] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:30:20] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:30:20] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[01:30:20] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:30:20] [INFO] [ScoreManager] Level started with 10 enemies
[01:30:20] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[01:30:20] [ENEMY] [Enemy1] Registered as sound listener
[01:30:20] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[01:30:20] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[01:30:20] [ENEMY] [Enemy2] Registered as sound listener
[01:30:20] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[01:30:20] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[01:30:20] [ENEMY] [Enemy3] Registered as sound listener
[01:30:20] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[01:30:20] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[01:30:20] [ENEMY] [Enemy4] Registered as sound listener
[01:30:20] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[01:30:20] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[01:30:20] [ENEMY] [Enemy5] Registered as sound listener
[01:30:20] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[01:30:20] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[01:30:20] [ENEMY] [Enemy6] Registered as sound listener
[01:30:20] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[01:30:20] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[01:30:20] [ENEMY] [Enemy7] Registered as sound listener
[01:30:20] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[01:30:20] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[01:30:20] [ENEMY] [Enemy8] Registered as sound listener
[01:30:20] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[01:30:20] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[01:30:20] [ENEMY] [Enemy9] Registered as sound listener
[01:30:20] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[01:30:20] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[01:30:20] [ENEMY] [Enemy10] Registered as sound listener
[01:30:20] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[01:30:20] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:30:20] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:30:20] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:30:20] [INFO] [LastChance] Found player: Player
[01:30:20] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:30:20] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:30:20] [INFO] [LastChance] Connected to player Died signal (C#)
[01:30:20] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:30:20] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:30:20] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:30:20] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:30:20] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:30:20] [ENEMY] [Enemy1] Death animation component initialized
[01:30:20] [ENEMY] [Enemy2] Death animation component initialized
[01:30:20] [ENEMY] [Enemy3] Death animation component initialized
[01:30:20] [ENEMY] [Enemy4] Death animation component initialized
[01:30:20] [ENEMY] [Enemy5] Death animation component initialized
[01:30:20] [ENEMY] [Enemy6] Death animation component initialized
[01:30:20] [ENEMY] [Enemy7] Death animation component initialized
[01:30:20] [ENEMY] [Enemy8] Death animation component initialized
[01:30:20] [ENEMY] [Enemy9] Death animation component initialized
[01:30:20] [ENEMY] [Enemy10] Death animation component initialized
[01:30:20] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:30:20] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:30:20] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:30:20] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:30:20] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:30:20] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:30:20] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:30:20] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[01:30:20] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:30:20] [INFO] [ScoreManager] Level started with 10 enemies
[01:30:20] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[01:30:20] [ENEMY] [Enemy1] Registered as sound listener
[01:30:20] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[01:30:20] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[01:30:20] [ENEMY] [Enemy2] Registered as sound listener
[01:30:20] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[01:30:20] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[01:30:20] [ENEMY] [Enemy3] Registered as sound listener
[01:30:20] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[01:30:20] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[01:30:20] [ENEMY] [Enemy4] Registered as sound listener
[01:30:20] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[01:30:20] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[01:30:20] [ENEMY] [Enemy5] Registered as sound listener
[01:30:20] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[01:30:20] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[01:30:20] [ENEMY] [Enemy6] Registered as sound listener
[01:30:20] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[01:30:20] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[01:30:20] [ENEMY] [Enemy7] Registered as sound listener
[01:30:20] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[01:30:20] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[01:30:20] [ENEMY] [Enemy8] Registered as sound listener
[01:30:20] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[01:30:20] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[01:30:20] [ENEMY] [Enemy9] Registered as sound listener
[01:30:20] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[01:30:20] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[01:30:20] [ENEMY] [Enemy10] Registered as sound listener
[01:30:20] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[01:30:20] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:30:20] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:30:20] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:30:20] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:30:20] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:30:20] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:30:20] [INFO] [LastChance] Found player: Player
[01:30:20] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:30:20] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:30:20] [INFO] [LastChance] Connected to player Died signal (C#)
[01:30:21] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[01:30:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1062.214, 1468.781), source=ENEMY (Enemy10), range=1469, listeners=29
[01:30:23] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[01:30:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:30:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1030.719, 1448.737), source=ENEMY (Enemy10), range=1469, listeners=10
[01:30:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:30:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(999.8019, 1427.814), source=ENEMY (Enemy10), range=1469, listeners=10
[01:30:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:30:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(968.2803, 1415.199), source=ENEMY (Enemy10), range=1469, listeners=10
[01:30:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:30:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1000.789, 1439.476), shooter_id=1185176095714, bullet_pos=(47.63334, 841.8803)
[01:30:23] [INFO] [Bullet] Using shooter_position, distance=1125.00048828125
[01:30:23] [INFO] [Bullet] Distance to wall: 1125.00048828125 (76.6033519405555% of viewport)
[01:30:23] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[01:30:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(969.8604, 1418.223), shooter_id=1185176095714, bullet_pos=(63.44687, 824.9039)
[01:30:23] [INFO] [Bullet] Using shooter_position, distance=1083.33386230469
[01:30:23] [INFO] [Bullet] Distance to wall: 1083.33386230469 (73.7661947596422% of viewport)
[01:30:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1000.789, 1439.476), shooter_id=1185176095714, bullet_pos=(344.3148, 712.2881)
[01:30:23] [INFO] [Bullet] Using shooter_position, distance=979.673461914063
[01:30:23] [INFO] [Bullet] Distance to wall: 979.673461914063 (66.7077674823762% of viewport)
[01:30:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(940.1774, 1394.912), shooter_id=1185176095714, bullet_pos=(57.86434, 766.3134)
[01:30:23] [INFO] [Bullet] Using shooter_position, distance=1083.33386230469
[01:30:23] [INFO] [Bullet] Distance to wall: 1083.33386230469 (73.7661947596422% of viewport)
[01:30:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(969.8604, 1418.223), shooter_id=1185176095714, bullet_pos=(326.7567, 707.4134)
[01:30:23] [INFO] [Bullet] Using shooter_position, distance=958.557250976563
[01:30:23] [INFO] [Bullet] Distance to wall: 958.557250976563 (65.2699258503538% of viewport)
[01:30:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1000.789, 1439.476), shooter_id=1185176095714, bullet_pos=(499.2128, 814.5781)
[01:30:23] [INFO] [Bullet] Using shooter_position, distance=801.296203613281
[01:30:23] [INFO] [Bullet] Distance to wall: 801.296203613281 (54.5617319578209% of viewport)
[01:30:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(940.1774, 1394.912), shooter_id=1185176095714, bullet_pos=(144.3864, 696.3812)
[01:30:23] [INFO] [Bullet] Using shooter_position, distance=1058.88061523438
[01:30:23] [INFO] [Bullet] Distance to wall: 1058.88061523438 (72.1011282010682% of viewport)
[01:30:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[01:30:23] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[01:30:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(910.7078, 1378.828), shooter_id=1185176095714, bullet_pos=(67.1246, 699.1376)
[01:30:24] [INFO] [Bullet] Using shooter_position, distance=1083.33361816406
[01:30:24] [INFO] [Bullet] Distance to wall: 1083.33361816406 (73.7661781356581% of viewport)
[01:30:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(969.8604, 1418.223), shooter_id=1185176095714, bullet_pos=(514.975, 812.8315)
[01:30:24] [INFO] [Bullet] Using shooter_position, distance=757.244323730469
[01:30:24] [INFO] [Bullet] Distance to wall: 757.244323730469 (51.5621584523359% of viewport)
[01:30:24] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[01:30:24] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[01:30:24] [INFO] [PenultimateHit] Starting penultimate hit effect:
[01:30:24] [INFO] [PenultimateHit]   - Time scale: 0.10
[01:30:24] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[01:30:24] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[01:30:24] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[01:30:24] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[01:30:24] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[01:30:24] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[01:30:24] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[01:30:24] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[01:30:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(910.7078, 1378.828), shooter_id=1185176095714, bullet_pos=(271.1672, 475.8145)
[01:30:24] [INFO] [Bullet] Using shooter_position, distance=1106.54675292969
[01:30:24] [INFO] [Bullet] Distance to wall: 1106.54675292969 (75.3468031670405% of viewport)
[01:30:24] [INFO] [Bullet] Distance-based penetration chance: 58.7620629717861%
[01:30:24] [INFO] [Bullet] Penetration failed (distance roll)
[01:30:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(448.9058, 793.7951), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:25] [ENEMY] [Enemy1] Heard gunshot at (448.9058, 793.7951), source_type=0, intensity=0.01, distance=468
[01:30:25] [ENEMY] [Enemy2] Heard gunshot at (448.9058, 793.7951), source_type=0, intensity=0.04, distance=249
[01:30:25] [ENEMY] [Enemy4] Heard gunshot at (448.9058, 793.7951), source_type=0, intensity=0.02, distance=367
[01:30:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:30:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(940.1774, 1394.912), shooter_id=1185176095714, bullet_pos=(509.8624, 1026.788)
[01:30:25] [INFO] [Bullet] Using shooter_position, distance=566.291381835938
[01:30:25] [INFO] [Bullet] Distance to wall: 566.291381835938 (38.5598215072391% of viewport)
[01:30:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:25] [INFO] [Bullet] Starting wall penetration at (509.8624, 1026.788)
[01:30:25] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:30:25] [INFO] [Bullet] Exiting penetration at (515.8046, 1032.16) after traveling 3.01041674613953 pixels through wall
[01:30:25] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[01:30:26] [ENEMY] [Enemy3] Hit taken, health: 3/4
[01:30:26] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:26] [INFO] [ImpactEffects] spawn_blood_effect called at (690.748, 752.5589), dir=(1, 0), lethal=false
[01:30:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:26] [INFO] [ImpactEffects] _spawn_blood_decal called at (690.748, 752.5589), intensity=0.5
[01:30:26] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:26] [INFO] [ImpactEffects] Blood decal spawned at (714.8303, 752.5589) (total: 17)
[01:30:26] [INFO] [ImpactEffects] Blood effect spawned at (690.748, 752.5589) (scale=1)
[01:30:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(448.9058, 759.8369), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:30:26] [ENEMY] [Enemy3] Hit taken, health: 2/4
[01:30:26] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:26] [INFO] [ImpactEffects] spawn_blood_effect called at (690.748, 752.5589), dir=(1, 0), lethal=false
[01:30:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:26] [INFO] [ImpactEffects] _spawn_blood_decal called at (690.748, 752.5589), intensity=0.5
[01:30:26] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:26] [INFO] [ImpactEffects] Blood decal spawned at (704.5344, 752.5589) (total: 18)
[01:30:26] [INFO] [ImpactEffects] Blood effect spawned at (690.748, 752.5589) (scale=1)
[01:30:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(448.9058, 742.5924), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:30:26] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[01:30:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.5996, 758.4761), source=ENEMY (Enemy3), range=1469, listeners=10
[01:30:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:30:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(448.9058, 736.7256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:30:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(676.9141, 765.8727), source=ENEMY (Enemy3), range=1469, listeners=10
[01:30:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:30:26] [INFO] [LastChance] Threat detected: @Area2D@1950
[01:30:26] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(448.90576, 742.5924), shooter_id=1185998178227, bullet_pos=(939.2947, 707.16956)
[01:30:26] [INFO] [Bullet] Using shooter_position, distance=491,66663
[01:30:26] [INFO] [Bullet] Distance to wall: 491,66663 (33,478485% of viewport)
[01:30:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(448.9058, 736.7256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:30:26] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[01:30:26] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[01:30:26] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[01:30:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(448.90576, 736.72565), shooter_id=1185998178227, bullet_pos=(939.138, 699.1944)
[01:30:26] [INFO] [Bullet] Using shooter_position, distance=491,66678
[01:30:26] [INFO] [Bullet] Distance to wall: 491,66678 (33,478497% of viewport)
[01:30:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:26] [INFO] [Bullet] Starting wall penetration at (939.138, 699.1944)
[01:30:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41,480526
[01:30:26] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:26] [INFO] [Bullet] Exiting penetration at (977.3595, 696.26825) after traveling 33,333336 pixels through wall
[01:30:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:30:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(448.90576, 736.72565), shooter_id=1185998178227, bullet_pos=(977.3595, 696.26825)
[01:30:26] [INFO] [Bullet] Using shooter_position, distance=530,0001
[01:30:26] [INFO] [Bullet] Distance to wall: 530,0001 (36,088684% of viewport)
[01:30:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:26] [INFO] [Bullet] Starting wall penetration at (977.3595, 696.26825)
[01:30:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(448.9058, 736.7256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:30:26] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:30:26] [INFO] [Bullet] Exiting penetration at (1015.581, 693.3421) after traveling 33,333336 pixels through wall
[01:30:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.5511, 758.4319), shooter_id=1183179606120, bullet_pos=(50.57934, 786.4875)
[01:30:26] [INFO] [Bullet] Using shooter_position, distance=566.666687011719
[01:30:26] [INFO] [Bullet] Distance to wall: 566.666687011719 (38.5853767267834% of viewport)
[01:30:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:26] [INFO] [Bullet] Starting wall penetration at (50.57934, 786.4875)
[01:30:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19.7311782836914
[01:30:26] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:26] [INFO] [Bullet] Exiting penetration at (12.29302, 788.3854) after traveling 33.3333320617676 pixels through wall
[01:30:26] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:30:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(608.9149, 763.2828), shooter_id=1183179606120, bullet_pos=(42.39481, 750.3979)
[01:30:26] [INFO] [Bullet] Using shooter_position, distance=566.666564941406
[01:30:26] [INFO] [Bullet] Distance to wall: 566.666564941406 (38.5853684147914% of viewport)
[01:30:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:26] [INFO] [Bullet] Starting wall penetration at (42.39481, 750.3979)
[01:30:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27.935827255249
[01:30:26] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:26] [INFO] [Bullet] Exiting penetration at (4.071392, 749.5263) after traveling 33.3333320617676 pixels through wall
[01:30:26] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:30:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(448.90576, 736.72565), shooter_id=1185998178227, bullet_pos=(939.562, 768.2332)
[01:30:26] [INFO] [Bullet] Using shooter_position, distance=491,66687
[01:30:26] [INFO] [Bullet] Distance to wall: 491,66687 (33,4785% of viewport)
[01:30:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:26] [INFO] [Bullet] Starting wall penetration at (939.562, 768.2332)
[01:30:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41,902718
[01:30:26] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:26] [INFO] [Bullet] Exiting penetration at (977.8166, 770.68976) after traveling 33,333336 pixels through wall
[01:30:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:30:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(448.9058, 736.7256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:30:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(448.90576, 736.72565), shooter_id=1185998178227, bullet_pos=(932.981, 822.7931)
[01:30:26] [INFO] [Bullet] Using shooter_position, distance=491,66702
[01:30:26] [INFO] [Bullet] Distance to wall: 491,66702 (33,47851% of viewport)
[01:30:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:26] [INFO] [Bullet] Starting wall penetration at (932.981, 822.7931)
[01:30:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,26703
[01:30:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(448.90576, 736.72565), shooter_id=1185998178227, bullet_pos=(691.57245, 825.31995)
[01:30:26] [INFO] [Bullet] Using shooter_position, distance=258,33325
[01:30:26] [INFO] [Bullet] Distance to wall: 258,33325 (17,590387% of viewport)
[01:30:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:26] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:26] [INFO] [Bullet] Exiting penetration at (970.7225, 829.5034) after traveling 33,333336 pixels through wall
[01:30:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:30:27] [ENEMY] [Enemy3] Hit taken, health: 1/4
[01:30:27] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:27] [INFO] [ImpactEffects] spawn_blood_effect called at (590.0527, 862.6481), dir=(1, 0), lethal=false
[01:30:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:27] [INFO] [ImpactEffects] _spawn_blood_decal called at (590.0527, 862.6481), intensity=0.5
[01:30:27] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:27] [INFO] [ImpactEffects] Blood decal spawned at (613.3062, 862.6481) (total: 19)
[01:30:27] [INFO] [ImpactEffects] Wall found for blood splatter at (680, 862.6481) (dist=89 px)
[01:30:27] [INFO] [ImpactEffects] Blood effect spawned at (590.0527, 862.6481) (scale=1)
[01:30:27] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[01:30:27] [INFO] [PenultimateHit] Ending penultimate hit effect
[01:30:27] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[01:30:27] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[01:30:27] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[01:30:27] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[01:30:27] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:30:27] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:30:27] [ENEMY] [Enemy1] Death animation component initialized
[01:30:27] [ENEMY] [Enemy2] Death animation component initialized
[01:30:27] [ENEMY] [Enemy3] Death animation component initialized
[01:30:27] [ENEMY] [Enemy4] Death animation component initialized
[01:30:27] [ENEMY] [Enemy5] Death animation component initialized
[01:30:27] [ENEMY] [Enemy6] Death animation component initialized
[01:30:27] [ENEMY] [Enemy7] Death animation component initialized
[01:30:27] [ENEMY] [Enemy8] Death animation component initialized
[01:30:27] [ENEMY] [Enemy9] Death animation component initialized
[01:30:27] [ENEMY] [Enemy10] Death animation component initialized
[01:30:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:30:27] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:30:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:30:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:30:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:30:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:30:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:30:27] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[01:30:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:30:27] [INFO] [ScoreManager] Level started with 10 enemies
[01:30:27] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[01:30:27] [ENEMY] [Enemy1] Registered as sound listener
[01:30:27] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[01:30:27] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[01:30:27] [ENEMY] [Enemy2] Registered as sound listener
[01:30:27] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[01:30:27] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[01:30:27] [ENEMY] [Enemy3] Registered as sound listener
[01:30:27] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[01:30:27] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[01:30:27] [ENEMY] [Enemy4] Registered as sound listener
[01:30:27] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[01:30:27] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[01:30:27] [ENEMY] [Enemy5] Registered as sound listener
[01:30:27] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[01:30:27] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[01:30:27] [ENEMY] [Enemy6] Registered as sound listener
[01:30:27] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[01:30:27] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[01:30:27] [ENEMY] [Enemy7] Registered as sound listener
[01:30:27] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[01:30:27] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[01:30:27] [ENEMY] [Enemy8] Registered as sound listener
[01:30:27] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[01:30:27] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[01:30:27] [ENEMY] [Enemy9] Registered as sound listener
[01:30:27] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[01:30:27] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[01:30:27] [ENEMY] [Enemy10] Registered as sound listener
[01:30:27] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[01:30:27] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:30:27] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:30:27] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:30:27] [INFO] [LastChance] Found player: Player
[01:30:27] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:30:27] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:30:27] [INFO] [LastChance] Connected to player Died signal (C#)
[01:30:27] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:30:27] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:30:27] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:30:27] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[01:30:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[01:30:28] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[01:30:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:30:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=1498473825709, bullet_pos=(41.69983, 702.3934)
[01:30:28] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[01:30:28] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[01:30:28] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[01:30:28] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[01:30:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=1498473825709, bullet_pos=(509.8865, 374.363)
[01:30:28] [INFO] [Bullet] Using shooter_position, distance=1167.10302734375
[01:30:28] [INFO] [Bullet] Distance to wall: 1167.10302734375 (79.4701912450638% of viewport)
[01:30:28] [INFO] [Bullet] Distance-based penetration chance: 53.9514435474256%
[01:30:28] [INFO] [Bullet] Penetration failed (distance roll)
[01:30:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(274.3043, 793.9417), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:29] [ENEMY] [Enemy1] Heard gunshot at (274.3043, 793.9417), source_type=0, intensity=0.01, distance=445
[01:30:29] [ENEMY] [Enemy2] Heard gunshot at (274.3043, 793.9417), source_type=0, intensity=0.03, distance=274
[01:30:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[01:30:29] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[01:30:29] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[01:30:29] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[01:30:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(248.2591, 767.8965), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[01:30:29] [ENEMY] [Enemy3] Hit taken, health: 1/2
[01:30:29] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:29] [INFO] [ImpactEffects] spawn_blood_effect called at (583.952, 764.7444), dir=(1, 0), lethal=false
[01:30:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:29] [INFO] [ImpactEffects] _spawn_blood_decal called at (583.952, 764.7444), intensity=0.5
[01:30:29] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:29] [INFO] [ImpactEffects] Blood decal spawned at (598.7486, 764.7444) (total: 21)
[01:30:29] [INFO] [ImpactEffects] Blood effect spawned at (583.952, 764.7444) (scale=1)
[01:30:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(232.8992, 752.5367), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=2
[01:30:29] [ENEMY] [Enemy3] Hit taken, health: 0/2
[01:30:29] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:29] [INFO] [ImpactEffects] spawn_blood_effect called at (548.7745, 763.6013), dir=(1, 0), lethal=true
[01:30:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:29] [INFO] [ImpactEffects] _spawn_blood_decal called at (548.7745, 763.6013), intensity=1.5
[01:30:29] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:29] [INFO] [ImpactEffects] Blood decal spawned at (578.1676, 763.6013) (total: 22)
[01:30:29] [INFO] [ImpactEffects] Blood effect spawned at (548.7745, 763.6013) (scale=1.5)
[01:30:29] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[01:30:29] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:30:29] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[01:30:29] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:30:29] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[01:30:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(223.5968, 743.2343), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[01:30:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(221.8683, 741.5059), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[01:30:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(232.89919, 752.5367), shooter_id=1499295910396, bullet_pos=(924.5386, 758.72723)
[01:30:29] [INFO] [Bullet] Using shooter_position, distance=691,6671
[01:30:29] [INFO] [Bullet] Distance to wall: 691,6671 (47,096886% of viewport)
[01:30:29] [INFO] [Bullet] Distance-based penetration chance: 91,7203%
[01:30:29] [INFO] [Bullet] Starting wall penetration at (924.5386, 758.72723)
[01:30:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,871437
[01:30:29] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:29] [INFO] [Bullet] Exiting penetration at (962.87036, 759.0703) after traveling 33,333336 pixels through wall
[01:30:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:30:29] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[01:30:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(221.8683, 741.5059), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[01:30:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(223.59679, 743.2343), shooter_id=1499295910396, bullet_pos=(914.35876, 778.60077)
[01:30:29] [INFO] [Bullet] Using shooter_position, distance=691,66675
[01:30:29] [INFO] [Bullet] Distance to wall: 691,66675 (47,096863% of viewport)
[01:30:29] [INFO] [Bullet] Distance-based penetration chance: 91,72032%
[01:30:29] [INFO] [Bullet] Starting wall penetration at (914.35876, 778.60077)
[01:30:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,663765
[01:30:29] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:29] [INFO] [Bullet] Exiting penetration at (952.64197, 780.56085) after traveling 33,333332 pixels through wall
[01:30:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:30:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(221.8683, 741.5059), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[01:30:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(221.8683, 741.50586), shooter_id=1499295910396, bullet_pos=(912.4846, 779.60913)
[01:30:29] [INFO] [Bullet] Using shooter_position, distance=691,6666
[01:30:29] [INFO] [Bullet] Distance to wall: 691,6666 (47,096855% of viewport)
[01:30:29] [INFO] [Bullet] Distance-based penetration chance: 91,72034%
[01:30:29] [INFO] [Bullet] Starting wall penetration at (912.4846, 779.60913)
[01:30:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,782212
[01:30:29] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:29] [INFO] [Bullet] Exiting penetration at (950.75977, 781.7209) after traveling 33,333332 pixels through wall
[01:30:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:30:29] [ENEMY] [Enemy3] Ragdoll activated
[01:30:29] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:30:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(221.8683, 741.5059), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[01:30:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(221.8683, 741.50586), shooter_id=1499295910396, bullet_pos=(912.05176, 786.77234)
[01:30:30] [INFO] [Bullet] Using shooter_position, distance=691,6663
[01:30:30] [INFO] [Bullet] Distance to wall: 691,6663 (47,096832% of viewport)
[01:30:30] [INFO] [Bullet] Distance-based penetration chance: 91,72036%
[01:30:30] [INFO] [Bullet] Starting wall penetration at (912.05176, 786.77234)
[01:30:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,333585
[01:30:30] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:30] [INFO] [Bullet] Exiting penetration at (950.30286, 789.28107) after traveling 33,333332 pixels through wall
[01:30:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:30:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(221.8683, 741.50586), shooter_id=1499295910396, bullet_pos=(708.4337, 812.149)
[01:30:30] [INFO] [Bullet] Using shooter_position, distance=491,66693
[01:30:30] [INFO] [Bullet] Distance to wall: 491,66693 (33,478508% of viewport)
[01:30:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(221.8683, 741.5059), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[01:30:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(221.8683, 741.50586), shooter_id=1499295910396, bullet_pos=(911.26886, 797.92395)
[01:30:30] [INFO] [Bullet] Using shooter_position, distance=691,70526
[01:30:30] [INFO] [Bullet] Distance to wall: 691,70526 (47,099487% of viewport)
[01:30:30] [INFO] [Bullet] Distance-based penetration chance: 91,71727%
[01:30:30] [INFO] [Bullet] Starting wall penetration at (911.26886, 797.92395)
[01:30:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8,541434
[01:30:30] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:30] [INFO] [Bullet] Exiting penetration at (944.5205, 795.592) after traveling 28,333334 pixels through wall
[01:30:30] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[01:30:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(221.8683, 741.50586), shooter_id=1499295910396, bullet_pos=(708.5186, 811.5593)
[01:30:30] [INFO] [Bullet] Using shooter_position, distance=491,6666
[01:30:30] [INFO] [Bullet] Distance to wall: 491,6666 (33,478485% of viewport)
[01:30:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(221.8683, 741.50586), shooter_id=1499295910396, bullet_pos=(909.3187, 779.5626)
[01:30:30] [INFO] [Bullet] Using shooter_position, distance=688,503
[01:30:30] [INFO] [Bullet] Distance to wall: 688,503 (46,88144% of viewport)
[01:30:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(221.8683, 741.50586), shooter_id=1499295910396, bullet_pos=(708.645, 810.67706)
[01:30:30] [INFO] [Bullet] Using shooter_position, distance=491,6668
[01:30:30] [INFO] [Bullet] Distance to wall: 491,6668 (33,4785% of viewport)
[01:30:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(221.8683, 741.50586), shooter_id=1499295910396, bullet_pos=(911.91034, 815.9354)
[01:30:30] [INFO] [Bullet] Using shooter_position, distance=694,0445
[01:30:30] [INFO] [Bullet] Distance to wall: 694,0445 (47,258766% of viewport)
[01:30:30] [INFO] [Bullet] Distance-based penetration chance: 91,53144%
[01:30:30] [INFO] [Bullet] Starting wall penetration at (911.91034, 815.9354)
[01:30:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9,235632
[01:30:30] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:30] [INFO] [Bullet] Exiting penetration at (945.23254, 816.7974) after traveling 28,333334 pixels through wall
[01:30:30] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[01:30:30] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[01:30:31] [ENEMY] [Enemy3] Death animation completed
[01:30:31] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[01:30:31] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[01:30:32] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[01:30:32] [ENEMY] [Enemy4] State: IDLE -> COMBAT
[01:30:32] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[01:30:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(561.8885, 946.89), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:32] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=3
[01:30:32] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[01:30:32] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[01:30:32] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[01:30:33] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[01:30:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(577.5688, 976.2009), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:33] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=3
[01:30:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(561.88855, 946.88995), shooter_id=1499295910396, bullet_pos=(918.3602, 910.41345)
[01:30:33] [INFO] [Bullet] Using shooter_position, distance=358,33307
[01:30:33] [INFO] [Bullet] Distance to wall: 358,33307 (24,399557% of viewport)
[01:30:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:33] [INFO] [Bullet] Starting wall penetration at (918.3602, 910.41345)
[01:30:33] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[01:30:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,93473
[01:30:33] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:33] [INFO] [Bullet] Exiting penetration at (964.7844, 905.663) after traveling 41,666668 pixels through wall
[01:30:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:30:33] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[01:30:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(603.4594, 989.9337), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[01:30:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(577.5688, 976.2009), shooter_id=1499295910396, bullet_pos=(918.8524, 866.9845)
[01:30:33] [INFO] [Bullet] Using shooter_position, distance=358,33328
[01:30:33] [INFO] [Bullet] Distance to wall: 358,33328 (24,399572% of viewport)
[01:30:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:33] [INFO] [Bullet] Starting wall penetration at (918.8524, 866.9845)
[01:30:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,662416
[01:30:33] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:33] [INFO] [Bullet] Exiting penetration at (963.29865, 852.761) after traveling 41,66667 pixels through wall
[01:30:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:30:33] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[01:30:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(603.45935, 989.93365), shooter_id=1499295910396, bullet_pos=(760.27686, 879.7321)
[01:30:33] [INFO] [Bullet] Using shooter_position, distance=191,66666
[01:30:33] [INFO] [Bullet] Distance to wall: 191,66666 (13,050936% of viewport)
[01:30:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(640.7213, 989.9337), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[01:30:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(603.45935, 989.93365), shooter_id=1499295910396, bullet_pos=(892.2432, 1005.18823)
[01:30:33] [INFO] [Bullet] Using shooter_position, distance=289,1865
[01:30:33] [INFO] [Bullet] Distance to wall: 289,1865 (19,69124% of viewport)
[01:30:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:33] [INFO] [Bullet] Starting wall penetration at (892.2432, 1005.18823)
[01:30:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,156807
[01:30:33] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:33] [INFO] [Bullet] Exiting penetration at (921.5355, 1033.0354) after traveling 35,416668 pixels through wall
[01:30:33] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[01:30:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(640.72125, 989.93365), shooter_id=1499295910396, bullet_pos=(748.68414, 885.7991)
[01:30:33] [INFO] [Bullet] Using shooter_position, distance=149,99998
[01:30:33] [INFO] [Bullet] Distance to wall: 149,99998 (10,213776% of viewport)
[01:30:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(679.0942, 989.6257), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[01:30:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(640.72125, 989.93365), shooter_id=1499295910396, bullet_pos=(877.69867, 1014.28864)
[01:30:33] [INFO] [Bullet] Using shooter_position, distance=238,22565
[01:30:33] [INFO] [Bullet] Distance to wall: 238,22565 (16,221222% of viewport)
[01:30:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(640.72125, 989.93365), shooter_id=1499295910396, bullet_pos=(898.09546, 985.71814)
[01:30:33] [INFO] [Bullet] Using shooter_position, distance=257,40872
[01:30:33] [INFO] [Bullet] Distance to wall: 257,40872 (17,527433% of viewport)
[01:30:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:33] [INFO] [Bullet] Starting wall penetration at (898.09546, 985.71814)
[01:30:33] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:30:33] [INFO] [Bullet] Exiting penetration at (918.49225, 957.14764) after traveling 30,104168 pixels through wall
[01:30:33] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[01:30:33] [ENEMY] [Enemy4] Hit taken, health: 2/3
[01:30:33] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:33] [INFO] [ImpactEffects] spawn_blood_effect called at (825.6102, 801.0918), dir=(1, 0), lethal=false
[01:30:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:33] [INFO] [ImpactEffects] _spawn_blood_decal called at (825.6102, 801.0918), intensity=0.5
[01:30:33] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:33] [INFO] [ImpactEffects] Blood decal spawned at (843.0286, 801.0918) (total: 23)
[01:30:33] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 801.0918) (dist=86 px)
[01:30:33] [INFO] [ImpactEffects] Blood effect spawned at (825.6102, 801.0918) (scale=1)
[01:30:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(712.254, 979.3891), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[01:30:33] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[01:30:33] [ENEMY] [Enemy4] Hit taken, health: 1/3
[01:30:33] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:33] [INFO] [ImpactEffects] spawn_blood_effect called at (837.5688, 767.9855), dir=(1, 0), lethal=false
[01:30:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:33] [INFO] [ImpactEffects] _spawn_blood_decal called at (837.5688, 767.9855), intensity=0.5
[01:30:33] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:33] [INFO] [ImpactEffects] Blood decal spawned at (862.7878, 767.9855) (total: 25)
[01:30:33] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 767.9855) (dist=74 px)
[01:30:33] [INFO] [ImpactEffects] Blood effect spawned at (837.5688, 767.9855) (scale=1)
[01:30:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(741.576, 965.1983), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[01:30:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(775.6535, 962.4883), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[01:30:33] [ENEMY] [Enemy4] Hit taken, health: 0/3
[01:30:33] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:33] [INFO] [ImpactEffects] spawn_blood_effect called at (862.2103, 699.7666), dir=(1, 0), lethal=true
[01:30:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:33] [INFO] [ImpactEffects] _spawn_blood_decal called at (862.2103, 699.7666), intensity=1.5
[01:30:33] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:33] [INFO] [ImpactEffects] Blood decal spawned at (885.2295, 699.7666) (total: 27)
[01:30:33] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 699.7666) (dist=49 px)
[01:30:33] [INFO] [ImpactEffects] Blood effect spawned at (862.2103, 699.7666) (scale=1.5)
[01:30:33] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[01:30:33] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:30:33] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[01:30:33] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:30:33] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[01:30:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(809.7869, 962.4883), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:30:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[01:30:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(834.3203, 962.4883), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:30:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[01:30:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(847.4758, 962.4883), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:30:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[01:30:34] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[01:30:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(847.4758, 962.4883), shooter_id=1499295910396, bullet_pos=(913.7651, 610.33984)
[01:30:34] [INFO] [Bullet] Using shooter_position, distance=358,33334
[01:30:34] [INFO] [Bullet] Distance to wall: 358,33334 (24,399576% of viewport)
[01:30:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(809.7869, 962.4883), shooter_id=1499295910396, bullet_pos=(934.7314, 45.965836)
[01:30:34] [INFO] [Bullet] Using shooter_position, distance=924,99976
[01:30:34] [INFO] [Bullet] Distance to wall: 924,99976 (62,984936% of viewport)
[01:30:34] [INFO] [Bullet] Distance-based penetration chance: 73,18424%
[01:30:34] [INFO] [Bullet] Starting wall penetration at (934.7314, 45.965836)
[01:30:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24,238323
[01:30:34] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:34] [INFO] [Bullet] Exiting penetration at (939.90924, 7.9838104) after traveling 33,33334 pixels through wall
[01:30:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:30:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(834.32025, 962.4883), shooter_id=1499295910396, bullet_pos=(974.80634, 48.21865)
[01:30:34] [INFO] [Bullet] Using shooter_position, distance=925,0002
[01:30:34] [INFO] [Bullet] Distance to wall: 925,0002 (62,984966% of viewport)
[01:30:34] [ENEMY] [Enemy4] Ragdoll activated
[01:30:34] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:30:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(847.4758, 962.4883), shooter_id=1499295910396, bullet_pos=(763.6509, 58.734314)
[01:30:34] [INFO] [Bullet] Using shooter_position, distance=907,6331
[01:30:34] [INFO] [Bullet] Distance to wall: 907,6331 (61,80241% of viewport)
[01:30:34] [INFO] [Bullet] Distance-based penetration chance: 74,56386%
[01:30:34] [INFO] [Bullet] Starting wall penetration at (763.6509, 58.734314)
[01:30:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 5,6267357
[01:30:34] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:34] [INFO] [Bullet] Exiting penetration at (754.89795, 26.570724) after traveling 28,333332 pixels through wall
[01:30:34] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[01:30:35] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[01:30:35] [ENEMY] [Enemy4] Death animation completed
[01:30:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(851.1028, 786.1774), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:30:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=5
[01:30:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(859.7361, 757.6255), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:30:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=4
[01:30:36] [ENEMY] [Enemy2] Hit taken, health: 3/4
[01:30:36] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:36] [INFO] [ImpactEffects] spawn_blood_effect called at (625.3335, 689.8066), dir=(1, 0), lethal=false
[01:30:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:36] [INFO] [ImpactEffects] _spawn_blood_decal called at (625.3335, 689.8066), intensity=0.5
[01:30:36] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:36] [INFO] [ImpactEffects] Blood decal spawned at (643.1691, 689.8066) (total: 29)
[01:30:36] [INFO] [ImpactEffects] Blood effect spawned at (625.3335, 689.8066) (scale=1)
[01:30:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(865.903, 739.7153), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:30:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=4
[01:30:36] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[01:30:36] [ENEMY] [Enemy2] Hit taken, health: 2/4
[01:30:36] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:36] [INFO] [ImpactEffects] spawn_blood_effect called at (628.3511, 692.8229), dir=(1, 0), lethal=false
[01:30:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:36] [INFO] [ImpactEffects] _spawn_blood_decal called at (628.3511, 692.8229), intensity=0.5
[01:30:36] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:36] [INFO] [ImpactEffects] Blood decal spawned at (646.9792, 692.8229) (total: 30)
[01:30:36] [INFO] [ImpactEffects] Blood effect spawned at (628.3511, 692.8229) (scale=1)
[01:30:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(868.3657, 732.563), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:30:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=4
[01:30:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(851.10284, 786.17737), shooter_id=1499295910396, bullet_pos=(56.87758, 562.9485)
[01:30:36] [INFO] [Bullet] Using shooter_position, distance=824,99994
[01:30:36] [INFO] [Bullet] Distance to wall: 824,99994 (56,175762% of viewport)
[01:30:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(631.3687, 695.8393), source=ENEMY (Enemy2), range=1469, listeners=8
[01:30:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=3
[01:30:36] [INFO] [LastChance] Threat detected: @Area2D@2311
[01:30:36] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(638.9126, 703.3802), source=ENEMY (Enemy2), range=1469, listeners=8
[01:30:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=4
[01:30:36] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[01:30:36] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[01:30:36] [INFO] [LastChance] Threat detected: @Area2D@2312
[01:30:36] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(868.4131, 732.4254), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:30:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=4
[01:30:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(851.10284, 786.17737), shooter_id=1499295910396, bullet_pos=(298.96164, 468.10498)
[01:30:36] [INFO] [Bullet] Using shooter_position, distance=637,20483
[01:30:36] [INFO] [Bullet] Distance to wall: 637,20483 (43,38845% of viewport)
[01:30:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(646.4565, 710.9211), source=ENEMY (Enemy2), range=1469, listeners=8
[01:30:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=4
[01:30:36] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[01:30:36] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[01:30:36] [INFO] [PenultimateHit] Starting penultimate hit effect:
[01:30:36] [INFO] [PenultimateHit]   - Time scale: 0.10
[01:30:36] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[01:30:36] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[01:30:36] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[01:30:36] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[01:30:36] [INFO] [PenultimateHit] Applying saturation to 8 enemies
[01:30:36] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[01:30:36] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[01:30:36] [INFO] [LastChance] Threat detected: @Area2D@2316
[01:30:36] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(868.4131, 732.4254), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:30:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=4
[01:30:36] [ENEMY] [Enemy1] Hit taken, health: 2/3
[01:30:36] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:36] [INFO] [ImpactEffects] spawn_blood_effect called at (454.388, 560.7278), dir=(1, 0), lethal=false
[01:30:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:36] [INFO] [ImpactEffects] _spawn_blood_decal called at (454.388, 560.7278), intensity=0.5
[01:30:36] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:36] [INFO] [ImpactEffects] Blood decal spawned at (465.0452, 560.7278) (total: 31)
[01:30:36] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 560.7278) (dist=45 px)
[01:30:36] [INFO] [ImpactEffects] Blood effect spawned at (454.388, 560.7278) (scale=1)
[01:30:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(713.3487, 723.4127), shooter_id=1496192125944, bullet_pos=(910.0773, 759.4362)
[01:30:37] [INFO] [Bullet] Using shooter_position, distance=199.999557495117
[01:30:37] [INFO] [Bullet] Distance to wall: 199.999557495117 (13.6183376365999% of viewport)
[01:30:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:37] [INFO] [Bullet] Starting wall penetration at (910.0773, 759.4362)
[01:30:37] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:30:37] [INFO] [Bullet] Exiting penetration at (919.094, 761.0872) after traveling 4.16666746139526 pixels through wall
[01:30:37] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:30:37] [ENEMY] [Enemy2] Hit taken, health: 1/4
[01:30:37] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:37] [INFO] [ImpactEffects] spawn_blood_effect called at (672.4832, 736.9377), dir=(1, 0), lethal=false
[01:30:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:37] [INFO] [ImpactEffects] _spawn_blood_decal called at (672.4832, 736.9377), intensity=0.5
[01:30:37] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:37] [INFO] [ImpactEffects] Blood decal spawned at (696.6555, 736.9377) (total: 33)
[01:30:37] [INFO] [ImpactEffects] Blood effect spawned at (672.4832, 736.9377) (scale=1)
[01:30:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(868.4131, 732.4254), source=PLAYER (AssaultRifle), range=1469, listeners=8
[01:30:37] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=4
[01:30:38] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:30:38] [INFO] [PenultimateHit] Ending penultimate hit effect
[01:30:38] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[01:30:38] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:30:38] [ENEMY] [Enemy1] Death animation component initialized
[01:30:38] [ENEMY] [Enemy2] Death animation component initialized
[01:30:38] [ENEMY] [Enemy3] Death animation component initialized
[01:30:38] [ENEMY] [Enemy4] Death animation component initialized
[01:30:38] [ENEMY] [Enemy5] Death animation component initialized
[01:30:38] [ENEMY] [Enemy6] Death animation component initialized
[01:30:38] [ENEMY] [Enemy7] Death animation component initialized
[01:30:38] [ENEMY] [Enemy8] Death animation component initialized
[01:30:38] [ENEMY] [Enemy9] Death animation component initialized
[01:30:38] [ENEMY] [Enemy10] Death animation component initialized
[01:30:38] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:30:38] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:30:38] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:30:38] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:30:38] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:30:38] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:30:38] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:30:38] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[01:30:38] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:30:38] [INFO] [ScoreManager] Level started with 10 enemies
[01:30:38] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[01:30:38] [ENEMY] [Enemy1] Registered as sound listener
[01:30:38] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[01:30:38] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[01:30:38] [ENEMY] [Enemy2] Registered as sound listener
[01:30:38] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[01:30:38] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[01:30:38] [ENEMY] [Enemy3] Registered as sound listener
[01:30:38] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[01:30:38] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[01:30:38] [ENEMY] [Enemy4] Registered as sound listener
[01:30:38] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[01:30:38] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[01:30:38] [ENEMY] [Enemy5] Registered as sound listener
[01:30:38] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[01:30:38] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[01:30:38] [ENEMY] [Enemy6] Registered as sound listener
[01:30:38] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[01:30:38] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[01:30:38] [ENEMY] [Enemy7] Registered as sound listener
[01:30:38] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[01:30:38] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[01:30:38] [ENEMY] [Enemy8] Registered as sound listener
[01:30:38] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[01:30:38] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[01:30:38] [ENEMY] [Enemy9] Registered as sound listener
[01:30:38] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[01:30:38] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[01:30:38] [ENEMY] [Enemy10] Registered as sound listener
[01:30:38] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[01:30:38] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:30:38] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:30:38] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:30:38] [INFO] [LastChance] Found player: Player
[01:30:38] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:30:38] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:30:38] [INFO] [LastChance] Connected to player Died signal (C#)
[01:30:38] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:30:38] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:30:38] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:30:38] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[01:30:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=18
[01:30:39] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[01:30:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:30:39] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[01:30:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=2086884347013, bullet_pos=(41.69983, 702.3934)
[01:30:39] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[01:30:39] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[01:30:39] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[01:30:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 815.4999), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:39] [ENEMY] [Enemy1] Heard gunshot at (450, 815.4999), source_type=0, intensity=0.01, distance=489
[01:30:39] [ENEMY] [Enemy2] Heard gunshot at (450, 815.4999), source_type=0, intensity=0.03, distance=270
[01:30:39] [ENEMY] [Enemy4] Heard gunshot at (450, 815.4999), source_type=0, intensity=0.02, distance=360
[01:30:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:30:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 815.49994), shooter_id=2087706430646, bullet_pos=(515.9917, 806.0371)
[01:30:39] [INFO] [Bullet] Using shooter_position, distance=66,6667
[01:30:39] [INFO] [Bullet] Distance to wall: 66,6667 (4,5394583% of viewport)
[01:30:39] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[01:30:39] [INFO] [Bullet] Starting wall penetration at (515.9917, 806.0371)
[01:30:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,576504
[01:30:39] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:39] [INFO] [Bullet] Exiting penetration at (562.1859, 799.4131) after traveling 41,666668 pixels through wall
[01:30:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:30:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=2086884347013, bullet_pos=(311.5273, 465.3409)
[01:30:39] [INFO] [Bullet] Using shooter_position, distance=1189.208984375
[01:30:39] [INFO] [Bullet] Distance to wall: 1189.208984375 (80.9754265085922% of viewport)
[01:30:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450.2863, 788.5595), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:30:39] [ENEMY] [Enemy3] Hit taken, health: 1/2
[01:30:39] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:39] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4577, 753.7969), dir=(1, 0), lethal=false
[01:30:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:39] [INFO] [ImpactEffects] _spawn_blood_decal called at (684.4577, 753.7969), intensity=0.5
[01:30:39] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:39] [INFO] [ImpactEffects] Blood decal spawned at (714.2992, 753.7969) (total: 34)
[01:30:39] [INFO] [ImpactEffects] Blood effect spawned at (684.4577, 753.7969) (scale=1)
[01:30:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(459.8043, 771.9429), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:30:39] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[01:30:39] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[01:30:39] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[01:30:39] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[01:30:39] [ENEMY] [Enemy3] Hit taken, health: 0/2
[01:30:39] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:39] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4577, 753.7969), dir=(1, 0), lethal=true
[01:30:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:39] [INFO] [ImpactEffects] _spawn_blood_decal called at (684.4577, 753.7969), intensity=1.5
[01:30:39] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:39] [INFO] [ImpactEffects] Blood decal spawned at (699.796, 753.7969) (total: 35)
[01:30:39] [INFO] [ImpactEffects] Blood effect spawned at (684.4577, 753.7969) (scale=1.5)
[01:30:39] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[01:30:39] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:30:39] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[01:30:39] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:30:39] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[01:30:39] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[01:30:39] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[01:30:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(480.6958, 763.4156), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[01:30:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(512.8611, 761.6071), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[01:30:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=2086884347013, bullet_pos=(921.0527, 905.0644)
[01:30:40] [INFO] [Bullet] Using shooter_position, distance=532.610717773438
[01:30:40] [INFO] [Bullet] Distance to wall: 532.610717773438 (36.2664431579434% of viewport)
[01:30:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:40] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[01:30:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(480.6958, 763.4156), shooter_id=2087706430646, bullet_pos=(938.81146, 749.28125)
[01:30:40] [INFO] [Bullet] Using shooter_position, distance=458,33365
[01:30:40] [INFO] [Bullet] Distance to wall: 458,33365 (31,20878% of viewport)
[01:30:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:40] [INFO] [Bullet] Starting wall penetration at (938.81146, 749.28125)
[01:30:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41,146156
[01:30:40] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:40] [INFO] [Bullet] Exiting penetration at (977.1266, 748.0991) after traveling 33,333336 pixels through wall
[01:30:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:30:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.0613, 761.6071), source=PLAYER (AssaultRifle), range=1469, listeners=9
[01:30:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[01:30:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=2086884347013, bullet_pos=(804.5253, 996.787)
[01:30:40] [INFO] [Bullet] Using shooter_position, distance=478.473449707031
[01:30:40] [INFO] [Bullet] Distance to wall: 478.473449707031 (32.5801370256439% of viewport)
[01:30:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(403.0635, 565.7039), source=ENEMY (Enemy2), range=1469, listeners=9
[01:30:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[01:30:40] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[01:30:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(512.8611, 761.60706), shooter_id=2087706430646, bullet_pos=(937.2134, 738.1475)
[01:30:40] [INFO] [Bullet] Using shooter_position, distance=425,00024
[01:30:40] [INFO] [Bullet] Distance to wall: 425,00024 (28,93905% of viewport)
[01:30:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:40] [INFO] [Bullet] Starting wall penetration at (937.2134, 738.1475)
[01:30:40] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[01:30:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,548576
[01:30:40] [INFO] [LastChance] Threat detected: @Area2D@2596
[01:30:40] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:40] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:40] [INFO] [Bullet] Exiting penetration at (975.4883, 736.03156) after traveling 33,333336 pixels through wall
[01:30:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:30:40] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[01:30:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(403.0635, 565.7039), source=ENEMY (Enemy2), range=1469, listeners=9
[01:30:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[01:30:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[01:30:40] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[01:30:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(548.0613, 761.60706), shooter_id=2087706430646, bullet_pos=(939.1253, 739.88635)
[01:30:40] [INFO] [Bullet] Using shooter_position, distance=391,66678
[01:30:40] [INFO] [Bullet] Distance to wall: 391,66678 (26,669312% of viewport)
[01:30:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:40] [INFO] [LastChance] Threat detected: @Area2D@2598
[01:30:40] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=2086884347013, bullet_pos=(686.4205, 886.4855)
[01:30:40] [INFO] [Bullet] Using shooter_position, distance=631.145263671875
[01:30:40] [INFO] [Bullet] Distance to wall: 631.145263671875 (42.9758415772211% of viewport)
[01:30:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(403.0635, 565.7039), source=ENEMY (Enemy2), range=1469, listeners=9
[01:30:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[01:30:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[01:30:40] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[01:30:40] [INFO] [PenultimateHit] Starting penultimate hit effect:
[01:30:40] [INFO] [PenultimateHit]   - Time scale: 0.10
[01:30:40] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[01:30:40] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[01:30:40] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[01:30:40] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[01:30:40] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[01:30:40] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[01:30:40] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[01:30:40] [INFO] [LastChance] Threat detected: @Area2D@2601
[01:30:40] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:40] [ENEMY] [Enemy3] Ragdoll activated
[01:30:40] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:30:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(403.0635, 565.7039), source=ENEMY (Enemy2), range=1469, listeners=9
[01:30:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[01:30:40] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[01:30:41] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[01:30:41] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[01:30:41] [INFO] [PenultimateHit] Player died - ending penultimate effect
[01:30:41] [INFO] [PenultimateHit] Ending penultimate hit effect
[01:30:41] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[01:30:41] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[01:30:41] [INFO] [LastChance] Player died
[01:30:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=2086884347013, bullet_pos=(552.8997, 996.867)
[01:30:41] [INFO] [Bullet] Using shooter_position, distance=627.245422363281
[01:30:41] [INFO] [Bullet] Distance to wall: 627.245422363281 (42.7102942113431% of viewport)
[01:30:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=2086884347013, bullet_pos=(525.1088, 973.314)
[01:30:41] [INFO] [Bullet] Using shooter_position, distance=663.610168457031
[01:30:41] [INFO] [Bullet] Distance to wall: 663.610168457031 (45.1864366417383% of viewport)
[01:30:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(445.9667, 618.6392), shooter_id=2084602644651, bullet_pos=(676.2984, 1005.223)
[01:30:41] [INFO] [Bullet] Using shooter_position, distance=449.99951171875
[01:30:41] [INFO] [Bullet] Distance to wall: 449.99951171875 (30.6412942290668% of viewport)
[01:30:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:41] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[01:30:41] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[01:30:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(445.9667, 618.6392), shooter_id=2084602644651, bullet_pos=(750.5524, 878.7418)
[01:30:41] [INFO] [Bullet] Using shooter_position, distance=400.531921386719
[01:30:41] [INFO] [Bullet] Distance to wall: 400.531921386719 (27.272955040481% of viewport)
[01:30:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:41] [ENEMY] [Enemy4] Hit taken, health: 3/4
[01:30:41] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:41] [INFO] [ImpactEffects] spawn_blood_effect called at (772.0828, 910.8323), dir=(0.644068, 0.764968), lethal=false
[01:30:41] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:41] [INFO] [ImpactEffects] _spawn_blood_decal called at (772.0828, 910.8323), intensity=0.5
[01:30:41] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:41] [INFO] [ImpactEffects] Blood decal spawned at (791.3672, 933.7366) (total: 36)
[01:30:41] [INFO] [ImpactEffects] Blood effect spawned at (772.0828, 910.8323) (scale=1)
[01:30:41] [ENEMY] [Enemy10] FLANKING started: target=(545.6329, 1032.46), side=right, pos=(1022.668, 1432.257)
[01:30:41] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[01:30:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=2086884347013, bullet_pos=(682.538, 841.4461)
[01:30:41] [INFO] [Bullet] Using shooter_position, distance=672.240783691406
[01:30:41] [INFO] [Bullet] Distance to wall: 672.240783691406 (45.7741111033489% of viewport)
[01:30:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(772.0828, 910.8323), source=ENEMY (Enemy4), range=1469, listeners=9
[01:30:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[01:30:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(772.0828, 910.8323), source=ENEMY (Enemy4), range=1469, listeners=9
[01:30:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[01:30:41] [INFO] [LastChance] Threat detected: @Area2D@2622
[01:30:41] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(772.0828, 910.8323), source=ENEMY (Enemy4), range=1469, listeners=9
[01:30:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[01:30:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:30:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:30:41] [ENEMY] [Enemy1] Death animation component initialized
[01:30:41] [ENEMY] [Enemy2] Death animation component initialized
[01:30:41] [ENEMY] [Enemy3] Death animation component initialized
[01:30:41] [ENEMY] [Enemy4] Death animation component initialized
[01:30:41] [ENEMY] [Enemy5] Death animation component initialized
[01:30:41] [ENEMY] [Enemy6] Death animation component initialized
[01:30:41] [ENEMY] [Enemy7] Death animation component initialized
[01:30:41] [ENEMY] [Enemy8] Death animation component initialized
[01:30:41] [ENEMY] [Enemy9] Death animation component initialized
[01:30:41] [ENEMY] [Enemy10] Death animation component initialized
[01:30:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:30:41] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:30:41] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:30:41] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:30:41] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:30:41] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:30:41] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:30:41] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[01:30:41] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:30:41] [INFO] [ScoreManager] Level started with 10 enemies
[01:30:41] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[01:30:41] [ENEMY] [Enemy1] Registered as sound listener
[01:30:41] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[01:30:41] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[01:30:41] [ENEMY] [Enemy2] Registered as sound listener
[01:30:41] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[01:30:41] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[01:30:41] [ENEMY] [Enemy3] Registered as sound listener
[01:30:41] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[01:30:41] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[01:30:41] [ENEMY] [Enemy4] Registered as sound listener
[01:30:41] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[01:30:41] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[01:30:41] [ENEMY] [Enemy5] Registered as sound listener
[01:30:41] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[01:30:41] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[01:30:41] [ENEMY] [Enemy6] Registered as sound listener
[01:30:41] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[01:30:41] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[01:30:41] [ENEMY] [Enemy7] Registered as sound listener
[01:30:41] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[01:30:41] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[01:30:41] [ENEMY] [Enemy8] Registered as sound listener
[01:30:41] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[01:30:41] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[01:30:41] [ENEMY] [Enemy9] Registered as sound listener
[01:30:41] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[01:30:41] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[01:30:41] [ENEMY] [Enemy10] Registered as sound listener
[01:30:41] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[01:30:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:30:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:30:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:30:41] [INFO] [LastChance] Found player: Player
[01:30:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:30:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:30:41] [INFO] [LastChance] Connected to player Died signal (C#)
[01:30:41] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:30:41] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:30:41] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:30:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:30:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:30:41] [ENEMY] [Enemy1] Death animation component initialized
[01:30:41] [ENEMY] [Enemy2] Death animation component initialized
[01:30:41] [ENEMY] [Enemy3] Death animation component initialized
[01:30:41] [ENEMY] [Enemy4] Death animation component initialized
[01:30:41] [ENEMY] [Enemy5] Death animation component initialized
[01:30:41] [ENEMY] [Enemy6] Death animation component initialized
[01:30:41] [ENEMY] [Enemy7] Death animation component initialized
[01:30:41] [ENEMY] [Enemy8] Death animation component initialized
[01:30:41] [ENEMY] [Enemy9] Death animation component initialized
[01:30:41] [ENEMY] [Enemy10] Death animation component initialized
[01:30:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:30:41] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:30:41] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:30:41] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:30:41] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:30:41] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:30:41] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:30:41] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[01:30:41] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:30:41] [INFO] [ScoreManager] Level started with 10 enemies
[01:30:41] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[01:30:41] [ENEMY] [Enemy1] Registered as sound listener
[01:30:41] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[01:30:41] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[01:30:41] [ENEMY] [Enemy2] Registered as sound listener
[01:30:41] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[01:30:41] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[01:30:41] [ENEMY] [Enemy3] Registered as sound listener
[01:30:41] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[01:30:41] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[01:30:41] [ENEMY] [Enemy4] Registered as sound listener
[01:30:41] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[01:30:41] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[01:30:41] [ENEMY] [Enemy5] Registered as sound listener
[01:30:41] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[01:30:41] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[01:30:41] [ENEMY] [Enemy6] Registered as sound listener
[01:30:41] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[01:30:41] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[01:30:41] [ENEMY] [Enemy7] Registered as sound listener
[01:30:41] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[01:30:41] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[01:30:41] [ENEMY] [Enemy8] Registered as sound listener
[01:30:41] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[01:30:41] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[01:30:41] [ENEMY] [Enemy9] Registered as sound listener
[01:30:41] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[01:30:41] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[01:30:41] [ENEMY] [Enemy10] Registered as sound listener
[01:30:41] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[01:30:41] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:30:41] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:30:41] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:30:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:30:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:30:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:30:41] [INFO] [LastChance] Found player: Player
[01:30:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:30:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:30:41] [INFO] [LastChance] Connected to player Died signal (C#)
[01:30:42] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[01:30:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1062.777, 1467.888), source=ENEMY (Enemy10), range=1469, listeners=29
[01:30:42] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[01:30:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:30:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1031.355, 1447.728), source=ENEMY (Enemy10), range=1469, listeners=10
[01:30:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:30:42] [INFO] [LastChance] Threat detected: Bullet
[01:30:42] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:42] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[01:30:42] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[01:30:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(999.6482, 1428.02), source=ENEMY (Enemy10), range=1469, listeners=10
[01:30:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:30:42] [INFO] [LastChance] Threat detected: @Area2D@3128
[01:30:42] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:42] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[01:30:42] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[01:30:43] [INFO] [LastChance] Threat detected: Bullet
[01:30:43] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(967.2866, 1415.79), source=ENEMY (Enemy10), range=1469, listeners=10
[01:30:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:30:43] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[01:30:43] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[01:30:43] [INFO] [PenultimateHit] Starting penultimate hit effect:
[01:30:43] [INFO] [PenultimateHit]   - Time scale: 0.10
[01:30:43] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[01:30:43] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[01:30:43] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[01:30:43] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[01:30:43] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[01:30:43] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[01:30:43] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[01:30:43] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:30:43] [INFO] [PenultimateHit] Ending penultimate hit effect
[01:30:43] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[01:30:43] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:30:43] [ENEMY] [Enemy1] Death animation component initialized
[01:30:43] [ENEMY] [Enemy2] Death animation component initialized
[01:30:43] [ENEMY] [Enemy3] Death animation component initialized
[01:30:43] [ENEMY] [Enemy4] Death animation component initialized
[01:30:43] [ENEMY] [Enemy5] Death animation component initialized
[01:30:43] [ENEMY] [Enemy6] Death animation component initialized
[01:30:43] [ENEMY] [Enemy7] Death animation component initialized
[01:30:43] [ENEMY] [Enemy8] Death animation component initialized
[01:30:43] [ENEMY] [Enemy9] Death animation component initialized
[01:30:43] [ENEMY] [Enemy10] Death animation component initialized
[01:30:43] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:30:43] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:30:43] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:30:43] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:30:43] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:30:43] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:30:43] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:30:43] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[01:30:43] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:30:43] [INFO] [ScoreManager] Level started with 10 enemies
[01:30:43] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[01:30:43] [ENEMY] [Enemy1] Registered as sound listener
[01:30:43] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[01:30:43] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[01:30:43] [ENEMY] [Enemy2] Registered as sound listener
[01:30:43] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[01:30:43] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[01:30:43] [ENEMY] [Enemy3] Registered as sound listener
[01:30:43] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[01:30:43] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[01:30:43] [ENEMY] [Enemy4] Registered as sound listener
[01:30:43] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[01:30:43] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[01:30:43] [ENEMY] [Enemy5] Registered as sound listener
[01:30:43] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[01:30:43] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[01:30:43] [ENEMY] [Enemy6] Registered as sound listener
[01:30:43] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[01:30:43] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[01:30:43] [ENEMY] [Enemy7] Registered as sound listener
[01:30:43] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[01:30:43] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[01:30:43] [ENEMY] [Enemy8] Registered as sound listener
[01:30:43] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[01:30:43] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[01:30:43] [ENEMY] [Enemy9] Registered as sound listener
[01:30:43] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[01:30:43] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[01:30:43] [ENEMY] [Enemy10] Registered as sound listener
[01:30:43] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[01:30:43] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:30:43] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:30:43] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:30:43] [INFO] [LastChance] Found player: Player
[01:30:43] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:30:43] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:30:43] [INFO] [LastChance] Connected to player Died signal (C#)
[01:30:43] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:30:43] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:30:43] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:30:46] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[01:30:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(871.9995, 1380.648), source=PLAYER (AssaultRifle), range=1469, listeners=20
[01:30:46] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[01:30:46] [ENEMY] [Enemy4] Heard gunshot at (871.9995, 1380.648), source_type=0, intensity=0.01, distance=486
[01:30:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[01:30:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(871.9995, 1342.148), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[01:30:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(871.9995, 1306.426), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[01:30:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(871.99945, 1380.6483), shooter_id=2438752897017, bullet_pos=(1489.5852, 1692.0828)
[01:30:46] [INFO] [Bullet] Using shooter_position, distance=691,66724
[01:30:46] [INFO] [Bullet] Distance to wall: 691,66724 (47,096897% of viewport)
[01:30:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(871.99945, 1306.4261), shooter_id=2438752897017, bullet_pos=(999.5668, 1385.3348)
[01:30:46] [INFO] [Bullet] Using shooter_position, distance=150,00002
[01:30:46] [INFO] [Bullet] Distance to wall: 150,00002 (10,213778% of viewport)
[01:30:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(871.99945, 1306.4261), shooter_id=2438752897017, bullet_pos=(995.33875, 1388.0039)
[01:30:46] [INFO] [Bullet] Using shooter_position, distance=147,87668
[01:30:46] [INFO] [Bullet] Distance to wall: 147,87668 (10,069195% of viewport)
[01:30:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:46] [INFO] [LastChance] Threat detected: @Area2D@3384
[01:30:46] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:46] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[01:30:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(871.9995, 1283.482), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[01:30:46] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[01:30:46] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[01:30:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(871.99945, 1342.1483), shooter_id=2438752897017, bullet_pos=(1507.8473, 1690.4606)
[01:30:46] [INFO] [Bullet] Using shooter_position, distance=724,9992
[01:30:46] [INFO] [Bullet] Distance to wall: 724,9992 (49,36653% of viewport)
[01:30:46] [INFO] [Bullet] Distance-based penetration chance: 89,07238%
[01:30:46] [INFO] [Bullet] Starting wall penetration at (1507.8473, 1690.4606)
[01:30:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33,598324
[01:30:46] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:46] [INFO] [Bullet] Exiting penetration at (1541.4668, 1708.8771) after traveling 33,333336 pixels through wall
[01:30:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:30:46] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[01:30:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(871.9995, 1274.751), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[01:30:46] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[01:30:46] [ENEMY] [Enemy10] Hit taken, health: 2/3
[01:30:46] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:46] [INFO] [ImpactEffects] spawn_blood_effect called at (1104.708, 1495.114), dir=(1, 0), lethal=false
[01:30:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:46] [INFO] [ImpactEffects] _spawn_blood_decal called at (1104.708, 1495.114), intensity=0.5
[01:30:46] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:46] [INFO] [ImpactEffects] Blood decal spawned at (1119.088, 1495.114) (total: 37)
[01:30:46] [INFO] [ImpactEffects] Blood effect spawned at (1104.708, 1495.114) (scale=1)
[01:30:46] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[01:30:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(871.99945, 1274.7506), shooter_id=2438752897017, bullet_pos=(987.1156, 1383.4602)
[01:30:46] [INFO] [Bullet] Using shooter_position, distance=158,33353
[01:30:46] [INFO] [Bullet] Distance to wall: 158,33353 (10,781221% of viewport)
[01:30:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(871.9995, 1278.306), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[01:30:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(871.99945, 1274.7506), shooter_id=2438752897017, bullet_pos=(900.0608, 1463.6116)
[01:30:46] [INFO] [Bullet] Using shooter_position, distance=190,9343
[01:30:46] [INFO] [Bullet] Distance to wall: 190,9343 (13,001068% of viewport)
[01:30:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:46] [INFO] [Bullet] Starting wall penetration at (900.0608, 1463.6116)
[01:30:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,939146
[01:30:46] [INFO] [Bullet] Body exited signal received for penetrating body
[01:30:46] [INFO] [Bullet] Exiting penetration at (875.5383, 1486.1895) after traveling 28,333334 pixels through wall
[01:30:46] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[01:30:46] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[01:30:46] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[01:30:46] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[01:30:46] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[01:30:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(871.9995, 1295.515), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:30:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[01:30:46] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[01:30:46] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[01:30:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(871.99945, 1295.515), shooter_id=2438752897017, bullet_pos=(987.38434, 1403.9393)
[01:30:46] [INFO] [Bullet] Using shooter_position, distance=158,33353
[01:30:46] [INFO] [Bullet] Distance to wall: 158,33353 (10,781221% of viewport)
[01:30:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:46] [INFO] [Bullet] Starting wall penetration at (987.38434, 1403.9393)
[01:30:46] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:30:46] [INFO] [Bullet] Exiting penetration at (1015.31964, 1430.1895) after traveling 33,333336 pixels through wall
[01:30:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:30:46] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[01:30:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(871.99945, 1278.3062), shooter_id=2438752897017, bullet_pos=(1209.5768, 1635.7667)
[01:30:46] [INFO] [Bullet] Using shooter_position, distance=491,66708
[01:30:46] [INFO] [Bullet] Distance to wall: 491,66708 (33,478516% of viewport)
[01:30:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:30:46] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[01:30:47] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[01:30:47] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[01:30:47] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[01:30:47] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[01:30:47] [INFO] [PauseMenu] Armory button pressed
[01:30:47] [INFO] [PauseMenu] Creating new armory menu instance
[01:30:47] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[01:30:47] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[01:30:47] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[01:30:47] [INFO] [PauseMenu] back_pressed signal exists on instance
[01:30:47] [INFO] [PauseMenu] back_pressed signal connected
[01:30:48] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[01:30:48] [INFO] [PauseMenu] _populate_weapon_grid method exists
[01:30:48] [INFO] [GameManager] Weapon selected: shotgun
[01:30:48] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:30:48] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:30:48] [ENEMY] [Enemy1] Death animation component initialized
[01:30:48] [ENEMY] [Enemy2] Death animation component initialized
[01:30:48] [ENEMY] [Enemy3] Death animation component initialized
[01:30:48] [ENEMY] [Enemy4] Death animation component initialized
[01:30:48] [ENEMY] [Enemy5] Death animation component initialized
[01:30:48] [ENEMY] [Enemy6] Death animation component initialized
[01:30:48] [ENEMY] [Enemy7] Death animation component initialized
[01:30:48] [ENEMY] [Enemy8] Death animation component initialized
[01:30:48] [ENEMY] [Enemy9] Death animation component initialized
[01:30:48] [ENEMY] [Enemy10] Death animation component initialized
[01:30:48] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:30:48] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:30:48] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:30:48] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:30:48] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:30:48] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:30:48] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:30:48] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[01:30:48] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:30:48] [INFO] [ScoreManager] Level started with 10 enemies
[01:30:48] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[01:30:48] [ENEMY] [Enemy1] Registered as sound listener
[01:30:48] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[01:30:48] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[01:30:48] [ENEMY] [Enemy2] Registered as sound listener
[01:30:48] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[01:30:48] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[01:30:48] [ENEMY] [Enemy3] Registered as sound listener
[01:30:48] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[01:30:48] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[01:30:48] [ENEMY] [Enemy4] Registered as sound listener
[01:30:48] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[01:30:48] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[01:30:48] [ENEMY] [Enemy5] Registered as sound listener
[01:30:48] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[01:30:48] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[01:30:48] [ENEMY] [Enemy6] Registered as sound listener
[01:30:48] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[01:30:48] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[01:30:48] [ENEMY] [Enemy7] Registered as sound listener
[01:30:48] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[01:30:48] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[01:30:48] [ENEMY] [Enemy8] Registered as sound listener
[01:30:48] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[01:30:48] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[01:30:48] [ENEMY] [Enemy9] Registered as sound listener
[01:30:48] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[01:30:48] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[01:30:48] [ENEMY] [Enemy10] Registered as sound listener
[01:30:48] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[01:30:48] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:30:48] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[01:30:48] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[01:30:48] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:30:48] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:30:48] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:30:48] [INFO] [LastChance] Found player: Player
[01:30:48] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:30:48] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:30:48] [INFO] [LastChance] Connected to player Died signal (C#)
[01:30:51] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[01:30:51] [ENEMY] [Enemy1] Player ammo empty state changed: false -> true
[01:30:51] [ENEMY] [Enemy2] Player ammo empty state changed: false -> true
[01:30:51] [ENEMY] [Enemy3] Player ammo empty state changed: false -> true
[01:30:51] [ENEMY] [Enemy4] Player ammo empty state changed: false -> true
[01:30:51] [ENEMY] [Enemy5] Player ammo empty state changed: false -> true
[01:30:51] [ENEMY] [Enemy6] Player ammo empty state changed: false -> true
[01:30:51] [ENEMY] [Enemy7] Player ammo empty state changed: false -> true
[01:30:51] [ENEMY] [Enemy8] Player ammo empty state changed: false -> true
[01:30:51] [ENEMY] [Enemy9] Player ammo empty state changed: false -> true
[01:30:51] [ENEMY] [Enemy10] Player ammo empty state changed: false -> true
[01:30:51] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(871.9326, 1318.522), source=PLAYER (Player), range=600, listeners=20
[01:30:51] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[01:30:51] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (871.9326, 1318.522), intensity=0.01, distance=425
[01:30:51] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:30:51] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (871.9326, 1318.522), intensity=0.02, distance=348
[01:30:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=1
[01:30:51] [INFO] [Shotgun.FIX#212] Firing 7 pellets with 15° spread at pos=(871.9326, 1318.522)
[01:30:51] [INFO] [Shotgun.FIX#212] Normal pellet 1/7: extraOffset=12,3, distance=37,3px, pos=(901.815, 1340.8835)
[01:30:51] [INFO] [Shotgun.FIX#212] Normal pellet 2/7: extraOffset=12,6, distance=37,6px, pos=(900.0827, 1343.4524)
[01:30:51] [INFO] [Shotgun.FIX#212] Normal pellet 3/7: extraOffset=7,0, distance=32,0px, pos=(895.74396, 1339.846)
[01:30:51] [INFO] [Shotgun.FIX#212] Normal pellet 4/7: extraOffset=7,5, distance=32,5px, pos=(894.3773, 1342.0483)
[01:30:51] [INFO] [Shotgun.FIX#212] Normal pellet 5/7: extraOffset=7,2, distance=32,2px, pos=(893.4066, 1342.5144)
[01:30:51] [INFO] [Shotgun.FIX#212] Normal pellet 6/7: extraOffset=-3,8, distance=21,2px, pos=(885.465, 1334.8981)
[01:30:51] [INFO] [Shotgun.FIX#212] Normal pellet 7/7: extraOffset=-2,0, distance=23,0px, pos=(885.5182, 1337.0721)
[01:30:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(871.9326, 1318.522), source=PLAYER (Shotgun), range=1469, listeners=10
[01:30:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[01:30:51] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1125), can_see=false
[01:30:51] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=902), can_see=false
[01:30:51] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=594), can_see=false
[01:30:51] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=425), can_see=false
[01:30:51] [ENEMY] [Enemy4] Pursuing vulnerability sound at (871.9326, 1318.522), distance=425
[01:30:51] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1274), can_see=false
[01:30:51] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1384), can_see=false
[01:30:51] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=926), can_see=false
[01:30:51] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1036), can_see=false
[01:30:51] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1250), can_see=false
[01:30:51] [ENEMY] [Enemy10] Player empty ammo - priority attack triggered
[01:30:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1129.514, 1552.855), source=ENEMY (Enemy10), range=1469, listeners=10
[01:30:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:30:51] [INFO] [LastChance] Threat detected: Bullet
[01:30:51] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:51] [ENEMY] [Enemy10] Hit taken, health: 3/4
[01:30:51] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:51] [INFO] [ImpactEffects] spawn_blood_effect called at (1102.372, 1527.227), dir=(1, 0), lethal=false
[01:30:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:51] [INFO] [ImpactEffects] _spawn_blood_decal called at (1102.372, 1527.227), intensity=0.5
[01:30:51] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:51] [INFO] [ImpactEffects] Blood decal spawned at (1123.695, 1527.227) (total: 38)
[01:30:51] [INFO] [ImpactEffects] Blood effect spawned at (1102.372, 1527.227) (scale=1)
[01:30:51] [ENEMY] [Enemy10] Hit taken, health: 2/4
[01:30:51] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:51] [INFO] [ImpactEffects] spawn_blood_effect called at (1102.372, 1527.227), dir=(1, 0), lethal=false
[01:30:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:51] [INFO] [ImpactEffects] _spawn_blood_decal called at (1102.372, 1527.227), intensity=0.5
[01:30:51] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:51] [INFO] [ImpactEffects] Blood decal spawned at (1119.696, 1527.227) (total: 39)
[01:30:51] [INFO] [ImpactEffects] Blood effect spawned at (1102.372, 1527.227) (scale=1)
[01:30:51] [ENEMY] [Enemy10] Hit taken, health: 1/4
[01:30:51] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:51] [INFO] [ImpactEffects] spawn_blood_effect called at (1102.372, 1527.227), dir=(1, 0), lethal=false
[01:30:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:51] [INFO] [ImpactEffects] _spawn_blood_decal called at (1102.372, 1527.227), intensity=0.5
[01:30:51] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:51] [INFO] [ImpactEffects] Blood decal spawned at (1115.067, 1527.227) (total: 40)
[01:30:51] [INFO] [ImpactEffects] Blood effect spawned at (1102.372, 1527.227) (scale=1)
[01:30:51] [ENEMY] [Enemy10] Player empty ammo - priority attack triggered
[01:30:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1102.372, 1527.227), source=ENEMY (Enemy10), range=1469, listeners=10
[01:30:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:30:51] [INFO] [LastChance] Threat detected: @Area2D@3698
[01:30:51] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:51] [ENEMY] [Enemy10] Player empty ammo - priority attack triggered
[01:30:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.404, 1502.415), source=ENEMY (Enemy10), range=1469, listeners=10
[01:30:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:30:51] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[01:30:51] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[01:30:51] [INFO] [LastChance] Threat detected: @Area2D@3700
[01:30:51] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1074.261, 1513.135), shooter_id=2689605832009, bullet_pos=(537.9794, 1025.255)
[01:30:52] [INFO] [Bullet] Using shooter_position, distance=724.999938964844
[01:30:52] [INFO] [Bullet] Distance to wall: 724.999938964844 (49.3665790014492% of viewport)
[01:30:52] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[01:30:52] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[01:30:52] [INFO] [PenultimateHit] Starting penultimate hit effect:
[01:30:52] [INFO] [PenultimateHit]   - Time scale: 0.10
[01:30:52] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[01:30:52] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[01:30:52] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[01:30:52] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[01:30:52] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[01:30:52] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[01:30:52] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[01:30:52] [ENEMY] [Enemy10] Player empty ammo - priority attack triggered
[01:30:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1052.588, 1478.211), source=ENEMY (Enemy10), range=1469, listeners=10
[01:30:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:30:52] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1119), can_see=false
[01:30:52] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=896), can_see=false
[01:30:52] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=587), can_see=false
[01:30:52] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=511), can_see=false
[01:30:52] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1269), can_see=false
[01:30:52] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1380), can_see=false
[01:30:52] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=923), can_see=false
[01:30:52] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1037), can_see=false
[01:30:52] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1251), can_see=false
[01:30:52] [INFO] [LastChance] Threat detected: @Area2D@3703
[01:30:52] [INFO] [LastChance] Not in hard mode - effect disabled
[01:30:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:30:52] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:30:52] [INFO] [PenultimateHit] Ending penultimate hit effect
[01:30:52] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[01:30:52] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:30:52] [ENEMY] [Enemy1] Death animation component initialized
[01:30:52] [ENEMY] [Enemy2] Death animation component initialized
[01:30:52] [ENEMY] [Enemy3] Death animation component initialized
[01:30:52] [ENEMY] [Enemy4] Death animation component initialized
[01:30:52] [ENEMY] [Enemy5] Death animation component initialized
[01:30:52] [ENEMY] [Enemy6] Death animation component initialized
[01:30:52] [ENEMY] [Enemy7] Death animation component initialized
[01:30:52] [ENEMY] [Enemy8] Death animation component initialized
[01:30:52] [ENEMY] [Enemy9] Death animation component initialized
[01:30:52] [ENEMY] [Enemy10] Death animation component initialized
[01:30:52] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:30:52] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:30:52] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:30:52] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:30:52] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:30:52] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:30:52] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:30:52] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[01:30:52] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:30:52] [INFO] [ScoreManager] Level started with 10 enemies
[01:30:52] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[01:30:52] [ENEMY] [Enemy1] Registered as sound listener
[01:30:52] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[01:30:52] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[01:30:52] [ENEMY] [Enemy2] Registered as sound listener
[01:30:52] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[01:30:52] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[01:30:52] [ENEMY] [Enemy3] Registered as sound listener
[01:30:52] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[01:30:52] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[01:30:52] [ENEMY] [Enemy4] Registered as sound listener
[01:30:52] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[01:30:52] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[01:30:52] [ENEMY] [Enemy5] Registered as sound listener
[01:30:52] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[01:30:52] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[01:30:52] [ENEMY] [Enemy6] Registered as sound listener
[01:30:52] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[01:30:52] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[01:30:52] [ENEMY] [Enemy7] Registered as sound listener
[01:30:52] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[01:30:52] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[01:30:52] [ENEMY] [Enemy8] Registered as sound listener
[01:30:52] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[01:30:52] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[01:30:52] [ENEMY] [Enemy9] Registered as sound listener
[01:30:52] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[01:30:52] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[01:30:52] [ENEMY] [Enemy10] Registered as sound listener
[01:30:52] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[01:30:52] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:30:52] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:30:52] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:30:52] [INFO] [LastChance] Found player: Player
[01:30:52] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:30:52] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:30:52] [INFO] [LastChance] Connected to player Died signal (C#)
[01:30:52] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:30:52] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[01:30:52] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[01:30:53] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[01:30:53] [ENEMY] [Enemy1] Player ammo empty state changed: false -> true
[01:30:53] [ENEMY] [Enemy2] Player ammo empty state changed: false -> true
[01:30:53] [ENEMY] [Enemy3] Player ammo empty state changed: false -> true
[01:30:53] [ENEMY] [Enemy4] Player ammo empty state changed: false -> true
[01:30:53] [ENEMY] [Enemy5] Player ammo empty state changed: false -> true
[01:30:53] [ENEMY] [Enemy6] Player ammo empty state changed: false -> true
[01:30:53] [ENEMY] [Enemy7] Player ammo empty state changed: false -> true
[01:30:53] [ENEMY] [Enemy8] Player ammo empty state changed: false -> true
[01:30:53] [ENEMY] [Enemy9] Player ammo empty state changed: false -> true
[01:30:53] [ENEMY] [Enemy10] Player ammo empty state changed: false -> true
[01:30:53] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(524.2297, 1095.806), source=PLAYER (Player), range=600, listeners=20
[01:30:53] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[01:30:53] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (524.2297, 1095.806), intensity=0.02, distance=388
[01:30:53] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:30:53] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (524.2297, 1095.806), intensity=0.02, distance=338
[01:30:53] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:30:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=1
[01:30:53] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(524.2297, 1095.8059)
[01:30:53] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=8,7, distance=33,7px, pos=(554.71155, 1110.181)
[01:30:53] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=7,7, distance=32,7px, pos=(553.4796, 1110.4982)
[01:30:53] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=-0,8, distance=24,2px, pos=(545.8269, 1106.8175)
[01:30:53] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=9,6, distance=34,6px, pos=(554.4118, 1112.6654)
[01:30:53] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=2,0, distance=27,0px, pos=(547.53577, 1109.4972)
[01:30:53] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=1,7, distance=26,7px, pos=(546.933, 1109.8179)
[01:30:53] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=-13,8, distance=11,2px, pos=(533.5596, 1102.0061)
[01:30:53] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=14,6, distance=39,6px, pos=(556.8402, 1118.2605)
[01:30:53] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=7,5, distance=32,5px, pos=(550.59845, 1114.764)
[01:30:53] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=-1,9, distance=23,1px, pos=(542.71313, 1109.6019)
[01:30:53] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=-13,2, distance=11,8px, pos=(533.5597, 1103.0206)
[01:30:53] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=-9,7, distance=15,3px, pos=(535.96075, 1105.5945)
[01:30:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.2297, 1095.806), source=PLAYER (Shotgun), range=1469, listeners=10
[01:30:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[01:30:53] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=779), can_see=false
[01:30:53] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=560), can_see=false
[01:30:53] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=388), can_see=false
[01:30:53] [ENEMY] [Enemy3] Pursuing vulnerability sound at (524.2297, 1095.806), distance=388
[01:30:53] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=338), can_see=false
[01:30:53] [ENEMY] [Enemy4] Pursuing vulnerability sound at (524.2297, 1095.806), distance=338
[01:30:53] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1392), can_see=false
[01:30:53] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1565), can_see=false
[01:30:53] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1102), can_see=false
[01:30:53] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1421), can_see=false
[01:30:53] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1640), can_see=false
[01:30:53] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=687), can_see=true
[01:30:53] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) - pursuing to attack (dist=687)
[01:30:53] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[01:30:53] [ENEMY] [Enemy10] Hit taken, health: 1/2
[01:30:53] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:53] [INFO] [ImpactEffects] spawn_blood_effect called at (1090.19, 1484.406), dir=(1, 0), lethal=false
[01:30:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:53] [INFO] [ImpactEffects] _spawn_blood_decal called at (1090.19, 1484.406), intensity=0.5
[01:30:53] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:53] [INFO] [ImpactEffects] Blood decal spawned at (1110.966, 1484.406) (total: 41)
[01:30:53] [INFO] [ImpactEffects] Blood effect spawned at (1090.19, 1484.406) (scale=1)
[01:30:53] [ENEMY] [Enemy10] Hit taken, health: 0/2
[01:30:53] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:53] [INFO] [ImpactEffects] spawn_blood_effect called at (1090.19, 1484.406), dir=(1, 0), lethal=true
[01:30:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:53] [INFO] [ImpactEffects] _spawn_blood_decal called at (1090.19, 1484.406), intensity=1.5
[01:30:53] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:53] [INFO] [ImpactEffects] Blood decal spawned at (1110.719, 1484.406) (total: 42)
[01:30:53] [INFO] [ImpactEffects] Blood effect spawned at (1090.19, 1484.406) (scale=1.5)
[01:30:53] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[01:30:53] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:30:53] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[01:30:53] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:30:53] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[01:30:53] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=900), can_see=false
[01:30:53] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=679), can_see=false
[01:30:53] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=434), can_see=false
[01:30:53] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=448), can_see=false
[01:30:53] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1390), can_see=false
[01:30:53] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1544), can_see=false
[01:30:53] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1053), can_see=false
[01:30:53] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1325), can_see=false
[01:30:53] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1541), can_see=false
[01:30:54] [ENEMY] [Enemy10] Ragdoll activated
[01:30:54] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:30:54] [ENEMY] [Enemy3] Pursuing vulnerability sound at (524.2297, 1095.806), distance=272
[01:30:54] [ENEMY] [Enemy4] Pursuing vulnerability sound at (524.2297, 1095.806), distance=339
[01:30:54] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1026), can_see=false
[01:30:54] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=805), can_see=false
[01:30:54] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=513), can_see=false
[01:30:54] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=533), can_see=false
[01:30:54] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1434), can_see=false
[01:30:54] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1570), can_see=false
[01:30:54] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1101), can_see=false
[01:30:54] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1265), can_see=false
[01:30:54] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1477), can_see=false
[01:30:54] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1118), can_see=false
[01:30:54] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=895), can_see=false
[01:30:54] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=495), can_see=true
[01:30:54] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) - pursuing to attack (dist=495)
[01:30:54] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[01:30:54] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=639), can_see=false
[01:30:54] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1401), can_see=false
[01:30:54] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1519), can_see=false
[01:30:54] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1065), can_see=false
[01:30:54] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1157), can_see=false
[01:30:54] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1366), can_see=false
[01:30:55] [ENEMY] [Enemy3] FLANKING started: target=(835.4825, 1194.896), side=right, pos=(469.8553, 969.0255)
[01:30:55] [ENEMY] [Enemy3] State: COMBAT -> FLANKING
[01:30:55] [ENEMY] [Enemy3] FLANKING started: target=(837.781, 1193.909), side=right, pos=(470.2451, 973.2744)
[01:30:55] [ENEMY] [Enemy3] FLANKING started: target=(840.0582, 1192.943), side=right, pos=(470.635, 977.5232)
[01:30:55] [ENEMY] [Enemy3] FLANKING started: target=(563.9625, 1398.202), side=left, pos=(471.0248, 981.772)
[01:30:55] [ENEMY] [Enemy3] FLANKING started: target=(844.5513, 1191.073), side=right, pos=(471.4146, 986.0209)
[01:30:55] [ENEMY] [Enemy3] FLANKING started: target=(846.7684, 1190.171), side=right, pos=(471.8045, 990.2697)
[01:30:55] [ENEMY] [Enemy3] FLANKING started: target=(578.093, 1405.225), side=left, pos=(472.1943, 994.5186)
[01:30:55] [ENEMY] [Enemy3] FLANKING started: target=(582.8611, 1407.575), side=left, pos=(472.5841, 998.7674)
[01:30:55] [ENEMY] [Enemy3] FLANKING started: target=(587.6584, 1409.927), side=left, pos=(472.974, 1003.016)
[01:30:55] [ENEMY] [Enemy3] FLANKING started: target=(592.4849, 1412.282), side=left, pos=(473.3638, 1007.265)
[01:30:55] [ENEMY] [Enemy3] FLANKING started: target=(597.3408, 1414.637), side=left, pos=(473.7536, 1011.514)
[01:30:55] [ENEMY] [Enemy3] FLANKING started: target=(602.226, 1416.992), side=left, pos=(474.1435, 1015.763)
[01:30:55] [ENEMY] [Enemy3] FLANKING started: target=(607.1405, 1419.345), side=left, pos=(474.5333, 1020.012)
[01:30:55] [ENEMY] [Enemy3] FLANKING started: target=(612.0843, 1421.696), side=left, pos=(474.9231, 1024.26)
[01:30:55] [ENEMY] [Enemy3] State: FLANKING -> PURSUING
[01:30:55] [ENEMY] [Enemy4] Pursuing vulnerability sound at (524.2297, 1095.806), distance=247
[01:30:55] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1179), can_see=false
[01:30:55] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=956), can_see=false
[01:30:55] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=483), can_see=true
[01:30:55] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=657), can_see=false
[01:30:55] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1312), can_see=false
[01:30:55] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1414), can_see=false
[01:30:55] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=945), can_see=false
[01:30:55] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1021), can_see=false
[01:30:55] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1231), can_see=false
[01:30:55] [ENEMY] [Enemy10] Death animation completed
[01:30:55] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[01:30:55] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[01:30:55] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[01:30:56] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) - pursuing to attack (dist=527)
[01:30:56] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[01:30:56] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=606)
[01:30:56] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[01:30:56] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1208), can_see=false
[01:30:56] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=986), can_see=false
[01:30:56] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=527), can_see=true
[01:30:56] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=603), can_see=true
[01:30:56] [ENEMY] [Enemy4] FLANKING started: target=(751.4373, 1446.507), side=left, pos=(470.9288, 994.3391)
[01:30:56] [ENEMY] [Enemy4] State: COMBAT -> FLANKING
[01:30:56] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1277), can_see=false
[01:30:56] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1371), can_see=false
[01:30:56] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=896), can_see=false
[01:30:56] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=964), can_see=false
[01:30:56] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1175), can_see=false
[01:30:56] [ENEMY] [Enemy4] FLANKING started: target=(751.7896, 1447.428), side=left, pos=(471.4444, 998.5745)
[01:30:56] [ENEMY] [Enemy4] FLANKING started: target=(752.1503, 1448.356), side=left, pos=(471.9599, 1002.81)
[01:30:56] [ENEMY] [Enemy4] FLANKING started: target=(752.5193, 1449.292), side=left, pos=(472.4755, 1007.045)
[01:30:56] [ENEMY] [Enemy4] FLANKING started: target=(752.8969, 1450.235), side=left, pos=(472.9911, 1011.281)
[01:30:56] [ENEMY] [Enemy4] FLANKING started: target=(753.2831, 1451.186), side=left, pos=(473.5066, 1015.516)
[01:30:56] [ENEMY] [Enemy4] FLANKING started: target=(753.6783, 1452.145), side=left, pos=(474.0222, 1019.752)
[01:30:56] [ENEMY] [Enemy4] FLANKING started: target=(754.0826, 1453.112), side=left, pos=(474.5378, 1023.987)
[01:30:56] [ENEMY] [Enemy4] FLANKING started: target=(754.4962, 1454.086), side=left, pos=(475.0533, 1028.222)
[01:30:56] [ENEMY] [Enemy4] State: FLANKING -> PURSUING
[01:30:56] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[01:30:56] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[01:30:56] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:30:56] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:30:56] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:30:56] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:30:56] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1208), can_see=false
[01:30:56] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=986), can_see=false
[01:30:56] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=527), can_see=true
[01:30:56] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=508), can_see=true
[01:30:56] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[01:30:56] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1278), can_see=false
[01:30:56] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1371), can_see=false
[01:30:56] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=896), can_see=false
[01:30:56] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=964), can_see=false
[01:30:56] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1175), can_see=false
[01:30:56] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[01:30:56] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[01:30:56] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[01:30:57] [INFO] [Shotgun.FIX#243] RMB released after 32 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:30:57] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1310), can_see=false
[01:30:57] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1087), can_see=false
[01:30:57] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=609), can_see=false
[01:30:57] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=591), can_see=false
[01:30:57] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1364), can_see=false
[01:30:57] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1442), can_see=false
[01:30:57] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=887), can_see=false
[01:30:57] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=952), can_see=false
[01:30:57] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1153), can_see=false
[01:30:57] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:30:57] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:30:57] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:30:57] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:30:57] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:30:57] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:30:57] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[01:30:57] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[01:30:57] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:30:57] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1336), can_see=false
[01:30:57] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1113), can_see=false
[01:30:57] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=632), can_see=false
[01:30:57] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=614), can_see=false
[01:30:57] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1382), can_see=false
[01:30:57] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1457), can_see=false
[01:30:57] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=900), can_see=false
[01:30:57] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=947), can_see=false
[01:30:57] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1146), can_see=false
[01:30:57] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:30:57] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:30:57] [INFO] [Shotgun.FIX#243] RMB released after 9 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:30:57] [INFO] [Shotgun.FIX#243] Bolt open BLOCKED by cooldown
[01:30:58] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1330), can_see=false
[01:30:58] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1107), can_see=false
[01:30:58] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=627), can_see=false
[01:30:58] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=609), can_see=false
[01:30:58] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1377), can_see=false
[01:30:58] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1452), can_see=false
[01:30:58] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=895), can_see=false
[01:30:58] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=947), can_see=false
[01:30:58] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1146), can_see=false
[01:30:58] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=525)
[01:30:58] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) - pursuing to attack (dist=579)
[01:30:58] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[01:30:58] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[01:30:58] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[01:30:58] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[01:30:58] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(955.0294, 1367.514), source=PLAYER (Player), range=600, listeners=9
[01:30:58] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (955.0294, 1367.514), intensity=0.01, distance=446
[01:30:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=1
[01:30:58] [INFO] [Shotgun.FIX#212] Firing 6 pellets with 15° spread at pos=(955.02936, 1367.5138)
[01:30:58] [INFO] [Shotgun.FIX#212] Normal pellet 1/6: extraOffset=-3,2, distance=21,8px, pos=(935.4595, 1357.8981)
[01:30:58] [INFO] [Shotgun.FIX#212] Normal pellet 2/6: extraOffset=4,3, distance=29,3px, pos=(929.6852, 1352.7123)
[01:30:58] [INFO] [Shotgun.FIX#212] Normal pellet 3/6: extraOffset=-8,5, distance=16,5px, pos=(941.0272, 1358.7246)
[01:30:58] [INFO] [Shotgun.FIX#212] Normal pellet 4/6: extraOffset=-5,1, distance=19,9px, pos=(938.67084, 1356.1566)
[01:30:58] [INFO] [Shotgun.FIX#212] Normal pellet 5/6: extraOffset=4,0, distance=29,0px, pos=(932.4782, 1349.2374)
[01:30:58] [INFO] [Shotgun.FIX#212] Normal pellet 6/6: extraOffset=-0,5, distance=24,5px, pos=(937.0708, 1350.8951)
[01:30:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(955.0294, 1367.514), source=PLAYER (Shotgun), range=1469, listeners=9
[01:30:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[01:30:58] [ENEMY] [Enemy4] Pursuing vulnerability sound at (955.0294, 1367.514), distance=446
[01:30:58] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1203), can_see=false
[01:30:58] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=982), can_see=false
[01:30:58] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=500), can_see=true
[01:30:58] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=430), can_see=true
[01:30:58] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1255), can_see=false
[01:30:58] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1348), can_see=false
[01:30:58] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=802), can_see=false
[01:30:58] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=949), can_see=false
[01:30:58] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1161), can_see=false
[01:30:58] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[01:30:58] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[01:30:58] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[01:30:58] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[01:30:58] [ENEMY] [Enemy4] Hit taken, health: 1/2
[01:30:58] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:58] [INFO] [ImpactEffects] spawn_blood_effect called at (633.9656, 1097.9), dir=(1, 0), lethal=false
[01:30:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:58] [INFO] [ImpactEffects] _spawn_blood_decal called at (633.9656, 1097.9), intensity=0.5
[01:30:58] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:58] [INFO] [ImpactEffects] Blood decal spawned at (663.3818, 1097.9) (total: 43)
[01:30:58] [INFO] [ImpactEffects] Blood effect spawned at (633.9656, 1097.9) (scale=1)
[01:30:58] [ENEMY] [Enemy3] Hit taken, health: 3/4
[01:30:58] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:30:58] [INFO] [ImpactEffects] spawn_blood_effect called at (547.1083, 1069.651), dir=(1, 0), lethal=false
[01:30:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:30:58] [INFO] [ImpactEffects] _spawn_blood_decal called at (547.1083, 1069.651), intensity=0.5
[01:30:58] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:30:58] [INFO] [ImpactEffects] Blood decal spawned at (570.1758, 1069.651) (total: 44)
[01:30:58] [INFO] [ImpactEffects] Blood effect spawned at (547.1083, 1069.651) (scale=1)
[01:30:58] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[01:30:58] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[01:30:59] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1219), can_see=false
[01:30:59] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=997), can_see=false
[01:30:59] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=512), can_see=true
[01:30:59] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=426), can_see=true
[01:30:59] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1270), can_see=false
[01:30:59] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1361), can_see=false
[01:30:59] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=813), can_see=false
[01:30:59] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=948), can_see=false
[01:30:59] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1158), can_see=false
[01:30:59] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=459)
[01:30:59] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) - pursuing to attack (dist=545)
[01:30:59] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:30:59] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[01:30:59] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:30:59] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[01:30:59] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:30:59] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[01:30:59] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:30:59] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[01:30:59] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:30:59] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:30:59] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:30:59] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1318), can_see=false
[01:30:59] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1094), can_see=false
[01:30:59] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=588), can_see=false
[01:30:59] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=509), can_see=false
[01:30:59] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1364), can_see=false
[01:30:59] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1442), can_see=false
[01:30:59] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=885), can_see=false
[01:30:59] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=946), can_see=false
[01:30:59] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1146), can_see=false
[01:30:59] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[01:30:59] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:30:59] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:30:59] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:30:59] [INFO] [Shotgun.FIX#243] RMB released after 10 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:31:00] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1324), can_see=false
[01:31:00] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1101), can_see=false
[01:31:00] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=594), can_see=false
[01:31:00] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=515), can_see=false
[01:31:00] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1371), can_see=false
[01:31:00] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1447), can_see=false
[01:31:00] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=891), can_see=false
[01:31:00] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=946), can_see=false
[01:31:00] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1146), can_see=false
[01:31:00] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=487)
[01:31:00] [ENEMY] [Enemy4] State: SUPPRESSED -> RETREATING
[01:31:00] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) - pursuing to attack (dist=562)
[01:31:00] [ENEMY] [Enemy3] State: SUPPRESSED -> RETREATING
[01:31:00] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1244), can_see=false
[01:31:00] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1022), can_see=false
[01:31:00] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=530), can_see=true
[01:31:00] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=446), can_see=true
[01:31:00] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1294), can_see=false
[01:31:00] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1381), can_see=false
[01:31:00] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=830), can_see=false
[01:31:00] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=946), can_see=false
[01:31:00] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1154), can_see=false
[01:31:00] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(955.0294, 1377.347), source=PLAYER (Player), range=600, listeners=9
[01:31:00] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (955.0294, 1377.347), intensity=0.01, distance=426
[01:31:00] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[01:31:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=1
[01:31:00] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(955.02936, 1377.3472)
[01:31:00] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=4,4, distance=29,4px, pos=(931.51434, 1359.6475)
[01:31:00] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=-1,0, distance=24,0px, pos=(936.66815, 1361.9496)
[01:31:00] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=3,4, distance=28,4px, pos=(933.7043, 1358.623)
[01:31:00] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=6,7, distance=31,7px, pos=(931.96027, 1355.552)
[01:31:00] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=8,5, distance=33,5px, pos=(930.954, 1354.0277)
[01:31:00] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=12,6, distance=37,6px, pos=(927.89795, 1351.2797)
[01:31:00] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=2,0, distance=27,0px, pos=(936.0284, 1358.11)
[01:31:00] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=-10,6, distance=14,4px, pos=(945.20905, 1366.7477)
[01:31:00] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=-0,4, distance=24,6px, pos=(938.9158, 1358.7825)
[01:31:00] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=3,4, distance=28,4px, pos=(937.2038, 1355.2059)
[01:31:00] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=7,1, distance=32,1px, pos=(935.16345, 1352.1359)
[01:31:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(955.0294, 1377.347), source=PLAYER (Shotgun), range=1469, listeners=9
[01:31:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[01:31:00] [ENEMY] [Enemy4] Pursuing vulnerability sound at (955.0294, 1377.347), distance=426
[01:31:00] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[01:31:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(650.0574, 1111.906), source=ENEMY (Enemy4), range=1469, listeners=9
[01:31:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[01:31:00] [ENEMY] [Enemy4] Hit taken, health: 0/2
[01:31:00] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[01:31:00] [INFO] [ImpactEffects] spawn_blood_effect called at (666.149, 1125.912), dir=(1, 0), lethal=true
[01:31:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:31:00] [INFO] [ImpactEffects] _spawn_blood_decal called at (666.149, 1125.912), intensity=1.5
[01:31:00] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:31:00] [INFO] [ImpactEffects] Blood decal spawned at (683.8757, 1125.912) (total: 45)
[01:31:00] [INFO] [ImpactEffects] Blood effect spawned at (666.149, 1125.912) (scale=1.5)
[01:31:00] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[01:31:00] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:31:00] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[01:31:00] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:31:00] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[01:31:01] [INFO] [LastChance] Threat detected: Bullet
[01:31:01] [INFO] [LastChance] Not in hard mode - effect disabled
[01:31:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:31:01] [ENEMY] [Enemy3] Hit taken, health: 2/4
[01:31:01] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:31:01] [INFO] [ImpactEffects] spawn_blood_effect called at (547.1083, 1069.651), dir=(1, 0), lethal=false
[01:31:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:31:01] [INFO] [ImpactEffects] _spawn_blood_decal called at (547.1083, 1069.651), intensity=0.5
[01:31:01] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:31:01] [INFO] [ImpactEffects] Blood decal spawned at (563.3544, 1069.651) (total: 46)
[01:31:01] [INFO] [ImpactEffects] Blood effect spawned at (547.1083, 1069.651) (scale=1)
[01:31:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[01:31:01] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[01:31:01] [INFO] [PenultimateHit] Starting penultimate hit effect:
[01:31:01] [INFO] [PenultimateHit]   - Time scale: 0.10
[01:31:01] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[01:31:01] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[01:31:01] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[01:31:01] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[01:31:01] [INFO] [PenultimateHit] Applying saturation to 9 enemies
[01:31:01] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[01:31:01] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[01:31:01] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1201), can_see=false
[01:31:01] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=979), can_see=false
[01:31:01] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=498), can_see=true
[01:31:01] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1252), can_see=false
[01:31:01] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1346), can_see=false
[01:31:01] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=800), can_see=false
[01:31:01] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=950), can_see=false
[01:31:01] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1161), can_see=false
[01:31:01] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) - pursuing to attack (dist=500)
[01:31:01] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1204), can_see=false
[01:31:01] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=982), can_see=false
[01:31:01] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=501), can_see=true
[01:31:01] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1255), can_see=false
[01:31:01] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1348), can_see=false
[01:31:01] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=802), can_see=false
[01:31:01] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=949), can_see=false
[01:31:01] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1161), can_see=false
[01:31:02] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:31:02] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:02] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:02] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1210), can_see=false
[01:31:02] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=988), can_see=false
[01:31:02] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=505), can_see=true
[01:31:02] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1261), can_see=false
[01:31:02] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1353), can_see=false
[01:31:02] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=807), can_see=false
[01:31:02] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=949), can_see=false
[01:31:02] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1159), can_see=false
[01:31:02] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:02] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:02] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:02] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) - pursuing to attack (dist=508)
[01:31:02] [INFO] [Shotgun.FIX#243] RMB released after 26 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:31:02] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1218), can_see=false
[01:31:02] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=996), can_see=false
[01:31:02] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=511), can_see=true
[01:31:02] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1268), can_see=false
[01:31:02] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1360), can_see=false
[01:31:02] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=812), can_see=false
[01:31:02] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=948), can_see=false
[01:31:02] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1158), can_see=false
[01:31:03] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpDown, ReloadState=NotReloading
[01:31:03] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:03] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:03] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[01:31:03] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:03] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:03] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:03] [INFO] [Shotgun.FIX#243] RMB released after 8 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:31:03] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1224), can_see=false
[01:31:03] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1002), can_see=false
[01:31:03] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=515), can_see=true
[01:31:03] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1274), can_see=false
[01:31:03] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1365), can_see=false
[01:31:03] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=816), can_see=false
[01:31:03] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=947), can_see=false
[01:31:03] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1157), can_see=false
[01:31:03] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) - pursuing to attack (dist=517)
[01:31:03] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1228), can_see=false
[01:31:03] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1005), can_see=false
[01:31:03] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=518), can_see=true
[01:31:03] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1278), can_see=false
[01:31:03] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1368), can_see=false
[01:31:03] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=819), can_see=false
[01:31:03] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=947), can_see=false
[01:31:03] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1156), can_see=false
[01:31:04] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(955.0294, 1389.891), source=PLAYER (Player), range=600, listeners=8
[01:31:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=0, below_threshold=1
[01:31:04] [INFO] [Shotgun.FIX#212] Firing 8 pellets with 15° spread at pos=(955.02936, 1389.8912)
[01:31:04] [INFO] [Shotgun.FIX#212] Normal pellet 1/8: extraOffset=12,3, distance=37,3px, pos=(923.105, 1370.6451)
[01:31:04] [INFO] [Shotgun.FIX#212] Normal pellet 2/8: extraOffset=8,5, distance=33,5px, pos=(927.1346, 1371.429)
[01:31:04] [INFO] [Shotgun.FIX#212] Normal pellet 3/8: extraOffset=4,8, distance=29,8px, pos=(930.80334, 1372.4979)
[01:31:04] [INFO] [Shotgun.FIX#212] Normal pellet 4/8: extraOffset=14,4, distance=39,4px, pos=(923.561, 1366.1174)
[01:31:04] [INFO] [Shotgun.FIX#212] Normal pellet 5/8: extraOffset=1,9, distance=26,9px, pos=(933.6905, 1373.4805)
[01:31:04] [INFO] [Shotgun.FIX#212] Normal pellet 6/8: extraOffset=-3,3, distance=21,7px, pos=(938.9009, 1375.3572)
[01:31:04] [INFO] [Shotgun.FIX#212] Normal pellet 7/8: extraOffset=11,6, distance=36,6px, pos=(928.8355, 1364.3424)
[01:31:04] [INFO] [Shotgun.FIX#212] Normal pellet 8/8: extraOffset=4,4, distance=29,4px, pos=(934.85126, 1368.5773)
[01:31:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(955.0294, 1389.891), source=PLAYER (Shotgun), range=1469, listeners=8
[01:31:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=8
[01:31:04] [ENEMY] [Enemy4] Ragdoll activated
[01:31:04] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:31:04] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[01:31:04] [INFO] [PenultimateHit] Ending penultimate hit effect
[01:31:04] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[01:31:04] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[01:31:04] [ENEMY] [Enemy3] Hit taken, health: 1/4
[01:31:04] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:31:04] [INFO] [ImpactEffects] spawn_blood_effect called at (547.1083, 1069.651), dir=(1, 0), lethal=false
[01:31:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:31:04] [INFO] [ImpactEffects] _spawn_blood_decal called at (547.1083, 1069.651), intensity=0.5
[01:31:04] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:31:04] [INFO] [ImpactEffects] Blood decal spawned at (565.8335, 1069.651) (total: 47)
[01:31:04] [INFO] [ImpactEffects] Blood effect spawned at (547.1083, 1069.651) (scale=1)
[01:31:04] [ENEMY] [Enemy3] Hit taken, health: 0/4
[01:31:04] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:31:04] [INFO] [ImpactEffects] spawn_blood_effect called at (547.1083, 1069.651), dir=(1, 0), lethal=true
[01:31:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:31:04] [INFO] [ImpactEffects] _spawn_blood_decal called at (547.1083, 1069.651), intensity=1.5
[01:31:04] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:31:04] [INFO] [ImpactEffects] Blood decal spawned at (567.2114, 1069.651) (total: 48)
[01:31:04] [INFO] [ImpactEffects] Blood effect spawned at (547.1083, 1069.651) (scale=1.5)
[01:31:04] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[01:31:04] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[01:31:04] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 7)
[01:31:04] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:31:04] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[01:31:04] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1229), can_see=false
[01:31:04] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1007), can_see=false
[01:31:04] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1279), can_see=false
[01:31:04] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1369), can_see=false
[01:31:04] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=820), can_see=false
[01:31:04] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=947), can_see=false
[01:31:04] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1156), can_see=false
[01:31:04] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1294), can_see=false
[01:31:04] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1071), can_see=false
[01:31:04] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1341), can_see=false
[01:31:04] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1422), can_see=false
[01:31:04] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=868), can_see=false
[01:31:04] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=945), can_see=false
[01:31:04] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1148), can_see=false
[01:31:04] [ENEMY] [Enemy3] Ragdoll activated
[01:31:04] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:31:05] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1355), can_see=false
[01:31:05] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1131), can_see=false
[01:31:05] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1400), can_see=false
[01:31:05] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1473), can_see=false
[01:31:05] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=915), can_see=false
[01:31:05] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=949), can_see=false
[01:31:05] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1145), can_see=false
[01:31:05] [ENEMY] [Enemy4] Death animation completed
[01:31:05] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1262), can_see=false
[01:31:05] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1040), can_see=false
[01:31:05] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1311), can_see=false
[01:31:05] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1396), can_see=false
[01:31:05] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=844), can_see=false
[01:31:05] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=945), can_see=false
[01:31:05] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1151), can_see=false
[01:31:06] [ENEMY] [Enemy3] Death animation completed
[01:31:06] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:31:06] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:06] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:06] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:06] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:06] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:06] [INFO] [Shotgun.FIX#243] RMB released after 6 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:31:06] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1206), can_see=false
[01:31:06] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=984), can_see=false
[01:31:06] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1257), can_see=false
[01:31:06] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1350), can_see=false
[01:31:06] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=803), can_see=false
[01:31:06] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=949), can_see=false
[01:31:06] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1160), can_see=false
[01:31:06] [INFO] [Shotgun.EVENT] MMB event: pressed=True (was False), isDragging=False
[01:31:06] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1206), can_see=false
[01:31:06] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=984), can_see=false
[01:31:06] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1257), can_see=false
[01:31:06] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1350), can_see=false
[01:31:06] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=803), can_see=false
[01:31:06] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=949), can_see=false
[01:31:06] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1160), can_see=false
[01:31:06] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=NeedsPumpDown, ReloadState=NotReloading
[01:31:06] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:31:06] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:31:06] [INFO] [Shotgun.FIX#266] Mid-drag MMB+DOWN during pump cycle: transitioning to reload mode
[01:31:06] [INFO] [Shotgun.FIX#266] Transitioned to Loading state (bolt already open from pump UP)
[01:31:06] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=4/8, Tutorial=False, ReserveAmmo=12
[01:31:06] [INFO] [Shotgun.FIX#243] Shell LOADED - 5/8 shells in tube
[01:31:06] [INFO] [Shotgun.FIX#266] Mid-drag shell loaded during pump cycle - staying in Loading state
[01:31:06] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:31:06] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:06] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:31:06] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:06] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:31:06] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:06] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:06] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.FIX#243] RMB released after 8 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[01:31:07] [INFO] [Shotgun.FIX#266] RMB release in Loading state: shell already loaded mid-drag, skipping duplicate load
[01:31:07] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[01:31:07] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.FIX#243] RMB released after 9 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[01:31:07] [INFO] [Shotgun.FIX#266] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True => shouldLoadShell=True
[01:31:07] [INFO] [Shotgun.FIX#266] Loading shell (MMB was held during drag)
[01:31:07] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=5/8, Tutorial=False, ReserveAmmo=11
[01:31:07] [INFO] [Shotgun.FIX#243] Shell LOADED - 6/8 shells in tube
[01:31:07] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1206), can_see=false
[01:31:07] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=984), can_see=false
[01:31:07] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1257), can_see=false
[01:31:07] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1350), can_see=false
[01:31:07] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=803), can_see=false
[01:31:07] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=949), can_see=false
[01:31:07] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1160), can_see=false
[01:31:07] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[01:31:07] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.FIX#243] RMB released after 8 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[01:31:07] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[01:31:07] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:31:07] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:07] [INFO] [Shotgun.FIX#243] RMB released after 10 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[01:31:07] [INFO] [Shotgun.FIX#266] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True => shouldLoadShell=True
[01:31:07] [INFO] [Shotgun.FIX#266] Loading shell (MMB was held during drag)
[01:31:07] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=6/8, Tutorial=False, ReserveAmmo=10
[01:31:07] [INFO] [Shotgun.FIX#243] Shell LOADED - 7/8 shells in tube
[01:31:07] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1206), can_see=false
[01:31:07] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=984), can_see=false
[01:31:07] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1257), can_see=false
[01:31:07] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1350), can_see=false
[01:31:07] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=803), can_see=false
[01:31:07] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=949), can_see=false
[01:31:07] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1160), can_see=false
[01:31:08] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[01:31:08] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:31:08] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:31:08] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:31:08] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:08] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:08] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:08] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:08] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:08] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:08] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=True - NOT processing mid-drag, waiting for RMB release
[01:31:08] [INFO] [Shotgun.FIX#243] RMB released after 11 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[01:31:08] [INFO] [Shotgun.FIX#266] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True => shouldLoadShell=True
[01:31:08] [INFO] [Shotgun.FIX#266] Loading shell (MMB was held during drag)
[01:31:08] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=7/8, Tutorial=False, ReserveAmmo=9
[01:31:08] [INFO] [Shotgun.FIX#243] Shell LOADED - 8/8 shells in tube
[01:31:08] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1206), can_see=false
[01:31:08] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=984), can_see=false
[01:31:08] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1257), can_see=false
[01:31:08] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1350), can_see=false
[01:31:08] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=803), can_see=false
[01:31:08] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=949), can_see=false
[01:31:08] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1160), can_see=false
[01:31:08] [INFO] [Shotgun.EVENT] MMB event: pressed=False (was True), isDragging=False
[01:31:08] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=Loading
[01:31:08] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:08] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:08] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[01:31:08] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:08] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[01:31:08] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[01:31:08] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[01:31:08] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[01:31:08] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[01:31:08] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[01:31:08] [INFO] [Shotgun.FIX#243] Mid-drag DOWN in Loading state: shouldLoad=False - NOT processing mid-drag, waiting for RMB release
[01:31:08] [INFO] [Shotgun.FIX#243] RMB released after 9 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:31:08] [INFO] [Shotgun.FIX#266] RMB release in Loading state: wasMMBDuringDrag=False, isMMBHeld=False => shouldLoadShell=False
[01:31:08] [INFO] [Shotgun.FIX#266] Closing bolt (MMB was not held)
[01:31:08] [INFO] [Shotgun.FIX#243] Reload complete - bolt closed, ready to fire with 8 shells
[01:31:08] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1193), can_see=false
[01:31:08] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=971), can_see=false
[01:31:08] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1245), can_see=false
[01:31:08] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1340), can_see=false
[01:31:08] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=795), can_see=false
[01:31:08] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=951), can_see=false
[01:31:08] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1163), can_see=false
[01:31:09] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1051), can_see=false
[01:31:09] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=832), can_see=false
[01:31:09] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1154), can_see=false
[01:31:09] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1274), can_see=false
[01:31:09] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=755), can_see=false
[01:31:09] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1012), can_see=false
[01:31:09] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1232), can_see=false
[01:31:09] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=883), can_see=false
[01:31:09] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=662), can_see=false
[01:31:09] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1159), can_see=false
[01:31:09] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1312), can_see=false
[01:31:09] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=832), can_see=false
[01:31:09] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1162), can_see=false
[01:31:09] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1384), can_see=false
[01:31:10] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=783), can_see=false
[01:31:10] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=559), can_see=false
[01:31:10] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1276), can_see=false
[01:31:10] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1446), can_see=false
[01:31:10] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=986), can_see=false
[01:31:10] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1322), can_see=false
[01:31:10] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1543), can_see=false
[01:31:11] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=710), can_see=false
[01:31:11] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=492), can_see=false
[01:31:11] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1392), can_see=false
[01:31:11] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1574), can_see=false
[01:31:11] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1131), can_see=false
[01:31:11] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1472), can_see=false
[01:31:11] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1692), can_see=false
[01:31:11] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=559), can_see=false
[01:31:11] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=343), can_see=false
[01:31:11] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1371), can_see=false
[01:31:11] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1573), can_see=false
[01:31:11] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1172), can_see=false
[01:31:11] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1564), can_see=false
[01:31:11] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1786), can_see=false
[01:31:12] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=460), can_see=false
[01:31:12] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=237), can_see=false
[01:31:12] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1271), can_see=false
[01:31:12] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1485), can_see=false
[01:31:12] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1121), can_see=false
[01:31:12] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1560), can_see=false
[01:31:12] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1783), can_see=false
[01:31:12] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) - pursuing to attack (dist=456)
[01:31:12] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[01:31:12] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[01:31:12] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[01:31:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=7
[01:31:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=2
[01:31:12] [INFO] [LastChance] Threat detected: Bullet
[01:31:12] [INFO] [LastChance] Not in hard mode - effect disabled
[01:31:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:31:12] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[01:31:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=7
[01:31:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=2
[01:31:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(606.2839, 741.2252), source=PLAYER (Player), range=600, listeners=7
[01:31:12] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (606.2839, 741.2252), intensity=0.01, distance=450
[01:31:12] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (606.2839, 741.2252), intensity=0.03, distance=281
[01:31:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[01:31:12] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(606.28394, 741.22516)
[01:31:12] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=-2,9, distance=22,1px, pos=(588.19775, 728.478)
[01:31:12] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=-12,8, distance=12,2px, pos=(596.5914, 733.8812)
[01:31:12] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=-11,3, distance=13,7px, pos=(595.70764, 732.49207)
[01:31:12] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=11,6, distance=36,6px, pos=(577.76544, 718.306)
[01:31:12] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=10,4, distance=35,4px, pos=(580.32074, 717.1688)
[01:31:12] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=5,9, distance=30,9px, pos=(583.8856, 719.9114)
[01:31:12] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=-1,1, distance=23,9px, pos=(589.4916, 724.1652)
[01:31:12] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=-4,6, distance=20,4px, pos=(591.67725, 726.98566)
[01:31:12] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=10,7, distance=35,7px, pos=(582.476, 714.6398)
[01:31:12] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=12,6, distance=37,6px, pos=(581.5727, 712.92645)
[01:31:12] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=-2,9, distance=22,1px, pos=(591.8934, 724.4094)
[01:31:12] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=-6,0, distance=19,0px, pos=(593.95215, 726.7499)
[01:31:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(606.2839, 741.2252), source=PLAYER (Shotgun), range=1469, listeners=7
[01:31:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=3
[01:31:12] [ENEMY] [Enemy1] Pursuing vulnerability sound at (606.2839, 741.2252), distance=450
[01:31:12] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[01:31:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.1956, 606.3178), shooter_id=2902676475033, bullet_pos=(682.8698, 890.5001)
[01:31:12] [INFO] [Bullet] Using shooter_position, distance=375.000030517578
[01:31:12] [INFO] [Bullet] Distance to wall: 375.000030517578 (25.5344416421938% of viewport)
[01:31:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:31:12] [INFO] [Bullet] Starting wall penetration at (682.8698, 890.5001)
[01:31:12] [INFO] [LastChance] Threat detected: @Area2D@4066
[01:31:12] [INFO] [LastChance] Not in hard mode - effect disabled
[01:31:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:31:12] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[01:31:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 47.3265686035156
[01:31:12] [INFO] [Bullet] Body exited signal received for penetrating body
[01:31:12] [INFO] [Bullet] Exiting penetration at (713.3182, 925.865) after traveling 41.6666679382324 pixels through wall
[01:31:12] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:31:12] [ENEMY] [Enemy2] Hit taken, health: 3/4
[01:31:12] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:31:12] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=false
[01:31:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:31:12] [INFO] [ImpactEffects] _spawn_blood_decal called at (400, 550), intensity=0.5
[01:31:12] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:31:12] [INFO] [ImpactEffects] Blood decal spawned at (426.6001, 550) (total: 49)
[01:31:12] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[01:31:12] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[01:31:12] [ENEMY] [Enemy2] Hit taken, health: 2/4
[01:31:12] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:31:12] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=false
[01:31:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:31:12] [INFO] [ImpactEffects] _spawn_blood_decal called at (400, 550), intensity=0.5
[01:31:12] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:31:12] [INFO] [ImpactEffects] Blood decal spawned at (424.394, 550) (total: 51)
[01:31:12] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[01:31:12] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[01:31:12] [ENEMY] [Enemy2] Hit taken, health: 1/4
[01:31:12] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:31:12] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=false
[01:31:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:31:12] [INFO] [ImpactEffects] _spawn_blood_decal called at (400, 550), intensity=0.5
[01:31:12] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:31:12] [INFO] [ImpactEffects] Blood decal spawned at (412.2893, 550) (total: 53)
[01:31:12] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[01:31:12] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[01:31:12] [ENEMY] [Enemy2] Hit taken, health: 0/4
[01:31:12] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:31:12] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=true
[01:31:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:31:12] [INFO] [ImpactEffects] _spawn_blood_decal called at (400, 550), intensity=1.5
[01:31:12] [INFO] [ImpactEffects] Blood decal instantiated successfully
[01:31:12] [INFO] [ImpactEffects] Blood decal spawned at (418.3939, 550) (total: 55)
[01:31:12] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[01:31:12] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1.5)
[01:31:12] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[01:31:12] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:31:12] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 6)
[01:31:12] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:31:12] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[01:31:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(443.7479, 602.1221), shooter_id=2902676475033, bullet_pos=(679.8451, 825.4676)
[01:31:12] [INFO] [Bullet] Using shooter_position, distance=325.000091552734
[01:31:12] [INFO] [Bullet] Distance to wall: 325.000091552734 (22.129853856297% of viewport)
[01:31:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:31:12] [INFO] [Bullet] Starting wall penetration at (679.8451, 825.4676)
[01:31:12] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=483), can_see=true
[01:31:12] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1135), can_see=false
[01:31:12] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1345), can_see=false
[01:31:12] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=981), can_see=false
[01:31:12] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1437), can_see=false
[01:31:12] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1661), can_see=false
[01:31:12] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:31:12] [INFO] [Bullet] Exiting penetration at (707.6924, 851.8109) after traveling 33.3333358764648 pixels through wall
[01:31:12] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:31:12] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[01:31:13] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=571), can_see=true
[01:31:13] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1165), can_see=false
[01:31:13] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1361), can_see=false
[01:31:13] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=960), can_see=false
[01:31:13] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1380), can_see=false
[01:31:13] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1604), can_see=false
[01:31:13] [ENEMY] [Enemy2] Ragdoll activated
[01:31:13] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:31:13] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) - pursuing to attack (dist=589)
[01:31:13] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:31:13] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:13] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:13] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:13] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=597), can_see=true
[01:31:13] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1179), can_see=false
[01:31:13] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1371), can_see=false
[01:31:13] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=959), can_see=false
[01:31:13] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1367), can_see=false
[01:31:13] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1591), can_see=false
[01:31:13] [INFO] [Shotgun.FIX#243] RMB released after 23 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:31:14] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:31:14] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:14] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:14] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:14] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:14] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=502), can_see=true
[01:31:14] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1130), can_see=false
[01:31:14] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1337), can_see=false
[01:31:14] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=967), can_see=false
[01:31:14] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1419), can_see=false
[01:31:14] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1643), can_see=false
[01:31:14] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:14] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[01:31:14] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[01:31:14] [INFO] [Shotgun.FIX#243] RMB released after 6 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:31:14] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpDown, ReloadState=NotReloading
[01:31:14] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:14] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:14] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:14] [INFO] [Shotgun.FIX#243] Mid-drag pump DOWN - chambered, ready to fire (MMB not held)
[01:31:14] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:14] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:14] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:31:14] [ENEMY] [Enemy2] Death animation completed
[01:31:14] [INFO] [Shotgun.FIX#243] RMB released after 15 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:31:14] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=480), can_see=false
[01:31:14] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1119), can_see=false
[01:31:14] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1331), can_see=false
[01:31:14] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=971), can_see=false
[01:31:14] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1434), can_see=false
[01:31:14] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1657), can_see=false
[01:31:14] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) - pursuing to attack (dist=465)
[01:31:14] [ENEMY] [Enemy1] State: SUPPRESSED -> RETREATING
[01:31:15] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=428), can_see=true
[01:31:15] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1167), can_see=false
[01:31:15] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1383), can_see=false
[01:31:15] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1031), can_see=false
[01:31:15] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1493), can_see=false
[01:31:15] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1717), can_see=false
[01:31:15] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[01:31:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(331.507, 386.9285), source=ENEMY (Enemy1), range=1469, listeners=6
[01:31:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=2
[01:31:15] [INFO] [LastChance] Threat detected: Bullet
[01:31:15] [INFO] [LastChance] Not in hard mode - effect disabled
[01:31:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:31:15] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[01:31:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(310.6324, 388.0864), source=ENEMY (Enemy1), range=1469, listeners=6
[01:31:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=2
[01:31:15] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[01:31:15] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[01:31:15] [INFO] [PenultimateHit] Player died - ending penultimate effect
[01:31:15] [INFO] [LastChance] Player died
[01:31:15] [INFO] [LastChance] Threat detected: @Area2D@4110
[01:31:15] [INFO] [LastChance] Not in hard mode - effect disabled
[01:31:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:31:15] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[01:31:15] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[01:31:15] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=324), can_see=false
[01:31:15] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1247), can_see=false
[01:31:15] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1475), can_see=false
[01:31:15] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1155), can_see=false
[01:31:15] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1631), can_see=false
[01:31:15] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1855), can_see=false
[01:31:15] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[01:31:15] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[01:31:15] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:31:15] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:31:15] [ENEMY] [Enemy1] Death animation component initialized
[01:31:15] [ENEMY] [Enemy2] Death animation component initialized
[01:31:15] [ENEMY] [Enemy3] Death animation component initialized
[01:31:15] [ENEMY] [Enemy4] Death animation component initialized
[01:31:15] [ENEMY] [Enemy5] Death animation component initialized
[01:31:15] [ENEMY] [Enemy6] Death animation component initialized
[01:31:15] [ENEMY] [Enemy7] Death animation component initialized
[01:31:15] [ENEMY] [Enemy8] Death animation component initialized
[01:31:15] [ENEMY] [Enemy9] Death animation component initialized
[01:31:15] [ENEMY] [Enemy10] Death animation component initialized
[01:31:15] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:31:15] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:31:15] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:31:15] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:31:15] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:31:15] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:31:15] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:31:15] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[01:31:15] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:31:16] [INFO] [ScoreManager] Level started with 10 enemies
[01:31:16] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 7)
[01:31:16] [ENEMY] [Enemy1] Registered as sound listener
[01:31:16] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[01:31:16] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 8)
[01:31:16] [ENEMY] [Enemy2] Registered as sound listener
[01:31:16] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[01:31:16] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 9)
[01:31:16] [ENEMY] [Enemy3] Registered as sound listener
[01:31:16] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[01:31:16] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 10)
[01:31:16] [ENEMY] [Enemy4] Registered as sound listener
[01:31:16] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[01:31:16] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 11)
[01:31:16] [ENEMY] [Enemy5] Registered as sound listener
[01:31:16] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[01:31:16] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 12)
[01:31:16] [ENEMY] [Enemy6] Registered as sound listener
[01:31:16] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[01:31:16] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 13)
[01:31:16] [ENEMY] [Enemy7] Registered as sound listener
[01:31:16] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[01:31:16] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 14)
[01:31:16] [ENEMY] [Enemy8] Registered as sound listener
[01:31:16] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[01:31:16] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 15)
[01:31:16] [ENEMY] [Enemy9] Registered as sound listener
[01:31:16] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[01:31:16] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 16)
[01:31:16] [ENEMY] [Enemy10] Registered as sound listener
[01:31:16] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[01:31:16] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:31:16] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:31:16] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:31:16] [INFO] [LastChance] Found player: Player
[01:31:16] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:31:16] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:31:16] [INFO] [LastChance] Connected to player Died signal (C#)
[01:31:16] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:31:16] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[01:31:16] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[01:31:16] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[01:31:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.161, 1465.83), source=ENEMY (Enemy10), range=1469, listeners=16
[01:31:17] [INFO] [SoundPropagation] Cleaned up 6 invalid listeners
[01:31:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[01:31:17] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[01:31:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.407, 1431.415), shooter_id=4101140120981, bullet_pos=(39.5845, 705.2905)
[01:31:17] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[01:31:17] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[01:31:17] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[01:31:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.407, 1431.415), shooter_id=4101140120981, bullet_pos=(523.8789, 401.5439)
[01:31:17] [INFO] [Bullet] Using shooter_position, distance=1136.88366699219
[01:31:17] [INFO] [Bullet] Distance to wall: 1136.88366699219 (77.4124994302221% of viewport)
[01:31:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.407, 1431.415), shooter_id=4101140120981, bullet_pos=(331.9509, 247.9284)
[01:31:17] [INFO] [Bullet] Using shooter_position, distance=1361.68444824219
[01:31:17] [INFO] [Bullet] Distance to wall: 1361.68444824219 (92.7195979977211% of viewport)
[01:31:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.7446, 752.9335), source=ENEMY (Enemy3), range=1469, listeners=10
[01:31:18] [ENEMY] [Enemy2] Heard gunshot at (689.7446, 752.9335), source_type=1, intensity=0.02, distance=354
[01:31:18] [ENEMY] [Enemy4] Heard gunshot at (689.7446, 752.9335), source_type=1, intensity=0.07, distance=184
[01:31:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:31:18] [INFO] [LastChance] Threat detected: @Area2D@4365
[01:31:18] [INFO] [LastChance] Not in hard mode - effect disabled
[01:31:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:31:18] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[01:31:18] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[01:31:18] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[01:31:18] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[01:31:18] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[01:31:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.407, 1431.415), shooter_id=4101140120981, bullet_pos=(608.9208, 54.80692)
[01:31:18] [INFO] [Bullet] Using shooter_position, distance=1432.568359375
[01:31:18] [INFO] [Bullet] Distance to wall: 1432.568359375 (97.5462138507734% of viewport)
[01:31:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.7446, 752.9335), source=ENEMY (Enemy3), range=1469, listeners=10
[01:31:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:31:18] [INFO] [LastChance] Threat detected: @Area2D@4367
[01:31:18] [INFO] [LastChance] Not in hard mode - effect disabled
[01:31:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:31:18] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[01:31:18] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[01:31:18] [INFO] [PenultimateHit] Starting penultimate hit effect:
[01:31:18] [INFO] [PenultimateHit]   - Time scale: 0.10
[01:31:18] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[01:31:18] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[01:31:18] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[01:31:18] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[01:31:18] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[01:31:18] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[01:31:18] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[01:31:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.7446, 752.9335), source=ENEMY (Enemy3), range=1469, listeners=10
[01:31:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:31:18] [INFO] [LastChance] Threat detected: @Area2D@4368
[01:31:18] [INFO] [LastChance] Not in hard mode - effect disabled
[01:31:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:31:18] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[01:31:18] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[01:31:18] [INFO] [PenultimateHit] Player died - ending penultimate effect
[01:31:18] [INFO] [PenultimateHit] Ending penultimate hit effect
[01:31:18] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[01:31:18] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[01:31:18] [INFO] [LastChance] Player died
[01:31:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.7446, 752.9335), source=ENEMY (Enemy3), range=1469, listeners=10
[01:31:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:31:19] [INFO] [LastChance] Threat detected: @Area2D@4369
[01:31:19] [INFO] [LastChance] Not in hard mode - effect disabled
[01:31:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:31:19] [INFO] ------------------------------------------------------------
[01:31:19] [INFO] GAME LOG ENDED: 2026-01-24T01:31:19
[01:31:19] [INFO] ============================================================
