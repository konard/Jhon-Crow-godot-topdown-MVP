Кровь отображается прямоугольниками из-за особенностей рендеринга текстур в 3D-графике. Вот основные причины и решения:

## ?? **Основные причины**

### 1. **Текстура с прямоугольной альфа-маской**
- **Проблема**: PNG/изображение имеет прямоугольные границы альфа-канала вместо плавного градиента
- **Проверка**: Откройте текстуру в графическом редакторе, включите отображение альфа-канала
- **Решение**: 
  - Создайте текстуру с **радиальным градиентом** от центра к краям
  - Добавьте **шум/перлин-шум** к краям для естественности
  - Используйте 16-битный PNG для плавных переходов

### 2. **Неправильные настройки материала**
```gdscript
# ВАЖНЫЕ НАСТРОЙКИ ДЛЯ BloodDecal MATERIAL:
material.albedo_texture = your_blood_texture
material.transparency = TRANSPARENCY_ALPHA  # Ключевая настройка!
material.alpha_scissor_threshold = 0.1      # Обрежет совсем прозрачные части
material.cull_mode = MATERIAL_CULL_DISABLED # Для декалей обычно отключают

# Для StandardMaterial3D:
material.blend_mode = BLEND_MODE_MIX        # Правильное смешивание
material.depth_draw_mode = DEPTH_DRAW_ALPHA_PREPASS
```

### 3. **UV-развёртка и масштабирование**
- **Проблема**: UV-координаты растянуты или текстурный атлас обрезается
- **Решение**: Убедитесь, что в `BloodDecal.tscn`:
  1. Меш (MeshInstance3D) имеет правильные UV
  2. Текстура не повторяется (`flip_book = false`)
  3. Масштаб декаля соответствует текстуре (1:1 соотношение)

## ?? **Пошаговая диагностика**

1. **Проверьте саму текстуру**:
   - Откройте `docs/case-studies/issue-293/round3-feedback/` из вашего PR
   - Найдите используемую текстуру крови
   - Убедитесь, что альфа-канал имеет плавный переход

2. **В Godot проверьте**:
```gdscript
# Вставьте в ready() скрипта декали для дебага:
print("Texture size: ", $MeshInstance3D.mesh.surface_get_material(0).albedo_texture.get_size())
print("Mesh size: ", $MeshInstance3D.mesh.get_aabb().size)
```

3. **Визуальный тест**:
   - Создайте простую сцену с плоскостью
   - Добавьте декаль с белым фоном
   - Посмотрите на форму через **Frame Debugger** (встроенный в Godot)

## ??? **Конкретные исправления для вашего проекта**

Из PR видно, что вы используете `BloodDecal.tscn`. Проверьте:

### A. **Настройки материала в BloodDecal.tscn**:
1. Откройте сцену
2. Выберите MeshInstance3D
3. В Material проверьте:
   - ? `Transparency = Alpha`
   - ? `Alpha Scissor = false` (или очень низкое значение)
   - ? `Depth Draw = Alpha Prepass`

### B. **Шейдерный подход для идеальных краёв**:
Создайте простой шейдер для плавных краёв:
```glsl
shader_type spatial;
render_mode blend_mix;

uniform sampler2D texture_albedo : source_color;
uniform float edge_softness : hint_range(0, 1) = 0.1;

void fragment() {
    vec4 albedo_tex = texture(texture_albedo, UV);
    ALBEDO = albedo_tex.rgb;
    ALPHA = smoothstep(0.0, edge_softness, albedo_tex.a);
}
```

### C. **Графические настройки проекта**:
1. `Project Settings > Rendering > Quality >`
2. `Use Nearest Mipmap Filter = false` (для текстур)
3. `Anisotropic Filter Level = 16` (если кровь под углом)

## ?? **Чеклист для быстрого исправления**

| Проблема | Признаки | Исправление |
|----------|----------|-------------|
| **Жёсткие края** | Чёткие прямоугольные границы | Добавить `alpha_hash` или `alpha_scissor` |
| **Наложение** | Видны края соседних декалей | Настроить `depth_test` и `alpha_scissor_threshold` |
| **Масштаб** | Текстура повторяется/обрезается | Проверить UV и масштаб меша |
| **Смешивание** | Белые/чёрные края | `BLEND_MODE_MIX` вместо `BLEND_MODE_ADD` |

## ?? **Оптимальное решение для вашего случая**

Учитывая, что у вас уже есть система с:
- `edge_softness` в градиенте
- `matte blood drops` (как в Round 3)

**Самый вероятный источник проблемы**:
- **Текстура**: Проверьте, что PNG имеет **32-битный цвет с альфа-каналом**
- **Импорт**: В Godot в панели Import выберите:
  - `Detect 3D` = On
  - `Filter` = On
  - `Mipmaps` = On
  - `Repeat` = Disabled

**Быстрая проверка**:
1. Замените текущую текстуру на простой белый квадрат с альфа-градиентом
2. Если проблема исчезла > проблема в текстуре
3. Если осталась > проблема в материале/настройках рендера

Хотите, чтобы я помог проанализировать конкретную текстуру или настройки материала из вашего проекта?