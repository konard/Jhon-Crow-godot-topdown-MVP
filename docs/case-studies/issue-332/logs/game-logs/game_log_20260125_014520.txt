[01:45:20] [INFO] ============================================================
[01:45:20] [INFO] GAME LOG STARTED
[01:45:20] [INFO] ============================================================
[01:45:20] [INFO] Timestamp: 2026-01-25T01:45:20
[01:45:20] [INFO] Log file: I:/Загрузки/godot exe/game_log_20260125_014520.txt
[01:45:20] [INFO] Executable: I:/Загрузки/godot exe/Godot-Top-Down-Template.exe
[01:45:20] [INFO] OS: Windows
[01:45:20] [INFO] Debug build: false
[01:45:20] [INFO] Engine version: 4.3-stable (official)
[01:45:20] [INFO] Project: Godot Top-Down Template
[01:45:20] [INFO] ------------------------------------------------------------
[01:45:20] [INFO] [GameManager] GameManager ready
[01:45:20] [INFO] [ScoreManager] ScoreManager ready
[01:45:21] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[01:45:21] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[01:45:21] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[01:45:21] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:45:21] [INFO] [PenultimateHit] Saturation shader loaded successfully
[01:45:21] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[01:45:21] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[01:45:21] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[01:45:21] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[01:45:21] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[01:45:21] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:45:21] [INFO] [LastChance] Last chance shader loaded successfully
[01:45:21] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[01:45:21] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[01:45:21] [INFO] [LastChance]   Sepia intensity: 0.70
[01:45:21] [INFO] [LastChance]   Brightness: 0.60
[01:45:21] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[01:45:21] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[01:45:21] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV enabled: true
[01:45:21] [ENEMY] [Enemy1] Death animation component initialized
[01:45:21] [ENEMY] [Enemy2] Death animation component initialized
[01:45:21] [ENEMY] [Enemy3] Death animation component initialized
[01:45:21] [ENEMY] [Enemy4] Death animation component initialized
[01:45:21] [ENEMY] [Enemy5] Death animation component initialized
[01:45:21] [ENEMY] [Enemy6] Death animation component initialized
[01:45:21] [ENEMY] [Enemy7] Death animation component initialized
[01:45:21] [ENEMY] [Enemy8] Death animation component initialized
[01:45:21] [ENEMY] [Enemy9] Death animation component initialized
[01:45:21] [ENEMY] [Enemy10] Death animation component initialized
[01:45:21] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:45:21] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:45:21] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:45:21] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:45:21] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:45:21] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:45:21] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:45:21] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[01:45:21] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[01:45:21] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:45:21] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:45:21] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:45:21] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:45:21] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:45:21] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:45:21] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[01:45:21] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:45:21] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:45:21] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:45:21] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:45:21] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:45:21] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:45:21] [INFO] [ScoreManager] Level started with 10 enemies
[01:45:21] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[01:45:21] [ENEMY] [Enemy1] Registered as sound listener
[01:45:21] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[01:45:21] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[01:45:21] [ENEMY] [Enemy2] Registered as sound listener
[01:45:21] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[01:45:21] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[01:45:21] [ENEMY] [Enemy3] Registered as sound listener
[01:45:21] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[01:45:21] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[01:45:21] [ENEMY] [Enemy4] Registered as sound listener
[01:45:21] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[01:45:21] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[01:45:21] [ENEMY] [Enemy5] Registered as sound listener
[01:45:21] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[01:45:21] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[01:45:21] [ENEMY] [Enemy6] Registered as sound listener
[01:45:21] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[01:45:21] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[01:45:21] [ENEMY] [Enemy7] Registered as sound listener
[01:45:21] [ENEMY] [Enemy7] Enemy spawned at (1606.114, 893.8859), health: 4, behavior: PATROL, player_found: yes
[01:45:21] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[01:45:21] [ENEMY] [Enemy8] Registered as sound listener
[01:45:21] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[01:45:21] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[01:45:21] [ENEMY] [Enemy9] Registered as sound listener
[01:45:21] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[01:45:21] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[01:45:21] [ENEMY] [Enemy10] Registered as sound listener
[01:45:21] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[01:45:21] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:45:21] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:45:21] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:45:21] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:45:21] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:45:21] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:45:21] [INFO] [LastChance] Found player: Player
[01:45:21] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:45:21] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:45:21] [INFO] [LastChance] Connected to player Died signal (C#)
[01:45:24] [INFO] [Player.Debug] Debug mode toggled: ON
[01:45:24] [INFO] [GameManager] Debug mode toggled: ON
[01:45:25] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[01:45:26] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[01:45:28] [ENEMY] [Enemy4] Memory: medium confidence (0.72) - transitioning to PURSUING
[01:45:28] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[01:45:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(478.0733, 734.0672), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:45:28] [ENEMY] [Enemy1] Heard gunshot at (478.0733, 734.0672), source_type=0, intensity=0.01, distance=423
[01:45:28] [ENEMY] [Enemy2] Heard gunshot at (478.0733, 734.0672), source_type=0, intensity=0.06, distance=200
[01:45:28] [ENEMY] [Enemy3] Heard gunshot at (478.0733, 734.0672), source_type=0, intensity=0.05, distance=222
[01:45:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:45:28] [ENEMY] [Enemy3] Hit taken, health: 3/4
[01:45:28] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:45:28] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[01:45:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:45:28] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[01:45:28] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[01:45:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(510.7592, 734.0672), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:45:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[01:45:28] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[01:45:28] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:45:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(701.3069, 914.0651), source=ENEMY (Enemy4), range=1469, listeners=10
[01:45:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:45:28] [INFO] [LastChance] Threat detected: @Area2D@287
[01:45:28] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:45:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:45:28] [ENEMY] [Enemy3] Hit taken, health: 2/4
[01:45:28] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:45:28] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[01:45:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:45:28] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[01:45:28] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[01:45:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[01:45:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:45:28] [INFO] [LastChance] Threat detected: Bullet
[01:45:28] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:45:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:45:28] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[01:45:28] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[01:45:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(648.4833, 871.1667), shooter_id=43922753066, bullet_pos=(485.4095, 704.2793)
[01:45:28] [INFO] [Bullet] Using shooter_position, distance=233.333465576172
[01:45:28] [INFO] [Bullet] Distance to wall: 233.333465576172 (15.888104733491% of viewport)
[01:45:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:45:28] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[01:45:28] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:45:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.259, 914.0654), source=ENEMY (Enemy4), range=1469, listeners=10
[01:45:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:45:28] [INFO] [LastChance] Threat detected: Bullet
[01:45:28] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[01:45:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:45:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(704.4202, 757.2993), source=ENEMY (Enemy3), range=1469, listeners=10
[01:45:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:45:28] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:45:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.259, 914.0654), source=ENEMY (Enemy4), range=1469, listeners=10
[01:45:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:45:28] [INFO] [LastChance] Threat detected: @Area2D@293
[01:45:28] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[01:45:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:45:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(706.9595, 767.6272), source=ENEMY (Enemy3), range=1469, listeners=10
[01:45:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:45:28] [INFO] [LastChance] Threat detected: @Area2D@295
[01:45:28] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[01:45:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:45:28] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[01:45:28] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[01:45:28] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[01:45:28] [ENEMY] [Enemy2] Hit taken, health: 3/4
[01:45:28] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:45:28] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(-0.58597, -0.810333), lethal=false
[01:45:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:45:28] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[01:45:28] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[01:45:28] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:45:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(686.4534, 915.0986), source=ENEMY (Enemy4), range=1469, listeners=10
[01:45:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:45:28] [INFO] [LastChance] Threat detected: Bullet
[01:45:28] [INFO] [LastChance] Triggering last chance effect!
[01:45:28] [INFO] [LastChance] Starting last chance effect:
[01:45:28] [INFO] [LastChance]   - Time will be frozen (except player)
[01:45:28] [INFO] [LastChance]   - Duration: 6.0 real seconds
[01:45:28] [INFO] [LastChance]   - Sepia intensity: 0.70
[01:45:28] [INFO] [LastChance]   - Brightness: 0.60
[01:45:28] [INFO] [LastChance] Pushed bullet @Area2D@293 from distance 148.4 to 200.0
[01:45:28] [INFO] [LastChance] Pushed bullet Bullet from distance 128.4 to 200.0
[01:45:28] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[01:45:28] [INFO] [LastChance] Set player Player and all 19 children to PROCESS_MODE_ALWAYS
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[01:45:28] [INFO] [LastChance] Skipping player node: Player
[01:45:28] [INFO] [LastChance] Froze existing bullet casing: Casing
[01:45:28] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@286
[01:45:28] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@288
[01:45:28] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@290
[01:45:28] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@291
[01:45:28] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@294
[01:45:28] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@297
[01:45:28] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[01:45:28] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[01:45:28] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[01:45:32] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[01:45:32] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[01:45:32] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[01:45:32] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[01:45:32] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[01:45:32] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[01:45:32] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[01:45:32] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[01:45:32] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[01:45:32] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[01:45:32] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[01:45:32] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(980.4095, 671.9929), source=PLAYER (Player), range=900, listeners=10
[01:45:32] [ENEMY] [Enemy3] Heard player RELOAD at (980.4095, 671.9929), intensity=0.03, distance=289
[01:45:32] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[01:45:32] [ENEMY] [Enemy4] Heard player RELOAD at (980.4095, 671.9929), intensity=0.02, distance=384
[01:45:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[01:45:32] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[01:45:32] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[01:45:32] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[01:45:32] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[01:45:32] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[01:45:32] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[01:45:32] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[01:45:32] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[01:45:32] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[01:45:32] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[01:45:32] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[01:45:32] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[01:45:32] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[01:45:32] [INFO] [Player.Reload.Anim] LeftArm: pos=(21.839178, 5.987373), target=(24, 6), base=(24, 6)
[01:45:32] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.0000005, 6.349615), target=(-2, 6), base=(-2, 6)
[01:45:32] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[01:45:34] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[01:45:34] [INFO] [LastChance] Ending last chance effect
[01:45:34] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=true
[01:45:34] [ENEMY] [Enemy1] Search mode: COMBAT -> SEARCHING at (478.0733, 734.0672)
[01:45:34] [ENEMY] [Enemy1] SEARCHING started: center=(478.0733, 734.0672), radius=100, waypoints=5
[01:45:34] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=true
[01:45:34] [ENEMY] [Enemy2] Search mode: COMBAT -> SEARCHING at (478.0733, 734.0672)
[01:45:34] [ENEMY] [Enemy2] SEARCHING started: center=(478.0733, 734.0672), radius=100, waypoints=5
[01:45:34] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=true
[01:45:34] [ENEMY] [Enemy3] Search mode: PURSUING -> SEARCHING at (625.1599, 728.0672)
[01:45:34] [ENEMY] [Enemy3] SEARCHING started: center=(625.1599, 728.0672), radius=100, waypoints=5
[01:45:34] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=true
[01:45:34] [ENEMY] [Enemy4] Search mode: COMBAT -> SEARCHING at (625.1599, 728.0672)
[01:45:34] [ENEMY] [Enemy4] SEARCHING started: center=(625.1599, 728.0672), radius=100, waypoints=5
[01:45:34] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[01:45:34] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[01:45:34] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[01:45:34] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[01:45:34] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[01:45:34] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=true
[01:45:34] [ENEMY] [Enemy10] Search mode: PURSUING -> SEARCHING at (450, 957.1666)
[01:45:34] [ENEMY] [Enemy10] SEARCHING started: center=(450, 957.1666), radius=100, waypoints=5
[01:45:34] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[01:45:34] [INFO] [LastChance] All process modes restored
[01:45:34] [INFO] [LastChance] Unfroze bullet casing: Casing
[01:45:34] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@286
[01:45:34] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@288
[01:45:34] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@290
[01:45:34] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@291
[01:45:34] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@294
[01:45:34] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@297
[01:45:34] [INFO] [LastChance] Restored original colors to 5 player sprites
[01:45:34] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[01:45:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(648.4833, 871.1667), shooter_id=43922753066, bullet_pos=(67.53607, 1124.912)
[01:45:34] [INFO] [Bullet] Using shooter_position, distance=633.945129394531
[01:45:34] [INFO] [Bullet] Distance to wall: 633.945129394531 (43.1664895827758% of viewport)
[01:45:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(636.7846, 749.8138), shooter_id=43637540377, bullet_pos=(62.26506, 726.3121)
[01:45:35] [INFO] [Bullet] Using shooter_position, distance=575
[01:45:35] [INFO] [Bullet] Distance to wall: 575 (39.1528073317669% of viewport)
[01:45:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:45:35] [INFO] [Bullet] Starting wall penetration at (62.26506, 726.3121)
[01:45:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16.3762989044189
[01:45:35] [INFO] [Bullet] Body exited signal received for penetrating body
[01:45:35] [INFO] [Bullet] Exiting penetration at (15.63739, 724.4047) after traveling 41.6666679382324 pixels through wall
[01:45:35] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:45:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(650.5414, 858.1052), shooter_id=43922753066, bullet_pos=(311.9312, 255.4365)
[01:45:35] [INFO] [Bullet] Using shooter_position, distance=691.278869628906
[01:45:35] [INFO] [Bullet] Distance to wall: 691.278869628906 (47.0704493827863% of viewport)
[01:45:35] [INFO] [Bullet] Distance-based penetration chance: 91.7511423867493%
[01:45:35] [INFO] [Bullet] Starting wall penetration at (311.9312, 255.4365)
[01:45:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13.2978086471558
[01:45:35] [INFO] [Bullet] Body exited signal received for penetrating body
[01:45:35] [INFO] [Bullet] Exiting penetration at (289.9531, 214.2693) after traveling 41.6666717529297 pixels through wall
[01:45:35] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:45:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(657.9892, 853.2893), shooter_id=43922753066, bullet_pos=(518.1286, 447.968)
[01:45:35] [INFO] [Bullet] Using shooter_position, distance=428.773101806641
[01:45:35] [INFO] [Bullet] Distance to wall: 428.773101806641 (29.1959489462251% of viewport)
[01:45:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:45:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(648.4833, 871.1667), shooter_id=43922753066, bullet_pos=(392.9678, 1400.521)
[01:45:35] [INFO] [Bullet] Using shooter_position, distance=587.796325683594
[01:45:35] [INFO] [Bullet] Distance to wall: 587.796325683594 (40.0241326779308% of viewport)
[01:45:35] [INFO] [Bullet] Distance-based penetration chance: 99.9718452090807%
[01:45:35] [INFO] [Bullet] Starting wall penetration at (392.9678, 1400.521)
[01:45:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25.8889484405518
[01:45:35] [INFO] [Bullet] Body exited signal received for penetrating body
[01:45:35] [INFO] [Bullet] Exiting penetration at (419.7559, 1423.208) after traveling 30.1041660308838 pixels through wall
[01:45:35] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[01:45:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(657.9892, 853.2893), shooter_id=43922753066, bullet_pos=(690.2437, 53.9166)
[01:45:35] [INFO] [Bullet] Using shooter_position, distance=800.023193359375
[01:45:35] [INFO] [Bullet] Distance to wall: 800.023193359375 (54.475050348773% of viewport)
[01:45:35] [INFO] [Bullet] Distance-based penetration chance: 83.1124412597648%
[01:45:35] [INFO] [Bullet] Starting wall penetration at (690.2437, 53.9166)
[01:45:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16.5006523132324
[01:45:35] [INFO] [Bullet] Body exited signal received for penetrating body
[01:45:35] [INFO] [Bullet] Exiting penetration at (706.4212, 16.87883) after traveling 35.4166641235352 pixels through wall
[01:45:35] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[01:45:42] [ENEMY] [Enemy3] SEARCHING: Expand outer ring r=175 wps=4
[01:45:42] [ENEMY] [Enemy4] SEARCHING: Expand outer ring r=175 wps=4
[01:45:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:45:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:45:56] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:45:56] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:45:56] [ENEMY] [Enemy1] Death animation component initialized
[01:45:56] [ENEMY] [Enemy2] Death animation component initialized
[01:45:56] [ENEMY] [Enemy3] Death animation component initialized
[01:45:56] [ENEMY] [Enemy4] Death animation component initialized
[01:45:56] [ENEMY] [Enemy5] Death animation component initialized
[01:45:56] [ENEMY] [Enemy6] Death animation component initialized
[01:45:56] [ENEMY] [Enemy7] Death animation component initialized
[01:45:56] [ENEMY] [Enemy8] Death animation component initialized
[01:45:56] [ENEMY] [Enemy9] Death animation component initialized
[01:45:56] [ENEMY] [Enemy10] Death animation component initialized
[01:45:56] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:45:56] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:45:56] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:45:56] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:45:56] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:45:56] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:45:56] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[01:45:56] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[01:45:56] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[01:45:56] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:45:56] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:45:56] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:45:56] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:45:56] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:45:56] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:45:56] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[01:45:56] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:45:56] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:45:56] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:45:56] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:45:56] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:45:56] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:45:56] [INFO] [ScoreManager] Level started with 10 enemies
[01:45:56] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[01:45:56] [ENEMY] [Enemy1] Registered as sound listener
[01:45:56] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[01:45:56] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[01:45:56] [ENEMY] [Enemy2] Registered as sound listener
[01:45:56] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[01:45:56] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[01:45:56] [ENEMY] [Enemy3] Registered as sound listener
[01:45:56] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[01:45:56] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[01:45:56] [ENEMY] [Enemy4] Registered as sound listener
[01:45:56] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[01:45:56] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[01:45:56] [ENEMY] [Enemy5] Registered as sound listener
[01:45:56] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[01:45:56] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[01:45:56] [ENEMY] [Enemy6] Registered as sound listener
[01:45:56] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[01:45:56] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[01:45:56] [ENEMY] [Enemy7] Registered as sound listener
[01:45:56] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[01:45:56] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[01:45:56] [ENEMY] [Enemy8] Registered as sound listener
[01:45:56] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[01:45:56] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[01:45:56] [ENEMY] [Enemy9] Registered as sound listener
[01:45:56] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[01:45:56] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[01:45:56] [ENEMY] [Enemy10] Registered as sound listener
[01:45:56] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[01:45:56] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:45:56] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:45:56] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:45:56] [INFO] [LastChance] Found player: Player
[01:45:56] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:45:56] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:45:56] [INFO] [LastChance] Connected to player Died signal (C#)
[01:45:56] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:45:56] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:45:56] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:45:58] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:45:58] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:45:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.7137, 752.8234), source=ENEMY (Enemy3), range=1469, listeners=20
[01:45:58] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[01:45:58] [ENEMY] [Enemy2] Heard gunshot at (689.7137, 752.8234), source_type=1, intensity=0.02, distance=354
[01:45:58] [ENEMY] [Enemy4] Heard gunshot at (689.7137, 752.8234), source_type=1, intensity=0.07, distance=184
[01:45:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:45:58] [INFO] [LastChance] Threat detected: Bullet
[01:45:58] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:45:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:45:58] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:45:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.7137, 752.8234), source=ENEMY (Enemy3), range=1469, listeners=10
[01:45:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:45:58] [INFO] [LastChance] Threat detected: @Area2D@566
[01:45:58] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:45:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:45:58] [ENEMY] [Enemy1] Memory: medium confidence (0.62) - transitioning to PURSUING
[01:45:58] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[01:45:58] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[01:45:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.7137, 752.8234), source=ENEMY (Enemy3), range=1469, listeners=10
[01:45:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:45:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(624.518, 772.3199), shooter_id=630588443362, bullet_pos=(50.16594, 874.2882)
[01:45:58] [INFO] [Bullet] Using shooter_position, distance=583.333374023438
[01:45:58] [INFO] [Bullet] Distance to wall: 583.333374023438 (39.7202420927463% of viewport)
[01:45:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:45:58] [INFO] [Bullet] Starting wall penetration at (50.16594, 874.2882)
[01:45:58] [INFO] [LastChance] Threat detected: @Area2D@568
[01:45:58] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:45:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:45:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28.2166748046875
[01:45:58] [INFO] [Bullet] Body exited signal received for penetrating body
[01:45:58] [INFO] [Bullet] Exiting penetration at (4.217766, 882.4457) after traveling 41.666675567627 pixels through wall
[01:45:58] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:45:58] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[01:45:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(340.754, 373.9993), source=ENEMY (Enemy1), range=1469, listeners=10
[01:45:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=4
[01:45:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.7137, 752.8234), source=ENEMY (Enemy3), range=1469, listeners=10
[01:45:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:45:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(622.6874, 764.5735), shooter_id=630588443362, bullet_pos=(40.3577, 798.7762)
[01:45:58] [INFO] [Bullet] Using shooter_position, distance=583.333312988281
[01:45:58] [INFO] [Bullet] Distance to wall: 583.333312988281 (39.7202379367503% of viewport)
[01:45:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:45:58] [INFO] [Bullet] Starting wall penetration at (40.3577, 798.7762)
[01:45:58] [INFO] [LastChance] Threat detected: @Area2D@571
[01:45:58] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:45:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:45:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38.2945709228516
[01:45:58] [INFO] [Bullet] Body exited signal received for penetrating body
[01:45:58] [INFO] [Bullet] Exiting penetration at (-6.228687, 801.5125) after traveling 41.6666679382324 pixels through wall
[01:45:58] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:45:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(622.7448, 739.3416), shooter_id=630588443362, bullet_pos=(503.8188, 700.8497)
[01:45:58] [INFO] [Bullet] Using shooter_position, distance=124.999977111816
[01:45:58] [INFO] [Bullet] Distance to wall: 124.999977111816 (8.51147829623342% of viewport)
[01:45:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:45:58] [INFO] [Bullet] Starting wall penetration at (503.8188, 700.8497)
[01:45:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4.93794631958008
[01:45:58] [INFO] [Bullet] Max penetration distance exceeded: 83.3333358764648 >= 48
[01:45:58] [INFO] [Bullet] Body exited signal received for penetrating body
[01:45:58] [INFO] [Bullet] Exiting penetration at (419.7779, 673.6488) after traveling 83.3333358764648 pixels through wall
[01:45:58] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:45:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.7137, 752.8234), source=ENEMY (Enemy3), range=1469, listeners=10
[01:45:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:45:58] [INFO] [LastChance] Threat detected: @Area2D@575
[01:45:58] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:45:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:45:58] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[01:45:58] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[01:45:58] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[01:45:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.7137, 752.8234), source=ENEMY (Enemy3), range=1469, listeners=10
[01:45:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:45:59] [INFO] [LastChance] Threat detected: @Area2D@577
[01:45:59] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:45:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:45:59] [ENEMY] [Enemy2] Hit taken, health: 3/4
[01:45:59] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:45:59] [INFO] [ImpactEffects] spawn_blood_effect called at (403.5522, 548.8511), dir=(-0.834197, -0.551467), lethal=false
[01:45:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:45:59] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[01:45:59] [INFO] [ImpactEffects] Blood effect spawned at (403.5522, 548.8511) (scale=1)
[01:45:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(369.8324, 435.522), shooter_id=630018017796, bullet_pos=(721.9214, 1001.629)
[01:45:59] [INFO] [Bullet] Using shooter_position, distance=666.666564941406
[01:45:59] [INFO] [Bullet] Distance to wall: 666.666564941406 (45.3945522985769% of viewport)
[01:45:59] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[01:45:59] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[01:45:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(640.7968, 705.0359), shooter_id=630588443362, bullet_pos=(509.3325, 543.4194)
[01:45:59] [INFO] [Bullet] Using shooter_position, distance=208.333267211914
[01:45:59] [INFO] [Bullet] Distance to wall: 208.333267211914 (14.1857952555575% of viewport)
[01:45:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:45:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:45:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.7137, 752.8234), source=ENEMY (Enemy3), range=1469, listeners=10
[01:45:59] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:45:59] [INFO] [LastChance] Threat detected: @Area2D@581
[01:45:59] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:45:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:45:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(369.8324, 435.522), shooter_id=630018017796, bullet_pos=(913.2512, 740.4648)
[01:45:59] [INFO] [Bullet] Using shooter_position, distance=623.132507324219
[01:45:59] [INFO] [Bullet] Distance to wall: 623.132507324219 (42.4302382633495% of viewport)
[01:45:59] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[01:45:59] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[01:45:59] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[01:45:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:45:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.7137, 752.8234), source=ENEMY (Enemy3), range=1469, listeners=10
[01:45:59] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:45:59] [INFO] [LastChance] Threat detected: @Area2D@584
[01:45:59] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:45:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:45:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(656.4139, 693.4792), shooter_id=630588443362, bullet_pos=(527.6917, 386.0031)
[01:45:59] [INFO] [Bullet] Using shooter_position, distance=333.333190917969
[01:45:59] [INFO] [Bullet] Distance to wall: 333.333190917969 (22.6972699152944% of viewport)
[01:45:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:45:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:45:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.7137, 752.8234), source=ENEMY (Enemy3), range=1469, listeners=10
[01:45:59] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:45:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(640.7968, 705.0359), shooter_id=630588443362, bullet_pos=(818.8541, 62.79569)
[01:45:59] [INFO] [Bullet] Using shooter_position, distance=666.466003417969
[01:45:59] [INFO] [Bullet] Distance to wall: 666.466003417969 (45.3808956956459% of viewport)
[01:45:59] [INFO] [Bullet] Distance-based penetration chance: 93.7222883550798%
[01:45:59] [INFO] [Bullet] Starting wall penetration at (818.8541, 62.79569)
[01:45:59] [INFO] [LastChance] Threat detected: @Area2D@587
[01:45:59] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:45:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:45:59] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3.78744769096375
[01:45:59] [INFO] [Bullet] Max penetration distance exceeded: 70.8333358764648 >= 48
[01:45:59] [INFO] [Bullet] Body exited signal received for penetrating body
[01:45:59] [INFO] [Bullet] Exiting penetration at (859.9131, -0.960522) after traveling 70.8333358764648 pixels through wall
[01:45:59] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[01:45:59] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[01:45:59] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[01:45:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(656.4139, 693.4792), shooter_id=630588443362, bullet_pos=(690.476, 65.84377)
[01:45:59] [INFO] [Bullet] Using shooter_position, distance=628.55908203125
[01:45:59] [INFO] [Bullet] Distance to wall: 628.55908203125 (42.7997437137422% of viewport)
[01:45:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:45:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.7137, 752.8234), source=ENEMY (Enemy3), range=1469, listeners=10
[01:45:59] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:45:59] [INFO] [LastChance] Threat detected: @Area2D@592
[01:45:59] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:45:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:45:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(369.8324, 435.522), shooter_id=630018017796, bullet_pos=(516.9268, 203.6177)
[01:45:59] [INFO] [Bullet] Using shooter_position, distance=274.620483398438
[01:45:59] [INFO] [Bullet] Distance to wall: 274.620483398438 (18.6994136971404% of viewport)
[01:45:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:45:59] [INFO] [Bullet] Starting wall penetration at (516.9268, 203.6177)
[01:45:59] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[01:45:59] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[01:45:59] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30.6074504852295
[01:45:59] [INFO] [Bullet] Body exited signal received for penetrating body
[01:45:59] [INFO] [Bullet] Exiting penetration at (496.0774, 175.3758) after traveling 30.1041660308838 pixels through wall
[01:45:59] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[01:45:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:45:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.7137, 752.8234), source=ENEMY (Enemy3), range=1469, listeners=10
[01:45:59] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:45:59] [INFO] [LastChance] Threat detected: Bullet
[01:45:59] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[01:45:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:45:59] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[01:45:59] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[01:45:59] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[01:45:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:45:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.7137, 752.8234), source=ENEMY (Enemy3), range=1469, listeners=10
[01:45:59] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:45:59] [INFO] [LastChance] Threat detected: Bullet
[01:45:59] [INFO] [LastChance] Triggering last chance effect!
[01:45:59] [INFO] [LastChance] Starting last chance effect:
[01:45:59] [INFO] [LastChance]   - Time will be frozen (except player)
[01:45:59] [INFO] [LastChance]   - Duration: 6.0 real seconds
[01:45:59] [INFO] [LastChance]   - Sepia intensity: 0.70
[01:45:59] [INFO] [LastChance]   - Brightness: 0.60
[01:45:59] [INFO] [LastChance] Pushed bullet Bullet from distance 135.7 to 200.0
[01:45:59] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[01:45:59] [INFO] [LastChance] Set player Player and all 19 children to PROCESS_MODE_ALWAYS
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[01:45:59] [INFO] [LastChance] Skipping player node: Player
[01:45:59] [INFO] [LastChance] Froze existing bullet casing: Casing
[01:45:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@567
[01:45:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@569
[01:45:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@570
[01:45:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@572
[01:45:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@576
[01:45:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@578
[01:45:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@582
[01:45:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@585
[01:45:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@588
[01:45:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@593
[01:45:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@596
[01:45:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@598
[01:45:59] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[01:45:59] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[01:45:59] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[01:46:05] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[01:46:05] [INFO] [LastChance] Ending last chance effect
[01:46:05] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=true
[01:46:05] [ENEMY] [Enemy1] Search mode: PURSUING -> SEARCHING at (571.2484, 693.8891)
[01:46:05] [ENEMY] [Enemy1] SEARCHING started: center=(571.2484, 693.8891), radius=100, waypoints=5
[01:46:05] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=true
[01:46:05] [ENEMY] [Enemy2] Search mode: SUPPRESSED -> SEARCHING at (571.2484, 693.8891)
[01:46:05] [ENEMY] [Enemy2] SEARCHING started: center=(571.2484, 693.8891), radius=100, waypoints=5
[01:46:05] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=true
[01:46:05] [ENEMY] [Enemy3] Search mode: COMBAT -> SEARCHING at (796.9857, 535.1225)
[01:46:05] [ENEMY] [Enemy3] SEARCHING started: center=(796.9857, 535.1225), radius=100, waypoints=5
[01:46:05] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=true
[01:46:05] [ENEMY] [Enemy4] Search mode: SUPPRESSED -> SEARCHING at (753.2737, 535.8176)
[01:46:05] [ENEMY] [Enemy4] SEARCHING started: center=(753.2737, 535.8176), radius=100, waypoints=5
[01:46:05] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[01:46:05] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[01:46:05] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[01:46:05] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[01:46:05] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[01:46:05] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[01:46:05] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[01:46:05] [INFO] [LastChance] All process modes restored
[01:46:05] [INFO] [LastChance] Unfroze bullet casing: Casing
[01:46:05] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@567
[01:46:05] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@569
[01:46:05] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@570
[01:46:05] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@572
[01:46:05] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@576
[01:46:05] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@578
[01:46:05] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@582
[01:46:05] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@585
[01:46:05] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@588
[01:46:05] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@593
[01:46:05] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@596
[01:46:05] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@598
[01:46:05] [INFO] [LastChance] Restored original colors to 5 player sprites
[01:46:05] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[01:46:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(725.408, 694.8878), shooter_id=630588443362, bullet_pos=(1032.529, 35.50405)
[01:46:06] [INFO] [Bullet] Using shooter_position, distance=727.399658203125
[01:46:06] [INFO] [Bullet] Distance to wall: 727.399658203125 (49.5299802970783% of viewport)
[01:46:06] [INFO] [Bullet] Distance-based penetration chance: 88.8816896534087%
[01:46:06] [INFO] [Bullet] Starting wall penetration at (1032.529, 35.50405)
[01:46:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 42.7986373901367
[01:46:06] [INFO] [Bullet] Body exited signal received for penetrating body
[01:46:06] [INFO] [Bullet] Exiting penetration at (1052.292, -6.771223) after traveling 41.6666679382324 pixels through wall
[01:46:06] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:46:10] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:46:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(991.9888, 408.6588), source=ENEMY (Enemy3), range=1469, listeners=10
[01:46:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:46:10] [ENEMY] [Enemy3] SEARCHING: Player spotted! Transitioning to COMBAT
[01:46:10] [ENEMY] [Enemy3] State: SEARCHING -> COMBAT
[01:46:10] [INFO] [LastChance] Threat detected: Bullet
[01:46:10] [INFO] [LastChance] Effect already used this life
[01:46:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:46:10] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[01:46:10] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[01:46:10] [INFO] [PenultimateHit] Player died - ending penultimate effect
[01:46:10] [INFO] [LastChance] Player died
[01:46:10] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:46:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(986.2449, 434.1353), source=ENEMY (Enemy3), range=1469, listeners=10
[01:46:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:46:10] [INFO] [LastChance] Threat detected: Bullet
[01:46:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:46:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:46:10] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:46:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(986.2449, 434.1353), source=ENEMY (Enemy3), range=1469, listeners=10
[01:46:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:46:10] [INFO] [LastChance] Threat detected: Bullet
[01:46:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:46:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:46:10] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:46:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(986.2449, 434.1353), source=ENEMY (Enemy3), range=1469, listeners=10
[01:46:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:46:10] [INFO] [LastChance] Threat detected: Bullet
[01:46:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:46:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:46:10] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:46:10] [ENEMY] [Enemy4] SEARCHING: Player spotted! Transitioning to COMBAT
[01:46:10] [ENEMY] [Enemy4] State: SEARCHING -> COMBAT
[01:46:10] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:46:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(986.2449, 434.1353), source=ENEMY (Enemy3), range=1469, listeners=10
[01:46:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:46:10] [INFO] [LastChance] Threat detected: Bullet
[01:46:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:46:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:46:10] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:46:10] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:46:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(986.2449, 434.1353), source=ENEMY (Enemy3), range=1469, listeners=10
[01:46:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:46:10] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:46:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:46:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:46:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:46:11] [ENEMY] [Enemy1] Death animation component initialized
[01:46:11] [ENEMY] [Enemy2] Death animation component initialized
[01:46:11] [ENEMY] [Enemy3] Death animation component initialized
[01:46:11] [ENEMY] [Enemy4] Death animation component initialized
[01:46:11] [ENEMY] [Enemy5] Death animation component initialized
[01:46:11] [ENEMY] [Enemy6] Death animation component initialized
[01:46:11] [ENEMY] [Enemy7] Death animation component initialized
[01:46:11] [ENEMY] [Enemy8] Death animation component initialized
[01:46:11] [ENEMY] [Enemy9] Death animation component initialized
[01:46:11] [ENEMY] [Enemy10] Death animation component initialized
[01:46:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:46:11] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:46:11] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:46:11] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:46:11] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:46:11] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:46:11] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[01:46:11] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[01:46:11] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[01:46:11] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:46:11] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:46:11] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:46:11] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:46:11] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:46:11] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:46:11] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[01:46:11] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:46:11] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:46:11] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:46:11] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:46:11] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:46:11] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:46:11] [INFO] [ScoreManager] Level started with 10 enemies
[01:46:11] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[01:46:11] [ENEMY] [Enemy1] Registered as sound listener
[01:46:11] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[01:46:11] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[01:46:11] [ENEMY] [Enemy2] Registered as sound listener
[01:46:11] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[01:46:11] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[01:46:11] [ENEMY] [Enemy3] Registered as sound listener
[01:46:11] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[01:46:11] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[01:46:11] [ENEMY] [Enemy4] Registered as sound listener
[01:46:11] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[01:46:11] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[01:46:11] [ENEMY] [Enemy5] Registered as sound listener
[01:46:11] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[01:46:11] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[01:46:11] [ENEMY] [Enemy6] Registered as sound listener
[01:46:11] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[01:46:11] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[01:46:11] [ENEMY] [Enemy7] Registered as sound listener
[01:46:11] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[01:46:11] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[01:46:11] [ENEMY] [Enemy8] Registered as sound listener
[01:46:11] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[01:46:11] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[01:46:11] [ENEMY] [Enemy9] Registered as sound listener
[01:46:11] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[01:46:11] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[01:46:11] [ENEMY] [Enemy10] Registered as sound listener
[01:46:11] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[01:46:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:46:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:46:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:46:11] [INFO] [LastChance] Found player: Player
[01:46:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:46:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:46:11] [INFO] [LastChance] Connected to player Died signal (C#)
[01:46:11] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:46:11] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:46:11] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:46:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:46:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:46:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:46:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:46:11] [ENEMY] [Enemy1] Death animation component initialized
[01:46:11] [ENEMY] [Enemy2] Death animation component initialized
[01:46:11] [ENEMY] [Enemy3] Death animation component initialized
[01:46:11] [ENEMY] [Enemy4] Death animation component initialized
[01:46:11] [ENEMY] [Enemy5] Death animation component initialized
[01:46:11] [ENEMY] [Enemy6] Death animation component initialized
[01:46:11] [ENEMY] [Enemy7] Death animation component initialized
[01:46:11] [ENEMY] [Enemy8] Death animation component initialized
[01:46:11] [ENEMY] [Enemy9] Death animation component initialized
[01:46:11] [ENEMY] [Enemy10] Death animation component initialized
[01:46:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:46:11] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:46:11] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:46:11] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:46:11] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:46:11] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:46:11] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[01:46:11] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[01:46:11] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[01:46:11] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:46:11] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:46:11] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:46:11] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:46:11] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:46:11] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:46:11] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[01:46:11] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:46:11] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:46:11] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:46:11] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:46:11] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:46:11] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:46:11] [INFO] [ScoreManager] Level started with 10 enemies
[01:46:11] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[01:46:11] [ENEMY] [Enemy1] Registered as sound listener
[01:46:11] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[01:46:11] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[01:46:11] [ENEMY] [Enemy2] Registered as sound listener
[01:46:11] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[01:46:11] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[01:46:11] [ENEMY] [Enemy3] Registered as sound listener
[01:46:11] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[01:46:11] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[01:46:11] [ENEMY] [Enemy4] Registered as sound listener
[01:46:11] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[01:46:11] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[01:46:11] [ENEMY] [Enemy5] Registered as sound listener
[01:46:11] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[01:46:11] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[01:46:11] [ENEMY] [Enemy6] Registered as sound listener
[01:46:11] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[01:46:11] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[01:46:11] [ENEMY] [Enemy7] Registered as sound listener
[01:46:11] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[01:46:11] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[01:46:11] [ENEMY] [Enemy8] Registered as sound listener
[01:46:11] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[01:46:11] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[01:46:11] [ENEMY] [Enemy9] Registered as sound listener
[01:46:11] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[01:46:11] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[01:46:11] [ENEMY] [Enemy10] Registered as sound listener
[01:46:11] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[01:46:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:46:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:46:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:46:11] [INFO] [LastChance] Found player: Player
[01:46:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:46:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:46:11] [INFO] [LastChance] Connected to player Died signal (C#)
[01:46:11] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:46:11] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:46:11] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:46:21] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:46:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=30
[01:46:21] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[01:46:21] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[01:46:21] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[01:46:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:46:21] [INFO] [LastChance] Threat detected: Bullet
[01:46:21] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:46:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:46:21] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[01:46:21] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[01:46:21] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[01:46:21] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:46:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(693.6733, 758.5879), source=ENEMY (Enemy3), range=1469, listeners=10
[01:46:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:46:21] [INFO] [LastChance] Threat detected: Bullet
[01:46:21] [INFO] [LastChance] Triggering last chance effect!
[01:46:21] [INFO] [LastChance] Starting last chance effect:
[01:46:21] [INFO] [LastChance]   - Time will be frozen (except player)
[01:46:21] [INFO] [LastChance]   - Duration: 6.0 real seconds
[01:46:21] [INFO] [LastChance]   - Sepia intensity: 0.70
[01:46:21] [INFO] [LastChance]   - Brightness: 0.60
[01:46:21] [INFO] [LastChance] Pushed bullet Bullet from distance 131.9 to 200.0
[01:46:21] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[01:46:21] [INFO] [LastChance] Set player Player and all 19 children to PROCESS_MODE_ALWAYS
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[01:46:21] [INFO] [LastChance] Skipping player node: Player
[01:46:21] [INFO] [LastChance] Froze existing bullet casing: Casing
[01:46:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1109
[01:46:21] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[01:46:21] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[01:46:21] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[01:46:27] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[01:46:27] [INFO] [LastChance] Ending last chance effect
[01:46:27] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[01:46:27] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=true
[01:46:27] [ENEMY] [Enemy2] Search mode: COMBAT -> SEARCHING at (700, 750)
[01:46:27] [ENEMY] [Enemy2] SEARCHING started: center=(700, 750), radius=100, waypoints=5
[01:46:27] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=true
[01:46:27] [ENEMY] [Enemy3] Search mode: COMBAT -> SEARCHING at (550.7506, 952.593)
[01:46:27] [ENEMY] [Enemy3] SEARCHING started: center=(550.7506, 952.593), radius=100, waypoints=5
[01:46:27] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=true
[01:46:27] [ENEMY] [Enemy4] Search mode: COMBAT -> SEARCHING at (550.7506, 952.593)
[01:46:27] [ENEMY] [Enemy4] SEARCHING started: center=(550.7506, 952.593), radius=100, waypoints=5
[01:46:27] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[01:46:27] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[01:46:27] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[01:46:27] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[01:46:27] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[01:46:27] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[01:46:27] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[01:46:27] [INFO] [LastChance] All process modes restored
[01:46:27] [INFO] [LastChance] Unfroze bullet casing: Casing
[01:46:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1109
[01:46:27] [INFO] [LastChance] Restored original colors to 5 player sprites
[01:46:27] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[01:46:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(659.8581, 817.6398), shooter_id=782975895452, bullet_pos=(530.4069, 1000.143)
[01:46:27] [INFO] [Bullet] Using shooter_position, distance=223.752517700195
[01:46:27] [INFO] [Bullet] Distance to wall: 223.752517700195 (15.2357203748061% of viewport)
[01:46:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:46:27] [INFO] [Bullet] Starting wall penetration at (530.4069, 1000.143)
[01:46:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.0354633331299
[01:46:27] [INFO] [Bullet] Body exited signal received for penetrating body
[01:46:27] [INFO] [Bullet] Exiting penetration at (502.7278, 1037.715) after traveling 41.6666717529297 pixels through wall
[01:46:27] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:46:36] [ENEMY] [Enemy2] SEARCHING: Expand outer ring r=175 wps=4
[01:46:36] [ENEMY] [Enemy3] SEARCHING: Expand outer ring r=175 wps=4
[01:46:36] [ENEMY] [Enemy4] SEARCHING: Expand outer ring r=175 wps=4
[01:46:42] [ENEMY] [Enemy2] SEARCHING: Expand outer ring r=250 wps=4
[01:46:45] [ENEMY] [Enemy3] SEARCHING: Expand outer ring r=250 wps=4
[01:46:45] [ENEMY] [Enemy4] SEARCHING: Expand outer ring r=250 wps=4
[01:46:45] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:45] [ENEMY] [Enemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[01:46:45] [ENEMY] [Enemy2] State: SEARCHING -> COMBAT
[01:46:45] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:45] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:46] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:46] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:46] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:46] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:46] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:46] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:46] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:46] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:46] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:47] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:47] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:47] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:47] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:47] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:47] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:47] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:47] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:48] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:48] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:48] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:48] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:48] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:48] [ENEMY] [Enemy2] State: COMBAT -> SEEKING_COVER
[01:46:48] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[01:46:48] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[01:46:53] [ENEMY] [Enemy2] FLANKING started: target=(820.89, 803.2623), side=left, pos=(876.9681, 639.3865)
[01:46:53] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[01:46:56] [ENEMY] [Enemy2] FLANKING stuck (2.0s no progress), target=(919.9376, 865.1111), pos=(879.4843, 699.9311), fail_count=1
[01:46:56] [ENEMY] [Enemy2] State: FLANKING -> PURSUING
[01:46:56] [ENEMY] [Enemy2] Memory confidence too low - starting search (engaged enemy)
[01:46:56] [ENEMY] [Enemy2] SEARCHING started: center=(971.7303, 671.9337), radius=100, waypoints=5
[01:46:56] [ENEMY] [Enemy2] State: PURSUING -> SEARCHING
[01:46:56] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(961.2358, 586.1761), source=ENEMY (Enemy2), range=1469, listeners=10
[01:46:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[01:46:56] [ENEMY] [Enemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[01:46:56] [ENEMY] [Enemy2] State: SEARCHING -> COMBAT
[01:46:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(961.7049, 654.223), shooter_id=782690682371, bullet_pos=(966.7661, 695.5812)
[01:46:56] [INFO] [Bullet] Using shooter_position, distance=41.6666793823242
[01:46:56] [INFO] [Bullet] Distance to wall: 41.6666793823242 (2.83716081740981% of viewport)
[01:46:56] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[01:46:56] [INFO] [Bullet] Starting wall penetration at (966.7661, 695.5812)
[01:46:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30.1253471374512
[01:46:56] [INFO] [Bullet] Body exited signal received for penetrating body
[01:46:56] [INFO] [Bullet] Exiting penetration at (972.4346, 741.9023) after traveling 41.6666717529297 pixels through wall
[01:46:56] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:46:56] [ENEMY] [Enemy3] SEARCHING: Expand outer ring r=325 wps=4
[01:46:56] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:56] [ENEMY] [Enemy4] SEARCHING: Expand outer ring r=325 wps=4
[01:46:57] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:57] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:57] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:57] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:57] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:57] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:57] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:57] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:57] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:58] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:58] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:58] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:58] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:58] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:58] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:58] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:58] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:59] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:59] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:59] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(971.7303, 677.9337), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:46:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[01:46:59] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:59] [ENEMY] [Enemy2] State: COMBAT -> SEEKING_COVER
[01:46:59] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:46:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:46:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:46:59] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:46:59] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:46:59] [ENEMY] [Enemy1] Death animation component initialized
[01:46:59] [ENEMY] [Enemy2] Death animation component initialized
[01:46:59] [ENEMY] [Enemy3] Death animation component initialized
[01:46:59] [ENEMY] [Enemy4] Death animation component initialized
[01:46:59] [ENEMY] [Enemy5] Death animation component initialized
[01:46:59] [ENEMY] [Enemy6] Death animation component initialized
[01:46:59] [ENEMY] [Enemy7] Death animation component initialized
[01:46:59] [ENEMY] [Enemy8] Death animation component initialized
[01:46:59] [ENEMY] [Enemy9] Death animation component initialized
[01:46:59] [ENEMY] [Enemy10] Death animation component initialized
[01:47:00] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:47:00] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:47:00] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:47:00] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:47:00] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:47:00] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:47:00] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[01:47:00] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[01:47:00] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[01:47:00] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:47:00] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:47:00] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:47:00] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:47:00] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:47:00] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:47:00] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[01:47:00] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:47:00] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:47:00] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:47:00] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:47:00] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:47:00] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:47:00] [INFO] [ScoreManager] Level started with 10 enemies
[01:47:00] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[01:47:00] [ENEMY] [Enemy1] Registered as sound listener
[01:47:00] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[01:47:00] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[01:47:00] [ENEMY] [Enemy2] Registered as sound listener
[01:47:00] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[01:47:00] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[01:47:00] [ENEMY] [Enemy3] Registered as sound listener
[01:47:00] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[01:47:00] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[01:47:00] [ENEMY] [Enemy4] Registered as sound listener
[01:47:00] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[01:47:00] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[01:47:00] [ENEMY] [Enemy5] Registered as sound listener
[01:47:00] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[01:47:00] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[01:47:00] [ENEMY] [Enemy6] Registered as sound listener
[01:47:00] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[01:47:00] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[01:47:00] [ENEMY] [Enemy7] Registered as sound listener
[01:47:00] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[01:47:00] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[01:47:00] [ENEMY] [Enemy8] Registered as sound listener
[01:47:00] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[01:47:00] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[01:47:00] [ENEMY] [Enemy9] Registered as sound listener
[01:47:00] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[01:47:00] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[01:47:00] [ENEMY] [Enemy10] Registered as sound listener
[01:47:00] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[01:47:00] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:47:00] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:47:00] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:47:00] [INFO] [LastChance] Found player: Player
[01:47:00] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:47:00] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:47:00] [INFO] [LastChance] Connected to player Died signal (C#)
[01:47:00] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:47:00] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:47:00] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:47:02] [INFO] [PauseMenu] Armory button pressed
[01:47:02] [INFO] [PauseMenu] Creating new armory menu instance
[01:47:02] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[01:47:02] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[01:47:02] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[01:47:02] [INFO] [PauseMenu] back_pressed signal exists on instance
[01:47:02] [INFO] [PauseMenu] back_pressed signal connected
[01:47:02] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[01:47:02] [INFO] [PauseMenu] _populate_weapon_grid method exists
[01:47:05] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=20
[01:47:05] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[01:47:05] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[01:47:05] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[01:47:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:05] [INFO] [LastChance] Threat detected: Bullet
[01:47:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:47:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:05] [INFO] [LastChance] Threat detected: Bullet
[01:47:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:47:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(784.0658, 857.695), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:05] [INFO] [LastChance] Threat detected: @Area2D@1406
[01:47:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:47:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:05] [INFO] [LastChance] Threat detected: Bullet
[01:47:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:47:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:05] [ENEMY] [Enemy1] Memory: medium confidence (0.60) - transitioning to PURSUING
[01:47:05] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[01:47:05] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(784.0669, 841.2773), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:05] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:05] [INFO] [LastChance] Threat detected: @Area2D@1410
[01:47:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:47:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:05] [INFO] [LastChance] Threat detected: @Area2D@1408
[01:47:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:47:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:05] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[01:47:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(748.6793, 799.4584), shooter_id=1556741097692, bullet_pos=(522.2307, 307.3976)
[01:47:05] [INFO] [Bullet] Using shooter_position, distance=541.666687011719
[01:47:05] [INFO] [Bullet] Distance to wall: 541.666687011719 (36.883080755837% of viewport)
[01:47:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:05] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(784.0662, 823.9296), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:05] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700.8289, 757.2671), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:05] [INFO] [LastChance] Threat detected: @Area2D@1412
[01:47:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:47:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:05] [INFO] [LastChance] Threat detected: @Area2D@1414
[01:47:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:47:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(679.8218, 684.7935), shooter_id=1556455885823, bullet_pos=(556.7827, 29.57898)
[01:47:05] [INFO] [Bullet] Using shooter_position, distance=666.666809082031
[01:47:05] [INFO] [Bullet] Distance to wall: 666.666809082031 (45.394568922561% of viewport)
[01:47:05] [INFO] [Bullet] Distance-based penetration chance: 93.7063362570122%
[01:47:05] [INFO] [Bullet] Starting wall penetration at (556.7827, 29.57898)
[01:47:05] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[01:47:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 49.129997253418
[01:47:05] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:05] [INFO] [Bullet] Exiting penetration at (548.17, -16.28603) after traveling 41.6666679382324 pixels through wall
[01:47:05] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:06] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[01:47:06] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[01:47:06] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(798.1893, 796.09), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(748.6793, 799.4584), shooter_id=1556741097692, bullet_pos=(705.7578, 40.69204)
[01:47:06] [INFO] [Bullet] Using shooter_position, distance=759.979370117188
[01:47:06] [INFO] [Bullet] Distance to wall: 759.979370117188 (51.7483927901144% of viewport)
[01:47:06] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(702.1833, 783.189), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:06] [INFO] [LastChance] Threat detected: @Area2D@1417
[01:47:06] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(690.6851, 682.592), shooter_id=1556455885823, bullet_pos=(676.6601, 57.74928)
[01:47:06] [INFO] [Bullet] Using shooter_position, distance=625.000122070313
[01:47:06] [INFO] [Bullet] Distance to wall: 625.000122070313 (42.5574075856517% of viewport)
[01:47:06] [INFO] [Bullet] Distance-based penetration chance: 97.0163578167397%
[01:47:06] [INFO] [Bullet] Starting wall penetration at (676.6601, 57.74928)
[01:47:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20.9109058380127
[01:47:06] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:06] [INFO] [Bullet] Exiting penetration at (675.6129, 11.09436) after traveling 41.6666679382324 pixels through wall
[01:47:06] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:06] [INFO] [LastChance] Threat detected: @Area2D@1420
[01:47:06] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(754.6554, 779.9131), shooter_id=1556741097692, bullet_pos=(496.5724, 31.49545)
[01:47:06] [INFO] [Bullet] Using shooter_position, distance=791.666442871094
[01:47:06] [INFO] [Bullet] Distance to wall: 791.666442871094 (53.9060238413168% of viewport)
[01:47:06] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(807.8436, 765.6988), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:06] [INFO] [LastChance] Threat detected: @Area2D@1424
[01:47:06] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:06] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(703.0186, 763.5428), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:47:06] [INFO] [LastChance] Threat detected: @Area2D@1426
[01:47:06] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(760.8904, 759.9492), shooter_id=1556741097692, bullet_pos=(587.97, 30.15564)
[01:47:06] [INFO] [Bullet] Using shooter_position, distance=750.000061035156
[01:47:06] [INFO] [Bullet] Distance to wall: 750.000061035156 (51.0688832843876% of viewport)
[01:47:06] [INFO] [Bullet] Distance-based penetration chance: 87.0863028348812%
[01:47:06] [INFO] [Bullet] Starting wall penetration at (587.97, 30.15564)
[01:47:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 48.5620994567871
[01:47:06] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:06] [INFO] [Bullet] Exiting penetration at (577.2106, -15.25374) after traveling 41.6666717529297 pixels through wall
[01:47:06] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:06] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(807.8436, 765.6988), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:06] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[01:47:06] [INFO] [LastChance] Threat detected: @Area2D@1429
[01:47:06] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:06] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(717.3392, 777.1323), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:06] [ENEMY] [Enemy4] Heard gunshot at (717.3392, 777.1323), source_type=1, intensity=0.30, distance=91
[01:47:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:47:06] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[01:47:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(778.7139, 730.8879), shooter_id=1556741097692, bullet_pos=(655.1226, 33.42001)
[01:47:06] [INFO] [Bullet] Using shooter_position, distance=708.333435058594
[01:47:06] [INFO] [Bullet] Distance to wall: 708.333435058594 (48.2317261034743% of viewport)
[01:47:06] [INFO] [Bullet] Distance-based penetration chance: 90.3963195459467%
[01:47:06] [INFO] [Bullet] Starting wall penetration at (655.1226, 33.42001)
[01:47:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 45.2245254516602
[01:47:06] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:06] [INFO] [Bullet] Exiting penetration at (646.98, -12.53081) after traveling 41.6666679382324 pixels through wall
[01:47:06] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:06] [INFO] [LastChance] Threat detected: @Area2D@1431
[01:47:06] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(725.1079, 719.1182), shooter_id=1556455885823, bullet_pos=(885.7166, 29.23331)
[01:47:06] [INFO] [Bullet] Using shooter_position, distance=708.333435058594
[01:47:06] [INFO] [Bullet] Distance to wall: 708.333435058594 (48.2317261034743% of viewport)
[01:47:06] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(793.1407, 768.3118), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:06] [ENEMY] [Enemy3] Heard gunshot at (793.1407, 768.3118), source_type=1, intensity=0.53, distance=69
[01:47:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:47:06] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[01:47:06] [INFO] [LastChance] Threat detected: Bullet
[01:47:06] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:06] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(725.1531, 771.0181), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:06] [ENEMY] [Enemy4] Heard gunshot at (725.1531, 771.0181), source_type=1, intensity=0.68, distance=61
[01:47:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:47:06] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[01:47:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(794.7612, 698.9197), shooter_id=1556741097692, bullet_pos=(742.4292, 34.31021)
[01:47:06] [INFO] [Bullet] Using shooter_position, distance=666.666564941406
[01:47:06] [INFO] [Bullet] Distance to wall: 666.666564941406 (45.3945522985769% of viewport)
[01:47:06] [INFO] [Bullet] Distance-based penetration chance: 93.7063556516603%
[01:47:06] [INFO] [Bullet] Starting wall penetration at (742.4292, 34.31021)
[01:47:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 44.349308013916
[01:47:06] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:06] [INFO] [Bullet] Exiting penetration at (738.7659, -12.21245) after traveling 41.6666717529297 pixels through wall
[01:47:06] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:06] [INFO] [LastChance] Threat detected: @Area2D@1436
[01:47:06] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(735.9841, 704.0123), shooter_id=1556455885823, bullet_pos=(1005.838, 49.09657)
[01:47:06] [INFO] [Bullet] Using shooter_position, distance=708.333190917969
[01:47:06] [INFO] [Bullet] Distance to wall: 708.333190917969 (48.2317094794902% of viewport)
[01:47:06] [INFO] [Bullet] Distance-based penetration chance: 90.3963389405948%
[01:47:06] [INFO] [Bullet] Starting wall penetration at (1005.838, 49.09657)
[01:47:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28.1756420135498
[01:47:06] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:06] [INFO] [Bullet] Exiting penetration at (1023.617, 5.949181) after traveling 41.6666679382324 pixels through wall
[01:47:06] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:06] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(769.3777, 770.0492), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:06] [ENEMY] [Enemy3] Heard gunshot at (769.3777, 770.0492), source_type=1, intensity=1.00, distance=48
[01:47:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:47:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(753.9307, 719.7593), shooter_id=1556455885823, bullet_pos=(972.7015, 270.1601)
[01:47:06] [INFO] [Bullet] Using shooter_position, distance=500.000030517578
[01:47:06] [INFO] [Bullet] Distance to wall: 500.000030517578 (34.0459214969257% of viewport)
[01:47:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:06] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[01:47:06] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(725.5357, 769.6601), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:06] [ENEMY] [Enemy4] Heard gunshot at (725.5357, 769.6601), source_type=1, intensity=1.00, distance=37
[01:47:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:47:06] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[01:47:06] [INFO] [LastChance] Threat detected: @Area2D@1440
[01:47:06] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:06] [INFO] [LastChance] Threat detected: @Area2D@1443
[01:47:06] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:06] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(757.751, 769.4998), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:06] [ENEMY] [Enemy3] Heard gunshot at (757.751, 769.4998), source_type=1, intensity=1.00, distance=11
[01:47:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:47:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(753.9307, 719.7593), shooter_id=1556455885823, bullet_pos=(849.9058, 49.05366)
[01:47:06] [INFO] [Bullet] Using shooter_position, distance=677.537658691406
[01:47:06] [INFO] [Bullet] Distance to wall: 677.537658691406 (46.1347850621931% of viewport)
[01:47:06] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[01:47:06] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(750.8951, 775.3795), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:06] [ENEMY] [Enemy4] Heard gunshot at (750.8951, 775.3795), source_type=1, intensity=1.00, distance=13
[01:47:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:47:06] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[01:47:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(767.5969, 717.8286), shooter_id=1556455885823, bullet_pos=(1076.778, 223.1719)
[01:47:06] [INFO] [Bullet] Using shooter_position, distance=583.333618164063
[01:47:06] [INFO] [Bullet] Distance to wall: 583.333618164063 (39.7202587167304% of viewport)
[01:47:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(820.2391, 705.8916), shooter_id=1556741097692, bullet_pos=(1013.875, 67.96553)
[01:47:06] [INFO] [Bullet] Using shooter_position, distance=666.666687011719
[01:47:06] [INFO] [Bullet] Distance to wall: 666.666687011719 (45.3945606105689% of viewport)
[01:47:06] [INFO] [LastChance] Threat detected: @Area2D@1445
[01:47:06] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:06] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[01:47:06] [INFO] [LastChance] Threat detected: @Area2D@1448
[01:47:06] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:06] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[01:47:06] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[01:47:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(800.4913, 728.7874), shooter_id=1556455885823, bullet_pos=(908.0831, 601.5013)
[01:47:06] [INFO] [Bullet] Using shooter_position, distance=166.666595458984
[01:47:06] [INFO] [Bullet] Distance to wall: 166.666595458984 (11.3486349576472% of viewport)
[01:47:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:06] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[01:47:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(773.4911, 721.3809), shooter_id=1556455885823, bullet_pos=(1108.651, 295.8563)
[01:47:06] [INFO] [Bullet] Using shooter_position, distance=541.666931152344
[01:47:06] [INFO] [Bullet] Distance to wall: 541.666931152344 (36.8830973798211% of viewport)
[01:47:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:06] [INFO] [Bullet] Starting wall penetration at (1108.651, 295.8563)
[01:47:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(767.5969, 717.8286), shooter_id=1556455885823, bullet_pos=(943.8445, 51.02378)
[01:47:06] [INFO] [Bullet] Using shooter_position, distance=689.704162597656
[01:47:06] [INFO] [Bullet] Distance to wall: 689.704162597656 (46.9632246853976% of viewport)
[01:47:06] [INFO] [Bullet] Distance-based penetration chance: 91.8762378670361%
[01:47:06] [INFO] [Bullet] Starting wall penetration at (943.8445, 51.02378)
[01:47:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16.3811416625977
[01:47:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21.8596324920654
[01:47:06] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:06] [INFO] [Bullet] Exiting penetration at (919.1423, 19.03457) after traveling 35.4166679382324 pixels through wall
[01:47:06] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[01:47:06] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:06] [INFO] [Bullet] Exiting penetration at (1137.526, 259.1957) after traveling 41.6666679382324 pixels through wall
[01:47:06] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(805.486, 721.0027), shooter_id=1556741097692, bullet_pos=(1318.128, 64.00684)
[01:47:06] [INFO] [Bullet] Using shooter_position, distance=833.333618164063
[01:47:06] [INFO] [Bullet] Distance to wall: 833.333618164063 (56.7432184261943% of viewport)
[01:47:06] [INFO] [Bullet] Distance-based penetration chance: 80.46624516944%
[01:47:06] [INFO] [Bullet] Starting wall penetration at (1318.128, 64.00684)
[01:47:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6.06923866271973
[01:47:06] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:06] [INFO] [Bullet] Exiting penetration at (1346.835, 27.21507) after traveling 41.6666679382324 pixels through wall
[01:47:06] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:09] [ENEMY] [Enemy3] State: SUPPRESSED -> IN_COVER
[01:47:09] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[01:47:09] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[01:47:09] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[01:47:12] [ENEMY] [Enemy3] FLANKING started: target=(967.3, 472.4714), side=right, pos=(872.9703, 619.1862)
[01:47:12] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[01:47:12] [ENEMY] [Enemy4] FLANKING started: target=(967.9413, 472.4272), side=right, pos=(872.0624, 618.3088)
[01:47:12] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[01:47:15] [ENEMY] [Enemy2] FLANKING started: target=(945.4371, 475.2309), side=right, pos=(869.1053, 631.8914)
[01:47:15] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[01:47:16] [ENEMY] [Enemy1] FLANKING started: target=(935.7374, 477.2521), side=right, pos=(876.3004, 640.2325)
[01:47:16] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[01:47:17] [ENEMY] [Enemy3] FLANKING timeout (5.0s), target=(926.8188, 864.3907), pos=(1114.476, 815.8254)
[01:47:17] [ENEMY] [Enemy3] State: FLANKING -> PURSUING
[01:47:17] [ENEMY] [Enemy4] FLANKING timeout (5.0s), target=(919.6213, 862.2029), pos=(1116.826, 815.1929)
[01:47:17] [ENEMY] [Enemy4] State: FLANKING -> PURSUING
[01:47:20] [ENEMY] [Enemy2] FLANKING timeout (5.0s), target=(927.0045, 864.4432), pos=(1114.666, 815.748)
[01:47:20] [ENEMY] [Enemy2] State: FLANKING -> PURSUING
[01:47:21] [ENEMY] [Enemy1] FLANKING timeout (5.0s), target=(920.0277, 862.3344), pos=(1116.544, 814.2722)
[01:47:21] [ENEMY] [Enemy1] State: FLANKING -> PURSUING
[01:47:21] [ENEMY] [Enemy3] FLANKING started: target=(1135.716, 799.172), side=left, pos=(970.2778, 738.3416)
[01:47:21] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[01:47:23] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1406.226, 687.6179), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:23] [ENEMY] [Enemy5] Heard gunshot at (1406.226, 687.6179), source_type=1, intensity=0.01, distance=448
[01:47:23] [ENEMY] [Enemy7] Heard gunshot at (1406.226, 687.6179), source_type=1, intensity=0.03, distance=294
[01:47:23] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[01:47:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1338.385, 692.9254), shooter_id=1556455885823, bullet_pos=(1338.385, 692.9254)
[01:47:23] [INFO] [Bullet] Using shooter_position, distance=0
[01:47:23] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[01:47:23] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[01:47:23] [INFO] [Bullet] Starting wall penetration at (1338.385, 692.9254)
[01:47:23] [ENEMY] [Enemy3] State: FLANKING -> COMBAT
[01:47:23] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:47:23] [INFO] [Bullet] Exiting penetration at (1291.75, 691.2083) after traveling 41.6666679382324 pixels through wall
[01:47:23] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:23] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1396.798, 675.7513), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:23] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[01:47:23] [INFO] [LastChance] Threat detected: Bullet
[01:47:23] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:23] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1374.989, 661.619), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:23] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[01:47:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[01:47:23] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[01:47:23] [INFO] [LastChance] Threat detected: @Area2D@1458
[01:47:23] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[01:47:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:23] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1340.792, 663.9333), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:23] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[01:47:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[01:47:23] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[01:47:23] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[01:47:23] [INFO] [LastChance] Threat detected: Bullet
[01:47:23] [INFO] [LastChance] Triggering last chance effect!
[01:47:23] [INFO] [LastChance] Starting last chance effect:
[01:47:23] [INFO] [LastChance]   - Time will be frozen (except player)
[01:47:23] [INFO] [LastChance]   - Duration: 6.0 real seconds
[01:47:23] [INFO] [LastChance]   - Sepia intensity: 0.70
[01:47:23] [INFO] [LastChance]   - Brightness: 0.60
[01:47:23] [INFO] [LastChance] Pushed bullet Bullet from distance 125.5 to 200.0
[01:47:23] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[01:47:23] [INFO] [LastChance] Set player Player and all 19 children to PROCESS_MODE_ALWAYS
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[01:47:23] [INFO] [LastChance] Skipping player node: Player
[01:47:23] [INFO] [LastChance] Froze existing bullet casing: Casing
[01:47:23] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1404
[01:47:23] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1405
[01:47:23] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1407
[01:47:23] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1409
[01:47:23] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1411
[01:47:23] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1413
[01:47:23] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1415
[01:47:23] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1418
[01:47:23] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1421
[01:47:23] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1425
[01:47:23] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1427
[01:47:23] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1430
[01:47:23] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1432
[01:47:23] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1435
[01:47:23] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1437
[01:47:23] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1441
[01:47:23] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1444
[01:47:23] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1446
[01:47:23] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1449
[01:47:23] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1456
[01:47:23] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1457
[01:47:23] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1459
[01:47:23] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1460
[01:47:23] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[01:47:23] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[01:47:23] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[01:47:24] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:47:24] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:47:24] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:47:24] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:47:24] [INFO] [LastChance] Ending last chance effect
[01:47:24] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[01:47:24] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[01:47:24] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[01:47:24] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[01:47:24] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[01:47:24] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[01:47:24] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[01:47:24] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[01:47:24] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[01:47:24] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[01:47:24] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[01:47:24] [INFO] [LastChance] All process modes restored
[01:47:24] [INFO] [LastChance] Restored original colors to 5 player sprites
[01:47:24] [ENEMY] [Enemy1] Death animation component initialized
[01:47:24] [ENEMY] [Enemy2] Death animation component initialized
[01:47:24] [ENEMY] [Enemy3] Death animation component initialized
[01:47:24] [ENEMY] [Enemy4] Death animation component initialized
[01:47:24] [ENEMY] [Enemy5] Death animation component initialized
[01:47:24] [ENEMY] [Enemy6] Death animation component initialized
[01:47:24] [ENEMY] [Enemy7] Death animation component initialized
[01:47:24] [ENEMY] [Enemy8] Death animation component initialized
[01:47:24] [ENEMY] [Enemy9] Death animation component initialized
[01:47:24] [ENEMY] [Enemy10] Death animation component initialized
[01:47:24] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:47:24] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:47:24] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:47:24] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:47:24] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:47:24] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:47:24] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[01:47:24] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[01:47:24] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[01:47:24] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:47:24] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:47:24] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:47:24] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:47:24] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:47:24] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:47:24] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[01:47:24] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:47:24] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:47:24] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:47:24] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:47:24] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:47:24] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:47:24] [INFO] [ScoreManager] Level started with 10 enemies
[01:47:24] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[01:47:24] [ENEMY] [Enemy1] Registered as sound listener
[01:47:24] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[01:47:24] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[01:47:24] [ENEMY] [Enemy2] Registered as sound listener
[01:47:24] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[01:47:24] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[01:47:24] [ENEMY] [Enemy3] Registered as sound listener
[01:47:24] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[01:47:24] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[01:47:24] [ENEMY] [Enemy4] Registered as sound listener
[01:47:24] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[01:47:24] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[01:47:24] [ENEMY] [Enemy5] Registered as sound listener
[01:47:24] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[01:47:24] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[01:47:24] [ENEMY] [Enemy6] Registered as sound listener
[01:47:24] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[01:47:24] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[01:47:24] [ENEMY] [Enemy7] Registered as sound listener
[01:47:24] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[01:47:24] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[01:47:24] [ENEMY] [Enemy8] Registered as sound listener
[01:47:24] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[01:47:24] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[01:47:24] [ENEMY] [Enemy9] Registered as sound listener
[01:47:24] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[01:47:24] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[01:47:24] [ENEMY] [Enemy10] Registered as sound listener
[01:47:24] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[01:47:24] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:47:24] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:47:24] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:47:24] [INFO] [LastChance] Found player: Player
[01:47:24] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:47:24] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:47:24] [INFO] [LastChance] Connected to player Died signal (C#)
[01:47:24] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:47:24] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:47:24] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:47:26] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:47:27] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:47:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=20
[01:47:27] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[01:47:27] [ENEMY] [Enemy1] Heard gunshot at (400, 550), source_type=1, intensity=0.05, distance=224
[01:47:27] [ENEMY] [Enemy3] Heard gunshot at (400, 550), source_type=1, intensity=0.02, distance=361
[01:47:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[01:47:27] [INFO] [LastChance] Threat detected: Bullet
[01:47:27] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:47:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:27] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[01:47:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(306.1339, 358.7264), source=ENEMY (Enemy1), range=1469, listeners=10
[01:47:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=3
[01:47:27] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:47:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[01:47:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[01:47:27] [INFO] [LastChance] Threat detected: @Area2D@1715
[01:47:27] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:47:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:27] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:27] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[01:47:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(439.2023, 605.6217), shooter_id=2081247202221, bullet_pos=(688.9479, 885.3572)
[01:47:27] [INFO] [Bullet] Using shooter_position, distance=374.999786376953
[01:47:27] [INFO] [Bullet] Distance to wall: 374.999786376953 (25.5344250182097% of viewport)
[01:47:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:27] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[01:47:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(316.3153, 393.6613), source=ENEMY (Enemy1), range=1469, listeners=10
[01:47:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=3
[01:47:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[01:47:27] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[01:47:27] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:47:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[01:47:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[01:47:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(439.2023, 605.6217), shooter_id=2081247202221, bullet_pos=(546.8931, 999.2642)
[01:47:27] [INFO] [Bullet] Using shooter_position, distance=408.107513427734
[01:47:27] [INFO] [Bullet] Distance to wall: 408.107513427734 (27.7887910328392% of viewport)
[01:47:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(445.8342, 600.2974), shooter_id=2081247202221, bullet_pos=(697.1129, 819.3184)
[01:47:27] [INFO] [Bullet] Using shooter_position, distance=333.333435058594
[01:47:27] [INFO] [Bullet] Distance to wall: 333.333435058594 (22.6972865392785% of viewport)
[01:47:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:27] [INFO] [LastChance] Threat detected: @Area2D@1721
[01:47:27] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(439.2023, 605.6217), shooter_id=2081247202221, bullet_pos=(522.7815, 973.7509)
[01:47:27] [INFO] [Bullet] Using shooter_position, distance=377.497772216797
[01:47:27] [INFO] [Bullet] Distance to wall: 377.497772216797 (25.7045174674356% of viewport)
[01:47:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:27] [INFO] [Bullet] Starting wall penetration at (522.7815, 973.7509)
[01:47:27] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 1.93661999702454
[01:47:27] [INFO] [Bullet] Max penetration distance exceeded: 60.2083320617676 >= 48
[01:47:27] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:27] [INFO] [Bullet] Exiting penetration at (477.9925, 926.3581) after traveling 60.2083320617676 pixels through wall
[01:47:27] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[01:47:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(339.5507, 418.0047), shooter_id=2080961989545, bullet_pos=(682.3687, 889.9724)
[01:47:27] [INFO] [Bullet] Using shooter_position, distance=583.333251953125
[01:47:27] [INFO] [Bullet] Distance to wall: 583.333251953125 (39.7202337807543% of viewport)
[01:47:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:27] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[01:47:27] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[01:47:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(339.5507, 418.0047), shooter_id=2080961989545, bullet_pos=(584.4285, 999.1458)
[01:47:27] [INFO] [Bullet] Using shooter_position, distance=630.626770019531
[01:47:27] [INFO] [Bullet] Distance to wall: 630.626770019531 (42.9405363910072% of viewport)
[01:47:27] [ENEMY] [Enemy3] Hit taken, health: 2/3
[01:47:27] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:47:27] [INFO] [ImpactEffects] spawn_blood_effect called at (699.2098, 757.4247), dir=(0.836918, 0.547328), lethal=false
[01:47:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:47:27] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[01:47:27] [INFO] [ImpactEffects] Blood effect spawned at (699.2098, 757.4247) (scale=1)
[01:47:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.0791, 448.8831), shooter_id=2080961989545, bullet_pos=(692.8344, 818.472)
[01:47:27] [INFO] [Bullet] Using shooter_position, distance=500.000061035156
[01:47:27] [INFO] [Bullet] Distance to wall: 500.000061035156 (34.0459235749237% of viewport)
[01:47:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:27] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[01:47:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(698.8148, 761.1371), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:27] [INFO] [LastChance] Threat detected: Bullet
[01:47:27] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:27] [ENEMY] [Enemy3] Hit taken, health: 1/3
[01:47:27] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:47:27] [INFO] [ImpactEffects] spawn_blood_effect called at (698.4197, 764.8495), dir=(0.585443, -0.810713), lethal=false
[01:47:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:47:27] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[01:47:27] [INFO] [ImpactEffects] Blood effect spawned at (698.4197, 764.8495) (scale=1)
[01:47:27] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[01:47:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(445.8342, 600.2974), shooter_id=2081247202221, bullet_pos=(932.92, 597.4869)
[01:47:27] [INFO] [Bullet] Using shooter_position, distance=487.093902587891
[01:47:27] [INFO] [Bullet] Distance to wall: 487.093902587891 (33.1671195139167% of viewport)
[01:47:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[01:47:27] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[01:47:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(339.5507, 418.0047), shooter_id=2080961989545, bullet_pos=(511.3643, 897.2098)
[01:47:27] [INFO] [Bullet] Using shooter_position, distance=509.075134277344
[01:47:27] [INFO] [Bullet] Distance to wall: 509.075134277344 (34.6638619995725% of viewport)
[01:47:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:27] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[01:47:27] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(705.0152, 785.9337), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:27] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(785.8086, 878.5547), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(752.0447, 819.4734), shooter_id=2081817627088, bullet_pos=(752.0447, 819.4734)
[01:47:27] [INFO] [Bullet] Using shooter_position, distance=0
[01:47:27] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[01:47:27] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[01:47:27] [INFO] [Bullet] Starting wall penetration at (752.0447, 819.4734)
[01:47:27] [INFO] [LastChance] Threat detected: Bullet
[01:47:27] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[01:47:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36.3624877929688
[01:47:27] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:27] [INFO] [Bullet] Exiting penetration at (733.6868, 776.5693) after traveling 41.6666679382324 pixels through wall
[01:47:27] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:27] [ENEMY] [Enemy3] Hit taken, health: 0/3
[01:47:27] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:47:27] [INFO] [ImpactEffects] spawn_blood_effect called at (706.6194, 782.2262), dir=(-0.393384, -0.919374), lethal=true
[01:47:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:47:27] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[01:47:27] [INFO] [ImpactEffects] Blood effect spawned at (706.6194, 782.2262) (scale=1.5)
[01:47:27] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: true)
[01:47:27] [INFO] [ScoreManager] Penetration kill registered
[01:47:27] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:47:27] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[01:47:27] [INFO] [DeathAnim] Started - Angle: -113.2 deg, Index: 4
[01:47:27] [ENEMY] [Enemy3] Death animation started with hit direction: (-0.393384, -0.919374)
[01:47:27] [INFO] [LastChance] Threat detected: @Area2D@1713
[01:47:27] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[01:47:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:27] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[01:47:27] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:27] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(790.5532, 930.2983), source=ENEMY (Enemy4), range=1469, listeners=9
[01:47:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[01:47:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(686.3596, 720.4924), shooter_id=2081532414861, bullet_pos=(578.2844, 62.64407)
[01:47:27] [INFO] [Bullet] Using shooter_position, distance=666.666870117188
[01:47:27] [INFO] [Bullet] Distance to wall: 666.666870117188 (45.394573078557% of viewport)
[01:47:27] [INFO] [Bullet] Distance-based penetration chance: 93.7063314083502%
[01:47:27] [INFO] [Bullet] Starting wall penetration at (578.2844, 62.64407)
[01:47:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15.6118144989014
[01:47:27] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:27] [INFO] [Bullet] Exiting penetration at (570.7191, 16.5947) after traveling 41.6666679382324 pixels through wall
[01:47:27] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:27] [INFO] [LastChance] Threat detected: @Area2D@1740
[01:47:27] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[01:47:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:27] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(794.6737, 955.7685), source=ENEMY (Enemy4), range=1469, listeners=9
[01:47:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[01:47:28] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(781.3312, 953.1346), source=ENEMY (Enemy4), range=1469, listeners=9
[01:47:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[01:47:28] [ENEMY] [Enemy3] Ragdoll activated
[01:47:28] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:47:28] [INFO] [LastChance] Threat detected: @Area2D@1750
[01:47:28] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[01:47:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(772.1941, 864.7731), shooter_id=2081817627088, bullet_pos=(640.8257, 41.8594)
[01:47:28] [INFO] [Bullet] Using shooter_position, distance=833.33349609375
[01:47:28] [INFO] [Bullet] Distance to wall: 833.33349609375 (56.7432101142022% of viewport)
[01:47:28] [INFO] [Bullet] Distance-based penetration chance: 80.4662548667641%
[01:47:28] [INFO] [Bullet] Starting wall penetration at (640.8257, 41.8594)
[01:47:28] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(757.3896, 950.0204), source=ENEMY (Enemy4), range=1469, listeners=9
[01:47:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=7
[01:47:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36.6824188232422
[01:47:28] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:28] [INFO] [Bullet] Exiting penetration at (633.4691, -4.223759) after traveling 41.6666679382324 pixels through wall
[01:47:28] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:28] [INFO] [LastChance] Threat detected: @Area2D@1767
[01:47:28] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[01:47:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(781.956, 888.9189), shooter_id=2081817627088, bullet_pos=(721.0771, 57.8121)
[01:47:28] [INFO] [Bullet] Using shooter_position, distance=833.333618164063
[01:47:28] [INFO] [Bullet] Distance to wall: 833.333618164063 (56.7432184261943% of viewport)
[01:47:28] [INFO] [Bullet] Distance-based penetration chance: 80.46624516944%
[01:47:28] [INFO] [Bullet] Penetration failed (distance roll)
[01:47:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(792.8142, 886.062), shooter_id=2081817627088, bullet_pos=(838.3599, 53.97432)
[01:47:28] [INFO] [Bullet] Using shooter_position, distance=833.333312988281
[01:47:28] [INFO] [Bullet] Distance to wall: 833.333312988281 (56.7431976462142% of viewport)
[01:47:28] [INFO] [Bullet] Distance-based penetration chance: 80.4662694127501%
[01:47:28] [INFO] [Bullet] Starting wall penetration at (838.3599, 53.97432)
[01:47:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24.659460067749
[01:47:28] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:28] [INFO] [Bullet] Exiting penetration at (840.9104, 7.377399) after traveling 41.6666679382324 pixels through wall
[01:47:28] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:28] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[01:47:28] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[01:47:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(779.1552, 885.5466), shooter_id=2081817627088, bullet_pos=(962.1554, 29.89697)
[01:47:28] [INFO] [Bullet] Using shooter_position, distance=875.000244140625
[01:47:28] [INFO] [Bullet] Distance to wall: 875.000244140625 (59.5803756071076% of viewport)
[01:47:28] [INFO] [Bullet] Distance-based penetration chance: 77.1562284583745%
[01:47:28] [INFO] [Bullet] Starting wall penetration at (962.1554, 29.89697)
[01:47:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 48.817253112793
[01:47:28] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:28] [INFO] [Bullet] Exiting penetration at (971.9154, -15.73766) after traveling 41.6666641235352 pixels through wall
[01:47:28] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:29] [ENEMY] [Enemy3] Death animation completed
[01:47:29] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[01:47:29] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[01:47:29] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[01:47:29] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[01:47:30] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[01:47:35] [ENEMY] [Enemy4] FLANKING started: target=(808.2383, 596.9106), side=right, pos=(799.8605, 823.1554)
[01:47:35] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[01:47:37] [ENEMY] [Enemy1] FLANKING started: target=(910.3408, 853.7634), side=left, pos=(541.3872, 714.5897)
[01:47:37] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[01:47:38] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1397.592, 665.2034), source=ENEMY (Enemy4), range=1469, listeners=9
[01:47:38] [ENEMY] [Enemy5] Heard gunshot at (1397.592, 665.2034), source_type=1, intensity=0.01, distance=437
[01:47:38] [ENEMY] [Enemy7] Heard gunshot at (1397.592, 665.2034), source_type=1, intensity=0.02, distance=317
[01:47:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=6
[01:47:38] [ENEMY] [Enemy2] FLANKING started: target=(902.7081, 850.0692), side=left, pos=(524.3132, 696.1912)
[01:47:38] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[01:47:38] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[01:47:38] [ENEMY] [Enemy6] Memory: medium confidence (0.62) - transitioning to PURSUING
[01:47:38] [ENEMY] [Enemy6] State: IDLE -> PURSUING
[01:47:38] [INFO] [LastChance] Threat detected: Bullet
[01:47:38] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[01:47:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:38] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1369.69, 659.491), source=ENEMY (Enemy4), range=1469, listeners=9
[01:47:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=6
[01:47:38] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[01:47:38] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[01:47:38] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[01:47:38] [INFO] [LastChance] Threat detected: @Area2D@1775
[01:47:38] [INFO] [LastChance] Triggering last chance effect!
[01:47:38] [INFO] [LastChance] Starting last chance effect:
[01:47:38] [INFO] [LastChance]   - Time will be frozen (except player)
[01:47:38] [INFO] [LastChance]   - Duration: 6.0 real seconds
[01:47:38] [INFO] [LastChance]   - Sepia intensity: 0.70
[01:47:38] [INFO] [LastChance]   - Brightness: 0.60
[01:47:38] [INFO] [LastChance] Pushed bullet @Area2D@1775 from distance 142.2 to 200.0
[01:47:38] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[01:47:38] [INFO] [LastChance] Set player Player and all 19 children to PROCESS_MODE_ALWAYS
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[01:47:38] [INFO] [LastChance] Skipping player node: Player
[01:47:38] [INFO] [LastChance] Froze existing bullet casing: Casing
[01:47:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1714
[01:47:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1716
[01:47:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1718
[01:47:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1720
[01:47:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1722
[01:47:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1727
[01:47:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1734
[01:47:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1736
[01:47:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1741
[01:47:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1746
[01:47:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1751
[01:47:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1768
[01:47:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1774
[01:47:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1776
[01:47:38] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[01:47:38] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[01:47:38] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[01:47:39] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:47:39] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:47:39] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:47:39] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:47:39] [INFO] [LastChance] Ending last chance effect
[01:47:39] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[01:47:39] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[01:47:39] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[01:47:39] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[01:47:39] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[01:47:39] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[01:47:39] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[01:47:39] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[01:47:39] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[01:47:39] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[01:47:39] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[01:47:39] [INFO] [LastChance] All process modes restored
[01:47:39] [INFO] [LastChance] Restored original colors to 5 player sprites
[01:47:39] [ENEMY] [Enemy1] Death animation component initialized
[01:47:39] [ENEMY] [Enemy2] Death animation component initialized
[01:47:39] [ENEMY] [Enemy3] Death animation component initialized
[01:47:39] [ENEMY] [Enemy4] Death animation component initialized
[01:47:39] [ENEMY] [Enemy5] Death animation component initialized
[01:47:39] [ENEMY] [Enemy6] Death animation component initialized
[01:47:39] [ENEMY] [Enemy7] Death animation component initialized
[01:47:39] [ENEMY] [Enemy8] Death animation component initialized
[01:47:39] [ENEMY] [Enemy9] Death animation component initialized
[01:47:39] [ENEMY] [Enemy10] Death animation component initialized
[01:47:39] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:47:39] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:47:39] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:47:39] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:47:39] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:47:39] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:47:39] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[01:47:39] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[01:47:39] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[01:47:39] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:47:39] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:47:39] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:47:39] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:47:39] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:47:39] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:47:39] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[01:47:39] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:47:39] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:47:39] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:47:39] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:47:39] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:47:39] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:47:39] [INFO] [ScoreManager] Level started with 10 enemies
[01:47:39] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[01:47:39] [ENEMY] [Enemy1] Registered as sound listener
[01:47:39] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[01:47:39] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[01:47:39] [ENEMY] [Enemy2] Registered as sound listener
[01:47:39] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[01:47:39] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[01:47:39] [ENEMY] [Enemy3] Registered as sound listener
[01:47:39] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[01:47:39] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[01:47:39] [ENEMY] [Enemy4] Registered as sound listener
[01:47:39] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[01:47:39] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[01:47:39] [ENEMY] [Enemy5] Registered as sound listener
[01:47:39] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[01:47:39] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[01:47:39] [ENEMY] [Enemy6] Registered as sound listener
[01:47:39] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[01:47:39] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[01:47:39] [ENEMY] [Enemy7] Registered as sound listener
[01:47:39] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[01:47:39] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[01:47:39] [ENEMY] [Enemy8] Registered as sound listener
[01:47:39] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[01:47:39] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[01:47:39] [ENEMY] [Enemy9] Registered as sound listener
[01:47:39] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[01:47:39] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[01:47:39] [ENEMY] [Enemy10] Registered as sound listener
[01:47:39] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[01:47:39] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:47:39] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:47:39] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:47:39] [INFO] [LastChance] Found player: Player
[01:47:39] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:47:39] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:47:39] [INFO] [LastChance] Connected to player Died signal (C#)
[01:47:39] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:47:39] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:47:39] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:47:41] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=19
[01:47:41] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[01:47:41] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[01:47:41] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[01:47:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:41] [INFO] [LastChance] Threat detected: Bullet
[01:47:41] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:47:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:42] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:42] [INFO] [LastChance] Threat detected: Bullet
[01:47:42] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:47:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:42] [ENEMY] [Enemy1] Memory: medium confidence (0.61) - transitioning to PURSUING
[01:47:42] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[01:47:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:42] [INFO] [LastChance] Threat detected: @Area2D@2030
[01:47:42] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:47:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(665.3348, 691.443), shooter_id=2429525428494, bullet_pos=(512.5507, 348.9783)
[01:47:42] [INFO] [Bullet] Using shooter_position, distance=375.000091552734
[01:47:42] [INFO] [Bullet] Distance to wall: 375.000091552734 (25.5344457981898% of viewport)
[01:47:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:42] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(784.066, 841.7787), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:42] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:42] [INFO] [LastChance] Threat detected: @Area2D@2034
[01:47:42] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:47:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:42] [INFO] [LastChance] Threat detected: @Area2D@2032
[01:47:42] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:47:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:42] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(784.0661, 824.6378), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(665.3348, 691.443), shooter_id=2429525428494, bullet_pos=(704.7614, 45.57147)
[01:47:42] [INFO] [Bullet] Using shooter_position, distance=647.073791503906
[01:47:42] [INFO] [Bullet] Distance to wall: 647.073791503906 (44.060444327284% of viewport)
[01:47:42] [INFO] [Bullet] Distance-based penetration chance: 95.262814951502%
[01:47:42] [INFO] [Bullet] Starting wall penetration at (704.7614, 45.57147)
[01:47:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24.3510246276855
[01:47:42] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:42] [INFO] [Bullet] Exiting penetration at (726.3907, 11.42941) after traveling 35.4166679382324 pixels through wall
[01:47:42] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[01:47:42] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:47:42] [INFO] [LastChance] Threat detected: @Area2D@2039
[01:47:42] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:47:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:42] [INFO] [LastChance] Threat detected: @Area2D@2036
[01:47:42] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:47:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(678.1059, 685.3497), shooter_id=2429525428494, bullet_pos=(537.7973, 33.61533)
[01:47:42] [INFO] [Bullet] Using shooter_position, distance=666.66650390625
[01:47:42] [INFO] [Bullet] Distance to wall: 666.66650390625 (45.3945481425809% of viewport)
[01:47:42] [INFO] [Bullet] Distance-based penetration chance: 93.7063605003223%
[01:47:42] [INFO] [Bullet] Starting wall penetration at (537.7973, 33.61533)
[01:47:42] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[01:47:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 45.0143241882324
[01:47:42] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:42] [INFO] [Bullet] Exiting penetration at (527.9757, -12.00608) after traveling 41.6666679382324 pixels through wall
[01:47:42] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:42] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[01:47:42] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[01:47:42] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[01:47:42] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(795.4902, 798.8231), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:42] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(699.351, 757.2853), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:47:42] [INFO] [LastChance] Threat detected: Bullet
[01:47:42] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(688.9683, 682.8516), shooter_id=2429525428494, bullet_pos=(659.0068, 58.57008)
[01:47:42] [INFO] [Bullet] Using shooter_position, distance=625.000122070313
[01:47:42] [INFO] [Bullet] Distance to wall: 625.000122070313 (42.5574075856517% of viewport)
[01:47:42] [INFO] [Bullet] Distance-based penetration chance: 97.0163578167397%
[01:47:42] [INFO] [Bullet] Starting wall penetration at (659.0068, 58.57008)
[01:47:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20.0659980773926
[01:47:42] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:42] [INFO] [Bullet] Exiting penetration at (656.7697, 11.95707) after traveling 41.6666641235352 pixels through wall
[01:47:42] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:42] [INFO] [LastChance] Threat detected: @Area2D@2043
[01:47:42] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(753.8488, 780.8072), shooter_id=2429810640615, bullet_pos=(485.9307, 35.85357)
[01:47:42] [INFO] [Bullet] Using shooter_position, distance=791.666625976563
[01:47:42] [INFO] [Bullet] Distance to wall: 791.666625976563 (53.9060363093049% of viewport)
[01:47:42] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(804.7634, 763.3596), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:42] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(691.4734, 771.2511), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:47:42] [INFO] [LastChance] Threat detected: @Area2D@2047
[01:47:42] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(759.8678, 761.0371), shooter_id=2429810640615, bullet_pos=(575.2722, 34.10913)
[01:47:42] [INFO] [Bullet] Using shooter_position, distance=749.999877929688
[01:47:42] [INFO] [Bullet] Distance to wall: 749.999877929688 (51.0688708163995% of viewport)
[01:47:42] [INFO] [LastChance] Threat detected: @Area2D@2049
[01:47:42] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:42] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(802.3662, 736.8136), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:47:42] [INFO] [LastChance] Threat detected: @Area2D@2052
[01:47:42] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:42] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(668.2602, 759.2513), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:47:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(774.7414, 734.0151), shooter_id=2429810640615, bullet_pos=(637.5108, 39.10205)
[01:47:42] [INFO] [Bullet] Using shooter_position, distance=708.33349609375
[01:47:42] [INFO] [Bullet] Distance to wall: 708.33349609375 (48.2317302594703% of viewport)
[01:47:42] [INFO] [Bullet] Distance-based penetration chance: 90.3963146972846%
[01:47:42] [INFO] [Bullet] Starting wall penetration at (637.5108, 39.10205)
[01:47:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39.4274635314941
[01:47:42] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:42] [INFO] [Bullet] Exiting penetration at (628.4697, -6.680454) after traveling 41.6666679382324 pixels through wall
[01:47:42] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:42] [INFO] [LastChance] Threat detected: @Area2D@2054
[01:47:42] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:42] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(802.3662, 736.8136), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:47:42] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[01:47:42] [INFO] [LastChance] Threat detected: Bullet
[01:47:42] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:42] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.5344, 756.64), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:47:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(788.6786, 697.2394), shooter_id=2429810640615, bullet_pos=(706.3867, 35.67104)
[01:47:42] [INFO] [Bullet] Using shooter_position, distance=666.666809082031
[01:47:42] [INFO] [Bullet] Distance to wall: 666.666809082031 (45.394568922561% of viewport)
[01:47:42] [INFO] [Bullet] Distance-based penetration chance: 93.7063362570122%
[01:47:42] [INFO] [Bullet] Starting wall penetration at (706.3867, 35.67104)
[01:47:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 42.9673309326172
[01:47:42] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:42] [INFO] [Bullet] Exiting penetration at (700.6262, -10.63873) after traveling 41.6666679382324 pixels through wall
[01:47:42] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(719.9349, 709.4406), shooter_id=2429525428494, bullet_pos=(940.496, 36.32181)
[01:47:42] [INFO] [Bullet] Using shooter_position, distance=708.333251953125
[01:47:42] [INFO] [Bullet] Distance to wall: 708.333251953125 (48.2317136354862% of viewport)
[01:47:42] [INFO] [Bullet] Distance-based penetration chance: 90.3963340919327%
[01:47:42] [INFO] [Bullet] Starting wall penetration at (940.496, 36.32181)
[01:47:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 42.1187705993652
[01:47:42] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:42] [INFO] [Bullet] Exiting penetration at (955.0271, -8.024841) after traveling 41.6666717529297 pixels through wall
[01:47:42] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:42] [INFO] [LastChance] Threat detected: @Area2D@2058
[01:47:42] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:42] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(787.7715, 748.4515), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:47:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(708.7474, 704.5578), shooter_id=2429525428494, bullet_pos=(978.9997, 235.1256)
[01:47:43] [INFO] [Bullet] Using shooter_position, distance=541.666748046875
[01:47:43] [INFO] [Bullet] Distance to wall: 541.666748046875 (36.883084911833% of viewport)
[01:47:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:43] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(616.425, 755.5248), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:47:43] [INFO] [LastChance] Threat detected: @Area2D@2062
[01:47:43] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:43] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(768.4918, 765.7061), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:47:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(708.7474, 704.5578), shooter_id=2429525428494, bullet_pos=(856.3235, 55.5239)
[01:47:43] [INFO] [Bullet] Using shooter_position, distance=665.600219726563
[01:47:43] [INFO] [Bullet] Distance to wall: 665.600219726563 (45.3219428920622% of viewport)
[01:47:43] [INFO] [Bullet] Distance-based penetration chance: 93.7910666259274%
[01:47:43] [INFO] [Bullet] Starting wall penetration at (856.3235, 55.5239)
[01:47:43] [INFO] [LastChance] Threat detected: @Area2D@2065
[01:47:43] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11.9289274215698
[01:47:43] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:43] [INFO] [Bullet] Exiting penetration at (833.5273, 22.14964) after traveling 35.4166717529297 pixels through wall
[01:47:43] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[01:47:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(822.5799, 671.8366), shooter_id=2429810640615, bullet_pos=(938.6047, 57.70044)
[01:47:43] [INFO] [Bullet] Using shooter_position, distance=625
[01:47:43] [INFO] [Bullet] Distance to wall: 625 (42.5573992736596% of viewport)
[01:47:43] [INFO] [Bullet] Distance-based penetration chance: 97.0163675140638%
[01:47:43] [INFO] [Bullet] Starting wall penetration at (938.6047, 57.70044)
[01:47:43] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(590.3156, 754.4097), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[01:47:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20.511604309082
[01:47:43] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:43] [INFO] [Bullet] Exiting penetration at (947.2679, 11.84494) after traveling 41.6666679382324 pixels through wall
[01:47:43] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(691.6132, 709.5033), shooter_id=2429525428494, bullet_pos=(1089.788, 227.7546)
[01:47:43] [INFO] [Bullet] Using shooter_position, distance=625
[01:47:43] [INFO] [Bullet] Distance to wall: 625 (42.5573992736596% of viewport)
[01:47:43] [INFO] [Bullet] Distance-based penetration chance: 97.0163675140638%
[01:47:43] [INFO] [Bullet] Starting wall penetration at (1089.788, 227.7546)
[01:47:43] [INFO] [LastChance] Threat detected: @Area2D@2067
[01:47:43] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13.2537412643433
[01:47:43] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:43] [INFO] [Bullet] Exiting penetration at (1119.519, 191.7841) after traveling 41.6666679382324 pixels through wall
[01:47:43] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:43] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(766.7691, 775.2152), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[01:47:43] [INFO] [LastChance] Threat detected: @Area2D@2071
[01:47:43] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:43] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(564.2061, 753.2946), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[01:47:43] [INFO] [LastChance] Threat detected: Bullet
[01:47:43] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:43] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[01:47:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(809.0626, 711.0746), shooter_id=2429810640615, bullet_pos=(1080.032, 242.0558)
[01:47:43] [INFO] [Bullet] Using shooter_position, distance=541.666931152344
[01:47:43] [INFO] [Bullet] Distance to wall: 541.666931152344 (36.8830973798211% of viewport)
[01:47:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:43] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[01:47:43] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(538.461, 750.7232), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[01:47:43] [INFO] [LastChance] Threat detected: @Area2D@2075
[01:47:43] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(671.283, 715.2607), shooter_id=2429525428494, bullet_pos=(1373.764, 63.39933)
[01:47:43] [INFO] [Bullet] Using shooter_position, distance=958.3330078125
[01:47:43] [INFO] [Bullet] Distance to wall: 958.3330078125 (65.254656720966% of viewport)
[01:47:43] [INFO] [Bullet] Distance-based penetration chance: 70.5362338255397%
[01:47:43] [INFO] [Bullet] Starting wall penetration at (1373.764, 63.39933)
[01:47:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 0.50494801998138
[01:47:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(809.0626, 711.0746), shooter_id=2429810640615, bullet_pos=(970.0323, 54.42232)
[01:47:43] [INFO] [Bullet] Using shooter_position, distance=676.094299316406
[01:47:43] [INFO] [Bullet] Distance to wall: 676.094299316406 (46.0365040682455% of viewport)
[01:47:43] [INFO] [Bullet] Max penetration distance exceeded: 83.3333358764648 >= 48
[01:47:43] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:43] [INFO] [Bullet] Exiting penetration at (1438.514, 3.314705) after traveling 83.3333358764648 pixels through wall
[01:47:43] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(812.1393, 724.4988), shooter_id=2429810640615, bullet_pos=(1124.632, 282.0609)
[01:47:43] [INFO] [Bullet] Using shooter_position, distance=541.666809082031
[01:47:43] [INFO] [Bullet] Distance to wall: 541.666809082031 (36.8830890678291% of viewport)
[01:47:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:43] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(514.576, 748.4355), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[01:47:43] [INFO] [LastChance] Threat detected: @Area2D@2078
[01:47:43] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:43] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[01:47:43] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[01:47:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(649.046, 720.0391), shooter_id=2429525428494, bullet_pos=(1548.464, 44.26404)
[01:47:43] [INFO] [Bullet] Using shooter_position, distance=1124.99975585938
[01:47:43] [INFO] [Bullet] Distance to wall: 1124.99975585938 (76.6033020686032% of viewport)
[01:47:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(625.8806, 724.5396), shooter_id=2429525428494, bullet_pos=(1371.312, 266.3287)
[01:47:43] [INFO] [Bullet] Using shooter_position, distance=875.000122070313
[01:47:43] [INFO] [Bullet] Distance to wall: 875.000122070313 (59.5803672951155% of viewport)
[01:47:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(812.1393, 724.4988), shooter_id=2429810640615, bullet_pos=(1364.287, 595.5278)
[01:47:43] [INFO] [Bullet] Using shooter_position, distance=567.010009765625
[01:47:43] [INFO] [Bullet] Distance to wall: 567.010009765625 (38.6087542044118% of viewport)
[01:47:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(812.1393, 724.4988), shooter_id=2429810640615, bullet_pos=(1291.951, 697.9822)
[01:47:43] [INFO] [Bullet] Using shooter_position, distance=480.544158935547
[01:47:43] [INFO] [Bullet] Distance to wall: 480.544158935547 (32.721135424712% of viewport)
[01:47:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(602.4816, 727.6589), shooter_id=2429525428494, bullet_pos=(1386.27, 338.6834)
[01:47:43] [INFO] [Bullet] Using shooter_position, distance=875.000366210938
[01:47:43] [INFO] [Bullet] Distance to wall: 875.000366210938 (59.5803839190996% of viewport)
[01:47:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(625.8806, 724.5396), shooter_id=2429525428494, bullet_pos=(1075.735, 62.2829)
[01:47:43] [INFO] [Bullet] Using shooter_position, distance=800.595275878906
[01:47:43] [INFO] [Bullet] Distance to wall: 800.595275878906 (54.5140044994949% of viewport)
[01:47:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(649.046, 720.0391), shooter_id=2429525428494, bullet_pos=(1870.218, 272.6722)
[01:47:43] [INFO] [Bullet] Using shooter_position, distance=1300.53796386719
[01:47:43] [INFO] [Bullet] Distance to wall: 1300.53796386719 (88.5560214381571% of viewport)
[01:47:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(602.4816, 727.6589), shooter_id=2429525428494, bullet_pos=(1123.68, 219.5919)
[01:47:43] [INFO] [Bullet] Using shooter_position, distance=727.859802246094
[01:47:43] [INFO] [Bullet] Distance to wall: 727.859802246094 (49.5613123510943% of viewport)
[01:47:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(580.3178, 730.8681), shooter_id=2429525428494, bullet_pos=(1626.729, 317.7717)
[01:47:43] [INFO] [Bullet] Using shooter_position, distance=1125.00012207031
[01:47:43] [INFO] [Bullet] Distance to wall: 1125.00012207031 (76.6033270045794% of viewport)
[01:47:43] [ENEMY] [Enemy5] Hit taken, health: 2/3
[01:47:43] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[01:47:43] [INFO] [ImpactEffects] spawn_blood_effect called at (1700, 350), dir=(0.885508, 0.464625), lethal=false
[01:47:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:47:43] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[01:47:43] [INFO] [ImpactEffects] Blood effect spawned at (1700, 350) (scale=1)
[01:47:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(649.046, 720.0391), shooter_id=2429525428494, bullet_pos=(2199.165, 51.55939)
[01:47:44] [INFO] [Bullet] Using shooter_position, distance=1688.11547851563
[01:47:44] [INFO] [Bullet] Distance to wall: 1688.11547851563 (114.946887102775% of viewport)
[01:47:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(812.1393, 724.4988), shooter_id=2429810640615, bullet_pos=(1022.735, 256.875)
[01:47:44] [INFO] [Bullet] Using shooter_position, distance=512.857421875
[01:47:44] [INFO] [Bullet] Distance to wall: 512.857421875 (34.9214049171105% of viewport)
[01:47:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(602.4816, 727.6589), shooter_id=2429525428494, bullet_pos=(1485.359, 57.46552)
[01:47:44] [INFO] [Bullet] Using shooter_position, distance=1108.43627929688
[01:47:44] [INFO] [Bullet] Distance to wall: 1108.43627929688 (75.4754644919149% of viewport)
[01:47:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(625.8806, 724.5396), shooter_id=2429525428494, bullet_pos=(509.7286, 519.3307)
[01:47:44] [INFO] [Bullet] Using shooter_position, distance=235.800689697266
[01:47:44] [INFO] [Bullet] Distance to wall: 235.800689697266 (16.0561025607214% of viewport)
[01:47:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:44] [INFO] [Bullet] Starting wall penetration at (509.7286, 519.3307)
[01:47:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22.5997905731201
[01:47:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(812.1393, 724.4988), shooter_id=2429810640615, bullet_pos=(1104.308, 49.86458)
[01:47:44] [INFO] [Bullet] Using shooter_position, distance=735.18310546875
[01:47:44] [INFO] [Bullet] Distance to wall: 735.18310546875 (50.0599695338922% of viewport)
[01:47:44] [INFO] [Bullet] Distance-based penetration chance: 88.2633688771258%
[01:47:44] [INFO] [Bullet] Starting wall penetration at (1104.308, 49.86458)
[01:47:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(649.046, 720.0391), shooter_id=2429525428494, bullet_pos=(2468.777, 208.6998)
[01:47:44] [INFO] [Bullet] Using shooter_position, distance=1890.20837402344
[01:47:44] [INFO] [Bullet] Distance to wall: 1890.20837402344 (128.707763973969% of viewport)
[01:47:44] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:44] [INFO] [Bullet] Exiting penetration at (482.417, 541.3847) after traveling 30.1041660308838 pixels through wall
[01:47:44] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[01:47:44] [ENEMY] [Enemy1] Hit taken, health: 3/4
[01:47:44] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[01:47:44] [INFO] [ImpactEffects] spawn_blood_effect called at (461.407, 542.7338), dir=(-0.778016, 0.628244), lethal=false
[01:47:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:47:44] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[01:47:44] [INFO] [ImpactEffects] Blood effect spawned at (461.407, 542.7338) (scale=1)
[01:47:44] [ENEMY] [Enemy2] Hit taken, health: 3/4
[01:47:44] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:47:44] [INFO] [ImpactEffects] spawn_blood_effect called at (456.3209, 536.0649), dir=(-0.778016, 0.628244), lethal=false
[01:47:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:47:44] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[01:47:44] [INFO] [ImpactEffects] Blood effect spawned at (456.3209, 536.0649) (scale=1)
[01:47:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7.54872179031372
[01:47:44] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:44] [INFO] [Bullet] Exiting penetration at (1114.115, 24.97687) after traveling 21.7502632141113 pixels through wall
[01:47:44] [INFO] [Bullet] Damage multiplier after penetration: 0.05625
[01:47:44] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[01:47:44] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[01:47:44] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[01:47:44] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[01:47:44] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[01:47:44] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[01:47:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(602.4816, 727.6589), shooter_id=2429525428494, bullet_pos=(2463.571, 375.2613)
[01:47:44] [INFO] [Bullet] Using shooter_position, distance=1894.15893554688
[01:47:44] [INFO] [Bullet] Distance to wall: 1894.15893554688 (128.976764972542% of viewport)
[01:47:44] [INFO] [Bullet] Distance-based penetration chance: 24.2046470054917%
[01:47:44] [INFO] [Bullet] Penetration failed (distance roll)
[01:47:45] [ENEMY] [Enemy3] State: SUPPRESSED -> IN_COVER
[01:47:45] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[01:47:45] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[01:47:45] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[01:47:46] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[01:47:46] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[01:47:46] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[01:47:46] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[01:47:48] [ENEMY] [Enemy1] FLANKING started: target=(809.7402, 817.912), side=left, pos=(461.407, 542.7338)
[01:47:48] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[01:47:48] [ENEMY] [Enemy2] FLANKING started: target=(808.3601, 816.5015), side=left, pos=(456.3209, 536.0649)
[01:47:48] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[01:47:48] [ENEMY] [Enemy3] FLANKING started: target=(938.4955, 876.8822), side=left, pos=(635.9075, 832.3777)
[01:47:48] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[01:47:49] [ENEMY] [Enemy4] FLANKING started: target=(955.9805, 477.3785), side=right, pos=(872.5543, 629.3375)
[01:47:49] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[01:47:51] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1398.484, 675.1642), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:51] [ENEMY] [Enemy5] Heard gunshot at (1398.484, 675.1642), source_type=1, intensity=0.01, distance=443
[01:47:51] [ENEMY] [Enemy7] Heard gunshot at (1398.484, 675.1642), source_type=1, intensity=0.03, distance=309
[01:47:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[01:47:51] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[01:47:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1330.923, 683.2934), shooter_id=2429810640615, bullet_pos=(1164.258, 684.1052)
[01:47:51] [INFO] [Bullet] Using shooter_position, distance=166.666519165039
[01:47:51] [INFO] [Bullet] Distance to wall: 166.666519165039 (11.3486297626522% of viewport)
[01:47:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:51] [INFO] [Bullet] Starting wall penetration at (1164.258, 684.1052)
[01:47:51] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:47:51] [INFO] [Bullet] Exiting penetration at (1117.592, 684.3325) after traveling 41.6666679382324 pixels through wall
[01:47:51] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:51] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1399.124, 681.3302), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[01:47:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1331.457, 688.5265), shooter_id=2429810640615, bullet_pos=(1331.457, 688.5265)
[01:47:51] [INFO] [Bullet] Using shooter_position, distance=0
[01:47:51] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[01:47:51] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[01:47:51] [INFO] [Bullet] Starting wall penetration at (1331.457, 688.5265)
[01:47:51] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:47:51] [INFO] [Bullet] Exiting penetration at (1284.792, 688.1099) after traveling 41.6666679382324 pixels through wall
[01:47:51] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:51] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1398.997, 680.907), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[01:47:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1331.337, 688.1671), shooter_id=2429810640615, bullet_pos=(1331.337, 688.1671)
[01:47:51] [INFO] [Bullet] Using shooter_position, distance=0
[01:47:51] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[01:47:51] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[01:47:51] [INFO] [Bullet] Starting wall penetration at (1331.337, 688.1671)
[01:47:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25.7301902770996
[01:47:51] [INFO] [Bullet] Max penetration distance exceeded: 83.3333282470703 >= 48
[01:47:51] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:51] [INFO] [Bullet] Exiting penetration at (1243.007, 687.462) after traveling 83.3333282470703 pixels through wall
[01:47:51] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:51] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1398.872, 680.5109), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[01:47:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1331.218, 687.8309), shooter_id=2429810640615, bullet_pos=(1331.218, 687.8309)
[01:47:51] [INFO] [Bullet] Using shooter_position, distance=0
[01:47:51] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[01:47:51] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[01:47:51] [INFO] [Bullet] Starting wall penetration at (1331.218, 687.8309)
[01:47:51] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:47:51] [INFO] [Bullet] Exiting penetration at (1284.552, 687.4996) after traveling 41.6666679382324 pixels through wall
[01:47:51] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:51] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1398.747, 680.1402), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[01:47:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1331.099, 687.5161), shooter_id=2429810640615, bullet_pos=(1331.099, 687.5161)
[01:47:51] [INFO] [Bullet] Using shooter_position, distance=0
[01:47:51] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[01:47:51] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[01:47:51] [INFO] [Bullet] Starting wall penetration at (1331.099, 687.5161)
[01:47:51] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:47:51] [INFO] [Bullet] Exiting penetration at (1284.433, 687.2234) after traveling 41.6666717529297 pixels through wall
[01:47:51] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:51] [ENEMY] [Enemy5] State: COMBAT -> PURSUING
[01:47:51] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[01:47:51] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1393.928, 671.8713), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[01:47:51] [INFO] [LastChance] Threat detected: Bullet
[01:47:51] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:51] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1364.133, 657.5322), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:51] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[01:47:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1326.429, 680.507), shooter_id=2429810640615, bullet_pos=(1034.785, 684.1155)
[01:47:51] [INFO] [Bullet] Using shooter_position, distance=291.66650390625
[01:47:51] [INFO] [Bullet] Distance to wall: 291.66650390625 (19.8601085783851% of viewport)
[01:47:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:51] [INFO] [Bullet] Starting wall penetration at (1034.785, 684.1155)
[01:47:51] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:47:51] [INFO] [Bullet] Exiting penetration at (988.1219, 684.6928) after traveling 41.6666679382324 pixels through wall
[01:47:51] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:51] [INFO] [LastChance] Threat detected: @Area2D@2123
[01:47:51] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:51] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1330.286, 663.9332), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:51] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[01:47:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1296.986, 668.5683), shooter_id=2429810640615, bullet_pos=(964.0365, 684.5698)
[01:47:52] [INFO] [Bullet] Using shooter_position, distance=333.33349609375
[01:47:52] [INFO] [Bullet] Distance to wall: 333.33349609375 (22.6972906952745% of viewport)
[01:47:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:52] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[01:47:52] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[01:47:52] [INFO] [LastChance] Threat detected: Bullet
[01:47:52] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[01:47:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:52] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1296.536, 663.9332), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:52] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[01:47:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1263.005, 674.1224), shooter_id=2429810640615, bullet_pos=(971.5214, 684.4524)
[01:47:52] [INFO] [Bullet] Using shooter_position, distance=291.66650390625
[01:47:52] [INFO] [Bullet] Distance to wall: 291.66650390625 (19.8601085783851% of viewport)
[01:47:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:52] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:47:52] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:47:52] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:47:52] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:47:52] [ENEMY] [Enemy1] Death animation component initialized
[01:47:52] [ENEMY] [Enemy2] Death animation component initialized
[01:47:52] [ENEMY] [Enemy3] Death animation component initialized
[01:47:52] [ENEMY] [Enemy4] Death animation component initialized
[01:47:52] [ENEMY] [Enemy5] Death animation component initialized
[01:47:52] [ENEMY] [Enemy6] Death animation component initialized
[01:47:52] [ENEMY] [Enemy7] Death animation component initialized
[01:47:52] [ENEMY] [Enemy8] Death animation component initialized
[01:47:52] [ENEMY] [Enemy9] Death animation component initialized
[01:47:52] [ENEMY] [Enemy10] Death animation component initialized
[01:47:52] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:47:52] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:47:52] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:47:52] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:47:52] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:47:52] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:47:52] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[01:47:52] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[01:47:52] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[01:47:52] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:47:52] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:47:52] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:47:52] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:47:52] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:47:52] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:47:52] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[01:47:52] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:47:52] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:47:52] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:47:52] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:47:52] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:47:52] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:47:52] [INFO] [ScoreManager] Level started with 10 enemies
[01:47:52] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[01:47:52] [ENEMY] [Enemy1] Registered as sound listener
[01:47:52] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[01:47:52] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[01:47:52] [ENEMY] [Enemy2] Registered as sound listener
[01:47:52] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[01:47:52] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[01:47:52] [ENEMY] [Enemy3] Registered as sound listener
[01:47:52] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[01:47:52] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[01:47:52] [ENEMY] [Enemy4] Registered as sound listener
[01:47:52] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[01:47:52] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[01:47:52] [ENEMY] [Enemy5] Registered as sound listener
[01:47:52] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[01:47:52] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[01:47:52] [ENEMY] [Enemy6] Registered as sound listener
[01:47:52] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[01:47:52] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[01:47:52] [ENEMY] [Enemy7] Registered as sound listener
[01:47:52] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[01:47:52] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[01:47:52] [ENEMY] [Enemy8] Registered as sound listener
[01:47:52] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[01:47:52] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[01:47:52] [ENEMY] [Enemy9] Registered as sound listener
[01:47:52] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[01:47:52] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[01:47:52] [ENEMY] [Enemy10] Registered as sound listener
[01:47:52] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[01:47:52] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:47:52] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:47:52] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:47:52] [INFO] [LastChance] Found player: Player
[01:47:52] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:47:52] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:47:52] [INFO] [LastChance] Connected to player Died signal (C#)
[01:47:52] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:47:52] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:47:52] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:47:54] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[01:47:54] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:47:54] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[01:47:54] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:47:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=20
[01:47:54] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[01:47:54] [ENEMY] [Enemy3] Heard gunshot at (400, 550), source_type=1, intensity=0.02, distance=361
[01:47:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[01:47:54] [INFO] [LastChance] Threat detected: Bullet
[01:47:54] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:47:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:54] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:47:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[01:47:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[01:47:54] [INFO] [LastChance] Threat detected: @Area2D@2383
[01:47:54] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:47:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(441.3533, 604.0417), shooter_id=2785688946252, bullet_pos=(701.8765, 873.7687)
[01:47:54] [INFO] [Bullet] Using shooter_position, distance=374.999969482422
[01:47:54] [INFO] [Bullet] Distance to wall: 374.999969482422 (25.5344374861978% of viewport)
[01:47:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:54] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:54] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[01:47:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:54] [INFO] [LastChance] Threat detected: @Area2D@2385
[01:47:54] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:47:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:54] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:47:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[01:47:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[01:47:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(441.3533, 604.0417), shooter_id=2785688946252, bullet_pos=(593.5704, 1020.138)
[01:47:54] [INFO] [Bullet] Using shooter_position, distance=443.06494140625
[01:47:54] [INFO] [Bullet] Distance to wall: 443.06494140625 (30.1691065849382% of viewport)
[01:47:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:54] [INFO] [Bullet] Starting wall penetration at (593.5704, 1020.138)
[01:47:54] [ENEMY] [Enemy3] Hit taken, health: 3/4
[01:47:54] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:47:54] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.814703, 0.579879), lethal=false
[01:47:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:47:54] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[01:47:54] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[01:47:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35.6128921508789
[01:47:54] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:54] [INFO] [Bullet] Exiting penetration at (569.53, 1052.628) after traveling 35.4166679382324 pixels through wall
[01:47:54] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[01:47:54] [INFO] [LastChance] Threat detected: @Area2D@2387
[01:47:54] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:47:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:54] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:54] [INFO] [LastChance] Threat detected: Bullet
[01:47:54] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:47:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:54] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[01:47:54] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[01:47:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(696.9962, 757.4147), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:54] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[01:47:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(457.6569, 586.1425), shooter_id=2785688946252, bullet_pos=(908.9504, 801.3961)
[01:47:54] [INFO] [Bullet] Using shooter_position, distance=499.999938964844
[01:47:54] [INFO] [Bullet] Distance to wall: 499.999938964844 (34.0459152629317% of viewport)
[01:47:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:54] [INFO] [Bullet] Starting wall penetration at (908.9504, 801.3961)
[01:47:54] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[01:47:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16.6976776123047
[01:47:54] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:54] [INFO] [Bullet] Exiting penetration at (951.0711, 821.4865) after traveling 41.6666717529297 pixels through wall
[01:47:54] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(663.1302, 698.3917), shooter_id=2785974160531, bullet_pos=(507.1137, 451.9604)
[01:47:54] [INFO] [Bullet] Using shooter_position, distance=291.666839599609
[01:47:54] [INFO] [Bullet] Distance to wall: 291.666839599609 (19.8601314363632% of viewport)
[01:47:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:47:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.9802, 785.9335), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:54] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:47:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(685.6108, 780.6293), source=ENEMY (Enemy3), range=1469, listeners=10
[01:47:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:47:54] [INFO] [LastChance] Threat detected: @Area2D@2394
[01:47:54] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:47:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:54] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[01:47:54] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[01:47:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(663.1302, 698.3917), shooter_id=2785974160531, bullet_pos=(741.1155, 49.64735)
[01:47:55] [INFO] [Bullet] Using shooter_position, distance=653.414855957031
[01:47:55] [INFO] [Bullet] Distance to wall: 653.414855957031 (44.4922190660867% of viewport)
[01:47:55] [INFO] [Bullet] Distance-based penetration chance: 94.7590777562322%
[01:47:55] [INFO] [Bullet] Starting wall penetration at (741.1155, 49.64735)
[01:47:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20.0012855529785
[01:47:55] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:55] [INFO] [Bullet] Exiting penetration at (761.4362, 14.71058) after traveling 35.4166679382324 pixels through wall
[01:47:55] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[01:47:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(675.7156, 718.5186), shooter_id=2785974160531, bullet_pos=(569.7488, 60.32747)
[01:47:55] [INFO] [Bullet] Using shooter_position, distance=666.666687011719
[01:47:55] [INFO] [Bullet] Distance to wall: 666.666687011719 (45.3945606105689% of viewport)
[01:47:55] [INFO] [Bullet] Distance-based penetration chance: 93.7063459543362%
[01:47:55] [INFO] [Bullet] Starting wall penetration at (569.7488, 60.32747)
[01:47:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.974422454834
[01:47:55] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:55] [INFO] [Bullet] Exiting penetration at (562.3312, 14.2541) after traveling 41.6666679382324 pixels through wall
[01:47:55] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:55] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(801.3261, 957.5559), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[01:47:55] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(779.2073, 954.3204), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[01:47:55] [INFO] [LastChance] Threat detected: @Area2D@2399
[01:47:55] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:55] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:47:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(758.222, 958.2618), source=ENEMY (Enemy4), range=1469, listeners=10
[01:47:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[01:47:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(786.7846, 891.0793), shooter_id=2786259371656, bullet_pos=(703.1945, 61.94876)
[01:47:55] [INFO] [Bullet] Using shooter_position, distance=833.333557128906
[01:47:55] [INFO] [Bullet] Distance to wall: 833.333557128906 (56.7432142701983% of viewport)
[01:47:55] [INFO] [Bullet] Distance-based penetration chance: 80.466250018102%
[01:47:55] [INFO] [Bullet] Starting wall penetration at (703.1945, 61.94876)
[01:47:55] [INFO] [LastChance] Threat detected: @Area2D@2401
[01:47:55] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:47:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:47:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16.5660953521729
[01:47:55] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:55] [INFO] [Bullet] Exiting penetration at (698.5135, 15.51746) after traveling 41.6666679382324 pixels through wall
[01:47:55] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:55] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[01:47:55] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[01:47:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(789.1938, 887.0086), shooter_id=2786259371656, bullet_pos=(816.1982, 54.11302)
[01:47:55] [INFO] [Bullet] Using shooter_position, distance=833.333190917969
[01:47:55] [INFO] [Bullet] Distance to wall: 833.333190917969 (56.7431893342221% of viewport)
[01:47:55] [INFO] [Bullet] Distance-based penetration chance: 80.4662791100742%
[01:47:55] [INFO] [Bullet] Starting wall penetration at (816.1982, 54.11302)
[01:47:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24.5420341491699
[01:47:55] [INFO] [Bullet] Body exited signal received for penetrating body
[01:47:55] [INFO] [Bullet] Exiting penetration at (817.7104, 7.470856) after traveling 41.6666717529297 pixels through wall
[01:47:55] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[01:47:55] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[01:47:55] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[01:47:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(776.8262, 892.8058), shooter_id=2786259371656, bullet_pos=(917.9955, 29.26886)
[01:47:55] [INFO] [Bullet] Using shooter_position, distance=874.999877929688
[01:47:55] [INFO] [Bullet] Distance to wall: 874.999877929688 (59.5803506711314% of viewport)
[01:47:55] [INFO] [Bullet] Distance-based penetration chance: 77.1562575503467%
[01:47:55] [INFO] [Bullet] Penetration failed (distance roll)
[01:47:55] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[01:47:55] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[01:47:55] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[01:47:56] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[01:47:56] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[01:47:57] [ENEMY] [Enemy3] State: SUPPRESSED -> IN_COVER
[01:47:57] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[01:48:00] [ENEMY] [Enemy1] FLANKING started: target=(844.8396, 841.6166), side=left, pos=(488.1885, 653.3001)
[01:48:00] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[01:48:01] [ENEMY] [Enemy2] FLANKING started: target=(864.3042, 493.0109), side=right, pos=(513.8102, 642.19)
[01:48:01] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[01:48:04] [ENEMY] [Enemy1] FLANKING stuck (2.0s no progress), target=(918.0544, 869.8507), pos=(882.6973, 703.7043), fail_count=1
[01:48:04] [ENEMY] [Enemy1] State: FLANKING -> PURSUING
[01:48:05] [ENEMY] [Enemy4] FLANKING started: target=(960.4686, 472.9332), side=right, pos=(876.995, 625.1043)
[01:48:05] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[01:48:06] [ENEMY] [Enemy3] FLANKING started: target=(963.7181, 473.0973), side=right, pos=(876.1995, 622.8499)
[01:48:06] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[01:48:06] [ENEMY] [Enemy2] FLANKING timeout (5.0s), target=(923.6038, 870.7267), pos=(1118.516, 798.3728)
[01:48:06] [ENEMY] [Enemy2] State: FLANKING -> PURSUING
[01:48:07] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:48:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1397.576, 665.2703), source=ENEMY (Enemy4), range=1469, listeners=10
[01:48:07] [ENEMY] [Enemy3] Heard gunshot at (1397.576, 665.2703), source_type=1, intensity=1.00, distance=37
[01:48:07] [ENEMY] [Enemy5] Heard gunshot at (1397.576, 665.2703), source_type=1, intensity=0.01, distance=437
[01:48:07] [ENEMY] [Enemy7] Heard gunshot at (1397.576, 665.2703), source_type=1, intensity=0.02, distance=317
[01:48:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[01:48:07] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[01:48:07] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:48:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1358.46, 653.3079), source=ENEMY (Enemy3), range=1469, listeners=10
[01:48:07] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[01:48:07] [INFO] [LastChance] Threat detected: Bullet
[01:48:07] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:48:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:48:07] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:48:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1369.648, 659.4661), source=ENEMY (Enemy4), range=1469, listeners=10
[01:48:07] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[01:48:07] [INFO] [LastChance] Threat detected: @Area2D@2407
[01:48:07] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:48:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:48:07] [ENEMY] [Enemy3] Hit taken, health: 2/4
[01:48:07] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:48:07] [INFO] [ImpactEffects] spawn_blood_effect called at (1329.518, 663.9338), dir=(-0.999494, 0.031801), lethal=false
[01:48:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:48:07] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[01:48:07] [INFO] [ImpactEffects] Blood effect spawned at (1329.518, 663.9338) (scale=1)
[01:48:07] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[01:48:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1324.666, 663.9338), source=ENEMY (Enemy3), range=1469, listeners=10
[01:48:07] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[01:48:08] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[01:48:08] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[01:48:08] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[01:48:08] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[01:48:08] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[01:48:08] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[01:48:08] [INFO] [LastChance] Threat detected: @Area2D@2411
[01:48:08] [INFO] [LastChance] Triggering last chance effect!
[01:48:08] [INFO] [LastChance] Starting last chance effect:
[01:48:08] [INFO] [LastChance]   - Time will be frozen (except player)
[01:48:08] [INFO] [LastChance]   - Duration: 6.0 real seconds
[01:48:08] [INFO] [LastChance]   - Sepia intensity: 0.70
[01:48:08] [INFO] [LastChance]   - Brightness: 0.60
[01:48:08] [INFO] [LastChance] Pushed bullet @Area2D@2411 from distance 138.7 to 200.0
[01:48:08] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[01:48:08] [INFO] [LastChance] Set player Player and all 19 children to PROCESS_MODE_ALWAYS
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[01:48:08] [INFO] [LastChance] Skipping player node: Player
[01:48:08] [INFO] [LastChance] Froze existing bullet casing: Casing
[01:48:08] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2384
[01:48:08] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2386
[01:48:08] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2388
[01:48:08] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2390
[01:48:08] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2395
[01:48:08] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2398
[01:48:08] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2400
[01:48:08] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2402
[01:48:08] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2406
[01:48:08] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2408
[01:48:08] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2410
[01:48:08] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2412
[01:48:08] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[01:48:08] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[01:48:08] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[01:48:10] [INFO] ------------------------------------------------------------
[01:48:10] [INFO] GAME LOG ENDED: 2026-01-25T01:48:10
[01:48:10] [INFO] ============================================================
