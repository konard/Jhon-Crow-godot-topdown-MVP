[00:00:25] [INFO] ============================================================
[00:00:25] [INFO] GAME LOG STARTED
[00:00:25] [INFO] ============================================================
[00:00:25] [INFO] Timestamp: 2026-01-24T00:00:25
[00:00:25] [INFO] Log file: I:/Загрузки/godot exe/game_log_20260124_000025.txt
[00:00:25] [INFO] Executable: I:/Загрузки/godot exe/Godot-Top-Down-Template.exe
[00:00:25] [INFO] OS: Windows
[00:00:25] [INFO] Debug build: false
[00:00:25] [INFO] Engine version: 4.3-stable (official)
[00:00:25] [INFO] Project: Godot Top-Down Template
[00:00:25] [INFO] ------------------------------------------------------------
[00:00:25] [INFO] [GameManager] GameManager ready
[00:00:25] [INFO] [ScoreManager] ScoreManager ready
[00:00:25] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[00:00:25] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:00:25] [INFO] [PenultimateHit] Saturation shader loaded successfully
[00:00:25] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[00:00:25] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[00:00:25] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[00:00:25] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[00:00:25] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[00:00:25] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:00:25] [INFO] [LastChance] Last chance shader loaded successfully
[00:00:25] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[00:00:25] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[00:00:25] [INFO] [LastChance]   Sepia intensity: 0.70
[00:00:25] [INFO] [LastChance]   Brightness: 0.60
[00:00:25] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[00:00:25] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[00:00:25] [ENEMY] [Enemy1] Death animation component initialized
[00:00:25] [ENEMY] [Enemy2] Death animation component initialized
[00:00:25] [ENEMY] [Enemy3] Death animation component initialized
[00:00:25] [ENEMY] [Enemy4] Death animation component initialized
[00:00:25] [ENEMY] [Enemy5] Death animation component initialized
[00:00:25] [ENEMY] [Enemy6] Death animation component initialized
[00:00:25] [ENEMY] [Enemy7] Death animation component initialized
[00:00:25] [ENEMY] [Enemy8] Death animation component initialized
[00:00:25] [ENEMY] [Enemy9] Death animation component initialized
[00:00:25] [ENEMY] [Enemy10] Death animation component initialized
[00:00:25] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:00:25] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:00:25] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:00:25] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:00:25] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:00:25] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:00:25] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:00:25] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:00:25] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:00:25] [INFO] [ScoreManager] Level started with 10 enemies
[00:00:25] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[00:00:25] [ENEMY] [Enemy1] Registered as sound listener
[00:00:25] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:00:25] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[00:00:25] [ENEMY] [Enemy2] Registered as sound listener
[00:00:25] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:00:25] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[00:00:25] [ENEMY] [Enemy3] Registered as sound listener
[00:00:25] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:00:25] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[00:00:25] [ENEMY] [Enemy4] Registered as sound listener
[00:00:25] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:00:25] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[00:00:25] [ENEMY] [Enemy5] Registered as sound listener
[00:00:25] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:00:25] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[00:00:25] [ENEMY] [Enemy6] Registered as sound listener
[00:00:25] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:00:25] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[00:00:25] [ENEMY] [Enemy7] Registered as sound listener
[00:00:25] [ENEMY] [Enemy7] Enemy spawned at (1606.114, 893.8859), health: 4, behavior: PATROL, player_found: yes
[00:00:25] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[00:00:25] [ENEMY] [Enemy8] Registered as sound listener
[00:00:25] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:00:25] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[00:00:25] [ENEMY] [Enemy9] Registered as sound listener
[00:00:25] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:00:25] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[00:00:25] [ENEMY] [Enemy10] Registered as sound listener
[00:00:25] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:00:25] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:00:25] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:00:25] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:00:25] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:00:25] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:00:25] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:00:25] [INFO] [LastChance] Found player: Player
[00:00:25] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:00:25] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:00:25] [INFO] [LastChance] Connected to player Died signal (C#)
[00:00:27] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:00:27] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:00:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:00:27] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[00:00:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:00:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:00:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:00:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:00:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:00:27] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 2/4
[00:00:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:00:27] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:00:27] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:00:27] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:00:27] [INFO] [LastChance] Found player: Player
[00:00:27] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:00:27] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:00:27] [INFO] [LastChance] Connected to player Died signal (C#)
[00:00:27] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:00:27] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:00:27] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:00:30] [INFO] [Player.Debug] Debug mode toggled: ON
[00:00:30] [INFO] [GameManager] Debug mode toggled: ON
[00:00:31] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:00:31] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:00:31] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (356.74286, 251.13173)
[00:00:31] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:00:31] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:00:31] [INFO] [Player.Grenade] Timer started, grenade created at (150, 174.94443)
[00:00:31] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:00:31] [INFO] [Player.Grenade] Step 1 complete! Drag: (444.25885, -56.103897)
[00:00:32] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:00:32] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:00:32] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:00:32] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:00:32] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:00:32] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:00:33] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:00:33] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1910.8438, -79.55923) (1912,5 px/s), Swing distance: 160,6
[00:00:33] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,04161162
[00:00:33] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1910.844, -79.55923), Swing: 160.6, Transfer: 0.99, Final speed: 999.1
[00:00:33] [INFO] [Player.Grenade] Thrown! Velocity: 1912,5, Swing: 160,6
[00:00:33] [INFO] [Player.Grenade] State reset to IDLE
[00:00:33] [INFO] [Player.Grenade] Player rotation restored to 0
[00:00:33] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:00:33] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:00:34] [INFO] [GrenadeBase] Grenade landed at (722.3333, 151.1149)
[00:00:35] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:00:35] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:00:35] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (365.4276, 203.04268)
[00:00:35] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:00:35] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:00:35] [INFO] [Player.Grenade] Timer started, grenade created at (150, 145.2222)
[00:00:35] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:00:35] [INFO] [Player.Grenade] Step 1 complete! Drag: (313.3194, -7.346939)
[00:00:35] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:00:35] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:00:35] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:00:35] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:00:35] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:00:35] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:00:35] [INFO] [GrenadeBase] EXPLODED at (726.272, 150.9509)!
[00:00:35] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(726.272, 150.9509), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=10
[00:00:35] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:00:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:00:36] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:00:36] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1925.8167, 67.11535) (1927,0 px/s), Swing distance: 1327,0
[00:00:36] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,034836233
[00:00:36] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1925.817, 67.11535), Swing: 1327.0, Transfer: 1.00, Final speed: 1015.6
[00:00:36] [INFO] [Player.Grenade] Thrown! Velocity: 1927,0, Swing: 1327,0
[00:00:36] [INFO] [Player.Grenade] State reset to IDLE
[00:00:36] [INFO] [Player.Grenade] Player rotation restored to 0
[00:00:36] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:00:36] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:00:37] [INFO] [GrenadeBase] Grenade landed at (734.3675, 165.5876)
[00:00:37] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:00:37] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:00:37] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (203.75746, 207.0501)
[00:00:38] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:00:38] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:00:38] [INFO] [Player.Grenade] Timer started, grenade created at (150, 145.2222)
[00:00:38] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:00:38] [INFO] [Player.Grenade] Step 1 complete! Drag: (277.9123, 2.003708)
[00:00:38] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:00:38] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:00:38] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:00:38] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:00:38] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:00:38] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:00:38] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:00:38] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3185.5574, -991.0509) (3336,2 px/s), Swing distance: 686,1
[00:00:38] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,3016158
[00:00:38] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3185.557, -991.0509), Swing: 686.1, Transfer: 1.00, Final speed: 1352.8
[00:00:38] [INFO] [Player.Grenade] Thrown! Velocity: 3336,2, Swing: 686,1
[00:00:38] [INFO] [Player.Grenade] State reset to IDLE
[00:00:39] [INFO] [Player.Grenade] Player rotation restored to 0
[00:00:39] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:00:39] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:00:39] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:00:39] [INFO] [GrenadeBase] EXPLODED at (738.0645, 165.7165)!
[00:00:39] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(738.0645, 165.7165), source=NEUTRAL (@RigidBody2D@294), range=2937, listeners=0
[00:00:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:00:40] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:00:40] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:00:40] [INFO] [GrenadeBase] Grenade landed at (841.1061, 135.622)
[00:00:40] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (569.1854, 150.27829)
[00:00:40] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:00:40] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:00:40] [INFO] [Player.Grenade] Timer started, grenade created at (150, 145.2222)
[00:00:40] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:00:40] [INFO] [Player.Grenade] Step 1 complete! Drag: (192.40082, -1.3358002)
[00:00:40] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:00:40] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:00:40] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:00:40] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:00:40] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:00:40] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:00:41] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:00:41] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (473.8087, 0) (473,8 px/s), Swing distance: 141,1
[00:00:41] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0
[00:00:41] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (473.8087, 0), Swing: 141.1, Transfer: 0.87, Final speed: 217.5
[00:00:41] [INFO] [Player.Grenade] Thrown! Velocity: 473,8, Swing: 141,1
[00:00:41] [INFO] [Player.Grenade] State reset to IDLE
[00:00:41] [INFO] [Player.Grenade] Player rotation restored to 0
[00:00:41] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:00:41] [INFO] [GrenadeBase] Grenade landed at (257.4696, 145.2222)
[00:00:41] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:00:42] [INFO] [GrenadeBase] EXPLODED at (844.882, 136.1728)!
[00:00:42] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(844.882, 136.1728), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:00:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:00:42] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:00:42] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:00:42] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:00:42] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[00:00:42] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:00:42] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:00:42] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:00:42] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:00:42] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:00:42] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 2/4
[00:00:42] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:00:42] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:00:42] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:00:42] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:00:42] [INFO] [LastChance] Found player: Player
[00:00:42] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:00:42] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:00:42] [INFO] [LastChance] Connected to player Died signal (C#)
[00:00:42] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:00:42] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:00:42] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:00:43] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:00:43] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:00:43] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (448.50824, 195.02783)
[00:00:43] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:00:43] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:00:43] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:00:43] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:00:43] [INFO] [Player.Grenade] Step 1 complete! Drag: (214.60858, 7.346939)
[00:00:43] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:00:43] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:00:43] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:00:43] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:00:43] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:00:43] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:00:45] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:00:45] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (872.94763, 47.146065) (874,2 px/s), Swing distance: 83,7
[00:00:45] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,053955473
[00:00:45] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (872.9476, 47.14606), Swing: 83.7, Transfer: 0.52, Final speed: 238.0
[00:00:45] [INFO] [Player.Grenade] Thrown! Velocity: 874,2, Swing: 83,7
[00:00:45] [INFO] [Player.Grenade] State reset to IDLE
[00:00:45] [INFO] [Player.Grenade] Player rotation restored to 0
[00:00:45] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:00:45] [INFO] [GrenadeBase] Grenade landed at (265.4131, 131.6776)
[00:00:45] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:00:46] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:00:46] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:00:46] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:00:46] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[00:00:46] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:00:46] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:00:46] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:00:46] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:00:46] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:00:46] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 4/4
[00:00:46] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:00:46] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:00:46] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:00:46] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:00:46] [INFO] [LastChance] Found player: Player
[00:00:46] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:00:46] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:00:46] [INFO] [LastChance] Connected to player Died signal (C#)
[00:00:46] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:00:46] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:00:46] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:00:46] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:00:46] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:00:46] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (468.43036, 223.74768)
[00:00:46] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:00:46] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:00:46] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:00:46] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:00:46] [INFO] [Player.Grenade] Step 1 complete! Drag: (255.031, 27.384048)
[00:00:46] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:00:46] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:00:46] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:00:46] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:00:46] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:00:46] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:00:48] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:00:48] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3134.5032, -277.47455) (3146,8 px/s), Swing distance: 445,0
[00:00:48] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,08829251
[00:00:48] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3134.503, -277.4745), Swing: 445.0, Transfer: 1.00, Final speed: 1352.8
[00:00:48] [INFO] [Player.Grenade] Thrown! Velocity: 3146,8, Swing: 445,0
[00:00:48] [INFO] [Player.Grenade] State reset to IDLE
[00:00:48] [INFO] [Player.Grenade] Player rotation restored to 0
[00:00:48] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:00:48] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:00:48] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:00:49] [INFO] [GrenadeBase] Grenade landed at (955.0985, 85.60453)
[00:00:49] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:00:49] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:00:49] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:00:49] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[00:00:49] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:00:49] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:00:49] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:00:49] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:00:49] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:00:49] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 2/4
[00:00:49] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:00:49] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:00:49] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:00:49] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:00:49] [INFO] [LastChance] Found player: Player
[00:00:49] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:00:49] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:00:49] [INFO] [LastChance] Connected to player Died signal (C#)
[00:00:50] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:00:50] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:00:50] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:00:50] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:00:50] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:00:50] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (840.80255, 137.58812)
[00:00:50] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:00:50] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:00:50] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:00:50] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:00:50] [INFO] [Player.Grenade] Step 1 complete! Drag: (115.19684, 18.033401)
[00:00:50] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:00:50] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:00:50] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:00:50] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:00:50] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:00:50] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:00:52] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:00:52] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2231.133, -141.43839) (2235,6 px/s), Swing distance: 336,1
[00:00:52] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,06330836
[00:00:52] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2231.133, -141.4384), Swing: 336.1, Transfer: 1.00, Final speed: 1178.3
[00:00:52] [INFO] [Player.Grenade] Thrown! Velocity: 2235,6, Swing: 336,1
[00:00:52] [INFO] [Player.Grenade] State reset to IDLE
[00:00:52] [INFO] [Player.Grenade] Player rotation restored to 0
[00:00:52] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:00:52] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:00:53] [INFO] [GrenadeBase] Grenade landed at (850.1422, 86.56023)
[00:00:54] [INFO] [GrenadeBase] EXPLODED at (853.3903, 86.35431)!
[00:00:54] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(853.3903, 86.35431), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:00:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:00:55] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:00:55] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:00:55] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1020.79297, 142.93135)
[00:00:55] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:00:55] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:00:55] [INFO] [Player.Grenade] Timer started, grenade created at (150, 130.94443)
[00:00:55] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:00:55] [INFO] [Player.Grenade] Step 1 complete! Drag: (146.9729, 14.693878)
[00:00:55] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:00:55] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:00:56] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:00:56] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:00:56] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:00:56] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:00:56] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:00:56] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (650.3741, 0) (650,4 px/s), Swing distance: 90,1
[00:00:56] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0
[00:00:56] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (650.3741, 0), Swing: 90.1, Transfer: 0.56, Final speed: 190.6
[00:00:56] [INFO] [Player.Grenade] Thrown! Velocity: 650,4, Swing: 90,1
[00:00:56] [INFO] [Player.Grenade] State reset to IDLE
[00:00:56] [INFO] [Player.Grenade] Player rotation restored to 0
[00:00:56] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:00:57] [INFO] [GrenadeBase] Grenade landed at (246.4551, 130.9444)
[00:00:57] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:00:58] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:00:58] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:00:58] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (850.43805, 155.62152)
[00:00:58] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:00:58] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:00:58] [INFO] [Player.Grenade] Timer started, grenade created at (150, 130.94443)
[00:00:58] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:00:58] [INFO] [Player.Grenade] Step 1 complete! Drag: (199.08148, 29.387756)
[00:00:58] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:00:58] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:00:59] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:00:59] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:00:59] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:00:59] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:00:59] [INFO] [GrenadeBase] EXPLODED at (250.4455, 130.9444)!
[00:00:59] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(250.4455, 130.9444), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:00:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:01:02] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:01:02] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1669.1635, -62.86154) (1670,3 px/s), Swing distance: 144,3
[00:01:02] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,037642717
[00:01:02] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1669.163, -62.86154), Swing: 144.3, Transfer: 0.89, Final speed: 784.4
[00:01:02] [INFO] [Player.Grenade] Thrown! Velocity: 1670,3, Swing: 144,3
[00:01:02] [INFO] [Player.Grenade] State reset to IDLE
[00:01:02] [INFO] [Player.Grenade] Player rotation restored to 0
[00:01:02] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:01:02] [INFO] [GrenadeBase] EXPLODED at (410.9996, 121.115)!
[00:01:02] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(410.9996, 121.115), source=NEUTRAL (@RigidBody2D@315), range=2937, listeners=0
[00:01:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:01:02] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:01:03] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:01:03] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:01:03] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1038.1625, 172.98701)
[00:01:03] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:01:03] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:01:03] [INFO] [Player.Grenade] Timer started, grenade created at (150, 130.94443)
[00:01:03] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:01:03] [INFO] [Player.Grenade] Step 1 complete! Drag: (188.39258, 18.701294)
[00:01:03] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:01:03] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:01:04] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:01:04] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:01:04] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:01:04] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:01:04] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:01:04] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1679.97, -295.64557) (1705,8 px/s), Swing distance: 142,7
[00:01:04] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,17419896
[00:01:04] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1679.97, -295.6456), Swing: 142.7, Transfer: 0.88, Final speed: 791.7
[00:01:04] [INFO] [Player.Grenade] Thrown! Velocity: 1705,8, Swing: 142,7
[00:01:04] [INFO] [Player.Grenade] State reset to IDLE
[00:01:04] [INFO] [Player.Grenade] Player rotation restored to 0
[00:01:04] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:01:05] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:01:05] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:01:05] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:01:05] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:01:05] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1011.4401, 197.69945)
[00:01:05] [INFO] [GrenadeBase] Grenade landed at (563.5863, 77.32021)
[00:01:05] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:01:05] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:01:05] [INFO] [Player.Grenade] Timer started, grenade created at (150, 130.94443)
[00:01:05] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:01:05] [INFO] [Player.Grenade] Step 1 complete! Drag: (229.8122, -7.346939)
[00:01:05] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:01:05] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:01:06] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:01:06] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:01:06] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:01:06] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:01:06] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:01:06] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1110.1553, 31.43077) (1110,6 px/s), Swing distance: 221,8
[00:01:06] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,02830449
[00:01:06] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1110.155, 31.43077), Swing: 221.8, Transfer: 1.00, Final speed: 585.3
[00:01:06] [INFO] [Player.Grenade] Thrown! Velocity: 1110,6, Swing: 221,8
[00:01:06] [INFO] [Player.Grenade] State reset to IDLE
[00:01:07] [INFO] [Player.Grenade] Player rotation restored to 0
[00:01:07] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:01:07] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:01:07] [INFO] [GrenadeBase] Grenade landed at (449.1563, 139.4142)
[00:01:07] [INFO] [GrenadeBase] EXPLODED at (567.3968, 77.61501)!
[00:01:07] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(567.3968, 77.61501), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:01:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:01:07] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:01:07] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:01:08] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (809.01843, 118.21893)
[00:01:08] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:01:08] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:01:08] [INFO] [Player.Grenade] Timer started, grenade created at (150, 130.94443)
[00:01:08] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:01:08] [INFO] [Player.Grenade] Step 1 complete! Drag: (207.76617, -2.0037155)
[00:01:08] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:01:08] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:01:08] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:01:08] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:01:08] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:01:08] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:01:09] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:01:09] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1306.1525, -367.83804) (1357,0 px/s), Swing distance: 326,4
[00:01:09] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,27450985
[00:01:09] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1306.152, -367.838), Swing: 326.4, Transfer: 1.00, Final speed: 715.2
[00:01:09] [INFO] [Player.Grenade] Thrown! Velocity: 1357,0, Swing: 326,4
[00:01:09] [INFO] [Player.Grenade] State reset to IDLE
[00:01:09] [INFO] [Player.Grenade] Player rotation restored to 0
[00:01:09] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:01:09] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:01:09] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:01:09] [INFO] [GrenadeBase] EXPLODED at (452.7967, 139.5173)!
[00:01:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(452.7967, 139.5173), source=NEUTRAL (@RigidBody2D@318), range=2937, listeners=0
[00:01:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:01:10] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:01:10] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:01:10] [INFO] [GrenadeBase] Grenade landed at (487.2064, 87.80061)
[00:01:10] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (829.7282, 83.487946)
[00:01:10] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:01:10] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:01:10] [INFO] [Player.Grenade] Timer started, grenade created at (150, 130.94443)
[00:01:10] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:01:10] [INFO] [Player.Grenade] Step 1 complete! Drag: (216.45099, 0.6679077)
[00:01:10] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:01:10] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:01:11] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:01:11] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:01:11] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:01:11] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:01:11] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:01:11] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2734.6196, 168.94029) (2739,8 px/s), Swing distance: 254,3
[00:01:11] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,061699938
[00:01:11] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2734.62, 168.9403), Swing: 254.3, Transfer: 1.00, Final speed: 1352.8
[00:01:11] [INFO] [Player.Grenade] Thrown! Velocity: 2739,8, Swing: 254,3
[00:01:11] [INFO] [Player.Grenade] State reset to IDLE
[00:01:11] [INFO] [Player.Grenade] Player rotation restored to 0
[00:01:11] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:01:12] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:01:12] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:01:12] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:01:12] [INFO] [GrenadeBase] EXPLODED at (490.4782, 88.22674)!
[00:01:12] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(490.4782, 88.22674), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:01:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:01:12] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (887.8493, 68.79407)
[00:01:12] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:01:12] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:01:12] [INFO] [Player.Grenade] Timer started, grenade created at (150, 130.94443)
[00:01:12] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:01:12] [INFO] [Player.Grenade] Step 1 complete! Drag: (218.45514, 26.71614)
[00:01:12] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:01:12] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:01:12] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:01:12] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:01:12] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:01:12] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:01:12] [INFO] [GrenadeBase] Grenade landed at (978.1199, 182.1043)
[00:01:13] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:01:13] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (48.630116, 0) (48,6 px/s), Swing distance: 4,0
[00:01:13] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0
[00:01:13] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (48.63012, 0), Swing: 4.0, Transfer: 0.02, Final speed: 0.6
[00:01:13] [INFO] [Player.Grenade] Thrown! Velocity: 48,6, Swing: 4,0
[00:01:13] [INFO] [Player.Grenade] State reset to IDLE
[00:01:13] [INFO] [Player.Grenade] Player rotation restored to 0
[00:01:13] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:01:13] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:01:14] [INFO] [GrenadeBase] EXPLODED at (981.4955, 182.3128)!
[00:01:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(981.4955, 182.3128), source=NEUTRAL (@RigidBody2D@321), range=2937, listeners=0
[00:01:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:01:15] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:01:15] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:01:15] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (923.9245, 138.4293)
[00:01:16] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:01:16] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:01:16] [INFO] [Player.Grenade] Timer started, grenade created at (307.30734, 389.92166)
[00:01:16] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:01:16] [INFO] [Player.Grenade] Step 1 complete! Drag: (252.52618, 34.229248)
[00:01:16] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:01:16] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:01:16] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:01:16] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:01:16] [INFO] [GrenadeBase] EXPLODED at (210, 130.9444)!
[00:01:16] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(210, 130.9444), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:01:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:01:16] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:01:16] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:01:17] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:01:17] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (216.62802, -681.6529) (715,2 px/s), Swing distance: 77,7
[00:01:17] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,263092
[00:01:17] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (216.628, -681.6529), Swing: 77.7, Transfer: 0.48, Final speed: 180.7
[00:01:17] [INFO] [Player.Grenade] Thrown! Velocity: 715,2, Swing: 77,7
[00:01:17] [INFO] [Player.Grenade] State reset to IDLE
[00:01:17] [INFO] [Player.Grenade] Player rotation restored to 0
[00:01:17] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:01:18] [INFO] [GrenadeBase] Grenade landed at (465.5466, 301.2374)
[00:01:18] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:01:24] [INFO] [GrenadeBase] EXPLODED at (466.7111, 297.5732)!
[00:01:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(466.7111, 297.5732), source=NEUTRAL (@RigidBody2D@324), range=2937, listeners=0
[00:01:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:01:35] [INFO] [PauseMenu] Armory button pressed
[00:01:35] [INFO] [PauseMenu] Creating new armory menu instance
[00:01:35] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[00:01:35] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[00:01:35] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[00:01:35] [INFO] [PauseMenu] back_pressed signal exists on instance
[00:01:35] [INFO] [PauseMenu] back_pressed signal connected
[00:01:35] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[00:01:35] [INFO] [PauseMenu] _populate_weapon_grid method exists
[00:01:36] [INFO] [GrenadeManager] Grenade type changed from Flashbang to Frag Grenade
[00:01:36] [INFO] [GrenadeManager] Restarting level due to grenade type change
[00:01:36] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:01:36] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:01:36] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:01:36] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[00:01:36] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:01:36] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:01:36] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:01:36] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:01:36] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:01:36] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 4/4
[00:01:36] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:01:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 366), source=PLAYER (AssaultRifle), range=1469, listeners=0
[00:01:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:01:36] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:01:36] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:01:36] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:01:36] [INFO] [LastChance] Found player: Player
[00:01:36] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:01:36] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:01:36] [INFO] [LastChance] Connected to player Died signal (C#)
[00:01:36] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:01:36] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:01:36] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:01:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 366), shooter_id=283803388245, bullet_pos=(508.33328, 366)
[00:01:36] [INFO] [Bullet] Using shooter_position, distance=358,33328
[00:01:36] [INFO] [Bullet] Distance to wall: 358,33328 (24,399572% of viewport)
[00:01:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:01:36] [INFO] [Bullet] Starting wall penetration at (508.33328, 366)
[00:01:36] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:01:36] [INFO] [Bullet] Exiting penetration at (554.99994, 366) after traveling 41,666668 pixels through wall
[00:01:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:01:37] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:01:37] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:01:37] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (611.90625, 317.25418)
[00:01:37] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:01:37] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:01:37] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:01:37] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:01:37] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:01:37] [INFO] [Player.Grenade] Step 1 complete! Drag: (238.54828, -10.018555)
[00:01:37] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:01:37] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:01:37] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:01:37] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:01:38] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:01:38] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:01:39] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:01:39] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1281.6014, -421.3686) (1349,1 px/s), Swing distance: 114,5
[00:01:39] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,31764954
[00:01:39] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1281.601, -421.3686), Swing: 114.5, Transfer: 0.46, Final speed: 294.1
[00:01:39] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:01:39] [INFO] [Player.Grenade] Thrown! Velocity: 1349,1, Swing: 114,5
[00:01:39] [INFO] [Player.Grenade] State reset to IDLE
[00:01:39] [INFO] [Player.Grenade] Player rotation restored to 0
[00:01:39] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:01:39] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:01:39] [INFO] [GrenadeBase] Grenade landed at (286.472, 97.07478)
[00:01:39] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:01:39] [INFO] [GrenadeBase] EXPLODED at (286.472, 97.07478)!
[00:01:39] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(286.472, 97.07478), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[00:01:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:01:39] [INFO] [FragGrenade] Player found in blast radius at distance 143.7
[00:01:39] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:01:39] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:01:39] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:01:39] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:01:39] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:01:39] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:01:39] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:01:39] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:01:39] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:01:39] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:01:39] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:01:39] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:01:39] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:01:39] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:01:39] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:01:39] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:01:39] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:01:39] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:01:39] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:01:39] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:01:39] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:01:39] [INFO] [LastChance] Player died
[00:01:39] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 143.7
[00:01:39] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 4.7 degrees
[00:01:39] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 90.0 degrees
[00:01:39] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 186.8 degrees
[00:01:39] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 255.6 degrees
[00:01:43] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:01:43] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:01:43] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (593.23553, 273.17255)
[00:01:44] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:01:44] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:01:44] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:01:44] [INFO] [Player.Grenade] Timer started, grenade created at (150, 141.94443)
[00:01:44] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:01:44] [INFO] [Player.Grenade] Step 1 complete! Drag: (267.2234, -3.339508)
[00:01:44] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:01:44] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:01:44] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:01:44] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:01:44] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:01:44] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:01:44] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:01:44] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2807.8103, 200.3712) (2815,0 px/s), Swing distance: 235,9
[00:01:44] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,07124131
[00:01:44] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2807.81, 200.3712), Swing: 235.9, Transfer: 0.95, Final speed: 1186.5
[00:01:44] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:01:44] [INFO] [Player.Grenade] Thrown! Velocity: 2815,0, Swing: 235,9
[00:01:44] [INFO] [Player.Grenade] State reset to IDLE
[00:01:44] [INFO] [Player.Grenade] Player rotation restored to 0
[00:01:44] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:01:45] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:01:46] [INFO] [GrenadeBase] Grenade landed at (869.293, 193.2748)
[00:01:46] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:01:46] [INFO] [GrenadeBase] EXPLODED at (869.293, 193.2748)!
[00:01:46] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(869.293, 193.2748), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[00:01:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:01:46] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -7.6 degrees
[00:01:46] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 86.5 degrees
[00:01:46] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 171.7 degrees
[00:01:46] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 259.7 degrees
[00:01:48] [INFO] [PauseMenu] Armory button pressed
[00:01:48] [INFO] [PauseMenu] Creating new armory menu instance
[00:01:48] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[00:01:48] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[00:01:48] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[00:01:48] [INFO] [PauseMenu] back_pressed signal exists on instance
[00:01:48] [INFO] [PauseMenu] back_pressed signal connected
[00:01:48] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[00:01:48] [INFO] [PauseMenu] _populate_weapon_grid method exists
[00:01:49] [INFO] [GrenadeManager] Grenade type changed from Frag Grenade to Flashbang
[00:01:49] [INFO] [GrenadeManager] Restarting level due to grenade type change
[00:01:49] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:01:49] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:01:49] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:01:49] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[00:01:49] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:01:49] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:01:49] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:01:49] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:01:49] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:01:49] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 2/4
[00:01:49] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:01:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 366), source=PLAYER (AssaultRifle), range=1469, listeners=0
[00:01:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:01:49] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:01:49] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:01:49] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:01:49] [INFO] [LastChance] Found player: Player
[00:01:49] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:01:49] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:01:49] [INFO] [LastChance] Connected to player Died signal (C#)
[00:01:49] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:01:49] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:01:49] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:01:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 366), shooter_id=324353920457, bullet_pos=(508.33328, 366)
[00:01:50] [INFO] [Bullet] Using shooter_position, distance=358,33328
[00:01:50] [INFO] [Bullet] Distance to wall: 358,33328 (24,399572% of viewport)
[00:01:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:01:50] [INFO] [Bullet] Starting wall penetration at (508.33328, 366)
[00:01:50] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:01:50] [INFO] [Bullet] Exiting penetration at (554.99994, 366) after traveling 41,666668 pixels through wall
[00:01:50] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:01:50] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:01:50] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:01:50] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (335.8186, 247.7922)
[00:01:50] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:01:50] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:01:50] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:01:50] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:01:50] [INFO] [Player.Grenade] Step 1 complete! Drag: (158.09506, -2.003708)
[00:01:50] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:01:50] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:01:50] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:01:50] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:01:51] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:01:51] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:01:51] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:01:51] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (4625.4336, -703.263) (4678,6 px/s), Swing distance: 399,2
[00:01:51] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,15088701
[00:01:51] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (4625.434, -703.263), Swing: 399.2, Transfer: 1.00, Final speed: 1352.8
[00:01:51] [INFO] [Player.Grenade] Thrown! Velocity: 4678,6, Swing: 399,2
[00:01:51] [INFO] [Player.Grenade] State reset to IDLE
[00:01:52] [INFO] [Player.Grenade] Player rotation restored to 0
[00:01:52] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:01:52] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:01:52] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:01:53] [INFO] [GrenadeBase] Grenade landed at (933.9461, 95.19257)
[00:01:54] [INFO] [GrenadeBase] EXPLODED at (937.2869, 95.41373)!
[00:01:54] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(937.2869, 95.41373), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:01:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:02:02] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:02:02] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:02:02] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (697.45264, 94.08788)
[00:02:02] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:02:02] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:02:02] [INFO] [Player.Grenade] Timer started, grenade created at (469.9897, 364.58896)
[00:02:02] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:02:02] [INFO] [Player.Grenade] Step 1 complete! Drag: (109.561584, -8.682747)
[00:02:02] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:02:02] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:02:02] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:02:02] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:02:02] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:02:02] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:02:03] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:02:03] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (400.83438, -275.0191) (486,1 px/s), Swing distance: 41,4
[00:02:03] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,6013473
[00:02:03] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (400.8344, -275.0191), Swing: 41.4, Transfer: 0.26, Final speed: 65.4
[00:02:03] [INFO] [Player.Grenade] Thrown! Velocity: 486,1, Swing: 41,4
[00:02:03] [INFO] [Player.Grenade] State reset to IDLE
[00:02:03] [INFO] [GrenadeBase] Collision detected with Obstacle3 (type: StaticBody2D)
[00:02:03] [INFO] [GrenadeBase] Grenade landed at (478.8558, 330.2707)
[00:02:03] [INFO] [Player.Grenade] Player rotation restored to 0
[00:02:03] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:02:04] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:02:04] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:02:04] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:02:04] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:02:04] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[00:02:04] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:02:04] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:02:04] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:02:04] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:02:04] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:02:04] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 4/4
[00:02:04] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:02:04] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:02:04] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:02:04] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:02:04] [INFO] [LastChance] Found player: Player
[00:02:04] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:02:04] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:02:04] [INFO] [LastChance] Connected to player Died signal (C#)
[00:02:04] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:02:04] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:02:04] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:02:04] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:02:04] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:02:04] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (643.39594, 115.54732)
[00:02:05] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:02:05] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:02:05] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:02:05] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:02:05] [INFO] [Player.Grenade] Step 1 complete! Drag: (513.75055, 5.3432236)
[00:02:05] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:02:05] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:02:05] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:02:05] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:02:05] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:02:05] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:02:06] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:02:06] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1076.8074, -565.58826) (1216,3 px/s), Swing distance: 152,4
[00:02:06] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,48363945
[00:02:06] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1076.807, -565.5883), Swing: 152.4, Transfer: 0.94, Final speed: 603.1
[00:02:06] [INFO] [Player.Grenade] Thrown! Velocity: 1216,3, Swing: 152,4
[00:02:06] [INFO] [Player.Grenade] State reset to IDLE
[00:02:06] [INFO] [Player.Grenade] Player rotation restored to 0
[00:02:06] [INFO] [GrenadeBase] Collision detected with Obstacle3 (type: StaticBody2D)
[00:02:06] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:02:07] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:02:07] [INFO] [GrenadeBase] Grenade landed at (444.6282, 304.7389)
[00:02:07] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:02:07] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:02:07] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:02:07] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[00:02:07] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:02:07] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:02:07] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:02:07] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:02:07] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:02:07] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 4/4
[00:02:07] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:02:07] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:02:07] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:02:07] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:02:07] [INFO] [LastChance] Found player: Player
[00:02:07] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:02:07] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:02:07] [INFO] [LastChance] Connected to player Died signal (C#)
[00:02:07] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:02:07] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:02:07] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:02:07] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:02:07] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:02:07] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (758.3283, 136.92023)
[00:02:07] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:02:07] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:02:07] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:02:07] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:02:07] [INFO] [Player.Grenade] Step 1 complete! Drag: (383.50507, 11.354355)
[00:02:08] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:02:08] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:02:08] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:02:08] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:02:08] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:02:08] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:02:10] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:02:10] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1449.7599, -1135.1962) (1841,3 px/s), Swing distance: 255,4
[00:02:10] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,6643034
[00:02:10] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1449.76, -1135.196), Swing: 255.4, Transfer: 1.00, Final speed: 970.5
[00:02:10] [INFO] [Player.Grenade] Thrown! Velocity: 1841,3, Swing: 255,4
[00:02:10] [INFO] [Player.Grenade] State reset to IDLE
[00:02:10] [INFO] [Player.Grenade] Player rotation restored to 0
[00:02:10] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:02:10] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:02:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:02:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:02:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:02:11] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[00:02:11] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:02:11] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:02:11] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:02:11] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:02:11] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:02:11] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[00:02:11] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:02:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:02:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:02:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:02:11] [INFO] [LastChance] Found player: Player
[00:02:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:02:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:02:11] [INFO] [LastChance] Connected to player Died signal (C#)
[00:02:11] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:02:11] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:02:11] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:02:11] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:02:11] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:02:11] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (872.94916, 210.38962)
[00:02:11] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:02:11] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:02:11] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:02:11] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:02:11] [INFO] [Player.Grenade] Step 1 complete! Drag: (340.3664, 18.701294)
[00:02:11] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:02:11] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:02:11] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:02:11] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:02:11] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:02:11] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:02:13] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:02:13] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1113.135, -1495.2864) (1864,1 px/s), Swing distance: 356,8
[00:02:13] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,93087
[00:02:13] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1113.135, -1495.286), Swing: 356.8, Transfer: 1.00, Final speed: 982.5
[00:02:13] [INFO] [Player.Grenade] Thrown! Velocity: 1864,1, Swing: 356,8
[00:02:13] [INFO] [Player.Grenade] State reset to IDLE
[00:02:13] [INFO] [Player.Grenade] Player rotation restored to 0
[00:02:13] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:02:13] [INFO] [GrenadeBase] Collision detected with Obstacle1 (type: StaticBody2D)
[00:02:13] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:02:13] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:02:13] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:02:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:02:14] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[00:02:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:02:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:02:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:02:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:02:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:02:14] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[00:02:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:02:14] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:02:14] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:02:14] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:02:14] [INFO] [LastChance] Found player: Player
[00:02:14] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:02:14] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:02:14] [INFO] [LastChance] Connected to player Died signal (C#)
[00:02:14] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:02:14] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:02:14] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:02:14] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:02:14] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:02:14] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (949.322, 174.99072)
[00:02:14] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:02:14] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:02:14] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:02:14] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:02:14] [INFO] [Player.Grenade] Step 1 complete! Drag: (279.66357, 41.41002)
[00:02:14] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:02:14] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:02:14] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:02:14] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:02:14] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:02:14] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:02:15] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:02:15] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (898.23694, -2212.0686) (2387,5 px/s), Swing distance: 388,9
[00:02:15] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,185075
[00:02:15] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (898.2369, -2212.069), Swing: 388.9, Transfer: 1.00, Final speed: 1258.3
[00:02:15] [INFO] [Player.Grenade] Thrown! Velocity: 2387,5, Swing: 388,9
[00:02:15] [INFO] [Player.Grenade] State reset to IDLE
[00:02:15] [INFO] [Player.Grenade] Player rotation restored to 0
[00:02:15] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:02:16] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:02:16] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:02:16] [INFO] [GrenadeBase] Grenade landed at (374.7965, 141.2619)
[00:02:17] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:02:17] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:02:17] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1102.9642, 896.62744)
[00:02:17] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:02:17] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:02:17] [INFO] [Player.Grenade] Timer started, grenade created at (150, 779.6111)
[00:02:17] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:02:17] [INFO] [Player.Grenade] Step 1 complete! Drag: (177.0354, 23.649048)
[00:02:17] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:02:17] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:02:18] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:02:18] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:02:18] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:02:18] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:02:18] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:02:18] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (678.3734, -28.52016) (679,0 px/s), Swing distance: 59,6
[00:02:18] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,042017233
[00:02:18] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (678.3734, -28.52016), Swing: 59.6, Transfer: 0.37, Final speed: 131.7
[00:02:18] [INFO] [Player.Grenade] Thrown! Velocity: 679,0, Swing: 59,6
[00:02:18] [INFO] [Player.Grenade] State reset to IDLE
[00:02:18] [INFO] [GrenadeBase] EXPLODED at (376.8553, 144.3607)!
[00:02:18] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(376.8553, 144.3607), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:02:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:02:18] [INFO] [Player.Grenade] Player rotation restored to 0
[00:02:18] [INFO] [GrenadeBase] Grenade landed at (227.3709, 776.3583)
[00:02:18] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:02:18] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:02:20] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:02:20] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:02:21] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (879.83264, 380.56415)
[00:02:21] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:02:21] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:02:21] [INFO] [Player.Grenade] Timer started, grenade created at (285.93164, 435.0587)
[00:02:21] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:02:21] [INFO] [Player.Grenade] Step 1 complete! Drag: (400.167, 40.409973)
[00:02:21] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:02:21] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:02:21] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:02:21] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:02:21] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:02:21] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:02:21] [INFO] [GrenadeBase] EXPLODED at (231.007, 776.2054)!
[00:02:21] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(231.007, 776.2054), source=NEUTRAL (@RigidBody2D@445), range=2937, listeners=0
[00:02:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:02:22] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:02:22] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1907.4037, -1140.8542) (2222,6 px/s), Swing distance: 201,9
[00:02:22] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,5390352
[00:02:22] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1907.404, -1140.854), Swing: 201.9, Transfer: 1.00, Final speed: 1171.4
[00:02:22] [INFO] [Player.Grenade] Thrown! Velocity: 2222,6, Swing: 201,9
[00:02:22] [INFO] [Player.Grenade] State reset to IDLE
[00:02:22] [INFO] [Player.Grenade] Player rotation restored to 0
[00:02:22] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:02:22] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:02:23] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:02:23] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:02:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:02:23] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[00:02:23] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:02:23] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:02:23] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:02:23] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:02:23] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:02:23] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 2/4
[00:02:23] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:02:23] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:02:23] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:02:23] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:02:23] [INFO] [LastChance] Found player: Player
[00:02:23] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:02:23] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:02:23] [INFO] [LastChance] Connected to player Died signal (C#)
[00:02:23] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:02:23] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:02:23] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:02:23] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:02:23] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:02:23] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (896.7286, 362.00372)
[00:02:23] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:02:23] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:02:23] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:02:23] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:02:23] [INFO] [Player.Grenade] Step 1 complete! Drag: (306.8709, 32.727264)
[00:02:23] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:02:23] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:02:23] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:02:23] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:02:23] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:02:23] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:02:24] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:02:24] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (189.1115, -1105.5399) (1121,6 px/s), Swing distance: 275,4
[00:02:24] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,401378
[00:02:24] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (189.1115, -1105.54), Swing: 275.4, Transfer: 1.00, Final speed: 591.1
[00:02:24] [INFO] [Player.Grenade] Thrown! Velocity: 1121,6, Swing: 275,4
[00:02:24] [INFO] [Player.Grenade] State reset to IDLE
[00:02:24] [INFO] [Player.Grenade] Player rotation restored to 0
[00:02:25] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:02:25] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:02:25] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:02:25] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:02:25] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:02:25] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[00:02:25] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:02:25] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:02:25] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:02:25] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:02:25] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:02:25] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 4/4
[00:02:25] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:02:25] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:02:25] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:02:25] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:02:25] [INFO] [LastChance] Found player: Player
[00:02:25] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:02:25] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:02:25] [INFO] [LastChance] Connected to player Died signal (C#)
[00:02:25] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:02:25] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:02:25] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:02:25] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:02:25] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:02:25] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (977.3805, 355.32468)
[00:02:25] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:02:25] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:02:25] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:02:25] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:02:25] [INFO] [Player.Grenade] Step 1 complete! Drag: (251.6051, -15.361786)
[00:02:25] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:02:25] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:02:26] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:02:26] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:02:26] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:02:26] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:02:28] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:02:28] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1303.2043, -1062.2424) (1681,3 px/s), Swing distance: 333,5
[00:02:28] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,6838809
[00:02:28] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1303.204, -1062.242), Swing: 333.5, Transfer: 1.00, Final speed: 886.1
[00:02:28] [INFO] [Player.Grenade] Thrown! Velocity: 1681,3, Swing: 333,5
[00:02:28] [INFO] [Player.Grenade] State reset to IDLE
[00:02:28] [INFO] [Player.Grenade] Player rotation restored to 0
[00:02:28] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:02:29] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:02:29] [INFO] [GrenadeBase] Grenade landed at (533.373, 205.0681)
[00:02:29] [INFO] [GrenadeBase] EXPLODED at (535.4218, 203.3981)!
[00:02:29] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(535.4218, 203.3981), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:02:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:02:31] [INFO] [PauseMenu] Armory button pressed
[00:02:31] [INFO] [PauseMenu] Creating new armory menu instance
[00:02:31] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[00:02:31] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[00:02:31] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[00:02:31] [INFO] [PauseMenu] back_pressed signal exists on instance
[00:02:31] [INFO] [PauseMenu] back_pressed signal connected
[00:02:31] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[00:02:31] [INFO] [PauseMenu] _populate_weapon_grid method exists
[00:02:33] [INFO] [GrenadeManager] Grenade type changed from Flashbang to Frag Grenade
[00:02:33] [INFO] [GrenadeManager] Restarting level due to grenade type change
[00:02:33] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:02:33] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:02:33] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:02:33] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[00:02:33] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:02:33] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:02:33] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:02:33] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:02:33] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:02:33] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 2/4
[00:02:33] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:02:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 366), source=PLAYER (AssaultRifle), range=1469, listeners=0
[00:02:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:02:33] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:02:33] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:02:33] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:02:33] [INFO] [LastChance] Found player: Player
[00:02:33] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:02:33] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:02:33] [INFO] [LastChance] Connected to player Died signal (C#)
[00:02:33] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:02:33] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:02:33] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:02:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 366), shooter_id=463336376421, bullet_pos=(508.33328, 366)
[00:02:34] [INFO] [Bullet] Using shooter_position, distance=358,33328
[00:02:34] [INFO] [Bullet] Distance to wall: 358,33328 (24,399572% of viewport)
[00:02:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:02:34] [INFO] [Bullet] Starting wall penetration at (508.33328, 366)
[00:02:34] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:02:34] [INFO] [Bullet] Exiting penetration at (554.99994, 366) after traveling 41,666668 pixels through wall
[00:02:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:02:36] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:02:36] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:02:36] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (613.2741, 406.72253)
[00:02:36] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:02:36] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:02:36] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:02:36] [INFO] [Player.Grenade] Timer started, grenade created at (150, 517.55554)
[00:02:36] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:02:36] [INFO] [Player.Grenade] Step 1 complete! Drag: (320.00104, -2.2903748)
[00:02:36] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:02:36] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:02:36] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:02:36] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:02:36] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:02:36] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:02:37] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:02:37] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1077.7355, -572.11536) (1220,2 px/s), Swing distance: 124,6
[00:02:37] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,48802155
[00:02:37] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1077.735, -572.1154), Swing: 124.6, Transfer: 0.50, Final speed: 289.7
[00:02:37] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:02:37] [INFO] [Player.Grenade] Thrown! Velocity: 1220,2, Swing: 124,6
[00:02:37] [INFO] [Player.Grenade] State reset to IDLE
[00:02:37] [INFO] [Player.Grenade] Player rotation restored to 0
[00:02:37] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:02:37] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:02:37] [INFO] [GrenadeBase] Grenade landed at (274.6065, 451.4083)
[00:02:37] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:02:37] [INFO] [GrenadeBase] EXPLODED at (274.6065, 451.4083)!
[00:02:37] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(274.6065, 451.4083), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[00:02:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:02:37] [INFO] [FragGrenade] Player found in blast radius at distance 141.1
[00:02:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:02:37] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:02:37] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:02:37] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:02:37] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:02:37] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:02:37] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:02:37] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:02:37] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:02:37] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:02:37] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:02:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:02:37] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:02:37] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:02:37] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:02:37] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:02:37] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:02:37] [INFO] [LastChance] Player died
[00:02:37] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 141.1
[00:02:37] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 14.3 degrees
[00:02:37] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 107.7 degrees
[00:02:37] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 178.4 degrees
[00:02:37] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 266.6 degrees
[00:02:39] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:02:39] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:02:40] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (858.4548, 308.98578)
[00:02:40] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:02:40] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:02:40] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:02:40] [INFO] [Player.Grenade] Timer started, grenade created at (307.30737, 388.92084)
[00:02:40] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:02:40] [INFO] [Player.Grenade] Step 1 complete! Drag: (331.357, -11.191895)
[00:02:40] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:02:40] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:02:40] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:02:40] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:02:40] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:02:40] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:02:40] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:02:40] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1005.034, -524.7882) (1133,8 px/s), Swing distance: 126,4
[00:02:40] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,48121777
[00:02:40] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1005.034, -524.7882), Swing: 126.4, Transfer: 0.51, Final speed: 272.9
[00:02:40] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:02:40] [INFO] [Player.Grenade] Thrown! Velocity: 1133,8, Swing: 126,4
[00:02:40] [INFO] [Player.Grenade] State reset to IDLE
[00:02:41] [INFO] [Player.Grenade] Player rotation restored to 0
[00:02:41] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:02:41] [INFO] [GrenadeBase] Grenade landed at (425.9189, 326.9867)
[00:02:41] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:02:41] [INFO] [GrenadeBase] EXPLODED at (425.9189, 326.9867)!
[00:02:41] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(425.9189, 326.9867), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[00:02:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:02:41] [INFO] [FragGrenade] Player found in blast radius at distance 133.8
[00:02:41] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 133.8
[00:02:41] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -9.7 degrees
[00:02:41] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 83.5 degrees
[00:02:41] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 181.0 degrees
[00:02:41] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 257.3 degrees
[00:02:41] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:02:41] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:02:41] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:02:42] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1014.7804, 375.56296)
[00:02:42] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:02:42] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:02:42] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:02:42] [INFO] [Player.Grenade] Timer started, grenade created at (307.30737, 388.92084)
[00:02:42] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:02:42] [INFO] [Player.Grenade] Step 1 complete! Drag: (265.21924, -26.716156)
[00:02:42] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:02:42] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:02:42] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:02:42] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:02:42] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:02:42] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:02:43] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:02:43] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2012.0348, -1611.8083) (2578,0 px/s), Swing distance: 260,6
[00:02:43] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,6754014
[00:02:43] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2012.035, -1611.808), Swing: 260.6, Transfer: 1.00, Final speed: 1186.5
[00:02:43] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:02:43] [INFO] [Player.Grenade] Thrown! Velocity: 2578,0, Swing: 260,6
[00:02:43] [INFO] [Player.Grenade] State reset to IDLE
[00:02:43] [INFO] [Player.Grenade] Player rotation restored to 0
[00:02:43] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:02:43] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:02:43] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:02:43] [INFO] [FragGrenade] Wall impact detected! Body: WallTop, triggering explosion
[00:02:43] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:02:43] [INFO] [GrenadeBase] EXPLODED at (708.5286, 73.76849)!
[00:02:43] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(708.5286, 73.76849), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[00:02:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:02:43] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 1.7 degrees
[00:02:43] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 88.8 degrees
[00:02:43] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 192.3 degrees
[00:02:43] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 278.0 degrees
[00:02:44] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:02:44] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:02:44] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:02:44] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[00:02:44] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:02:44] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:02:44] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:02:44] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:02:44] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:02:44] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[00:02:44] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:02:44] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:02:44] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:02:44] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:02:44] [INFO] [LastChance] Found player: Player
[00:02:44] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:02:44] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:02:44] [INFO] [LastChance] Connected to player Died signal (C#)
[00:02:44] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:02:44] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:02:44] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:02:44] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:02:44] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:02:44] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (954.3725, 437.4768)
[00:02:45] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:02:45] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:02:45] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:02:45] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:02:45] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:02:45] [INFO] [Player.Grenade] Step 1 complete! Drag: (302.31464, -8.682739)
[00:02:45] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:02:45] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:02:45] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:02:45] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:02:45] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:02:45] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:02:46] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:02:46] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1149.9861, -1080.4968) (1578,0 px/s), Swing distance: 184,4
[00:02:46] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,75425386
[00:02:46] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1149.986, -1080.497), Swing: 184.4, Transfer: 0.75, Final speed: 554.3
[00:02:46] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:02:46] [INFO] [Player.Grenade] Thrown! Velocity: 1578,0, Swing: 184,4
[00:02:46] [INFO] [Player.Grenade] State reset to IDLE
[00:02:46] [INFO] [Player.Grenade] Player rotation restored to 0
[00:02:46] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:02:47] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:02:47] [INFO] [GrenadeBase] Grenade landed at (573.5966, 206.8596)
[00:02:47] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:02:47] [INFO] [GrenadeBase] EXPLODED at (573.5966, 206.8596)!
[00:02:47] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(573.5966, 206.8596), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[00:02:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:02:47] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 6.6 degrees
[00:02:47] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 106.4 degrees
[00:02:47] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 195.9 degrees
[00:02:47] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 258.0 degrees
[00:02:48] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:02:48] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:02:48] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1018.78876, 520.1243)
[00:02:48] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:02:48] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:02:48] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:02:48] [INFO] [Player.Grenade] Timer started, grenade created at (363.87363, 403.91003)
[00:02:48] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:02:48] [INFO] [Player.Grenade] Step 1 complete! Drag: (261.21088, 7.347229)
[00:02:48] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:02:48] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:02:48] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:02:48] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:02:48] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:02:48] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:02:48] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:02:48] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (445.04385, -1281.7854) (1356,8 px/s), Swing distance: 198,5
[00:02:48] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,2366126
[00:02:48] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (445.0439, -1281.785), Swing: 198.5, Transfer: 0.80, Final speed: 513.1
[00:02:48] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:02:48] [INFO] [Player.Grenade] Thrown! Velocity: 1356,8, Swing: 198,5
[00:02:48] [INFO] [Player.Grenade] State reset to IDLE
[00:02:48] [INFO] [GrenadeBase] Collision detected with Obstacle1 (type: StaticBody2D)
[00:02:48] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle1, triggering explosion
[00:02:48] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:02:48] [INFO] [GrenadeBase] EXPLODED at (401.6891, 307.2791)!
[00:02:48] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(401.6891, 307.2791), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[00:02:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:02:48] [INFO] [FragGrenade] Player found in blast radius at distance 103.8
[00:02:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:02:48] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:02:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:02:48] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:02:48] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:02:48] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:02:48] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:02:48] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:02:48] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:02:48] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:02:48] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:02:48] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:02:48] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:02:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:02:48] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:02:48] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:02:48] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:02:48] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:02:48] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:02:48] [INFO] [LastChance] Player died
[00:02:48] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 103.8
[00:02:48] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -15.3 degrees
[00:02:48] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 84.8 degrees
[00:02:48] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 160.7 degrees
[00:02:48] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 268.5 degrees
[00:02:48] [INFO] [Player.Grenade] Player rotation restored to 0
[00:02:49] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:02:49] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:02:49] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:02:49] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:02:49] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1010.7721, 631.665)
[00:02:50] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:02:50] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:02:50] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:02:50] [INFO] [Player.Grenade] Timer started, grenade created at (363.87363, 403.91003)
[00:02:50] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:02:50] [INFO] [Player.Grenade] Step 1 complete! Drag: (269.22754, -86.15961)
[00:02:50] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:02:50] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:02:50] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:02:50] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:02:50] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:02:50] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:02:50] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:02:50] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1652.4631, -1262.1409) (2079,3 px/s), Swing distance: 216,2
[00:02:50] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,65227073
[00:02:50] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1652.463, -1262.141), Swing: 216.2, Transfer: 0.87, Final speed: 856.3
[00:02:50] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:02:50] [INFO] [Player.Grenade] Thrown! Velocity: 2079,3, Swing: 216,2
[00:02:50] [INFO] [Player.Grenade] State reset to IDLE
[00:02:51] [INFO] [Player.Grenade] Player rotation restored to 0
[00:02:51] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:02:51] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:02:51] [INFO] [GrenadeBase] Grenade landed at (749.5522, 109.3313)
[00:02:51] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:02:51] [INFO] [GrenadeBase] EXPLODED at (749.5522, 109.3313)!
[00:02:52] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(749.5522, 109.3313), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[00:02:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:02:52] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -7.9 degrees
[00:02:52] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 77.3 degrees
[00:02:52] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 185.2 degrees
[00:02:52] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 275.3 degrees
[00:02:52] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:02:52] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:02:52] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (854.4464, 672.4071)
[00:02:52] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:02:52] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:02:52] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:02:52] [INFO] [Player.Grenade] Timer started, grenade created at (363.87363, 403.91003)
[00:02:52] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:02:52] [INFO] [Player.Grenade] Step 1 complete! Drag: (167.01459, -55.436035)
[00:02:52] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:02:52] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:02:52] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:02:52] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:02:52] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:02:52] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:02:53] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:02:53] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (752.27625, -703.2632) (1029,8 px/s), Swing distance: 92,3
[00:02:53] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,7517374
[00:02:53] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (752.2762, -703.2632), Swing: 92.3, Transfer: 0.37, Final speed: 181.0
[00:02:53] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:02:53] [INFO] [Player.Grenade] Thrown! Velocity: 1029,8, Swing: 92,3
[00:02:53] [INFO] [Player.Grenade] State reset to IDLE
[00:02:53] [INFO] [Player.Grenade] Player rotation restored to 0
[00:02:53] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:02:53] [INFO] [GrenadeBase] Grenade landed at (433.1539, 339.1435)
[00:02:53] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:02:53] [INFO] [GrenadeBase] EXPLODED at (433.1539, 339.1435)!
[00:02:53] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(433.1539, 339.1435), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[00:02:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:02:53] [INFO] [FragGrenade] Player found in blast radius at distance 94.8
[00:02:53] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 94.8
[00:02:53] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 4.8 degrees
[00:02:53] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 109.7 degrees
[00:02:53] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 191.5 degrees
[00:02:53] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 263.8 degrees
[00:02:53] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:02:53] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:02:53] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:02:54] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (837.74493, 703.1306)
[00:02:54] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:02:54] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:02:54] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:02:54] [INFO] [Player.Grenade] Timer started, grenade created at (363.87363, 403.91003)
[00:02:54] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:02:54] [INFO] [Player.Grenade] Step 1 complete! Drag: (442.2547, -34.06305)
[00:02:54] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:02:54] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:02:54] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:02:54] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:02:54] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:02:54] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:02:54] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:02:54] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1375.3589, -1418.6947) (1975,9 px/s), Swing distance: 181,7
[00:02:54] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,80090696
[00:02:54] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1375.359, -1418.695), Swing: 181.7, Transfer: 0.73, Final speed: 683.9
[00:02:54] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:02:54] [INFO] [Player.Grenade] Thrown! Velocity: 1975,9, Swing: 181,7
[00:02:54] [INFO] [Player.Grenade] State reset to IDLE
[00:02:55] [INFO] [Player.Grenade] Player rotation restored to 0
[00:02:55] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:02:55] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:02:55] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:02:55] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:02:55] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1026.1375, 658.3811)
[00:02:55] [INFO] [GrenadeBase] Grenade landed at (621.2194, 138.4557)
[00:02:55] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:02:55] [INFO] [GrenadeBase] EXPLODED at (621.2194, 138.4557)!
[00:02:55] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(621.2194, 138.4557), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[00:02:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:02:55] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 5.1 degrees
[00:02:55] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 82.7 degrees
[00:02:55] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 162.7 degrees
[00:02:55] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 255.2 degrees
[00:02:55] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:02:55] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:02:55] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:02:55] [INFO] [Player.Grenade] Timer started, grenade created at (363.87363, 403.91003)
[00:02:55] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:02:55] [INFO] [Player.Grenade] Step 1 complete! Drag: (253.86218, -88.16327)
[00:02:55] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:02:55] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:02:56] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:02:56] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:02:56] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:02:56] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:02:56] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:02:56] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (840.47656, -897.7406) (1229,8 px/s), Swing distance: 188,1
[00:02:56] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,81833035
[00:02:56] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (840.4766, -897.7406), Swing: 188.1, Transfer: 0.76, Final speed: 440.5
[00:02:56] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:02:56] [INFO] [Player.Grenade] Thrown! Velocity: 1229,8, Swing: 188,1
[00:02:56] [INFO] [Player.Grenade] State reset to IDLE
[00:02:56] [INFO] [Player.Grenade] Player rotation restored to 0
[00:02:57] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:02:57] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:02:57] [INFO] [GrenadeBase] Grenade landed at (514.7438, 242.7608)
[00:02:57] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:02:57] [INFO] [GrenadeBase] EXPLODED at (514.7438, 242.7608)!
[00:02:57] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(514.7438, 242.7608), source=NEUTRAL (@RigidBody2D@578), range=2937, listeners=0
[00:02:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:02:57] [INFO] [FragGrenade] Player found in blast radius at distance 220.8
[00:02:57] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 220.8
[00:02:57] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -17.2 degrees
[00:02:57] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 88.9 degrees
[00:02:57] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 198.4 degrees
[00:02:57] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 288.8 degrees
[00:02:57] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:02:57] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:02:58] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1067.5571, 623.65015)
[00:02:58] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:02:58] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:02:58] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:02:58] [INFO] [Player.Grenade] Timer started, grenade created at (363.87363, 403.91003)
[00:02:58] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:02:58] [INFO] [Player.Grenade] Step 1 complete! Drag: (171.02295, -18.701294)
[00:02:58] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:02:58] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:02:58] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:02:58] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:02:58] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:02:58] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:02:58] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:02:58] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (385.11603, -1290.6251) (1346,9 px/s), Swing distance: 137,4
[00:02:58] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,2808127
[00:02:58] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (385.116, -1290.625), Swing: 137.4, Transfer: 0.56, Final speed: 352.4
[00:02:58] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:02:58] [INFO] [Player.Grenade] Thrown! Velocity: 1346,9, Swing: 137,4
[00:02:58] [INFO] [Player.Grenade] State reset to IDLE
[00:02:58] [INFO] [GrenadeBase] Collision detected with Obstacle1 (type: StaticBody2D)
[00:02:58] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle1, triggering explosion
[00:02:58] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:02:58] [INFO] [GrenadeBase] EXPLODED at (394.685, 306.8556)!
[00:02:58] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(394.685, 306.8556), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[00:02:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:02:58] [INFO] [FragGrenade] Player found in blast radius at distance 101.8
[00:02:58] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 101.8
[00:02:58] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 12.5 degrees
[00:02:58] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 74.7 degrees
[00:02:58] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 164.1 degrees
[00:02:58] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 277.8 degrees
[00:02:58] [INFO] [Player.Grenade] Player rotation restored to 0
[00:02:58] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:02:59] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:02:59] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:02:59] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:02:59] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1056.2001, 633.0008)
[00:02:59] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:02:59] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:02:59] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:02:59] [INFO] [Player.Grenade] Timer started, grenade created at (363.87363, 403.91003)
[00:02:59] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:02:59] [INFO] [Player.Grenade] Step 1 complete! Drag: (223.79956, -17.36554)
[00:02:59] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:02:59] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:02:59] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:02:59] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:02:59] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:02:59] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:03:00] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:03:00] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1352.8181, -1294.063) (1872,1 px/s), Swing distance: 228,7
[00:03:00] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,763204
[00:03:00] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1352.818, -1294.063), Swing: 228.7, Transfer: 0.92, Final speed: 815.4
[00:03:00] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:03:00] [INFO] [Player.Grenade] Thrown! Velocity: 1872,1, Swing: 228,7
[00:03:00] [INFO] [Player.Grenade] State reset to IDLE
[00:03:00] [INFO] [Player.Grenade] Player rotation restored to 0
[00:03:00] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:03:00] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:03:00] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:03:00] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:03:01] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1045.5112, 667.06384)
[00:03:01] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:03:01] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:03:01] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:03:01] [INFO] [Player.Grenade] Timer started, grenade created at (363.87363, 403.91003)
[00:03:01] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:03:01] [INFO] [Player.Grenade] Step 1 complete! Drag: (234.4884, -82.1521)
[00:03:01] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:03:01] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:03:01] [INFO] [GrenadeBase] Grenade landed at (694.3745, 87.76338)
[00:03:01] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:03:01] [INFO] [GrenadeBase] EXPLODED at (694.3745, 87.76338)!
[00:03:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(694.3745, 87.76338), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[00:03:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:03:01] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 5.5 degrees
[00:03:01] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 77.6 degrees
[00:03:01] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 168.8 degrees
[00:03:01] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 287.1 degrees
[00:03:02] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:03:02] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:03:02] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:03:02] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:03:03] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:03:03] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, -426.28003) (426,3 px/s), Swing distance: 35,4
[00:03:03] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5707964
[00:03:03] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, -426.28), Swing: 35.4, Transfer: 0.14, Final speed: 28.7
[00:03:03] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:03:03] [INFO] [Player.Grenade] Thrown! Velocity: 426,3, Swing: 35,4
[00:03:03] [INFO] [Player.Grenade] State reset to IDLE
[00:03:03] [INFO] [Player.Grenade] Player rotation restored to 0
[00:03:03] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:03:03] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:03:05] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:03:05] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:03:05] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (996.07477, 618.3069)
[00:03:05] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:03:05] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:03:05] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:03:05] [INFO] [Player.Grenade] Timer started, grenade created at (341.87363, 403.91003)
[00:03:05] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:03:05] [INFO] [Player.Grenade] Step 1 complete! Drag: (283.92487, 50.76068)
[00:03:06] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:03:06] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:03:06] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:03:06] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:03:06] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:03:06] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:03:06] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:03:06] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (997.17566, -350.1582) (1056,9 px/s), Swing distance: 105,2
[00:03:06] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,33769894
[00:03:06] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (997.1757, -350.1582), Swing: 105.2, Transfer: 0.42, Final speed: 211.7
[00:03:06] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:03:06] [INFO] [Player.Grenade] Thrown! Velocity: 1056,9, Swing: 105,2
[00:03:06] [INFO] [Player.Grenade] State reset to IDLE
[00:03:06] [INFO] [Player.Grenade] Player rotation restored to 0
[00:03:06] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:03:07] [INFO] [GrenadeBase] Grenade landed at (442.8304, 368.4591)
[00:03:07] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:03:07] [INFO] [GrenadeBase] EXPLODED at (442.8304, 368.4591)!
[00:03:07] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(442.8304, 368.4591), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[00:03:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:03:07] [INFO] [FragGrenade] Player found in blast radius at distance 107.0
[00:03:07] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 107.0
[00:03:07] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 12.6 degrees
[00:03:07] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 105.8 degrees
[00:03:07] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 197.6 degrees
[00:03:07] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 258.9 degrees
[00:03:07] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:03:07] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:03:07] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:03:07] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (879.16455, 693.11206)
[00:03:07] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:03:07] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:03:07] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:03:07] [INFO] [Player.Grenade] Timer started, grenade created at (341.87363, 403.91003)
[00:03:07] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:03:07] [INFO] [Player.Grenade] Step 1 complete! Drag: (177.70361, 4.0074463)
[00:03:07] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:03:07] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:03:07] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:03:07] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:03:08] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:03:08] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:03:08] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:03:08] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1047.7706, -1362.3273) (1718,7 px/s), Swing distance: 193,1
[00:03:08] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,9151807
[00:03:08] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1047.771, -1362.327), Swing: 193.1, Transfer: 0.78, Final speed: 632.2
[00:03:08] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:03:08] [INFO] [Player.Grenade] Thrown! Velocity: 1718,7, Swing: 193,1
[00:03:08] [INFO] [Player.Grenade] State reset to IDLE
[00:03:08] [INFO] [Player.Grenade] Player rotation restored to 0
[00:03:08] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:03:08] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:03:09] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:03:09] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:03:09] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1064.8849, 679.0861)
[00:03:09] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:03:09] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:03:09] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:03:09] [INFO] [Player.Grenade] Timer started, grenade created at (341.87363, 403.91003)
[00:03:09] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:03:09] [INFO] [Player.Grenade] Step 1 complete! Drag: (215.11475, -26.716125)
[00:03:09] [INFO] [GrenadeBase] Grenade landed at (547.0244, 137.1699)
[00:03:09] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:03:09] [INFO] [GrenadeBase] EXPLODED at (547.0244, 137.1699)!
[00:03:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(547.0244, 137.1699), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[00:03:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:03:09] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -1.9 degrees
[00:03:09] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 90.2 degrees
[00:03:09] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 177.5 degrees
[00:03:09] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 251.4 degrees
[00:03:09] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:03:09] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:03:09] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:03:09] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:03:09] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:03:09] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:03:10] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:03:10] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1332.6775, -830.0897) (1570,1 px/s), Swing distance: 202,2
[00:03:10] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,5570688
[00:03:10] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1332.677, -830.0897), Swing: 202.2, Transfer: 0.82, Final speed: 604.6
[00:03:10] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:03:10] [INFO] [Player.Grenade] Thrown! Velocity: 1570,1, Swing: 202,2
[00:03:10] [INFO] [Player.Grenade] State reset to IDLE
[00:03:10] [INFO] [GrenadeBase] Collision detected with Obstacle1 (type: StaticBody2D)
[00:03:10] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle1, triggering explosion
[00:03:10] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:03:10] [INFO] [GrenadeBase] EXPLODED at (411.4517, 277.096)!
[00:03:10] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(411.4517, 277.096), source=NEUTRAL (@RigidBody2D@624), range=2937, listeners=0
[00:03:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:03:10] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 17.5 degrees
[00:03:10] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 98.5 degrees
[00:03:10] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 169.7 degrees
[00:03:10] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 275.1 degrees
[00:03:10] [INFO] [Player.Grenade] Player rotation restored to 0
[00:03:10] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:03:11] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:03:11] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:03:11] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:03:11] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (937.28564, 677.93286)
[00:03:11] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:03:11] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:03:11] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:03:11] [INFO] [Player.Grenade] Timer started, grenade created at (341.87363, 314.00735)
[00:03:11] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:03:11] [INFO] [Player.Grenade] Step 1 complete! Drag: (342.714, 4.0042725)
[00:03:11] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:03:11] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:03:11] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:03:11] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:03:11] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:03:11] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:03:11] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:03:11] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (862.07556, -450.44348) (972,7 px/s), Swing distance: 303,6
[00:03:11] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,48149335
[00:03:11] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (862.0756, -450.4435), Swing: 303.6, Transfer: 1.00, Final speed: 458.5
[00:03:11] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:03:11] [INFO] [Player.Grenade] Thrown! Velocity: 972,7, Swing: 303,6
[00:03:11] [INFO] [Player.Grenade] State reset to IDLE
[00:03:11] [INFO] [GrenadeBase] Collision detected with Obstacle1 (type: StaticBody2D)
[00:03:11] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle1, triggering explosion
[00:03:12] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:03:12] [INFO] [GrenadeBase] EXPLODED at (410.1516, 282.7824)!
[00:03:12] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(410.1516, 282.7824), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[00:03:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:03:12] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 12.0 degrees
[00:03:12] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 71.1 degrees
[00:03:12] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 193.3 degrees
[00:03:12] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 258.6 degrees
[00:03:12] [INFO] [Player.Grenade] Player rotation restored to 0
[00:03:12] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:03:12] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:03:13] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:03:13] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:03:13] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (519.7491, 611.39594)
[00:03:13] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:03:13] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:03:13] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:03:13] [INFO] [Player.Grenade] Timer started, grenade created at (341.87363, 405.97858)
[00:03:13] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:03:13] [INFO] [Player.Grenade] Step 1 complete! Drag: (419.5407, 15.278137)
[00:03:13] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:03:13] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:03:13] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:03:13] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:03:13] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:03:13] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:03:13] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:03:13] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1995.7507, -1888.8737) (2747,9 px/s), Swing distance: 318,6
[00:03:13] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,75789225
[00:03:13] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1995.751, -1888.874), Swing: 318.6, Transfer: 1.00, Final speed: 1186.5
[00:03:13] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:03:13] [INFO] [Player.Grenade] Thrown! Velocity: 2747,9, Swing: 318,6
[00:03:13] [INFO] [Player.Grenade] State reset to IDLE
[00:03:14] [INFO] [Player.Grenade] Player rotation restored to 0
[00:03:14] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:03:14] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:03:14] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:03:14] [INFO] [FragGrenade] Wall impact detected! Body: WallTop, triggering explosion
[00:03:14] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:03:14] [INFO] [GrenadeBase] EXPLODED at (702.4701, 73.67319)!
[00:03:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(702.4701, 73.67319), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[00:03:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:03:14] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -6.2 degrees
[00:03:14] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 91.5 degrees
[00:03:14] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 185.6 degrees
[00:03:14] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 252.4 degrees
[00:03:14] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:03:14] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:03:14] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (666.722, 667.7913)
[00:03:14] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:03:14] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:03:14] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:03:14] [INFO] [Player.Grenade] Timer started, grenade created at (341.87363, 405.97858)
[00:03:14] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:03:14] [INFO] [Player.Grenade] Step 1 complete! Drag: (303.29852, -26.714233)
[00:03:14] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:03:14] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:03:15] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:03:15] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:03:15] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:03:15] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:03:15] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:03:15] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2561.6357, -4634.7397) (5295,5 px/s), Swing distance: 545,8
[00:03:15] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,0658801
[00:03:15] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2561.636, -4634.74), Swing: 545.8, Transfer: 1.00, Final speed: 1186.5
[00:03:15] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:03:15] [INFO] [Player.Grenade] Thrown! Velocity: 5295,5, Swing: 545,8
[00:03:15] [INFO] [Player.Grenade] State reset to IDLE
[00:03:15] [INFO] [GrenadeBase] Collision detected with Obstacle1 (type: StaticBody2D)
[00:03:15] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle1, triggering explosion
[00:03:15] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:03:15] [INFO] [GrenadeBase] EXPLODED at (405.1982, 311.1587)!
[00:03:15] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(405.1982, 311.1587), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[00:03:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:03:15] [INFO] [FragGrenade] Player found in blast radius at distance 114.0
[00:03:15] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 114.0
[00:03:15] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 2.7 degrees
[00:03:15] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 82.1 degrees
[00:03:15] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 199.6 degrees
[00:03:15] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 260.6 degrees
[00:03:15] [INFO] [Player.Grenade] Player rotation restored to 0
[00:03:15] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:03:15] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:03:16] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:03:16] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:03:16] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (836.4088, 646.42365)
[00:03:16] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:03:16] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:03:16] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:03:16] [INFO] [Player.Grenade] Timer started, grenade created at (341.87363, 405.97858)
[00:03:16] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:03:16] [INFO] [Player.Grenade] Step 1 complete! Drag: (443.59082, -84.15582)
[00:03:16] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:03:16] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:03:16] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:03:16] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:03:16] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:03:16] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:03:16] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:03:16] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2563.1816, -5405.1074) (5982,1 px/s), Swing distance: 612,3
[00:03:16] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,1279889
[00:03:16] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2563.182, -5405.107), Swing: 612.3, Transfer: 1.00, Final speed: 1186.5
[00:03:16] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:03:16] [INFO] [Player.Grenade] Thrown! Velocity: 5982,1, Swing: 612,3
[00:03:16] [INFO] [Player.Grenade] State reset to IDLE
[00:03:17] [INFO] [GrenadeBase] Collision detected with Obstacle1 (type: StaticBody2D)
[00:03:17] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle1, triggering explosion
[00:03:17] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:03:17] [INFO] [GrenadeBase] EXPLODED at (397.0481, 311.3143)!
[00:03:17] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(397.0481, 311.3143), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[00:03:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:03:17] [INFO] [FragGrenade] Player found in blast radius at distance 109.6
[00:03:17] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 109.6
[00:03:17] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 10.3 degrees
[00:03:17] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 82.7 degrees
[00:03:17] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 170.6 degrees
[00:03:17] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 262.0 degrees
[00:03:17] [INFO] [Player.Grenade] Player rotation restored to 0
[00:03:17] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:03:17] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:03:17] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:03:17] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:03:17] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (905.8869, 745.9413)
[00:03:17] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:03:17] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:03:17] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:03:17] [INFO] [Player.Grenade] Timer started, grenade created at (341.87363, 405.97858)
[00:03:17] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:03:17] [INFO] [Player.Grenade] Step 1 complete! Drag: (342.71405, -162.96844)
[00:03:18] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:03:18] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:03:18] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:03:18] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:03:18] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:03:18] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:03:18] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:03:18] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (899.4643, -2913.1428) (3048,8 px/s), Swing distance: 477,3
[00:03:18] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,2713217
[00:03:18] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (899.4643, -2913.143), Swing: 477.3, Transfer: 1.00, Final speed: 1186.5
[00:03:18] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:03:18] [INFO] [Player.Grenade] Thrown! Velocity: 3048,8, Swing: 477,3
[00:03:18] [INFO] [Player.Grenade] State reset to IDLE
[00:03:18] [INFO] [GrenadeBase] Collision detected with Obstacle1 (type: StaticBody2D)
[00:03:18] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle1, triggering explosion
[00:03:18] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:03:18] [INFO] [GrenadeBase] EXPLODED at (379.8627, 310.4842)!
[00:03:18] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(379.8627, 310.4842), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[00:03:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:03:18] [INFO] [FragGrenade] Player found in blast radius at distance 102.8
[00:03:18] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 102.8
[00:03:18] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 3.6 degrees
[00:03:18] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 73.6 degrees
[00:03:18] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 179.0 degrees
[00:03:18] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 255.7 degrees
[00:03:18] [INFO] [Player.Grenade] Player rotation restored to 0
[00:03:18] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:03:18] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:03:20] [INFO] [PauseMenu] Armory button pressed
[00:03:20] [INFO] [PauseMenu] Creating new armory menu instance
[00:03:20] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[00:03:20] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[00:03:20] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[00:03:20] [INFO] [PauseMenu] back_pressed signal exists on instance
[00:03:20] [INFO] [PauseMenu] back_pressed signal connected
[00:03:20] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[00:03:20] [INFO] [PauseMenu] _populate_weapon_grid method exists
[00:03:20] [INFO] [GrenadeManager] Grenade type changed from Frag Grenade to Flashbang
[00:03:20] [INFO] [GrenadeManager] Restarting level due to grenade type change
[00:03:20] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:03:20] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:03:20] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:03:20] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[00:03:20] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:03:20] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:03:20] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:03:20] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:03:20] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:03:20] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[00:03:20] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:03:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 366), source=PLAYER (AssaultRifle), range=1469, listeners=0
[00:03:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:03:21] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:03:21] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:03:21] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:03:21] [INFO] [LastChance] Found player: Player
[00:03:21] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:03:21] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:03:21] [INFO] [LastChance] Connected to player Died signal (C#)
[00:03:21] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:03:21] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:03:21] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:03:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 366), shooter_id=641309084127, bullet_pos=(508.33328, 366)
[00:03:21] [INFO] [Bullet] Using shooter_position, distance=358,33328
[00:03:21] [INFO] [Bullet] Distance to wall: 358,33328 (24,399572% of viewport)
[00:03:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:03:21] [INFO] [Bullet] Starting wall penetration at (508.33328, 366)
[00:03:21] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:03:21] [INFO] [Bullet] Exiting penetration at (554.99994, 366) after traveling 41,666668 pixels through wall
[00:03:21] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:03:22] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:03:22] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:03:22] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (538.6585, 180.33395)
[00:03:22] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:03:22] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:03:22] [INFO] [Player.Grenade] Timer started, grenade created at (150, 151.16666)
[00:03:22] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:03:22] [INFO] [Player.Grenade] Step 1 complete! Drag: (446.4521, 72.133575)
[00:03:22] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:03:22] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:03:22] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:03:22] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:03:22] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:03:22] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:03:22] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:03:22] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (4430.1797, -140.941) (4432,4 px/s), Swing distance: 365,1
[00:03:22] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,031803105
[00:03:22] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (4430.18, -140.941), Swing: 365.1, Transfer: 1.00, Final speed: 1352.8
[00:03:22] [INFO] [Player.Grenade] Thrown! Velocity: 4432,4, Swing: 365,1
[00:03:22] [INFO] [Player.Grenade] State reset to IDLE
[00:03:23] [INFO] [Player.Grenade] Player rotation restored to 0
[00:03:23] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:03:23] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:03:23] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:03:23] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:03:23] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (416.20004, 462.18924)
[00:03:23] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:03:23] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:03:23] [INFO] [Player.Grenade] Timer started, grenade created at (150, 136.44443)
[00:03:23] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:03:23] [INFO] [Player.Grenade] Step 1 complete! Drag: (581.2108, -7.346924)
[00:03:23] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:03:23] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:03:24] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:03:24] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:03:24] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:03:24] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:03:24] [INFO] [GrenadeBase] Grenade landed at (979.279, 110.0619)
[00:03:24] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:03:24] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (4728.8086, -2301.0894) (5259,0 px/s), Swing distance: 540,6
[00:03:24] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,45287898
[00:03:24] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (4728.809, -2301.089), Swing: 540.6, Transfer: 1.00, Final speed: 1352.8
[00:03:24] [INFO] [Player.Grenade] Thrown! Velocity: 5259,0, Swing: 540,6
[00:03:24] [INFO] [Player.Grenade] State reset to IDLE
[00:03:24] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:03:24] [INFO] [Player.Grenade] Player rotation restored to 0
[00:03:24] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:03:24] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:03:25] [INFO] [GrenadeBase] Grenade landed at (724.95, 176.5141)
[00:03:26] [INFO] [GrenadeBase] EXPLODED at (982.6593, 109.9543)!
[00:03:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(982.6593, 109.9543), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:03:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:03:26] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:03:26] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:03:26] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (539.79083, 584.4407)
[00:03:26] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:03:26] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:03:26] [INFO] [Player.Grenade] Timer started, grenade created at (285.93457, 429.71323)
[00:03:26] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:03:26] [INFO] [Player.Grenade] Step 1 complete! Drag: (546.47186, 3.159851)
[00:03:27] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:03:27] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:03:27] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:03:27] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:03:27] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:03:27] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:03:27] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:03:27] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3793.1968, -2444.3992) (4512,6 px/s), Swing distance: 430,9
[00:03:27] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,5724402
[00:03:27] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3793.197, -2444.399), Swing: 430.9, Transfer: 1.00, Final speed: 1352.8
[00:03:27] [INFO] [Player.Grenade] Thrown! Velocity: 4512,6, Swing: 430,9
[00:03:27] [INFO] [Player.Grenade] State reset to IDLE
[00:03:27] [INFO] [Player.Grenade] Player rotation restored to 0
[00:03:27] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:03:27] [INFO] [GrenadeBase] EXPLODED at (728.168, 177.3171)!
[00:03:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(728.168, 177.3171), source=NEUTRAL (@RigidBody2D@751), range=2937, listeners=0
[00:03:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:03:28] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:03:28] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:03:28] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:03:28] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (696.7846, 722.2552)
[00:03:28] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:03:28] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:03:28] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:03:28] [INFO] [Player.Grenade] Timer started, grenade created at (223.92538, 429.71323)
[00:03:28] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:03:28] [INFO] [Player.Grenade] Step 1 complete! Drag: (514.4051, -52.764404)
[00:03:28] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:03:28] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:03:28] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:03:28] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:03:28] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:03:28] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:03:28] [INFO] [GrenadeBase] Grenade landed at (866.2449, 100.1629)
[00:03:29] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:03:29] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2723.3206, -3439.149) (4386,8 px/s), Swing distance: 464,5
[00:03:29] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,90103924
[00:03:29] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2723.321, -3439.149), Swing: 464.5, Transfer: 1.00, Final speed: 1352.8
[00:03:29] [INFO] [Player.Grenade] Thrown! Velocity: 4386,8, Swing: 464,5
[00:03:29] [INFO] [Player.Grenade] State reset to IDLE
[00:03:29] [INFO] [GrenadeBase] Collision detected with Obstacle1 (type: StaticBody2D)
[00:03:29] [INFO] [Player.Grenade] Player rotation restored to 0
[00:03:29] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:03:30] [INFO] [GrenadeBase] Collision detected with Obstacle3 (type: StaticBody2D)
[00:03:30] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:03:30] [INFO] [GrenadeBase] Grenade landed at (504.2753, 481.2513)
[00:03:30] [INFO] [GrenadeBase] EXPLODED at (869.9052, 101.4833)!
[00:03:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(869.9052, 101.4833), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:03:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:03:32] [INFO] [GrenadeBase] EXPLODED at (505.3757, 485.0346)!
[00:03:32] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(505.3757, 485.0346), source=NEUTRAL (@RigidBody2D@754), range=2937, listeners=0
[00:03:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:03:32] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:03:32] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:03:32] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (937.9537, 539.8977)
[00:03:33] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:03:33] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:03:33] [INFO] [Player.Grenade] Timer started, grenade created at (285.99945, 449.59952)
[00:03:33] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:03:33] [INFO] [Player.Grenade] Step 1 complete! Drag: (336.0335, 32.68103)
[00:03:33] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:03:33] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:03:33] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:03:33] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:03:33] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:03:33] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:03:34] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:03:34] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1034.5088, -674.0013) (1234,7 px/s), Swing distance: 157,2
[00:03:34] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,57744175
[00:03:34] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1034.509, -674.0013), Swing: 157.2, Transfer: 0.97, Final speed: 631.4
[00:03:34] [INFO] [Player.Grenade] Thrown! Velocity: 1234,7, Swing: 157,2
[00:03:34] [INFO] [Player.Grenade] State reset to IDLE
[00:03:34] [INFO] [Player.Grenade] Player rotation restored to 0
[00:03:34] [INFO] [GrenadeBase] Collision detected with Obstacle1 (type: StaticBody2D)
[00:03:34] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:03:34] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:03:34] [INFO] [GrenadeBase] Collision detected with Obstacle3 (type: StaticBody2D)
[00:03:34] [INFO] [GrenadeBase] Grenade landed at (481.0478, 321.5306)
[00:03:37] [INFO] [GrenadeBase] EXPLODED at (481.0856, 319.6126)!
[00:03:37] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(481.0856, 319.6126), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:03:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:03:37] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:03:37] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:03:37] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1024.8014, 672.38196)
[00:03:37] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:03:37] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:03:37] [INFO] [Player.Grenade] Timer started, grenade created at (288.89404, 530.11884)
[00:03:37] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:03:37] [INFO] [Player.Grenade] Step 1 complete! Drag: (255.19824, 58.775574)
[00:03:37] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:03:37] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:03:38] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:03:38] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:03:38] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:03:38] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:03:40] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:03:40] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, -1308.4985) (1308,5 px/s), Swing distance: 289,9
[00:03:40] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5707964
[00:03:40] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, -1308.499), Swing: 289.9, Transfer: 1.00, Final speed: 689.6
[00:03:40] [INFO] [Player.Grenade] Thrown! Velocity: 1308,5, Swing: 289,9
[00:03:40] [INFO] [Player.Grenade] State reset to IDLE
[00:03:40] [INFO] [GrenadeBase] Collision detected with Obstacle1 (type: StaticBody2D)
[00:03:40] [INFO] [Player.Grenade] Player rotation restored to 0
[00:03:40] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:03:40] [INFO] [GrenadeBase] Grenade landed at (393.5537, 371.4097)
[00:03:40] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:03:41] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:03:41] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:03:41] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1100.9601, 583.3352)
[00:03:41] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:03:41] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:03:41] [INFO] [Player.Grenade] Timer started, grenade created at (393.5537, 398.32968)
[00:03:41] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:03:41] [INFO] [Player.Grenade] Step 1 complete! Drag: (179.03955, 15.362671)
[00:03:41] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:03:41] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:03:41] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:03:41] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:03:41] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:03:41] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:03:41] [INFO] [GrenadeBase] EXPLODED at (393.5537, 375.3294)!
[00:03:41] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(393.5537, 375.3294), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:03:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:03:42] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:03:42] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1745.3011, -1601.986) (2369,1 px/s), Swing distance: 216,7
[00:03:42] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,74260896
[00:03:42] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1745.301, -1601.986), Swing: 216.7, Transfer: 1.00, Final speed: 1248.6
[00:03:42] [INFO] [Player.Grenade] Thrown! Velocity: 2369,1, Swing: 216,7
[00:03:42] [INFO] [Player.Grenade] State reset to IDLE
[00:03:42] [INFO] [Player.Grenade] Player rotation restored to 0
[00:03:43] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:03:43] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:03:43] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:03:43] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:03:43] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:03:43] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (988.0581, 576.6598)
[00:03:43] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:03:43] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:03:43] [INFO] [Player.Grenade] Timer started, grenade created at (393.5537, 398.32968)
[00:03:43] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:03:43] [INFO] [Player.Grenade] Step 1 complete! Drag: (291.94153, 23.376587)
[00:03:43] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:03:43] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:03:43] [INFO] [GrenadeBase] Grenade landed at (850.4005, 123.1421)
[00:03:43] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:03:43] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:03:44] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:03:44] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:03:44] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:03:44] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (877.3182, -1051.4569) (1369,4 px/s), Swing distance: 167,0
[00:03:44] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,8754387
[00:03:44] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (877.3182, -1051.457), Swing: 167.0, Transfer: 1.00, Final speed: 721.7
[00:03:44] [INFO] [Player.Grenade] Thrown! Velocity: 1369,4, Swing: 167,0
[00:03:44] [INFO] [Player.Grenade] State reset to IDLE
[00:03:44] [INFO] [Player.Grenade] Player rotation restored to 0
[00:03:44] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:03:44] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:03:45] [INFO] [GrenadeBase] EXPLODED at (853.3083, 124.7735)!
[00:03:45] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(853.3083, 124.7735), source=NEUTRAL (@RigidBody2D@758), range=2937, listeners=0
[00:03:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:03:45] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:03:45] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:03:45] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (844.42554, 718.9232)
[00:03:45] [INFO] [GrenadeBase] Grenade landed at (640.3481, 102.549)
[00:03:45] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:03:45] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:03:45] [INFO] [Player.Grenade] Timer started, grenade created at (393.5537, 398.32968)
[00:03:45] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:03:45] [INFO] [Player.Grenade] Step 1 complete! Drag: (435.5741, -88.16327)
[00:03:45] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:03:45] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:03:45] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:03:45] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:03:45] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:03:45] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:03:46] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:03:46] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1456.9573, -1447.7786) (2054,0 px/s), Swing distance: 260,4
[00:03:46] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,78223825
[00:03:46] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1456.957, -1447.779), Swing: 260.4, Transfer: 1.00, Final speed: 1082.5
[00:03:46] [INFO] [Player.Grenade] Thrown! Velocity: 2054,0, Swing: 260,4
[00:03:46] [INFO] [Player.Grenade] State reset to IDLE
[00:03:46] [INFO] [Player.Grenade] Player rotation restored to 0
[00:03:46] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:03:46] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:03:46] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:03:46] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:03:46] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:03:46] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (801.0017, 648.1255)
[00:03:47] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:03:47] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:03:47] [INFO] [Player.Grenade] Timer started, grenade created at (393.5537, 398.32968)
[00:03:47] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:03:47] [INFO] [Player.Grenade] Step 1 complete! Drag: (478.99792, -116.88318)
[00:03:47] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:03:47] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:03:47] [INFO] [GrenadeBase] Grenade landed at (777.5172, 105.2562)
[00:03:47] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:03:47] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:03:47] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:03:47] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:03:47] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:03:47] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1370.9924, -2047.4187) (2464,1 px/s), Swing distance: 272,3
[00:03:47] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,9807519
[00:03:47] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1370.992, -2047.419), Swing: 272.3, Transfer: 1.00, Final speed: 1298.7
[00:03:47] [INFO] [Player.Grenade] Thrown! Velocity: 2464,1, Swing: 272,3
[00:03:47] [INFO] [Player.Grenade] State reset to IDLE
[00:03:47] [INFO] [Player.Grenade] Player rotation restored to 0
[00:03:47] [INFO] [GrenadeBase] EXPLODED at (642.6898, 99.74265)!
[00:03:47] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(642.6898, 99.74265), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:03:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:03:47] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:03:47] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:03:48] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:03:48] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:03:48] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:03:48] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1079.5822, 557.2906)
[00:03:48] [INFO] [GrenadeBase] Grenade landed at (720.7388, 163.9308)
[00:03:48] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:03:48] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:03:48] [INFO] [Player.Grenade] Timer started, grenade created at (393.5537, 398.32968)
[00:03:48] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:03:48] [INFO] [Player.Grenade] Step 1 complete! Drag: (200.41748, -50.76068)
[00:03:48] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:03:48] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:03:48] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:03:48] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:03:49] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:03:49] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:03:49] [INFO] [GrenadeBase] EXPLODED at (780.6457, 107.1567)!
[00:03:49] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(780.6457, 107.1567), source=NEUTRAL (@RigidBody2D@761), range=2937, listeners=0
[00:03:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:03:51] [INFO] [GrenadeBase] EXPLODED at (723.2344, 166.2086)!
[00:03:51] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(723.2344, 166.2086), source=NEUTRAL (@RigidBody2D@762), range=2937, listeners=0
[00:03:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:03:51] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:03:51] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (600.26965, -1824.457) (1920,7 px/s), Swing distance: 183,7
[00:03:51] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,2529393
[00:03:51] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (600.2697, -1824.457), Swing: 183.7, Transfer: 1.00, Final speed: 1012.3
[00:03:51] [INFO] [Player.Grenade] Thrown! Velocity: 1920,7, Swing: 183,7
[00:03:51] [INFO] [Player.Grenade] State reset to IDLE
[00:03:52] [INFO] [Player.Grenade] Player rotation restored to 0
[00:03:52] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:03:52] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:03:52] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:03:52] [INFO] [GrenadeBase] EXPLODED at (531.2128, 127.8164)!
[00:03:52] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(531.2128, 127.8164), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:03:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:03:52] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:03:52] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:03:53] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1137.0352, 539.92505)
[00:03:53] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:03:53] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:03:53] [INFO] [Player.Grenade] Timer started, grenade created at (393.5537, 398.32968)
[00:03:53] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:03:53] [INFO] [Player.Grenade] Step 1 complete! Drag: (142.96448, -22.70868)
[00:03:53] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:03:53] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:03:53] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:03:53] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:03:53] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:03:53] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:03:53] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:03:53] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (472.06094, -769.0713) (902,4 px/s), Swing distance: 83,6
[00:03:53] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,0202868
[00:03:53] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (472.0609, -769.0713), Swing: 83.6, Transfer: 0.52, Final speed: 245.4
[00:03:53] [INFO] [Player.Grenade] Thrown! Velocity: 902,4, Swing: 83,6
[00:03:53] [INFO] [Player.Grenade] State reset to IDLE
[00:03:54] [INFO] [Player.Grenade] Player rotation restored to 0
[00:03:54] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:03:54] [INFO] [GrenadeBase] Grenade landed at (455.7349, 297.0255)
[00:03:54] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:03:54] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:03:54] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:03:54] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1046.1792, 563.3017)
[00:03:54] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:03:54] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:03:54] [INFO] [Player.Grenade] Timer started, grenade created at (393.5537, 398.32968)
[00:03:54] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:03:54] [INFO] [Player.Grenade] Step 1 complete! Drag: (233.82043, -68.79407)
[00:03:54] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:03:54] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:03:55] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:03:55] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:03:55] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:03:55] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:03:55] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:03:55] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (693.1092, -1391.7931) (1554,8 px/s), Swing distance: 166,2
[00:03:55] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,1087521
[00:03:55] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (693.1092, -1391.793), Swing: 166.2, Transfer: 1.00, Final speed: 819.5
[00:03:55] [INFO] [Player.Grenade] Thrown! Velocity: 1554,8, Swing: 166,2
[00:03:55] [INFO] [Player.Grenade] State reset to IDLE
[00:03:55] [INFO] [Player.Grenade] Player rotation restored to 0
[00:03:55] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:03:55] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:03:56] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:03:56] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:03:56] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:03:56] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:03:56] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[00:03:56] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:03:56] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:03:56] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:03:56] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:03:56] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:03:56] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[00:03:56] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:03:56] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:03:56] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:03:56] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:03:56] [INFO] [LastChance] Found player: Player
[00:03:56] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:03:56] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:03:56] [INFO] [LastChance] Connected to player Died signal (C#)
[00:03:56] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:03:56] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:03:56] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:03:57] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:03:57] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:03:57] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1110.2163, 513.04346)
[00:03:58] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:03:58] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:03:58] [INFO] [Player.Grenade] Timer started, grenade created at (354.4153, 405.93372)
[00:03:58] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:03:58] [INFO] [Player.Grenade] Step 1 complete! Drag: (169.72095, 47.019287)
[00:03:58] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:03:58] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:03:58] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:03:58] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:03:58] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:03:58] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:03:58] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:03:58] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1317.948, -926.215) (1610,9 px/s), Swing distance: 151,6
[00:03:58] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,6125829
[00:03:58] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1317.948, -926.215), Swing: 151.6, Transfer: 0.94, Final speed: 794.6
[00:03:58] [INFO] [Player.Grenade] Thrown! Velocity: 1610,9, Swing: 151,6
[00:03:58] [INFO] [Player.Grenade] State reset to IDLE
[00:03:58] [INFO] [Player.Grenade] Player rotation restored to 0
[00:03:58] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:03:59] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:03:59] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:03:59] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:03:59] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (990.73035, 613.651)
[00:03:59] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:03:59] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:03:59] [INFO] [Player.Grenade] Timer started, grenade created at (354.4153, 405.93372)
[00:03:59] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:03:59] [INFO] [Player.Grenade] Step 1 complete! Drag: (289.2693, -24.712158)
[00:03:59] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:03:59] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:03:59] [INFO] [GrenadeBase] Grenade landed at (708.8757, 156.8295)
[00:03:59] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:03:59] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:04:00] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:04:00] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:04:00] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:04:00] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (577.6727, -993.99756) (1149,7 px/s), Swing distance: 110,0
[00:04:00] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,0443442
[00:04:00] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (577.6727, -993.9976), Swing: 110.0, Transfer: 0.68, Final speed: 411.4
[00:04:00] [INFO] [Player.Grenade] Thrown! Velocity: 1149,7, Swing: 110,0
[00:04:00] [INFO] [Player.Grenade] State reset to IDLE
[00:04:00] [INFO] [Player.Grenade] Player rotation restored to 0
[00:04:00] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:04:01] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:04:01] [INFO] [GrenadeBase] Grenade landed at (454.5596, 233.6161)
[00:04:02] [INFO] [GrenadeBase] EXPLODED at (711.7599, 154.8025)!
[00:04:02] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(711.7599, 154.8025), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:04:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:04:02] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:04:02] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:04:02] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1179.1229, 635.6924)
[00:04:02] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:04:02] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:04:02] [INFO] [Player.Grenade] Timer started, grenade created at (354.4153, 405.93372)
[00:04:02] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:04:02] [INFO] [Player.Grenade] Step 1 complete! Drag: (100.87671, -24.044556)
[00:04:02] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:04:02] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:04:02] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:04:02] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:04:02] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:04:02] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:04:03] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:04:03] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (235.78525, -557.8958) (605,7 px/s), Swing distance: 56,9
[00:04:03] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,1709322
[00:04:03] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (235.7852, -557.8958), Swing: 56.9, Transfer: 0.35, Final speed: 112.1
[00:04:03] [INFO] [Player.Grenade] Thrown! Velocity: 605,7, Swing: 56,9
[00:04:03] [INFO] [Player.Grenade] State reset to IDLE
[00:04:03] [INFO] [GrenadeBase] Grenade landed at (382.3844, 339.7557)
[00:04:03] [INFO] [Player.Grenade] Player rotation restored to 0
[00:04:03] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:04:03] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:04:03] [INFO] [GrenadeBase] EXPLODED at (456.2585, 230.6928)!
[00:04:03] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(456.2585, 230.6928), source=NEUTRAL (@RigidBody2D@773), range=2937, listeners=0
[00:04:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:04:04] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:04:04] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:04:04] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1106.3044, 641.0356)
[00:04:04] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:04:04] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:04:04] [INFO] [Player.Grenade] Timer started, grenade created at (354.4153, 405.93372)
[00:04:04] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:04:04] [INFO] [Player.Grenade] Step 1 complete! Drag: (173.69519, -44.081604)
[00:04:04] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:04:04] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:04:04] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:04:04] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:04:04] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:04:04] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:04:05] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:04:05] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (41.75262, -1728.2) (1728,7 px/s), Swing distance: 194,7
[00:04:05] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5466415
[00:04:05] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (41.75262, -1728.2), Swing: 194.7, Transfer: 1.00, Final speed: 911.1
[00:04:05] [INFO] [Player.Grenade] Thrown! Velocity: 1728,7, Swing: 194,7
[00:04:05] [INFO] [Player.Grenade] State reset to IDLE
[00:04:05] [INFO] [GrenadeBase] Collision detected with Obstacle1 (type: StaticBody2D)
[00:04:05] [INFO] [Player.Grenade] Player rotation restored to 0
[00:04:05] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:04:05] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:04:05] [INFO] [GrenadeBase] Grenade landed at (361.0982, 410.948)
[00:04:05] [INFO] [GrenadeBase] Collision detected with Obstacle2 (type: StaticBody2D)
[00:04:09] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:04:09] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:04:09] [ENEMY] [Enemy1] Death animation component initialized
[00:04:09] [ENEMY] [Enemy2] Death animation component initialized
[00:04:09] [ENEMY] [Enemy3] Death animation component initialized
[00:04:09] [ENEMY] [Enemy4] Death animation component initialized
[00:04:09] [ENEMY] [Enemy5] Death animation component initialized
[00:04:09] [ENEMY] [Enemy6] Death animation component initialized
[00:04:09] [ENEMY] [Enemy7] Death animation component initialized
[00:04:09] [ENEMY] [Enemy8] Death animation component initialized
[00:04:09] [ENEMY] [Enemy9] Death animation component initialized
[00:04:09] [ENEMY] [Enemy10] Death animation component initialized
[00:04:09] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:04:09] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:04:09] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:04:09] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:04:09] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:04:09] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:04:09] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:04:09] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:04:09] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:04:09] [INFO] [ScoreManager] Level started with 10 enemies
[00:04:09] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[00:04:09] [ENEMY] [Enemy1] Registered as sound listener
[00:04:09] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:04:09] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[00:04:09] [ENEMY] [Enemy2] Registered as sound listener
[00:04:09] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:04:09] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[00:04:09] [ENEMY] [Enemy3] Registered as sound listener
[00:04:09] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:04:09] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[00:04:09] [ENEMY] [Enemy4] Registered as sound listener
[00:04:09] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:04:09] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[00:04:09] [ENEMY] [Enemy5] Registered as sound listener
[00:04:09] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:04:09] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[00:04:09] [ENEMY] [Enemy6] Registered as sound listener
[00:04:09] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:04:09] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[00:04:09] [ENEMY] [Enemy7] Registered as sound listener
[00:04:09] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:04:09] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[00:04:09] [ENEMY] [Enemy8] Registered as sound listener
[00:04:09] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:04:09] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[00:04:09] [ENEMY] [Enemy9] Registered as sound listener
[00:04:09] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:04:09] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[00:04:09] [ENEMY] [Enemy10] Registered as sound listener
[00:04:09] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:04:09] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:04:09] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:04:09] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:04:09] [INFO] [LastChance] Found player: Player
[00:04:09] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:04:09] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:04:09] [INFO] [LastChance] Connected to player Died signal (C#)
[00:04:09] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:04:09] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:04:09] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:04:09] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:04:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=10
[00:04:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:04:10] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:04:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=793126111772, bullet_pos=(41.69983, 702.3934)
[00:04:10] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:04:10] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:04:10] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:04:10] [INFO] [Bullet] Penetration failed (distance roll)
[00:04:10] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:04:10] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:04:11] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (668.05774, 817.63245)
[00:04:11] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:04:11] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:04:11] [INFO] [Player.Grenade] Timer started, grenade created at (450, 850.4444)
[00:04:11] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:04:11] [INFO] [Player.Grenade] Step 1 complete! Drag: (384.80212, 21.528687)
[00:04:11] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:04:11] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:04:11] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:04:11] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:04:11] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:04:11] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:04:12] [ENEMY] [Enemy10] FLANKING started: target=(640.1092, 799.6508), side=left, pos=(1022.668, 1432.257)
[00:04:12] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:04:12] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:04:12] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (952.0936, -1272.3302) (1589,1 px/s), Swing distance: 136,8
[00:04:12] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,9283796
[00:04:12] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (952.0936, -1272.33), Swing: 136.8, Transfer: 0.84, Final speed: 707.4
[00:04:12] [INFO] [Player.Grenade] Thrown! Velocity: 1589,1, Swing: 136,8
[00:04:12] [INFO] [Player.Grenade] State reset to IDLE
[00:04:12] [INFO] [Player.Grenade] Player rotation restored to 0
[00:04:12] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:04:12] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:04:12] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:04:13] [INFO] [GrenadeBase] Grenade landed at (629.425, 550.2222)
[00:04:14] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:04:14] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:04:14] [ENEMY] [Enemy1] Death animation component initialized
[00:04:14] [ENEMY] [Enemy2] Death animation component initialized
[00:04:14] [ENEMY] [Enemy3] Death animation component initialized
[00:04:14] [ENEMY] [Enemy4] Death animation component initialized
[00:04:14] [ENEMY] [Enemy5] Death animation component initialized
[00:04:14] [ENEMY] [Enemy6] Death animation component initialized
[00:04:14] [ENEMY] [Enemy7] Death animation component initialized
[00:04:14] [ENEMY] [Enemy8] Death animation component initialized
[00:04:14] [ENEMY] [Enemy9] Death animation component initialized
[00:04:14] [ENEMY] [Enemy10] Death animation component initialized
[00:04:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:04:14] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:04:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:04:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:04:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:04:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:04:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:04:14] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:04:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:04:14] [INFO] [ScoreManager] Level started with 10 enemies
[00:04:14] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:04:14] [ENEMY] [Enemy1] Registered as sound listener
[00:04:14] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:04:14] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:04:14] [ENEMY] [Enemy2] Registered as sound listener
[00:04:14] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:04:14] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:04:14] [ENEMY] [Enemy3] Registered as sound listener
[00:04:14] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:04:14] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:04:14] [ENEMY] [Enemy4] Registered as sound listener
[00:04:14] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:04:14] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:04:14] [ENEMY] [Enemy5] Registered as sound listener
[00:04:14] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:04:14] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:04:14] [ENEMY] [Enemy6] Registered as sound listener
[00:04:14] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:04:14] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:04:14] [ENEMY] [Enemy7] Registered as sound listener
[00:04:14] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:04:14] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:04:14] [ENEMY] [Enemy8] Registered as sound listener
[00:04:14] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:04:14] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:04:14] [ENEMY] [Enemy9] Registered as sound listener
[00:04:14] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:04:14] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:04:14] [ENEMY] [Enemy10] Registered as sound listener
[00:04:14] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:04:14] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:04:14] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:04:14] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:04:14] [INFO] [LastChance] Found player: Player
[00:04:14] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:04:14] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:04:14] [INFO] [LastChance] Connected to player Died signal (C#)
[00:04:14] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:04:14] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:04:14] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:04:16] [INFO] [Player.Debug] Debug mode toggled: OFF
[00:04:16] [INFO] [GameManager] Debug mode toggled: OFF
[00:04:18] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:04:18] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:04:19] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:04:19] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:04:19] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (774.94745, 910.15845)
[00:04:19] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:04:19] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:04:19] [INFO] [Player.Grenade] Timer started, grenade created at (483.93497, 903.2202)
[00:04:19] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:04:19] [INFO] [Player.Grenade] Step 1 complete! Drag: (253.19415, 30.396484)
[00:04:19] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:04:19] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:04:19] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:04:19] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:04:19] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:04:19] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:04:20] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:04:20] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:04:20] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (379.7122, 70.41962) (386,2 px/s), Swing distance: 149,6
[00:04:20] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,1833719
[00:04:20] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (379.7122, 70.41962), Swing: 149.6, Transfer: 0.92, Final speed: 187.9
[00:04:20] [INFO] [Player.Grenade] Thrown! Velocity: 386,2, Swing: 149,6
[00:04:20] [INFO] [Player.Grenade] State reset to IDLE
[00:04:21] [INFO] [Player.Grenade] Player rotation restored to 0
[00:04:21] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:04:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=20
[00:04:21] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:04:21] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[00:04:21] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[00:04:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:04:21] [INFO] [LastChance] Threat detected: Bullet
[00:04:21] [INFO] [LastChance] Not in hard mode - effect disabled
[00:04:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:04:21] [INFO] [GrenadeBase] Grenade landed at (578.084, 772.6807)
[00:04:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:04:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:04:21] [INFO] [LastChance] Threat detected: Bullet
[00:04:21] [INFO] [LastChance] Not in hard mode - effect disabled
[00:04:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:04:21] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:04:21] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:04:21] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:04:21] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:04:22] [ENEMY] [Enemy10] FLANKING started: target=(678.0185, 891.9002), side=left, pos=(954.8951, 1428.372)
[00:04:22] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:04:23] [INFO] [GrenadeBase] EXPLODED at (581.7523, 773.361)!
[00:04:23] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(581.7523, 773.361), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=10
[00:04:23] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:04:23] [ENEMY] [Enemy3] Status effect: BLINDED applied
[00:04:23] [ENEMY] [Enemy3] Status effect: STUNNED applied
[00:04:23] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[00:04:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(387.1638, 954.8097), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:04:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:04:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2637, 977.9859), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:04:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[00:04:24] [ENEMY] [Enemy10] Hit taken, health: 1/2
[00:04:24] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[00:04:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(329.4844, 1006.765), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:04:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[00:04:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(539.809, 1080.351), source=ENEMY (Enemy10), range=1469, listeners=10
[00:04:24] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[00:04:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(387.16385, 954.8097), shooter_id=1078523333880, bullet_pos=(1095.021, 1378.5593)
[00:04:24] [INFO] [Bullet] Using shooter_position, distance=825,0003
[00:04:24] [INFO] [Bullet] Distance to wall: 825,0003 (56,175793% of viewport)
[00:04:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(307.4531, 1032.651), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:04:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[00:04:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.7691, 1069.728), source=ENEMY (Enemy10), range=1469, listeners=10
[00:04:24] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[00:04:24] [INFO] [LastChance] Threat detected: @Area2D@1289
[00:04:24] [INFO] [LastChance] Not in hard mode - effect disabled
[00:04:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:04:24] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:04:24] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:04:24] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:04:24] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:04:24] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:04:24] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:04:24] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:04:24] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:04:24] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:04:24] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:04:24] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:04:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(296.4591, 1055.872), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:04:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[00:04:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(472.8329, 1068.318), shooter_id=1077701250246, bullet_pos=(65.86179, 1034.991)
[00:04:24] [INFO] [Bullet] Using shooter_position, distance=408.333374023438
[00:04:24] [INFO] [Bullet] Distance to wall: 408.333374023438 (27.8041702961216% of viewport)
[00:04:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:04:24] [INFO] [Bullet] Starting wall penetration at (65.86179, 1034.991)
[00:04:24] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:04:24] [INFO] [Bullet] Exiting penetration at (56.7257, 1034.242) after traveling 4.16666698455811 pixels through wall
[00:04:24] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:04:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(329.48438, 1006.7652), shooter_id=1078523333880, bullet_pos=(1040.8799, 1372.7142)
[00:04:25] [INFO] [Bullet] Using shooter_position, distance=800,0014
[00:04:25] [INFO] [Bullet] Distance to wall: 800,0014 (54,473568% of viewport)
[00:04:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(294.7703, 1069.633), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:04:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[00:04:26] [ENEMY] [Enemy10] Hit taken, health: 0/2
[00:04:26] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[00:04:26] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:04:26] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[00:04:26] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:04:26] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[00:04:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(299.9327, 1073.425), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:04:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=2
[00:04:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(307.45306, 1032.651), shooter_id=1078523333880, bullet_pos=(1230.0963, 1372.7631)
[00:04:27] [INFO] [Bullet] Using shooter_position, distance=983,33453
[00:04:27] [INFO] [Bullet] Distance to wall: 983,33453 (66,957054% of viewport)
[00:04:27] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[00:04:27] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:04:27] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:04:27] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:04:27] [ENEMY] [Enemy2] FLANKING started: target=(217.6864, 868.9821), side=left, pos=(424.8081, 647.4921)
[00:04:27] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[00:04:27] [ENEMY] [Enemy10] Ragdoll activated
[00:04:27] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:04:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(296.45914, 1055.8717), shooter_id=1078523333880, bullet_pos=(2288.5925, 1395.2408)
[00:04:28] [INFO] [Bullet] Using shooter_position, distance=2020,8333
[00:04:28] [INFO] [Bullet] Distance to wall: 2020,8333 (137,60226% of viewport)
[00:04:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(299.9327, 1073.4249), shooter_id=1078523333880, bullet_pos=(2480.3538, 1186.1367)
[00:04:28] [INFO] [Bullet] Using shooter_position, distance=2183,3325
[00:04:28] [INFO] [Bullet] Distance to wall: 2183,3325 (148,66713% of viewport)
[00:04:28] [INFO] [Bullet] Distance-based penetration chance: 20,266575%
[00:04:28] [INFO] [Bullet] Starting wall penetration at (2480.3538, 1186.1367)
[00:04:28] [ENEMY] [Enemy4] FLANKING started: target=(427.306, 1043.649), side=right, pos=(568.5267, 906.769)
[00:04:28] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[00:04:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,999588
[00:04:28] [INFO] [Bullet] Body exited signal received for penetrating body
[00:04:28] [INFO] [Bullet] Exiting penetration at (2526.9583, 1188.5459) after traveling 41,666668 pixels through wall
[00:04:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:04:28] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[00:04:28] [ENEMY] [Enemy10] Death animation completed
[00:04:29] [ENEMY] [Enemy1] State: IDLE -> COMBAT
[00:04:29] [ENEMY] [Enemy2] State: FLANKING -> COMBAT
[00:04:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(558.5694, 727.5994), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:04:29] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=3
[00:04:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.0665, 810.7856), source=ENEMY (Enemy4), range=1469, listeners=9
[00:04:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=3
[00:04:29] [INFO] [LastChance] Threat detected: @Area2D@1310
[00:04:29] [INFO] [LastChance] Not in hard mode - effect disabled
[00:04:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:04:29] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:04:29] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:04:29] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:04:29] [INFO] [LastChance] Player died
[00:04:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(588.1874, 706.1566), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:04:29] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=3
[00:04:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.0665, 810.7856), source=ENEMY (Enemy4), range=1469, listeners=9
[00:04:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=3
[00:04:29] [INFO] [LastChance] Threat detected: @Area2D@1312
[00:04:29] [INFO] [LastChance] Not in hard mode - effect disabled
[00:04:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:04:29] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:04:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(558.5694, 727.59937), shooter_id=1078523333880, bullet_pos=(335.1632, 252.50485)
[00:04:29] [INFO] [Bullet] Using shooter_position, distance=525,0001
[00:04:29] [INFO] [Bullet] Distance to wall: 525,0001 (35,748226% of viewport)
[00:04:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:04:29] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:04:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(615.5386, 679.2408), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:04:29] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=3
[00:04:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.0665, 810.7856), source=ENEMY (Enemy4), range=1469, listeners=9
[00:04:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=3
[00:04:29] [INFO] [LastChance] Threat detected: @Area2D@1315
[00:04:29] [INFO] [LastChance] Not in hard mode - effect disabled
[00:04:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:04:29] [ENEMY] [Enemy2] Hit taken, health: 2/4
[00:04:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(558.5694, 727.59937), shooter_id=1078523333880, bullet_pos=(424.77606, 54.323627)
[00:04:29] [INFO] [Bullet] Using shooter_position, distance=686,44073
[00:04:29] [INFO] [Bullet] Distance to wall: 686,44073 (46,741016% of viewport)
[00:04:29] [INFO] [Bullet] Distance-based penetration chance: 92,13548%
[00:04:29] [INFO] [Bullet] Starting wall penetration at (424.77606, 54.323627)
[00:04:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,916935
[00:04:29] [INFO] [Bullet] Body exited signal received for penetrating body
[00:04:29] [INFO] [Bullet] Exiting penetration at (441.42825, 17.496853) after traveling 35,416664 pixels through wall
[00:04:29] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:04:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(647.2271, 662.7958), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:04:29] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=3
[00:04:29] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[00:04:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.0665, 810.7856), source=ENEMY (Enemy4), range=1469, listeners=9
[00:04:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=3
[00:04:29] [INFO] [LastChance] Threat detected: @Area2D@1318
[00:04:29] [INFO] [LastChance] Not in hard mode - effect disabled
[00:04:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:04:29] [ENEMY] [Enemy2] Hit taken, health: 1/4
[00:04:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.2582, 661.0977), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:04:29] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=4
[00:04:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.0665, 810.7856), source=ENEMY (Enemy4), range=1469, listeners=9
[00:04:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=3
[00:04:29] [INFO] [LastChance] Threat detected: @Area2D@1320
[00:04:29] [INFO] [LastChance] Not in hard mode - effect disabled
[00:04:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:04:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(478.3056, 644.4076), source=ENEMY (Enemy2), range=1469, listeners=9
[00:04:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=2
[00:04:29] [INFO] [LastChance] Threat detected: @Area2D@1321
[00:04:29] [INFO] [LastChance] Not in hard mode - effect disabled
[00:04:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:04:29] [ENEMY] [Enemy2] Hit taken, health: 0/4
[00:04:29] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:04:29] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:04:29] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[00:04:29] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:04:29] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[00:04:29] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:04:29] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:04:29] [ENEMY] [Enemy1] Death animation component initialized
[00:04:29] [ENEMY] [Enemy2] Death animation component initialized
[00:04:29] [ENEMY] [Enemy3] Death animation component initialized
[00:04:29] [ENEMY] [Enemy4] Death animation component initialized
[00:04:29] [ENEMY] [Enemy5] Death animation component initialized
[00:04:29] [ENEMY] [Enemy6] Death animation component initialized
[00:04:29] [ENEMY] [Enemy7] Death animation component initialized
[00:04:29] [ENEMY] [Enemy8] Death animation component initialized
[00:04:29] [ENEMY] [Enemy9] Death animation component initialized
[00:04:29] [ENEMY] [Enemy10] Death animation component initialized
[00:04:29] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:04:29] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:04:29] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:04:29] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:04:29] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:04:29] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:04:29] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:04:29] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:04:29] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:04:29] [INFO] [ScoreManager] Level started with 10 enemies
[00:04:29] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[00:04:29] [ENEMY] [Enemy1] Registered as sound listener
[00:04:29] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:04:29] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[00:04:29] [ENEMY] [Enemy2] Registered as sound listener
[00:04:29] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:04:29] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[00:04:29] [ENEMY] [Enemy3] Registered as sound listener
[00:04:29] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:04:29] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[00:04:29] [ENEMY] [Enemy4] Registered as sound listener
[00:04:29] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:04:29] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[00:04:29] [ENEMY] [Enemy5] Registered as sound listener
[00:04:29] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:04:29] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[00:04:29] [ENEMY] [Enemy6] Registered as sound listener
[00:04:29] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:04:29] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[00:04:29] [ENEMY] [Enemy7] Registered as sound listener
[00:04:29] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:04:29] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[00:04:29] [ENEMY] [Enemy8] Registered as sound listener
[00:04:29] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:04:29] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[00:04:29] [ENEMY] [Enemy9] Registered as sound listener
[00:04:29] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:04:29] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[00:04:29] [ENEMY] [Enemy10] Registered as sound listener
[00:04:29] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:04:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450.2357, 1256.236), source=PLAYER (AssaultRifle), range=1469, listeners=18
[00:04:29] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[00:04:29] [ENEMY] [Enemy4] Heard gunshot at (450.2357, 1256.236), source_type=0, intensity=0.01, distance=499
[00:04:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[00:04:29] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:04:29] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:04:29] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:04:29] [INFO] [LastChance] Found player: Player
[00:04:29] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:04:29] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:04:29] [INFO] [LastChance] Connected to player Died signal (C#)
[00:04:29] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:04:29] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:04:29] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:04:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(454.9497, 1260.95), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:04:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[00:04:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(454.9497, 1260.9497), shooter_id=1888024005142, bullet_pos=(65.43164, 1169.9794)
[00:04:30] [INFO] [Bullet] Using shooter_position, distance=399,9999
[00:04:30] [INFO] [Bullet] Distance to wall: 399,9999 (27,23673% of viewport)
[00:04:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:04:30] [INFO] [Bullet] Starting wall penetration at (65.43164, 1169.9794)
[00:04:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,33539
[00:04:30] [INFO] [Bullet] Body exited signal received for penetrating body
[00:04:30] [INFO] [Bullet] Exiting penetration at (19.987862, 1159.3662) after traveling 41,666668 pixels through wall
[00:04:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:04:30] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:04:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450.2357, 1256.2357), shooter_id=1888024005142, bullet_pos=(2475.2358, 1256.2357)
[00:04:30] [INFO] [Bullet] Using shooter_position, distance=2025,0001
[00:04:30] [INFO] [Bullet] Distance to wall: 2025,0001 (137,88599% of viewport)
[00:04:30] [INFO] [Bullet] Distance-based penetration chance: 22,422802%
[00:04:30] [INFO] [Bullet] Penetration failed (distance roll)
[00:04:30] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:04:30] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:04:30] [ENEMY] [Enemy1] Death animation component initialized
[00:04:30] [ENEMY] [Enemy2] Death animation component initialized
[00:04:30] [ENEMY] [Enemy3] Death animation component initialized
[00:04:30] [ENEMY] [Enemy4] Death animation component initialized
[00:04:30] [ENEMY] [Enemy5] Death animation component initialized
[00:04:30] [ENEMY] [Enemy6] Death animation component initialized
[00:04:30] [ENEMY] [Enemy7] Death animation component initialized
[00:04:30] [ENEMY] [Enemy8] Death animation component initialized
[00:04:30] [ENEMY] [Enemy9] Death animation component initialized
[00:04:30] [ENEMY] [Enemy10] Death animation component initialized
[00:04:30] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:04:30] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:04:30] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:04:30] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:04:30] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:04:30] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:04:30] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:04:30] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:04:30] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:04:30] [INFO] [ScoreManager] Level started with 10 enemies
[00:04:30] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:04:30] [ENEMY] [Enemy1] Registered as sound listener
[00:04:30] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:04:30] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:04:30] [ENEMY] [Enemy2] Registered as sound listener
[00:04:30] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:04:30] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:04:30] [ENEMY] [Enemy3] Registered as sound listener
[00:04:30] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:04:30] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:04:30] [ENEMY] [Enemy4] Registered as sound listener
[00:04:30] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:04:30] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:04:30] [ENEMY] [Enemy5] Registered as sound listener
[00:04:30] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:04:30] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:04:30] [ENEMY] [Enemy6] Registered as sound listener
[00:04:30] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:04:30] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:04:30] [ENEMY] [Enemy7] Registered as sound listener
[00:04:30] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:04:30] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:04:30] [ENEMY] [Enemy8] Registered as sound listener
[00:04:30] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:04:30] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:04:30] [ENEMY] [Enemy9] Registered as sound listener
[00:04:30] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:04:30] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:04:30] [ENEMY] [Enemy10] Registered as sound listener
[00:04:30] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:04:30] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:04:30] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:04:30] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:04:30] [INFO] [LastChance] Found player: Player
[00:04:30] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:04:30] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:04:30] [INFO] [LastChance] Connected to player Died signal (C#)
[00:04:30] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:04:30] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:04:30] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:04:31] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:04:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:04:31] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:04:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:04:31] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:04:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=1951223777605, bullet_pos=(41.69983, 702.3934)
[00:04:32] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:04:32] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:04:32] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:04:32] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:04:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=1951223777605, bullet_pos=(303.4482, 456.4494)
[00:04:32] [INFO] [Bullet] Using shooter_position, distance=1201.14526367188
[00:04:32] [INFO] [Bullet] Distance to wall: 1201.14526367188 (81.7881897147986% of viewport)
[00:04:32] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1169.7123, 709.66644)
[00:04:32] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:04:32] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:04:32] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:04:32] [INFO] [Player.Grenade] Timer started, grenade created at (450, 877.9444)
[00:04:32] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:04:32] [INFO] [Player.Grenade] Step 1 complete! Drag: (110.253296, -38.717102)
[00:04:32] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:04:32] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:04:32] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:04:32] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:04:32] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:04:32] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:04:33] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:04:33] [ENEMY] [Enemy10] FLANKING started: target=(389.5269, 995.7495), side=right, pos=(1022.668, 1432.257)
[00:04:33] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:04:33] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:04:33] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (7.8584557, 246.13956) (246,3 px/s), Swing distance: 98,9
[00:04:33] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,5388803
[00:04:33] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (7.858456, 246.1396), Swing: 98.9, Transfer: 0.61, Final speed: 79.2
[00:04:33] [INFO] [Player.Grenade] Thrown! Velocity: 246,3, Swing: 98,9
[00:04:33] [INFO] [Player.Grenade] State reset to IDLE
[00:04:33] [INFO] [GrenadeBase] Grenade landed at (452.05, 799.6531)
[00:04:33] [INFO] [Player.Grenade] Player rotation restored to 0
[00:04:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4765, 753.8722), source=ENEMY (Enemy3), range=1469, listeners=10
[00:04:33] [ENEMY] [Enemy2] Heard gunshot at (684.4765, 753.8722), source_type=1, intensity=0.02, distance=350
[00:04:33] [ENEMY] [Enemy4] Heard gunshot at (684.4765, 753.8722), source_type=1, intensity=0.07, distance=186
[00:04:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:04:33] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:04:33] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:04:33] [INFO] [LastChance] Threat detected: Bullet
[00:04:33] [INFO] [LastChance] Not in hard mode - effect disabled
[00:04:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:04:33] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:04:33] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:04:33] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:04:33] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:04:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4765, 753.8722), source=ENEMY (Enemy3), range=1469, listeners=10
[00:04:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:04:33] [INFO] [LastChance] Threat detected: Bullet
[00:04:33] [INFO] [LastChance] Not in hard mode - effect disabled
[00:04:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:04:33] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:04:33] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:04:33] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:04:33] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:04:33] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:04:33] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:04:33] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:04:33] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:04:33] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:04:33] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:04:33] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:04:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4765, 753.8722), source=ENEMY (Enemy3), range=1469, listeners=10
[00:04:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:04:34] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:04:34] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:04:34] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:04:34] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:04:34] [ENEMY] [Enemy1] Death animation component initialized
[00:04:34] [ENEMY] [Enemy2] Death animation component initialized
[00:04:34] [ENEMY] [Enemy3] Death animation component initialized
[00:04:34] [ENEMY] [Enemy4] Death animation component initialized
[00:04:34] [ENEMY] [Enemy5] Death animation component initialized
[00:04:34] [ENEMY] [Enemy6] Death animation component initialized
[00:04:34] [ENEMY] [Enemy7] Death animation component initialized
[00:04:34] [ENEMY] [Enemy8] Death animation component initialized
[00:04:34] [ENEMY] [Enemy9] Death animation component initialized
[00:04:34] [ENEMY] [Enemy10] Death animation component initialized
[00:04:34] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:04:34] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:04:34] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:04:34] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:04:34] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:04:34] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:04:34] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:04:34] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:04:34] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:04:34] [INFO] [ScoreManager] Level started with 10 enemies
[00:04:34] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:04:34] [ENEMY] [Enemy1] Registered as sound listener
[00:04:34] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:04:34] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:04:34] [ENEMY] [Enemy2] Registered as sound listener
[00:04:34] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:04:34] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:04:34] [ENEMY] [Enemy3] Registered as sound listener
[00:04:34] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:04:34] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:04:34] [ENEMY] [Enemy4] Registered as sound listener
[00:04:34] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:04:34] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:04:34] [ENEMY] [Enemy5] Registered as sound listener
[00:04:34] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:04:34] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:04:34] [ENEMY] [Enemy6] Registered as sound listener
[00:04:34] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:04:34] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:04:34] [ENEMY] [Enemy7] Registered as sound listener
[00:04:34] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:04:34] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:04:34] [ENEMY] [Enemy8] Registered as sound listener
[00:04:34] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:04:34] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:04:34] [ENEMY] [Enemy9] Registered as sound listener
[00:04:34] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:04:34] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:04:34] [ENEMY] [Enemy10] Registered as sound listener
[00:04:34] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:04:34] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:04:34] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:04:34] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:04:34] [INFO] [LastChance] Found player: Player
[00:04:34] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:04:34] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:04:34] [INFO] [LastChance] Connected to player Died signal (C#)
[00:04:34] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:04:34] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:04:34] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:04:34] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:04:34] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:04:34] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (990.52924, 1153.8219)
[00:04:34] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:04:34] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:04:34] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:04:34] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:04:34] [INFO] [Player.Grenade] Step 1 complete! Drag: (272.84918, -17.365479)
[00:04:34] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:04:34] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:04:34] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:04:34] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:04:35] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:04:35] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:04:35] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:04:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:04:35] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:04:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:04:36] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:04:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=2157046662634, bullet_pos=(41.69983, 702.3934)
[00:04:36] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:04:36] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:04:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=2157046662634, bullet_pos=(523.5728, 394.8205)
[00:04:36] [INFO] [Bullet] Using shooter_position, distance=1142.77502441406
[00:04:36] [INFO] [Bullet] Distance to wall: 1142.77502441406 (77.8136527903286% of viewport)
[00:04:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=2157046662634, bullet_pos=(309.5098, 273.9443)
[00:04:36] [INFO] [Bullet] Using shooter_position, distance=1350.28356933594
[00:04:36] [INFO] [Bullet] Distance to wall: 1350.28356933594 (91.9432911886268% of viewport)
[00:04:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=2157046662634, bullet_pos=(45.9614, 386.2365)
[00:04:37] [INFO] [Bullet] Using shooter_position, distance=1418.61596679688
[00:04:37] [INFO] [Bullet] Distance to wall: 1418.61596679688 (96.5961697839412% of viewport)
[00:04:37] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:04:37] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:04:37] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:04:37] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (227.92537, 724.1793) (759,2 px/s), Swing distance: 562,2
[00:04:37] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,2658756
[00:04:37] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (227.9254, 724.1793), Swing: 562.2, Transfer: 1.00, Final speed: 400.1
[00:04:37] [INFO] [Player.Grenade] Thrown! Velocity: 759,2, Swing: 562,2
[00:04:37] [INFO] [Player.Grenade] State reset to IDLE
[00:04:37] [INFO] [GrenadeBase] Collision detected with Room2_WallLeft (type: StaticBody2D)
[00:04:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:04:37] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[00:04:37] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[00:04:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:04:37] [INFO] [LastChance] Threat detected: Bullet
[00:04:37] [INFO] [LastChance] Not in hard mode - effect disabled
[00:04:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:04:37] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:04:37] [INFO] [Player.Grenade] Player rotation restored to 0
[00:04:37] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:04:37] [ENEMY] [Enemy10] FLANKING started: target=(681.7869, 723.355), side=left, pos=(1022.671, 1432.253)
[00:04:37] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:04:37] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:04:37] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:04:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:04:37] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:04:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:04:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:04:37] [INFO] [LastChance] Threat detected: Bullet
[00:04:37] [INFO] [LastChance] Not in hard mode - effect disabled
[00:04:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:04:37] [INFO] [GrenadeBase] Grenade landed at (516.7324, 764.6878)
[00:04:37] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:04:37] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:04:38] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:04:38] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:04:38] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:04:38] [ENEMY] [Enemy1] Death animation component initialized
[00:04:38] [ENEMY] [Enemy2] Death animation component initialized
[00:04:38] [ENEMY] [Enemy3] Death animation component initialized
[00:04:38] [ENEMY] [Enemy4] Death animation component initialized
[00:04:38] [ENEMY] [Enemy5] Death animation component initialized
[00:04:38] [ENEMY] [Enemy6] Death animation component initialized
[00:04:38] [ENEMY] [Enemy7] Death animation component initialized
[00:04:38] [ENEMY] [Enemy8] Death animation component initialized
[00:04:38] [ENEMY] [Enemy9] Death animation component initialized
[00:04:38] [ENEMY] [Enemy10] Death animation component initialized
[00:04:38] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:04:38] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:04:38] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:04:38] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:04:38] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:04:38] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:04:38] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:04:38] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:04:38] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:04:38] [INFO] [ScoreManager] Level started with 10 enemies
[00:04:38] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:04:38] [ENEMY] [Enemy1] Registered as sound listener
[00:04:38] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:04:38] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:04:38] [ENEMY] [Enemy2] Registered as sound listener
[00:04:38] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:04:38] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:04:38] [ENEMY] [Enemy3] Registered as sound listener
[00:04:38] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:04:38] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:04:38] [ENEMY] [Enemy4] Registered as sound listener
[00:04:38] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:04:38] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:04:38] [ENEMY] [Enemy5] Registered as sound listener
[00:04:38] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:04:38] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:04:38] [ENEMY] [Enemy6] Registered as sound listener
[00:04:38] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:04:38] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:04:38] [ENEMY] [Enemy7] Registered as sound listener
[00:04:38] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:04:38] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:04:38] [ENEMY] [Enemy8] Registered as sound listener
[00:04:38] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:04:38] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:04:38] [ENEMY] [Enemy9] Registered as sound listener
[00:04:38] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:04:38] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:04:38] [ENEMY] [Enemy10] Registered as sound listener
[00:04:38] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:04:38] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:04:38] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:04:38] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:04:38] [INFO] [LastChance] Found player: Player
[00:04:38] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:04:38] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:04:38] [INFO] [LastChance] Connected to player Died signal (C#)
[00:04:38] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:04:38] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:04:38] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:04:38] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:04:38] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:04:38] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (732.3599, 1229.9629)
[00:04:38] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:04:38] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:04:38] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:04:38] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:04:38] [INFO] [Player.Grenade] Step 1 complete! Drag: (348.81952, 7.346924)
[00:04:38] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:04:38] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:04:39] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:04:39] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:04:39] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:04:39] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:04:39] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:04:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:04:40] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:04:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:04:40] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:04:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=2406926518410, bullet_pos=(41.69983, 702.3934)
[00:04:40] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:04:40] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:04:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=2406926518410, bullet_pos=(521.7899, 392.0445)
[00:04:40] [INFO] [Bullet] Using shooter_position, distance=1146.04431152344
[00:04:40] [INFO] [Bullet] Distance to wall: 1146.04431152344 (78.0362645612949% of viewport)
[00:04:40] [INFO] [Bullet] Distance-based penetration chance: 55.6243580118227%
[00:04:40] [INFO] [Bullet] Starting wall penetration at (521.7899, 392.0445)
[00:04:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37.7849197387695
[00:04:40] [INFO] [Bullet] Body exited signal received for penetrating body
[00:04:40] [INFO] [Bullet] Exiting penetration at (555.7321, 370.1029) after traveling 35.4166679382324 pixels through wall
[00:04:40] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[00:04:41] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:04:41] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:04:41] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (413.82428, 252.04843) (484,5 px/s), Swing distance: 544,6
[00:04:41] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,54706275
[00:04:41] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (413.8243, 252.0484), Swing: 544.6, Transfer: 1.00, Final speed: 255.4
[00:04:41] [INFO] [Player.Grenade] Thrown! Velocity: 484,5, Swing: 544,6
[00:04:41] [INFO] [Player.Grenade] State reset to IDLE
[00:04:41] [INFO] [Player.Grenade] Player rotation restored to 0
[00:04:41] [ENEMY] [Enemy10] FLANKING started: target=(682.0389, 712.6389), side=left, pos=(1022.668, 1432.257)
[00:04:41] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:04:41] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:04:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:04:41] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[00:04:41] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[00:04:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:04:41] [INFO] [LastChance] Threat detected: Bullet
[00:04:41] [INFO] [LastChance] Not in hard mode - effect disabled
[00:04:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:04:41] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:04:41] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:04:41] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:04:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:04:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:04:41] [INFO] [LastChance] Threat detected: Bullet
[00:04:41] [INFO] [LastChance] Not in hard mode - effect disabled
[00:04:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:04:41] [INFO] [GrenadeBase] Grenade landed at (589.0612, 807.4752)
[00:04:42] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:04:42] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:04:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(633.5128, 763.71), shooter_id=2404930029459, bullet_pos=(52.44837, 815.1094)
[00:04:42] [INFO] [Bullet] Using shooter_position, distance=583.333374023438
[00:04:42] [INFO] [Bullet] Distance to wall: 583.333374023438 (39.7202420927463% of viewport)
[00:04:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:04:42] [INFO] [Bullet] Starting wall penetration at (52.44837, 815.1094)
[00:04:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26.1384506225586
[00:04:42] [INFO] [Bullet] Body exited signal received for penetrating body
[00:04:42] [INFO] [Bullet] Exiting penetration at (5.963211, 819.2213) after traveling 41.6666679382324 pixels through wall
[00:04:42] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:04:42] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:04:42] [INFO] [GrenadeBase] EXPLODED at (591.8748, 809.1887)!
[00:04:42] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(591.8748, 809.1887), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=10
[00:04:42] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:04:42] [ENEMY] [Enemy2] Status effect: BLINDED applied
[00:04:42] [ENEMY] [Enemy2] Status effect: STUNNED applied
[00:04:42] [ENEMY] [Enemy3] Status effect: BLINDED applied
[00:04:42] [ENEMY] [Enemy3] Status effect: STUNNED applied
[00:04:43] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[00:04:44] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[00:04:44] [ENEMY] [Enemy1] State: IDLE -> COMBAT
[00:04:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(555.0647, 717.7424), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:04:44] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=2, self=0, below_threshold=3
[00:04:44] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:04:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(583.3594, 708.1906), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:04:44] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=2, self=0, below_threshold=3
[00:04:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(555.0647, 717.7424), shooter_id=2407748601172, bullet_pos=(236.80716, 475.43665)
[00:04:44] [INFO] [Bullet] Using shooter_position, distance=399,9999
[00:04:44] [INFO] [Bullet] Distance to wall: 399,9999 (27,23673% of viewport)
[00:04:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:04:44] [ENEMY] [Enemy2] Hit taken, health: 1/2
[00:04:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(602.3847, 710.6967), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:04:44] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=2, self=0, below_threshold=3
[00:04:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(555.0647, 717.7424), shooter_id=2407748601172, bullet_pos=(47.535923, 653.69604)
[00:04:44] [INFO] [Bullet] Using shooter_position, distance=511,5539
[00:04:44] [INFO] [Bullet] Distance to wall: 511,5539 (34,83265% of viewport)
[00:04:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:04:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(687.5173, 915.6003), source=ENEMY (Enemy4), range=1469, listeners=10
[00:04:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[00:04:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(555.0647, 717.7424), shooter_id=2407748601172, bullet_pos=(109.710236, 699.5427)
[00:04:44] [INFO] [Bullet] Using shooter_position, distance=445,72617
[00:04:44] [INFO] [Bullet] Distance to wall: 445,72617 (30,350315% of viewport)
[00:04:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:04:44] [INFO] [LastChance] Threat detected: @Area2D@2344
[00:04:44] [INFO] [LastChance] Not in hard mode - effect disabled
[00:04:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:04:44] [ENEMY] [Enemy2] Hit taken, health: 0/2
[00:04:44] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:04:44] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:04:44] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[00:04:44] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:04:44] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[00:04:44] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[00:04:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(619.898, 724.9203), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:04:44] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=3
[00:04:44] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[00:04:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(555.0647, 717.7424), shooter_id=2407748601172, bullet_pos=(52.435574, 733.1616)
[00:04:44] [INFO] [Bullet] Using shooter_position, distance=502,86557
[00:04:44] [INFO] [Bullet] Distance to wall: 502,86557 (34,241043% of viewport)
[00:04:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:04:44] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[00:04:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:04:44] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:04:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.6488, 916.4319), source=ENEMY (Enemy4), range=1469, listeners=9
[00:04:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[00:04:44] [INFO] [LastChance] Threat detected: @Area2D@2349
[00:04:44] [INFO] [LastChance] Not in hard mode - effect disabled
[00:04:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:04:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.5019, 747.5057), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:04:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[00:04:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:04:44] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:04:44] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:04:44] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:04:44] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:04:44] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:04:44] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:04:44] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:04:44] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:04:44] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:04:44] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:04:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(619.898, 724.9203), shooter_id=2407748601172, bullet_pos=(285.15942, 476.80487)
[00:04:44] [INFO] [Bullet] Using shooter_position, distance=416,66675
[00:04:44] [INFO] [Bullet] Distance to wall: 416,66675 (28,371605% of viewport)
[00:04:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:04:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(682.059, 916.7745), source=ENEMY (Enemy4), range=1469, listeners=9
[00:04:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[00:04:45] [INFO] [LastChance] Threat detected: @Area2D@2352
[00:04:45] [INFO] [LastChance] Not in hard mode - effect disabled
[00:04:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:04:45] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:04:45] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:04:45] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:04:45] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:04:45] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:04:45] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:04:45] [INFO] [LastChance] Player died
[00:04:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(644.5019, 747.5057), shooter_id=2407748601172, bullet_pos=(273.9288, 470.7708)
[00:04:45] [INFO] [Bullet] Using shooter_position, distance=462,5004
[00:04:45] [INFO] [Bullet] Distance to wall: 462,5004 (31,492504% of viewport)
[00:04:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:04:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(619.898, 724.9203), shooter_id=2407748601172, bullet_pos=(44.077213, 599.75714)
[00:04:45] [INFO] [Bullet] Using shooter_position, distance=589,26685
[00:04:45] [INFO] [Bullet] Distance to wall: 589,26685 (40,124264% of viewport)
[00:04:45] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:04:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(619.898, 724.9203), shooter_id=2407748601172, bullet_pos=(205.2937, 691.7675)
[00:04:45] [INFO] [Bullet] Using shooter_position, distance=415,9277
[00:04:45] [INFO] [Bullet] Distance to wall: 415,9277 (28,321283% of viewport)
[00:04:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:04:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(644.5019, 747.5057), shooter_id=2407748601172, bullet_pos=(49.500984, 587.3855)
[00:04:45] [INFO] [Bullet] Using shooter_position, distance=616,16925
[00:04:45] [INFO] [Bullet] Distance to wall: 616,16925 (41,9561% of viewport)
[00:04:45] [ENEMY] [Enemy2] Ragdoll activated
[00:04:45] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:04:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(644.5019, 747.5057), shooter_id=2407748601172, bullet_pos=(207.92844, 684.119)
[00:04:45] [INFO] [Bullet] Using shooter_position, distance=441,15106
[00:04:45] [INFO] [Bullet] Distance to wall: 441,15106 (30,03879% of viewport)
[00:04:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:04:46] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[00:04:46] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[00:04:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(619.898, 724.9203), shooter_id=2407748601172, bullet_pos=(509.7217, 545.7129)
[00:04:46] [INFO] [Bullet] Using shooter_position, distance=210,36661
[00:04:46] [INFO] [Bullet] Distance to wall: 210,36661 (14,324249% of viewport)
[00:04:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:04:46] [INFO] [Bullet] Starting wall penetration at (509.7217, 545.7129)
[00:04:46] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[00:04:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,751988
[00:04:46] [INFO] [Bullet] Body exited signal received for penetrating body
[00:04:46] [INFO] [Bullet] Exiting penetration at (537.3005, 532.4815) after traveling 25,588543 pixels through wall
[00:04:46] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[00:04:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(644.5019, 747.5057), shooter_id=2407748601172, bullet_pos=(514.6715, 542.9917)
[00:04:46] [INFO] [Bullet] Using shooter_position, distance=242,24347
[00:04:46] [INFO] [Bullet] Distance to wall: 242,24347 (16,494802% of viewport)
[00:04:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:04:46] [INFO] [Bullet] Starting wall penetration at (514.6715, 542.9917)
[00:04:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,320095
[00:04:46] [INFO] [Bullet] Body exited signal received for penetrating body
[00:04:46] [INFO] [Bullet] Exiting penetration at (542.46, 530.20667) after traveling 25,588543 pixels through wall
[00:04:46] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[00:04:46] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:04:46] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:04:46] [ENEMY] [Enemy1] Death animation component initialized
[00:04:46] [ENEMY] [Enemy2] Death animation component initialized
[00:04:46] [ENEMY] [Enemy3] Death animation component initialized
[00:04:46] [ENEMY] [Enemy4] Death animation component initialized
[00:04:46] [ENEMY] [Enemy5] Death animation component initialized
[00:04:46] [ENEMY] [Enemy6] Death animation component initialized
[00:04:46] [ENEMY] [Enemy7] Death animation component initialized
[00:04:46] [ENEMY] [Enemy8] Death animation component initialized
[00:04:46] [ENEMY] [Enemy9] Death animation component initialized
[00:04:46] [ENEMY] [Enemy10] Death animation component initialized
[00:04:46] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:04:46] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:04:46] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:04:46] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:04:46] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:04:46] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:04:46] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:04:46] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:04:46] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:04:46] [INFO] [ScoreManager] Level started with 10 enemies
[00:04:46] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:04:46] [ENEMY] [Enemy1] Registered as sound listener
[00:04:46] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:04:46] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:04:46] [ENEMY] [Enemy2] Registered as sound listener
[00:04:46] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:04:46] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:04:46] [ENEMY] [Enemy3] Registered as sound listener
[00:04:46] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:04:46] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:04:46] [ENEMY] [Enemy4] Registered as sound listener
[00:04:46] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:04:46] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:04:46] [ENEMY] [Enemy5] Registered as sound listener
[00:04:46] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:04:46] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:04:46] [ENEMY] [Enemy6] Registered as sound listener
[00:04:46] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:04:46] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:04:46] [ENEMY] [Enemy7] Registered as sound listener
[00:04:46] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:04:46] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:04:46] [ENEMY] [Enemy8] Registered as sound listener
[00:04:46] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:04:46] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:04:46] [ENEMY] [Enemy9] Registered as sound listener
[00:04:46] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:04:46] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:04:46] [ENEMY] [Enemy10] Registered as sound listener
[00:04:46] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:04:46] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:04:46] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:04:46] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:04:46] [INFO] [LastChance] Found player: Player
[00:04:46] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:04:46] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:04:46] [INFO] [LastChance] Connected to player Died signal (C#)
[00:04:46] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:04:46] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:04:46] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:04:49] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:04:49] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:04:49] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (573.8618, 1258.6827)
[00:04:49] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:04:49] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:04:49] [INFO] [Player.Grenade] Timer started, grenade created at (451.5, 1250)
[00:04:49] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:04:49] [INFO] [Player.Grenade] Step 1 complete! Drag: (271.23175, 42.74585)
[00:04:49] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:04:49] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:04:50] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:04:50] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:04:50] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:04:50] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:04:51] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:04:51] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (4913.1226, 1631.1252) (5176,8 px/s), Swing distance: 519,2
[00:04:51] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,3205443
[00:04:51] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (4913.123, 1631.125), Swing: 519.2, Transfer: 1.00, Final speed: 1352.8
[00:04:51] [INFO] [Player.Grenade] Thrown! Velocity: 5176,8, Swing: 519,2
[00:04:51] [INFO] [Player.Grenade] State reset to IDLE
[00:04:51] [INFO] [Player.Grenade] Player rotation restored to 0
[00:04:51] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:04:52] [INFO] [GrenadeBase] Collision detected with MainHall_WallLeft (type: StaticBody2D)
[00:04:52] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:04:52] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:04:52] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:04:52] [ENEMY] [Enemy1] Death animation component initialized
[00:04:52] [ENEMY] [Enemy2] Death animation component initialized
[00:04:52] [ENEMY] [Enemy3] Death animation component initialized
[00:04:52] [ENEMY] [Enemy4] Death animation component initialized
[00:04:52] [ENEMY] [Enemy5] Death animation component initialized
[00:04:52] [ENEMY] [Enemy6] Death animation component initialized
[00:04:52] [ENEMY] [Enemy7] Death animation component initialized
[00:04:52] [ENEMY] [Enemy8] Death animation component initialized
[00:04:52] [ENEMY] [Enemy9] Death animation component initialized
[00:04:52] [ENEMY] [Enemy10] Death animation component initialized
[00:04:52] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:04:52] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:04:52] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:04:52] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:04:52] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:04:52] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:04:52] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:04:52] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:04:52] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:04:52] [INFO] [ScoreManager] Level started with 10 enemies
[00:04:52] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[00:04:52] [ENEMY] [Enemy1] Registered as sound listener
[00:04:52] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:04:52] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[00:04:52] [ENEMY] [Enemy2] Registered as sound listener
[00:04:52] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:04:52] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[00:04:52] [ENEMY] [Enemy3] Registered as sound listener
[00:04:52] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:04:52] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[00:04:52] [ENEMY] [Enemy4] Registered as sound listener
[00:04:52] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:04:52] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[00:04:52] [ENEMY] [Enemy5] Registered as sound listener
[00:04:52] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:04:52] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[00:04:52] [ENEMY] [Enemy6] Registered as sound listener
[00:04:52] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:04:52] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[00:04:52] [ENEMY] [Enemy7] Registered as sound listener
[00:04:52] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:04:52] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[00:04:52] [ENEMY] [Enemy8] Registered as sound listener
[00:04:52] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:04:52] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[00:04:52] [ENEMY] [Enemy9] Registered as sound listener
[00:04:52] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:04:52] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[00:04:52] [ENEMY] [Enemy10] Registered as sound listener
[00:04:52] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:04:52] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:04:52] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:04:52] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:04:52] [INFO] [LastChance] Found player: Player
[00:04:52] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:04:52] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:04:52] [INFO] [LastChance] Connected to player Died signal (C#)
[00:04:52] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:04:52] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:04:52] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:04:53] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:04:53] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:04:53] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (754.74695, 1393.5992)
[00:04:53] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:04:53] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:04:53] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:04:53] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:04:53] [INFO] [Player.Grenade] Step 1 complete! Drag: (422.45203, 4.0074463)
[00:04:53] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:04:53] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:04:53] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:04:53] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:04:53] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:04:53] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:04:54] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:04:54] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (582.1085, 914.93097) (1084,4 px/s), Swing distance: 185,3
[00:04:54] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,0041606
[00:04:54] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (582.1085, 914.931), Swing: 185.3, Transfer: 1.00, Final speed: 571.5
[00:04:54] [INFO] [Player.Grenade] Thrown! Velocity: 1084,4, Swing: 185,3
[00:04:54] [INFO] [Player.Grenade] State reset to IDLE
[00:04:55] [INFO] [Player.Grenade] Player rotation restored to 0
[00:04:55] [INFO] [GrenadeBase] Collision detected with LobbyDivider_Right (type: StaticBody2D)
[00:04:55] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:04:55] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:04:55] [INFO] [GrenadeBase] Grenade landed at (563.5302, 1351.665)
[00:04:55] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:04:55] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:04:55] [ENEMY] [Enemy1] Death animation component initialized
[00:04:55] [ENEMY] [Enemy2] Death animation component initialized
[00:04:55] [ENEMY] [Enemy3] Death animation component initialized
[00:04:55] [ENEMY] [Enemy4] Death animation component initialized
[00:04:55] [ENEMY] [Enemy5] Death animation component initialized
[00:04:55] [ENEMY] [Enemy6] Death animation component initialized
[00:04:55] [ENEMY] [Enemy7] Death animation component initialized
[00:04:55] [ENEMY] [Enemy8] Death animation component initialized
[00:04:55] [ENEMY] [Enemy9] Death animation component initialized
[00:04:55] [ENEMY] [Enemy10] Death animation component initialized
[00:04:55] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:04:55] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:04:55] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:04:55] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:04:55] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:04:55] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:04:55] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:04:55] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:04:55] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:04:55] [INFO] [ScoreManager] Level started with 10 enemies
[00:04:55] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 30)
[00:04:55] [ENEMY] [Enemy1] Registered as sound listener
[00:04:55] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:04:55] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 31)
[00:04:55] [ENEMY] [Enemy2] Registered as sound listener
[00:04:55] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:04:55] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 32)
[00:04:55] [ENEMY] [Enemy3] Registered as sound listener
[00:04:55] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:04:55] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 33)
[00:04:55] [ENEMY] [Enemy4] Registered as sound listener
[00:04:55] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:04:55] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 34)
[00:04:55] [ENEMY] [Enemy5] Registered as sound listener
[00:04:55] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:04:55] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 35)
[00:04:55] [ENEMY] [Enemy6] Registered as sound listener
[00:04:55] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:04:55] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 36)
[00:04:55] [ENEMY] [Enemy7] Registered as sound listener
[00:04:55] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:04:55] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 37)
[00:04:55] [ENEMY] [Enemy8] Registered as sound listener
[00:04:55] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:04:55] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 38)
[00:04:55] [ENEMY] [Enemy9] Registered as sound listener
[00:04:55] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:04:55] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 39)
[00:04:55] [ENEMY] [Enemy10] Registered as sound listener
[00:04:55] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:04:55] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:04:55] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:04:55] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:04:55] [INFO] [LastChance] Found player: Player
[00:04:55] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:04:55] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:04:55] [INFO] [LastChance] Connected to player Died signal (C#)
[00:04:55] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:04:55] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:04:55] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:04:55] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:04:55] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:04:56] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (944.3396, 1437.013)
[00:04:56] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:04:56] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:04:56] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:04:56] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:04:56] [INFO] [Player.Grenade] Step 1 complete! Drag: (320.42395, 60.779297)
[00:04:56] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:04:56] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:04:56] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:04:56] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:04:56] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:04:56] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:04:57] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:04:57] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (628.94586, 432.1734) (763,1 px/s), Swing distance: 140,1
[00:04:57] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,6020423
[00:04:57] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (628.9459, 432.1734), Swing: 140.1, Transfer: 0.86, Final speed: 347.7
[00:04:57] [INFO] [Player.Grenade] Thrown! Velocity: 763,1, Swing: 140,1
[00:04:57] [INFO] [Player.Grenade] State reset to IDLE
[00:04:57] [INFO] [Player.Grenade] Player rotation restored to 0
[00:04:57] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:04:57] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:04:57] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:04:57] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:04:57] [ENEMY] [Enemy1] Death animation component initialized
[00:04:57] [ENEMY] [Enemy2] Death animation component initialized
[00:04:57] [ENEMY] [Enemy3] Death animation component initialized
[00:04:57] [ENEMY] [Enemy4] Death animation component initialized
[00:04:57] [ENEMY] [Enemy5] Death animation component initialized
[00:04:57] [ENEMY] [Enemy6] Death animation component initialized
[00:04:57] [ENEMY] [Enemy7] Death animation component initialized
[00:04:57] [ENEMY] [Enemy8] Death animation component initialized
[00:04:57] [ENEMY] [Enemy9] Death animation component initialized
[00:04:57] [ENEMY] [Enemy10] Death animation component initialized
[00:04:57] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:04:57] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:04:57] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:04:57] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:04:57] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:04:57] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:04:57] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:04:57] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:04:57] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:04:57] [INFO] [ScoreManager] Level started with 10 enemies
[00:04:57] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 40)
[00:04:57] [ENEMY] [Enemy1] Registered as sound listener
[00:04:57] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:04:57] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 41)
[00:04:57] [ENEMY] [Enemy2] Registered as sound listener
[00:04:57] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:04:57] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 42)
[00:04:57] [ENEMY] [Enemy3] Registered as sound listener
[00:04:57] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:04:57] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 43)
[00:04:57] [ENEMY] [Enemy4] Registered as sound listener
[00:04:57] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:04:57] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 44)
[00:04:57] [ENEMY] [Enemy5] Registered as sound listener
[00:04:57] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:04:57] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 45)
[00:04:57] [ENEMY] [Enemy6] Registered as sound listener
[00:04:57] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:04:57] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 46)
[00:04:57] [ENEMY] [Enemy7] Registered as sound listener
[00:04:57] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:04:57] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 47)
[00:04:57] [ENEMY] [Enemy8] Registered as sound listener
[00:04:57] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:04:57] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 48)
[00:04:57] [ENEMY] [Enemy9] Registered as sound listener
[00:04:57] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:04:57] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 49)
[00:04:57] [ENEMY] [Enemy10] Registered as sound listener
[00:04:57] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:04:57] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:04:57] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:04:57] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:04:57] [INFO] [LastChance] Found player: Player
[00:04:57] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:04:57] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:04:57] [INFO] [LastChance] Connected to player Died signal (C#)
[00:04:57] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:04:57] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:04:57] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:04:58] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:04:58] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:04:58] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (976.54236, 1536.5306)
[00:04:58] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:04:58] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:04:58] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:04:58] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:04:58] [INFO] [Player.Grenade] Step 1 complete! Drag: (286.83606, 38.738403)
[00:04:58] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:04:58] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:04:58] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:04:58] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:04:58] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:04:58] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:05:00] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:05:00] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2353.9417, 342.79156) (2378,8 px/s), Swing distance: 531,3
[00:05:00] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,144608
[00:05:00] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2353.942, 342.7916), Swing: 531.3, Transfer: 1.00, Final speed: 1253.7
[00:05:00] [INFO] [Player.Grenade] Thrown! Velocity: 2378,8, Swing: 531,3
[00:05:00] [INFO] [Player.Grenade] State reset to IDLE
[00:05:00] [INFO] [Player.Grenade] Player rotation restored to 0
[00:05:00] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:05:00] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:05:00] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:05:00] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:05:00] [ENEMY] [Enemy1] Death animation component initialized
[00:05:00] [ENEMY] [Enemy2] Death animation component initialized
[00:05:00] [ENEMY] [Enemy3] Death animation component initialized
[00:05:00] [ENEMY] [Enemy4] Death animation component initialized
[00:05:00] [ENEMY] [Enemy5] Death animation component initialized
[00:05:00] [ENEMY] [Enemy6] Death animation component initialized
[00:05:00] [ENEMY] [Enemy7] Death animation component initialized
[00:05:00] [ENEMY] [Enemy8] Death animation component initialized
[00:05:00] [ENEMY] [Enemy9] Death animation component initialized
[00:05:00] [ENEMY] [Enemy10] Death animation component initialized
[00:05:00] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:05:00] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:05:00] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:05:00] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:05:00] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:05:00] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:05:00] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:05:00] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:05:00] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:05:00] [INFO] [ScoreManager] Level started with 10 enemies
[00:05:00] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 50)
[00:05:00] [ENEMY] [Enemy1] Registered as sound listener
[00:05:00] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:05:00] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 51)
[00:05:00] [ENEMY] [Enemy2] Registered as sound listener
[00:05:00] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:05:00] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 52)
[00:05:00] [ENEMY] [Enemy3] Registered as sound listener
[00:05:00] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:05:00] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 53)
[00:05:00] [ENEMY] [Enemy4] Registered as sound listener
[00:05:00] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:05:00] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 54)
[00:05:00] [ENEMY] [Enemy5] Registered as sound listener
[00:05:00] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:05:00] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 55)
[00:05:00] [ENEMY] [Enemy6] Registered as sound listener
[00:05:00] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:05:00] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 56)
[00:05:00] [ENEMY] [Enemy7] Registered as sound listener
[00:05:00] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:05:00] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 57)
[00:05:00] [ENEMY] [Enemy8] Registered as sound listener
[00:05:00] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:05:00] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 58)
[00:05:00] [ENEMY] [Enemy9] Registered as sound listener
[00:05:00] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:05:00] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 59)
[00:05:00] [ENEMY] [Enemy10] Registered as sound listener
[00:05:00] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:05:00] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:05:00] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:05:00] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:05:00] [INFO] [LastChance] Found player: Player
[00:05:00] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:05:00] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:05:00] [INFO] [LastChance] Connected to player Died signal (C#)
[00:05:00] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:05:00] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:05:00] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:05:00] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:05:00] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:05:01] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1079.3003, 1485.102)
[00:05:01] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:05:01] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:05:01] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:05:01] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:05:01] [INFO] [Player.Grenade] Step 1 complete! Drag: (196.19312, 29.387695)
[00:05:01] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:05:01] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:05:01] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:05:01] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:05:01] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:05:01] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:05:02] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:05:02] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3151.766, 1024.4467) (3314,1 px/s), Swing distance: 380,8
[00:05:02] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,3142671
[00:05:02] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3151.766, 1024.447), Swing: 380.8, Transfer: 1.00, Final speed: 1352.8
[00:05:02] [INFO] [Player.Grenade] Thrown! Velocity: 3314,1, Swing: 380,8
[00:05:02] [INFO] [Player.Grenade] State reset to IDLE
[00:05:02] [INFO] [Player.Grenade] Player rotation restored to 0
[00:05:02] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:05:03] [INFO] [GrenadeBase] Collision detected with MainHall_WallLeft (type: StaticBody2D)
[00:05:03] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:05:03] [INFO] [GrenadeBase] Collision detected with MainHall_CornerTL (type: StaticBody2D)
[00:05:03] [INFO] [GrenadeBase] Grenade landed at (933.9865, 1355.141)
[00:05:04] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:05:04] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:05:04] [ENEMY] [Enemy1] Death animation component initialized
[00:05:04] [ENEMY] [Enemy2] Death animation component initialized
[00:05:04] [ENEMY] [Enemy3] Death animation component initialized
[00:05:04] [ENEMY] [Enemy4] Death animation component initialized
[00:05:04] [ENEMY] [Enemy5] Death animation component initialized
[00:05:04] [ENEMY] [Enemy6] Death animation component initialized
[00:05:04] [ENEMY] [Enemy7] Death animation component initialized
[00:05:04] [ENEMY] [Enemy8] Death animation component initialized
[00:05:04] [ENEMY] [Enemy9] Death animation component initialized
[00:05:04] [ENEMY] [Enemy10] Death animation component initialized
[00:05:04] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:05:04] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:05:04] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:05:04] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:05:04] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:05:04] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:05:04] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:05:04] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:05:04] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:05:04] [INFO] [ScoreManager] Level started with 10 enemies
[00:05:04] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 60)
[00:05:04] [ENEMY] [Enemy1] Registered as sound listener
[00:05:04] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:05:04] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 61)
[00:05:04] [ENEMY] [Enemy2] Registered as sound listener
[00:05:04] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:05:04] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 62)
[00:05:04] [ENEMY] [Enemy3] Registered as sound listener
[00:05:04] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:05:04] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 63)
[00:05:04] [ENEMY] [Enemy4] Registered as sound listener
[00:05:04] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:05:04] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 64)
[00:05:04] [ENEMY] [Enemy5] Registered as sound listener
[00:05:04] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:05:04] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 65)
[00:05:04] [ENEMY] [Enemy6] Registered as sound listener
[00:05:04] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:05:04] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 66)
[00:05:04] [ENEMY] [Enemy7] Registered as sound listener
[00:05:04] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:05:04] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 67)
[00:05:04] [ENEMY] [Enemy8] Registered as sound listener
[00:05:04] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:05:04] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 68)
[00:05:04] [ENEMY] [Enemy9] Registered as sound listener
[00:05:04] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:05:04] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 69)
[00:05:04] [ENEMY] [Enemy10] Registered as sound listener
[00:05:04] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:05:04] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:05:04] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:05:04] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:05:04] [INFO] [LastChance] Found player: Player
[00:05:04] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:05:04] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:05:04] [INFO] [LastChance] Connected to player Died signal (C#)
[00:05:04] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:05:04] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:05:04] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:05:05] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:05:05] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:05:05] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (947.4663, 1427.6624)
[00:05:05] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:05:05] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:05:05] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:05:05] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:05:05] [INFO] [Player.Grenade] Step 1 complete! Drag: (327.17053, -3.3395996)
[00:05:05] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:05:05] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:05:05] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:05:05] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:05:06] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:05:06] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:05:06] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:05:06] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (6942.9688, 680.181) (6976,2 px/s), Swing distance: 604,5
[00:05:06] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,09765527
[00:05:06] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (6942.969, 680.181), Swing: 604.5, Transfer: 1.00, Final speed: 1352.8
[00:05:06] [INFO] [Player.Grenade] Thrown! Velocity: 6976,2, Swing: 604,5
[00:05:06] [INFO] [Player.Grenade] State reset to IDLE
[00:05:06] [INFO] [Player.Grenade] Player rotation restored to 0
[00:05:06] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:05:07] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:05:07] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:05:07] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:05:07] [ENEMY] [Enemy1] Death animation component initialized
[00:05:07] [ENEMY] [Enemy2] Death animation component initialized
[00:05:07] [ENEMY] [Enemy3] Death animation component initialized
[00:05:07] [ENEMY] [Enemy4] Death animation component initialized
[00:05:07] [ENEMY] [Enemy5] Death animation component initialized
[00:05:07] [ENEMY] [Enemy6] Death animation component initialized
[00:05:07] [ENEMY] [Enemy7] Death animation component initialized
[00:05:07] [ENEMY] [Enemy8] Death animation component initialized
[00:05:07] [ENEMY] [Enemy9] Death animation component initialized
[00:05:07] [ENEMY] [Enemy10] Death animation component initialized
[00:05:07] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:05:07] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:05:07] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:05:07] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:05:07] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:05:07] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:05:07] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:05:07] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:05:07] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:05:07] [INFO] [ScoreManager] Level started with 10 enemies
[00:05:07] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 70)
[00:05:07] [ENEMY] [Enemy1] Registered as sound listener
[00:05:07] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:05:07] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 71)
[00:05:07] [ENEMY] [Enemy2] Registered as sound listener
[00:05:07] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:05:07] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 72)
[00:05:07] [ENEMY] [Enemy3] Registered as sound listener
[00:05:07] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:05:07] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 73)
[00:05:07] [ENEMY] [Enemy4] Registered as sound listener
[00:05:07] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:05:07] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 74)
[00:05:07] [ENEMY] [Enemy5] Registered as sound listener
[00:05:07] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:05:07] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 75)
[00:05:07] [ENEMY] [Enemy6] Registered as sound listener
[00:05:07] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:05:07] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 76)
[00:05:07] [ENEMY] [Enemy7] Registered as sound listener
[00:05:07] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:05:07] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 77)
[00:05:07] [ENEMY] [Enemy8] Registered as sound listener
[00:05:07] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:05:07] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 78)
[00:05:07] [ENEMY] [Enemy9] Registered as sound listener
[00:05:07] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:05:07] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 79)
[00:05:07] [ENEMY] [Enemy10] Registered as sound listener
[00:05:07] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:05:07] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:05:07] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:05:07] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:05:07] [INFO] [LastChance] Found player: Player
[00:05:07] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:05:07] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:05:07] [INFO] [LastChance] Connected to player Died signal (C#)
[00:05:07] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:05:07] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:05:07] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:05:07] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:05:07] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:05:07] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (798.39154, 1408.2932)
[00:05:07] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:05:07] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:05:07] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:05:07] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:05:07] [INFO] [Player.Grenade] Step 1 complete! Drag: (467.64166, 16.69751)
[00:05:07] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:05:07] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:05:08] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:05:08] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:05:08] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:05:08] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:05:09] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:05:09] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2335.2869, 1853.9232) (2981,7 px/s), Swing distance: 578,4
[00:05:09] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,67099434
[00:05:09] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2335.287, 1853.923), Swing: 578.4, Transfer: 1.00, Final speed: 1352.8
[00:05:09] [INFO] [Player.Grenade] Thrown! Velocity: 2981,7, Swing: 578,4
[00:05:09] [INFO] [Player.Grenade] State reset to IDLE
[00:05:09] [INFO] [GrenadeBase] Collision detected with LobbyDivider_Right (type: StaticBody2D)
[00:05:09] [INFO] [Player.Grenade] Player rotation restored to 0
[00:05:09] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:05:09] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:05:10] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:05:10] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:05:10] [ENEMY] [Enemy1] Death animation component initialized
[00:05:10] [ENEMY] [Enemy2] Death animation component initialized
[00:05:10] [ENEMY] [Enemy3] Death animation component initialized
[00:05:10] [ENEMY] [Enemy4] Death animation component initialized
[00:05:10] [ENEMY] [Enemy5] Death animation component initialized
[00:05:10] [ENEMY] [Enemy6] Death animation component initialized
[00:05:10] [ENEMY] [Enemy7] Death animation component initialized
[00:05:10] [ENEMY] [Enemy8] Death animation component initialized
[00:05:10] [ENEMY] [Enemy9] Death animation component initialized
[00:05:10] [ENEMY] [Enemy10] Death animation component initialized
[00:05:10] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:05:10] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:05:10] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:05:10] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:05:10] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:05:10] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:05:10] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:05:10] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:05:10] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:05:10] [INFO] [ScoreManager] Level started with 10 enemies
[00:05:10] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 80)
[00:05:10] [ENEMY] [Enemy1] Registered as sound listener
[00:05:10] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:05:10] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 81)
[00:05:10] [ENEMY] [Enemy2] Registered as sound listener
[00:05:10] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:05:10] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 82)
[00:05:10] [ENEMY] [Enemy3] Registered as sound listener
[00:05:10] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:05:10] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 83)
[00:05:10] [ENEMY] [Enemy4] Registered as sound listener
[00:05:10] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:05:10] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 84)
[00:05:10] [ENEMY] [Enemy5] Registered as sound listener
[00:05:10] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:05:10] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 85)
[00:05:10] [ENEMY] [Enemy6] Registered as sound listener
[00:05:10] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:05:10] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 86)
[00:05:10] [ENEMY] [Enemy7] Registered as sound listener
[00:05:10] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:05:10] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 87)
[00:05:10] [ENEMY] [Enemy8] Registered as sound listener
[00:05:10] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:05:10] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 88)
[00:05:10] [ENEMY] [Enemy9] Registered as sound listener
[00:05:10] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:05:10] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 89)
[00:05:10] [ENEMY] [Enemy10] Registered as sound listener
[00:05:10] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:05:10] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:05:10] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:05:10] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:05:10] [INFO] [LastChance] Found player: Player
[00:05:10] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:05:10] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:05:10] [INFO] [LastChance] Connected to player Died signal (C#)
[00:05:10] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:05:10] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:05:10] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:05:10] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:05:10] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:05:10] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (942.673, 1441.6882)
[00:05:10] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:05:10] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:05:10] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:05:10] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:05:10] [INFO] [Player.Grenade] Step 1 complete! Drag: (317.54602, 77.47693)
[00:05:10] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:05:10] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:05:11] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:05:11] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:05:11] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:05:11] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:05:11] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:05:11] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1458.9658, 1106.2422) (1830,9 px/s), Swing distance: 258,0
[00:05:11] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,64875215
[00:05:11] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1458.966, 1106.242), Swing: 258.0, Transfer: 1.00, Final speed: 965.0
[00:05:11] [INFO] [Player.Grenade] Thrown! Velocity: 1830,9, Swing: 258,0
[00:05:11] [INFO] [Player.Grenade] State reset to IDLE
[00:05:12] [INFO] [Player.Grenade] Player rotation restored to 0
[00:05:12] [INFO] [GrenadeBase] Collision detected with LobbyDivider_Right (type: StaticBody2D)
[00:05:12] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:05:12] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:05:12] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:05:12] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:05:12] [ENEMY] [Enemy1] Death animation component initialized
[00:05:12] [ENEMY] [Enemy2] Death animation component initialized
[00:05:12] [ENEMY] [Enemy3] Death animation component initialized
[00:05:12] [ENEMY] [Enemy4] Death animation component initialized
[00:05:12] [ENEMY] [Enemy5] Death animation component initialized
[00:05:12] [ENEMY] [Enemy6] Death animation component initialized
[00:05:12] [ENEMY] [Enemy7] Death animation component initialized
[00:05:12] [ENEMY] [Enemy8] Death animation component initialized
[00:05:12] [ENEMY] [Enemy9] Death animation component initialized
[00:05:12] [ENEMY] [Enemy10] Death animation component initialized
[00:05:12] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:05:12] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:05:12] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:05:12] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:05:12] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:05:12] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:05:12] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:05:12] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:05:12] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:05:12] [INFO] [ScoreManager] Level started with 10 enemies
[00:05:12] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 90)
[00:05:12] [ENEMY] [Enemy1] Registered as sound listener
[00:05:12] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:05:12] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 91)
[00:05:12] [ENEMY] [Enemy2] Registered as sound listener
[00:05:12] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:05:12] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 92)
[00:05:12] [ENEMY] [Enemy3] Registered as sound listener
[00:05:12] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:05:12] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 93)
[00:05:12] [ENEMY] [Enemy4] Registered as sound listener
[00:05:12] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:05:12] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 94)
[00:05:12] [ENEMY] [Enemy5] Registered as sound listener
[00:05:12] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:05:12] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 95)
[00:05:12] [ENEMY] [Enemy6] Registered as sound listener
[00:05:12] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:05:12] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 96)
[00:05:12] [ENEMY] [Enemy7] Registered as sound listener
[00:05:12] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:05:12] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 97)
[00:05:12] [ENEMY] [Enemy8] Registered as sound listener
[00:05:12] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:05:12] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 98)
[00:05:12] [ENEMY] [Enemy9] Registered as sound listener
[00:05:12] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:05:12] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 99)
[00:05:12] [ENEMY] [Enemy10] Registered as sound listener
[00:05:12] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:05:12] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:05:12] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:05:12] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:05:12] [INFO] [LastChance] Found player: Player
[00:05:12] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:05:12] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:05:12] [INFO] [LastChance] Connected to player Died signal (C#)
[00:05:12] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:05:12] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:05:12] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:05:12] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:05:12] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:05:12] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1082.9844, 1566.5863)
[00:05:12] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:05:12] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:05:12] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:05:12] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:05:12] [INFO] [Player.Grenade] Step 1 complete! Drag: (175.43628, -8.682739)
[00:05:12] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:05:12] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:05:13] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:05:13] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:05:13] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:05:13] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:05:13] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:05:13] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3877.5508, -31.43095) (3877,7 px/s), Swing distance: 340,3
[00:05:13] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,008105699
[00:05:13] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3877.551, -31.43095), Swing: 340.3, Transfer: 1.00, Final speed: 1352.8
[00:05:13] [INFO] [Player.Grenade] Thrown! Velocity: 3877,7, Swing: 340,3
[00:05:13] [INFO] [Player.Grenade] State reset to IDLE
[00:05:13] [INFO] [Player.Grenade] Player rotation restored to 0
[00:05:13] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:05:14] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:05:14] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:05:14] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:05:14] [ENEMY] [Enemy1] Death animation component initialized
[00:05:14] [ENEMY] [Enemy2] Death animation component initialized
[00:05:14] [ENEMY] [Enemy3] Death animation component initialized
[00:05:14] [ENEMY] [Enemy4] Death animation component initialized
[00:05:14] [ENEMY] [Enemy5] Death animation component initialized
[00:05:14] [ENEMY] [Enemy6] Death animation component initialized
[00:05:14] [ENEMY] [Enemy7] Death animation component initialized
[00:05:14] [ENEMY] [Enemy8] Death animation component initialized
[00:05:14] [ENEMY] [Enemy9] Death animation component initialized
[00:05:14] [ENEMY] [Enemy10] Death animation component initialized
[00:05:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:05:14] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:05:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:05:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:05:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:05:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:05:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:05:14] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:05:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:05:14] [INFO] [ScoreManager] Level started with 10 enemies
[00:05:14] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 100)
[00:05:14] [ENEMY] [Enemy1] Registered as sound listener
[00:05:14] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:05:14] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 101)
[00:05:14] [ENEMY] [Enemy2] Registered as sound listener
[00:05:14] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:05:14] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 102)
[00:05:14] [ENEMY] [Enemy3] Registered as sound listener
[00:05:14] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:05:14] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 103)
[00:05:14] [ENEMY] [Enemy4] Registered as sound listener
[00:05:14] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:05:14] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 104)
[00:05:14] [ENEMY] [Enemy5] Registered as sound listener
[00:05:14] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:05:14] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 105)
[00:05:14] [ENEMY] [Enemy6] Registered as sound listener
[00:05:14] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:05:14] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 106)
[00:05:14] [ENEMY] [Enemy7] Registered as sound listener
[00:05:14] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:05:14] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 107)
[00:05:14] [ENEMY] [Enemy8] Registered as sound listener
[00:05:14] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:05:14] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 108)
[00:05:14] [ENEMY] [Enemy9] Registered as sound listener
[00:05:14] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:05:14] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 109)
[00:05:14] [ENEMY] [Enemy10] Registered as sound listener
[00:05:14] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:05:14] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:05:14] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:05:14] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:05:14] [INFO] [LastChance] Found player: Player
[00:05:14] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:05:14] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:05:14] [INFO] [LastChance] Connected to player Died signal (C#)
[00:05:14] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:05:14] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:05:14] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:05:14] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:05:14] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:05:14] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1052.3601, 1551.2245)
[00:05:14] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:05:14] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:05:14] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:05:14] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:05:14] [INFO] [Player.Grenade] Step 1 complete! Drag: (207.85889, 58.107544)
[00:05:15] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:05:15] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:05:15] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:05:15] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:05:15] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:05:15] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:05:16] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:05:16] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1933.4531, 1998.3076) (2780,6 px/s), Swing distance: 447,2
[00:05:16] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,8018917
[00:05:16] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1933.453, 1998.308), Swing: 447.2, Transfer: 1.00, Final speed: 1352.8
[00:05:16] [INFO] [Player.Grenade] Thrown! Velocity: 2780,6, Swing: 447,2
[00:05:16] [INFO] [Player.Grenade] State reset to IDLE
[00:05:16] [INFO] [GrenadeBase] Collision detected with LobbyDivider_Right (type: StaticBody2D)
[00:05:16] [INFO] [Player.Grenade] Player rotation restored to 0
[00:05:16] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:05:17] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:05:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:05:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:05:17] [ENEMY] [Enemy1] Death animation component initialized
[00:05:17] [ENEMY] [Enemy2] Death animation component initialized
[00:05:17] [ENEMY] [Enemy3] Death animation component initialized
[00:05:17] [ENEMY] [Enemy4] Death animation component initialized
[00:05:17] [ENEMY] [Enemy5] Death animation component initialized
[00:05:17] [ENEMY] [Enemy6] Death animation component initialized
[00:05:17] [ENEMY] [Enemy7] Death animation component initialized
[00:05:17] [ENEMY] [Enemy8] Death animation component initialized
[00:05:17] [ENEMY] [Enemy9] Death animation component initialized
[00:05:17] [ENEMY] [Enemy10] Death animation component initialized
[00:05:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:05:17] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:05:17] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:05:17] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:05:17] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:05:17] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:05:17] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:05:17] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:05:17] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:05:17] [INFO] [ScoreManager] Level started with 10 enemies
[00:05:17] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 110)
[00:05:17] [ENEMY] [Enemy1] Registered as sound listener
[00:05:17] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:05:17] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 111)
[00:05:17] [ENEMY] [Enemy2] Registered as sound listener
[00:05:17] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:05:17] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 112)
[00:05:17] [ENEMY] [Enemy3] Registered as sound listener
[00:05:17] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:05:17] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 113)
[00:05:17] [ENEMY] [Enemy4] Registered as sound listener
[00:05:17] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:05:17] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 114)
[00:05:17] [ENEMY] [Enemy5] Registered as sound listener
[00:05:17] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:05:17] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 115)
[00:05:17] [ENEMY] [Enemy6] Registered as sound listener
[00:05:17] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:05:17] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 116)
[00:05:17] [ENEMY] [Enemy7] Registered as sound listener
[00:05:17] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:05:17] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 117)
[00:05:17] [ENEMY] [Enemy8] Registered as sound listener
[00:05:17] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:05:17] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 118)
[00:05:17] [ENEMY] [Enemy9] Registered as sound listener
[00:05:17] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:05:17] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 119)
[00:05:17] [ENEMY] [Enemy10] Registered as sound listener
[00:05:17] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:05:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:05:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:05:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:05:17] [INFO] [LastChance] Found player: Player
[00:05:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:05:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:05:17] [INFO] [LastChance] Connected to player Died signal (C#)
[00:05:17] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:05:17] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:05:17] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:05:17] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:05:17] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:05:17] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1051.0239, 1554.564)
[00:05:17] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:05:17] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:05:17] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:05:17] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:05:17] [INFO] [Player.Grenade] Step 1 complete! Drag: (207.39673, -34.730957)
[00:05:17] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:05:17] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:05:18] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:05:18] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:05:18] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:05:18] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:05:19] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:05:19] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2024.3184, 168.9392) (2031,4 px/s), Swing distance: 253,2
[00:05:19] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,083261915
[00:05:19] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2024.318, 168.9392), Swing: 253.2, Transfer: 1.00, Final speed: 1070.6
[00:05:19] [INFO] [Player.Grenade] Thrown! Velocity: 2031,4, Swing: 253,2
[00:05:19] [INFO] [Player.Grenade] State reset to IDLE
[00:05:20] [INFO] [Player.Grenade] Player rotation restored to 0
[00:05:20] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:05:20] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:05:20] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:05:20] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:05:20] [ENEMY] [Enemy1] Death animation component initialized
[00:05:20] [ENEMY] [Enemy2] Death animation component initialized
[00:05:20] [ENEMY] [Enemy3] Death animation component initialized
[00:05:20] [ENEMY] [Enemy4] Death animation component initialized
[00:05:20] [ENEMY] [Enemy5] Death animation component initialized
[00:05:20] [ENEMY] [Enemy6] Death animation component initialized
[00:05:20] [ENEMY] [Enemy7] Death animation component initialized
[00:05:20] [ENEMY] [Enemy8] Death animation component initialized
[00:05:20] [ENEMY] [Enemy9] Death animation component initialized
[00:05:20] [ENEMY] [Enemy10] Death animation component initialized
[00:05:20] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:05:20] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:05:20] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:05:20] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:05:20] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:05:20] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:05:20] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:05:20] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:05:20] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:05:20] [INFO] [ScoreManager] Level started with 10 enemies
[00:05:20] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 120)
[00:05:20] [ENEMY] [Enemy1] Registered as sound listener
[00:05:20] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:05:20] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 121)
[00:05:20] [ENEMY] [Enemy2] Registered as sound listener
[00:05:20] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:05:20] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 122)
[00:05:20] [ENEMY] [Enemy3] Registered as sound listener
[00:05:20] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:05:20] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 123)
[00:05:20] [ENEMY] [Enemy4] Registered as sound listener
[00:05:20] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:05:20] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 124)
[00:05:20] [ENEMY] [Enemy5] Registered as sound listener
[00:05:20] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:05:20] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 125)
[00:05:20] [ENEMY] [Enemy6] Registered as sound listener
[00:05:20] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:05:20] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 126)
[00:05:20] [ENEMY] [Enemy7] Registered as sound listener
[00:05:20] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:05:20] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 127)
[00:05:20] [ENEMY] [Enemy8] Registered as sound listener
[00:05:20] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:05:20] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 128)
[00:05:20] [ENEMY] [Enemy9] Registered as sound listener
[00:05:20] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:05:20] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 129)
[00:05:20] [ENEMY] [Enemy10] Registered as sound listener
[00:05:20] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:05:20] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:05:20] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:05:20] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:05:20] [INFO] [LastChance] Found player: Player
[00:05:20] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:05:20] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:05:20] [INFO] [LastChance] Connected to player Died signal (C#)
[00:05:20] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:05:20] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:05:20] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:05:20] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:05:20] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:05:20] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (619.45807, 1395.603)
[00:05:20] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:05:20] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:05:20] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:05:20] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:05:20] [INFO] [Player.Grenade] Step 1 complete! Drag: (592.19855, 70.79773)
[00:05:21] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:05:21] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:05:21] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:05:21] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:05:21] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:05:21] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:05:22] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:05:22] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (451.16705, 800.01074) (918,5 px/s), Swing distance: 169,4
[00:05:22] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,0573051
[00:05:22] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (451.1671, 800.0107), Swing: 169.4, Transfer: 1.00, Final speed: 484.1
[00:05:22] [INFO] [Player.Grenade] Thrown! Velocity: 918,5, Swing: 169,4
[00:05:22] [INFO] [Player.Grenade] State reset to IDLE
[00:05:22] [INFO] [Player.Grenade] Player rotation restored to 0
[00:05:22] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:05:22] [INFO] [GrenadeBase] Collision detected with LobbyDivider_Right (type: StaticBody2D)
[00:05:22] [INFO] [GrenadeBase] Grenade landed at (540.394, 1362.715)
[00:05:22] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:05:22] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:05:22] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:05:22] [ENEMY] [Enemy1] Death animation component initialized
[00:05:22] [ENEMY] [Enemy2] Death animation component initialized
[00:05:22] [ENEMY] [Enemy3] Death animation component initialized
[00:05:22] [ENEMY] [Enemy4] Death animation component initialized
[00:05:22] [ENEMY] [Enemy5] Death animation component initialized
[00:05:22] [ENEMY] [Enemy6] Death animation component initialized
[00:05:22] [ENEMY] [Enemy7] Death animation component initialized
[00:05:22] [ENEMY] [Enemy8] Death animation component initialized
[00:05:22] [ENEMY] [Enemy9] Death animation component initialized
[00:05:22] [ENEMY] [Enemy10] Death animation component initialized
[00:05:22] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:05:22] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:05:22] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:05:22] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:05:22] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:05:22] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:05:22] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:05:22] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:05:22] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:05:22] [INFO] [ScoreManager] Level started with 10 enemies
[00:05:22] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 130)
[00:05:22] [ENEMY] [Enemy1] Registered as sound listener
[00:05:22] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:05:22] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 131)
[00:05:22] [ENEMY] [Enemy2] Registered as sound listener
[00:05:22] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:05:22] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 132)
[00:05:22] [ENEMY] [Enemy3] Registered as sound listener
[00:05:22] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:05:22] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 133)
[00:05:22] [ENEMY] [Enemy4] Registered as sound listener
[00:05:22] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:05:22] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 134)
[00:05:22] [ENEMY] [Enemy5] Registered as sound listener
[00:05:22] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:05:22] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 135)
[00:05:22] [ENEMY] [Enemy6] Registered as sound listener
[00:05:22] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:05:22] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 136)
[00:05:22] [ENEMY] [Enemy7] Registered as sound listener
[00:05:22] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:05:22] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 137)
[00:05:22] [ENEMY] [Enemy8] Registered as sound listener
[00:05:22] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:05:22] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 138)
[00:05:22] [ENEMY] [Enemy9] Registered as sound listener
[00:05:22] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:05:22] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 139)
[00:05:22] [ENEMY] [Enemy10] Registered as sound listener
[00:05:22] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:05:22] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:05:22] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:05:22] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:05:22] [INFO] [LastChance] Found player: Player
[00:05:22] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:05:22] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:05:22] [INFO] [LastChance] Connected to player Died signal (C#)
[00:05:22] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:05:22] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:05:22] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:05:22] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:05:22] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:05:23] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (893.5988, 1498.4602)
[00:05:23] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:05:23] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:05:23] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:05:23] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:05:23] [INFO] [Player.Grenade] Step 1 complete! Drag: (358.3853, 14.025879)
[00:05:23] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:05:23] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:05:23] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:05:23] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:05:23] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:05:23] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:05:24] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:05:24] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (243.93181, 1173.469) (1198,6 px/s), Swing distance: 158,8
[00:05:24] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,3658427
[00:05:24] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (243.9318, 1173.469), Swing: 158.8, Transfer: 0.98, Final speed: 619.2
[00:05:24] [INFO] [Player.Grenade] Thrown! Velocity: 1198,6, Swing: 158,8
[00:05:24] [INFO] [Player.Grenade] State reset to IDLE
[00:05:24] [INFO] [Player.Grenade] Player rotation restored to 0
[00:05:24] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:05:24] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:05:24] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:05:24] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:05:24] [ENEMY] [Enemy1] Death animation component initialized
[00:05:24] [ENEMY] [Enemy2] Death animation component initialized
[00:05:24] [ENEMY] [Enemy3] Death animation component initialized
[00:05:24] [ENEMY] [Enemy4] Death animation component initialized
[00:05:24] [ENEMY] [Enemy5] Death animation component initialized
[00:05:24] [ENEMY] [Enemy6] Death animation component initialized
[00:05:24] [ENEMY] [Enemy7] Death animation component initialized
[00:05:24] [ENEMY] [Enemy8] Death animation component initialized
[00:05:24] [ENEMY] [Enemy9] Death animation component initialized
[00:05:24] [ENEMY] [Enemy10] Death animation component initialized
[00:05:24] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:05:24] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:05:24] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:05:24] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:05:24] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:05:24] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:05:24] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:05:24] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:05:24] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:05:24] [INFO] [ScoreManager] Level started with 10 enemies
[00:05:24] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 140)
[00:05:24] [ENEMY] [Enemy1] Registered as sound listener
[00:05:24] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:05:24] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 141)
[00:05:24] [ENEMY] [Enemy2] Registered as sound listener
[00:05:24] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:05:24] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 142)
[00:05:24] [ENEMY] [Enemy3] Registered as sound listener
[00:05:24] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:05:24] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 143)
[00:05:24] [ENEMY] [Enemy4] Registered as sound listener
[00:05:24] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:05:24] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 144)
[00:05:24] [ENEMY] [Enemy5] Registered as sound listener
[00:05:24] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:05:24] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 145)
[00:05:24] [ENEMY] [Enemy6] Registered as sound listener
[00:05:24] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:05:24] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 146)
[00:05:24] [ENEMY] [Enemy7] Registered as sound listener
[00:05:24] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:05:24] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 147)
[00:05:24] [ENEMY] [Enemy8] Registered as sound listener
[00:05:24] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:05:24] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 148)
[00:05:24] [ENEMY] [Enemy9] Registered as sound listener
[00:05:24] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:05:24] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 149)
[00:05:24] [ENEMY] [Enemy10] Registered as sound listener
[00:05:24] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:05:24] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:05:24] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:05:24] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:05:24] [INFO] [LastChance] Found player: Player
[00:05:24] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:05:24] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:05:24] [INFO] [LastChance] Connected to player Died signal (C#)
[00:05:25] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:05:25] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:05:25] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:05:25] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:05:25] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:05:25] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (608.73016, 1532.5232)
[00:05:25] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:05:25] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:05:25] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:05:25] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:05:25] [INFO] [Player.Grenade] Step 1 complete! Drag: (621.5639, -72.80151)
[00:05:25] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:05:25] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:05:25] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:05:25] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:05:25] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:05:25] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:05:26] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:05:26] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2660.0474, -7.857019) (2660,1 px/s), Swing distance: 263,1
[00:05:26] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,0029537054
[00:05:26] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2660.047, -7.857019), Swing: 263.1, Transfer: 1.00, Final speed: 1352.8
[00:05:26] [INFO] [Player.Grenade] Thrown! Velocity: 2660,1, Swing: 263,1
[00:05:26] [INFO] [Player.Grenade] State reset to IDLE
[00:05:26] [INFO] [Player.Grenade] Player rotation restored to 0
[00:05:27] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:05:27] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:05:27] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:05:27] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:05:27] [ENEMY] [Enemy1] Death animation component initialized
[00:05:27] [ENEMY] [Enemy2] Death animation component initialized
[00:05:27] [ENEMY] [Enemy3] Death animation component initialized
[00:05:27] [ENEMY] [Enemy4] Death animation component initialized
[00:05:27] [ENEMY] [Enemy5] Death animation component initialized
[00:05:27] [ENEMY] [Enemy6] Death animation component initialized
[00:05:27] [ENEMY] [Enemy7] Death animation component initialized
[00:05:27] [ENEMY] [Enemy8] Death animation component initialized
[00:05:27] [ENEMY] [Enemy9] Death animation component initialized
[00:05:27] [ENEMY] [Enemy10] Death animation component initialized
[00:05:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:05:27] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:05:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:05:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:05:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:05:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:05:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:05:27] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:05:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:05:27] [INFO] [ScoreManager] Level started with 10 enemies
[00:05:27] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 150)
[00:05:27] [ENEMY] [Enemy1] Registered as sound listener
[00:05:27] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:05:27] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 151)
[00:05:27] [ENEMY] [Enemy2] Registered as sound listener
[00:05:27] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:05:27] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 152)
[00:05:27] [ENEMY] [Enemy3] Registered as sound listener
[00:05:27] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:05:27] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 153)
[00:05:27] [ENEMY] [Enemy4] Registered as sound listener
[00:05:27] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:05:27] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 154)
[00:05:27] [ENEMY] [Enemy5] Registered as sound listener
[00:05:27] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:05:27] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 155)
[00:05:27] [ENEMY] [Enemy6] Registered as sound listener
[00:05:27] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:05:27] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 156)
[00:05:27] [ENEMY] [Enemy7] Registered as sound listener
[00:05:27] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:05:27] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 157)
[00:05:27] [ENEMY] [Enemy8] Registered as sound listener
[00:05:27] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:05:27] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 158)
[00:05:27] [ENEMY] [Enemy9] Registered as sound listener
[00:05:27] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:05:27] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 159)
[00:05:27] [ENEMY] [Enemy10] Registered as sound listener
[00:05:27] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:05:27] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:05:27] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:05:27] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:05:27] [INFO] [LastChance] Found player: Player
[00:05:27] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:05:27] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:05:27] [INFO] [LastChance] Connected to player Died signal (C#)
[00:05:27] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:05:27] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:05:27] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:05:28] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:05:28] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:05:28] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (908.54083, 1342.8386)
[00:05:28] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:05:28] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:05:28] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:05:28] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:05:28] [INFO] [Player.Grenade] Step 1 complete! Drag: (367.6723, 10.686401)
[00:05:28] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:05:28] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:05:28] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:05:28] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:05:28] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:05:28] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:05:28] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:05:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=159
[00:05:29] [INFO] [SoundPropagation] Cleaned up 149 invalid listeners
[00:05:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:05:29] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:05:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=5148105508176, bullet_pos=(41.69983, 702.3934)
[00:05:29] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:05:29] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:05:29] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:05:29] [INFO] [Bullet] Starting wall penetration at (41.69983, 702.3934)
[00:05:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.508674621582
[00:05:29] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:29] [INFO] [Bullet] Exiting penetration at (4.46851, 674.2579) after traveling 41.6666717529297 pixels through wall
[00:05:29] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:05:29] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:05:30] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:05:30] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (324.6958, -173.7305) (368,3 px/s), Swing distance: 587,0
[00:05:30] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,4912977
[00:05:30] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (324.6958, -173.7305), Swing: 587.0, Transfer: 1.00, Final speed: 194.1
[00:05:30] [INFO] [Player.Grenade] Thrown! Velocity: 368,3, Swing: 587,0
[00:05:30] [INFO] [Player.Grenade] State reset to IDLE
[00:05:30] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:05:30] [INFO] [Player.Grenade] Player rotation restored to 0
[00:05:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:05:30] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:05:30] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:05:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:05:30] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:05:30] [INFO] [LastChance] Threat detected: Bullet
[00:05:30] [INFO] [LastChance] Not in hard mode - effect disabled
[00:05:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:05:30] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:05:30] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:05:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:05:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:05:30] [INFO] [GrenadeBase] Grenade landed at (540.4542, 687.1551)
[00:05:30] [INFO] [LastChance] Threat detected: Bullet
[00:05:30] [INFO] [LastChance] Not in hard mode - effect disabled
[00:05:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:05:30] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:05:30] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:05:30] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:05:30] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:05:30] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:05:30] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:05:30] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:05:30] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:05:30] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:05:30] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:05:30] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:05:31] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:05:31] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:05:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(446.6193, 889.1318), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[00:05:33] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:05:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(446.61926, 889.13184), shooter_id=5148927593963, bullet_pos=(496.70267, 965.9075)
[00:05:33] [INFO] [Bullet] Using shooter_position, distance=91,66704
[00:05:33] [INFO] [Bullet] Distance to wall: 91,66704 (6,2417774% of viewport)
[00:05:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:33] [INFO] [Bullet] Starting wall penetration at (496.70267, 965.9075)
[00:05:33] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:05:33] [INFO] [Bullet] Exiting penetration at (501.711, 973.585) after traveling 4,1666665 pixels through wall
[00:05:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:33] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[00:05:33] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:05:33] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:05:33] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:05:33] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:05:33] [ENEMY] [Enemy10] FLANKING started: target=(617.4119, 842.9517), side=left, pos=(1022.668, 1432.257)
[00:05:33] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:05:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(420.0031, 920.2927), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[00:05:33] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[00:05:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.7794, 947.5164), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[00:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(365.5557, 974.7401), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:34] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[00:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(420.00308, 920.29266), shooter_id=5148927593963, bullet_pos=(894.4753, 1584.989)
[00:05:34] [INFO] [Bullet] Using shooter_position, distance=816,66705
[00:05:34] [INFO] [Bullet] Distance to wall: 816,66705 (55,60836% of viewport)
[00:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(338.332, 1001.964), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:34] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[00:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(392.7794, 947.51636), shooter_id=5148927593963, bullet_pos=(902.3399, 1585.7103)
[00:05:34] [INFO] [Bullet] Using shooter_position, distance=816,6661
[00:05:34] [INFO] [Bullet] Distance to wall: 816,6661 (55,608295% of viewport)
[00:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(311.1083, 1029.187), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:34] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[00:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(365.5557, 974.74005), shooter_id=5148927593963, bullet_pos=(907.6732, 1585.5221)
[00:05:34] [INFO] [Bullet] Using shooter_position, distance=816,6677
[00:05:34] [INFO] [Bullet] Distance to wall: 816,6677 (55,60841% of viewport)
[00:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(283.8846, 1056.411), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[00:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(933.1798, 1388.566), source=ENEMY (Enemy10), range=1469, listeners=10
[00:05:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(420.00308, 920.29266), shooter_id=5148927593963, bullet_pos=(476.17963, 2072.6726)
[00:05:34] [INFO] [Bullet] Using shooter_position, distance=1153,7483
[00:05:34] [INFO] [Bullet] Distance to wall: 1153,7483 (78,560844% of viewport)
[00:05:34] [INFO] [Bullet] Distance-based penetration chance: 55,012344%
[00:05:34] [INFO] [Bullet] Starting wall penetration at (476.17963, 2072.6726)
[00:05:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9,683733
[00:05:34] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:34] [INFO] [Bullet] Exiting penetration at (449.8666, 2103.3503) after traveling 35,416668 pixels through wall
[00:05:34] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(338.332, 1001.96375), shooter_id=5148927593963, bullet_pos=(910.6199, 1460.5092)
[00:05:34] [INFO] [Bullet] Using shooter_position, distance=733,33295
[00:05:34] [INFO] [Bullet] Distance to wall: 733,33295 (49,93399% of viewport)
[00:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(256.6609, 1083.634), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[00:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(392.7794, 947.51636), shooter_id=5148927593963, bullet_pos=(537.2843, 2070.771)
[00:05:34] [INFO] [Bullet] Using shooter_position, distance=1132,5116
[00:05:34] [INFO] [Bullet] Distance to wall: 1132,5116 (77,1148% of viewport)
[00:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(932.2826, 1387.046), source=ENEMY (Enemy10), range=1469, listeners=10
[00:05:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(311.1083, 1029.1874), shooter_id=5148927593963, bullet_pos=(889.12854, 1409.0502)
[00:05:34] [INFO] [Bullet] Using shooter_position, distance=691,667
[00:05:34] [INFO] [Bullet] Distance to wall: 691,667 (47,096878% of viewport)
[00:05:34] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[00:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(229.4373, 1110.857), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[00:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(935.5516, 1388.288), source=ENEMY (Enemy10), range=1469, listeners=10
[00:05:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(338.332, 1001.96375), shooter_id=5148927593963, bullet_pos=(510.86417, 1762.221)
[00:05:34] [INFO] [Bullet] Using shooter_position, distance=779,5886
[00:05:34] [INFO] [Bullet] Distance to wall: 779,5886 (53,083622% of viewport)
[00:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(392.7794, 947.51636), shooter_id=5148927593963, bullet_pos=(390.58826, 1837.0581)
[00:05:34] [INFO] [Bullet] Using shooter_position, distance=889,54443
[00:05:34] [INFO] [Bullet] Distance to wall: 889,54443 (60,570717% of viewport)
[00:05:34] [INFO] [Bullet] Distance-based penetration chance: 76,00083%
[00:05:34] [INFO] [Bullet] Starting wall penetration at (390.58826, 1837.0581)
[00:05:34] [ENEMY] [Enemy10] Hit taken, health: 1/2
[00:05:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3,157488
[00:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(365.5557, 974.74005), shooter_id=5148927593963, bullet_pos=(381.64096, 2067.3245)
[00:05:34] [INFO] [Bullet] Using shooter_position, distance=1092,7029
[00:05:34] [INFO] [Bullet] Distance to wall: 1092,7029 (74,40415% of viewport)
[00:05:34] [INFO] [Bullet] Max penetration distance exceeded: 54,187496 >= 48
[00:05:34] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:34] [INFO] [Bullet] Exiting penetration at (359.12253, 1786.9276) after traveling 54,187496 pixels through wall
[00:05:34] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[00:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(204.5472, 1135.747), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[00:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(952.6168, 1399.267), source=ENEMY (Enemy10), range=1469, listeners=10
[00:05:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(869.5005, 1364.74), shooter_id=5148105508176, bullet_pos=(38.64285, 939.5499)
[00:05:34] [INFO] [Bullet] Using shooter_position, distance=933.333251953125
[00:05:34] [INFO] [Bullet] Distance to wall: 933.333251953125 (63.5523773740037% of viewport)
[00:05:34] [INFO] [Bullet] Distance-based penetration chance: 72.5222263969957%
[00:05:34] [INFO] [Bullet] Starting wall penetration at (38.64285, 939.5499)
[00:05:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30.8711776733398
[00:05:34] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:34] [INFO] [Bullet] Exiting penetration at (4.518343, 922.0867) after traveling 33.3333358764648 pixels through wall
[00:05:34] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(179.6571, 1160.638), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[00:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(256.66092, 1083.634), shooter_id=5148927593963, bullet_pos=(1053.0178, 1380.8131)
[00:05:34] [INFO] [Bullet] Using shooter_position, distance=849,9999
[00:05:34] [INFO] [Bullet] Distance to wall: 849,9999 (57,87806% of viewport)
[00:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(867.4795, 1366.461), shooter_id=5148105508176, bullet_pos=(39.03314, 993.9745)
[00:05:34] [INFO] [Bullet] Using shooter_position, distance=908.333251953125
[00:05:34] [INFO] [Bullet] Distance to wall: 908.333251953125 (61.8500814030573% of viewport)
[00:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(338.332, 1001.96375), shooter_id=5148927593963, bullet_pos=(838.54767, 2062.5918)
[00:05:34] [INFO] [Bullet] Using shooter_position, distance=1172,6669
[00:05:34] [INFO] [Bullet] Distance to wall: 1172,6669 (79,849045% of viewport)
[00:05:34] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[00:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(365.5557, 974.74005), shooter_id=5148927593963, bullet_pos=(57.490143, 1772.0132)
[00:05:34] [INFO] [Bullet] Using shooter_position, distance=854,7215
[00:05:34] [INFO] [Bullet] Distance to wall: 854,7215 (58,199562% of viewport)
[00:05:34] [INFO] [Bullet] Distance-based penetration chance: 78,76718%
[00:05:34] [INFO] [Bullet] Starting wall penetration at (57.490143, 1772.0132)
[00:05:34] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[00:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(154.7669, 1185.529), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[00:05:34] [INFO] [GrenadeBase] EXPLODED at (543.6517, 685.4443)!
[00:05:34] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(543.6517, 685.4443), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=10
[00:05:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:05:34] [ENEMY] [Enemy2] Status effect: BLINDED applied
[00:05:34] [ENEMY] [Enemy2] Status effect: STUNNED applied
[00:05:34] [ENEMY] [Enemy3] Status effect: BLINDED applied
[00:05:34] [ENEMY] [Enemy3] Status effect: STUNNED applied
[00:05:35] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:05:35] [INFO] [Bullet] Exiting penetration at (35.99098, 1752.4268) after traveling 24,083334 pixels through wall
[00:05:35] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[00:05:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(229.43733, 1110.8573), shooter_id=5148927593963, bullet_pos=(1006.4036, 1388.2526)
[00:05:35] [INFO] [Bullet] Using shooter_position, distance=824,9999
[00:05:35] [INFO] [Bullet] Distance to wall: 824,9999 (56,175762% of viewport)
[00:05:35] [INFO] [Bullet] Distance-based penetration chance: 81,12828%
[00:05:35] [INFO] [Bullet] Starting wall penetration at (1006.4036, 1388.2526)
[00:05:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(229.43733, 1110.8573), shooter_id=5148927593963, bullet_pos=(1011.1125, 1389.9337)
[00:05:35] [INFO] [Bullet] Using shooter_position, distance=829,9998
[00:05:35] [INFO] [Bullet] Distance to wall: 829,9998 (56,51622% of viewport)
[00:05:35] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:05:35] [INFO] [Bullet] Exiting penetration at (979.57935, 1400.74) after traveling 28,333336 pixels through wall
[00:05:35] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:05:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(869.8409, 1370.799), shooter_id=5148105508176, bullet_pos=(67.63744, 927.2372)
[00:05:35] [INFO] [Bullet] Using shooter_position, distance=916.666442871094
[00:05:35] [INFO] [Bullet] Distance to wall: 916.666442871094 (62.4175036960487% of viewport)
[00:05:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(129.8768, 1210.419), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[00:05:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(204.5472, 1135.7474), shooter_id=5148927593963, bullet_pos=(985.13293, 1402.7888)
[00:05:35] [INFO] [Bullet] Using shooter_position, distance=825,0001
[00:05:35] [INFO] [Bullet] Distance to wall: 825,0001 (56,175774% of viewport)
[00:05:35] [INFO] [Bullet] Distance-based penetration chance: 81,128265%
[00:05:35] [INFO] [Bullet] Starting wall penetration at (985.13293, 1402.7888)
[00:05:35] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:05:35] [INFO] [Bullet] Exiting penetration at (1021.4026, 1415.1968) after traveling 33,333336 pixels through wall
[00:05:35] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(886.3132, 1384.028), shooter_id=5148105508176, bullet_pos=(57.35419, 1131.169)
[00:05:35] [INFO] [Bullet] Using shooter_position, distance=866.666442871094
[00:05:35] [INFO] [Bullet] Distance to wall: 866.666442871094 (59.0129117541559% of viewport)
[00:05:35] [INFO] [Bullet] Distance-based penetration chance: 77.8182696201514%
[00:05:35] [INFO] [Bullet] Starting wall penetration at (57.35419, 1131.169)
[00:05:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11.8258209228516
[00:05:35] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:35] [INFO] [Bullet] Exiting penetration at (20.68871, 1119.985) after traveling 33.3333358764648 pixels through wall
[00:05:35] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:05:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(179.65706, 1160.6381), shooter_id=5148927593963, bullet_pos=(900.44104, 1396.3055)
[00:05:35] [INFO] [Bullet] Using shooter_position, distance=758,3329
[00:05:35] [INFO] [Bullet] Distance to wall: 758,3329 (51,636284% of viewport)
[00:05:35] [INFO] [Bullet] Distance-based penetration chance: 86,42434%
[00:05:35] [INFO] [Bullet] Starting wall penetration at (900.44104, 1396.3055)
[00:05:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,172197
[00:05:35] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:35] [INFO] [Bullet] Exiting penetration at (936.8763, 1408.2184) after traveling 33,333336 pixels through wall
[00:05:35] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(869.8409, 1370.799), shooter_id=5148105508176, bullet_pos=(367.1376, 704.3527)
[00:05:35] [INFO] [Bullet] Using shooter_position, distance=834.782104492188
[00:05:35] [INFO] [Bullet] Distance to wall: 834.782104492188 (56.8418485238078% of viewport)
[00:05:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(154.76692, 1185.5287), shooter_id=5148927593963, bullet_pos=(985.2421, 1402.4329)
[00:05:35] [INFO] [Bullet] Using shooter_position, distance=858,33356
[00:05:35] [INFO] [Bullet] Distance to wall: 858,33356 (58,445515% of viewport)
[00:05:35] [INFO] [Bullet] Distance-based penetration chance: 78,48024%
[00:05:35] [INFO] [Bullet] Starting wall penetration at (985.2421, 1402.4329)
[00:05:35] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:05:35] [INFO] [Bullet] Exiting penetration at (1022.3313, 1412.1199) after traveling 33,333332 pixels through wall
[00:05:35] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(869.8409, 1370.799), shooter_id=5148105508176, bullet_pos=(501.2804, 814.5204)
[00:05:35] [INFO] [Bullet] Using shooter_position, distance=667.294982910156
[00:05:35] [INFO] [Bullet] Distance to wall: 667.294982910156 (45.4373424336278% of viewport)
[00:05:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(129.87679, 1210.4193), shooter_id=5148927593963, bullet_pos=(897.34326, 1404.6665)
[00:05:35] [INFO] [Bullet] Using shooter_position, distance=791,6671
[00:05:35] [INFO] [Bullet] Distance to wall: 791,6671 (53,90607% of viewport)
[00:05:35] [INFO] [Bullet] Distance-based penetration chance: 83,77625%
[00:05:35] [INFO] [Bullet] Starting wall penetration at (897.34326, 1404.6665)
[00:05:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,214447
[00:05:35] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:35] [INFO] [Bullet] Exiting penetration at (934.5048, 1414.0721) after traveling 33,333332 pixels through wall
[00:05:35] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:35] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[00:05:35] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[00:05:35] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[00:05:35] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[00:05:35] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[00:05:35] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[00:05:35] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[00:05:35] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[00:05:35] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[00:05:35] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[00:05:35] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[00:05:35] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(80.06665, 1356.962), source=PLAYER (Player), range=900, listeners=10
[00:05:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=4
[00:05:35] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1031), can_see=false
[00:05:35] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=760), can_see=false
[00:05:35] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1907), can_see=false
[00:05:35] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=2078), can_see=false
[00:05:35] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1598), can_see=false
[00:05:35] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1822), can_see=false
[00:05:35] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2029), can_see=false
[00:05:35] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=884), can_see=false
[00:05:35] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[00:05:36] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[00:05:36] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[00:05:36] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[00:05:36] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[00:05:36] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[00:05:36] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[00:05:36] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[00:05:36] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[00:05:36] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[00:05:36] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[00:05:36] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[00:05:36] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[00:05:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06665, 1395.896), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[00:05:36] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[00:05:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06502, 1399.895), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[00:05:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06496, 1411.976), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[00:05:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.06665, 1395.8955), shooter_id=5148927593963, bullet_pos=(158.60031, 708.7012)
[00:05:36] [INFO] [Bullet] Using shooter_position, distance=691,66724
[00:05:36] [INFO] [Bullet] Distance to wall: 691,66724 (47,096897% of viewport)
[00:05:36] [INFO] [Bullet] Distance-based penetration chance: 91,72029%
[00:05:36] [INFO] [Bullet] Starting wall penetration at (158.60031, 708.7012)
[00:05:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,497433
[00:05:36] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:36] [INFO] [Bullet] Exiting penetration at (162.95279, 670.6157) after traveling 33,333332 pixels through wall
[00:05:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06496, 1448.611), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[00:05:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.06502, 1399.895), shooter_id=5148927593963, bullet_pos=(437.7521, 693.6399)
[00:05:36] [INFO] [Bullet] Using shooter_position, distance=791,6668
[00:05:36] [INFO] [Bullet] Distance to wall: 791,6668 (53,90605% of viewport)
[00:05:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06496, 1492.611), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[00:05:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.06502, 1399.895), shooter_id=5148927593963, bullet_pos=(506.55356, 854.5478)
[00:05:37] [INFO] [Bullet] Using shooter_position, distance=692,31213
[00:05:37] [INFO] [Bullet] Distance to wall: 692,31213 (47,14081% of viewport)
[00:05:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1411.976), shooter_id=5148927593963, bullet_pos=(453.23526, 713.7776)
[00:05:37] [INFO] [Bullet] Using shooter_position, distance=791,66724
[00:05:37] [INFO] [Bullet] Distance to wall: 791,66724 (53,90608% of viewport)
[00:05:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1411.976), shooter_id=5148927593963, bullet_pos=(500.36407, 852.66583)
[00:05:37] [INFO] [Bullet] Using shooter_position, distance=699,62787
[00:05:37] [INFO] [Bullet] Distance to wall: 699,62787 (47,63895% of viewport)
[00:05:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06496, 1521.375), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[00:05:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1448.6106), shooter_id=5148927593963, bullet_pos=(417.80264, 695.9102)
[00:05:37] [INFO] [Bullet] Using shooter_position, distance=824,99976
[00:05:37] [INFO] [Bullet] Distance to wall: 824,99976 (56,17575% of viewport)
[00:05:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06496, 1537.233), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[00:05:37] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[00:05:37] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[00:05:37] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:05:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06496, 1539.438), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[00:05:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.06502, 1399.895), shooter_id=5148927593963, bullet_pos=(281.59445, 1392.3984)
[00:05:37] [INFO] [Bullet] Using shooter_position, distance=201,66882
[00:05:37] [INFO] [Bullet] Distance to wall: 201,66882 (13,732001% of viewport)
[00:05:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:37] [INFO] [Bullet] Starting wall penetration at (281.59445, 1392.3984)
[00:05:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7,8363743
[00:05:37] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:37] [INFO] [Bullet] Exiting penetration at (270.37222, 1419.2295) after traveling 24,083334 pixels through wall
[00:05:37] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[00:05:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1492.6108), shooter_id=5148927593963, bullet_pos=(415.78644, 702.6567)
[00:05:37] [INFO] [Bullet] Using shooter_position, distance=858,33356
[00:05:37] [INFO] [Bullet] Distance to wall: 858,33356 (58,445515% of viewport)
[00:05:37] [INFO] [Bullet] Distance-based penetration chance: 78,48024%
[00:05:37] [INFO] [Bullet] Penetration failed (distance roll)
[00:05:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1411.976), shooter_id=5148927593963, bullet_pos=(301.88794, 1400.8418)
[00:05:37] [INFO] [Bullet] Using shooter_position, distance=222,10222
[00:05:37] [INFO] [Bullet] Distance to wall: 222,10222 (15,123349% of viewport)
[00:05:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06496, 1527.989), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[00:05:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1521.3752), shooter_id=5148927593963, bullet_pos=(426.827, 699.89685)
[00:05:37] [INFO] [Bullet] Using shooter_position, distance=891,66736
[00:05:37] [INFO] [Bullet] Distance to wall: 891,66736 (60,71527% of viewport)
[00:05:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1521.3752), shooter_id=5148927593963, bullet_pos=(508.40887, 830.2176)
[00:05:37] [INFO] [Bullet] Using shooter_position, distance=813,1281
[00:05:37] [INFO] [Bullet] Distance to wall: 813,1281 (55,367393% of viewport)
[00:05:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06496, 1500.798), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[00:05:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1537.233), shooter_id=5148927593963, bullet_pos=(448.39673, 688.7307)
[00:05:37] [INFO] [Bullet] Using shooter_position, distance=924,99976
[00:05:37] [INFO] [Bullet] Distance to wall: 924,99976 (62,984936% of viewport)
[00:05:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06496, 1462.475), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[00:05:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1539.4375), shooter_id=5148927593963, bullet_pos=(453.78964, 711.5488)
[00:05:37] [INFO] [Bullet] Using shooter_position, distance=908,3335
[00:05:37] [INFO] [Bullet] Distance to wall: 908,3335 (61,8501% of viewport)
[00:05:37] [INFO] [Bullet] Distance-based penetration chance: 74,50822%
[00:05:37] [INFO] [Bullet] Penetration failed (distance roll)
[00:05:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1537.233), shooter_id=5148927593963, bullet_pos=(499.81354, 900.06604)
[00:05:37] [INFO] [Bullet] Using shooter_position, distance=763,00104
[00:05:37] [INFO] [Bullet] Distance to wall: 763,00104 (51,954144% of viewport)
[00:05:37] [INFO] [Bullet] Distance-based penetration chance: 86,053505%
[00:05:37] [INFO] [Bullet] Starting wall penetration at (499.81354, 900.06604)
[00:05:37] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:05:37] [INFO] [Bullet] Exiting penetration at (509.368, 939.33716) after traveling 35,416668 pixels through wall
[00:05:37] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:05:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06496, 1401.975), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[00:05:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1521.3752), shooter_id=5148927593963, bullet_pos=(271.93488, 1389.3514)
[00:05:38] [INFO] [Bullet] Using shooter_position, distance=232,90414
[00:05:38] [INFO] [Bullet] Distance to wall: 232,90414 (15,858872% of viewport)
[00:05:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1500.7976), shooter_id=5148927593963, bullet_pos=(483.43298, 696.2509)
[00:05:38] [INFO] [Bullet] Using shooter_position, distance=900,0006
[00:05:38] [INFO] [Bullet] Distance to wall: 900,0006 (61,2827% of viewport)
[00:05:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1462.4753), shooter_id=5148927593963, bullet_pos=(512.42413, 819.2877)
[00:05:38] [INFO] [Bullet] Using shooter_position, distance=774,9998
[00:05:38] [INFO] [Bullet] Distance to wall: 774,9998 (52,771164% of viewport)
[00:05:38] [INFO] [Bullet] Distance-based penetration chance: 85,10031%
[00:05:38] [INFO] [Bullet] Starting wall penetration at (512.42413, 819.2877)
[00:05:38] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,91707
[00:05:38] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:38] [INFO] [Bullet] Exiting penetration at (538.4587, 780.5581) after traveling 41,666668 pixels through wall
[00:05:38] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(83.1446, 1353.75), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[00:05:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1500.7976), shooter_id=5148927593963, bullet_pos=(679.9468, 996.8888)
[00:05:38] [INFO] [Bullet] Using shooter_position, distance=783,4426
[00:05:38] [INFO] [Bullet] Distance to wall: 783,4426 (53,34605% of viewport)
[00:05:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1527.9886), shooter_id=5148927593963, bullet_pos=(780.15625, 43.083534)
[00:05:38] [INFO] [Bullet] Using shooter_position, distance=1641,6671
[00:05:38] [INFO] [Bullet] Distance to wall: 1641,6671 (111,784134% of viewport)
[00:05:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1401.9753), shooter_id=5148927593963, bullet_pos=(506.4798, 911.3939)
[00:05:38] [INFO] [Bullet] Using shooter_position, distance=649,9998
[00:05:38] [INFO] [Bullet] Distance to wall: 649,9998 (44,259686% of viewport)
[00:05:38] [INFO] [Bullet] Distance-based penetration chance: 95,030365%
[00:05:38] [INFO] [Bullet] Starting wall penetration at (506.4798, 911.3939)
[00:05:38] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,959932
[00:05:38] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:38] [INFO] [Bullet] Exiting penetration at (537.0942, 876.17267) after traveling 41,666668 pixels through wall
[00:05:38] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(111.8641, 1310.647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[00:05:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1500.7976), shooter_id=5148927593963, bullet_pos=(909.509, 711.5114)
[00:05:38] [INFO] [Bullet] Using shooter_position, distance=1144,9673
[00:05:38] [INFO] [Bullet] Distance to wall: 1144,9673 (77,96293% of viewport)
[00:05:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(83.1446, 1353.7504), shooter_id=5148927593963, bullet_pos=(407.61542, 696.1051)
[00:05:38] [INFO] [Bullet] Using shooter_position, distance=733,3339
[00:05:38] [INFO] [Bullet] Distance to wall: 733,3339 (49,934055% of viewport)
[00:05:38] [INFO] [Bullet] Distance-based penetration chance: 88,41027%
[00:05:38] [INFO] [Bullet] Starting wall penetration at (407.61542, 696.1051)
[00:05:38] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,628735
[00:05:38] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:38] [INFO] [Bullet] Exiting penetration at (428.26355, 654.255) after traveling 41,66667 pixels through wall
[00:05:38] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(146.8658, 1275.645), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[00:05:38] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[00:05:38] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[00:05:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(111.86405, 1310.6466), shooter_id=5148927593963, bullet_pos=(355.61322, 708.08)
[00:05:38] [INFO] [Bullet] Using shooter_position, distance=650,0001
[00:05:38] [INFO] [Bullet] Distance to wall: 650,0001 (44,259705% of viewport)
[00:05:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(146.86584, 1275.6453), shooter_id=5148927593963, bullet_pos=(316.73462, 691.50977)
[00:05:38] [INFO] [Bullet] Using shooter_position, distance=608,33356
[00:05:38] [INFO] [Bullet] Distance to wall: 608,33356 (41,42255% of viewport)
[00:05:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(205.2021, 1217.31), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=5
[00:05:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(111.86405, 1310.6466), shooter_id=5148927593963, bullet_pos=(511.67352, 991.7332)
[00:05:38] [INFO] [Bullet] Using shooter_position, distance=511,42288
[00:05:38] [INFO] [Bullet] Distance to wall: 511,42288 (34,823723% of viewport)
[00:05:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(111.86405, 1310.6466), shooter_id=5148927593963, bullet_pos=(510.04037, 996.459)
[00:05:38] [INFO] [Bullet] Using shooter_position, distance=507,20633
[00:05:38] [INFO] [Bullet] Distance to wall: 507,20633 (34,536613% of viewport)
[00:05:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(111.86405, 1310.6466), shooter_id=5148927593963, bullet_pos=(517.24585, 1026.1868)
[00:05:38] [INFO] [Bullet] Using shooter_position, distance=495,22906
[00:05:38] [INFO] [Bullet] Distance to wall: 495,22906 (33,721058% of viewport)
[00:05:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:38] [INFO] [Bullet] Starting wall penetration at (517.24585, 1026.1868)
[00:05:38] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32,83852
[00:05:38] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:38] [INFO] [Bullet] Exiting penetration at (524.45135, 1055.9144) after traveling 25,588541 pixels through wall
[00:05:38] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[00:05:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1500.7976), shooter_id=5148927593963, bullet_pos=(515.61475, 267.51428)
[00:05:38] [INFO] [Bullet] Using shooter_position, distance=1307,934
[00:05:38] [INFO] [Bullet] Distance to wall: 1307,934 (89,05963% of viewport)
[00:05:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(244.0929, 1178.419), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=5
[00:05:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1500.7976), shooter_id=5148927593963, bullet_pos=(647.3095, 61.805725)
[00:05:38] [INFO] [Bullet] Using shooter_position, distance=1546,7593
[00:05:38] [INFO] [Bullet] Distance to wall: 1546,7593 (105,32168% of viewport)
[00:05:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(282.9839, 1139.529), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=5
[00:05:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(244.09294, 1178.4193), shooter_id=5148927593963, bullet_pos=(487.5527, 713.2821)
[00:05:39] [INFO] [Bullet] Using shooter_position, distance=525,00024
[00:05:39] [INFO] [Bullet] Distance to wall: 525,00024 (35,748234% of viewport)
[00:05:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:39] [INFO] [Bullet] Starting wall penetration at (487.5527, 713.2821)
[00:05:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,825138
[00:05:39] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:39] [INFO] [Bullet] Exiting penetration at (509.19357, 671.9366) after traveling 41,666668 pixels through wall
[00:05:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(282.9839, 1139.5289), shooter_id=5148927593963, bullet_pos=(505.6184, 807.2128)
[00:05:39] [INFO] [Bullet] Using shooter_position, distance=400,00015
[00:05:39] [INFO] [Bullet] Distance to wall: 400,00015 (27,236748% of viewport)
[00:05:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(325.764, 1096.75), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[00:05:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(205.2021, 1217.3097), shooter_id=5148927593963, bullet_pos=(825.2672, 55.78854)
[00:05:39] [INFO] [Bullet] Using shooter_position, distance=1316,667
[00:05:39] [INFO] [Bullet] Distance to wall: 1316,667 (89,65428% of viewport)
[00:05:39] [INFO] [Bullet] Distance-based penetration chance: 42,070015%
[00:05:39] [INFO] [Bullet] Starting wall penetration at (825.2672, 55.78854)
[00:05:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,70068
[00:05:39] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:39] [INFO] [Bullet] Exiting penetration at (847.2442, 14.620708) after traveling 41,666668 pixels through wall
[00:05:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(282.9839, 1139.5289), shooter_id=5148927593963, bullet_pos=(419.12067, 688.7677)
[00:05:39] [INFO] [Bullet] Using shooter_position, distance=470,87036
[00:05:39] [INFO] [Bullet] Distance to wall: 470,87036 (32,062428% of viewport)
[00:05:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:39] [INFO] [Bullet] Starting wall penetration at (419.12067, 688.7677)
[00:05:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,466064
[00:05:39] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:39] [INFO] [Bullet] Exiting penetration at (395.28464, 656.128) after traveling 35,41667 pixels through wall
[00:05:39] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:05:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(362.6792, 1066.367), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[00:05:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(362.6792, 1066.3673), shooter_id=5148927593963, bullet_pos=(502.03247, 603.5589)
[00:05:39] [INFO] [Bullet] Using shooter_position, distance=483,33316
[00:05:39] [INFO] [Bullet] Distance to wall: 483,33316 (32,911045% of viewport)
[00:05:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(325.76398, 1096.7495), shooter_id=5148927593963, bullet_pos=(809.2724, 53.33188)
[00:05:39] [INFO] [Bullet] Using shooter_position, distance=1150,0002
[00:05:39] [INFO] [Bullet] Distance to wall: 1150,0002 (78,30563% of viewport)
[00:05:39] [INFO] [Bullet] Distance-based penetration chance: 55,3101%
[00:05:39] [INFO] [Bullet] Penetration failed (distance roll)
[00:05:39] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[00:05:40] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[00:05:40] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[00:05:40] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[00:05:40] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[00:05:40] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[00:05:40] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[00:05:40] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[00:05:40] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[00:05:40] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[00:05:40] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[00:05:40] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[00:05:40] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(547.0607, 1040.065), source=PLAYER (Player), range=900, listeners=10
[00:05:40] [ENEMY] [Enemy3] Heard player RELOAD at (547.0607, 1040.065), intensity=0.02, distance=318
[00:05:40] [ENEMY] [Enemy4] Heard player RELOAD at (547.0607, 1040.065), intensity=0.57, distance=66
[00:05:40] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[00:05:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[00:05:40] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=733), can_see=false
[00:05:40] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=true (dist=66), can_see=false
[00:05:40] [ENEMY] [Enemy4] Pursuing vulnerability sound at (547.0607, 1040.065), distance=66
[00:05:40] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1344), can_see=false
[00:05:40] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1522), can_see=false
[00:05:40] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1074), can_see=false
[00:05:40] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1414), can_see=false
[00:05:40] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1635), can_see=false
[00:05:40] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=567), can_see=false
[00:05:40] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[00:05:40] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(569.4194, 1040.064), source=PLAYER (Player), range=900, listeners=10
[00:05:40] [ENEMY] [Enemy3] Heard player RELOAD at (569.4194, 1040.064), intensity=0.03, distance=309
[00:05:40] [ENEMY] [Enemy4] Heard player RELOAD at (569.4194, 1040.064), intensity=0.18, distance=117
[00:05:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[00:05:40] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:05:40] [ENEMY] [Enemy10] Player vulnerable (reloading) - pursuing to attack (dist=530)
[00:05:40] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[00:05:40] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[00:05:40] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:05:40] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[00:05:40] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[00:05:40] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[00:05:40] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[00:05:40] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[00:05:40] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[00:05:40] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[00:05:40] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[00:05:40] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[00:05:40] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[00:05:40] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[00:05:40] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[00:05:40] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[00:05:40] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[00:05:41] [ENEMY] [Enemy4] Pursuing vulnerability sound at (569.4194, 1040.064), distance=279
[00:05:41] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[00:05:41] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[00:05:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(473.7496, 1046.066), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[00:05:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(915.5551, 1376.122), source=ENEMY (Enemy10), range=1469, listeners=10
[00:05:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:05:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(435.2496, 1046.066), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:41] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[00:05:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(473.74963, 1046.0656), shooter_id=5148927593963, bullet_pos=(397.19998, 696.00397)
[00:05:41] [INFO] [Bullet] Using shooter_position, distance=358,3336
[00:05:41] [INFO] [Bullet] Distance to wall: 358,3336 (24,399593% of viewport)
[00:05:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(883.5402, 1370.043), source=ENEMY (Enemy10), range=1469, listeners=10
[00:05:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:05:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(396.7496, 1046.066), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:41] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[00:05:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.24963, 1046.0656), shooter_id=5148927593963, bullet_pos=(406.35086, 688.8994)
[00:05:41] [INFO] [Bullet] Using shooter_position, distance=358,33334
[00:05:41] [INFO] [Bullet] Distance to wall: 358,33334 (24,399576% of viewport)
[00:05:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:41] [INFO] [LastChance] Threat detected: @Area2D@6240
[00:05:41] [INFO] [LastChance] Not in hard mode - effect disabled
[00:05:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:05:41] [ENEMY] [Enemy2] Status effect: STUNNED removed
[00:05:41] [ENEMY] [Enemy3] Status effect: STUNNED removed
[00:05:41] [ENEMY] [Enemy3] Pursuing vulnerability sound at (569.4194, 1040.064), distance=309
[00:05:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(396.74963, 1046.0656), shooter_id=5148927593963, bullet_pos=(512.14215, 893.02734)
[00:05:41] [INFO] [Bullet] Using shooter_position, distance=191,6667
[00:05:41] [INFO] [Bullet] Distance to wall: 191,6667 (13,05094% of viewport)
[00:05:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(864.8836, 1339.737), source=ENEMY (Enemy10), range=1469, listeners=10
[00:05:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:05:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.2496, 1046.066), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:41] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[00:05:41] [INFO] [LastChance] Threat detected: @Area2D@6242
[00:05:41] [INFO] [LastChance] Not in hard mode - effect disabled
[00:05:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:05:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(396.74963, 1046.0656), shooter_id=5148927593963, bullet_pos=(408.57184, 701.76965)
[00:05:41] [INFO] [Bullet] Using shooter_position, distance=344,4988
[00:05:41] [INFO] [Bullet] Distance to wall: 344,4988 (23,457558% of viewport)
[00:05:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(832.7484, 1320.738), source=ENEMY (Enemy10), range=1469, listeners=10
[00:05:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:05:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(321.0253, 1042.986), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:41] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[00:05:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(856.25, 1342.784), shooter_id=5148105508176, bullet_pos=(46.4716, 756.0475)
[00:05:41] [INFO] [Bullet] Using shooter_position, distance=1000.00042724609
[00:05:41] [INFO] [Bullet] Distance to wall: 1000.00042724609 (68.0918679298276% of viewport)
[00:05:41] [INFO] [Bullet] Distance-based penetration chance: 67.2261540818678%
[00:05:41] [INFO] [Bullet] Starting wall penetration at (46.4716, 756.0475)
[00:05:41] [INFO] [LastChance] Threat detected: Bullet
[00:05:41] [INFO] [LastChance] Not in hard mode - effect disabled
[00:05:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:05:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28.7956199645996
[00:05:41] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:41] [INFO] [Bullet] Exiting penetration at (8.681946, 728.6666) after traveling 41.6666679382324 pixels through wall
[00:05:41] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:05:41] [ENEMY] [Enemy4] Hit taken, health: 1/2
[00:05:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(800.1179, 1302.599), source=ENEMY (Enemy10), range=1469, listeners=10
[00:05:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:05:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(291.2717, 1027.181), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:41] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[00:05:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(823.7175, 1337.597), shooter_id=5148105508176, bullet_pos=(52.8704, 796.7361)
[00:05:41] [INFO] [Bullet] Using shooter_position, distance=941.666259765625
[00:05:41] [INFO] [Bullet] Distance to wall: 941.666259765625 (64.119787199007% of viewport)
[00:05:41] [INFO] [Bullet] Distance-based penetration chance: 71.8602482678251%
[00:05:41] [INFO] [Bullet] Penetration failed (distance roll)
[00:05:41] [INFO] [LastChance] Threat detected: @Area2D@6248
[00:05:41] [INFO] [LastChance] Not in hard mode - effect disabled
[00:05:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:05:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(769.3406, 1285.518), source=ENEMY (Enemy10), range=1469, listeners=10
[00:05:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[00:05:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(803.1742, 1311.15), shooter_id=5148105508176, bullet_pos=(49.54162, 850.3733)
[00:05:41] [INFO] [Bullet] Using shooter_position, distance=883.3330078125
[00:05:41] [INFO] [Bullet] Distance to wall: 883.3330078125 (60.1477688081268% of viewport)
[00:05:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(266.2125, 1002.7), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:41] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[00:05:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(291.2717, 1027.1814), shooter_id=5148927593963, bullet_pos=(508.0676, 832.0688)
[00:05:41] [INFO] [Bullet] Using shooter_position, distance=291,66656
[00:05:41] [INFO] [Bullet] Distance to wall: 291,66656 (19,860113% of viewport)
[00:05:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:41] [INFO] [Bullet] Starting wall penetration at (508.0676, 832.0688)
[00:05:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,898676
[00:05:41] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:41] [INFO] [Bullet] Exiting penetration at (536.5608, 806.4254) after traveling 33,333336 pixels through wall
[00:05:41] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:42] [INFO] [LastChance] Threat detected: @Area2D@6251
[00:05:42] [INFO] [LastChance] Not in hard mode - effect disabled
[00:05:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:05:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(739.7565, 1268.494), source=ENEMY (Enemy10), range=1469, listeners=10
[00:05:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[00:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(803.1742, 1311.15), shooter_id=5148105508176, bullet_pos=(230.1864, 705.3323)
[00:05:42] [INFO] [Bullet] Using shooter_position, distance=833.864562988281
[00:05:42] [INFO] [Bullet] Distance to wall: 833.864562988281 (56.7793714355968% of viewport)
[00:05:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(241.3223, 977.8094), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[00:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(266.21246, 1002.6996), shooter_id=5148927593963, bullet_pos=(520.9559, 800.881)
[00:05:42] [INFO] [Bullet] Using shooter_position, distance=324,99994
[00:05:42] [INFO] [Bullet] Distance to wall: 324,99994 (22,129845% of viewport)
[00:05:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:42] [ENEMY] [Enemy3] Hit taken, health: 1/2
[00:05:42] [INFO] [LastChance] Threat detected: @Area2D@6254
[00:05:42] [INFO] [LastChance] Not in hard mode - effect disabled
[00:05:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(737.1205, 1276.871), shooter_id=5148105508176, bullet_pos=(65.26607, 907.563)
[00:05:42] [INFO] [Bullet] Using shooter_position, distance=766.666259765625
[00:05:42] [INFO] [Bullet] Distance to wall: 766.666259765625 (52.2037154023823% of viewport)
[00:05:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(710.4435, 1251.006), source=ENEMY (Enemy10), range=1469, listeners=10
[00:05:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[00:05:42] [ENEMY] [Enemy4] Hit taken, health: 0/2
[00:05:42] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[00:05:42] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:05:42] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 9)
[00:05:42] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:05:42] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[00:05:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(216.4322, 952.9193), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:05:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=3
[00:05:42] [INFO] [LastChance] Threat detected: @Area2D@6258
[00:05:42] [INFO] [LastChance] Not in hard mode - effect disabled
[00:05:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(706.6539, 1259.001), shooter_id=5148105508176, bullet_pos=(39.44473, 881.3643)
[00:05:42] [INFO] [Bullet] Using shooter_position, distance=766.666381835938
[00:05:42] [INFO] [Bullet] Distance to wall: 766.666381835938 (52.2037237143744% of viewport)
[00:05:42] [INFO] [Bullet] Distance-based penetration chance: 85.7623223332299%
[00:05:42] [INFO] [Bullet] Starting wall penetration at (39.44473, 881.3643)
[00:05:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(681.3929, 1233.086), source=ENEMY (Enemy10), range=1469, listeners=9
[00:05:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:05:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.7788486480713
[00:05:42] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:42] [INFO] [Bullet] Exiting penetration at (6.084269, 862.4825) after traveling 33.3333358764648 pixels through wall
[00:05:42] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(803.1742, 1311.15), shooter_id=5148105508176, bullet_pos=(507.6677, 944.3788)
[00:05:42] [INFO] [Bullet] Using shooter_position, distance=471.004486083984
[00:05:42] [INFO] [Bullet] Distance to wall: 471.004486083984 (32.0715615583376% of viewport)
[00:05:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(191.5421, 928.0292), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:05:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=3
[00:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(216.43219, 952.9193), shooter_id=5148927593963, bullet_pos=(507.74777, 938.61084)
[00:05:42] [INFO] [Bullet] Using shooter_position, distance=291,66675
[00:05:42] [INFO] [Bullet] Distance to wall: 291,66675 (19,860126% of viewport)
[00:05:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:42] [INFO] [Bullet] Starting wall penetration at (507.74777, 938.61084)
[00:05:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,061537
[00:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(737.1205, 1276.871), shooter_id=5148105508176, bullet_pos=(348.0056, 709.8677)
[00:05:42] [INFO] [Bullet] Using shooter_position, distance=687.679870605469
[00:05:42] [INFO] [Bullet] Distance to wall: 687.679870605469 (46.8253869213048% of viewport)
[00:05:42] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:42] [INFO] [Bullet] Exiting penetration at (546.035, 936.7303) after traveling 33,333336 pixels through wall
[00:05:42] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:42] [INFO] [LastChance] Threat detected: @Area2D@6264
[00:05:42] [INFO] [LastChance] Not in hard mode - effect disabled
[00:05:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(677.5068, 1240.968), shooter_id=5148105508176, bullet_pos=(45.22083, 869.4951)
[00:05:42] [INFO] [Bullet] Using shooter_position, distance=733.333251953125
[00:05:42] [INFO] [Bullet] Distance to wall: 733.333251953125 (49.9340096064326% of viewport)
[00:05:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(652.5947, 1214.763), source=ENEMY (Enemy10), range=1469, listeners=9
[00:05:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[00:05:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(166.6519, 903.139), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:05:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=3
[00:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(737.1205, 1276.871), shooter_id=5148105508176, bullet_pos=(508.033, 825.8995)
[00:05:42] [INFO] [Bullet] Using shooter_position, distance=505.822814941406
[00:05:42] [INFO] [Bullet] Distance to wall: 505.822814941406 (34.4424055955006% of viewport)
[00:05:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:42] [INFO] [Bullet] Starting wall penetration at (508.033, 825.8995)
[00:05:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9.36079025268555
[00:05:42] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:42] [INFO] [Bullet] Exiting penetration at (531.5783, 842.9716) after traveling 24.0833358764648 pixels through wall
[00:05:42] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[00:05:42] [ENEMY] [Enemy3] Pursuing vulnerability sound at (569.4194, 1040.064), distance=217
[00:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(648.6204, 1222.538), shooter_id=5148105508176, bullet_pos=(50.53439, 858.8164)
[00:05:42] [INFO] [Bullet] Using shooter_position, distance=700.000122070313
[00:05:42] [INFO] [Bullet] Distance to wall: 700.000122070313 (47.6642954984908% of viewport)
[00:05:42] [INFO] [LastChance] Threat detected: @Area2D@6268
[00:05:42] [INFO] [LastChance] Not in hard mode - effect disabled
[00:05:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(677.5068, 1240.968), shooter_id=5148105508176, bullet_pos=(243.6962, 701.544)
[00:05:42] [INFO] [Bullet] Using shooter_position, distance=692.221008300781
[00:05:42] [INFO] [Bullet] Distance to wall: 692.221008300781 (47.1346013373946% of viewport)
[00:05:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(624.039, 1196.065), source=ENEMY (Enemy10), range=1469, listeners=9
[00:05:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[00:05:42] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[00:05:42] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:05:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(141.7618, 878.2489), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:05:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[00:05:42] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(166.65192, 903.13904), shooter_id=5148927593963, bullet_pos=(520.9301, 956.89624)
[00:05:42] [INFO] [Bullet] Using shooter_position, distance=358,33347
[00:05:42] [INFO] [Bullet] Distance to wall: 358,33347 (24,399586% of viewport)
[00:05:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(619.984, 1203.737), shooter_id=5148105508176, bullet_pos=(55.39245, 849.2223)
[00:05:42] [INFO] [Bullet] Using shooter_position, distance=666.666564941406
[00:05:42] [INFO] [Bullet] Distance to wall: 666.666564941406 (45.3945522985769% of viewport)
[00:05:42] [INFO] [LastChance] Threat detected: @Area2D@6274
[00:05:42] [INFO] [LastChance] Not in hard mode - effect disabled
[00:05:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(648.6204, 1222.538), shooter_id=5148105508176, bullet_pos=(255.9107, 699.3781)
[00:05:42] [INFO] [Bullet] Using shooter_position, distance=654.153625488281
[00:05:42] [INFO] [Bullet] Distance to wall: 654.153625488281 (44.5425232419469% of viewport)
[00:05:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(595.7166, 1177.014), source=ENEMY (Enemy10), range=1469, listeners=9
[00:05:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[00:05:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(119.828, 852.1342), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:05:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[00:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(591.587, 1184.591), shooter_id=5148105508176, bullet_pos=(59.80661, 840.6129)
[00:05:42] [INFO] [Bullet] Using shooter_position, distance=633.333312988281
[00:05:42] [INFO] [Bullet] Distance to wall: 633.333312988281 (43.1248298786431% of viewport)
[00:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(619.984, 1203.737), shooter_id=5148105508176, bullet_pos=(237.077, 705.4858)
[00:05:42] [INFO] [Bullet] Using shooter_position, distance=628.388488769531
[00:05:42] [INFO] [Bullet] Distance to wall: 628.388488769531 (42.7881277048584% of viewport)
[00:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(677.5068, 1240.968), shooter_id=5148105508176, bullet_pos=(498.7755, 891.5743)
[00:05:42] [INFO] [Bullet] Using shooter_position, distance=392.454895019531
[00:05:42] [INFO] [Bullet] Distance to wall: 392.454895019531 (26.7229754627974% of viewport)
[00:05:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:42] [INFO] [Bullet] Starting wall penetration at (498.7755, 891.5743)
[00:05:42] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:05:42] [INFO] [Bullet] Exiting penetration at (522.0981, 908.9494) after traveling 24.0833339691162 pixels through wall
[00:05:42] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[00:05:42] [ENEMY] [Enemy4] Ragdoll activated
[00:05:42] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(141.76178, 878.2489), shooter_id=5148927593963, bullet_pos=(522.8203, 968.7872)
[00:05:42] [INFO] [Bullet] Using shooter_position, distance=391,66666
[00:05:42] [INFO] [Bullet] Distance to wall: 391,66666 (26,669302% of viewport)
[00:05:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:42] [INFO] [Bullet] Starting wall penetration at (522.8203, 968.7872)
[00:05:42] [INFO] [LastChance] Threat detected: @Area2D@6279
[00:05:42] [INFO] [LastChance] Not in hard mode - effect disabled
[00:05:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:05:42] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[00:05:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,12077
[00:05:42] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:42] [INFO] [Bullet] Exiting penetration at (560.11536, 977.6484) after traveling 33,333336 pixels through wall
[00:05:42] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(573.3121, 1157.851), source=ENEMY (Enemy10), range=1469, listeners=9
[00:05:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[00:05:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(110.2272, 823.2789), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:05:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[00:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(563.4188, 1165.122), shooter_id=5148105508176, bullet_pos=(63.79237, 832.8981)
[00:05:42] [INFO] [Bullet] Using shooter_position, distance=599.999694824219
[00:05:42] [INFO] [Bullet] Distance to wall: 599.999694824219 (40.8550825227331% of viewport)
[00:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(591.587, 1184.591), shooter_id=5148105508176, bullet_pos=(218.5768, 713.5836)
[00:05:42] [INFO] [Bullet] Using shooter_position, distance=600.819641113281
[00:05:42] [INFO] [Bullet] Distance to wall: 600.819641113281 (40.9109141733037% of viewport)
[00:05:42] [INFO] [Bullet] Distance-based penetration chance: 98.9372667978124%
[00:05:42] [INFO] [Bullet] Starting wall penetration at (218.5768, 713.5836)
[00:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(648.6204, 1222.538), shooter_id=5148105508176, bullet_pos=(510.1348, 847.0466)
[00:05:42] [INFO] [Bullet] Using shooter_position, distance=400.214813232422
[00:05:42] [INFO] [Bullet] Distance to wall: 400.214813232422 (27.2513625631445% of viewport)
[00:05:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:42] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:05:42] [INFO] [Bullet] Exiting penetration at (244.6047, 692.7591) after traveling 28.3333339691162 pixels through wall
[00:05:42] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[00:05:42] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:05:42] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:05:42] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:05:42] [INFO] [LastChance] Player died
[00:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(191.54205, 928.0292), shooter_id=5148927593963, bullet_pos=(1258.9252, 1377.9509)
[00:05:42] [INFO] [Bullet] Using shooter_position, distance=1158,3334
[00:05:42] [INFO] [Bullet] Distance to wall: 1158,3334 (78,87305% of viewport)
[00:05:42] [INFO] [LastChance] Threat detected: @Area2D@6284
[00:05:42] [INFO] [LastChance] Not in hard mode - effect disabled
[00:05:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.82805, 852.13416), shooter_id=5148927593963, bullet_pos=(510.65332, 877.79205)
[00:05:42] [INFO] [Bullet] Using shooter_position, distance=391,66656
[00:05:42] [INFO] [Bullet] Distance to wall: 391,66656 (26,669296% of viewport)
[00:05:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:42] [INFO] [Bullet] Starting wall penetration at (510.65332, 877.79205)
[00:05:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24,957905
[00:05:42] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:42] [INFO] [Bullet] Exiting penetration at (548.9043, 880.3032) after traveling 33,333332 pixels through wall
[00:05:42] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(590.2247, 1140.973), source=ENEMY (Enemy10), range=1469, listeners=9
[00:05:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[00:05:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(535.4954, 1145.294), shooter_id=5148105508176, bullet_pos=(67.69411, 825.4915)
[00:05:43] [INFO] [Bullet] Using shooter_position, distance=566.6669921875
[00:05:43] [INFO] [Bullet] Distance to wall: 566.6669921875 (38.5853975067635% of viewport)
[00:05:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(114.1709, 795.917), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:05:43] [ENEMY] [Enemy1] Heard gunshot at (114.1709, 795.917), source_type=0, intensity=0.01, distance=483
[00:05:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=1
[00:05:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(619.984, 1203.737), shooter_id=5148105508176, bullet_pos=(504.1387, 919.3926)
[00:05:43] [INFO] [Bullet] Using shooter_position, distance=307.037292480469
[00:05:43] [INFO] [Bullet] Distance to wall: 307.037292480469 (20.9067338367916% of viewport)
[00:05:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:43] [INFO] [LastChance] Threat detected: @Area2D@6301
[00:05:43] [INFO] [LastChance] Not in hard mode - effect disabled
[00:05:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:05:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(110.22721, 823.27893), shooter_id=5148927593963, bullet_pos=(498.64597, 873.6138)
[00:05:43] [INFO] [Bullet] Using shooter_position, distance=391,66663
[00:05:43] [INFO] [Bullet] Distance to wall: 391,66663 (26,669302% of viewport)
[00:05:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:43] [INFO] [Bullet] Starting wall penetration at (498.64597, 873.6138)
[00:05:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,767312
[00:05:43] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:43] [INFO] [Bullet] Exiting penetration at (536.66144, 878.54016) after traveling 33,333332 pixels through wall
[00:05:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(607.1373, 1124.095), source=ENEMY (Enemy10), range=1469, listeners=9
[00:05:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[00:05:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(131.6738, 770.1551), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:05:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=1
[00:05:43] [ENEMY] [Enemy3] Hit taken, health: 0/2
[00:05:43] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:05:43] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:05:43] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 8)
[00:05:43] [INFO] [DeathAnim] Started - Angle: -139.1 deg, Index: 2
[00:05:43] [ENEMY] [Enemy3] Death animation started with hit direction: (-0.755422, -0.655239)
[00:05:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(530.624, 1108.13), shooter_id=5148105508176, bullet_pos=(42.90527, 819.6138)
[00:05:43] [INFO] [Bullet] Using shooter_position, distance=566.666442871094
[00:05:43] [INFO] [Bullet] Distance to wall: 566.666442871094 (38.5853601027993% of viewport)
[00:05:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(156.5639, 745.265), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:05:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=2
[00:05:43] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[00:05:43] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[00:05:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(181.4517, 734.0654), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:05:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=2
[00:05:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(530.624, 1108.13), shooter_id=5148105508176, bullet_pos=(275.8127, 704.0538)
[00:05:43] [INFO] [Bullet] Using shooter_position, distance=477.709075927734
[00:05:43] [INFO] [Bullet] Distance to wall: 477.709075927734 (32.5280894094521% of viewport)
[00:05:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(156.5639, 745.26495), shooter_id=5148927593963, bullet_pos=(509.1593, 982.5446)
[00:05:43] [INFO] [Bullet] Using shooter_position, distance=425,00018
[00:05:43] [INFO] [Bullet] Distance to wall: 425,00018 (28,939045% of viewport)
[00:05:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:43] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:05:43] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:05:43] [ENEMY] [Enemy1] Death animation component initialized
[00:05:43] [ENEMY] [Enemy2] Death animation component initialized
[00:05:43] [ENEMY] [Enemy3] Death animation component initialized
[00:05:43] [ENEMY] [Enemy4] Death animation component initialized
[00:05:43] [ENEMY] [Enemy5] Death animation component initialized
[00:05:43] [ENEMY] [Enemy6] Death animation component initialized
[00:05:43] [ENEMY] [Enemy7] Death animation component initialized
[00:05:43] [ENEMY] [Enemy8] Death animation component initialized
[00:05:43] [ENEMY] [Enemy9] Death animation component initialized
[00:05:43] [ENEMY] [Enemy10] Death animation component initialized
[00:05:43] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:05:43] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:05:43] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:05:43] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:05:43] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:05:43] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:05:43] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:05:43] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:05:43] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:05:43] [INFO] [ScoreManager] Level started with 10 enemies
[00:05:43] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[00:05:43] [ENEMY] [Enemy1] Registered as sound listener
[00:05:43] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:05:43] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[00:05:43] [ENEMY] [Enemy2] Registered as sound listener
[00:05:43] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:05:43] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[00:05:43] [ENEMY] [Enemy3] Registered as sound listener
[00:05:43] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:05:43] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[00:05:43] [ENEMY] [Enemy4] Registered as sound listener
[00:05:43] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:05:43] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[00:05:43] [ENEMY] [Enemy5] Registered as sound listener
[00:05:43] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:05:43] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[00:05:43] [ENEMY] [Enemy6] Registered as sound listener
[00:05:43] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:05:43] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[00:05:43] [ENEMY] [Enemy7] Registered as sound listener
[00:05:43] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:05:43] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[00:05:43] [ENEMY] [Enemy8] Registered as sound listener
[00:05:43] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:05:43] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[00:05:43] [ENEMY] [Enemy9] Registered as sound listener
[00:05:43] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:05:43] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[00:05:43] [ENEMY] [Enemy10] Registered as sound listener
[00:05:43] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:05:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450.2357, 1255.764), source=PLAYER (AssaultRifle), range=1469, listeners=18
[00:05:43] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[00:05:43] [ENEMY] [Enemy4] Heard gunshot at (450.2357, 1255.764), source_type=0, intensity=0.01, distance=499
[00:05:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[00:05:43] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:05:43] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:05:43] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:05:43] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:05:43] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:05:43] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:05:43] [INFO] [LastChance] Found player: Player
[00:05:43] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:05:43] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:05:43] [INFO] [LastChance] Connected to player Died signal (C#)
[00:05:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.4852, 1247.515), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[00:05:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(474.7282, 1232.685), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[00:05:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(474.7282, 1232.6854), shooter_id=6042012354998, bullet_pos=(535.4101, 1414.4927)
[00:05:43] [INFO] [Bullet] Using shooter_position, distance=191,66681
[00:05:43] [INFO] [Bullet] Distance to wall: 191,66681 (13,050946% of viewport)
[00:05:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:43] [INFO] [Bullet] Starting wall penetration at (535.4101, 1414.4927)
[00:05:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 49,294556
[00:05:43] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:43] [INFO] [Bullet] Exiting penetration at (550.1848, 1458.7588) after traveling 41,666668 pixels through wall
[00:05:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:44] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:05:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(458.48523, 1247.5148), shooter_id=6042012354998, bullet_pos=(663.3788, 2081.0352)
[00:05:44] [INFO] [Bullet] Using shooter_position, distance=858,3342
[00:05:44] [INFO] [Bullet] Distance to wall: 858,3342 (58,445557% of viewport)
[00:05:44] [INFO] [Bullet] Distance-based penetration chance: 78,48019%
[00:05:44] [INFO] [Bullet] Starting wall penetration at (663.3788, 2081.0352)
[00:05:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,256386
[00:05:44] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:44] [INFO] [Bullet] Exiting penetration at (674.5186, 2126.3528) after traveling 41,66667 pixels through wall
[00:05:44] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:44] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:05:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450.2357, 1255.7643), shooter_id=6042012354998, bullet_pos=(2475.2358, 1255.7643)
[00:05:44] [INFO] [Bullet] Using shooter_position, distance=2025,0001
[00:05:44] [INFO] [Bullet] Distance to wall: 2025,0001 (137,88599% of viewport)
[00:05:44] [INFO] [Bullet] Distance-based penetration chance: 22,422802%
[00:05:44] [INFO] [Bullet] Penetration failed (distance roll)
[00:05:44] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:05:44] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:05:44] [ENEMY] [Enemy1] Death animation component initialized
[00:05:44] [ENEMY] [Enemy2] Death animation component initialized
[00:05:44] [ENEMY] [Enemy3] Death animation component initialized
[00:05:44] [ENEMY] [Enemy4] Death animation component initialized
[00:05:44] [ENEMY] [Enemy5] Death animation component initialized
[00:05:44] [ENEMY] [Enemy6] Death animation component initialized
[00:05:44] [ENEMY] [Enemy7] Death animation component initialized
[00:05:44] [ENEMY] [Enemy8] Death animation component initialized
[00:05:44] [ENEMY] [Enemy9] Death animation component initialized
[00:05:44] [ENEMY] [Enemy10] Death animation component initialized
[00:05:44] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:05:44] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:05:44] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:05:44] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:05:44] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:05:44] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:05:44] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:05:44] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:05:44] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:05:44] [INFO] [ScoreManager] Level started with 10 enemies
[00:05:44] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:05:44] [ENEMY] [Enemy1] Registered as sound listener
[00:05:44] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:05:44] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:05:44] [ENEMY] [Enemy2] Registered as sound listener
[00:05:44] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:05:44] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:05:44] [ENEMY] [Enemy3] Registered as sound listener
[00:05:44] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:05:44] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:05:44] [ENEMY] [Enemy4] Registered as sound listener
[00:05:44] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:05:44] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:05:44] [ENEMY] [Enemy5] Registered as sound listener
[00:05:44] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:05:44] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:05:44] [ENEMY] [Enemy6] Registered as sound listener
[00:05:44] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:05:44] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:05:44] [ENEMY] [Enemy7] Registered as sound listener
[00:05:44] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:05:44] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:05:44] [ENEMY] [Enemy8] Registered as sound listener
[00:05:44] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:05:44] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:05:44] [ENEMY] [Enemy9] Registered as sound listener
[00:05:44] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:05:44] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:05:44] [ENEMY] [Enemy10] Registered as sound listener
[00:05:44] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:05:44] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:05:44] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:05:44] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:05:44] [INFO] [LastChance] Found player: Player
[00:05:44] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:05:44] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:05:44] [INFO] [LastChance] Connected to player Died signal (C#)
[00:05:44] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:05:44] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:05:44] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:05:44] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:05:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:05:45] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:05:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:05:45] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:05:45] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:05:45] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:05:45] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (672.3735, 879.4439)
[00:05:45] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:05:45] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:05:45] [INFO] [Player.Grenade] Timer started, grenade created at (450, 871.94434)
[00:05:45] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:05:45] [INFO] [Player.Grenade] Step 1 complete! Drag: (549.2503, -21.70575)
[00:05:45] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:05:45] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:05:45] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:05:45] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:05:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=6106722078162, bullet_pos=(41.69983, 702.3934)
[00:05:45] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:05:45] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:05:46] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:05:46] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:05:46] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:05:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=6106722078162, bullet_pos=(512.9787, 446.5414)
[00:05:46] [INFO] [Bullet] Using shooter_position, distance=1100.80151367188
[00:05:46] [INFO] [Bullet] Distance to wall: 1100.80151367188 (74.9555992614126% of viewport)
[00:05:46] [INFO] [Bullet] Distance-based penetration chance: 59.218467528352%
[00:05:46] [INFO] [Bullet] Starting wall penetration at (512.9787, 446.5414)
[00:05:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27.8760051727295
[00:05:46] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:46] [INFO] [Bullet] Exiting penetration at (548.4986, 427.2581) after traveling 35.4166717529297 pixels through wall
[00:05:46] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[00:05:46] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:05:46] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2481.714, 341.13364) (2505,1 px/s), Swing distance: 313,8
[00:05:46] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,1366028
[00:05:46] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2481.714, 341.1336), Swing: 313.8, Transfer: 1.00, Final speed: 1320.3
[00:05:46] [INFO] [Player.Grenade] Thrown! Velocity: 2505,1, Swing: 313,8
[00:05:46] [INFO] [Player.Grenade] State reset to IDLE
[00:05:46] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[00:05:46] [INFO] [Player.Grenade] Player rotation restored to 0
[00:05:46] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:05:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.5363, 754.1058), source=ENEMY (Enemy3), range=1469, listeners=10
[00:05:46] [ENEMY] [Enemy2] Heard gunshot at (684.5363, 754.1058), source_type=1, intensity=0.02, distance=350
[00:05:46] [ENEMY] [Enemy4] Heard gunshot at (684.5363, 754.1058), source_type=1, intensity=0.07, distance=186
[00:05:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:05:46] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:05:46] [INFO] [LastChance] Threat detected: Bullet
[00:05:46] [INFO] [LastChance] Not in hard mode - effect disabled
[00:05:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:05:46] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:05:46] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:05:46] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:05:46] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:05:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.5363, 754.1058), source=ENEMY (Enemy3), range=1469, listeners=10
[00:05:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:05:46] [INFO] [LastChance] Threat detected: Bullet
[00:05:46] [INFO] [LastChance] Not in hard mode - effect disabled
[00:05:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:05:46] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:05:46] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:05:47] [ENEMY] [Enemy10] FLANKING started: target=(650.814, 831.0547), side=left, pos=(1022.668, 1432.257)
[00:05:47] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:05:47] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:05:47] [INFO] [GrenadeBase] Grenade landed at (596.2982, 980.8545)
[00:05:48] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[00:05:48] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[00:05:49] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[00:05:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(417.8259, 920.9791), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:05:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(417.8259, 920.9791), shooter_id=6107544160607, bullet_pos=(524.5356, 1026.3976)
[00:05:49] [INFO] [Bullet] Using shooter_position, distance=150,00003
[00:05:49] [INFO] [Bullet] Distance to wall: 150,00003 (10,2137785% of viewport)
[00:05:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(386.1786, 936.2908), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:05:49] [ENEMY] [Enemy10] Hit taken, health: 1/2
[00:05:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(360.2911, 961.3677), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:05:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[00:05:49] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[00:05:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(542.008, 1081.241), source=ENEMY (Enemy10), range=1469, listeners=10
[00:05:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[00:05:49] [ENEMY] [Enemy10] Hit taken, health: 0/2
[00:05:49] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[00:05:49] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:05:49] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[00:05:49] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:05:49] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[00:05:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(417.8259, 920.9791), shooter_id=6107544160607, bullet_pos=(59.05391, 1370.3141)
[00:05:49] [INFO] [Bullet] Using shooter_position, distance=574,995
[00:05:49] [INFO] [Bullet] Distance to wall: 574,995 (39,152466% of viewport)
[00:05:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:49] [INFO] [Bullet] Starting wall penetration at (59.05391, 1370.3141)
[00:05:49] [INFO] [LastChance] Threat detected: @Area2D@6831
[00:05:49] [INFO] [LastChance] Not in hard mode - effect disabled
[00:05:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:05:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(335.401, 986.2579), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:05:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=2
[00:05:49] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:05:49] [INFO] [Bullet] Exiting penetration at (32.24431, 1390.1221) after traveling 28,333334 pixels through wall
[00:05:49] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:05:49] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:05:49] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:05:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(310.5109, 1011.148), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:05:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=2
[00:05:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(285.6207, 1036.038), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:05:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=2
[00:05:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(335.401, 986.2579), shooter_id=6107544160607, bullet_pos=(889.1388, 1400.7183)
[00:05:49] [INFO] [Bullet] Using shooter_position, distance=691,6668
[00:05:49] [INFO] [Bullet] Distance to wall: 691,6668 (47,096867% of viewport)
[00:05:49] [INFO] [GrenadeBase] EXPLODED at (595.2246, 984.5599)!
[00:05:49] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(595.2246, 984.5599), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=9
[00:05:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[00:05:49] [ENEMY] [Enemy3] Status effect: BLINDED applied
[00:05:49] [ENEMY] [Enemy3] Status effect: STUNNED applied
[00:05:49] [ENEMY] [Enemy4] Status effect: BLINDED applied
[00:05:49] [ENEMY] [Enemy4] Status effect: STUNNED applied
[00:05:50] [ENEMY] [Enemy10] Ragdoll activated
[00:05:50] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:05:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(310.51086, 1011.148), shooter_id=6107544160607, bullet_pos=(1265.6439, 1383.0947)
[00:05:50] [INFO] [Bullet] Using shooter_position, distance=1024,9993
[00:05:50] [INFO] [Bullet] Distance to wall: 1024,9993 (69,79409% of viewport)
[00:05:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(335.401, 986.2579), shooter_id=6107544160607, bullet_pos=(1283.0758, 1026.5195)
[00:05:50] [INFO] [Bullet] Using shooter_position, distance=948,52966
[00:05:50] [INFO] [Bullet] Distance to wall: 948,52966 (64,58713% of viewport)
[00:05:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(310.51086, 1011.148), shooter_id=6107544160607, bullet_pos=(1718.0128, 1203.6309)
[00:05:50] [INFO] [Bullet] Using shooter_position, distance=1420,6024
[00:05:50] [INFO] [Bullet] Distance to wall: 1420,6024 (96,73144% of viewport)
[00:05:50] [INFO] [Bullet] Distance-based penetration chance: 33,813328%
[00:05:50] [INFO] [Bullet] Penetration failed (distance roll)
[00:05:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(285.62073, 1036.0382), shooter_id=6107544160607, bullet_pos=(1699.5332, 1213.4518)
[00:05:50] [INFO] [Bullet] Using shooter_position, distance=1424,9996
[00:05:50] [INFO] [Bullet] Distance to wall: 1424,9996 (97,030846% of viewport)
[00:05:50] [INFO] [Bullet] Distance-based penetration chance: 33,46402%
[00:05:50] [INFO] [Bullet] Penetration failed (distance roll)
[00:05:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(335.401, 986.2579), shooter_id=6107544160607, bullet_pos=(1675.331, 1551.3887)
[00:05:50] [INFO] [Bullet] Using shooter_position, distance=1454,2301
[00:05:50] [INFO] [Bullet] Distance to wall: 1454,2301 (99,0212% of viewport)
[00:05:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(335.401, 986.2579), shooter_id=6107544160607, bullet_pos=(1515.6372, 1717.1604)
[00:05:50] [INFO] [Bullet] Using shooter_position, distance=1388,2277
[00:05:50] [INFO] [Bullet] Distance to wall: 1388,2277 (94,52698% of viewport)
[00:05:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(335.401, 986.2579), shooter_id=6107544160607, bullet_pos=(1790.631, 2060.648)
[00:05:51] [INFO] [Bullet] Using shooter_position, distance=1808,8694
[00:05:51] [INFO] [Bullet] Distance to wall: 1808,8694 (123,16924% of viewport)
[00:05:51] [ENEMY] [Enemy10] Death animation completed
[00:05:52] [ENEMY] [Enemy1] State: IDLE -> COMBAT
[00:05:52] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[00:05:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(571.3523, 676.4111), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:05:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=3
[00:05:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(571.3523, 676.41113), shooter_id=6107544160607, bullet_pos=(480.83575, 690.88654)
[00:05:52] [INFO] [Bullet] Using shooter_position, distance=91,66669
[00:05:52] [INFO] [Bullet] Distance to wall: 91,66669 (6,241753% of viewport)
[00:05:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:52] [ENEMY] [Enemy2] Hit taken, health: 1/2
[00:05:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(597.7981, 649.9653), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:05:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=3
[00:05:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(597.7981, 649.96533), shooter_id=6107544160607, bullet_pos=(342.23212, 687.6775)
[00:05:52] [INFO] [Bullet] Using shooter_position, distance=258,33347
[00:05:52] [INFO] [Bullet] Distance to wall: 258,33347 (17,5904% of viewport)
[00:05:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(624.9741, 630.5938), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:05:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=3
[00:05:52] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:05:52] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[00:05:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(345.2687, 638.5114), source=ENEMY (Enemy2), range=1469, listeners=9
[00:05:52] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=2
[00:05:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(656.952, 623.8597), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:05:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=3
[00:05:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(597.7981, 649.96533), shooter_id=6107544160607, bullet_pos=(67.391045, 600.50793)
[00:05:52] [INFO] [Bullet] Using shooter_position, distance=532,7078
[00:05:52] [INFO] [Bullet] Distance to wall: 532,7078 (36,273056% of viewport)
[00:05:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(624.9741, 630.5938), shooter_id=6107544160607, bullet_pos=(203.7331, 686.9938)
[00:05:52] [INFO] [Bullet] Using shooter_position, distance=424,99994
[00:05:52] [INFO] [Bullet] Distance to wall: 424,99994 (28,93903% of viewport)
[00:05:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(344.1423, 627.9044), source=ENEMY (Enemy2), range=1469, listeners=9
[00:05:52] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=2
[00:05:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(685.0018, 628.8338), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:05:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=4
[00:05:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(624.9741, 630.5938), shooter_id=6107544160607, bullet_pos=(57.500637, 675.7167)
[00:05:52] [INFO] [Bullet] Using shooter_position, distance=569,26465
[00:05:52] [INFO] [Bullet] Distance to wall: 569,26465 (38,762276% of viewport)
[00:05:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:52] [INFO] [LastChance] Threat detected: @Area2D@6862
[00:05:52] [INFO] [LastChance] Not in hard mode - effect disabled
[00:05:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:05:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(343.0159, 617.2974), source=ENEMY (Enemy2), range=1469, listeners=9
[00:05:52] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=2
[00:05:53] [INFO] [LastChance] Threat detected: @Area2D@6865
[00:05:53] [INFO] [LastChance] Not in hard mode - effect disabled
[00:05:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:05:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(709.9476, 646.2754), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:05:53] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=4
[00:05:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(656.95197, 623.8597), shooter_id=6107544160607, bullet_pos=(102.11431, 686.2387)
[00:05:53] [INFO] [Bullet] Using shooter_position, distance=558,3332
[00:05:53] [INFO] [Bullet] Distance to wall: 558,3332 (38,017933% of viewport)
[00:05:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:53] [INFO] [Bullet] Starting wall penetration at (102.11431, 686.2387)
[00:05:53] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:05:53] [INFO] [Bullet] Exiting penetration at (64.02097, 690.5214) after traveling 33,333332 pixels through wall
[00:05:53] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:53] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:05:53] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:05:53] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:05:53] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:05:53] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:05:53] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:05:53] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:05:53] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:05:53] [INFO] [PenultimateHit] Applying saturation to 9 enemies
[00:05:53] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:05:53] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:05:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(730.2682, 666.9453), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:05:53] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=4
[00:05:53] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[00:05:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(685.00183, 628.8338), shooter_id=6107544160607, bullet_pos=(65.250854, 665.4761)
[00:05:53] [INFO] [Bullet] Using shooter_position, distance=620,83325
[00:05:53] [INFO] [Bullet] Distance to wall: 620,83325 (42,273678% of viewport)
[00:05:53] [INFO] [Bullet] Distance-based penetration chance: 97,347374%
[00:05:53] [INFO] [Bullet] Starting wall penetration at (65.250854, 665.4761)
[00:05:53] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:05:53] [INFO] [Bullet] Exiting penetration at (56.100166, 666.0171) after traveling 4,166667 pixels through wall
[00:05:53] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(730.2682, 666.9453), shooter_id=6107544160607, bullet_pos=(514.4856, 603.20905)
[00:05:54] [INFO] [Bullet] Using shooter_position, distance=224,99876
[00:05:54] [INFO] [Bullet] Distance to wall: 224,99876 (15,32058% of viewport)
[00:05:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:54] [INFO] [Bullet] Starting wall penetration at (514.4856, 603.20905)
[00:05:54] [INFO] [Bullet] Raycast forward hit penetrating body at distance 2,1617289
[00:05:54] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:05:54] [INFO] [Bullet] Exiting penetration at (501.6984, 599.43207) after traveling 8,333334 pixels through wall
[00:05:54] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(413.2379, 641.7966), shooter_id=6104440374670, bullet_pos=(1361.203, 350.6602)
[00:05:54] [INFO] [Bullet] Using shooter_position, distance=991.664733886719
[00:05:54] [INFO] [Bullet] Distance to wall: 991.664733886719 (67.5242752409992% of viewport)
[00:05:54] [INFO] [Bullet] Distance-based penetration chance: 67.8883455521676%
[00:05:54] [INFO] [Bullet] Starting wall penetration at (1361.203, 350.6602)
[00:05:54] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:05:54] [INFO] [Bullet] Exiting penetration at (1369.966, 347.969) after traveling 4.16666698455811 pixels through wall
[00:05:54] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:05:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(747.6913, 700.4152), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:05:54] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[00:05:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(709.94763, 646.2754), shooter_id=6107544160607, bullet_pos=(64.41069, 626.6917)
[00:05:55] [INFO] [Bullet] Using shooter_position, distance=645,8339
[00:05:55] [INFO] [Bullet] Distance to wall: 645,8339 (43,97602% of viewport)
[00:05:55] [INFO] [Bullet] Distance-based penetration chance: 95,36131%
[00:05:55] [INFO] [Bullet] Starting wall penetration at (64.41069, 626.6917)
[00:05:55] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:05:55] [INFO] [Bullet] Exiting penetration at (55.24824, 626.41376) after traveling 4,166667 pixels through wall
[00:05:55] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:55] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:05:55] [ENEMY] [Enemy4] Hit taken, health: 3/4
[00:05:55] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:05:55] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:05:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(743.8746, 722.5483), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:05:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[00:05:55] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[00:05:55] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[00:05:55] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:05:55] [ENEMY] [Enemy4] Hit taken, health: 2/4
[00:05:55] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[00:05:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(727.6172, 733.5865), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:05:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[00:05:55] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[00:05:55] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:05:55] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[00:05:55] [ENEMY] [Enemy4] Hit taken, health: 1/4
[00:05:55] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[00:05:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(699.5632, 737.7507), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:05:55] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=4
[00:05:55] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:05:55] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[00:05:55] [ENEMY] [Enemy3] Hit taken, health: 1/3
[00:05:55] [ENEMY] [Enemy4] Hit taken, health: 0/4
[00:05:55] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[00:05:55] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:05:55] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[00:05:55] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:05:55] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[00:05:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(664.4269, 737.7878), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:05:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=4
[00:05:55] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[00:05:55] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:05:55] [ENEMY] [Enemy3] Hit taken, health: 0/3
[00:05:55] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:05:55] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:05:55] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 7)
[00:05:55] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:05:55] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[00:05:55] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[00:05:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(629.2267, 737.7878), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:05:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=4
[00:05:56] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[00:05:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(594.0265, 737.7878), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:05:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=3
[00:05:56] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[00:05:56] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:05:56] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:05:56] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:05:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(629.2267, 737.78784), shooter_id=6107544160607, bullet_pos=(521.41595, 1008.79755)
[00:05:56] [INFO] [Bullet] Using shooter_position, distance=291,66663
[00:05:56] [INFO] [Bullet] Distance to wall: 291,66663 (19,860117% of viewport)
[00:05:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(629.2267, 737.78784), shooter_id=6107544160607, bullet_pos=(519.3163, 1004.25977)
[00:05:56] [INFO] [Bullet] Using shooter_position, distance=288,24918
[00:05:56] [INFO] [Bullet] Distance to wall: 288,24918 (19,627419% of viewport)
[00:05:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:56] [INFO] [Bullet] Starting wall penetration at (519.3163, 1004.25977)
[00:05:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,50066
[00:05:56] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:56] [INFO] [Bullet] Exiting penetration at (502.344, 967.5794) after traveling 35,416668 pixels through wall
[00:05:56] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:05:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(629.2267, 737.78784), shooter_id=6107544160607, bullet_pos=(502.344, 967.5794)
[00:05:56] [INFO] [Bullet] Using shooter_position, distance=262,49454
[00:05:56] [INFO] [Bullet] Distance to wall: 262,49454 (17,873735% of viewport)
[00:05:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:56] [INFO] [Bullet] Starting wall penetration at (502.344, 967.5794)
[00:05:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34,83481
[00:05:56] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:56] [INFO] [Bullet] Exiting penetration at (485.3717, 930.89905) after traveling 35,416668 pixels through wall
[00:05:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(594.0265, 737.78784), shooter_id=6107544160607, bullet_pos=(521.9566, 1003.176)
[00:05:56] [INFO] [Bullet] Using shooter_position, distance=274,99994
[00:05:56] [INFO] [Bullet] Distance to wall: 274,99994 (18,725252% of viewport)
[00:05:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(594.0265, 737.78784), shooter_id=6107544160607, bullet_pos=(524.04736, 1007.7179)
[00:05:56] [INFO] [Bullet] Using shooter_position, distance=278,85358
[00:05:56] [INFO] [Bullet] Distance to wall: 278,85358 (18,987652% of viewport)
[00:05:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:56] [INFO] [Bullet] Starting wall penetration at (524.04736, 1007.7179)
[00:05:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(594.0265, 737.78784), shooter_id=6107544160607, bullet_pos=(526.1381, 1012.25977)
[00:05:56] [INFO] [Bullet] Using shooter_position, distance=282,7431
[00:05:56] [INFO] [Bullet] Distance to wall: 282,7431 (19,252499% of viewport)
[00:05:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:56] [INFO] [Bullet] Already penetrating, cannot start new penetration
[00:05:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(555.5265, 737.7878), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:05:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=3
[00:05:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,49222
[00:05:56] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:56] [INFO] [Bullet] Exiting penetration at (540.9477, 1044.4314) after traveling 35,416664 pixels through wall
[00:05:56] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:05:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(555.5265, 737.78784), shooter_id=6107544160607, bullet_pos=(523.9363, 968.9728)
[00:05:56] [INFO] [Bullet] Using shooter_position, distance=233,33328
[00:05:56] [INFO] [Bullet] Distance to wall: 233,33328 (15,888093% of viewport)
[00:05:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(522.5265, 737.7878), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:05:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=3
[00:05:56] [ENEMY] [Enemy4] Ragdoll activated
[00:05:56] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:05:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(555.5265, 737.78784), shooter_id=6107544160607, bullet_pos=(534.63983, 1007.94635)
[00:05:56] [INFO] [Bullet] Using shooter_position, distance=270,9647
[00:05:56] [INFO] [Bullet] Distance to wall: 270,9647 (18,450485% of viewport)
[00:05:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(522.5265, 737.78784), shooter_id=6107544160607, bullet_pos=(523.9214, 804.4399)
[00:05:56] [INFO] [Bullet] Using shooter_position, distance=66,66663
[00:05:56] [INFO] [Bullet] Distance to wall: 66,66663 (4,539454% of viewport)
[00:05:56] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[00:05:56] [INFO] [Bullet] Starting wall penetration at (523.9214, 804.4399)
[00:05:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 42,90881
[00:05:56] [INFO] [Bullet] Max penetration distance exceeded: 83,333336 >= 48
[00:05:56] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:56] [INFO] [Bullet] Exiting penetration at (525.76965, 892.75385) after traveling 83,333336 pixels through wall
[00:05:56] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:56] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[00:05:56] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:05:56] [ENEMY] [Enemy3] Ragdoll activated
[00:05:56] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:05:56] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[00:05:56] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[00:05:56] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[00:05:56] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[00:05:56] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[00:05:56] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[00:05:56] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[00:05:56] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[00:05:56] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[00:05:56] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[00:05:56] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[00:05:56] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(387.4935, 852.2622), source=PLAYER (Player), range=900, listeners=7
[00:05:56] [ENEMY] [Enemy1] Heard player RELOAD at (387.4935, 852.2622), intensity=0.02, distance=355
[00:05:56] [ENEMY] [Enemy2] Heard player RELOAD at (387.4935, 852.2622), intensity=0.01, distance=429
[00:05:56] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[00:05:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[00:05:57] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=true (dist=355), can_see=false
[00:05:57] [ENEMY] [Enemy1] Pursuing vulnerability sound at (387.4935, 852.2622), distance=355
[00:05:57] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=429), can_see=false
[00:05:57] [ENEMY] [Enemy2] Pursuing vulnerability sound at (387.4935, 852.2622), distance=429
[00:05:57] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1405), can_see=false
[00:05:57] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1613), can_see=false
[00:05:57] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1224), can_see=false
[00:05:57] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1626), can_see=false
[00:05:57] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1849), can_see=false
[00:05:57] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[00:05:57] [ENEMY] [Enemy4] Death animation completed
[00:05:57] [ENEMY] [Enemy3] Death animation completed
[00:05:57] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[00:05:57] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[00:05:57] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[00:05:57] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[00:05:57] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[00:05:57] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[00:05:57] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[00:05:57] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[00:05:57] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[00:05:57] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[00:05:57] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[00:05:57] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[00:05:57] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[00:05:57] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[00:05:57] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:05:57] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:05:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(325.7033, 1155.553), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:05:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=3
[00:05:57] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[00:05:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(298.4796, 1182.776), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:05:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=3
[00:05:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(325.70334, 1155.5532), shooter_id=6107544160607, bullet_pos=(502.32843, 892.71985)
[00:05:58] [INFO] [Bullet] Using shooter_position, distance=316,66672
[00:05:58] [INFO] [Bullet] Distance to wall: 316,66672 (21,56242% of viewport)
[00:05:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:58] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[00:05:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(271.256, 1210), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:05:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=3
[00:05:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(325.70334, 1155.5532), shooter_id=6107544160607, bullet_pos=(339.82462, 698.9177)
[00:05:58] [INFO] [Bullet] Using shooter_position, distance=456,8538
[00:05:58] [INFO] [Bullet] Distance to wall: 456,8538 (31,108015% of viewport)
[00:05:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:58] [INFO] [Bullet] Starting wall penetration at (339.82462, 698.9177)
[00:05:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,168816
[00:05:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(298.47964, 1182.7765), shooter_id=6107544160607, bullet_pos=(507.08423, 891.42285)
[00:05:58] [INFO] [Bullet] Using shooter_position, distance=358,33337
[00:05:58] [INFO] [Bullet] Distance to wall: 358,33337 (24,399578% of viewport)
[00:05:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:58] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:58] [INFO] [Bullet] Exiting penetration at (313.85614, 667.94763) after traveling 35,416664 pixels through wall
[00:05:58] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:05:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(244.0323, 1237.223), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:05:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=3
[00:05:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(298.47964, 1182.7765), shooter_id=6107544160607, bullet_pos=(393.56238, 705.8993)
[00:05:58] [INFO] [Bullet] Using shooter_position, distance=486,26392
[00:05:58] [INFO] [Bullet] Distance to wall: 486,26392 (33,110607% of viewport)
[00:05:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:58] [INFO] [Bullet] Starting wall penetration at (393.56238, 705.8993)
[00:05:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,432257
[00:05:58] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:58] [INFO] [Bullet] Exiting penetration at (372.4673, 671.4246) after traveling 35,416668 pixels through wall
[00:05:58] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:05:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(271.25595, 1209.9998), shooter_id=6107544160607, bullet_pos=(506.19376, 886.26495)
[00:05:58] [INFO] [Bullet] Using shooter_position, distance=400
[00:05:58] [INFO] [Bullet] Distance to wall: 400 (27,236736% of viewport)
[00:05:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(216.8087, 1264.446), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:05:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=3
[00:05:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(271.25595, 1209.9998), shooter_id=6107544160607, bullet_pos=(325.39938, 709.4027)
[00:05:58] [INFO] [Bullet] Using shooter_position, distance=503,51654
[00:05:58] [INFO] [Bullet] Distance to wall: 503,51654 (34,28537% of viewport)
[00:05:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(244.03232, 1237.223), shooter_id=6107544160607, bullet_pos=(514.59436, 836.71436)
[00:05:58] [INFO] [Bullet] Using shooter_position, distance=483,33322
[00:05:58] [INFO] [Bullet] Distance to wall: 483,33322 (32,91105% of viewport)
[00:05:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(244.03232, 1237.223), shooter_id=6107544160607, bullet_pos=(447.12787, 706.4862)
[00:05:58] [INFO] [Bullet] Using shooter_position, distance=568,26874
[00:05:58] [INFO] [Bullet] Distance to wall: 568,26874 (38,694466% of viewport)
[00:05:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:58] [INFO] [Bullet] Starting wall penetration at (447.12787, 706.4862)
[00:05:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,596954
[00:05:58] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:58] [INFO] [Bullet] Exiting penetration at (428.53625, 670.5995) after traveling 35,416664 pixels through wall
[00:05:58] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:05:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(216.80873, 1264.4463), shooter_id=6107544160607, bullet_pos=(502.28387, 874.42737)
[00:05:58] [INFO] [Bullet] Using shooter_position, distance=483,33304
[00:05:58] [INFO] [Bullet] Distance to wall: 483,33304 (32,911034% of viewport)
[00:05:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:58] [INFO] [Bullet] Starting wall penetration at (502.28387, 874.42737)
[00:05:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9,899439
[00:05:58] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:58] [INFO] [Bullet] Exiting penetration at (529.847, 836.7704) after traveling 41,666668 pixels through wall
[00:05:58] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(271.25595, 1209.9998), shooter_id=6107544160607, bullet_pos=(51.59161, 952.648)
[00:05:58] [INFO] [Bullet] Using shooter_position, distance=338,3524
[00:05:58] [INFO] [Bullet] Distance to wall: 338,3524 (23,039038% of viewport)
[00:05:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:58] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[00:05:58] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[00:05:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(135.138, 1346.116), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:05:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=2
[00:05:58] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:05:58] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:05:58] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[00:05:58] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[00:05:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(96.24706, 1385.006), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:05:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=2
[00:05:58] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[00:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(135.13797, 1346.1161), shooter_id=6107544160607, bullet_pos=(505.9177, 917.59155)
[00:05:59] [INFO] [Bullet] Using shooter_position, distance=566,66644
[00:05:59] [INFO] [Bullet] Distance to wall: 566,66644 (38,58536% of viewport)
[00:05:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(271.25595, 1209.9998), shooter_id=6107544160607, bullet_pos=(511.85193, 1404.1077)
[00:05:59] [INFO] [Bullet] Using shooter_position, distance=309,13477
[00:05:59] [INFO] [Bullet] Distance to wall: 309,13477 (21,049555% of viewport)
[00:05:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06049, 1423.897), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:05:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=2
[00:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(135.13797, 1346.1161), shooter_id=6107544160607, bullet_pos=(256.30875, 711.4135)
[00:05:59] [INFO] [Bullet] Using shooter_position, distance=646,1654
[00:05:59] [INFO] [Bullet] Distance to wall: 646,1654 (43,998592% of viewport)
[00:05:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06506, 1458.9), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:05:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=2
[00:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(135.13797, 1346.1161), shooter_id=6107544160607, bullet_pos=(58.489124, 903.79065)
[00:05:59] [INFO] [Bullet] Using shooter_position, distance=448,91742
[00:05:59] [INFO] [Bullet] Distance to wall: 448,91742 (30,567614% of viewport)
[00:05:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:59] [INFO] [Bullet] Starting wall penetration at (58.489124, 903.79065)
[00:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(271.25595, 1209.9998), shooter_id=6107544160607, bullet_pos=(291.87366, 1589.6118)
[00:05:59] [INFO] [Bullet] Using shooter_position, distance=380,17154
[00:05:59] [INFO] [Bullet] Distance to wall: 380,17154 (25,88658% of viewport)
[00:05:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:59] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:05:59] [INFO] [Bullet] Exiting penetration at (33.32295, 928.26447) after traveling 30,10417 pixels through wall
[00:05:59] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[00:05:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06506, 1486.124), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:05:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=2
[00:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.060486, 1423.8973), shooter_id=6107544160607, bullet_pos=(501.48834, 823.7506)
[00:05:59] [INFO] [Bullet] Using shooter_position, distance=733,3331
[00:05:59] [INFO] [Bullet] Distance to wall: 733,3331 (49,934002% of viewport)
[00:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.060486, 1423.8973), shooter_id=6107544160607, bullet_pos=(432.5935, 694.2724)
[00:05:59] [INFO] [Bullet] Using shooter_position, distance=810,3284
[00:05:59] [INFO] [Bullet] Distance to wall: 810,3284 (55,176754% of viewport)
[00:05:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06506, 1513.348), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:05:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=2
[00:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.065056, 1458.8997), shooter_id=6107544160607, bullet_pos=(516.55023, 869.6133)
[00:05:59] [INFO] [Bullet] Using shooter_position, distance=733,3333
[00:05:59] [INFO] [Bullet] Distance to wall: 733,3333 (49,934013% of viewport)
[00:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(96.24706, 1385.0065), shooter_id=6107544160607, bullet_pos=(974.13324, 37.397156)
[00:05:59] [INFO] [Bullet] Using shooter_position, distance=1608,333
[00:05:59] [INFO] [Bullet] Distance to wall: 1608,333 (109,51436% of viewport)
[00:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(271.25595, 1209.9998), shooter_id=6107544160607, bullet_pos=(62.82406, 1367.1641)
[00:05:59] [INFO] [Bullet] Using shooter_position, distance=261,04495
[00:05:59] [INFO] [Bullet] Distance to wall: 261,04495 (17,775032% of viewport)
[00:05:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.065056, 1458.8997), shooter_id=6107544160607, bullet_pos=(388.6253, 693.71155)
[00:05:59] [INFO] [Bullet] Using shooter_position, distance=825,05896
[00:05:59] [INFO] [Bullet] Distance to wall: 825,05896 (56,179787% of viewport)
[00:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.065056, 1486.1238), shooter_id=6107544160607, bullet_pos=(517.1958, 897.3165)
[00:05:59] [INFO] [Bullet] Using shooter_position, distance=733,33295
[00:05:59] [INFO] [Bullet] Distance to wall: 733,33295 (49,93399% of viewport)
[00:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(96.24706, 1385.0065), shooter_id=6107544160607, bullet_pos=(1117.947, 200.56554)
[00:05:59] [INFO] [Bullet] Using shooter_position, distance=1564,2158
[00:05:59] [INFO] [Bullet] Distance to wall: 1564,2158 (106,51033% of viewport)
[00:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.065056, 1513.3479), shooter_id=6107544160607, bullet_pos=(514.22986, 922.34924)
[00:05:59] [INFO] [Bullet] Using shooter_position, distance=733,3338
[00:05:59] [INFO] [Bullet] Distance to wall: 733,3338 (49,934048% of viewport)
[00:05:59] [INFO] [Bullet] Distance-based penetration chance: 88,41028%
[00:05:59] [INFO] [Bullet] Starting wall penetration at (514.22986, 922.34924)
[00:05:59] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,16425
[00:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.065056, 1486.1238), shooter_id=6107544160607, bullet_pos=(313.2932, 693.4542)
[00:05:59] [INFO] [Bullet] Using shooter_position, distance=826,2689
[00:05:59] [INFO] [Bullet] Distance to wall: 826,2689 (56,262173% of viewport)
[00:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(96.24706, 1385.0065), shooter_id=6107544160607, bullet_pos=(1271.5272, 49.0654)
[00:05:59] [INFO] [Bullet] Using shooter_position, distance=1779,3319
[00:05:59] [INFO] [Bullet] Distance to wall: 1779,3319 (121,15798% of viewport)
[00:05:59] [INFO] [Bullet] Body exited signal received for penetrating body
[00:05:59] [INFO] [Bullet] Exiting penetration at (541.8585, 884.74023) after traveling 41,66667 pixels through wall
[00:05:59] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.065056, 1458.8997), shooter_id=6107544160607, bullet_pos=(56.595882, 1049.5215)
[00:05:59] [INFO] [Bullet] Using shooter_position, distance=410,05035
[00:05:59] [INFO] [Bullet] Distance to wall: 410,05035 (27,921083% of viewport)
[00:05:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.065056, 1486.1238), shooter_id=6107544160607, bullet_pos=(56.688168, 910.58984)
[00:06:00] [INFO] [Bullet] Using shooter_position, distance=576,0085
[00:06:00] [INFO] [Bullet] Distance to wall: 576,0085 (39,221478% of viewport)
[00:06:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(96.24706, 1385.0065), shooter_id=6107544160607, bullet_pos=(1580.0039, 285.7704)
[00:06:00] [INFO] [Bullet] Using shooter_position, distance=1846,5791
[00:06:00] [INFO] [Bullet] Distance to wall: 1846,5791 (125,73698% of viewport)
[00:06:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.065056, 1458.8997), shooter_id=6107544160607, bullet_pos=(377.89355, 1386.4873)
[00:06:00] [INFO] [Bullet] Using shooter_position, distance=306,50507
[00:06:00] [INFO] [Bullet] Distance to wall: 306,50507 (20,870495% of viewport)
[00:06:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(271.25595, 1209.9998), shooter_id=6107544160607, bullet_pos=(500.43436, 930.978)
[00:06:00] [INFO] [Bullet] Using shooter_position, distance=361,076
[00:06:00] [INFO] [Bullet] Distance to wall: 361,076 (24,586329% of viewport)
[00:06:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:00] [INFO] [Bullet] Starting wall penetration at (500.43436, 930.978)
[00:06:00] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:06:00] [INFO] [Bullet] Exiting penetration at (515.10565, 916.3545) after traveling 15,714565 pixels through wall
[00:06:00] [INFO] [Bullet] Damage multiplier after penetration: 0,0140625
[00:06:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(96.24706, 1385.0065), shooter_id=6107544160607, bullet_pos=(2008.7731, 62.30985)
[00:06:00] [INFO] [Bullet] Using shooter_position, distance=2325,3562
[00:06:00] [INFO] [Bullet] Distance to wall: 2325,3562 (158,33778% of viewport)
[00:06:00] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[00:06:00] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[00:06:00] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[00:06:00] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[00:06:00] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[00:06:00] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[00:06:00] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[00:06:00] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[00:06:00] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(80.06516, 1739.02), source=PLAYER (Player), range=900, listeners=7
[00:06:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=0, below_threshold=0
[00:06:00] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1159), can_see=false
[00:06:00] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1186), can_see=false
[00:06:00] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=2134), can_see=false
[00:06:00] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=2271), can_see=false
[00:06:00] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1747), can_see=false
[00:06:00] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1843), can_see=false
[00:06:00] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2029), can_see=false
[00:06:00] [INFO] [Player.Reload.Anim] LeftArm: pos=(4.455539, 2.0919342), target=(4, 2), base=(24, 6)
[00:06:00] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9958678, 6), target=(-2, 6), base=(-2, 6)
[00:06:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.065056, 1458.8997), shooter_id=6107544160607, bullet_pos=(811.56714, 1015.8046)
[00:06:00] [INFO] [Bullet] Using shooter_position, distance=855,23596
[00:06:00] [INFO] [Bullet] Distance to wall: 855,23596 (58,23459% of viewport)
[00:06:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(96.24706, 1385.0065), shooter_id=6107544160607, bullet_pos=(2469.5837, 215.72797)
[00:06:00] [INFO] [Bullet] Using shooter_position, distance=2645,74
[00:06:00] [INFO] [Bullet] Distance to wall: 2645,74 (180,1533% of viewport)
[00:06:00] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[00:06:01] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1159), can_see=false
[00:06:01] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1186), can_see=false
[00:06:01] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=2134), can_see=false
[00:06:01] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=2271), can_see=false
[00:06:01] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1747), can_see=false
[00:06:01] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1843), can_see=false
[00:06:01] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2029), can_see=false
[00:06:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.065056, 1458.8997), shooter_id=6107544160607, bullet_pos=(1285.1091, 1378.7092)
[00:06:01] [INFO] [Bullet] Using shooter_position, distance=1207,7094
[00:06:01] [INFO] [Bullet] Distance to wall: 1207,7094 (82,23515% of viewport)
[00:06:01] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[00:06:01] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[00:06:01] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[00:06:01] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[00:06:01] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[00:06:01] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[00:06:01] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[00:06:01] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[00:06:01] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[00:06:01] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[00:06:02] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[00:06:02] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[00:06:02] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[00:06:02] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[00:06:03] [ENEMY] [Enemy1] FLANKING started: target=(21.61141, 919.4196), side=left, pos=(501.1537, 659.2223)
[00:06:03] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[00:06:03] [ENEMY] [Enemy1] State: FLANKING -> COMBAT
[00:06:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(500.2984, 736.3417), source=ENEMY (Enemy1), range=1469, listeners=7
[00:06:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=2
[00:06:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(83.14479, 875.962), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:06:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[00:06:04] [INFO] [LastChance] Threat detected: Bullet
[00:06:04] [INFO] [LastChance] Not in hard mode - effect disabled
[00:06:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:06:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(463.1597, 736.0653), source=ENEMY (Enemy1), range=1469, listeners=7
[00:06:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=2
[00:06:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(100.3905, 844.6055), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:06:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[00:06:04] [ENEMY] [Enemy1] Hit taken, health: 2/3
[00:06:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.5241, 765.0241), shooter_id=6104155163824, bullet_pos=(42.9985, 896.0605)
[00:06:04] [INFO] [Bullet] Using shooter_position, distance=416.666595458984
[00:06:04] [INFO] [Bullet] Distance to wall: 416.666595458984 (28.3715946671111% of viewport)
[00:06:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:04] [INFO] [Bullet] Starting wall penetration at (42.9985, 896.0605)
[00:06:04] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26.7469444274902
[00:06:04] [INFO] [Bullet] Body exited signal received for penetrating body
[00:06:04] [INFO] [Bullet] Exiting penetration at (6.610146, 908.1158) after traveling 33.3333320617676 pixels through wall
[00:06:04] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:06:04] [INFO] [LastChance] Threat detected: @Area2D@6955
[00:06:04] [INFO] [LastChance] Not in hard mode - effect disabled
[00:06:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:06:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(430.3439, 736.0652), source=ENEMY (Enemy1), range=1469, listeners=7
[00:06:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=2
[00:06:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(124.3093, 820.413), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:06:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[00:06:04] [ENEMY] [Enemy1] Hit taken, health: 1/3
[00:06:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(400.4043, 762.4658), shooter_id=6104155163824, bullet_pos=(56.36419, 862.6617)
[00:06:04] [INFO] [Bullet] Using shooter_position, distance=358.333374023438
[00:06:04] [INFO] [Bullet] Distance to wall: 358.333374023438 (24.3995783542289% of viewport)
[00:06:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:04] [INFO] [LastChance] Threat detected: Bullet
[00:06:04] [INFO] [LastChance] Not in hard mode - effect disabled
[00:06:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:06:04] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[00:06:04] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[00:06:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(149.1994, 795.5229), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:06:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=1
[00:06:04] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:06:04] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:06:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(366.9355, 760.8394), shooter_id=6104155163824, bullet_pos=(44.60427, 845.7728)
[00:06:04] [INFO] [Bullet] Using shooter_position, distance=333.333343505859
[00:06:04] [INFO] [Bullet] Distance to wall: 333.333343505859 (22.6972803052845% of viewport)
[00:06:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:04] [INFO] [Bullet] Starting wall penetration at (44.60427, 845.7728)
[00:06:04] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25.2988452911377
[00:06:04] [INFO] [Bullet] Body exited signal received for penetrating body
[00:06:04] [INFO] [Bullet] Exiting penetration at (7.536179, 855.5402) after traveling 33.3333358764648 pixels through wall
[00:06:04] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:06:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(174.0896, 770.6328), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:06:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=1
[00:06:04] [ENEMY] [Enemy1] Hit taken, health: 0/3
[00:06:04] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[00:06:04] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:06:04] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[00:06:04] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:06:04] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[00:06:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(124.30931, 820.413), shooter_id=6107544160607, bullet_pos=(912.2704, 743.9068)
[00:06:04] [INFO] [Bullet] Using shooter_position, distance=791,6665
[00:06:04] [INFO] [Bullet] Distance to wall: 791,6665 (53,90603% of viewport)
[00:06:04] [INFO] [Bullet] Distance-based penetration chance: 83,7763%
[00:06:04] [INFO] [Bullet] Starting wall penetration at (912.2704, 743.9068)
[00:06:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(198.9797, 745.7426), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:06:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=1
[00:06:04] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,492147
[00:06:04] [INFO] [Bullet] Body exited signal received for penetrating body
[00:06:04] [INFO] [Bullet] Exiting penetration at (950.4243, 740.2023) after traveling 33,333336 pixels through wall
[00:06:04] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:06:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(198.97972, 745.7426), shooter_id=6107544160607, bullet_pos=(421.9662, 715.70795)
[00:06:05] [INFO] [Bullet] Using shooter_position, distance=225,0001
[00:06:05] [INFO] [Bullet] Distance to wall: 225,0001 (15,320672% of viewport)
[00:06:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:05] [INFO] [Bullet] Starting wall penetration at (421.9662, 715.70795)
[00:06:05] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:06:05] [INFO] [Bullet] Exiting penetration at (459.95648, 710.59094) after traveling 33,333336 pixels through wall
[00:06:05] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:06:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(149.19945, 795.5229), shooter_id=6107544160607, bullet_pos=(939.69006, 752.3876)
[00:06:05] [INFO] [Bullet] Using shooter_position, distance=791,6666
[00:06:05] [INFO] [Bullet] Distance to wall: 791,6666 (53,906036% of viewport)
[00:06:05] [INFO] [Bullet] Distance-based penetration chance: 83,7763%
[00:06:05] [INFO] [Bullet] Starting wall penetration at (939.69006, 752.3876)
[00:06:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(223.8701, 734.0649), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:06:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=1
[00:06:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 42,028862
[00:06:05] [INFO] [Bullet] Body exited signal received for penetrating body
[00:06:05] [INFO] [Bullet] Exiting penetration at (977.96643, 750.2989) after traveling 33,333336 pixels through wall
[00:06:05] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:06:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(223.87009, 734.0649), shooter_id=6107544160607, bullet_pos=(481.5559, 715.785)
[00:06:05] [INFO] [Bullet] Using shooter_position, distance=258,3334
[00:06:05] [INFO] [Bullet] Distance to wall: 258,3334 (17,590397% of viewport)
[00:06:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:05] [INFO] [Bullet] Starting wall penetration at (481.5559, 715.785)
[00:06:05] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:06:05] [INFO] [Bullet] Exiting penetration at (519.79315, 713.07245) after traveling 33,333332 pixels through wall
[00:06:05] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:06:05] [ENEMY] [Enemy1] Ragdoll activated
[00:06:05] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:06:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(553.0901, 712.7166), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:06:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[00:06:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(553.0901, 712.71655), shooter_id=6107544160607, bullet_pos=(500.61517, 687.23785)
[00:06:06] [INFO] [Bullet] Using shooter_position, distance=58,33336
[00:06:06] [INFO] [Bullet] Distance to wall: 58,33336 (3,9720259% of viewport)
[00:06:06] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[00:06:06] [INFO] [Bullet] Starting wall penetration at (500.61517, 687.23785)
[00:06:06] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:06:06] [INFO] [Bullet] Exiting penetration at (466.13165, 670.4947) after traveling 33,333336 pixels through wall
[00:06:06] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:06:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(394.0936, 649.6863), source=ENEMY (Enemy2), range=1469, listeners=6
[00:06:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=2
[00:06:06] [INFO] [LastChance] Threat detected: Bullet
[00:06:06] [INFO] [LastChance] Not in hard mode - effect disabled
[00:06:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:06:06] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:06:06] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:06:06] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:06:06] [INFO] [LastChance] Player died
[00:06:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(394.0936, 649.6863), source=ENEMY (Enemy2), range=1469, listeners=6
[00:06:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=2
[00:06:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(577.9998, 687.8879), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:06:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[00:06:06] [INFO] [LastChance] Threat detected: Bullet
[00:06:06] [INFO] [LastChance] Not in hard mode - effect disabled
[00:06:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:06:06] [ENEMY] [Enemy1] Death animation completed
[00:06:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(394.0936, 649.6863), source=ENEMY (Enemy2), range=1469, listeners=6
[00:06:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=2
[00:06:06] [ENEMY] [Enemy2] Hit taken, health: 0/2
[00:06:06] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:06:06] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:06:06] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 5)
[00:06:06] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:06:06] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[00:06:06] [INFO] [LastChance] Threat detected: @Area2D@6981
[00:06:06] [INFO] [LastChance] Not in hard mode - effect disabled
[00:06:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:06:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(602.2986, 662.7528), source=PLAYER (AssaultRifle), range=1469, listeners=5
[00:06:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[00:06:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(617.0786, 633.867), source=PLAYER (AssaultRifle), range=1469, listeners=5
[00:06:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[00:06:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(463.1554, 664.043), shooter_id=6104440374670, bullet_pos=(918.6774, 765.4217)
[00:06:06] [INFO] [Bullet] Using shooter_position, distance=466.666870117188
[00:06:06] [INFO] [Bullet] Distance to wall: 466.666870117188 (31.7762053109859% of viewport)
[00:06:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:07] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:06:07] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:06:07] [ENEMY] [Enemy1] Death animation component initialized
[00:06:07] [ENEMY] [Enemy2] Death animation component initialized
[00:06:07] [ENEMY] [Enemy3] Death animation component initialized
[00:06:07] [ENEMY] [Enemy4] Death animation component initialized
[00:06:07] [ENEMY] [Enemy5] Death animation component initialized
[00:06:07] [ENEMY] [Enemy6] Death animation component initialized
[00:06:07] [ENEMY] [Enemy7] Death animation component initialized
[00:06:07] [ENEMY] [Enemy8] Death animation component initialized
[00:06:07] [ENEMY] [Enemy9] Death animation component initialized
[00:06:07] [ENEMY] [Enemy10] Death animation component initialized
[00:06:07] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:06:07] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:06:07] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:06:07] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:06:07] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:06:07] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:06:07] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:06:07] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:06:07] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:06:07] [INFO] [ScoreManager] Level started with 10 enemies
[00:06:07] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[00:06:07] [ENEMY] [Enemy1] Registered as sound listener
[00:06:07] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:06:07] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[00:06:07] [ENEMY] [Enemy2] Registered as sound listener
[00:06:07] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:06:07] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[00:06:07] [ENEMY] [Enemy3] Registered as sound listener
[00:06:07] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:06:07] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[00:06:07] [ENEMY] [Enemy4] Registered as sound listener
[00:06:07] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:06:07] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 10)
[00:06:07] [ENEMY] [Enemy5] Registered as sound listener
[00:06:07] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:06:07] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 11)
[00:06:07] [ENEMY] [Enemy6] Registered as sound listener
[00:06:07] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:06:07] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 12)
[00:06:07] [ENEMY] [Enemy7] Registered as sound listener
[00:06:07] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:06:07] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 13)
[00:06:07] [ENEMY] [Enemy8] Registered as sound listener
[00:06:07] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:06:07] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 14)
[00:06:07] [ENEMY] [Enemy9] Registered as sound listener
[00:06:07] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:06:07] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 15)
[00:06:07] [ENEMY] [Enemy10] Registered as sound listener
[00:06:07] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:06:07] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:06:07] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:06:07] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:06:07] [INFO] [LastChance] Found player: Player
[00:06:07] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:06:07] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:06:07] [INFO] [LastChance] Connected to player Died signal (C#)
[00:06:07] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:06:07] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:06:07] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:06:10] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:06:11] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:06:11] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:06:11] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:06:11] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (664.04974, 838.0049)
[00:06:11] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:06:11] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:06:11] [INFO] [Player.Grenade] Timer started, grenade created at (483.9331, 889.4279)
[00:06:11] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:06:11] [INFO] [Player.Grenade] Step 1 complete! Drag: (214.44678, 0.5984497)
[00:06:11] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:06:11] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:06:11] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:06:11] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:06:11] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:06:11] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:06:12] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:06:12] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:06:12] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1202.0143, -45.72112) (1202,9 px/s), Swing distance: 174,8
[00:06:12] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,03801876
[00:06:12] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1202.014, -45.72112), Swing: 174.8, Transfer: 1.00, Final speed: 634.0
[00:06:12] [INFO] [Player.Grenade] Thrown! Velocity: 1202,9, Swing: 174,8
[00:06:12] [INFO] [Player.Grenade] State reset to IDLE
[00:06:12] [INFO] [Player.Grenade] Player rotation restored to 0
[00:06:12] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:06:12] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[00:06:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=15
[00:06:12] [INFO] [SoundPropagation] Cleaned up 5 invalid listeners
[00:06:12] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[00:06:12] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[00:06:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:06:12] [INFO] [LastChance] Threat detected: Bullet
[00:06:12] [INFO] [LastChance] Not in hard mode - effect disabled
[00:06:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:06:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:06:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:06:12] [INFO] [LastChance] Threat detected: Bullet
[00:06:12] [INFO] [LastChance] Not in hard mode - effect disabled
[00:06:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:06:12] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:06:12] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:06:13] [INFO] [GrenadeBase] Grenade landed at (644.2825, 718.8185)
[00:06:13] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:06:13] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:06:14] [ENEMY] [Enemy10] FLANKING started: target=(679.4663, 865.2283), side=left, pos=(952.5884, 1425.351)
[00:06:14] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:06:15] [INFO] [GrenadeBase] EXPLODED at (641.8751, 716.6733)!
[00:06:15] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(641.8751, 716.6733), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=10
[00:06:15] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:06:15] [ENEMY] [Enemy2] Status effect: BLINDED applied
[00:06:15] [ENEMY] [Enemy2] Status effect: STUNNED applied
[00:06:15] [ENEMY] [Enemy3] Status effect: BLINDED applied
[00:06:15] [ENEMY] [Enemy3] Status effect: STUNNED applied
[00:06:15] [ENEMY] [Enemy4] Status effect: BLINDED applied
[00:06:15] [ENEMY] [Enemy4] Status effect: STUNNED applied
[00:06:16] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[00:06:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(448.9252, 913.2611), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:06:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:06:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(448.92517, 913.2611), shooter_id=7198801398791, bullet_pos=(511.25296, 1001.869)
[00:06:16] [INFO] [Bullet] Using shooter_position, distance=108,33335
[00:06:16] [INFO] [Bullet] Distance to wall: 108,33335 (7,3766174% of viewport)
[00:06:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(448.92517, 913.2611), shooter_id=7198801398791, bullet_pos=(508.18793, 1005.8194)
[00:06:16] [INFO] [Bullet] Using shooter_position, distance=109,905014
[00:06:16] [INFO] [Bullet] Distance to wall: 109,905014 (7,483635% of viewport)
[00:06:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(448.92517, 913.2611), shooter_id=7198801398791, bullet_pos=(511.18915, 1009.8185)
[00:06:16] [INFO] [Bullet] Using shooter_position, distance=114,891815
[00:06:16] [INFO] [Bullet] Distance to wall: 114,891815 (7,8231955% of viewport)
[00:06:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:16] [ENEMY] [Enemy10] Hit taken, health: 3/4
[00:06:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(413.2918, 913.2611), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:06:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:06:16] [ENEMY] [Enemy10] Hit taken, health: 2/4
[00:06:16] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[00:06:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(378.0919, 913.2611), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:06:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:06:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(514.6968, 1059.587), source=ENEMY (Enemy10), range=1469, listeners=10
[00:06:16] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[00:06:16] [ENEMY] [Enemy10] Hit taken, health: 1/4
[00:06:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(342.8919, 913.2611), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:06:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[00:06:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(522.8076, 1060.966), source=ENEMY (Enemy10), range=1469, listeners=10
[00:06:17] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[00:06:17] [INFO] [LastChance] Threat detected: @Area2D@7243
[00:06:17] [INFO] [LastChance] Not in hard mode - effect disabled
[00:06:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:06:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(531.6495, 1066.922), source=ENEMY (Enemy10), range=1469, listeners=10
[00:06:17] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[00:06:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(307.692, 913.2611), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:06:17] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[00:06:17] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:06:17] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:06:17] [INFO] [LastChance] Threat detected: @Area2D@7244
[00:06:17] [INFO] [LastChance] Not in hard mode - effect disabled
[00:06:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:06:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(461.1227, 1017.629), shooter_id=7197979315586, bullet_pos=(55.80516, 786.3381)
[00:06:17] [INFO] [Bullet] Using shooter_position, distance=466.666931152344
[00:06:17] [INFO] [Bullet] Distance to wall: 466.666931152344 (31.776209466982% of viewport)
[00:06:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(275.1587, 913.2611), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:06:17] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[00:06:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(461.1227, 1017.629), shooter_id=7197979315586, bullet_pos=(210.0443, 703.6622)
[00:06:17] [INFO] [Bullet] Using shooter_position, distance=402.014739990234
[00:06:17] [INFO] [Bullet] Distance to wall: 402.014739990234 (27.3739228858574% of viewport)
[00:06:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(472.7153, 1032.902), shooter_id=7197979315586, bullet_pos=(100.0106, 699.5991)
[00:06:17] [INFO] [Bullet] Using shooter_position, distance=499.999877929688
[00:06:17] [INFO] [Bullet] Distance to wall: 499.999877929688 (34.0459111069357% of viewport)
[00:06:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:17] [INFO] [Bullet] Starting wall penetration at (100.0106, 699.5991)
[00:06:17] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38.3191757202148
[00:06:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(275.1587, 913.2611), shooter_id=7198801398791, bullet_pos=(521.60596, 990.72)
[00:06:17] [INFO] [Bullet] Using shooter_position, distance=258,33337
[00:06:17] [INFO] [Bullet] Distance to wall: 258,33337 (17,590395% of viewport)
[00:06:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(275.1587, 913.2611), shooter_id=7198801398791, bullet_pos=(516.84174, 992.23724)
[00:06:17] [INFO] [Bullet] Using shooter_position, distance=254,25957
[00:06:17] [INFO] [Bullet] Distance to wall: 254,25957 (17,313002% of viewport)
[00:06:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:17] [INFO] [Bullet] Starting wall penetration at (516.84174, 992.23724)
[00:06:17] [INFO] [Bullet] Body exited signal received for penetrating body
[00:06:17] [INFO] [Bullet] Exiting penetration at (71.43652, 674.0459) after traveling 33.3333358764648 pixels through wall
[00:06:17] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:06:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(252.5966, 910.611), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:06:17] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[00:06:17] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:06:17] [INFO] [Bullet] Exiting penetration at (485.08026, 1002.35254) after traveling 28,333336 pixels through wall
[00:06:17] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:06:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(342.89194, 913.2611), shooter_id=7198801398791, bullet_pos=(893.36945, 1527.7539)
[00:06:17] [INFO] [Bullet] Using shooter_position, distance=825,00116
[00:06:17] [INFO] [Bullet] Distance to wall: 825,00116 (56,175846% of viewport)
[00:06:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(307.692, 913.2611), shooter_id=7198801398791, bullet_pos=(888.9306, 1400.3254)
[00:06:17] [INFO] [Bullet] Using shooter_position, distance=758,3337
[00:06:17] [INFO] [Bullet] Distance to wall: 758,3337 (51,636337% of viewport)
[00:06:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(252.59665, 910.61096), shooter_id=7198801398791, bullet_pos=(497.92856, 991.5328)
[00:06:17] [INFO] [Bullet] Using shooter_position, distance=258,33328
[00:06:17] [INFO] [Bullet] Distance to wall: 258,33328 (17,59039% of viewport)
[00:06:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:17] [INFO] [Bullet] Starting wall penetration at (497.92856, 991.5328)
[00:06:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(252.59665, 910.61096), shooter_id=7198801398791, bullet_pos=(502.6769, 993.099)
[00:06:17] [INFO] [Bullet] Using shooter_position, distance=263,33328
[00:06:17] [INFO] [Bullet] Distance to wall: 263,33328 (17,930847% of viewport)
[00:06:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(461.1227, 1017.629), shooter_id=7197979315586, bullet_pos=(506.8459, 873.9168)
[00:06:17] [INFO] [Bullet] Using shooter_position, distance=150.810913085938
[00:06:17] [INFO] [Bullet] Distance to wall: 150.810913085938 (10.2689923888375% of viewport)
[00:06:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(237.8617, 897.1835), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:06:17] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[00:06:17] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:06:17] [INFO] [Bullet] Exiting penetration at (472.86087, 1008.00256) after traveling 28,333334 pixels through wall
[00:06:17] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:06:17] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[00:06:17] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[00:06:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(237.86166, 897.18353), shooter_id=7198801398791, bullet_pos=(504.4368, 1015.535)
[00:06:17] [INFO] [Bullet] Using shooter_position, distance=291,66653
[00:06:17] [INFO] [Bullet] Distance to wall: 291,66653 (19,860111% of viewport)
[00:06:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(342.89194, 913.2611), shooter_id=7198801398791, bullet_pos=(513.59283, 1875.5963)
[00:06:17] [INFO] [Bullet] Using shooter_position, distance=977,3576
[00:06:17] [INFO] [Bullet] Distance to wall: 977,3576 (66,55008% of viewport)
[00:06:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(307.692, 913.2611), shooter_id=7198801398791, bullet_pos=(1282.3268, 1025.558)
[00:06:17] [INFO] [Bullet] Using shooter_position, distance=981,0828
[00:06:17] [INFO] [Bullet] Distance to wall: 981,0828 (66,803734% of viewport)
[00:06:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(342.89194, 913.2611), shooter_id=7198801398791, bullet_pos=(796.4851, 2068.0806)
[00:06:17] [INFO] [Bullet] Using shooter_position, distance=1240,7074
[00:06:17] [INFO] [Bullet] Distance to wall: 1240,7074 (84,48205% of viewport)
[00:06:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(307.692, 913.2611), shooter_id=7198801398791, bullet_pos=(1685.5687, 1542.0343)
[00:06:18] [INFO] [Bullet] Using shooter_position, distance=1514,5626
[00:06:18] [INFO] [Bullet] Distance to wall: 1514,5626 (103,12935% of viewport)
[00:06:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(307.692, 913.2611), shooter_id=7198801398791, bullet_pos=(1504.9989, 1715.8737)
[00:06:18] [INFO] [Bullet] Using shooter_position, distance=1441,4335
[00:06:18] [INFO] [Bullet] Distance to wall: 1441,4335 (98,14986% of viewport)
[00:06:18] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[00:06:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(342.89194, 913.2611), shooter_id=7198801398791, bullet_pos=(1489.8463, 1751.0087)
[00:06:18] [INFO] [Bullet] Using shooter_position, distance=1420,3258
[00:06:18] [INFO] [Bullet] Distance to wall: 1420,3258 (96,7126% of viewport)
[00:06:18] [INFO] [Bullet] Distance-based penetration chance: 33,835297%
[00:06:18] [INFO] [Bullet] Penetration failed (distance roll)
[00:06:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(267.5521, 967.7184), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:06:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[00:06:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(267.55206, 967.7184), shooter_id=7198801398791, bullet_pos=(519.25323, 1025.8784)
[00:06:18] [INFO] [Bullet] Using shooter_position, distance=258,33325
[00:06:18] [INFO] [Bullet] Distance to wall: 258,33325 (17,590387% of viewport)
[00:06:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:18] [INFO] [Bullet] Starting wall penetration at (519.25323, 1025.8784)
[00:06:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(267.5521, 1002.385), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:06:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[00:06:18] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:06:18] [INFO] [Bullet] Exiting penetration at (556.6025, 1034.5087) after traveling 33,333332 pixels through wall
[00:06:18] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:06:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(307.692, 913.2611), shooter_id=7198801398791, bullet_pos=(1773.8252, 2064.2078)
[00:06:18] [INFO] [Bullet] Using shooter_position, distance=1863,9272
[00:06:18] [INFO] [Bullet] Distance to wall: 1863,9272 (126,918236% of viewport)
[00:06:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(267.5521, 1028.234), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:06:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[00:06:19] [ENEMY] [Enemy10] Hit taken, health: 0/4
[00:06:19] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[00:06:19] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:06:19] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[00:06:19] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:06:19] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[00:06:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(267.5521, 1040.963), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:06:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=2
[00:06:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(267.5521, 1040.039), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:06:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=2
[00:06:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(267.5521, 1025.461), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:06:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=2
[00:06:19] [ENEMY] [Enemy10] Ragdoll activated
[00:06:19] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:06:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(267.55206, 1040.0386), shooter_id=7198801398791, bullet_pos=(1718.0646, 1190.8618)
[00:06:19] [INFO] [Bullet] Using shooter_position, distance=1458,3326
[00:06:19] [INFO] [Bullet] Distance to wall: 1458,3326 (99,30055% of viewport)
[00:06:19] [INFO] [Bullet] Distance-based penetration chance: 30,816025%
[00:06:19] [INFO] [Bullet] Penetration failed (distance roll)
[00:06:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(267.55206, 1040.963), shooter_id=7198801398791, bullet_pos=(1986.3835, 1186.7057)
[00:06:19] [INFO] [Bullet] Using shooter_position, distance=1724,9994
[00:06:19] [INFO] [Bullet] Distance to wall: 1724,9994 (117,45838% of viewport)
[00:06:19] [INFO] [Bullet] Distance-based penetration chance: 26,508326%
[00:06:19] [INFO] [Bullet] Penetration failed (distance roll)
[00:06:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(267.55206, 1028.2341), shooter_id=7198801398791, bullet_pos=(2489.5332, 1144.0607)
[00:06:20] [INFO] [Bullet] Using shooter_position, distance=2224,998
[00:06:20] [INFO] [Bullet] Distance to wall: 2224,998 (151,50421% of viewport)
[00:06:20] [INFO] [Bullet] Distance-based penetration chance: 19,699156%
[00:06:20] [INFO] [Bullet] Penetration failed (distance roll)
[00:06:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(267.55206, 1025.4608), shooter_id=7198801398791, bullet_pos=(2473.351, 1317.1173)
[00:06:20] [INFO] [Bullet] Using shooter_position, distance=2224,9973
[00:06:20] [INFO] [Bullet] Distance to wall: 2224,9973 (151,50417% of viewport)
[00:06:20] [INFO] [Bullet] Distance-based penetration chance: 19,69917%
[00:06:20] [INFO] [Bullet] Penetration failed (distance roll)
[00:06:20] [ENEMY] [Enemy10] Death animation completed
[00:06:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(515.5859, 741.2915), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:06:20] [ENEMY] [Enemy1] Heard gunshot at (515.5859, 741.2915), source_type=0, intensity=0.01, distance=447
[00:06:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=3
[00:06:21] [ENEMY] [Enemy3] Hit taken, health: 1/2
[00:06:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(545.8082, 741.2915), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:06:21] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=3
[00:06:21] [ENEMY] [Enemy3] Hit taken, health: 0/2
[00:06:21] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:06:21] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:06:21] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 8)
[00:06:21] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:06:21] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[00:06:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(564.6526, 741.2915), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:06:21] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=3
[00:06:21] [ENEMY] [Enemy4] Hit taken, health: 2/3
[00:06:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(571.1237, 741.2915), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:06:21] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=3
[00:06:21] [ENEMY] [Enemy4] Hit taken, health: 1/3
[00:06:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(563.9414, 741.2915), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:06:21] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=3
[00:06:21] [ENEMY] [Enemy4] Hit taken, health: 0/3
[00:06:21] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[00:06:21] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[00:06:21] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 7)
[00:06:21] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:06:21] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[00:06:21] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[00:06:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.9725, 741.2915), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:06:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=3
[00:06:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(548.97253, 741.2915), shooter_id=7198801398791, bullet_pos=(578.4248, 997.94025)
[00:06:21] [INFO] [Bullet] Using shooter_position, distance=258,33316
[00:06:21] [INFO] [Bullet] Distance to wall: 258,33316 (17,59038% of viewport)
[00:06:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:21] [INFO] [Bullet] Starting wall penetration at (578.4248, 997.94025)
[00:06:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,102596
[00:06:21] [ENEMY] [Enemy3] Ragdoll activated
[00:06:21] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:06:21] [INFO] [Bullet] Body exited signal received for penetrating body
[00:06:21] [INFO] [Bullet] Exiting penetration at (582.79517, 1036.0237) after traveling 33,333336 pixels through wall
[00:06:21] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:06:22] [ENEMY] [Enemy4] Ragdoll activated
[00:06:22] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:06:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(599.9525, 698.3508), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:06:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=3
[00:06:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(624.8427, 673.4606), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:06:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=3
[00:06:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(650.5492, 650.5414), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:06:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=3
[00:06:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(599.9525, 698.35077), shooter_id=7198801398791, bullet_pos=(63.744118, 448.25076)
[00:06:22] [INFO] [Bullet] Using shooter_position, distance=591,6666
[00:06:22] [INFO] [Bullet] Distance to wall: 591,6666 (40,28767% of viewport)
[00:06:22] [INFO] [Bullet] Distance-based penetration chance: 99,66438%
[00:06:22] [INFO] [Bullet] Starting wall penetration at (63.744118, 448.25076)
[00:06:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3,3060293
[00:06:22] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[00:06:22] [INFO] [Bullet] Body exited signal received for penetrating body
[00:06:22] [INFO] [Bullet] Exiting penetration at (-1.2050819, 417.957) after traveling 66,66667 pixels through wall
[00:06:22] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:06:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(680.9908, 639.0537), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:06:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=4
[00:06:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(624.84265, 673.46063), shooter_id=7198801398791, bullet_pos=(45.468998, 439.04425)
[00:06:22] [INFO] [Bullet] Using shooter_position, distance=624,9999
[00:06:22] [INFO] [Bullet] Distance to wall: 624,9999 (42,557392% of viewport)
[00:06:22] [INFO] [Bullet] Distance-based penetration chance: 97,01637%
[00:06:22] [INFO] [Bullet] Starting wall penetration at (45.468998, 439.04425)
[00:06:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,80365
[00:06:22] [INFO] [Bullet] Body exited signal received for penetrating body
[00:06:22] [INFO] [Bullet] Exiting penetration at (9.934078, 424.6667) after traveling 33,333336 pixels through wall
[00:06:22] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:06:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(714.3093, 640.2199), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:06:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[00:06:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(650.5492, 650.54144), shooter_id=7198801398791, bullet_pos=(67.92302, 547.50714)
[00:06:22] [INFO] [Bullet] Using shooter_position, distance=591,66656
[00:06:22] [INFO] [Bullet] Distance to wall: 591,66656 (40,287666% of viewport)
[00:06:22] [INFO] [Bullet] Distance-based penetration chance: 99,66439%
[00:06:22] [INFO] [Bullet] Starting wall penetration at (67.92302, 547.50714)
[00:06:22] [ENEMY] [Enemy2] Status effect: STUNNED removed
[00:06:22] [ENEMY] [Enemy3] Status effect: STUNNED removed
[00:06:22] [ENEMY] [Enemy4] Status effect: STUNNED removed
[00:06:22] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[00:06:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 1,852912
[00:06:22] [INFO] [Bullet] Max penetration distance exceeded: 66,666664 >= 48
[00:06:22] [INFO] [Bullet] Body exited signal received for penetrating body
[00:06:22] [INFO] [Bullet] Exiting penetration at (-2.6486092, 535.0269) after traveling 66,666664 pixels through wall
[00:06:22] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:06:22] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:06:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(743.3042, 654.1624), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:06:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[00:06:22] [ENEMY] [Enemy3] Death animation completed
[00:06:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(680.9908, 639.0537), shooter_id=7198801398791, bullet_pos=(61.33823, 557.47107)
[00:06:22] [INFO] [Bullet] Using shooter_position, distance=625
[00:06:22] [INFO] [Bullet] Distance to wall: 625 (42,5574% of viewport)
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(768.4978, 678.2432), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[00:06:23] [ENEMY] [Enemy2] Hit taken, health: 2/4
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(793.3879, 703.1333), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(818.2781, 728.0234), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[00:06:23] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:06:23] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:06:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(768.4978, 678.24316), shooter_id=7198801398791, bullet_pos=(46.213116, 615.5526)
[00:06:23] [INFO] [Bullet] Using shooter_position, distance=725,0002
[00:06:23] [INFO] [Bullet] Distance to wall: 725,0002 (49,366596% of viewport)
[00:06:23] [INFO] [Bullet] Distance-based penetration chance: 89,0723%
[00:06:23] [INFO] [Bullet] Penetration failed (distance roll)
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(835.6432, 753.3893), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[00:06:23] [ENEMY] [Enemy4] Death animation completed
[00:06:23] [ENEMY] [Enemy1] Player ammo empty state changed: false -> true
[00:06:23] [ENEMY] [Enemy2] Player ammo empty state changed: false -> true
[00:06:23] [ENEMY] [Enemy3] Player ammo empty state changed: false -> true
[00:06:23] [ENEMY] [Enemy4] Player ammo empty state changed: false -> true
[00:06:23] [ENEMY] [Enemy5] Player ammo empty state changed: false -> true
[00:06:23] [ENEMY] [Enemy6] Player ammo empty state changed: false -> true
[00:06:23] [ENEMY] [Enemy7] Player ammo empty state changed: false -> true
[00:06:23] [ENEMY] [Enemy8] Player ammo empty state changed: false -> true
[00:06:23] [ENEMY] [Enemy9] Player ammo empty state changed: false -> true
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(836.8999, 750.3662), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (836.8999, 750.3662), intensity=0.01, distance=424
[00:06:23] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=682), can_see=false
[00:06:23] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=424), can_see=false
[00:06:23] [ENEMY] [Enemy2] Pursuing vulnerability sound at (836.8999, 750.3662), distance=424
[00:06:23] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=951), can_see=false
[00:06:23] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1153), can_see=false
[00:06:23] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=788), can_see=false
[00:06:23] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1273), can_see=false
[00:06:23] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1495), can_see=false
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(837.9678, 753.2437), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (837.9678, 753.2437), intensity=0.01, distance=425
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(838.847, 756.0219), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (838.847, 756.0219), intensity=0.01, distance=424
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(839.5374, 758.7007), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (839.5374, 758.7007), intensity=0.01, distance=423
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(840.0389, 761.2802), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (840.0389, 761.2802), intensity=0.01, distance=422
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(840.3517, 763.7603), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (840.3517, 763.7603), intensity=0.01, distance=420
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(793.38794, 703.1333), shooter_id=7198801398791, bullet_pos=(50.008816, 553.27545)
[00:06:23] [INFO] [Bullet] Using shooter_position, distance=758,3337
[00:06:23] [INFO] [Bullet] Distance to wall: 758,3337 (51,636337% of viewport)
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(840.4758, 766.141), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (840.4758, 766.141), intensity=0.01, distance=419
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(840.4109, 768.4224), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (840.4109, 768.4224), intensity=0.01, distance=417
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(840.1573, 770.6045), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (840.1573, 770.6045), intensity=0.01, distance=414
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(839.715, 772.6872), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (839.715, 772.6872), intensity=0.01, distance=412
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(835.6432, 753.38934), shooter_id=7198801398791, bullet_pos=(510.63348, 602.4872)
[00:06:23] [INFO] [Bullet] Using shooter_position, distance=358,3333
[00:06:23] [INFO] [Bullet] Distance to wall: 358,3333 (24,399576% of viewport)
[00:06:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(839.0838, 774.6706), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (839.0838, 774.6706), intensity=0.01, distance=410
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [ENEMY] [Enemy2] Hit taken, health: 1/4
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(838.2639, 776.5546), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (838.2639, 776.5546), intensity=0.02, distance=407
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(837.2551, 778.3393), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (837.2551, 778.3393), intensity=0.02, distance=404
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(836.0576, 780.0246), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (836.0576, 780.0246), intensity=0.02, distance=401
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(834.6713, 781.6106), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (834.6713, 781.6106), intensity=0.02, distance=397
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(833.0963, 783.0972), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (833.0963, 783.0972), intensity=0.02, distance=394
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(818.2781, 728.02344), shooter_id=7198801398791, bullet_pos=(39.152695, 456.7508)
[00:06:23] [INFO] [Bullet] Using shooter_position, distance=825,00006
[00:06:23] [INFO] [Bullet] Distance to wall: 825,00006 (56,175774% of viewport)
[00:06:23] [INFO] [Bullet] Distance-based penetration chance: 81,128265%
[00:06:23] [INFO] [Bullet] Penetration failed (distance roll)
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(831.3324, 784.4845), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (831.3324, 784.4845), intensity=0.02, distance=390
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(829.4371, 786.0399), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (829.4371, 786.0399), intensity=0.02, distance=385
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(827.4105, 787.7633), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (827.4105, 787.7633), intensity=0.02, distance=379
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(825.2526, 789.6548), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (825.2526, 789.6548), intensity=0.02, distance=374
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(823.2337, 791.7081), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (823.2337, 791.7081), intensity=0.02, distance=369
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(821.3539, 793.9231), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (821.3539, 793.9231), intensity=0.02, distance=364
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(819.6133, 796.2998), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (819.6133, 796.2998), intensity=0.02, distance=360
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(818.0118, 798.8383), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (818.0118, 798.8383), intensity=0.02, distance=356
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(816.5495, 801.5384), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (816.5495, 801.5384), intensity=0.02, distance=352
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(815.2263, 804.4003), source=PLAYER (Player), range=600, listeners=7
[00:06:23] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (815.2263, 804.4003), intensity=0.02, distance=348
[00:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[00:06:23] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=631), can_see=false
[00:06:23] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=330), can_see=false
[00:06:23] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1009), can_see=false
[00:06:23] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1200), can_see=false
[00:06:23] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=804), can_see=false
[00:06:23] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1256), can_see=false
[00:06:23] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1480), can_see=false
[00:06:24] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[00:06:24] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[00:06:24] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[00:06:24] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[00:06:24] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[00:06:24] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[00:06:24] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[00:06:24] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[00:06:24] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(809.0973, 900.8791), source=PLAYER (Player), range=900, listeners=7
[00:06:24] [ENEMY] [Enemy2] Heard player RELOAD at (809.0973, 900.8791), intensity=0.03, distance=303
[00:06:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[00:06:24] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[00:06:24] [ENEMY] [Enemy2] Pursuing vulnerability sound at (809.0973, 900.8791), distance=254
[00:06:24] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=621), can_see=false
[00:06:24] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=true (dist=271), can_see=false
[00:06:24] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1071), can_see=false
[00:06:24] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1246), can_see=false
[00:06:24] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=810), can_see=false
[00:06:24] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1214), can_see=false
[00:06:24] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1438), can_see=false
[00:06:24] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[00:06:24] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[00:06:24] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[00:06:24] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[00:06:24] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[00:06:24] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[00:06:24] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[00:06:24] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[00:06:24] [ENEMY] [Enemy1] Player ammo empty state changed: true -> false
[00:06:24] [ENEMY] [Enemy2] Player ammo empty state changed: true -> false
[00:06:24] [ENEMY] [Enemy5] Player ammo empty state changed: true -> false
[00:06:24] [ENEMY] [Enemy6] Player ammo empty state changed: true -> false
[00:06:24] [ENEMY] [Enemy7] Player ammo empty state changed: true -> false
[00:06:24] [ENEMY] [Enemy8] Player ammo empty state changed: true -> false
[00:06:24] [ENEMY] [Enemy9] Player ammo empty state changed: true -> false
[00:06:24] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[00:06:24] [INFO] [Player.Reload.Anim] LeftArm: pos=(23.294638, 5.9766607), target=(24, 6), base=(24, 6)
[00:06:24] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.0002038, 6.0981455), target=(-2, 6), base=(-2, 6)
[00:06:24] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[00:06:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(800.0047, 944.2462), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:06:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[00:06:24] [ENEMY] [Enemy2] Hit taken, health: 0/4
[00:06:24] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:06:24] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[00:06:24] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 6)
[00:06:24] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:06:24] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[00:06:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(790.618, 944.2462), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:06:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=6
[00:06:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(767.5779, 944.2462), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:06:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=6
[00:06:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(767.57794, 944.2462), shooter_id=7198801398791, bullet_pos=(763.6352, 852.66437)
[00:06:25] [INFO] [Bullet] Using shooter_position, distance=91,66668
[00:06:25] [INFO] [Bullet] Distance to wall: 91,66668 (6,241753% of viewport)
[00:06:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:25] [INFO] [Bullet] Starting wall penetration at (763.6352, 852.66437)
[00:06:25] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:06:25] [INFO] [Bullet] Exiting penetration at (761.9864, 814.3665) after traveling 33,333336 pixels through wall
[00:06:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:06:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(733.4178, 944.2462), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:06:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=5
[00:06:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(733.4178, 944.2462), shooter_id=7198801398791, bullet_pos=(735.0536, 885.9358)
[00:06:25] [INFO] [Bullet] Using shooter_position, distance=58,333366
[00:06:25] [INFO] [Bullet] Distance to wall: 58,333366 (3,9720263% of viewport)
[00:06:25] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[00:06:25] [INFO] [Bullet] Starting wall penetration at (735.0536, 885.9358)
[00:06:25] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:06:25] [INFO] [Bullet] Exiting penetration at (736.12854, 847.6175) after traveling 33,333336 pixels through wall
[00:06:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:06:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(790.618, 944.2462), shooter_id=7198801398791, bullet_pos=(662.4322, 61.841923)
[00:06:25] [INFO] [Bullet] Using shooter_position, distance=891,6664
[00:06:25] [INFO] [Bullet] Distance to wall: 891,6664 (60,715206% of viewport)
[00:06:25] [INFO] [Bullet] Distance-based penetration chance: 75,83227%
[00:06:25] [INFO] [Bullet] Penetration failed (distance roll)
[00:06:25] [ENEMY] [Enemy2] Ragdoll activated
[00:06:25] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:06:26] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[00:06:26] [ENEMY] [Enemy2] Death animation completed
[00:06:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(518.3997, 644.3851), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:06:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[00:06:27] [ENEMY] [Enemy1] Hit taken, health: 1/2
[00:06:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(486.6519, 636.0508), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:06:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[00:06:27] [ENEMY] [Enemy1] Hit taken, health: 0/2
[00:06:27] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[00:06:27] [INFO] [ScoreManager] Kill registered. Combo: 5 (points: 7500)
[00:06:27] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 5)
[00:06:27] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:06:27] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[00:06:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.5161, 635.896), source=PLAYER (AssaultRifle), range=1469, listeners=5
[00:06:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[00:06:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(416.3161, 635.896), source=PLAYER (AssaultRifle), range=1469, listeners=5
[00:06:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[00:06:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(451.51608, 635.896), shooter_id=7198801398791, bullet_pos=(339.4536, 260.6031)
[00:06:27] [INFO] [Bullet] Using shooter_position, distance=391,66666
[00:06:27] [INFO] [Bullet] Distance to wall: 391,66666 (26,669302% of viewport)
[00:06:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(451.51608, 635.896), shooter_id=7198801398791, bullet_pos=(384.72464, 62.373463)
[00:06:27] [INFO] [Bullet] Using shooter_position, distance=577,3986
[00:06:27] [INFO] [Bullet] Distance to wall: 577,3986 (39,316135% of viewport)
[00:06:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:06:27] [INFO] [Bullet] Starting wall penetration at (384.72464, 62.373463)
[00:06:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 2,177855
[00:06:27] [INFO] [Bullet] Max penetration distance exceeded: 56,666668 >= 48
[00:06:27] [INFO] [Bullet] Body exited signal received for penetrating body
[00:06:27] [INFO] [Bullet] Exiting penetration at (398.45438, 2.2546463) after traveling 56,666668 pixels through wall
[00:06:27] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:06:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(416.31613, 635.896), shooter_id=7198801398791, bullet_pos=(370.80252, 45.982502)
[00:06:27] [INFO] [Bullet] Using shooter_position, distance=591,6667
[00:06:27] [INFO] [Bullet] Distance to wall: 591,6667 (40,287674% of viewport)
[00:06:27] [INFO] [Bullet] Distance-based penetration chance: 99,66438%
[00:06:27] [INFO] [Bullet] Starting wall penetration at (370.80252, 45.982502)
[00:06:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24,309278
[00:06:27] [INFO] [Bullet] Body exited signal received for penetrating body
[00:06:27] [INFO] [Bullet] Exiting penetration at (367.85376, 7.7627487) after traveling 33,33334 pixels through wall
[00:06:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:06:27] [ENEMY] [Enemy1] Ragdoll activated
[00:06:27] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:06:30] [INFO] [PauseMenu] Armory button pressed
[00:06:30] [INFO] [PauseMenu] Creating new armory menu instance
[00:06:30] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[00:06:30] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[00:06:30] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[00:06:30] [INFO] [PauseMenu] back_pressed signal exists on instance
[00:06:30] [INFO] [PauseMenu] back_pressed signal connected
[00:06:30] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[00:06:30] [INFO] [PauseMenu] _populate_weapon_grid method exists
[00:06:30] [INFO] [ScoreManager] Combo ended at 5. Max combo: 5
[00:06:32] [INFO] [GrenadeManager] Grenade type changed from Flashbang to Frag Grenade
[00:06:32] [INFO] [GrenadeManager] Restarting level due to grenade type change
[00:06:32] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:06:32] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:06:32] [ENEMY] [Enemy1] Death animation component initialized
[00:06:32] [ENEMY] [Enemy2] Death animation component initialized
[00:06:32] [ENEMY] [Enemy3] Death animation component initialized
[00:06:32] [ENEMY] [Enemy4] Death animation component initialized
[00:06:32] [ENEMY] [Enemy5] Death animation component initialized
[00:06:32] [ENEMY] [Enemy6] Death animation component initialized
[00:06:32] [ENEMY] [Enemy7] Death animation component initialized
[00:06:32] [ENEMY] [Enemy8] Death animation component initialized
[00:06:32] [ENEMY] [Enemy9] Death animation component initialized
[00:06:32] [ENEMY] [Enemy10] Death animation component initialized
[00:06:32] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:06:32] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:06:32] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:06:32] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:06:32] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:06:32] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:06:32] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:06:32] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:06:32] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:06:32] [INFO] [ScoreManager] Level started with 10 enemies
[00:06:32] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[00:06:32] [ENEMY] [Enemy1] Registered as sound listener
[00:06:32] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:06:32] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[00:06:32] [ENEMY] [Enemy2] Registered as sound listener
[00:06:32] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:06:32] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[00:06:32] [ENEMY] [Enemy3] Registered as sound listener
[00:06:32] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:06:32] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[00:06:32] [ENEMY] [Enemy4] Registered as sound listener
[00:06:32] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:06:32] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 10)
[00:06:32] [ENEMY] [Enemy5] Registered as sound listener
[00:06:32] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:06:32] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 11)
[00:06:32] [ENEMY] [Enemy6] Registered as sound listener
[00:06:32] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:06:32] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 12)
[00:06:32] [ENEMY] [Enemy7] Registered as sound listener
[00:06:32] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:06:32] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 13)
[00:06:32] [ENEMY] [Enemy8] Registered as sound listener
[00:06:32] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:06:32] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 14)
[00:06:32] [ENEMY] [Enemy9] Registered as sound listener
[00:06:32] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:06:32] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 15)
[00:06:32] [ENEMY] [Enemy10] Registered as sound listener
[00:06:32] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:06:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=15
[00:06:32] [INFO] [SoundPropagation] Cleaned up 5 invalid listeners
[00:06:32] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[00:06:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[00:06:32] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:06:32] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:06:32] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:06:32] [INFO] [LastChance] Found player: Player
[00:06:32] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:06:32] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:06:32] [INFO] [LastChance] Connected to player Died signal (C#)
[00:06:32] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:06:32] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:06:32] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:06:33] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:06:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=8130188543903, bullet_pos=(2475.0002, 1256)
[00:06:33] [INFO] [Bullet] Using shooter_position, distance=2025,0002
[00:06:33] [INFO] [Bullet] Distance to wall: 2025,0002 (137,886% of viewport)
[00:06:33] [INFO] [Bullet] Distance-based penetration chance: 22,4228%
[00:06:33] [INFO] [Bullet] Penetration failed (distance roll)
[00:06:36] [ENEMY] [Enemy4] FLANKING started: target=(648.0628, 1222.231), side=right, pos=(560.8355, 975.9334)
[00:06:36] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[00:06:37] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[00:06:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(464.7128, 908.7015), source=ENEMY (Enemy4), range=1469, listeners=10
[00:06:38] [ENEMY] [Enemy2] Heard gunshot at (464.7128, 908.7015), source_type=1, intensity=0.02, distance=364
[00:06:38] [ENEMY] [Enemy3] Heard gunshot at (464.7128, 908.7015), source_type=1, intensity=0.03, distance=284
[00:06:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[00:06:38] [INFO] [LastChance] Threat detected: Bullet
[00:06:38] [INFO] [LastChance] Not in hard mode - effect disabled
[00:06:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:06:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(463.1048, 946.0001), source=ENEMY (Enemy4), range=1469, listeners=10
[00:06:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[00:06:38] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:06:38] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:06:38] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:06:38] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:06:38] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:06:38] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:06:38] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:06:38] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:06:38] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:06:38] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:06:38] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:06:38] [INFO] [LastChance] Threat detected: @Area2D@7653
[00:06:38] [INFO] [LastChance] Not in hard mode - effect disabled
[00:06:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:06:38] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:06:38] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:06:38] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:06:38] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:06:38] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:06:38] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:06:38] [INFO] [LastChance] Player died
[00:06:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(461.6343, 980.1017), source=ENEMY (Enemy4), range=1469, listeners=10
[00:06:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[00:06:39] [INFO] [LastChance] Threat detected: Bullet
[00:06:39] [INFO] [LastChance] Not in hard mode - effect disabled
[00:06:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:06:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.4859, 1006.744), source=ENEMY (Enemy4), range=1469, listeners=10
[00:06:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[00:06:39] [INFO] [LastChance] Threat detected: Bullet
[00:06:39] [INFO] [LastChance] Not in hard mode - effect disabled
[00:06:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:06:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.4859, 1006.744), source=ENEMY (Enemy4), range=1469, listeners=10
[00:06:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[00:06:39] [INFO] [LastChance] Threat detected: Bullet
[00:06:39] [INFO] [LastChance] Not in hard mode - effect disabled
[00:06:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:06:39] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:06:39] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:06:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.4859, 1006.744), source=ENEMY (Enemy4), range=1469, listeners=10
[00:06:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[00:06:39] [INFO] [LastChance] Threat detected: Bullet
[00:06:39] [INFO] [LastChance] Not in hard mode - effect disabled
[00:06:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:06:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.4859, 1006.744), source=ENEMY (Enemy4), range=1469, listeners=10
[00:06:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[00:06:39] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:06:39] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:06:39] [ENEMY] [Enemy1] Death animation component initialized
[00:06:39] [ENEMY] [Enemy2] Death animation component initialized
[00:06:39] [ENEMY] [Enemy3] Death animation component initialized
[00:06:39] [ENEMY] [Enemy4] Death animation component initialized
[00:06:39] [ENEMY] [Enemy5] Death animation component initialized
[00:06:39] [ENEMY] [Enemy6] Death animation component initialized
[00:06:39] [ENEMY] [Enemy7] Death animation component initialized
[00:06:39] [ENEMY] [Enemy8] Death animation component initialized
[00:06:39] [ENEMY] [Enemy9] Death animation component initialized
[00:06:39] [ENEMY] [Enemy10] Death animation component initialized
[00:06:39] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:06:39] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:06:39] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:06:39] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:06:39] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:06:39] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:06:39] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:06:39] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:06:39] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:06:39] [INFO] [ScoreManager] Level started with 10 enemies
[00:06:39] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:06:39] [ENEMY] [Enemy1] Registered as sound listener
[00:06:39] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:06:39] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:06:39] [ENEMY] [Enemy2] Registered as sound listener
[00:06:39] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:06:39] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:06:39] [ENEMY] [Enemy3] Registered as sound listener
[00:06:39] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:06:39] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:06:39] [ENEMY] [Enemy4] Registered as sound listener
[00:06:39] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:06:39] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:06:39] [ENEMY] [Enemy5] Registered as sound listener
[00:06:39] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:06:39] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:06:39] [ENEMY] [Enemy6] Registered as sound listener
[00:06:39] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:06:39] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:06:39] [ENEMY] [Enemy7] Registered as sound listener
[00:06:39] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:06:39] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:06:39] [ENEMY] [Enemy8] Registered as sound listener
[00:06:39] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:06:39] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:06:39] [ENEMY] [Enemy9] Registered as sound listener
[00:06:39] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:06:39] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:06:39] [ENEMY] [Enemy10] Registered as sound listener
[00:06:39] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:06:39] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:06:39] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:06:39] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:06:39] [INFO] [LastChance] Found player: Player
[00:06:39] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:06:39] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:06:39] [INFO] [LastChance] Connected to player Died signal (C#)
[00:06:39] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:06:39] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:06:39] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:07:27] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:07:27] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:07:28] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:07:28] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:07:28] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (734.19586, 722.3759)
[00:07:28] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:07:28] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:07:28] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:07:28] [INFO] [Player.Grenade] Timer started, grenade created at (483.93213, 857.3374)
[00:07:28] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:07:28] [INFO] [Player.Grenade] Step 1 complete! Drag: (526.4301, -10.244141)
[00:07:28] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:07:28] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:07:28] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:07:28] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:07:28] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:07:28] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:07:29] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:07:29] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:07:29] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (921.5272, 71.25625) (924,3 px/s), Swing distance: 154,0
[00:07:29] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,077170536
[00:07:29] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (921.5272, 71.25625), Swing: 154.0, Transfer: 0.62, Final speed: 271.1
[00:07:29] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:07:29] [INFO] [Player.Grenade] Thrown! Velocity: 924,3, Swing: 154,0
[00:07:29] [INFO] [Player.Grenade] State reset to IDLE
[00:07:29] [INFO] [Player.Grenade] Player rotation restored to 0
[00:07:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=20
[00:07:29] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:07:29] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[00:07:29] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[00:07:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:07:29] [INFO] [LastChance] Threat detected: Bullet
[00:07:29] [INFO] [LastChance] Not in hard mode - effect disabled
[00:07:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:07:29] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:07:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:07:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:07:29] [INFO] [LastChance] Threat detected: Bullet
[00:07:29] [INFO] [LastChance] Not in hard mode - effect disabled
[00:07:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:07:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:07:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:07:30] [INFO] [LastChance] Threat detected: Bullet
[00:07:30] [INFO] [LastChance] Not in hard mode - effect disabled
[00:07:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:07:30] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:07:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(636.0945, 772.827), shooter_id=8502743402839, bullet_pos=(514.327, 801.0699)
[00:07:30] [INFO] [Bullet] Using shooter_position, distance=124.999961853027
[00:07:30] [INFO] [Bullet] Distance to wall: 124.999961853027 (8.51147725723441% of viewport)
[00:07:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:07:30] [INFO] [GrenadeBase] Grenade landed at (616.6486, 749.2662)
[00:07:30] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:07:30] [INFO] [GrenadeBase] EXPLODED at (616.6486, 749.2662)!
[00:07:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(616.6486, 749.2662), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:07:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:07:30] [ENEMY] [Enemy3] Hit taken, health: 1/2
[00:07:30] [ENEMY] [Enemy3] Hit taken, health: 0/2
[00:07:30] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:07:30] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:07:30] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:07:30] [INFO] [DeathAnim] Started - Angle: 0.5 deg, Index: 12
[00:07:30] [ENEMY] [Enemy3] Death animation started with hit direction: (0.999961, 0.008804)
[00:07:30] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 83.4
[00:07:30] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -19.6 degrees
[00:07:30] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 105.4 degrees
[00:07:30] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 199.5 degrees
[00:07:30] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 264.0 degrees
[00:07:30] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:07:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(636.0945, 772.827), shooter_id=8502743402839, bullet_pos=(279.7066, 706.6233)
[00:07:30] [INFO] [Bullet] Using shooter_position, distance=362.48486328125
[00:07:30] [INFO] [Bullet] Distance to wall: 362.48486328125 (24.6822608917089% of viewport)
[00:07:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:07:30] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:07:30] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:07:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(636.0945, 772.827), shooter_id=8502743402839, bullet_pos=(42.12802, 769.7933)
[00:07:30] [INFO] [Bullet] Using shooter_position, distance=593.974182128906
[00:07:30] [INFO] [Bullet] Distance to wall: 593.974182128906 (40.4447942833685% of viewport)
[00:07:30] [INFO] [Bullet] Distance-based penetration chance: 99.4810733360701%
[00:07:30] [INFO] [Bullet] Starting wall penetration at (42.12802, 769.7933)
[00:07:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24.6242446899414
[00:07:30] [INFO] [Bullet] Body exited signal received for penetrating body
[00:07:30] [INFO] [Bullet] Exiting penetration at (8.202604, 778.8138) after traveling 30.1041698455811 pixels through wall
[00:07:30] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[00:07:30] [ENEMY] [Enemy5] Hit taken, health: 2/3
[00:07:30] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[00:07:30] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[00:07:30] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:07:30] [ENEMY] [Enemy3] Ragdoll activated
[00:07:30] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:07:31] [ENEMY] [Enemy10] FLANKING started: target=(679.3359, 867.7071), side=left, pos=(951.2276, 1423.76)
[00:07:31] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:07:31] [ENEMY] [Enemy3] Death animation completed
[00:07:31] [ENEMY] [Enemy1] State: IDLE -> COMBAT
[00:07:31] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[00:07:31] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:07:31] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:07:31] [ENEMY] [Enemy1] Death animation component initialized
[00:07:31] [ENEMY] [Enemy2] Death animation component initialized
[00:07:31] [ENEMY] [Enemy3] Death animation component initialized
[00:07:31] [ENEMY] [Enemy4] Death animation component initialized
[00:07:31] [ENEMY] [Enemy5] Death animation component initialized
[00:07:31] [ENEMY] [Enemy6] Death animation component initialized
[00:07:31] [ENEMY] [Enemy7] Death animation component initialized
[00:07:31] [ENEMY] [Enemy8] Death animation component initialized
[00:07:31] [ENEMY] [Enemy9] Death animation component initialized
[00:07:31] [ENEMY] [Enemy10] Death animation component initialized
[00:07:31] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:07:31] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:07:31] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:07:31] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:07:31] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:07:31] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:07:31] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:07:31] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:07:31] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:07:31] [INFO] [ScoreManager] Level started with 10 enemies
[00:07:31] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:07:31] [ENEMY] [Enemy1] Registered as sound listener
[00:07:31] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:07:31] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:07:31] [ENEMY] [Enemy2] Registered as sound listener
[00:07:31] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:07:31] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:07:31] [ENEMY] [Enemy3] Registered as sound listener
[00:07:31] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:07:31] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:07:31] [ENEMY] [Enemy4] Registered as sound listener
[00:07:31] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:07:31] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:07:31] [ENEMY] [Enemy5] Registered as sound listener
[00:07:31] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:07:31] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:07:31] [ENEMY] [Enemy6] Registered as sound listener
[00:07:31] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:07:31] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:07:31] [ENEMY] [Enemy7] Registered as sound listener
[00:07:31] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:07:31] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:07:31] [ENEMY] [Enemy8] Registered as sound listener
[00:07:31] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:07:31] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:07:31] [ENEMY] [Enemy9] Registered as sound listener
[00:07:31] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:07:31] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:07:31] [ENEMY] [Enemy10] Registered as sound listener
[00:07:31] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:07:31] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:07:31] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:07:31] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:07:31] [INFO] [LastChance] Found player: Player
[00:07:31] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:07:31] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:07:31] [INFO] [LastChance] Connected to player Died signal (C#)
[00:07:31] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:07:31] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:07:31] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:07:32] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:07:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.407, 1465.446), source=ENEMY (Enemy10), range=1469, listeners=19
[00:07:33] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:07:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:07:33] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:07:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.811, 1430.749), shooter_id=11224930585630, bullet_pos=(43.45148, 700.0416)
[00:07:33] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[00:07:33] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[00:07:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.811, 1430.749), shooter_id=11224930585630, bullet_pos=(311.1469, 460.5843)
[00:07:33] [INFO] [Bullet] Using shooter_position, distance=1193.22155761719
[00:07:33] [INFO] [Bullet] Distance to wall: 1193.22155761719 (81.2486499991243% of viewport)
[00:07:34] [ENEMY] [Enemy2] Hit taken, health: 1/2
[00:07:34] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:07:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(483.935, 770.4441), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:07:34] [ENEMY] [Enemy1] Heard gunshot at (483.935, 770.4441), source_type=0, intensity=0.01, distance=459
[00:07:34] [ENEMY] [Enemy2] Heard gunshot at (483.935, 770.4441), source_type=0, intensity=0.04, distance=236
[00:07:34] [ENEMY] [Enemy4] Heard gunshot at (483.935, 770.4441), source_type=0, intensity=0.02, distance=342
[00:07:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:07:34] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:07:34] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:07:34] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:07:34] [ENEMY] [Enemy3] Hit taken, health: 1/2
[00:07:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(483.935, 744.1663), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:07:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:07:34] [ENEMY] [Enemy3] Hit taken, health: 0/2
[00:07:34] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:07:34] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:07:34] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:07:34] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:07:34] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[00:07:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(490.8096, 734.0665), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:07:34] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[00:07:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(490.8096, 734.06647), shooter_id=11225752667501, bullet_pos=(915.8093, 734.0283)
[00:07:34] [INFO] [Bullet] Using shooter_position, distance=424,99973
[00:07:34] [INFO] [Bullet] Distance to wall: 424,99973 (28,939014% of viewport)
[00:07:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:07:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[00:07:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[00:07:35] [INFO] [LastChance] Threat detected: @Area2D@8189
[00:07:35] [INFO] [LastChance] Not in hard mode - effect disabled
[00:07:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:07:35] [ENEMY] [Enemy10] FLANKING started: target=(746.65, 713.2704), side=left, pos=(1031.034, 1438.87)
[00:07:35] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:07:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[00:07:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[00:07:35] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[00:07:35] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[00:07:35] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:07:35] [INFO] [LastChance] Threat detected: Bullet
[00:07:35] [INFO] [LastChance] Not in hard mode - effect disabled
[00:07:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:07:35] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:07:35] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:07:35] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (852.04614, 728.5487)
[00:07:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.5386, 606.4507), shooter_id=11222648884098, bullet_pos=(700.9601, 806.7772)
[00:07:35] [INFO] [Bullet] Using shooter_position, distance=333.333374023438
[00:07:35] [INFO] [Bullet] Distance to wall: 333.333374023438 (22.6972823832825% of viewport)
[00:07:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:07:35] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:07:35] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:07:35] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:07:35] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:07:35] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:07:35] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:07:35] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:07:35] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:07:35] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:07:35] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:07:35] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:07:35] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:07:35] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:07:35] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:07:35] [INFO] [Player.Grenade] Timer started, grenade created at (576.60077, 728.06647)
[00:07:35] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:07:35] [INFO] [Player.Grenade] Step 1 complete! Drag: (321.0642, -16.674438)
[00:07:35] [INFO] [Player.Grenade] G released - dropping grenade at feet
[00:07:35] [INFO] [Player.Grenade] Grenade dropped at feet at (577.5952, 728.06647) (unfrozen)
[00:07:35] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:07:35] [INFO] [Player.Grenade] State reset to IDLE
[00:07:35] [ENEMY] [Enemy3] Ragdoll activated
[00:07:35] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:07:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.5386, 606.4507), shooter_id=11222648884098, bullet_pos=(910.3581, 608.5648)
[00:07:36] [INFO] [Bullet] Using shooter_position, distance=475.82421875
[00:07:36] [INFO] [Bullet] Distance to wall: 475.82421875 (32.3997460182735% of viewport)
[00:07:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:07:36] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[00:07:36] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:07:37] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:07:37] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[00:07:37] [INFO] [GrenadeBase] Grenade landed at (686.1349, 705.9868)
[00:07:38] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[00:07:38] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:07:38] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:07:38] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:07:38] [ENEMY] [Enemy3] Death animation completed
[00:07:38] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[00:07:38] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[00:07:38] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[00:07:38] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:07:38] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:07:38] [ENEMY] [Enemy1] Death animation component initialized
[00:07:38] [ENEMY] [Enemy2] Death animation component initialized
[00:07:38] [ENEMY] [Enemy3] Death animation component initialized
[00:07:38] [ENEMY] [Enemy4] Death animation component initialized
[00:07:38] [ENEMY] [Enemy5] Death animation component initialized
[00:07:38] [ENEMY] [Enemy6] Death animation component initialized
[00:07:38] [ENEMY] [Enemy7] Death animation component initialized
[00:07:38] [ENEMY] [Enemy8] Death animation component initialized
[00:07:38] [ENEMY] [Enemy9] Death animation component initialized
[00:07:38] [ENEMY] [Enemy10] Death animation component initialized
[00:07:38] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:07:38] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:07:38] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:07:38] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:07:38] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:07:38] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:07:38] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:07:38] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:07:38] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:07:38] [INFO] [ScoreManager] Level started with 10 enemies
[00:07:38] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:07:38] [ENEMY] [Enemy1] Registered as sound listener
[00:07:38] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:07:38] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:07:38] [ENEMY] [Enemy2] Registered as sound listener
[00:07:38] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:07:38] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:07:38] [ENEMY] [Enemy3] Registered as sound listener
[00:07:38] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:07:38] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:07:38] [ENEMY] [Enemy4] Registered as sound listener
[00:07:38] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:07:38] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:07:38] [ENEMY] [Enemy5] Registered as sound listener
[00:07:38] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:07:38] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:07:38] [ENEMY] [Enemy6] Registered as sound listener
[00:07:38] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:07:38] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:07:38] [ENEMY] [Enemy7] Registered as sound listener
[00:07:38] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:07:38] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:07:38] [ENEMY] [Enemy8] Registered as sound listener
[00:07:38] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:07:38] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:07:38] [ENEMY] [Enemy9] Registered as sound listener
[00:07:38] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:07:38] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:07:38] [ENEMY] [Enemy10] Registered as sound listener
[00:07:38] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:07:38] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:07:38] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:07:38] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:07:38] [INFO] [LastChance] Found player: Player
[00:07:38] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:07:38] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:07:38] [INFO] [LastChance] Connected to player Died signal (C#)
[00:07:39] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:07:39] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:07:39] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:07:40] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:07:40] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:07:40] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:07:40] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (806.6532, 1188.3843)
[00:07:40] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:07:40] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:07:40] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:07:40] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1155.1666)
[00:07:40] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:07:40] [INFO] [Player.Grenade] Step 1 complete! Drag: (227.86572, -10.625732)
[00:07:40] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:07:40] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:07:40] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:07:40] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:07:40] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:07:40] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:07:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:07:40] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:07:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:07:40] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:07:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=11629043387242, bullet_pos=(41.69983, 702.3934)
[00:07:41] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:07:41] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:07:41] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:07:41] [INFO] [Bullet] Penetration failed (distance roll)
[00:07:41] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:07:41] [ENEMY] [Enemy1] State: IDLE -> COMBAT
[00:07:41] [ENEMY] [Enemy2] State: IDLE -> COMBAT
[00:07:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:07:41] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:07:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:07:41] [INFO] [LastChance] Threat detected: Bullet
[00:07:41] [INFO] [LastChance] Not in hard mode - effect disabled
[00:07:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:07:41] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:07:41] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:07:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:07:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:07:41] [INFO] [LastChance] Threat detected: Bullet
[00:07:41] [INFO] [LastChance] Not in hard mode - effect disabled
[00:07:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:07:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.5682, 747.6367), shooter_id=11627046898676, bullet_pos=(453.3785, 713.7705)
[00:07:41] [INFO] [Bullet] Using shooter_position, distance=166.666717529297
[00:07:41] [INFO] [Bullet] Distance to wall: 166.666717529297 (11.3486432696393% of viewport)
[00:07:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:07:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:07:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:07:41] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:07:41] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (-4064.7664, -2510.7678) (4777,7 px/s), Swing distance: 791,6
[00:07:41] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -2,5882668
[00:07:41] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (-4064.766, -2510.768), Swing: 791.6, Transfer: 1.00, Final speed: 1186.5
[00:07:41] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:07:41] [INFO] [Player.Grenade] Thrown! Velocity: 4777,7, Swing: 791,6
[00:07:41] [INFO] [Player.Grenade] State reset to IDLE
[00:07:42] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:07:42] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:07:42] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:07:42] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:07:42] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:07:42] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:07:42] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:07:42] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:07:42] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:07:42] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:07:42] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:07:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(626.7372, 686.0778), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:07:42] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[00:07:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.5682, 747.6367), shooter_id=11627046898676, bullet_pos=(67.66757, 750.9655)
[00:07:42] [INFO] [Bullet] Using shooter_position, distance=548.910766601563
[00:07:42] [INFO] [Bullet] Distance to wall: 548.910766601563 (37.3763434557973% of viewport)
[00:07:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:07:42] [INFO] [Bullet] Starting wall penetration at (67.66757, 750.9655)
[00:07:42] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:07:42] [INFO] [Bullet] Exiting penetration at (59.16534, 751.7854) after traveling 3.54166674613953 pixels through wall
[00:07:42] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[00:07:43] [INFO] [Player.Grenade] Player rotation restored to 0
[00:07:43] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:07:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(656.4602, 695.5565), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:07:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[00:07:44] [ENEMY] [Enemy3] Hit taken, health: 3/4
[00:07:44] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[00:07:44] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[00:07:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[00:07:44] [INFO] [LastChance] Threat detected: Bullet
[00:07:44] [INFO] [LastChance] Not in hard mode - effect disabled
[00:07:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(693.8604, 695.5565), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:07:44] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[00:07:44] [ENEMY] [Enemy10] FLANKING started: target=(892.7205, 710.8792), side=left, pos=(1022.668, 1432.257)
[00:07:44] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:07:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(626.7372, 686.0778), shooter_id=11629865470148, bullet_pos=(602.42584, 57.380672)
[00:07:44] [INFO] [Bullet] Using shooter_position, distance=629,167
[00:07:44] [INFO] [Bullet] Distance to wall: 629,167 (42,84114% of viewport)
[00:07:44] [INFO] [Bullet] Distance-based penetration chance: 96,68534%
[00:07:44] [INFO] [Bullet] Starting wall penetration at (602.42584, 57.380672)
[00:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[00:07:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[00:07:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,933697
[00:07:44] [INFO] [Bullet] Body exited signal received for penetrating body
[00:07:44] [INFO] [Bullet] Exiting penetration at (600.9447, 19.075962) after traveling 33,33334 pixels through wall
[00:07:44] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:07:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(693.86035, 695.5565), shooter_id=11629865470148, bullet_pos=(752.3674, 806.0188)
[00:07:44] [INFO] [Bullet] Using shooter_position, distance=124,99995
[00:07:44] [INFO] [Bullet] Distance to wall: 124,99995 (8,5114765% of viewport)
[00:07:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:07:44] [INFO] [Bullet] Starting wall penetration at (752.3674, 806.0188)
[00:07:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,026217
[00:07:44] [INFO] [Bullet] Body exited signal received for penetrating body
[00:07:44] [INFO] [Bullet] Exiting penetration at (770.3095, 839.8939) after traveling 33,333336 pixels through wall
[00:07:44] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:07:44] [ENEMY] [Enemy4] Hit taken, health: 3/4
[00:07:44] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:07:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:07:44] [INFO] [GrenadeBase] Collision detected with Desk2 (type: StaticBody2D)
[00:07:44] [INFO] [FragGrenade] Wall impact detected! Body: Desk2, triggering explosion
[00:07:44] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:07:44] [INFO] [GrenadeBase] EXPLODED at (215.8841, 483.4322)!
[00:07:44] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(215.8841, 483.4322), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:07:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[00:07:44] [ENEMY] [Enemy2] Hit taken, health: 2/3
[00:07:44] [ENEMY] [Enemy2] Hit taken, health: 1/3
[00:07:44] [ENEMY] [Enemy2] Hit taken, health: 0/3
[00:07:44] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:07:44] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:07:44] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[00:07:44] [INFO] [DeathAnim] Started - Angle: 19.9 deg, Index: 13
[00:07:44] [ENEMY] [Enemy2] Death animation started with hit direction: (0.940421, 0.340013)
[00:07:44] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 195.8
[00:07:44] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -14.3 degrees
[00:07:44] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 99.4 degrees
[00:07:44] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 184.5 degrees
[00:07:44] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 283.3 degrees
[00:07:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:07:44] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:07:44] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:07:44] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:07:44] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:07:44] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:07:44] [INFO] [LastChance] Player died
[00:07:44] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:07:44] [INFO] [LastChance] Threat detected: @Area2D@8461
[00:07:44] [INFO] [LastChance] Not in hard mode - effect disabled
[00:07:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(742.2605, 695.5565), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:07:44] [ENEMY] [Enemy3] Heard gunshot at (742.2605, 695.5565), source_type=0, intensity=0.33, distance=87
[00:07:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:07:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(456.3711, 588.2114), shooter_id=11626761686122, bullet_pos=(929.2079, 834.9301)
[00:07:44] [INFO] [Bullet] Using shooter_position, distance=533.333679199219
[00:07:44] [INFO] [Bullet] Distance to wall: 533.333679199219 (36.3156709308337% of viewport)
[00:07:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:07:44] [ENEMY] [Enemy1] Hit taken, health: 2/3
[00:07:44] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:07:44] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:07:44] [ENEMY] [Enemy1] Hit taken, health: 1/3
[00:07:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(742.2605, 695.5565), shooter_id=11629865470148, bullet_pos=(737.2635, 845.4733)
[00:07:44] [INFO] [Bullet] Using shooter_position, distance=150,00006
[00:07:44] [INFO] [Bullet] Distance to wall: 150,00006 (10,21378% of viewport)
[00:07:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:07:44] [ENEMY] [Enemy4] Hit taken, health: 2/4
[00:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(678.4839, 766.2355), source=ENEMY (Enemy3), range=1469, listeners=9
[00:07:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:07:44] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[00:07:44] [INFO] [LastChance] Threat detected: @Area2D@8481
[00:07:44] [INFO] [LastChance] Not in hard mode - effect disabled
[00:07:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:07:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(458.1619, 585.4075), shooter_id=11626761686122, bullet_pos=(927.3525, 801.7513)
[00:07:44] [INFO] [Bullet] Using shooter_position, distance=516.666687011719
[00:07:44] [INFO] [Bullet] Distance to wall: 516.666687011719 (35.1807847848906% of viewport)
[00:07:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:07:44] [INFO] [Bullet] Starting wall penetration at (927.3525, 801.7513)
[00:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(780.7605, 695.5565), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:07:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:07:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37.1441535949707
[00:07:44] [INFO] [Bullet] Body exited signal received for penetrating body
[00:07:44] [INFO] [Bullet] Exiting penetration at (969.731, 821.292) after traveling 41.6666679382324 pixels through wall
[00:07:44] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:07:44] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[00:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(670.4725, 773.278), source=ENEMY (Enemy3), range=1469, listeners=9
[00:07:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(787.0753, 869.2666), source=ENEMY (Enemy4), range=1469, listeners=9
[00:07:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:07:44] [INFO] [LastChance] Threat detected: @Area2D@8485
[00:07:44] [INFO] [LastChance] Not in hard mode - effect disabled
[00:07:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:07:44] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[00:07:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(780.7605, 695.5565), shooter_id=11629865470148, bullet_pos=(695.1564, 818.73083)
[00:07:44] [INFO] [Bullet] Using shooter_position, distance=149,99992
[00:07:44] [INFO] [Bullet] Distance to wall: 149,99992 (10,213771% of viewport)
[00:07:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:07:44] [INFO] [Bullet] Starting wall penetration at (695.1564, 818.73083)
[00:07:44] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[00:07:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,108852
[00:07:44] [INFO] [Bullet] Body exited signal received for penetrating body
[00:07:44] [INFO] [Bullet] Exiting penetration at (668.524, 857.05176) after traveling 41,666668 pixels through wall
[00:07:44] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:07:44] [ENEMY] [Enemy3] Hit taken, health: 2/4
[00:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(789.2211, 879.4863), source=ENEMY (Enemy4), range=1469, listeners=9
[00:07:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(813.7605, 695.5565), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:07:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:07:44] [INFO] [LastChance] Threat detected: Bullet
[00:07:44] [INFO] [LastChance] Not in hard mode - effect disabled
[00:07:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(787.6256, 890.033), source=ENEMY (Enemy4), range=1469, listeners=9
[00:07:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[00:07:44] [INFO] [LastChance] Threat detected: @Area2D@8491
[00:07:44] [INFO] [LastChance] Not in hard mode - effect disabled
[00:07:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:07:44] [ENEMY] [Enemy3] Hit taken, health: 1/4
[00:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(782.744, 899.4946), source=ENEMY (Enemy4), range=1469, listeners=9
[00:07:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[00:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(857.7605, 695.5565), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:07:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:07:44] [INFO] [LastChance] Threat detected: @Area2D@8493
[00:07:44] [INFO] [LastChance] Not in hard mode - effect disabled
[00:07:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:07:44] [ENEMY] [Enemy2] Ragdoll activated
[00:07:44] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:07:44] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:07:44] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:07:44] [ENEMY] [Enemy1] Death animation component initialized
[00:07:44] [ENEMY] [Enemy2] Death animation component initialized
[00:07:44] [ENEMY] [Enemy3] Death animation component initialized
[00:07:44] [ENEMY] [Enemy4] Death animation component initialized
[00:07:44] [ENEMY] [Enemy5] Death animation component initialized
[00:07:44] [ENEMY] [Enemy6] Death animation component initialized
[00:07:44] [ENEMY] [Enemy7] Death animation component initialized
[00:07:44] [ENEMY] [Enemy8] Death animation component initialized
[00:07:44] [ENEMY] [Enemy9] Death animation component initialized
[00:07:44] [ENEMY] [Enemy10] Death animation component initialized
[00:07:44] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:07:44] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:07:44] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:07:44] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:07:44] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:07:44] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:07:44] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:07:44] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:07:44] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:07:44] [INFO] [ScoreManager] Level started with 10 enemies
[00:07:44] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:07:44] [ENEMY] [Enemy1] Registered as sound listener
[00:07:44] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:07:44] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:07:44] [ENEMY] [Enemy2] Registered as sound listener
[00:07:44] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:07:44] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:07:44] [ENEMY] [Enemy3] Registered as sound listener
[00:07:44] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:07:44] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:07:44] [ENEMY] [Enemy4] Registered as sound listener
[00:07:44] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:07:44] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:07:44] [ENEMY] [Enemy5] Registered as sound listener
[00:07:44] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:07:44] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:07:44] [ENEMY] [Enemy6] Registered as sound listener
[00:07:44] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:07:44] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:07:44] [ENEMY] [Enemy7] Registered as sound listener
[00:07:44] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:07:44] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:07:44] [ENEMY] [Enemy8] Registered as sound listener
[00:07:44] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:07:44] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:07:44] [ENEMY] [Enemy9] Registered as sound listener
[00:07:44] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:07:44] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:07:44] [ENEMY] [Enemy10] Registered as sound listener
[00:07:44] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:07:44] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:07:44] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:07:44] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:07:44] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:07:44] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:07:44] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:07:44] [INFO] [LastChance] Found player: Player
[00:07:44] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:07:44] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:07:44] [INFO] [LastChance] Connected to player Died signal (C#)
[00:07:46] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:07:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1063.18, 1467.238), source=ENEMY (Enemy10), range=1469, listeners=19
[00:07:46] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:07:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:07:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1032.175, 1446.442), source=ENEMY (Enemy10), range=1469, listeners=10
[00:07:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:07:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1000.597, 1427.297), source=ENEMY (Enemy10), range=1469, listeners=10
[00:07:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:07:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(969.0677, 1415.953), source=ENEMY (Enemy10), range=1469, listeners=10
[00:07:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:07:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1002.539, 1436.336), shooter_id=11990491728570, bullet_pos=(65.32309, 814.0405)
[00:07:47] [INFO] [Bullet] Using shooter_position, distance=1124.99963378906
[00:07:47] [INFO] [Bullet] Distance to wall: 1124.99963378906 (76.6032937566112% of viewport)
[00:07:47] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:07:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1002.539, 1436.336), shooter_id=11990491728570, bullet_pos=(211.0835, 704.9154)
[00:07:47] [INFO] [Bullet] Using shooter_position, distance=1077.67199707031
[00:07:47] [INFO] [Bullet] Distance to wall: 1077.67199707031 (73.3806679445815% of viewport)
[00:07:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(971.8794, 1414.865), shooter_id=11990491728570, bullet_pos=(41.65326, 782.169)
[00:07:47] [INFO] [Bullet] Using shooter_position, distance=1125.00024414063
[00:07:47] [INFO] [Bullet] Distance to wall: 1125.00024414063 (76.6033353165714% of viewport)
[00:07:47] [INFO] [Bullet] Distance-based penetration chance: 57.2961087973333%
[00:07:47] [INFO] [Bullet] Starting wall penetration at (41.65326, 782.169)
[00:07:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.9921569824219
[00:07:47] [INFO] [Bullet] Body exited signal received for penetrating body
[00:07:47] [INFO] [Bullet] Exiting penetration at (3.066101, 755.9238) after traveling 41.6666679382324 pixels through wall
[00:07:47] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:07:47] [INFO] [LastChance] Threat detected: Bullet
[00:07:47] [INFO] [LastChance] Not in hard mode - effect disabled
[00:07:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:07:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(941.1527, 1394.05), shooter_id=11990491728570, bullet_pos=(62.43279, 760.4398)
[00:07:47] [INFO] [Bullet] Using shooter_position, distance=1083.33312988281
[00:07:47] [INFO] [Bullet] Distance to wall: 1083.33312988281 (73.76614488769% of viewport)
[00:07:47] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:07:47] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:07:47] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:07:47] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:07:47] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:07:47] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:07:47] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:07:47] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:07:47] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:07:47] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:07:47] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:07:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(941.1527, 1394.05), shooter_id=11990491728570, bullet_pos=(115.6189, 706.3849)
[00:07:47] [INFO] [Bullet] Using shooter_position, distance=1074.42517089844
[00:07:47] [INFO] [Bullet] Distance to wall: 1074.42517089844 (73.1595855801517% of viewport)
[00:07:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(911.5839, 1379.445), shooter_id=11990491728570, bullet_pos=(66.40143, 695.1031)
[00:07:48] [INFO] [Bullet] Using shooter_position, distance=1087.50036621094
[00:07:48] [INFO] [Bullet] Distance to wall: 1087.50036621094 (74.0498996721439% of viewport)
[00:07:48] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:07:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(439.7718, 799.2361), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:07:49] [ENEMY] [Enemy1] Heard gunshot at (439.7718, 799.2361), source_type=0, intensity=0.01, distance=470
[00:07:49] [ENEMY] [Enemy2] Heard gunshot at (439.7718, 799.2361), source_type=0, intensity=0.04, distance=252
[00:07:49] [ENEMY] [Enemy4] Heard gunshot at (439.7718, 799.2361), source_type=0, intensity=0.02, distance=374
[00:07:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:07:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(941.1527, 1394.05), shooter_id=11990491728570, bullet_pos=(497.6137, 982.9703)
[00:07:49] [INFO] [Bullet] Using shooter_position, distance=604.742492675781
[00:07:49] [INFO] [Bullet] Distance to wall: 604.742492675781 (41.1780283496823% of viewport)
[00:07:49] [INFO] [Bullet] Distance-based penetration chance: 98.6256335920374%
[00:07:49] [INFO] [Bullet] Starting wall penetration at (497.6137, 982.9703)
[00:07:49] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:07:49] [INFO] [Bullet] Exiting penetration at (504.102, 987.6682) after traveling 3.01041674613953 pixels through wall
[00:07:49] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[00:07:50] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[00:07:50] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:07:50] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:07:50] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:07:50] [ENEMY] [Enemy3] Hit taken, health: 3/4
[00:07:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(911.5839, 1379.445), shooter_id=11990491728570, bullet_pos=(512.0366, 403.232)
[00:07:50] [INFO] [Bullet] Using shooter_position, distance=1054.81274414063
[00:07:50] [INFO] [Bullet] Distance to wall: 1054.81274414063 (71.8241393781394% of viewport)
[00:07:50] [INFO] [Bullet] Distance-based penetration chance: 62.8718373921706%
[00:07:50] [INFO] [Bullet] Starting wall penetration at (512.0366, 403.232)
[00:07:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(443.5506, 761.4358), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:07:50] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:07:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19.0323104858398
[00:07:50] [INFO] [Bullet] Body exited signal received for penetrating body
[00:07:50] [INFO] [Bullet] Exiting penetration at (539.9214, 384.9687) after traveling 28.3333339691162 pixels through wall
[00:07:50] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[00:07:50] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:07:50] [ENEMY] [Enemy3] Hit taken, health: 2/4
[00:07:50] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:07:50] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:07:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(457.0755, 739.4698), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:07:50] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:07:50] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:07:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(677.1287, 760.6544), source=ENEMY (Enemy3), range=1469, listeners=10
[00:07:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:07:50] [INFO] [LastChance] Threat detected: @Area2D@8770
[00:07:50] [INFO] [LastChance] Not in hard mode - effect disabled
[00:07:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:07:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(481.1425, 734.0665), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:07:50] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:07:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(669.8256, 768.4288), source=ENEMY (Enemy3), range=1469, listeners=10
[00:07:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:07:50] [INFO] [LastChance] Threat detected: @Area2D@8772
[00:07:50] [INFO] [LastChance] Not in hard mode - effect disabled
[00:07:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:07:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(457.07547, 739.4698), shooter_id=11991313812301, bullet_pos=(914.37714, 708.73706)
[00:07:50] [INFO] [Bullet] Using shooter_position, distance=458,3332
[00:07:50] [INFO] [Bullet] Distance to wall: 458,3332 (31,20875% of viewport)
[00:07:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:07:50] [INFO] [Bullet] Starting wall penetration at (914.37714, 708.73706)
[00:07:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,661707
[00:07:50] [INFO] [Bullet] Body exited signal received for penetrating body
[00:07:50] [INFO] [Bullet] Exiting penetration at (952.6242, 706.1667) after traveling 33,333336 pixels through wall
[00:07:50] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:07:50] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:07:50] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:07:50] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:07:50] [INFO] [LastChance] Player died
[00:07:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(662.5224, 776.2031), source=ENEMY (Enemy3), range=1469, listeners=10
[00:07:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:07:50] [INFO] [LastChance] Threat detected: Bullet
[00:07:50] [INFO] [LastChance] Not in hard mode - effect disabled
[00:07:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:07:50] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[00:07:50] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:07:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(481.14255, 734.06647), shooter_id=11991313812301, bullet_pos=(939.13403, 716.36365)
[00:07:50] [INFO] [Bullet] Using shooter_position, distance=458,3335
[00:07:50] [INFO] [Bullet] Distance to wall: 458,3335 (31,20877% of viewport)
[00:07:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:07:50] [INFO] [Bullet] Starting wall penetration at (939.13403, 716.36365)
[00:07:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(655.2193, 783.9775), source=ENEMY (Enemy3), range=1469, listeners=10
[00:07:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:07:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41,469727
[00:07:50] [INFO] [LastChance] Threat detected: Bullet
[00:07:50] [INFO] [LastChance] Not in hard mode - effect disabled
[00:07:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:07:50] [INFO] [Bullet] Body exited signal received for penetrating body
[00:07:50] [INFO] [Bullet] Exiting penetration at (977.4388, 714.88306) after traveling 33,333332 pixels through wall
[00:07:50] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:07:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(481.14255, 734.06647), shooter_id=11991313812301, bullet_pos=(977.4388, 714.88306)
[00:07:50] [INFO] [Bullet] Using shooter_position, distance=496,66684
[00:07:50] [INFO] [Bullet] Distance to wall: 496,66684 (33,818962% of viewport)
[00:07:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:07:50] [INFO] [Bullet] Starting wall penetration at (977.4388, 714.88306)
[00:07:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[00:07:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[00:07:50] [INFO] [Bullet] Raycast forward hit penetrating body at distance 36,31042
[00:07:50] [INFO] [Bullet] Body exited signal received for penetrating body
[00:07:50] [INFO] [Bullet] Exiting penetration at (1015.7435, 713.40247) after traveling 33,333332 pixels through wall
[00:07:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(609.1464, 757.6533), shooter_id=11988495240439, bullet_pos=(42.54072, 749.3422)
[00:07:50] [INFO] [Bullet] Using shooter_position, distance=566.666625976563
[00:07:50] [INFO] [Bullet] Distance to wall: 566.666625976563 (38.5853725707874% of viewport)
[00:07:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:07:50] [INFO] [Bullet] Starting wall penetration at (42.54072, 749.3422)
[00:07:50] [INFO] [LastChance] Threat detected: @Area2D@8776
[00:07:50] [INFO] [LastChance] Not in hard mode - effect disabled
[00:07:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:07:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27.7914848327637
[00:07:50] [INFO] [Bullet] Body exited signal received for penetrating body
[00:07:50] [INFO] [Bullet] Exiting penetration at (4.211506, 748.78) after traveling 33.3333358764648 pixels through wall
[00:07:50] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:07:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[00:07:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[00:07:50] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[00:07:51] [INFO] [LastChance] Threat detected: Bullet
[00:07:51] [INFO] [LastChance] Not in hard mode - effect disabled
[00:07:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:07:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(436.1495, 608.3362), shooter_id=11988210027661, bullet_pos=(696.3748, 816.6486)
[00:07:51] [INFO] [Bullet] Using shooter_position, distance=333.33349609375
[00:07:51] [INFO] [Bullet] Distance to wall: 333.33349609375 (22.6972906952745% of viewport)
[00:07:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:07:51] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:07:51] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:07:51] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (880.1073, 696.2814)
[00:07:51] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:07:51] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:07:51] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:07:51] [INFO] [Player.Grenade] Timer started, grenade created at (590.57477, 750.29407)
[00:07:51] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:07:51] [INFO] [Player.Grenade] Step 1 complete! Drag: (399.89233, 6.763489)
[00:07:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(436.1495, 608.3362), shooter_id=11988210027661, bullet_pos=(925.7478, 641.9368)
[00:07:51] [INFO] [Bullet] Using shooter_position, distance=490.749908447266
[00:07:51] [INFO] [Bullet] Distance to wall: 490.749908447266 (33.4160636756835% of viewport)
[00:07:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:07:51] [INFO] [Bullet] Starting wall penetration at (925.7478, 641.9368)
[00:07:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20.4457931518555
[00:07:51] [INFO] [Bullet] Body exited signal received for penetrating body
[00:07:51] [INFO] [Bullet] Exiting penetration at (952.2649, 621.739) after traveling 28.3333339691162 pixels through wall
[00:07:51] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[00:07:51] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:07:51] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:07:51] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[00:07:51] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:07:51] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:07:51] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:07:51] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:07:51] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:07:51] [ENEMY] [Enemy1] Death animation component initialized
[00:07:51] [ENEMY] [Enemy2] Death animation component initialized
[00:07:51] [ENEMY] [Enemy3] Death animation component initialized
[00:07:51] [ENEMY] [Enemy4] Death animation component initialized
[00:07:51] [ENEMY] [Enemy5] Death animation component initialized
[00:07:51] [ENEMY] [Enemy6] Death animation component initialized
[00:07:51] [ENEMY] [Enemy7] Death animation component initialized
[00:07:51] [ENEMY] [Enemy8] Death animation component initialized
[00:07:51] [ENEMY] [Enemy9] Death animation component initialized
[00:07:51] [ENEMY] [Enemy10] Death animation component initialized
[00:07:51] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:07:51] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:07:51] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:07:51] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:07:51] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:07:51] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:07:51] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:07:51] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:07:51] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:07:51] [INFO] [ScoreManager] Level started with 10 enemies
[00:07:51] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:07:51] [ENEMY] [Enemy1] Registered as sound listener
[00:07:51] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:07:51] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:07:51] [ENEMY] [Enemy2] Registered as sound listener
[00:07:51] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:07:51] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:07:51] [ENEMY] [Enemy3] Registered as sound listener
[00:07:51] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:07:51] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:07:51] [ENEMY] [Enemy4] Registered as sound listener
[00:07:51] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:07:51] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:07:51] [ENEMY] [Enemy5] Registered as sound listener
[00:07:51] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:07:51] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:07:51] [ENEMY] [Enemy6] Registered as sound listener
[00:07:51] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:07:51] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:07:51] [ENEMY] [Enemy7] Registered as sound listener
[00:07:51] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:07:51] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:07:51] [ENEMY] [Enemy8] Registered as sound listener
[00:07:51] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:07:51] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:07:51] [ENEMY] [Enemy9] Registered as sound listener
[00:07:51] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:07:51] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:07:51] [ENEMY] [Enemy10] Registered as sound listener
[00:07:51] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:07:51] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:07:51] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:07:51] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:07:51] [INFO] [LastChance] Found player: Player
[00:07:51] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:07:51] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:07:51] [INFO] [LastChance] Connected to player Died signal (C#)
[00:07:51] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:07:51] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:07:51] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:07:52] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:07:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:07:52] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:07:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:07:53] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:07:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=12386132035525, bullet_pos=(41.69983, 702.3934)
[00:07:53] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:07:53] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:07:53] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:07:53] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:07:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=12386132035525, bullet_pos=(317.8654, 472.7562)
[00:07:53] [INFO] [Bullet] Using shooter_position, distance=1179.48864746094
[00:07:53] [INFO] [Bullet] Distance to wall: 1179.48864746094 (80.3135508939902% of viewport)
[00:07:53] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (929.93506, 748.3755)
[00:07:53] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:07:53] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:07:53] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:07:53] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:07:53] [INFO] [Player.Grenade] Timer started, grenade created at (450, 899.9444)
[00:07:53] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:07:53] [INFO] [Player.Grenade] Step 1 complete! Drag: (350.06323, 17.47168)
[00:07:53] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:07:53] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:07:53] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:07:53] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:07:53] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:07:53] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:07:54] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:07:54] [ENEMY] [Enemy10] FLANKING started: target=(647.1667, 707.8434), side=left, pos=(1022.668, 1432.257)
[00:07:54] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:07:54] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:07:54] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1033.0344, -108.72766) (1038,7 px/s), Swing distance: 280,2
[00:07:54] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,10486468
[00:07:54] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1033.034, -108.7277), Swing: 280.2, Transfer: 1.00, Final speed: 489.7
[00:07:54] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:07:54] [INFO] [Player.Grenade] Thrown! Velocity: 1038,7, Swing: 280,2
[00:07:54] [INFO] [Player.Grenade] State reset to IDLE
[00:07:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4765, 753.8722), source=ENEMY (Enemy3), range=1469, listeners=10
[00:07:54] [ENEMY] [Enemy2] Heard gunshot at (684.4765, 753.8722), source_type=1, intensity=0.02, distance=350
[00:07:54] [ENEMY] [Enemy4] Heard gunshot at (684.4765, 753.8722), source_type=1, intensity=0.07, distance=186
[00:07:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:07:54] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:07:54] [INFO] [LastChance] Threat detected: Bullet
[00:07:54] [INFO] [LastChance] Not in hard mode - effect disabled
[00:07:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:07:54] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:07:54] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:07:54] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:07:54] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:07:54] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:07:54] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:07:54] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:07:54] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:07:54] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:07:54] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:07:54] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:07:54] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:07:54] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:07:54] [INFO] [Player.Grenade] Player rotation restored to 0
[00:07:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4765, 753.8722), source=ENEMY (Enemy3), range=1469, listeners=10
[00:07:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:07:55] [INFO] [LastChance] Threat detected: Bullet
[00:07:55] [INFO] [LastChance] Not in hard mode - effect disabled
[00:07:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:07:55] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:07:55] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:07:55] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:07:55] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:07:55] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:07:55] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:07:55] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:07:55] [INFO] [LastChance] Player died
[00:07:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4765, 753.8722), source=ENEMY (Enemy3), range=1469, listeners=10
[00:07:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:07:55] [INFO] [LastChance] Threat detected: Bullet
[00:07:55] [INFO] [LastChance] Not in hard mode - effect disabled
[00:07:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:07:55] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:07:56] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:07:56] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:07:56] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:07:56] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:07:56] [ENEMY] [Enemy1] Death animation component initialized
[00:07:56] [ENEMY] [Enemy2] Death animation component initialized
[00:07:56] [ENEMY] [Enemy3] Death animation component initialized
[00:07:56] [ENEMY] [Enemy4] Death animation component initialized
[00:07:56] [ENEMY] [Enemy5] Death animation component initialized
[00:07:56] [ENEMY] [Enemy6] Death animation component initialized
[00:07:56] [ENEMY] [Enemy7] Death animation component initialized
[00:07:56] [ENEMY] [Enemy8] Death animation component initialized
[00:07:56] [ENEMY] [Enemy9] Death animation component initialized
[00:07:56] [ENEMY] [Enemy10] Death animation component initialized
[00:07:56] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:07:56] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:07:56] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:07:56] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:07:56] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:07:56] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:07:56] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:07:56] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:07:56] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:07:56] [INFO] [ScoreManager] Level started with 10 enemies
[00:07:56] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:07:56] [ENEMY] [Enemy1] Registered as sound listener
[00:07:56] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:07:56] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:07:56] [ENEMY] [Enemy2] Registered as sound listener
[00:07:56] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:07:56] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:07:56] [ENEMY] [Enemy3] Registered as sound listener
[00:07:56] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:07:56] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:07:56] [ENEMY] [Enemy4] Registered as sound listener
[00:07:56] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:07:56] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:07:56] [ENEMY] [Enemy5] Registered as sound listener
[00:07:56] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:07:56] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:07:56] [ENEMY] [Enemy6] Registered as sound listener
[00:07:56] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:07:56] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:07:56] [ENEMY] [Enemy7] Registered as sound listener
[00:07:56] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:07:56] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:07:56] [ENEMY] [Enemy8] Registered as sound listener
[00:07:56] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:07:56] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:07:56] [ENEMY] [Enemy9] Registered as sound listener
[00:07:56] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:07:56] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:07:56] [ENEMY] [Enemy10] Registered as sound listener
[00:07:56] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:07:56] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:07:56] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:07:56] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:07:56] [INFO] [LastChance] Found player: Player
[00:07:56] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:07:56] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:07:56] [INFO] [LastChance] Connected to player Died signal (C#)
[00:07:56] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:07:56] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:07:56] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:07:57] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:07:57] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:07:57] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:07:57] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (838.30646, 897.4398)
[00:07:57] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:07:57] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:07:57] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:07:57] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1094.6666)
[00:07:57] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:07:57] [INFO] [Player.Grenade] Step 1 complete! Drag: (410.21942, -17.434753)
[00:07:57] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:07:57] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:07:58] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:07:58] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:07:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:07:58] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:07:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:07:58] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:07:58] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:07:58] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:07:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=12673693518795, bullet_pos=(41.69983, 702.3934)
[00:07:58] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:07:58] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:07:58] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:07:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=12673693518795, bullet_pos=(304.9443, 458.0514)
[00:07:58] [INFO] [Bullet] Using shooter_position, distance=1198.97094726563
[00:07:58] [INFO] [Bullet] Distance to wall: 1198.97094726563 (81.6401365124818% of viewport)
[00:07:58] [ENEMY] [Enemy2] Hit taken, health: 1/2
[00:07:58] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:07:58] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (526.0956, -610.34344) (805,8 px/s), Swing distance: 341,5
[00:07:58] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,85939604
[00:07:58] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (526.0956, -610.3434), Swing: 341.5, Transfer: 1.00, Final speed: 379.9
[00:07:58] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:07:58] [INFO] [Player.Grenade] Thrown! Velocity: 805,8, Swing: 341,5
[00:07:58] [INFO] [Player.Grenade] State reset to IDLE
[00:07:58] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:07:58] [INFO] [FragGrenade] Wall impact detected! Body: Room1_WallBottom, triggering explosion
[00:07:58] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:07:58] [INFO] [GrenadeBase] EXPLODED at (491.8456, 718.5096)!
[00:07:58] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(491.8456, 718.5096), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:07:58] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:07:58] [ENEMY] [Enemy3] Hit taken, health: 3/4
[00:07:58] [ENEMY] [Enemy3] Hit taken, health: 2/4
[00:07:58] [ENEMY] [Enemy3] Hit taken, health: 1/4
[00:07:58] [ENEMY] [Enemy3] Hit taken, health: 0/4
[00:07:58] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:07:58] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:07:58] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:07:58] [INFO] [DeathAnim] Started - Angle: 10.4 deg, Index: 12
[00:07:58] [ENEMY] [Enemy3] Death animation started with hit direction: (0.983662, 0.180022)
[00:07:58] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 195.8
[00:07:58] [INFO] [FragGrenade] Player found in blast radius at distance 52.2
[00:07:58] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:07:58] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:07:58] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:07:58] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:07:58] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:07:58] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:07:58] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:07:58] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:07:58] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:07:58] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:07:58] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:07:58] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:07:58] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:07:58] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:07:58] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:07:58] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:07:58] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:07:58] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:07:58] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:07:58] [INFO] [LastChance] Player died
[00:07:58] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 52.2
[00:07:58] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -5.4 degrees
[00:07:58] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 110.0 degrees
[00:07:58] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 166.1 degrees
[00:07:58] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 270.8 degrees
[00:07:59] [INFO] [Player.Grenade] Player rotation restored to 0
[00:07:59] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:07:59] [ENEMY] [Enemy3] Ragdoll activated
[00:07:59] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:07:59] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:07:59] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:07:59] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:07:59] [ENEMY] [Enemy1] Death animation component initialized
[00:07:59] [ENEMY] [Enemy2] Death animation component initialized
[00:07:59] [ENEMY] [Enemy3] Death animation component initialized
[00:07:59] [ENEMY] [Enemy4] Death animation component initialized
[00:07:59] [ENEMY] [Enemy5] Death animation component initialized
[00:07:59] [ENEMY] [Enemy6] Death animation component initialized
[00:07:59] [ENEMY] [Enemy7] Death animation component initialized
[00:07:59] [ENEMY] [Enemy8] Death animation component initialized
[00:07:59] [ENEMY] [Enemy9] Death animation component initialized
[00:07:59] [ENEMY] [Enemy10] Death animation component initialized
[00:07:59] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:07:59] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:07:59] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:07:59] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:07:59] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:07:59] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:07:59] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:07:59] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:07:59] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:07:59] [INFO] [ScoreManager] Level started with 10 enemies
[00:07:59] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:07:59] [ENEMY] [Enemy1] Registered as sound listener
[00:07:59] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:07:59] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:07:59] [ENEMY] [Enemy2] Registered as sound listener
[00:07:59] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:07:59] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:07:59] [ENEMY] [Enemy3] Registered as sound listener
[00:07:59] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:07:59] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:07:59] [ENEMY] [Enemy4] Registered as sound listener
[00:07:59] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:07:59] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:07:59] [ENEMY] [Enemy5] Registered as sound listener
[00:07:59] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:07:59] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:07:59] [ENEMY] [Enemy6] Registered as sound listener
[00:07:59] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:07:59] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:07:59] [ENEMY] [Enemy7] Registered as sound listener
[00:07:59] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:07:59] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:07:59] [ENEMY] [Enemy8] Registered as sound listener
[00:07:59] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:07:59] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:07:59] [ENEMY] [Enemy9] Registered as sound listener
[00:07:59] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:07:59] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:07:59] [ENEMY] [Enemy10] Registered as sound listener
[00:07:59] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:07:59] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:07:59] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:07:59] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:07:59] [INFO] [LastChance] Found player: Player
[00:07:59] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:07:59] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:07:59] [INFO] [LastChance] Connected to player Died signal (C#)
[00:07:59] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:07:59] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:07:59] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:07:59] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:07:59] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:07:59] [ENEMY] [Enemy1] Death animation component initialized
[00:07:59] [ENEMY] [Enemy2] Death animation component initialized
[00:07:59] [ENEMY] [Enemy3] Death animation component initialized
[00:07:59] [ENEMY] [Enemy4] Death animation component initialized
[00:07:59] [ENEMY] [Enemy5] Death animation component initialized
[00:07:59] [ENEMY] [Enemy6] Death animation component initialized
[00:07:59] [ENEMY] [Enemy7] Death animation component initialized
[00:07:59] [ENEMY] [Enemy8] Death animation component initialized
[00:07:59] [ENEMY] [Enemy9] Death animation component initialized
[00:07:59] [ENEMY] [Enemy10] Death animation component initialized
[00:07:59] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:07:59] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:07:59] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:07:59] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:07:59] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:07:59] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:07:59] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:07:59] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:07:59] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:07:59] [INFO] [ScoreManager] Level started with 10 enemies
[00:07:59] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[00:07:59] [ENEMY] [Enemy1] Registered as sound listener
[00:07:59] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:07:59] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[00:07:59] [ENEMY] [Enemy2] Registered as sound listener
[00:07:59] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:07:59] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[00:07:59] [ENEMY] [Enemy3] Registered as sound listener
[00:07:59] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:07:59] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[00:07:59] [ENEMY] [Enemy4] Registered as sound listener
[00:07:59] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:07:59] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[00:07:59] [ENEMY] [Enemy5] Registered as sound listener
[00:07:59] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:07:59] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[00:07:59] [ENEMY] [Enemy6] Registered as sound listener
[00:07:59] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:07:59] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[00:07:59] [ENEMY] [Enemy7] Registered as sound listener
[00:07:59] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:07:59] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[00:07:59] [ENEMY] [Enemy8] Registered as sound listener
[00:07:59] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:07:59] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[00:07:59] [ENEMY] [Enemy9] Registered as sound listener
[00:07:59] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:07:59] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[00:07:59] [ENEMY] [Enemy10] Registered as sound listener
[00:07:59] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:07:59] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:07:59] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:07:59] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:07:59] [INFO] [LastChance] Found player: Player
[00:07:59] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:07:59] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:07:59] [INFO] [LastChance] Connected to player Died signal (C#)
[00:07:59] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:07:59] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:07:59] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:08:00] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:08:00] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:08:00] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:08:00] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (828.1478, 1067.1198)
[00:08:00] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:08:00] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:08:00] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:08:00] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1105.6666)
[00:08:00] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:08:00] [INFO] [Player.Grenade] Step 1 complete! Drag: (449.60535, -25.670288)
[00:08:00] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:08:00] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:08:00] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:08:00] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:08:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=29
[00:08:00] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[00:08:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:08:00] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:08:00] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:08:00] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:08:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=12876999822476, bullet_pos=(41.69983, 702.3934)
[00:08:01] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:08:01] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:08:01] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:08:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=12876999822476, bullet_pos=(307.9272, 461.3048)
[00:08:01] [INFO] [Bullet] Using shooter_position, distance=1194.58764648438
[00:08:01] [INFO] [Bullet] Distance to wall: 1194.58764648438 (81.3416695021071% of viewport)
[00:08:01] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:08:01] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:08:01] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (581.6366, 37.87676) (582,9 px/s), Swing distance: 338,1
[00:08:01] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,06502919
[00:08:01] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (581.6366, 37.87676), Swing: 338.1, Transfer: 1.00, Final speed: 274.8
[00:08:01] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:08:01] [INFO] [Player.Grenade] Thrown! Velocity: 582,9, Swing: 338,1
[00:08:01] [INFO] [Player.Grenade] State reset to IDLE
[00:08:01] [INFO] [Player.Grenade] Player rotation restored to 0
[00:08:01] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:08:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:01] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:08:01] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:08:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:01] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:08:01] [INFO] [LastChance] Threat detected: Bullet
[00:08:01] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:01] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:08:01] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:08:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:08:01] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:08:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:01] [INFO] [LastChance] Threat detected: Bullet
[00:08:01] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:02] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:08:02] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:08:02] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:08:02] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:08:02] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:08:02] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:08:02] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:08:02] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:08:02] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:08:02] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:08:02] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:08:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:08:02] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:08:02] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:08:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:08:02] [ENEMY] [Enemy1] Death animation component initialized
[00:08:02] [ENEMY] [Enemy2] Death animation component initialized
[00:08:02] [ENEMY] [Enemy3] Death animation component initialized
[00:08:02] [ENEMY] [Enemy4] Death animation component initialized
[00:08:02] [ENEMY] [Enemy5] Death animation component initialized
[00:08:02] [ENEMY] [Enemy6] Death animation component initialized
[00:08:02] [ENEMY] [Enemy7] Death animation component initialized
[00:08:02] [ENEMY] [Enemy8] Death animation component initialized
[00:08:02] [ENEMY] [Enemy9] Death animation component initialized
[00:08:02] [ENEMY] [Enemy10] Death animation component initialized
[00:08:02] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:08:02] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:08:02] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:08:02] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:08:02] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:08:02] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:08:02] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:08:02] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:08:02] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:08:02] [INFO] [ScoreManager] Level started with 10 enemies
[00:08:02] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:08:02] [ENEMY] [Enemy1] Registered as sound listener
[00:08:02] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:08:02] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:08:02] [ENEMY] [Enemy2] Registered as sound listener
[00:08:02] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:08:02] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:08:02] [ENEMY] [Enemy3] Registered as sound listener
[00:08:02] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:08:02] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:08:02] [ENEMY] [Enemy4] Registered as sound listener
[00:08:02] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:08:02] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:08:02] [ENEMY] [Enemy5] Registered as sound listener
[00:08:02] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:08:02] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:08:02] [ENEMY] [Enemy6] Registered as sound listener
[00:08:02] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:08:02] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:08:02] [ENEMY] [Enemy7] Registered as sound listener
[00:08:02] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:08:02] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:08:02] [ENEMY] [Enemy8] Registered as sound listener
[00:08:02] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:08:02] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:08:02] [ENEMY] [Enemy9] Registered as sound listener
[00:08:02] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:08:02] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:08:02] [ENEMY] [Enemy10] Registered as sound listener
[00:08:02] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:08:02] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:08:02] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:08:02] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:08:02] [INFO] [LastChance] Found player: Player
[00:08:02] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:08:02] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:08:02] [INFO] [LastChance] Connected to player Died signal (C#)
[00:08:02] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:08:02] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:08:02] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:08:02] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:08:02] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:08:02] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (796.21594, 1175.1517)
[00:08:03] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:08:03] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:08:03] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:08:03] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:08:03] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1160.6666)
[00:08:03] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:08:03] [INFO] [Player.Grenade] Step 1 complete! Drag: (474.7444, -2.0327148)
[00:08:03] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:08:03] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:08:03] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:08:03] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:08:03] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:08:03] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:08:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:08:03] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:08:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:08:03] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:08:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13055928830069, bullet_pos=(41.69983, 702.3934)
[00:08:04] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:08:04] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:08:04] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:08:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13055928830069, bullet_pos=(311.2279, 465.0005)
[00:08:04] [INFO] [Bullet] Using shooter_position, distance=1189.66003417969
[00:08:04] [INFO] [Bullet] Distance to wall: 1189.66003417969 (81.0061393192008% of viewport)
[00:08:04] [ENEMY] [Enemy2] Hit taken, health: 1/2
[00:08:04] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:08:04] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (709.8926, -454.64746) (843,0 px/s), Swing distance: 373,0
[00:08:04] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,56962913
[00:08:04] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (709.8926, -454.6475), Swing: 373.0, Transfer: 1.00, Final speed: 397.4
[00:08:04] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:08:04] [INFO] [Player.Grenade] Thrown! Velocity: 843,0, Swing: 373,0
[00:08:04] [INFO] [Player.Grenade] State reset to IDLE
[00:08:04] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:08:04] [INFO] [FragGrenade] Wall impact detected! Body: Room1_WallBottom, triggering explosion
[00:08:04] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:08:04] [INFO] [GrenadeBase] EXPLODED at (511.2085, 713.501)!
[00:08:04] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(511.2085, 713.501), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:08:04] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:08:04] [ENEMY] [Enemy3] Hit taken, health: 1/2
[00:08:04] [ENEMY] [Enemy3] Hit taken, health: 0/2
[00:08:04] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:08:04] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:08:04] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:08:04] [INFO] [DeathAnim] Started - Angle: 13.1 deg, Index: 12
[00:08:04] [ENEMY] [Enemy3] Death animation started with hit direction: (0.974047, 0.226348)
[00:08:04] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 177.9
[00:08:04] [INFO] [FragGrenade] Player found in blast radius at distance 71.1
[00:08:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:08:04] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:08:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:08:04] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:08:04] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:08:04] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:08:04] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:08:04] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:08:04] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:08:04] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:08:04] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:08:04] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:08:04] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:08:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:08:04] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:08:04] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:08:04] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:08:04] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:08:04] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:08:04] [INFO] [LastChance] Player died
[00:08:04] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 71.1
[00:08:04] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -12.3 degrees
[00:08:04] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 90.3 degrees
[00:08:04] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 191.5 degrees
[00:08:04] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 271.2 degrees
[00:08:04] [INFO] [Player.Grenade] Player rotation restored to 0
[00:08:04] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:08:04] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:08:04] [ENEMY] [Enemy3] Ragdoll activated
[00:08:04] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:08:04] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:08:04] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:08:04] [ENEMY] [Enemy1] Death animation component initialized
[00:08:04] [ENEMY] [Enemy2] Death animation component initialized
[00:08:04] [ENEMY] [Enemy3] Death animation component initialized
[00:08:04] [ENEMY] [Enemy4] Death animation component initialized
[00:08:04] [ENEMY] [Enemy5] Death animation component initialized
[00:08:04] [ENEMY] [Enemy6] Death animation component initialized
[00:08:04] [ENEMY] [Enemy7] Death animation component initialized
[00:08:04] [ENEMY] [Enemy8] Death animation component initialized
[00:08:04] [ENEMY] [Enemy9] Death animation component initialized
[00:08:04] [ENEMY] [Enemy10] Death animation component initialized
[00:08:04] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:08:04] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:08:04] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:08:04] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:08:04] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:08:04] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:08:04] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:08:04] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:08:04] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:08:04] [INFO] [ScoreManager] Level started with 10 enemies
[00:08:04] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:08:04] [ENEMY] [Enemy1] Registered as sound listener
[00:08:04] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:08:04] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:08:04] [ENEMY] [Enemy2] Registered as sound listener
[00:08:04] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:08:04] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:08:04] [ENEMY] [Enemy3] Registered as sound listener
[00:08:04] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:08:04] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:08:04] [ENEMY] [Enemy4] Registered as sound listener
[00:08:04] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:08:04] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:08:04] [ENEMY] [Enemy5] Registered as sound listener
[00:08:04] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:08:04] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:08:04] [ENEMY] [Enemy6] Registered as sound listener
[00:08:04] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:08:04] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:08:04] [ENEMY] [Enemy7] Registered as sound listener
[00:08:04] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:08:04] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:08:04] [ENEMY] [Enemy8] Registered as sound listener
[00:08:04] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:08:04] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:08:04] [ENEMY] [Enemy9] Registered as sound listener
[00:08:04] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:08:04] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:08:04] [ENEMY] [Enemy10] Registered as sound listener
[00:08:04] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:08:04] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:08:04] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:08:04] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:08:04] [INFO] [LastChance] Found player: Player
[00:08:04] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:08:04] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:08:04] [INFO] [LastChance] Connected to player Died signal (C#)
[00:08:04] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:08:04] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:08:04] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:08:04] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:08:04] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:08:04] [ENEMY] [Enemy1] Death animation component initialized
[00:08:04] [ENEMY] [Enemy2] Death animation component initialized
[00:08:04] [ENEMY] [Enemy3] Death animation component initialized
[00:08:04] [ENEMY] [Enemy4] Death animation component initialized
[00:08:04] [ENEMY] [Enemy5] Death animation component initialized
[00:08:04] [ENEMY] [Enemy6] Death animation component initialized
[00:08:05] [ENEMY] [Enemy7] Death animation component initialized
[00:08:05] [ENEMY] [Enemy8] Death animation component initialized
[00:08:05] [ENEMY] [Enemy9] Death animation component initialized
[00:08:05] [ENEMY] [Enemy10] Death animation component initialized
[00:08:05] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:08:05] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:08:05] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:08:05] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:08:05] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:08:05] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:08:05] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:08:05] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:08:05] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:08:05] [INFO] [ScoreManager] Level started with 10 enemies
[00:08:05] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[00:08:05] [ENEMY] [Enemy1] Registered as sound listener
[00:08:05] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:08:05] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[00:08:05] [ENEMY] [Enemy2] Registered as sound listener
[00:08:05] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:08:05] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[00:08:05] [ENEMY] [Enemy3] Registered as sound listener
[00:08:05] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:08:05] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[00:08:05] [ENEMY] [Enemy4] Registered as sound listener
[00:08:05] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:08:05] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[00:08:05] [ENEMY] [Enemy5] Registered as sound listener
[00:08:05] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:08:05] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[00:08:05] [ENEMY] [Enemy6] Registered as sound listener
[00:08:05] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:08:05] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[00:08:05] [ENEMY] [Enemy7] Registered as sound listener
[00:08:05] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:08:05] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[00:08:05] [ENEMY] [Enemy8] Registered as sound listener
[00:08:05] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:08:05] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[00:08:05] [ENEMY] [Enemy9] Registered as sound listener
[00:08:05] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:08:05] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[00:08:05] [ENEMY] [Enemy10] Registered as sound listener
[00:08:05] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:08:05] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:08:05] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:08:05] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:08:05] [INFO] [LastChance] Found player: Player
[00:08:05] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:08:05] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:08:05] [INFO] [LastChance] Connected to player Died signal (C#)
[00:08:05] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:08:05] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:08:05] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:08:05] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:08:05] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:08:05] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:08:05] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (981.5397, 910.4399)
[00:08:05] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:08:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=29
[00:08:06] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[00:08:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:08:06] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:08:06] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:08:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13219590573435, bullet_pos=(41.69983, 702.3934)
[00:08:06] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:08:06] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:08:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13219590573435, bullet_pos=(503.1695, 364.9784)
[00:08:06] [INFO] [Bullet] Using shooter_position, distance=1178.45422363281
[00:08:06] [INFO] [Bullet] Distance to wall: 1178.45422363281 (80.2431150733955% of viewport)
[00:08:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13219590573435, bullet_pos=(321.9852, 247.8832)
[00:08:07] [INFO] [Bullet] Using shooter_position, distance=1366.39416503906
[00:08:07] [INFO] [Bullet] Distance to wall: 1366.39416503906 (93.0402912748258% of viewport)
[00:08:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13219590573435, bullet_pos=(719.5449, 59.33409)
[00:08:07] [INFO] [Bullet] Using shooter_position, distance=1401.10546875
[00:08:07] [INFO] [Bullet] Distance to wall: 1401.10546875 (95.4038477729629% of viewport)
[00:08:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13219590573435, bullet_pos=(1020.03, 198.7536)
[00:08:07] [INFO] [Bullet] Using shooter_position, distance=1232.23095703125
[00:08:07] [INFO] [Bullet] Distance to wall: 1232.23095703125 (83.9048717371882% of viewport)
[00:08:07] [INFO] [Bullet] Distance-based penetration chance: 48.7776496399471%
[00:08:07] [INFO] [Bullet] Starting wall penetration at (1020.03, 198.7536)
[00:08:07] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:08:07] [INFO] [Bullet] Exiting penetration at (1044.296, 210.0124) after traveling 21.7502613067627 pixels through wall
[00:08:07] [INFO] [Bullet] Damage multiplier after penetration: 0.05625
[00:08:07] [ENEMY] [Enemy10] FLANKING started: target=(642.5851, 818.4911), side=left, pos=(1022.668, 1432.257)
[00:08:07] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:08:09] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[00:08:10] [INFO] [Player.Debug] Debug mode toggled: ON
[00:08:10] [INFO] [GameManager] Debug mode toggled: ON
[00:08:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.8941, 1074.853), source=ENEMY (Enemy10), range=1469, listeners=10
[00:08:10] [ENEMY] [Enemy3] Heard gunshot at (521.8941, 1074.853), source_type=1, intensity=0.02, distance=370
[00:08:10] [ENEMY] [Enemy4] Heard gunshot at (521.8941, 1074.853), source_type=1, intensity=0.02, distance=329
[00:08:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[00:08:10] [INFO] [LastChance] Threat detected: Bullet
[00:08:10] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.8941, 1074.853), source=ENEMY (Enemy10), range=1469, listeners=10
[00:08:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[00:08:10] [INFO] [LastChance] Threat detected: @Area2D@10605
[00:08:10] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(491.9178, 1013.763), shooter_id=13219590573435, bullet_pos=(380.349, 699.6552)
[00:08:10] [INFO] [Bullet] Using shooter_position, distance=333.333282470703
[00:08:10] [INFO] [Bullet] Distance to wall: 333.333282470703 (22.6972761492885% of viewport)
[00:08:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:08:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.8941, 1074.853), source=ENEMY (Enemy10), range=1469, listeners=10
[00:08:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[00:08:10] [INFO] [LastChance] Threat detected: @Area2D@10606
[00:08:10] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(491.9178, 1013.763), shooter_id=13219590573435, bullet_pos=(380.349, 699.6552)
[00:08:10] [INFO] [Bullet] Using shooter_position, distance=333.333282470703
[00:08:10] [INFO] [Bullet] Distance to wall: 333.333282470703 (22.6972761492885% of viewport)
[00:08:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:08:10] [INFO] [Bullet] Starting wall penetration at (380.349, 699.6552)
[00:08:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.2980461120605
[00:08:10] [INFO] [Bullet] Body exited signal received for penetrating body
[00:08:10] [INFO] [Bullet] Exiting penetration at (364.7294, 655.6802) after traveling 41.6666717529297 pixels through wall
[00:08:10] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:08:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.8941, 1074.853), source=ENEMY (Enemy10), range=1469, listeners=10
[00:08:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[00:08:10] [INFO] [LastChance] Threat detected: Bullet
[00:08:10] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(491.9178, 1013.763), shooter_id=13219590573435, bullet_pos=(380.349, 699.6552)
[00:08:10] [INFO] [Bullet] Using shooter_position, distance=333.333282470703
[00:08:10] [INFO] [Bullet] Distance to wall: 333.333282470703 (22.6972761492885% of viewport)
[00:08:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:08:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.8941, 1074.853), source=ENEMY (Enemy10), range=1469, listeners=10
[00:08:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[00:08:10] [INFO] [LastChance] Threat detected: @Area2D@10609
[00:08:10] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(491.9178, 1013.763), shooter_id=13219590573435, bullet_pos=(380.349, 699.6552)
[00:08:10] [INFO] [Bullet] Using shooter_position, distance=333.333282470703
[00:08:10] [INFO] [Bullet] Distance to wall: 333.333282470703 (22.6972761492885% of viewport)
[00:08:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:08:10] [INFO] [Bullet] Starting wall penetration at (380.349, 699.6552)
[00:08:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.2980461120605
[00:08:10] [INFO] [Bullet] Body exited signal received for penetrating body
[00:08:10] [INFO] [Bullet] Exiting penetration at (364.7294, 655.6802) after traveling 41.6666717529297 pixels through wall
[00:08:10] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:08:10] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:08:10] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:08:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.8941, 1074.853), source=ENEMY (Enemy10), range=1469, listeners=10
[00:08:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[00:08:10] [INFO] [LastChance] Threat detected: Bullet
[00:08:10] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(491.9178, 1013.763), shooter_id=13219590573435, bullet_pos=(380.349, 699.6552)
[00:08:10] [INFO] [Bullet] Using shooter_position, distance=333.333282470703
[00:08:10] [INFO] [Bullet] Distance to wall: 333.333282470703 (22.6972761492885% of viewport)
[00:08:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.8941, 1074.853), source=ENEMY (Enemy10), range=1469, listeners=10
[00:08:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[00:08:11] [INFO] [LastChance] Threat detected: @Area2D@10612
[00:08:11] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:08:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:08:11] [ENEMY] [Enemy1] Death animation component initialized
[00:08:11] [ENEMY] [Enemy2] Death animation component initialized
[00:08:11] [ENEMY] [Enemy3] Death animation component initialized
[00:08:11] [ENEMY] [Enemy4] Death animation component initialized
[00:08:11] [ENEMY] [Enemy5] Death animation component initialized
[00:08:11] [ENEMY] [Enemy6] Death animation component initialized
[00:08:11] [ENEMY] [Enemy7] Death animation component initialized
[00:08:11] [ENEMY] [Enemy8] Death animation component initialized
[00:08:11] [ENEMY] [Enemy9] Death animation component initialized
[00:08:11] [ENEMY] [Enemy10] Death animation component initialized
[00:08:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:08:11] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:08:11] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:08:11] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:08:11] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:08:11] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:08:11] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:08:11] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:08:11] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:08:11] [INFO] [ScoreManager] Level started with 10 enemies
[00:08:11] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:08:11] [ENEMY] [Enemy1] Registered as sound listener
[00:08:11] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:08:11] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:08:11] [ENEMY] [Enemy2] Registered as sound listener
[00:08:11] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:08:11] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:08:11] [ENEMY] [Enemy3] Registered as sound listener
[00:08:11] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:08:11] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:08:11] [ENEMY] [Enemy4] Registered as sound listener
[00:08:11] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:08:11] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:08:11] [ENEMY] [Enemy5] Registered as sound listener
[00:08:11] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:08:11] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:08:11] [ENEMY] [Enemy6] Registered as sound listener
[00:08:11] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:08:11] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:08:11] [ENEMY] [Enemy7] Registered as sound listener
[00:08:11] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:08:11] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:08:11] [ENEMY] [Enemy8] Registered as sound listener
[00:08:11] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:08:11] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:08:11] [ENEMY] [Enemy9] Registered as sound listener
[00:08:11] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:08:11] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:08:11] [ENEMY] [Enemy10] Registered as sound listener
[00:08:11] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:08:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:08:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:08:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:08:11] [INFO] [LastChance] Found player: Player
[00:08:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:08:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:08:11] [INFO] [LastChance] Connected to player Died signal (C#)
[00:08:11] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:08:11] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:08:11] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:08:11] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:08:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:08:12] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:08:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:08:12] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:08:12] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:08:12] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:08:12] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1049.4131, 736.11145)
[00:08:12] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:08:12] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:08:12] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:08:12] [INFO] [Player.Grenade] Timer started, grenade created at (450, 880.1666)
[00:08:12] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:08:12] [INFO] [Player.Grenade] Step 1 complete! Drag: (230.51147, -23.917664)
[00:08:12] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:08:12] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:08:12] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:08:12] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:08:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13559664739873, bullet_pos=(41.69983, 702.3934)
[00:08:12] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:08:12] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:08:12] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:08:12] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:08:12] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:08:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13559664739873, bullet_pos=(301.0917, 453.9651)
[00:08:12] [INFO] [Bullet] Using shooter_position, distance=1204.53857421875
[00:08:12] [INFO] [Bullet] Distance to wall: 1204.53857421875 (82.0192464696833% of viewport)
[00:08:12] [ENEMY] [Enemy2] Hit taken, health: 2/3
[00:08:13] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:08:13] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.029440487, -137.53337) (137,5 px/s), Swing distance: 102,2
[00:08:13] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5705823
[00:08:13] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.02944, -137.5334), Swing: 102.2, Transfer: 0.41, Final speed: 26.8
[00:08:13] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:08:13] [INFO] [Player.Grenade] Thrown! Velocity: 137,5, Swing: 102,2
[00:08:13] [INFO] [Player.Grenade] State reset to IDLE
[00:08:13] [INFO] [GrenadeBase] Grenade landed at (450.0128, 724.4444)
[00:08:13] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:08:13] [INFO] [GrenadeBase] EXPLODED at (450.0128, 724.4444)!
[00:08:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450.0128, 724.4444), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:08:13] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:08:13] [INFO] [FragGrenade] Player found in blast radius at distance 60.0
[00:08:13] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:08:13] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:08:13] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:08:13] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:08:13] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:08:13] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:08:13] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:08:13] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:08:13] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:08:13] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:08:13] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:08:13] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:08:13] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:08:13] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:08:13] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:08:13] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:08:13] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:08:13] [INFO] [LastChance] Player died
[00:08:13] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 60.0
[00:08:13] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 11.3 degrees
[00:08:13] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 71.9 degrees
[00:08:13] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 170.4 degrees
[00:08:13] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 284.7 degrees
[00:08:13] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:08:13] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:08:13] [ENEMY] [Enemy1] Death animation component initialized
[00:08:13] [ENEMY] [Enemy2] Death animation component initialized
[00:08:13] [ENEMY] [Enemy3] Death animation component initialized
[00:08:13] [ENEMY] [Enemy4] Death animation component initialized
[00:08:13] [ENEMY] [Enemy5] Death animation component initialized
[00:08:13] [ENEMY] [Enemy6] Death animation component initialized
[00:08:13] [ENEMY] [Enemy7] Death animation component initialized
[00:08:13] [ENEMY] [Enemy8] Death animation component initialized
[00:08:13] [ENEMY] [Enemy9] Death animation component initialized
[00:08:13] [ENEMY] [Enemy10] Death animation component initialized
[00:08:13] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:08:13] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:08:13] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:08:13] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:08:13] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:08:13] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:08:13] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:08:13] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:08:13] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:08:13] [INFO] [ScoreManager] Level started with 10 enemies
[00:08:13] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:08:13] [ENEMY] [Enemy1] Registered as sound listener
[00:08:13] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:08:13] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:08:13] [ENEMY] [Enemy2] Registered as sound listener
[00:08:13] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:08:13] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:08:13] [ENEMY] [Enemy3] Registered as sound listener
[00:08:13] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:08:13] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:08:13] [ENEMY] [Enemy4] Registered as sound listener
[00:08:13] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:08:13] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:08:13] [ENEMY] [Enemy5] Registered as sound listener
[00:08:13] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:08:13] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:08:13] [ENEMY] [Enemy6] Registered as sound listener
[00:08:13] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:08:13] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:08:13] [ENEMY] [Enemy7] Registered as sound listener
[00:08:13] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:08:13] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:08:13] [ENEMY] [Enemy8] Registered as sound listener
[00:08:13] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:08:13] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:08:13] [ENEMY] [Enemy9] Registered as sound listener
[00:08:13] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:08:13] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:08:13] [ENEMY] [Enemy10] Registered as sound listener
[00:08:13] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:08:13] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:08:13] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:08:13] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:08:13] [INFO] [LastChance] Found player: Player
[00:08:13] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:08:13] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:08:13] [INFO] [LastChance] Connected to player Died signal (C#)
[00:08:13] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:08:13] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:08:13] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:08:13] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:08:13] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:08:14] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (885.6029, 999.5362)
[00:08:14] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:08:14] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:08:14] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:08:14] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:08:14] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:08:14] [INFO] [Player.Grenade] Step 1 complete! Drag: (392.8108, 66.1225)
[00:08:14] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:08:14] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:08:14] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:08:14] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:08:14] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:08:14] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:08:14] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:08:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:08:15] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:08:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:08:15] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:08:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13696365496001, bullet_pos=(41.69983, 702.3934)
[00:08:15] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:08:15] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:08:15] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:08:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13696365496001, bullet_pos=(262.2942, 465.4287)
[00:08:15] [INFO] [Bullet] Using shooter_position, distance=1218.53491210938
[00:08:15] [INFO] [Bullet] Distance to wall: 1218.53491210938 (82.9722828536519% of viewport)
[00:08:16] [INFO] [LastChance] Threat detected: Bullet
[00:08:16] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13696365496001, bullet_pos=(422.7114, 689.9454)
[00:08:16] [INFO] [Bullet] Using shooter_position, distance=942.826049804688
[00:08:16] [INFO] [Bullet] Distance to wall: 942.826049804688 (64.1987594354326% of viewport)
[00:08:16] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:08:16] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (460.2173, -436.56454) (634,3 px/s), Swing distance: 529,8
[00:08:16] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,75902915
[00:08:16] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (460.2173, -436.5645), Swing: 529.8, Transfer: 1.00, Final speed: 299.0
[00:08:16] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:08:16] [INFO] [Player.Grenade] Thrown! Velocity: 634,3, Swing: 529,8
[00:08:16] [INFO] [Player.Grenade] State reset to IDLE
[00:08:16] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:08:16] [INFO] [FragGrenade] Wall impact detected! Body: Room1_WallBottom, triggering explosion
[00:08:16] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:08:16] [INFO] [GrenadeBase] EXPLODED at (497.0244, 679.3002)!
[00:08:16] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(497.0244, 679.3002), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:08:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:08:16] [ENEMY] [Enemy2] Hit taken, health: 1/2
[00:08:16] [ENEMY] [Enemy2] Hit taken, health: 0/2
[00:08:16] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:08:16] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:08:16] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[00:08:16] [INFO] [DeathAnim] Started - Angle: -126.9 deg, Index: 3
[00:08:16] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.600195, -0.799854)
[00:08:16] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 161.7
[00:08:16] [ENEMY] [Enemy3] Hit taken, health: 3/4
[00:08:16] [ENEMY] [Enemy3] Hit taken, health: 2/4
[00:08:16] [ENEMY] [Enemy3] Hit taken, health: 1/4
[00:08:16] [ENEMY] [Enemy3] Hit taken, health: 0/4
[00:08:16] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:08:16] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:08:16] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 8)
[00:08:16] [INFO] [DeathAnim] Started - Angle: 21.7 deg, Index: 13
[00:08:16] [ENEMY] [Enemy3] Death animation started with hit direction: (0.929349, 0.369203)
[00:08:16] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 201.7
[00:08:16] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 9.6 degrees
[00:08:16] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 106.2 degrees
[00:08:16] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 180.2 degrees
[00:08:16] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 270.2 degrees
[00:08:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13696365496001, bullet_pos=(498.5485, 550.73)
[00:08:16] [INFO] [Bullet] Using shooter_position, distance=1015.83953857422
[00:08:16] [INFO] [Bullet] Distance to wall: 1015.83953857422 (69.1703821457171% of viewport)
[00:08:16] [INFO] [Player.Grenade] Player rotation restored to 0
[00:08:16] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:08:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13696365496001, bullet_pos=(279.613, 273.82)
[00:08:16] [INFO] [Bullet] Using shooter_position, distance=1366.04406738281
[00:08:16] [INFO] [Bullet] Distance to wall: 1366.04406738281 (93.016452481639% of viewport)
[00:08:16] [ENEMY] [Enemy2] Ragdoll activated
[00:08:16] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:08:16] [ENEMY] [Enemy3] Ragdoll activated
[00:08:16] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:08:16] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:08:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13696365496001, bullet_pos=(55.03953, 473.9438)
[00:08:16] [INFO] [Bullet] Using shooter_position, distance=1348.91479492188
[00:08:16] [INFO] [Bullet] Distance to wall: 1348.91479492188 (91.8500888218191% of viewport)
[00:08:16] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:08:16] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:08:16] [ENEMY] [Enemy1] Death animation component initialized
[00:08:16] [ENEMY] [Enemy2] Death animation component initialized
[00:08:16] [ENEMY] [Enemy3] Death animation component initialized
[00:08:16] [ENEMY] [Enemy4] Death animation component initialized
[00:08:16] [ENEMY] [Enemy5] Death animation component initialized
[00:08:16] [ENEMY] [Enemy6] Death animation component initialized
[00:08:16] [ENEMY] [Enemy7] Death animation component initialized
[00:08:16] [ENEMY] [Enemy8] Death animation component initialized
[00:08:16] [ENEMY] [Enemy9] Death animation component initialized
[00:08:16] [ENEMY] [Enemy10] Death animation component initialized
[00:08:16] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:08:16] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:08:16] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:08:16] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:08:16] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:08:16] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:08:16] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:08:16] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:08:16] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:08:16] [INFO] [ScoreManager] Level started with 10 enemies
[00:08:16] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[00:08:16] [ENEMY] [Enemy1] Registered as sound listener
[00:08:16] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:08:16] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[00:08:16] [ENEMY] [Enemy2] Registered as sound listener
[00:08:16] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:08:16] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[00:08:16] [ENEMY] [Enemy3] Registered as sound listener
[00:08:16] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:08:16] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[00:08:16] [ENEMY] [Enemy4] Registered as sound listener
[00:08:16] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:08:16] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[00:08:16] [ENEMY] [Enemy5] Registered as sound listener
[00:08:16] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:08:16] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[00:08:16] [ENEMY] [Enemy6] Registered as sound listener
[00:08:16] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:08:16] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[00:08:16] [ENEMY] [Enemy7] Registered as sound listener
[00:08:16] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:08:16] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[00:08:16] [ENEMY] [Enemy8] Registered as sound listener
[00:08:16] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:08:16] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[00:08:16] [ENEMY] [Enemy9] Registered as sound listener
[00:08:16] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:08:16] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[00:08:16] [ENEMY] [Enemy10] Registered as sound listener
[00:08:16] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:08:16] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:08:16] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:08:16] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:08:16] [INFO] [LastChance] Found player: Player
[00:08:16] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:08:16] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:08:16] [INFO] [LastChance] Connected to player Died signal (C#)
[00:08:16] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:08:16] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:08:16] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:08:17] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:08:17] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:08:17] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1007.4357, 954.7866)
[00:08:17] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:08:17] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:08:17] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:08:17] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:08:17] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:08:17] [INFO] [Player.Grenade] Step 1 complete! Drag: (272.05243, 31.39148)
[00:08:18] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:08:18] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:08:18] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:08:18] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:08:18] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:08:18] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:08:18] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:08:19] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:08:19] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:08:19] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:08:19] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, 270.23346) (270,2 px/s), Swing distance: 550,9
[00:08:19] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,5707964
[00:08:19] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, 270.2335), Swing: 550.9, Transfer: 1.00, Final speed: 127.4
[00:08:19] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:08:19] [INFO] [Player.Grenade] Thrown! Velocity: 270,2, Swing: 550,9
[00:08:19] [INFO] [Player.Grenade] State reset to IDLE
[00:08:20] [INFO] [Player.Grenade] Player rotation restored to 0
[00:08:20] [INFO] [GrenadeBase] Grenade landed at (450, 829.7305)
[00:08:20] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:08:20] [INFO] [GrenadeBase] EXPLODED at (450, 829.7305)!
[00:08:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450, 829.7305), source=NEUTRAL (FragGrenade), range=2937, listeners=18
[00:08:20] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[00:08:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:08:20] [INFO] [FragGrenade] Player found in blast radius at distance 94.8
[00:08:20] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:08:20] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:08:20] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:08:20] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:08:20] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:08:20] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:08:20] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:08:20] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:08:20] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:08:20] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:08:20] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:08:20] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:08:20] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:08:20] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:08:20] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:08:20] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:08:20] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:08:20] [INFO] [LastChance] Player died
[00:08:20] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 94.8
[00:08:20] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -12.4 degrees
[00:08:20] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 70.6 degrees
[00:08:20] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 174.2 degrees
[00:08:20] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 285.8 degrees
[00:08:20] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:08:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:20] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:08:20] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:08:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:20] [INFO] [LastChance] Threat detected: Bullet
[00:08:20] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:20] [INFO] [LastChance] Threat detected: Bullet
[00:08:20] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:20] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:08:20] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:08:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(674.3479, 764.7576), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:20] [INFO] [LastChance] Threat detected: Bullet
[00:08:20] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:20] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:08:20] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:08:20] [ENEMY] [Enemy1] Death animation component initialized
[00:08:20] [ENEMY] [Enemy2] Death animation component initialized
[00:08:20] [ENEMY] [Enemy3] Death animation component initialized
[00:08:20] [ENEMY] [Enemy4] Death animation component initialized
[00:08:20] [ENEMY] [Enemy5] Death animation component initialized
[00:08:20] [ENEMY] [Enemy6] Death animation component initialized
[00:08:20] [ENEMY] [Enemy7] Death animation component initialized
[00:08:20] [ENEMY] [Enemy8] Death animation component initialized
[00:08:20] [ENEMY] [Enemy9] Death animation component initialized
[00:08:20] [ENEMY] [Enemy10] Death animation component initialized
[00:08:20] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:08:20] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:08:20] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:08:20] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:08:20] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:08:20] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:08:20] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:08:20] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:08:20] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:08:20] [INFO] [ScoreManager] Level started with 10 enemies
[00:08:20] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:08:20] [ENEMY] [Enemy1] Registered as sound listener
[00:08:20] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:08:20] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:08:20] [ENEMY] [Enemy2] Registered as sound listener
[00:08:20] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:08:20] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:08:20] [ENEMY] [Enemy3] Registered as sound listener
[00:08:20] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:08:20] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:08:20] [ENEMY] [Enemy4] Registered as sound listener
[00:08:20] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:08:20] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:08:20] [ENEMY] [Enemy5] Registered as sound listener
[00:08:20] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:08:20] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:08:20] [ENEMY] [Enemy6] Registered as sound listener
[00:08:20] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:08:20] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:08:20] [ENEMY] [Enemy7] Registered as sound listener
[00:08:20] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:08:20] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:08:20] [ENEMY] [Enemy8] Registered as sound listener
[00:08:20] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:08:20] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:08:20] [ENEMY] [Enemy9] Registered as sound listener
[00:08:20] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:08:20] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:08:20] [ENEMY] [Enemy10] Registered as sound listener
[00:08:20] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:08:20] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:08:20] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:08:20] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:08:20] [INFO] [LastChance] Found player: Player
[00:08:20] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:08:20] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:08:20] [INFO] [LastChance] Connected to player Died signal (C#)
[00:08:20] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:08:20] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:08:20] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:08:21] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:08:21] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:08:21] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1116.7117, 1258.6827)
[00:08:21] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:08:21] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:08:21] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:08:21] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:08:21] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:08:21] [INFO] [Player.Grenade] Step 1 complete! Drag: (158.37207, 24.712402)
[00:08:21] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:08:21] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:08:21] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:08:21] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:08:21] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:08:21] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:08:21] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:08:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:08:22] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:08:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:08:22] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:08:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14117104520308, bullet_pos=(41.69983, 702.3934)
[00:08:22] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:08:22] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:08:22] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:08:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14117104520308, bullet_pos=(313.044, 467.0785)
[00:08:23] [INFO] [Bullet] Using shooter_position, distance=1186.91284179688
[00:08:23] [INFO] [Bullet] Distance to wall: 1186.91284179688 (80.8190779382138% of viewport)
[00:08:23] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:08:23] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:08:23] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (110.03274, -366.63153) (382,8 px/s), Swing distance: 453,9
[00:08:23] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,2792312
[00:08:23] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (110.0327, -366.6315), Swing: 453.9, Transfer: 1.00, Final speed: 180.4
[00:08:23] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:08:23] [INFO] [Player.Grenade] Thrown! Velocity: 382,8, Swing: 453,9
[00:08:23] [INFO] [Player.Grenade] State reset to IDLE
[00:08:23] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:08:23] [INFO] [FragGrenade] Wall impact detected! Body: Room1_WallBottom, triggering explosion
[00:08:23] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:08:23] [INFO] [GrenadeBase] EXPLODED at (467.7982, 716.9777)!
[00:08:23] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(467.7982, 716.9777), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:08:23] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:08:23] [ENEMY] [Enemy3] Hit taken, health: 3/4
[00:08:23] [ENEMY] [Enemy3] Hit taken, health: 2/4
[00:08:23] [ENEMY] [Enemy3] Hit taken, health: 1/4
[00:08:23] [ENEMY] [Enemy3] Hit taken, health: 0/4
[00:08:23] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:08:23] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:08:23] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:08:23] [INFO] [DeathAnim] Started - Angle: 9.6 deg, Index: 12
[00:08:23] [ENEMY] [Enemy3] Death animation started with hit direction: (0.985893, 0.167375)
[00:08:23] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 219.8
[00:08:23] [INFO] [FragGrenade] Player found in blast radius at distance 44.7
[00:08:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:08:23] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:08:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:08:23] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:08:23] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:08:23] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:08:23] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:08:23] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:08:23] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:08:23] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:08:23] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:08:23] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:08:23] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:08:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:08:23] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:08:23] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:08:23] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:08:23] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:08:23] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:08:23] [INFO] [LastChance] Player died
[00:08:23] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 44.7
[00:08:23] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 19.6 degrees
[00:08:23] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 99.1 degrees
[00:08:23] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 180.5 degrees
[00:08:23] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 255.9 degrees
[00:08:23] [ENEMY] [Enemy2] Hit taken, health: 2/4
[00:08:23] [INFO] [Player.Grenade] Player rotation restored to 0
[00:08:23] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:08:23] [ENEMY] [Enemy3] Ragdoll activated
[00:08:23] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:08:23] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:08:23] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:08:23] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:08:23] [ENEMY] [Enemy1] Death animation component initialized
[00:08:23] [ENEMY] [Enemy2] Death animation component initialized
[00:08:23] [ENEMY] [Enemy3] Death animation component initialized
[00:08:23] [ENEMY] [Enemy4] Death animation component initialized
[00:08:23] [ENEMY] [Enemy5] Death animation component initialized
[00:08:23] [ENEMY] [Enemy6] Death animation component initialized
[00:08:23] [ENEMY] [Enemy7] Death animation component initialized
[00:08:23] [ENEMY] [Enemy8] Death animation component initialized
[00:08:23] [ENEMY] [Enemy9] Death animation component initialized
[00:08:23] [ENEMY] [Enemy10] Death animation component initialized
[00:08:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:08:23] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:08:23] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:08:23] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:08:23] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:08:23] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:08:23] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:08:23] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:08:23] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:08:23] [INFO] [ScoreManager] Level started with 10 enemies
[00:08:23] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:08:23] [ENEMY] [Enemy1] Registered as sound listener
[00:08:23] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:08:23] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:08:23] [ENEMY] [Enemy2] Registered as sound listener
[00:08:23] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:08:23] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:08:23] [ENEMY] [Enemy3] Registered as sound listener
[00:08:23] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:08:23] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:08:23] [ENEMY] [Enemy4] Registered as sound listener
[00:08:23] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:08:23] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:08:23] [ENEMY] [Enemy5] Registered as sound listener
[00:08:23] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:08:23] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:08:23] [ENEMY] [Enemy6] Registered as sound listener
[00:08:23] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:08:23] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:08:23] [ENEMY] [Enemy7] Registered as sound listener
[00:08:23] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:08:23] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:08:23] [ENEMY] [Enemy8] Registered as sound listener
[00:08:23] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:08:23] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:08:23] [ENEMY] [Enemy9] Registered as sound listener
[00:08:23] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:08:23] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:08:23] [ENEMY] [Enemy10] Registered as sound listener
[00:08:23] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:08:23] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:08:23] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:08:23] [ENEMY] [Enemy1] Death animation component initialized
[00:08:23] [ENEMY] [Enemy2] Death animation component initialized
[00:08:23] [ENEMY] [Enemy3] Death animation component initialized
[00:08:23] [ENEMY] [Enemy4] Death animation component initialized
[00:08:23] [ENEMY] [Enemy5] Death animation component initialized
[00:08:23] [ENEMY] [Enemy6] Death animation component initialized
[00:08:23] [ENEMY] [Enemy7] Death animation component initialized
[00:08:23] [ENEMY] [Enemy8] Death animation component initialized
[00:08:23] [ENEMY] [Enemy9] Death animation component initialized
[00:08:23] [ENEMY] [Enemy10] Death animation component initialized
[00:08:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:08:23] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:08:23] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:08:23] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:08:23] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:08:23] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:08:23] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:08:23] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:08:23] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:08:23] [INFO] [ScoreManager] Level started with 10 enemies
[00:08:23] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[00:08:23] [ENEMY] [Enemy1] Registered as sound listener
[00:08:23] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:08:23] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[00:08:23] [ENEMY] [Enemy2] Registered as sound listener
[00:08:23] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:08:23] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[00:08:23] [ENEMY] [Enemy3] Registered as sound listener
[00:08:23] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:08:23] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[00:08:23] [ENEMY] [Enemy4] Registered as sound listener
[00:08:23] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:08:23] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[00:08:23] [ENEMY] [Enemy5] Registered as sound listener
[00:08:23] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:08:23] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[00:08:23] [ENEMY] [Enemy6] Registered as sound listener
[00:08:23] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:08:23] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[00:08:23] [ENEMY] [Enemy7] Registered as sound listener
[00:08:23] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:08:23] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[00:08:23] [ENEMY] [Enemy8] Registered as sound listener
[00:08:23] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:08:23] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[00:08:23] [ENEMY] [Enemy9] Registered as sound listener
[00:08:23] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:08:23] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[00:08:23] [ENEMY] [Enemy10] Registered as sound listener
[00:08:23] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:08:23] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:08:23] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:08:23] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:08:23] [INFO] [LastChance] Found player: Player
[00:08:23] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:08:23] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:08:23] [INFO] [LastChance] Connected to player Died signal (C#)
[00:08:23] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:08:23] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:08:23] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:08:24] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:08:24] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:08:24] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1038.6719, 1398.2747)
[00:08:24] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:08:24] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:08:24] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:08:24] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:08:24] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:08:24] [INFO] [Player.Grenade] Step 1 complete! Drag: (224.70654, 27.384033)
[00:08:24] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:08:24] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:08:24] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:08:24] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:08:24] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:08:24] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:08:24] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:08:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=29
[00:08:25] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[00:08:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:08:25] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:08:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14314907895911, bullet_pos=(41.69983, 702.3934)
[00:08:25] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:08:25] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:08:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14314907895911, bullet_pos=(500.9973, 362.0281)
[00:08:26] [INFO] [Bullet] Using shooter_position, distance=1182.04943847656
[00:08:26] [INFO] [Bullet] Distance to wall: 1182.04943847656 (80.4879198631236% of viewport)
[00:08:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14314907895911, bullet_pos=(203.222, 56.74686)
[00:08:26] [INFO] [Bullet] Using shooter_position, distance=1591.32409667969
[00:08:26] [INFO] [Bullet] Distance to wall: 1591.32409667969 (108.356183929909% of viewport)
[00:08:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14314907895911, bullet_pos=(56.7406, 206.8162)
[00:08:26] [INFO] [Bullet] Using shooter_position, distance=1548.85656738281
[00:08:26] [INFO] [Bullet] Distance to wall: 1548.85656738281 (105.464491769184% of viewport)
[00:08:26] [INFO] [Bullet] Distance-based penetration chance: 28.9071016461631%
[00:08:26] [INFO] [Bullet] Penetration failed (distance roll)
[00:08:26] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:08:27] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:08:27] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, -209.11433) (209,1 px/s), Swing distance: 451,1
[00:08:27] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5707964
[00:08:27] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, -209.1143), Swing: 451.1, Transfer: 1.00, Final speed: 98.6
[00:08:27] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:08:27] [INFO] [Player.Grenade] Thrown! Velocity: 209,1, Swing: 451,1
[00:08:27] [INFO] [Player.Grenade] State reset to IDLE
[00:08:27] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:08:27] [INFO] [FragGrenade] Wall impact detected! Body: Room1_WallBottom, triggering explosion
[00:08:27] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:08:27] [INFO] [GrenadeBase] EXPLODED at (450, 716.6749)!
[00:08:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450, 716.6749), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:08:27] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:08:27] [INFO] [FragGrenade] Player found in blast radius at distance 44.8
[00:08:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:08:27] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:08:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:08:27] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:08:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:08:27] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:08:27] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:08:27] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:08:27] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:08:27] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:08:27] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:08:27] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:08:27] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:08:27] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:08:27] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:08:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:08:27] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:08:27] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:08:27] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:08:27] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:08:27] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:08:27] [INFO] [LastChance] Player died
[00:08:27] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 44.8
[00:08:27] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -4.8 degrees
[00:08:27] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 107.2 degrees
[00:08:27] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 164.6 degrees
[00:08:27] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 283.7 degrees
[00:08:27] [ENEMY] [Enemy10] FLANKING started: target=(646.9838, 714.2854), side=left, pos=(1022.668, 1432.257)
[00:08:27] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:08:27] [INFO] [Player.Grenade] Player rotation restored to 0
[00:08:27] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:08:27] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:08:27] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:08:27] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:08:27] [ENEMY] [Enemy1] Death animation component initialized
[00:08:27] [ENEMY] [Enemy2] Death animation component initialized
[00:08:27] [ENEMY] [Enemy3] Death animation component initialized
[00:08:27] [ENEMY] [Enemy4] Death animation component initialized
[00:08:27] [ENEMY] [Enemy5] Death animation component initialized
[00:08:27] [ENEMY] [Enemy6] Death animation component initialized
[00:08:27] [ENEMY] [Enemy7] Death animation component initialized
[00:08:27] [ENEMY] [Enemy8] Death animation component initialized
[00:08:27] [ENEMY] [Enemy9] Death animation component initialized
[00:08:27] [ENEMY] [Enemy10] Death animation component initialized
[00:08:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:08:27] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:08:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:08:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:08:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:08:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:08:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:08:27] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:08:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:08:27] [INFO] [ScoreManager] Level started with 10 enemies
[00:08:27] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:08:27] [ENEMY] [Enemy1] Registered as sound listener
[00:08:27] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:08:27] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:08:27] [ENEMY] [Enemy2] Registered as sound listener
[00:08:27] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:08:27] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:08:27] [ENEMY] [Enemy3] Registered as sound listener
[00:08:27] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:08:27] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:08:27] [ENEMY] [Enemy4] Registered as sound listener
[00:08:27] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:08:27] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:08:27] [ENEMY] [Enemy5] Registered as sound listener
[00:08:27] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:08:27] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:08:27] [ENEMY] [Enemy6] Registered as sound listener
[00:08:27] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:08:27] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:08:27] [ENEMY] [Enemy7] Registered as sound listener
[00:08:27] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:08:27] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:08:27] [ENEMY] [Enemy8] Registered as sound listener
[00:08:27] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:08:27] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:08:27] [ENEMY] [Enemy9] Registered as sound listener
[00:08:27] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:08:27] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:08:27] [ENEMY] [Enemy10] Registered as sound listener
[00:08:27] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:08:27] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:08:27] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:08:27] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:08:27] [INFO] [LastChance] Found player: Player
[00:08:27] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:08:27] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:08:27] [INFO] [LastChance] Connected to player Died signal (C#)
[00:08:27] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:08:27] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:08:27] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:08:27] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:08:27] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:08:27] [ENEMY] [Enemy1] Death animation component initialized
[00:08:27] [ENEMY] [Enemy2] Death animation component initialized
[00:08:27] [ENEMY] [Enemy3] Death animation component initialized
[00:08:27] [ENEMY] [Enemy4] Death animation component initialized
[00:08:27] [ENEMY] [Enemy5] Death animation component initialized
[00:08:27] [ENEMY] [Enemy6] Death animation component initialized
[00:08:27] [ENEMY] [Enemy7] Death animation component initialized
[00:08:27] [ENEMY] [Enemy8] Death animation component initialized
[00:08:27] [ENEMY] [Enemy9] Death animation component initialized
[00:08:27] [ENEMY] [Enemy10] Death animation component initialized
[00:08:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:08:27] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:08:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:08:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:08:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:08:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:08:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:08:27] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:08:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:08:27] [INFO] [ScoreManager] Level started with 10 enemies
[00:08:27] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[00:08:27] [ENEMY] [Enemy1] Registered as sound listener
[00:08:27] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:08:27] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[00:08:27] [ENEMY] [Enemy2] Registered as sound listener
[00:08:27] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:08:27] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[00:08:27] [ENEMY] [Enemy3] Registered as sound listener
[00:08:27] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:08:27] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[00:08:27] [ENEMY] [Enemy4] Registered as sound listener
[00:08:27] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:08:27] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[00:08:27] [ENEMY] [Enemy5] Registered as sound listener
[00:08:27] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:08:27] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[00:08:27] [ENEMY] [Enemy6] Registered as sound listener
[00:08:27] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:08:27] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[00:08:27] [ENEMY] [Enemy7] Registered as sound listener
[00:08:27] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:08:27] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[00:08:27] [ENEMY] [Enemy8] Registered as sound listener
[00:08:27] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:08:27] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[00:08:27] [ENEMY] [Enemy9] Registered as sound listener
[00:08:27] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:08:27] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[00:08:27] [ENEMY] [Enemy10] Registered as sound listener
[00:08:27] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:08:27] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:08:27] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:08:27] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:08:27] [INFO] [LastChance] Found player: Player
[00:08:27] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:08:27] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:08:27] [INFO] [LastChance] Connected to player Died signal (C#)
[00:08:27] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:08:27] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:08:27] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:08:27] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:08:27] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:08:27] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1136.7722, 1584.6196)
[00:08:28] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:08:28] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:08:28] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:08:28] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:08:28] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:08:28] [INFO] [Player.Grenade] Step 1 complete! Drag: (119.686646, 24.712402)
[00:08:28] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:08:28] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:08:28] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:08:28] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:08:28] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:08:28] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:08:28] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:08:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=30
[00:08:29] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[00:08:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:08:29] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:08:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14551231759700, bullet_pos=(41.69983, 702.3934)
[00:08:29] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:08:29] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:08:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14551231759700, bullet_pos=(513.7013, 379.8763)
[00:08:29] [INFO] [Bullet] Using shooter_position, distance=1160.49206542969
[00:08:29] [INFO] [Bullet] Distance to wall: 1160.49206542969 (79.0200386918482% of viewport)
[00:08:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14551231759700, bullet_pos=(336.418, 256.9547)
[00:08:30] [INFO] [Bullet] Using shooter_position, distance=1351.34130859375
[00:08:30] [INFO] [Bullet] Distance to wall: 1351.34130859375 (92.0153145997023% of viewport)
[00:08:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14551231759700, bullet_pos=(671.5571, 59.80223)
[00:08:30] [INFO] [Bullet] Using shooter_position, distance=1411.23413085938
[00:08:30] [INFO] [Bullet] Distance to wall: 1411.23413085938 (96.0935270009575% of viewport)
[00:08:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14551231759700, bullet_pos=(996.3697, 198.0366)
[00:08:30] [INFO] [Bullet] Using shooter_position, distance=1232.90051269531
[00:08:30] [INFO] [Bullet] Distance to wall: 1232.90051269531 (83.9504630135585% of viewport)
[00:08:30] [INFO] [Bullet] Distance-based penetration chance: 48.7244598175151%
[00:08:30] [INFO] [Bullet] Penetration failed (distance roll)
[00:08:30] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:08:30] [ENEMY] [Enemy10] FLANKING started: target=(381.6864, 938.4158), side=right, pos=(1022.668, 1432.257)
[00:08:30] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:08:30] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:08:30] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (314.37985, 260.14825) (408,1 px/s), Swing distance: 555,1
[00:08:30] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,6912837
[00:08:30] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (314.3799, 260.1483), Swing: 555.1, Transfer: 1.00, Final speed: 192.4
[00:08:30] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:08:30] [INFO] [Player.Grenade] Thrown! Velocity: 408,1, Swing: 555,1
[00:08:30] [INFO] [Player.Grenade] State reset to IDLE
[00:08:31] [INFO] [Player.Grenade] Player rotation restored to 0
[00:08:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.5709, 754.2346), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:31] [ENEMY] [Enemy2] Heard gunshot at (684.5709, 754.2346), source_type=1, intensity=0.02, distance=350
[00:08:31] [ENEMY] [Enemy4] Heard gunshot at (684.5709, 754.2346), source_type=1, intensity=0.07, distance=186
[00:08:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:31] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:08:31] [INFO] [LastChance] Threat detected: Bullet
[00:08:31] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:31] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:08:31] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:08:31] [INFO] [GrenadeBase] Collision detected with Room2_WallLeft (type: StaticBody2D)
[00:08:31] [INFO] [FragGrenade] Wall impact detected! Body: Room2_WallLeft, triggering explosion
[00:08:31] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:08:31] [INFO] [GrenadeBase] EXPLODED at (520.3057, 792.039)!
[00:08:31] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(520.3057, 792.039), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:08:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:08:31] [ENEMY] [Enemy3] Hit taken, health: 1/2
[00:08:31] [ENEMY] [Enemy3] Hit taken, health: 0/2
[00:08:31] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:08:31] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:08:31] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:08:31] [INFO] [DeathAnim] Started - Angle: -13.0 deg, Index: 11
[00:08:31] [ENEMY] [Enemy3] Death animation started with hit direction: (0.974525, -0.22428)
[00:08:31] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 168.6
[00:08:31] [INFO] [FragGrenade] Player found in blast radius at distance 95.1
[00:08:31] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:08:31] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:08:31] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:08:31] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:08:31] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:08:31] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:08:31] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:08:31] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:08:31] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:08:31] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:08:31] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:08:31] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:08:31] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:08:31] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:08:31] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:08:31] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:08:31] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:08:31] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:08:31] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:08:31] [INFO] [LastChance] Player died
[00:08:31] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 95.1
[00:08:31] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -19.1 degrees
[00:08:31] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 78.1 degrees
[00:08:31] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 171.4 degrees
[00:08:31] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 282.2 degrees
[00:08:31] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:08:31] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:08:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(710.8086, 914.0651), source=ENEMY (Enemy4), range=1469, listeners=9
[00:08:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[00:08:31] [ENEMY] [Enemy3] Ragdoll activated
[00:08:31] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:08:31] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:08:31] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:08:31] [ENEMY] [Enemy1] Death animation component initialized
[00:08:31] [ENEMY] [Enemy2] Death animation component initialized
[00:08:31] [ENEMY] [Enemy3] Death animation component initialized
[00:08:31] [ENEMY] [Enemy4] Death animation component initialized
[00:08:31] [ENEMY] [Enemy5] Death animation component initialized
[00:08:31] [ENEMY] [Enemy6] Death animation component initialized
[00:08:31] [ENEMY] [Enemy7] Death animation component initialized
[00:08:31] [ENEMY] [Enemy8] Death animation component initialized
[00:08:31] [ENEMY] [Enemy9] Death animation component initialized
[00:08:31] [ENEMY] [Enemy10] Death animation component initialized
[00:08:31] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:08:31] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:08:31] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:08:31] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:08:31] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:08:31] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:08:31] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:08:31] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:08:31] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:08:31] [INFO] [ScoreManager] Level started with 10 enemies
[00:08:31] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:08:31] [ENEMY] [Enemy1] Registered as sound listener
[00:08:31] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:08:31] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:08:31] [ENEMY] [Enemy2] Registered as sound listener
[00:08:31] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:08:31] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:08:31] [ENEMY] [Enemy3] Registered as sound listener
[00:08:31] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:08:31] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:08:31] [ENEMY] [Enemy4] Registered as sound listener
[00:08:31] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:08:31] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:08:31] [ENEMY] [Enemy5] Registered as sound listener
[00:08:31] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:08:31] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:08:31] [ENEMY] [Enemy6] Registered as sound listener
[00:08:31] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:08:31] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:08:31] [ENEMY] [Enemy7] Registered as sound listener
[00:08:31] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:08:31] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:08:31] [ENEMY] [Enemy8] Registered as sound listener
[00:08:31] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:08:31] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:08:31] [ENEMY] [Enemy9] Registered as sound listener
[00:08:31] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:08:31] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:08:31] [ENEMY] [Enemy10] Registered as sound listener
[00:08:31] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:08:31] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:08:31] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:08:31] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:08:31] [INFO] [LastChance] Found player: Player
[00:08:31] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:08:31] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:08:31] [INFO] [LastChance] Connected to player Died signal (C#)
[00:08:31] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:08:31] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:08:31] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:08:31] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:08:31] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:08:32] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (883.88385, 1522.5046)
[00:08:32] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:08:32] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:08:32] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:08:32] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:08:32] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:08:32] [INFO] [Player.Grenade] Step 1 complete! Drag: (374.5368, 11.35437)
[00:08:32] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:08:32] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:08:32] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:08:32] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:08:32] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:08:32] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:08:32] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:08:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:08:33] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:08:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:08:33] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:08:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14784871271921, bullet_pos=(41.69983, 702.3934)
[00:08:33] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:08:33] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:08:33] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:08:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14784871271921, bullet_pos=(498.7257, 421.8733)
[00:08:33] [INFO] [Bullet] Using shooter_position, distance=1129.24157714844
[00:08:33] [INFO] [Bullet] Distance to wall: 1129.24157714844 (76.8921354801971% of viewport)
[00:08:34] [ENEMY] [Enemy1] Hit taken, health: 3/4
[00:08:34] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:08:34] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (856.68945, -148.41866) (869,5 px/s), Swing distance: 555,0
[00:08:34] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,171544
[00:08:34] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (856.6895, -148.4187), Swing: 555.0, Transfer: 1.00, Final speed: 409.9
[00:08:34] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:08:34] [INFO] [Player.Grenade] Thrown! Velocity: 869,5, Swing: 555,0
[00:08:34] [INFO] [Player.Grenade] State reset to IDLE
[00:08:34] [INFO] [Player.Grenade] Player rotation restored to 0
[00:08:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:34] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:08:34] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:08:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:34] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:08:34] [INFO] [LastChance] Threat detected: Bullet
[00:08:34] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:34] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:08:34] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:08:34] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:08:34] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:08:34] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:08:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:34] [INFO] [LastChance] Threat detected: Bullet
[00:08:34] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:34] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:08:34] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:08:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:34] [INFO] [LastChance] Threat detected: Bullet
[00:08:34] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:34] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:08:34] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:08:34] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:08:34] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:08:34] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:08:34] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:08:34] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:08:34] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:08:34] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:08:34] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:08:34] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:08:34] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:08:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:34] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:08:34] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:08:34] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:08:34] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:08:34] [ENEMY] [Enemy1] Death animation component initialized
[00:08:34] [ENEMY] [Enemy2] Death animation component initialized
[00:08:34] [ENEMY] [Enemy3] Death animation component initialized
[00:08:34] [ENEMY] [Enemy4] Death animation component initialized
[00:08:34] [ENEMY] [Enemy5] Death animation component initialized
[00:08:34] [ENEMY] [Enemy6] Death animation component initialized
[00:08:34] [ENEMY] [Enemy7] Death animation component initialized
[00:08:34] [ENEMY] [Enemy8] Death animation component initialized
[00:08:34] [ENEMY] [Enemy9] Death animation component initialized
[00:08:34] [ENEMY] [Enemy10] Death animation component initialized
[00:08:34] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:08:34] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:08:34] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:08:34] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:08:34] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:08:34] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:08:34] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:08:34] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:08:34] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:08:34] [INFO] [ScoreManager] Level started with 10 enemies
[00:08:34] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:08:34] [ENEMY] [Enemy1] Registered as sound listener
[00:08:34] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:08:34] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:08:34] [ENEMY] [Enemy2] Registered as sound listener
[00:08:34] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:08:34] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:08:34] [ENEMY] [Enemy3] Registered as sound listener
[00:08:34] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:08:34] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:08:34] [ENEMY] [Enemy4] Registered as sound listener
[00:08:34] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:08:34] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:08:34] [ENEMY] [Enemy5] Registered as sound listener
[00:08:34] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:08:34] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:08:34] [ENEMY] [Enemy6] Registered as sound listener
[00:08:34] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:08:34] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:08:34] [ENEMY] [Enemy7] Registered as sound listener
[00:08:34] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:08:34] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:08:34] [ENEMY] [Enemy8] Registered as sound listener
[00:08:34] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:08:34] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:08:34] [ENEMY] [Enemy9] Registered as sound listener
[00:08:34] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:08:34] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:08:34] [ENEMY] [Enemy10] Registered as sound listener
[00:08:34] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:08:34] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:08:34] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:08:34] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:08:34] [INFO] [LastChance] Found player: Player
[00:08:34] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:08:34] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:08:34] [INFO] [LastChance] Connected to player Died signal (C#)
[00:08:34] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:08:34] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:08:34] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:08:35] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:08:35] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:08:35] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1224.4285, 1409.6289)
[00:08:35] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:08:35] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:08:35] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:08:35] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:08:35] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:08:35] [INFO] [Player.Grenade] Step 1 complete! Drag: (53.511963, 16.029785)
[00:08:35] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:08:35] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:08:35] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:08:35] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:08:36] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:08:36] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:08:36] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:08:36] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3636.3176, 1110.8788) (3802,2 px/s), Swing distance: 398,6
[00:08:36] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,2964909
[00:08:36] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3636.318, 1110.879), Swing: 398.6, Transfer: 1.00, Final speed: 1186.5
[00:08:36] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:08:36] [INFO] [Player.Grenade] Thrown! Velocity: 3802,2, Swing: 398,6
[00:08:36] [INFO] [Player.Grenade] State reset to IDLE
[00:08:36] [INFO] [Player.Grenade] Player rotation restored to 0
[00:08:36] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:08:36] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:08:36] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:08:36] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:08:36] [ENEMY] [Enemy1] Death animation component initialized
[00:08:36] [ENEMY] [Enemy2] Death animation component initialized
[00:08:36] [ENEMY] [Enemy3] Death animation component initialized
[00:08:36] [ENEMY] [Enemy4] Death animation component initialized
[00:08:36] [ENEMY] [Enemy5] Death animation component initialized
[00:08:36] [ENEMY] [Enemy6] Death animation component initialized
[00:08:37] [ENEMY] [Enemy7] Death animation component initialized
[00:08:37] [ENEMY] [Enemy8] Death animation component initialized
[00:08:37] [ENEMY] [Enemy9] Death animation component initialized
[00:08:37] [ENEMY] [Enemy10] Death animation component initialized
[00:08:37] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:08:37] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:08:37] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:08:37] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:08:37] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:08:37] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:08:37] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:08:37] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:08:37] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:08:37] [INFO] [ScoreManager] Level started with 10 enemies
[00:08:37] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[00:08:37] [ENEMY] [Enemy1] Registered as sound listener
[00:08:37] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:08:37] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[00:08:37] [ENEMY] [Enemy2] Registered as sound listener
[00:08:37] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:08:37] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[00:08:37] [ENEMY] [Enemy3] Registered as sound listener
[00:08:37] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:08:37] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[00:08:37] [ENEMY] [Enemy4] Registered as sound listener
[00:08:37] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:08:37] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[00:08:37] [ENEMY] [Enemy5] Registered as sound listener
[00:08:37] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:08:37] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[00:08:37] [ENEMY] [Enemy6] Registered as sound listener
[00:08:37] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:08:37] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[00:08:37] [ENEMY] [Enemy7] Registered as sound listener
[00:08:37] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:08:37] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[00:08:37] [ENEMY] [Enemy8] Registered as sound listener
[00:08:37] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:08:37] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[00:08:37] [ENEMY] [Enemy9] Registered as sound listener
[00:08:37] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:08:37] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[00:08:37] [ENEMY] [Enemy10] Registered as sound listener
[00:08:37] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:08:37] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:08:37] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:08:37] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:08:37] [INFO] [LastChance] Found player: Player
[00:08:37] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:08:37] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:08:37] [INFO] [LastChance] Connected to player Died signal (C#)
[00:08:37] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:08:37] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:08:37] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:08:37] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:08:37] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:08:37] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (933.7059, 1523.1726)
[00:08:37] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:08:37] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:08:37] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:08:37] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:08:37] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:08:37] [INFO] [Player.Grenade] Step 1 complete! Drag: (345.0722, -6.0112305)
[00:08:38] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:08:38] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:08:38] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:08:38] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:08:38] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:08:38] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:08:39] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:08:39] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:08:39] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:08:40] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:08:40] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, 597.7216) (597,7 px/s), Swing distance: 729,2
[00:08:40] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,5707964
[00:08:40] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, 597.7216), Swing: 729.2, Transfer: 1.00, Final speed: 281.8
[00:08:40] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:08:40] [INFO] [Player.Grenade] Thrown! Velocity: 597,7, Swing: 729,2
[00:08:40] [INFO] [Player.Grenade] State reset to IDLE
[00:08:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=30
[00:08:40] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[00:08:40] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:08:40] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:08:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:40] [INFO] [LastChance] Threat detected: Bullet
[00:08:40] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:40] [INFO] [Player.Grenade] Player rotation restored to 0
[00:08:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:08:40] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:08:40] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:08:40] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:08:40] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:08:40] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:08:40] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:08:40] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:08:40] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:08:40] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:08:40] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:08:40] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:08:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:40] [INFO] [LastChance] Threat detected: Bullet
[00:08:40] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:40] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:08:40] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:08:40] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:08:40] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:08:40] [ENEMY] [Enemy1] Death animation component initialized
[00:08:40] [ENEMY] [Enemy2] Death animation component initialized
[00:08:40] [ENEMY] [Enemy3] Death animation component initialized
[00:08:40] [ENEMY] [Enemy4] Death animation component initialized
[00:08:40] [ENEMY] [Enemy5] Death animation component initialized
[00:08:40] [ENEMY] [Enemy6] Death animation component initialized
[00:08:40] [ENEMY] [Enemy7] Death animation component initialized
[00:08:40] [ENEMY] [Enemy8] Death animation component initialized
[00:08:40] [ENEMY] [Enemy9] Death animation component initialized
[00:08:40] [ENEMY] [Enemy10] Death animation component initialized
[00:08:40] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:08:40] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:08:40] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:08:40] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:08:40] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:08:40] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:08:40] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:08:40] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:08:40] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:08:40] [INFO] [ScoreManager] Level started with 10 enemies
[00:08:40] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:08:40] [ENEMY] [Enemy1] Registered as sound listener
[00:08:40] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:08:40] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:08:40] [ENEMY] [Enemy2] Registered as sound listener
[00:08:40] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:08:40] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:08:40] [ENEMY] [Enemy3] Registered as sound listener
[00:08:40] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:08:40] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:08:40] [ENEMY] [Enemy4] Registered as sound listener
[00:08:40] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:08:40] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:08:40] [ENEMY] [Enemy5] Registered as sound listener
[00:08:40] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:08:40] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:08:40] [ENEMY] [Enemy6] Registered as sound listener
[00:08:40] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:08:40] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:08:40] [ENEMY] [Enemy7] Registered as sound listener
[00:08:40] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:08:40] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:08:40] [ENEMY] [Enemy8] Registered as sound listener
[00:08:40] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:08:40] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:08:40] [ENEMY] [Enemy9] Registered as sound listener
[00:08:40] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:08:40] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:08:40] [ENEMY] [Enemy10] Registered as sound listener
[00:08:40] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:08:40] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:08:40] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:08:40] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:08:40] [INFO] [LastChance] Found player: Player
[00:08:40] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:08:40] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:08:40] [INFO] [LastChance] Connected to player Died signal (C#)
[00:08:40] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:08:40] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:08:40] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:08:41] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:08:41] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:08:41] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (872.3746, 1348.1819)
[00:08:41] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:08:41] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:08:41] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:08:41] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:08:41] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:08:41] [INFO] [Player.Grenade] Step 1 complete! Drag: (398.58575, 67.45825)
[00:08:41] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:08:41] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:08:41] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:08:41] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:08:41] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:08:41] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:08:41] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:08:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:08:42] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:08:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:08:42] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:08:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=15324376206437, bullet_pos=(41.69983, 702.3934)
[00:08:42] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:08:42] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:08:43] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:08:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=15324376206437, bullet_pos=(505.1597, 367.718)
[00:08:43] [INFO] [Bullet] Using shooter_position, distance=1175.12768554688
[00:08:43] [INFO] [Bullet] Distance to wall: 1175.12768554688 (80.0166049781598% of viewport)
[00:08:43] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:08:43] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1760.531, -425.91806) (1811,3 px/s), Swing distance: 625,5
[00:08:43] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,2373652
[00:08:43] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1760.531, -425.9181), Swing: 625.5, Transfer: 1.00, Final speed: 853.9
[00:08:43] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:08:43] [INFO] [Player.Grenade] Thrown! Velocity: 1811,3, Swing: 625,5
[00:08:43] [INFO] [Player.Grenade] State reset to IDLE
[00:08:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=15324376206437, bullet_pos=(337.8253, 231.5627)
[00:08:43] [INFO] [Bullet] Using shooter_position, distance=1372.77233886719
[00:08:43] [INFO] [Bullet] Distance to wall: 1372.77233886719 (93.4745928592104% of viewport)
[00:08:43] [INFO] [Bullet] Distance-based penetration chance: 37.6129749975879%
[00:08:43] [INFO] [Bullet] Penetration failed (distance roll)
[00:08:43] [INFO] [Player.Grenade] Player rotation restored to 0
[00:08:43] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:08:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:43] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:08:43] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:08:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:43] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:08:43] [INFO] [LastChance] Threat detected: Bullet
[00:08:43] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:43] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:08:43] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:08:43] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:08:43] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:08:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:43] [INFO] [LastChance] Threat detected: Bullet
[00:08:43] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:43] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:08:43] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:08:43] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:08:43] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:08:43] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:08:43] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:08:43] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:08:43] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:08:43] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:08:43] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:08:43] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:08:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:44] [INFO] [LastChance] Threat detected: Bullet
[00:08:44] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:44] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:08:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:08:44] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:08:44] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:08:44] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:08:44] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:08:44] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:08:44] [INFO] [LastChance] Player died
[00:08:44] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:08:44] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:08:44] [ENEMY] [Enemy10] FLANKING started: target=(640.6129, 849.2228), side=left, pos=(1022.668, 1432.257)
[00:08:44] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:08:45] [INFO] [GrenadeBase] Collision detected with Room2_WallRight (type: StaticBody2D)
[00:08:45] [INFO] [FragGrenade] Wall impact detected! Body: Room2_WallRight, triggering explosion
[00:08:45] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:08:45] [INFO] [GrenadeBase] EXPLODED at (903.2457, 626.0073)!
[00:08:45] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(903.2457, 626.0073), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:08:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[00:08:45] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 11.3 degrees
[00:08:45] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 71.6 degrees
[00:08:45] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 176.9 degrees
[00:08:45] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 284.6 degrees
[00:08:45] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[00:08:45] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:08:45] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:08:45] [ENEMY] [Enemy1] Death animation component initialized
[00:08:45] [ENEMY] [Enemy2] Death animation component initialized
[00:08:45] [ENEMY] [Enemy3] Death animation component initialized
[00:08:45] [ENEMY] [Enemy4] Death animation component initialized
[00:08:45] [ENEMY] [Enemy5] Death animation component initialized
[00:08:45] [ENEMY] [Enemy6] Death animation component initialized
[00:08:45] [ENEMY] [Enemy7] Death animation component initialized
[00:08:45] [ENEMY] [Enemy8] Death animation component initialized
[00:08:45] [ENEMY] [Enemy9] Death animation component initialized
[00:08:45] [ENEMY] [Enemy10] Death animation component initialized
[00:08:45] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:08:45] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:08:45] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:08:45] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:08:45] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:08:45] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:08:45] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:08:45] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:08:45] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:08:45] [INFO] [ScoreManager] Level started with 10 enemies
[00:08:45] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:08:45] [ENEMY] [Enemy1] Registered as sound listener
[00:08:45] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:08:45] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:08:45] [ENEMY] [Enemy2] Registered as sound listener
[00:08:45] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:08:45] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:08:45] [ENEMY] [Enemy3] Registered as sound listener
[00:08:45] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:08:45] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:08:45] [ENEMY] [Enemy4] Registered as sound listener
[00:08:45] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:08:45] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:08:45] [ENEMY] [Enemy5] Registered as sound listener
[00:08:45] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:08:45] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:08:45] [ENEMY] [Enemy6] Registered as sound listener
[00:08:45] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:08:45] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:08:45] [ENEMY] [Enemy7] Registered as sound listener
[00:08:45] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:08:45] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:08:45] [ENEMY] [Enemy8] Registered as sound listener
[00:08:45] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:08:45] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:08:45] [ENEMY] [Enemy9] Registered as sound listener
[00:08:45] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:08:45] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:08:45] [ENEMY] [Enemy10] Registered as sound listener
[00:08:45] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:08:45] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:08:45] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:08:45] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:08:45] [INFO] [LastChance] Found player: Player
[00:08:45] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:08:45] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:08:45] [INFO] [LastChance] Connected to player Died signal (C#)
[00:08:45] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:08:45] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:08:45] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:08:46] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:08:46] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:08:46] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1076.8035, 1519.833)
[00:08:46] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:08:46] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:08:46] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:08:46] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:08:46] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:08:46] [INFO] [Player.Grenade] Step 1 complete! Drag: (203.1211, 52.096436)
[00:08:46] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:08:46] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:08:46] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:08:46] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:08:46] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:08:46] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:08:47] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:08:48] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:08:48] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:08:48] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:08:48] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (843.42346, 155.43005) (857,6 px/s), Swing distance: 566,2
[00:08:48] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,18224007
[00:08:48] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (843.4235, 155.4301), Swing: 566.2, Transfer: 1.00, Final speed: 404.3
[00:08:48] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:08:48] [INFO] [Player.Grenade] Thrown! Velocity: 857,6, Swing: 566,2
[00:08:48] [INFO] [Player.Grenade] State reset to IDLE
[00:08:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=20
[00:08:48] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:08:48] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:08:48] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:08:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:48] [INFO] [Player.Grenade] Player rotation restored to 0
[00:08:48] [INFO] [LastChance] Threat detected: Bullet
[00:08:48] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:48] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:08:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:48] [INFO] [LastChance] Threat detected: Bullet
[00:08:48] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:49] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:08:49] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:08:49] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:08:49] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:08:49] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:08:49] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:08:49] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:08:49] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:08:49] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:08:49] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:08:49] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:08:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:50] [INFO] [LastChance] Threat detected: Bullet
[00:08:50] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:50] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:08:50] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:08:50] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:08:50] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:08:50] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:08:50] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:08:50] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:08:50] [INFO] [LastChance] Player died
[00:08:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:50] [INFO] [LastChance] Threat detected: Bullet
[00:08:50] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:50] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:08:50] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:08:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:51] [INFO] [GrenadeBase] Grenade landed at (647.6492, 767.3678)
[00:08:51] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:08:51] [INFO] [GrenadeBase] EXPLODED at (647.6492, 767.3678)!
[00:08:51] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(647.6492, 767.3678), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:08:51] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:08:51] [ENEMY] [Enemy3] Hit taken, health: 1/2
[00:08:51] [ENEMY] [Enemy3] Hit taken, health: 0/2
[00:08:51] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:08:51] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:08:51] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:08:51] [INFO] [DeathAnim] Started - Angle: -20.3 deg, Index: 10
[00:08:51] [ENEMY] [Enemy3] Death animation started with hit direction: (0.937914, -0.346869)
[00:08:51] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 39.2
[00:08:51] [INFO] [FragGrenade] Player found in blast radius at distance 199.8
[00:08:51] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 199.8
[00:08:51] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -13.1 degrees
[00:08:51] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 77.5 degrees
[00:08:51] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 197.7 degrees
[00:08:51] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 254.1 degrees
[00:08:51] [INFO] [LastChance] Threat detected: Bullet
[00:08:51] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:51] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[00:08:51] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[00:08:51] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:08:51] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:08:51] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:08:51] [ENEMY] [Enemy1] Death animation component initialized
[00:08:51] [ENEMY] [Enemy2] Death animation component initialized
[00:08:51] [ENEMY] [Enemy3] Death animation component initialized
[00:08:51] [ENEMY] [Enemy4] Death animation component initialized
[00:08:51] [ENEMY] [Enemy5] Death animation component initialized
[00:08:51] [ENEMY] [Enemy6] Death animation component initialized
[00:08:51] [ENEMY] [Enemy7] Death animation component initialized
[00:08:51] [ENEMY] [Enemy8] Death animation component initialized
[00:08:51] [ENEMY] [Enemy9] Death animation component initialized
[00:08:51] [ENEMY] [Enemy10] Death animation component initialized
[00:08:51] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:08:51] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:08:51] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:08:51] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:08:51] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:08:51] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:08:51] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:08:51] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:08:51] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:08:51] [INFO] [ScoreManager] Level started with 10 enemies
[00:08:51] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:08:51] [ENEMY] [Enemy1] Registered as sound listener
[00:08:51] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:08:51] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:08:51] [ENEMY] [Enemy2] Registered as sound listener
[00:08:51] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:08:51] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:08:51] [ENEMY] [Enemy3] Registered as sound listener
[00:08:51] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:08:51] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:08:51] [ENEMY] [Enemy4] Registered as sound listener
[00:08:51] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:08:51] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:08:51] [ENEMY] [Enemy5] Registered as sound listener
[00:08:51] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:08:51] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:08:51] [ENEMY] [Enemy6] Registered as sound listener
[00:08:51] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:08:51] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:08:51] [ENEMY] [Enemy7] Registered as sound listener
[00:08:51] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:08:51] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:08:51] [ENEMY] [Enemy8] Registered as sound listener
[00:08:51] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:08:51] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:08:51] [ENEMY] [Enemy9] Registered as sound listener
[00:08:51] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:08:51] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:08:51] [ENEMY] [Enemy10] Registered as sound listener
[00:08:51] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:08:51] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:08:51] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:08:51] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:08:51] [INFO] [LastChance] Found player: Player
[00:08:51] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:08:51] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:08:51] [INFO] [LastChance] Connected to player Died signal (C#)
[00:08:51] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:08:51] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:08:51] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:08:51] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:08:51] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:08:51] [ENEMY] [Enemy1] Death animation component initialized
[00:08:51] [ENEMY] [Enemy2] Death animation component initialized
[00:08:51] [ENEMY] [Enemy3] Death animation component initialized
[00:08:51] [ENEMY] [Enemy4] Death animation component initialized
[00:08:51] [ENEMY] [Enemy5] Death animation component initialized
[00:08:51] [ENEMY] [Enemy6] Death animation component initialized
[00:08:51] [ENEMY] [Enemy7] Death animation component initialized
[00:08:51] [ENEMY] [Enemy8] Death animation component initialized
[00:08:51] [ENEMY] [Enemy9] Death animation component initialized
[00:08:51] [ENEMY] [Enemy10] Death animation component initialized
[00:08:51] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:08:51] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:08:51] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:08:51] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:08:51] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:08:51] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:08:51] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:08:51] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:08:51] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:08:51] [INFO] [ScoreManager] Level started with 10 enemies
[00:08:51] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[00:08:51] [ENEMY] [Enemy1] Registered as sound listener
[00:08:51] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:08:51] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[00:08:51] [ENEMY] [Enemy2] Registered as sound listener
[00:08:51] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:08:51] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[00:08:51] [ENEMY] [Enemy3] Registered as sound listener
[00:08:51] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:08:51] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[00:08:51] [ENEMY] [Enemy4] Registered as sound listener
[00:08:51] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:08:51] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[00:08:51] [ENEMY] [Enemy5] Registered as sound listener
[00:08:51] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:08:51] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[00:08:51] [ENEMY] [Enemy6] Registered as sound listener
[00:08:51] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:08:51] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[00:08:51] [ENEMY] [Enemy7] Registered as sound listener
[00:08:51] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:08:51] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[00:08:51] [ENEMY] [Enemy8] Registered as sound listener
[00:08:51] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:08:51] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[00:08:51] [ENEMY] [Enemy9] Registered as sound listener
[00:08:51] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:08:51] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[00:08:51] [ENEMY] [Enemy10] Registered as sound listener
[00:08:51] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:08:51] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:08:51] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:08:51] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:08:51] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:08:51] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:08:51] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:08:51] [INFO] [LastChance] Found player: Player
[00:08:51] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:08:51] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:08:51] [INFO] [LastChance] Connected to player Died signal (C#)
[00:08:52] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:08:52] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:08:52] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:08:52] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1167.6353, 1219.2709)
[00:08:52] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:08:52] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:08:52] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:08:52] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1094.6666)
[00:08:52] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:08:52] [INFO] [Player.Grenade] Step 1 complete! Drag: (109.69092, -23.347412)
[00:08:52] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:08:52] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:08:52] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:08:52] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:08:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=29
[00:08:53] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[00:08:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:08:53] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:08:53] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:08:53] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:08:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=15992109401991, bullet_pos=(41.69983, 702.3934)
[00:08:53] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:08:53] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:08:53] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:08:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=15992109401991, bullet_pos=(520.9763, 390.7899)
[00:08:53] [INFO] [Bullet] Using shooter_position, distance=1147.52502441406
[00:08:53] [INFO] [Bullet] Distance to wall: 1147.52502441406 (78.1370890248084% of viewport)
[00:08:53] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:08:53] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2853.053, -297.34283) (2868,5 px/s), Swing distance: 524,5
[00:08:53] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,10384429
[00:08:53] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2853.053, -297.3428), Swing: 524.5, Transfer: 1.00, Final speed: 1186.5
[00:08:53] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:08:53] [INFO] [Player.Grenade] Thrown! Velocity: 2868,5, Swing: 524,5
[00:08:53] [INFO] [Player.Grenade] State reset to IDLE
[00:08:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=15992109401991, bullet_pos=(274.7512, 266.232)
[00:08:53] [INFO] [Bullet] Using shooter_position, distance=1375.05578613281
[00:08:53] [INFO] [Bullet] Distance to wall: 1375.05578613281 (93.630076982416% of viewport)
[00:08:54] [INFO] [Player.Grenade] Player rotation restored to 0
[00:08:54] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:08:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=15992109401991, bullet_pos=(65.11318, 373.08)
[00:08:54] [INFO] [Bullet] Using shooter_position, distance=1415.53430175781
[00:08:54] [INFO] [Bullet] Distance to wall: 1415.53430175781 (96.3863335447492% of viewport)
[00:08:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:54] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:08:54] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:08:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:54] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:08:54] [INFO] [LastChance] Threat detected: @Area2D@14548
[00:08:54] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:54] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:08:54] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:08:54] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:08:54] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:08:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=15992109401991, bullet_pos=(233.0597, 435.0131)
[00:08:54] [INFO] [Bullet] Using shooter_position, distance=1260.47827148438
[00:08:54] [INFO] [Bullet] Distance to wall: 1260.47827148438 (85.8282833205326% of viewport)
[00:08:54] [INFO] [Bullet] Distance-based penetration chance: 46.5336694593786%
[00:08:54] [INFO] [Bullet] Penetration failed (distance roll)
[00:08:54] [INFO] [LastChance] Threat detected: @Area2D@14549
[00:08:54] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:54] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:08:54] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:08:54] [INFO] [GrenadeBase] Collision detected with Room2_WallRight (type: StaticBody2D)
[00:08:54] [INFO] [FragGrenade] Wall impact detected! Body: Room2_WallRight, triggering explosion
[00:08:54] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:08:54] [INFO] [GrenadeBase] EXPLODED at (901.2985, 692.9055)!
[00:08:54] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(901.2985, 692.9055), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:08:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[00:08:54] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 1.1 degrees
[00:08:54] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 76.0 degrees
[00:08:54] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 173.4 degrees
[00:08:54] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 270.6 degrees
[00:08:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:54] [INFO] [LastChance] Threat detected: Bullet
[00:08:54] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:54] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:08:54] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:08:54] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[00:08:54] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[00:08:54] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[00:08:54] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[00:08:54] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[00:08:54] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:08:54] [ENEMY] [Enemy10] FLANKING started: target=(408.8353, 1114.551), side=right, pos=(1022.668, 1432.257)
[00:08:54] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:08:55] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[00:08:55] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:08:55] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:08:55] [ENEMY] [Enemy1] Death animation component initialized
[00:08:55] [ENEMY] [Enemy2] Death animation component initialized
[00:08:55] [ENEMY] [Enemy3] Death animation component initialized
[00:08:55] [ENEMY] [Enemy4] Death animation component initialized
[00:08:55] [ENEMY] [Enemy5] Death animation component initialized
[00:08:55] [ENEMY] [Enemy6] Death animation component initialized
[00:08:55] [ENEMY] [Enemy7] Death animation component initialized
[00:08:55] [ENEMY] [Enemy8] Death animation component initialized
[00:08:55] [ENEMY] [Enemy9] Death animation component initialized
[00:08:55] [ENEMY] [Enemy10] Death animation component initialized
[00:08:55] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:08:55] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:08:55] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:08:55] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:08:55] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:08:55] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:08:55] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:08:55] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:08:55] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:08:55] [INFO] [ScoreManager] Level started with 10 enemies
[00:08:55] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:08:55] [ENEMY] [Enemy1] Registered as sound listener
[00:08:55] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:08:55] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:08:55] [ENEMY] [Enemy2] Registered as sound listener
[00:08:55] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:08:55] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:08:55] [ENEMY] [Enemy3] Registered as sound listener
[00:08:55] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:08:55] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:08:55] [ENEMY] [Enemy4] Registered as sound listener
[00:08:55] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:08:55] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:08:55] [ENEMY] [Enemy5] Registered as sound listener
[00:08:55] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:08:55] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:08:55] [ENEMY] [Enemy6] Registered as sound listener
[00:08:55] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:08:55] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:08:55] [ENEMY] [Enemy7] Registered as sound listener
[00:08:55] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:08:55] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:08:55] [ENEMY] [Enemy8] Registered as sound listener
[00:08:55] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:08:55] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:08:55] [ENEMY] [Enemy9] Registered as sound listener
[00:08:55] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:08:55] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:08:55] [ENEMY] [Enemy10] Registered as sound listener
[00:08:55] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:08:55] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:08:55] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:08:55] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:08:55] [INFO] [LastChance] Found player: Player
[00:08:55] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:08:55] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:08:55] [INFO] [LastChance] Connected to player Died signal (C#)
[00:08:55] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:08:55] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:08:55] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:08:55] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:08:55] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:08:55] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:08:55] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1067.7169, 1091.599)
[00:08:56] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:08:56] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:08:56] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:08:56] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1127.6666)
[00:08:56] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:08:56] [INFO] [Player.Grenade] Step 1 complete! Drag: (205.90051, 31.585083)
[00:08:56] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:08:56] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:08:56] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:08:56] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:08:56] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:08:56] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:08:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:08:56] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:08:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:08:56] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:08:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=16214743058848, bullet_pos=(41.69983, 702.3934)
[00:08:56] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:08:56] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:08:56] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:08:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=16214743058848, bullet_pos=(499.7751, 360.3845)
[00:08:57] [INFO] [Bullet] Using shooter_position, distance=1184.05749511719
[00:08:57] [INFO] [Bullet] Distance to wall: 1184.05749511719 (80.6246521322743% of viewport)
[00:08:57] [INFO] [Bullet] Distance-based penetration chance: 52.6045725123467%
[00:08:57] [INFO] [Bullet] Penetration failed (distance roll)
[00:08:57] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:08:57] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2768.5776, -132.0661) (2771,7 px/s), Swing distance: 572,8
[00:08:57] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,047665656
[00:08:57] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2768.578, -132.0661), Swing: 572.8, Transfer: 1.00, Final speed: 1186.5
[00:08:57] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:08:57] [INFO] [Player.Grenade] Thrown! Velocity: 2771,7, Swing: 572,8
[00:08:57] [INFO] [Player.Grenade] State reset to IDLE
[00:08:57] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[00:08:57] [INFO] [FragGrenade] Non-wall collision (body: Enemy3, type: CharacterBody2D) - not triggering explosion
[00:08:57] [INFO] [Player.Grenade] Player rotation restored to 0
[00:08:57] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:08:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:57] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:08:57] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:08:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:57] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:08:57] [INFO] [LastChance] Threat detected: Bullet
[00:08:57] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:57] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:08:57] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:08:57] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:08:57] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:08:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:57] [INFO] [LastChance] Threat detected: Bullet
[00:08:57] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:57] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:08:57] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:08:57] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:08:57] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:08:57] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:08:57] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:08:57] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:08:57] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:08:57] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:08:57] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:08:57] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:08:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:08:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:08:57] [INFO] [LastChance] Threat detected: Bullet
[00:08:57] [INFO] [LastChance] Not in hard mode - effect disabled
[00:08:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:08:58] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:08:58] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:08:58] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:08:58] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:08:58] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:08:58] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:08:58] [INFO] [LastChance] Player died
[00:08:58] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:08:58] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:08:58] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:08:58] [ENEMY] [Enemy10] FLANKING started: target=(640.4356, 851.7184), side=left, pos=(1022.668, 1432.257)
[00:08:58] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:08:59] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[00:08:59] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:08:59] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:08:59] [ENEMY] [Enemy1] Death animation component initialized
[00:08:59] [ENEMY] [Enemy2] Death animation component initialized
[00:08:59] [ENEMY] [Enemy3] Death animation component initialized
[00:08:59] [ENEMY] [Enemy4] Death animation component initialized
[00:08:59] [ENEMY] [Enemy5] Death animation component initialized
[00:08:59] [ENEMY] [Enemy6] Death animation component initialized
[00:08:59] [ENEMY] [Enemy7] Death animation component initialized
[00:08:59] [ENEMY] [Enemy8] Death animation component initialized
[00:08:59] [ENEMY] [Enemy9] Death animation component initialized
[00:08:59] [ENEMY] [Enemy10] Death animation component initialized
[00:08:59] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:08:59] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:08:59] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:08:59] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:08:59] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:08:59] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:08:59] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:08:59] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:08:59] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:08:59] [INFO] [ScoreManager] Level started with 10 enemies
[00:08:59] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:08:59] [ENEMY] [Enemy1] Registered as sound listener
[00:08:59] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:08:59] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:08:59] [ENEMY] [Enemy2] Registered as sound listener
[00:08:59] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:08:59] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:08:59] [ENEMY] [Enemy3] Registered as sound listener
[00:08:59] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:08:59] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:08:59] [ENEMY] [Enemy4] Registered as sound listener
[00:08:59] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:08:59] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:08:59] [ENEMY] [Enemy5] Registered as sound listener
[00:08:59] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:08:59] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:08:59] [ENEMY] [Enemy6] Registered as sound listener
[00:08:59] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:08:59] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:08:59] [ENEMY] [Enemy7] Registered as sound listener
[00:08:59] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:08:59] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:08:59] [ENEMY] [Enemy8] Registered as sound listener
[00:08:59] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:08:59] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:08:59] [ENEMY] [Enemy9] Registered as sound listener
[00:08:59] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:08:59] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:08:59] [ENEMY] [Enemy10] Registered as sound listener
[00:08:59] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:08:59] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:08:59] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:08:59] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:08:59] [INFO] [LastChance] Found player: Player
[00:08:59] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:08:59] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:08:59] [INFO] [LastChance] Connected to player Died signal (C#)
[00:08:59] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:08:59] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:08:59] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:09:00] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:09:00] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:09:00] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:09:00] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1076.1353, 977.8927)
[00:09:00] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:09:00] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:09:00] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:09:00] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1034.1666)
[00:09:00] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:09:00] [INFO] [Player.Grenade] Step 1 complete! Drag: (203.7893, 15.050415)
[00:09:00] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:09:00] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:09:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:09:00] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:09:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:09:00] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:09:00] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:09:00] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:09:00] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:09:00] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:09:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=16444658025920, bullet_pos=(41.69983, 702.3934)
[00:09:01] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:09:01] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:09:01] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:09:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=16444658025920, bullet_pos=(511.5435, 443.9158)
[00:09:01] [INFO] [Bullet] Using shooter_position, distance=1103.79187011719
[00:09:01] [INFO] [Bullet] Distance to wall: 1103.79187011719 (75.1592181305546% of viewport)
[00:09:01] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:09:01] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (5815.005, -314.13315) (5823,5 px/s), Swing distance: 703,0
[00:09:01] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,053968675
[00:09:01] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (5815.005, -314.1331), Swing: 703.0, Transfer: 1.00, Final speed: 1186.5
[00:09:01] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:09:01] [INFO] [Player.Grenade] Thrown! Velocity: 5823,5, Swing: 703,0
[00:09:01] [INFO] [Player.Grenade] State reset to IDLE
[00:09:01] [ENEMY] [Enemy1] Hit taken, health: 3/4
[00:09:01] [INFO] [Player.Grenade] Player rotation restored to 0
[00:09:01] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:09:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:09:01] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:09:01] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:09:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:09:01] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:09:01] [INFO] [LastChance] Threat detected: Bullet
[00:09:01] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:01] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:09:01] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:09:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:09:01] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:09:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:09:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:09:01] [INFO] [LastChance] Threat detected: Bullet
[00:09:01] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:02] [INFO] [GrenadeBase] Collision detected with Room2_WallRight (type: StaticBody2D)
[00:09:02] [INFO] [FragGrenade] Wall impact detected! Body: Room2_WallRight, triggering explosion
[00:09:02] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:09:02] [INFO] [GrenadeBase] EXPLODED at (901.6457, 708.6851)!
[00:09:02] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(901.6457, 708.6851), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:09:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[00:09:02] [ENEMY] [Enemy3] Hit taken, health: 3/4
[00:09:02] [ENEMY] [Enemy3] Hit taken, health: 2/4
[00:09:02] [ENEMY] [Enemy3] Hit taken, health: 1/4
[00:09:02] [ENEMY] [Enemy3] Hit taken, health: 0/4
[00:09:02] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:09:02] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:09:02] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:09:02] [INFO] [DeathAnim] Started - Angle: 168.3 deg, Index: 23
[00:09:02] [ENEMY] [Enemy3] Death animation started with hit direction: (-0.979139, 0.203193)
[00:09:02] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 221.8
[00:09:02] [ENEMY] [Enemy4] Hit taken, health: 1/2
[00:09:02] [ENEMY] [Enemy4] Hit taken, health: 0/2
[00:09:02] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[00:09:02] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:09:02] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[00:09:02] [INFO] [DeathAnim] Started - Angle: 122.2 deg, Index: 20
[00:09:02] [ENEMY] [Enemy4] Death animation started with hit direction: (-0.532171, 0.846637)
[00:09:02] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 223.1
[00:09:02] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -19.0 degrees
[00:09:02] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 104.8 degrees
[00:09:02] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 187.7 degrees
[00:09:02] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 285.7 degrees
[00:09:02] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:09:02] [ENEMY] [Enemy10] FLANKING started: target=(412.5482, 1134.53), side=right, pos=(1022.668, 1432.257)
[00:09:02] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:09:02] [ENEMY] [Enemy3] Ragdoll activated
[00:09:02] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:09:02] [ENEMY] [Enemy4] Ragdoll activated
[00:09:02] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:09:02] [ENEMY] [Enemy1] Hit taken, health: 2/4
[00:09:03] [ENEMY] [Enemy3] Death animation completed
[00:09:03] [ENEMY] [Enemy4] Death animation completed
[00:09:03] [ENEMY] [Enemy1] State: IDLE -> COMBAT
[00:09:03] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[00:09:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(300, 342), source=ENEMY (Enemy1), range=1469, listeners=8
[00:09:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[00:09:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=8
[00:09:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[00:09:03] [INFO] [LastChance] Threat detected: @Area2D@15116
[00:09:03] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(300, 331.3334), source=ENEMY (Enemy1), range=1469, listeners=8
[00:09:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[00:09:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=8
[00:09:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[00:09:03] [INFO] [LastChance] Threat detected: @Area2D@15118
[00:09:03] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(328.9525, 403.5821), shooter_id=16442091112665, bullet_pos=(496.9661, 588.7076)
[00:09:03] [INFO] [Bullet] Using shooter_position, distance=250
[00:09:03] [INFO] [Bullet] Distance to wall: 250 (17.0229597094639% of viewport)
[00:09:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(303.9428, 321.4354), source=ENEMY (Enemy1), range=1469, listeners=8
[00:09:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[00:09:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=8
[00:09:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[00:09:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(593.3245, 742.341), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:09:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[00:09:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.7968, 605.3315), shooter_id=16442376324680, bullet_pos=(695.5605, 811.707)
[00:09:03] [INFO] [Bullet] Using shooter_position, distance=333.333251953125
[00:09:03] [INFO] [Bullet] Distance to wall: 333.333251953125 (22.6972740712904% of viewport)
[00:09:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:03] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:09:03] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:09:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(328.9525, 403.5821), shooter_id=16442091112665, bullet_pos=(386.0191, 684.634)
[00:09:03] [INFO] [Bullet] Using shooter_position, distance=286.787017822266
[00:09:03] [INFO] [Bullet] Distance to wall: 286.787017822266 (19.5278553983429% of viewport)
[00:09:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:03] [INFO] [LastChance] Threat detected: @Area2D@15117
[00:09:03] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=8
[00:09:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[00:09:03] [ENEMY] [Enemy2] Hit taken, health: 1/2
[00:09:03] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[00:09:03] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[00:09:03] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[00:09:04] [ENEMY] [Enemy2] Hit taken, health: 0/2
[00:09:04] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:09:04] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[00:09:04] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[00:09:04] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:09:04] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[00:09:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(627.3598, 753.1196), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:09:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[00:09:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:09:04] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:09:04] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:09:04] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:09:04] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:09:04] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:09:04] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:09:04] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:09:04] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:09:04] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:09:04] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:09:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.7968, 605.3315), shooter_id=16442376324680, bullet_pos=(908.8428, 602.2153)
[00:09:04] [INFO] [Bullet] Using shooter_position, distance=475.05615234375
[00:09:04] [INFO] [Bullet] Distance to wall: 475.05615234375 (32.3474469643223% of viewport)
[00:09:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:04] [INFO] [Bullet] Starting wall penetration at (908.8428, 602.2153)
[00:09:04] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:09:04] [INFO] [Bullet] Exiting penetration at (914.9365, 596.2298) after traveling 3.54166674613953 pixels through wall
[00:09:04] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[00:09:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(442.9128, 603.4281), shooter_id=16442376324680, bullet_pos=(677.7753, 890.4075)
[00:09:04] [INFO] [Bullet] Using shooter_position, distance=370.833618164063
[00:09:04] [INFO] [Bullet] Distance to wall: 370.833618164063 (25.2507429636862% of viewport)
[00:09:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:04] [INFO] [Bullet] Starting wall penetration at (677.7753, 890.4075)
[00:09:04] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:09:04] [INFO] [Bullet] Exiting penetration at (683.5809, 897.5013) after traveling 4.16666650772095 pixels through wall
[00:09:04] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:09:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(445.1123, 601.3992), shooter_id=16442376324680, bullet_pos=(677.0582, 885.3799)
[00:09:04] [INFO] [Bullet] Using shooter_position, distance=366.666015625
[00:09:04] [INFO] [Bullet] Distance to wall: 366.666015625 (24.9669632432561% of viewport)
[00:09:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:05] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:09:05] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:09:05] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:09:05] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:09:05] [ENEMY] [Enemy1] Death animation component initialized
[00:09:05] [ENEMY] [Enemy2] Death animation component initialized
[00:09:05] [ENEMY] [Enemy3] Death animation component initialized
[00:09:05] [ENEMY] [Enemy4] Death animation component initialized
[00:09:05] [ENEMY] [Enemy5] Death animation component initialized
[00:09:05] [ENEMY] [Enemy6] Death animation component initialized
[00:09:05] [ENEMY] [Enemy7] Death animation component initialized
[00:09:05] [ENEMY] [Enemy8] Death animation component initialized
[00:09:05] [ENEMY] [Enemy9] Death animation component initialized
[00:09:05] [ENEMY] [Enemy10] Death animation component initialized
[00:09:05] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:09:05] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:09:05] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:09:05] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:09:05] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:09:05] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:09:05] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:09:05] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:09:05] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:09:05] [INFO] [ScoreManager] Level started with 10 enemies
[00:09:05] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 8)
[00:09:05] [ENEMY] [Enemy1] Registered as sound listener
[00:09:05] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:09:05] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 9)
[00:09:05] [ENEMY] [Enemy2] Registered as sound listener
[00:09:05] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:09:05] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 10)
[00:09:05] [ENEMY] [Enemy3] Registered as sound listener
[00:09:05] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:09:05] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 11)
[00:09:05] [ENEMY] [Enemy4] Registered as sound listener
[00:09:05] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:09:05] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 12)
[00:09:05] [ENEMY] [Enemy5] Registered as sound listener
[00:09:05] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:09:05] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 13)
[00:09:05] [ENEMY] [Enemy6] Registered as sound listener
[00:09:05] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:09:05] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 14)
[00:09:05] [ENEMY] [Enemy7] Registered as sound listener
[00:09:05] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:09:05] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 15)
[00:09:05] [ENEMY] [Enemy8] Registered as sound listener
[00:09:05] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:09:05] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 16)
[00:09:05] [ENEMY] [Enemy9] Registered as sound listener
[00:09:05] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:09:05] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 17)
[00:09:05] [ENEMY] [Enemy10] Registered as sound listener
[00:09:05] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:09:05] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:09:05] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:09:05] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:09:05] [INFO] [LastChance] Found player: Player
[00:09:05] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:09:05] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:09:05] [INFO] [LastChance] Connected to player Died signal (C#)
[00:09:05] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:09:05] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:09:05] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:09:05] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:09:05] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:09:05] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:09:05] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (804.9551, 1084.3544)
[00:09:05] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:09:05] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:09:05] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:09:05] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1094.6666)
[00:09:05] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:09:05] [INFO] [Player.Grenade] Step 1 complete! Drag: (473.45862, -14.664673)
[00:09:06] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:09:06] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:09:06] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:09:06] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:09:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=17
[00:09:06] [INFO] [SoundPropagation] Cleaned up 7 invalid listeners
[00:09:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:09:06] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:09:06] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:09:06] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:09:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=16776175814883, bullet_pos=(41.69983, 702.3934)
[00:09:06] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:09:06] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:09:06] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:09:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=16776175814883, bullet_pos=(311.5242, 465.3373)
[00:09:06] [INFO] [Bullet] Using shooter_position, distance=1189.21374511719
[00:09:06] [INFO] [Bullet] Distance to wall: 1189.21374511719 (80.975750676282% of viewport)
[00:09:07] [ENEMY] [Enemy2] Hit taken, health: 1/2
[00:09:07] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:09:07] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1744.8479, 766.4147) (1905,8 px/s), Swing distance: 471,0
[00:09:07] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,41387364
[00:09:07] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1744.848, 766.4147), Swing: 471.0, Transfer: 1.00, Final speed: 898.4
[00:09:07] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:09:07] [INFO] [Player.Grenade] Thrown! Velocity: 1905,8, Swing: 471,0
[00:09:07] [INFO] [Player.Grenade] State reset to IDLE
[00:09:07] [INFO] [Player.Grenade] Player rotation restored to 0
[00:09:07] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:09:07] [INFO] [GrenadeBase] Collision detected with Table1 (type: StaticBody2D)
[00:09:07] [INFO] [FragGrenade] Wall impact detected! Body: Table1, triggering explosion
[00:09:07] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:09:07] [INFO] [GrenadeBase] EXPLODED at (669.1093, 854.0302)!
[00:09:07] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(669.1093, 854.0302), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:09:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:09:07] [ENEMY] [Enemy3] Hit taken, health: 3/4
[00:09:07] [ENEMY] [Enemy3] Hit taken, health: 2/4
[00:09:07] [ENEMY] [Enemy3] Hit taken, health: 1/4
[00:09:07] [ENEMY] [Enemy3] Hit taken, health: 0/4
[00:09:07] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:09:07] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:09:07] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:09:07] [INFO] [DeathAnim] Started - Angle: -81.3 deg, Index: 6
[00:09:07] [ENEMY] [Enemy3] Death animation started with hit direction: (0.151217, -0.988501)
[00:09:07] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 101.4
[00:09:07] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -1.3 degrees
[00:09:07] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 76.4 degrees
[00:09:07] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 179.3 degrees
[00:09:07] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 265.8 degrees
[00:09:07] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:09:07] [ENEMY] [Enemy3] Ragdoll activated
[00:09:07] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:09:07] [ENEMY] [Enemy10] FLANKING started: target=(404.5635, 1090.548), side=right, pos=(1022.668, 1432.257)
[00:09:07] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:09:08] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:09:08] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:09:08] [ENEMY] [Enemy1] Death animation component initialized
[00:09:08] [ENEMY] [Enemy2] Death animation component initialized
[00:09:08] [ENEMY] [Enemy3] Death animation component initialized
[00:09:08] [ENEMY] [Enemy4] Death animation component initialized
[00:09:08] [ENEMY] [Enemy5] Death animation component initialized
[00:09:08] [ENEMY] [Enemy6] Death animation component initialized
[00:09:08] [ENEMY] [Enemy7] Death animation component initialized
[00:09:08] [ENEMY] [Enemy8] Death animation component initialized
[00:09:08] [ENEMY] [Enemy9] Death animation component initialized
[00:09:08] [ENEMY] [Enemy10] Death animation component initialized
[00:09:08] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:09:08] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:09:08] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:09:08] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:09:08] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:09:08] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:09:08] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:09:08] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:09:08] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:09:08] [INFO] [ScoreManager] Level started with 10 enemies
[00:09:08] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:09:08] [ENEMY] [Enemy1] Registered as sound listener
[00:09:08] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:09:08] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:09:08] [ENEMY] [Enemy2] Registered as sound listener
[00:09:08] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:09:08] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:09:08] [ENEMY] [Enemy3] Registered as sound listener
[00:09:08] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:09:08] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:09:08] [ENEMY] [Enemy4] Registered as sound listener
[00:09:08] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:09:08] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:09:08] [ENEMY] [Enemy5] Registered as sound listener
[00:09:08] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:09:08] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:09:08] [ENEMY] [Enemy6] Registered as sound listener
[00:09:08] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:09:08] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:09:08] [ENEMY] [Enemy7] Registered as sound listener
[00:09:08] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:09:08] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:09:08] [ENEMY] [Enemy8] Registered as sound listener
[00:09:08] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:09:08] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:09:08] [ENEMY] [Enemy9] Registered as sound listener
[00:09:08] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:09:08] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:09:08] [ENEMY] [Enemy10] Registered as sound listener
[00:09:08] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:09:08] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:09:08] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:09:08] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:09:08] [INFO] [LastChance] Found player: Player
[00:09:08] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:09:08] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:09:08] [INFO] [LastChance] Connected to player Died signal (C#)
[00:09:08] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:09:08] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:09:08] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:09:08] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:09:08] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:09:08] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:09:08] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (903.19635, 998.7604)
[00:09:09] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:09:09] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:09:09] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:09:09] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1127.6666)
[00:09:09] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:09:09] [INFO] [Player.Grenade] Step 1 complete! Drag: (373.33246, 40.93579)
[00:09:09] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:09:09] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:09:09] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:09:09] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:09:09] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:09:09] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:09:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:09:09] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:09:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:09:09] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:09:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=16963006892327, bullet_pos=(41.69983, 702.3934)
[00:09:09] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:09:09] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:09:09] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:09:09] [INFO] [Bullet] Penetration failed (distance roll)
[00:09:10] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:09:10] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:09:10] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.043981213, -60.305473) (60,3 px/s), Swing distance: 455,8
[00:09:10] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,570067
[00:09:10] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.043981, -60.30547), Swing: 455.8, Transfer: 1.00, Final speed: 28.4
[00:09:10] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:09:10] [INFO] [Player.Grenade] Thrown! Velocity: 60,3, Swing: 455,8
[00:09:10] [INFO] [Player.Grenade] State reset to IDLE
[00:09:10] [INFO] [GrenadeBase] Grenade landed at (450.0438, 681.6666)
[00:09:10] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:09:10] [INFO] [GrenadeBase] EXPLODED at (450.0438, 681.6666)!
[00:09:10] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450.0438, 681.6666), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:09:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:09:10] [ENEMY] [Enemy2] Hit taken, health: 1/2
[00:09:10] [ENEMY] [Enemy2] Hit taken, health: 0/2
[00:09:10] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:09:10] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:09:10] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[00:09:10] [INFO] [DeathAnim] Started - Angle: -110.8 deg, Index: 4
[00:09:10] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.355283, -0.934759)
[00:09:10] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 140.9
[00:09:10] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 11.2 degrees
[00:09:10] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 77.2 degrees
[00:09:10] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 177.0 degrees
[00:09:10] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 250.8 degrees
[00:09:10] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:09:10] [INFO] [Player.Grenade] Player rotation restored to 0
[00:09:10] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:09:10] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:09:10] [ENEMY] [Enemy2] Ragdoll activated
[00:09:10] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:09:10] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:09:10] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[00:09:10] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[00:09:11] [ENEMY] [Enemy10] FLANKING started: target=(408.3125, 1111.674), side=right, pos=(1022.668, 1432.257)
[00:09:11] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:09:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:09:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:09:11] [ENEMY] [Enemy1] Death animation component initialized
[00:09:11] [ENEMY] [Enemy2] Death animation component initialized
[00:09:11] [ENEMY] [Enemy3] Death animation component initialized
[00:09:11] [ENEMY] [Enemy4] Death animation component initialized
[00:09:11] [ENEMY] [Enemy5] Death animation component initialized
[00:09:11] [ENEMY] [Enemy6] Death animation component initialized
[00:09:11] [ENEMY] [Enemy7] Death animation component initialized
[00:09:11] [ENEMY] [Enemy8] Death animation component initialized
[00:09:11] [ENEMY] [Enemy9] Death animation component initialized
[00:09:11] [ENEMY] [Enemy10] Death animation component initialized
[00:09:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:09:11] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:09:11] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:09:11] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:09:11] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:09:11] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:09:11] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:09:11] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:09:11] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:09:11] [INFO] [ScoreManager] Level started with 10 enemies
[00:09:11] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:09:11] [ENEMY] [Enemy1] Registered as sound listener
[00:09:11] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:09:11] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:09:11] [ENEMY] [Enemy2] Registered as sound listener
[00:09:11] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:09:11] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:09:11] [ENEMY] [Enemy3] Registered as sound listener
[00:09:11] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:09:11] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:09:11] [ENEMY] [Enemy4] Registered as sound listener
[00:09:11] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:09:11] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:09:11] [ENEMY] [Enemy5] Registered as sound listener
[00:09:11] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:09:11] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:09:11] [ENEMY] [Enemy6] Registered as sound listener
[00:09:11] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:09:11] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:09:11] [ENEMY] [Enemy7] Registered as sound listener
[00:09:11] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:09:11] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:09:11] [ENEMY] [Enemy8] Registered as sound listener
[00:09:11] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:09:11] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:09:11] [ENEMY] [Enemy9] Registered as sound listener
[00:09:11] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:09:11] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:09:11] [ENEMY] [Enemy10] Registered as sound listener
[00:09:11] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:09:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:09:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:09:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:09:11] [INFO] [LastChance] Found player: Player
[00:09:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:09:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:09:11] [INFO] [LastChance] Connected to player Died signal (C#)
[00:09:11] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:09:11] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:09:11] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:09:12] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:09:12] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:09:12] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1167.1606, 975.7499)
[00:09:12] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:09:12] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:09:12] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:09:12] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:09:12] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1149.6666)
[00:09:12] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:09:12] [INFO] [Player.Grenade] Step 1 complete! Drag: (102.977905, -45.940796)
[00:09:12] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:09:12] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:09:12] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:09:12] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:09:12] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:09:12] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:09:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:09:12] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:09:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:09:12] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:09:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=17158679563181, bullet_pos=(41.69983, 702.3934)
[00:09:13] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:09:13] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:09:13] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:09:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=17158679563181, bullet_pos=(310.2621, 463.9087)
[00:09:13] [INFO] [Bullet] Using shooter_position, distance=1191.1103515625
[00:09:13] [INFO] [Bullet] Distance to wall: 1191.1103515625 (81.104894096695% of viewport)
[00:09:13] [ENEMY] [Enemy2] Hit taken, health: 2/3
[00:09:13] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:09:13] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1540.5585, -34.484547) (1540,9 px/s), Swing distance: 459,2
[00:09:13] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,022380706
[00:09:13] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1540.558, -34.48455), Swing: 459.2, Transfer: 1.00, Final speed: 726.4
[00:09:13] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:09:13] [INFO] [Player.Grenade] Thrown! Velocity: 1540,9, Swing: 459,2
[00:09:13] [INFO] [Player.Grenade] State reset to IDLE
[00:09:13] [INFO] [Player.Grenade] Player rotation restored to 0
[00:09:13] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:09:13] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[00:09:13] [INFO] [FragGrenade] Non-wall collision (body: Enemy3, type: CharacterBody2D) - not triggering explosion
[00:09:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:09:13] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:09:13] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:09:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:09:13] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:09:13] [INFO] [LastChance] Threat detected: Bullet
[00:09:13] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:13] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:09:13] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:09:13] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:09:13] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:09:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:09:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:09:13] [INFO] [LastChance] Threat detected: Bullet
[00:09:13] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:13] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:09:13] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:09:13] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:09:13] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:09:13] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:09:13] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:09:13] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:09:13] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:09:13] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:09:13] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:09:13] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:09:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:09:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:09:14] [INFO] [LastChance] Threat detected: Bullet
[00:09:14] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:14] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:09:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(619.4938, 773.9846), shooter_id=17156683074592, bullet_pos=(500.7662, 796.4444)
[00:09:14] [INFO] [Bullet] Using shooter_position, distance=120.833290100098
[00:09:14] [INFO] [Bullet] Distance to wall: 120.833290100098 (8.22776091574368% of viewport)
[00:09:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:14] [INFO] [Bullet] Starting wall penetration at (500.7662, 796.4444)
[00:09:14] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:09:14] [INFO] [Bullet] Exiting penetration at (491.7593, 798.1483) after traveling 4.16666746139526 pixels through wall
[00:09:14] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:09:14] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:09:15] [INFO] [GrenadeBase] Grenade landed at (629.0068, 694.1639)
[00:09:15] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:09:15] [INFO] [GrenadeBase] EXPLODED at (629.0068, 694.1639)!
[00:09:15] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(629.0068, 694.1639), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:09:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:09:15] [ENEMY] [Enemy3] Hit taken, health: 3/4
[00:09:15] [ENEMY] [Enemy3] Hit taken, health: 2/4
[00:09:15] [ENEMY] [Enemy3] Hit taken, health: 1/4
[00:09:15] [ENEMY] [Enemy3] Hit taken, health: 0/4
[00:09:15] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:09:15] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:09:15] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:09:15] [INFO] [DeathAnim] Started - Angle: 47.1 deg, Index: 15
[00:09:15] [ENEMY] [Enemy3] Death animation started with hit direction: (0.681137, 0.732156)
[00:09:15] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 81.4
[00:09:15] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 4.0 degrees
[00:09:15] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 104.8 degrees
[00:09:15] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 178.6 degrees
[00:09:15] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 271.0 degrees
[00:09:16] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:09:16] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[00:09:16] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:09:16] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:09:16] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:09:17] [ENEMY] [Enemy10] FLANKING started: target=(407.1041, 1113.536), side=right, pos=(1022.668, 1432.257)
[00:09:17] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:09:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(438.9135, 947.4664), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:09:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[00:09:17] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[00:09:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(414.3118, 975.7761), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:09:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[00:09:17] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[00:09:17] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[00:09:17] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:09:17] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:09:17] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:09:17] [INFO] [LastChance] Player died
[00:09:17] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:09:17] [ENEMY] [Enemy3] Ragdoll activated
[00:09:17] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:09:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(387.0881, 1003), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:09:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[00:09:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.91345, 947.46643), shooter_id=17159501646938, bullet_pos=(903.74304, 1514.6625)
[00:09:17] [INFO] [Bullet] Using shooter_position, distance=733,3334
[00:09:17] [INFO] [Bullet] Distance to wall: 733,3334 (49,93402% of viewport)
[00:09:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(359.8644, 1030.223), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:09:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=3
[00:09:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(414.31183, 975.77606), shooter_id=17159501646938, bullet_pos=(898.3087, 1526.7064)
[00:09:17] [INFO] [Bullet] Using shooter_position, distance=733,33295
[00:09:17] [INFO] [Bullet] Distance to wall: 733,33295 (49,93399% of viewport)
[00:09:17] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[00:09:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(332.6407, 1057.447), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:09:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=4
[00:09:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(387.08813, 1002.99976), shooter_id=17159501646938, bullet_pos=(889.8754, 1477.9822)
[00:09:17] [INFO] [Bullet] Using shooter_position, distance=691,6671
[00:09:17] [INFO] [Bullet] Distance to wall: 691,6671 (47,096886% of viewport)
[00:09:17] [INFO] [Bullet] Distance-based penetration chance: 91,7203%
[00:09:17] [INFO] [Bullet] Starting wall penetration at (889.8754, 1477.9822)
[00:09:17] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,230612
[00:09:17] [INFO] [Bullet] Body exited signal received for penetrating body
[00:09:17] [INFO] [Bullet] Exiting penetration at (923.7984, 1510.0292) after traveling 41,66667 pixels through wall
[00:09:17] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:09:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.91345, 947.46643), shooter_id=17159501646938, bullet_pos=(506.92206, 1875.3522)
[00:09:17] [INFO] [Bullet] Using shooter_position, distance=930,3747
[00:09:17] [INFO] [Bullet] Distance to wall: 930,3747 (63,35093% of viewport)
[00:09:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(305.4171, 1084.67), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:09:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=5
[00:09:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.91345, 947.46643), shooter_id=17159501646938, bullet_pos=(668.81287, 2060.3533)
[00:09:17] [INFO] [Bullet] Using shooter_position, distance=1136,385
[00:09:17] [INFO] [Bullet] Distance to wall: 1136,385 (77,37855% of viewport)
[00:09:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:09:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:09:17] [ENEMY] [Enemy1] Death animation component initialized
[00:09:17] [ENEMY] [Enemy2] Death animation component initialized
[00:09:17] [ENEMY] [Enemy3] Death animation component initialized
[00:09:17] [ENEMY] [Enemy4] Death animation component initialized
[00:09:17] [ENEMY] [Enemy5] Death animation component initialized
[00:09:17] [ENEMY] [Enemy6] Death animation component initialized
[00:09:17] [ENEMY] [Enemy7] Death animation component initialized
[00:09:17] [ENEMY] [Enemy8] Death animation component initialized
[00:09:17] [ENEMY] [Enemy9] Death animation component initialized
[00:09:17] [ENEMY] [Enemy10] Death animation component initialized
[00:09:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:09:17] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:09:17] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:09:17] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:09:17] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:09:17] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:09:17] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:09:17] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:09:17] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:09:17] [INFO] [ScoreManager] Level started with 10 enemies
[00:09:17] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:09:17] [ENEMY] [Enemy1] Registered as sound listener
[00:09:17] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:09:17] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:09:17] [ENEMY] [Enemy2] Registered as sound listener
[00:09:17] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:09:17] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:09:17] [ENEMY] [Enemy3] Registered as sound listener
[00:09:17] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:09:17] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:09:17] [ENEMY] [Enemy4] Registered as sound listener
[00:09:17] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:09:17] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:09:17] [ENEMY] [Enemy5] Registered as sound listener
[00:09:17] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:09:17] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:09:17] [ENEMY] [Enemy6] Registered as sound listener
[00:09:17] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:09:17] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:09:17] [ENEMY] [Enemy7] Registered as sound listener
[00:09:17] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:09:17] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:09:17] [ENEMY] [Enemy8] Registered as sound listener
[00:09:17] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:09:17] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:09:17] [ENEMY] [Enemy9] Registered as sound listener
[00:09:17] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:09:17] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:09:17] [ENEMY] [Enemy10] Registered as sound listener
[00:09:17] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:09:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(449.7643, 1256.236), source=PLAYER (AssaultRifle), range=1469, listeners=19
[00:09:17] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:09:17] [ENEMY] [Enemy4] Heard gunshot at (449.7643, 1256.236), source_type=0, intensity=0.01, distance=500
[00:09:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[00:09:17] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:09:17] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:09:17] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:09:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:09:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:09:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:09:17] [INFO] [LastChance] Found player: Player
[00:09:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:09:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:09:17] [INFO] [LastChance] Connected to player Died signal (C#)
[00:09:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(441.5148, 1264.485), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:09:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=5
[00:09:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(441.51477, 1264.4852), shooter_id=17536015927513, bullet_pos=(589.2261, 1386.6222)
[00:09:18] [INFO] [Bullet] Using shooter_position, distance=191,66655
[00:09:18] [INFO] [Bullet] Distance to wall: 191,66655 (13,050929% of viewport)
[00:09:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:18] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:09:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(441.51477, 1264.4852), shooter_id=17536015927513, bullet_pos=(1195.7463, 1011.15106)
[00:09:18] [INFO] [Bullet] Using shooter_position, distance=795,64026
[00:09:18] [INFO] [Bullet] Distance to wall: 795,64026 (54,17661% of viewport)
[00:09:18] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:09:18] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:09:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(449.7643, 1256.2357), shooter_id=17536015927513, bullet_pos=(2474.7644, 1256.2357)
[00:09:18] [INFO] [Bullet] Using shooter_position, distance=2025,0001
[00:09:18] [INFO] [Bullet] Distance to wall: 2025,0001 (137,88599% of viewport)
[00:09:18] [INFO] [Bullet] Distance-based penetration chance: 22,422802%
[00:09:18] [INFO] [Bullet] Penetration failed (distance roll)
[00:09:18] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (527.31934, 1055.6837)
[00:09:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(441.51477, 1264.4852), shooter_id=17536015927513, bullet_pos=(1689.7958, 1413.5471)
[00:09:18] [INFO] [Bullet] Using shooter_position, distance=1257,1495
[00:09:18] [INFO] [Bullet] Distance to wall: 1257,1495 (85,60163% of viewport)
[00:09:18] [INFO] [Bullet] Distance-based penetration chance: 46,798103%
[00:09:18] [INFO] [Bullet] Penetration failed (distance roll)
[00:09:18] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:09:18] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:09:18] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:09:18] [INFO] [Player.Grenade] Timer started, grenade created at (397.11096, 1176.1896)
[00:09:18] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:09:18] [INFO] [Player.Grenade] Step 1 complete! Drag: (750.9502, 15.591553)
[00:09:18] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:09:18] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:09:18] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:09:19] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:09:19] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:09:19] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:09:19] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:09:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.012, 1466.029), source=ENEMY (Enemy10), range=1469, listeners=10
[00:09:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:09:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1034.359, 1443.351), source=ENEMY (Enemy10), range=1469, listeners=10
[00:09:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:09:19] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:09:19] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:09:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1004.994, 1432.073), shooter_id=17535193843625, bullet_pos=(67.06575, 738.2415)
[00:09:19] [INFO] [Bullet] Using shooter_position, distance=1166.66674804688
[00:09:19] [INFO] [Bullet] Distance to wall: 1166.66674804688 (79.4404841854927% of viewport)
[00:09:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1004.994, 1432.073), shooter_id=17535193843625, bullet_pos=(131.8867, 698.8848)
[00:09:19] [INFO] [Bullet] Using shooter_position, distance=1140.12329101563
[00:09:19] [INFO] [Bullet] Distance to wall: 1140.12329101563 (77.6330913871213% of viewport)
[00:09:19] [INFO] [Bullet] Distance-based penetration chance: 56.0947267150252%
[00:09:19] [INFO] [Bullet] Starting wall penetration at (131.8867, 698.8848)
[00:09:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19.4437236785889
[00:09:19] [INFO] [Bullet] Body exited signal received for penetrating body
[00:09:19] [INFO] [Bullet] Exiting penetration at (166.4341, 677.9089) after traveling 35.4166679382324 pixels through wall
[00:09:19] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[00:09:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(976.6456, 1407.222), shooter_id=17535193843625, bullet_pos=(97.73985, 704.9754)
[00:09:19] [INFO] [Bullet] Using shooter_position, distance=1125.00012207031
[00:09:19] [INFO] [Bullet] Distance to wall: 1125.00012207031 (76.6033270045794% of viewport)
[00:09:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(976.6456, 1407.222), shooter_id=17535193843625, bullet_pos=(67.20482, 731.454)
[00:09:19] [INFO] [Bullet] Using shooter_position, distance=1133.02453613281
[00:09:19] [INFO] [Bullet] Distance to wall: 1133.02453613281 (77.1497241136913% of viewport)
[00:09:20] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:09:20] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (898.18066, 618.22076) (1090,4 px/s), Swing distance: 450,7
[00:09:20] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,6028326
[00:09:20] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (898.1807, 618.2208), Swing: 450.7, Transfer: 1.00, Final speed: 514.0
[00:09:20] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:09:20] [INFO] [Player.Grenade] Thrown! Velocity: 1090,4, Swing: 450,7
[00:09:20] [INFO] [Player.Grenade] State reset to IDLE
[00:09:20] [INFO] [GrenadeBase] Collision detected with Room2_WallLeft (type: StaticBody2D)
[00:09:20] [INFO] [FragGrenade] Wall impact detected! Body: Room2_WallLeft, triggering explosion
[00:09:20] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:09:20] [INFO] [GrenadeBase] EXPLODED at (490.8912, 838.9999)!
[00:09:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(490.8912, 838.9999), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:09:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:09:20] [INFO] [FragGrenade] Player found in blast radius at distance 126.9
[00:09:20] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:09:20] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:09:20] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:09:20] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:09:20] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:09:20] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:09:20] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:09:20] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:09:20] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:09:20] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:09:20] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:09:20] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:09:20] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:09:20] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:09:20] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:09:20] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:09:20] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:09:20] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:09:20] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:09:20] [INFO] [LastChance] Player died
[00:09:20] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 126.9
[00:09:20] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -14.7 degrees
[00:09:20] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 72.9 degrees
[00:09:20] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 182.7 degrees
[00:09:20] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 277.3 degrees
[00:09:20] [INFO] [Player.Grenade] Player rotation restored to 0
[00:09:20] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:09:20] [ENEMY] [Enemy2] Hit taken, health: 2/3
[00:09:20] [ENEMY] [Enemy4] Hit taken, health: 3/4
[00:09:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.9244, 760.1306), source=ENEMY (Enemy3), range=1469, listeners=10
[00:09:20] [ENEMY] [Enemy2] Heard gunshot at (636.9244, 760.1306), source_type=1, intensity=0.02, distance=317
[00:09:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:09:20] [INFO] [LastChance] Threat detected: Bullet
[00:09:20] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:20] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:09:20] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[00:09:20] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[00:09:20] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:09:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.5812, 767.5683), source=ENEMY (Enemy3), range=1469, listeners=10
[00:09:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:09:20] [INFO] [LastChance] Threat detected: Bullet
[00:09:20] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:20] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:09:20] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:09:20] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:09:20] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:09:20] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[00:09:20] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[00:09:20] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:09:20] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:09:20] [ENEMY] [Enemy1] Death animation component initialized
[00:09:20] [ENEMY] [Enemy2] Death animation component initialized
[00:09:20] [ENEMY] [Enemy3] Death animation component initialized
[00:09:20] [ENEMY] [Enemy4] Death animation component initialized
[00:09:20] [ENEMY] [Enemy5] Death animation component initialized
[00:09:20] [ENEMY] [Enemy6] Death animation component initialized
[00:09:20] [ENEMY] [Enemy7] Death animation component initialized
[00:09:20] [ENEMY] [Enemy8] Death animation component initialized
[00:09:20] [ENEMY] [Enemy9] Death animation component initialized
[00:09:20] [ENEMY] [Enemy10] Death animation component initialized
[00:09:20] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:09:20] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:09:20] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:09:20] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:09:20] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:09:20] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:09:20] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:09:20] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:09:20] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:09:20] [INFO] [ScoreManager] Level started with 10 enemies
[00:09:20] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:09:20] [ENEMY] [Enemy1] Registered as sound listener
[00:09:20] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:09:20] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:09:20] [ENEMY] [Enemy2] Registered as sound listener
[00:09:20] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:09:20] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:09:20] [ENEMY] [Enemy3] Registered as sound listener
[00:09:20] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:09:20] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:09:20] [ENEMY] [Enemy4] Registered as sound listener
[00:09:20] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:09:20] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:09:20] [ENEMY] [Enemy5] Registered as sound listener
[00:09:20] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:09:20] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:09:20] [ENEMY] [Enemy6] Registered as sound listener
[00:09:20] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:09:20] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:09:20] [ENEMY] [Enemy7] Registered as sound listener
[00:09:20] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:09:20] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:09:20] [ENEMY] [Enemy8] Registered as sound listener
[00:09:20] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:09:20] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:09:20] [ENEMY] [Enemy9] Registered as sound listener
[00:09:20] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:09:20] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:09:20] [ENEMY] [Enemy10] Registered as sound listener
[00:09:20] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:09:20] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:09:20] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:09:20] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:09:20] [INFO] [LastChance] Found player: Player
[00:09:20] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:09:20] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:09:20] [INFO] [LastChance] Connected to player Died signal (C#)
[00:09:20] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:09:20] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:09:20] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:09:21] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:09:21] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:09:21] [ENEMY] [Enemy1] Death animation component initialized
[00:09:21] [ENEMY] [Enemy2] Death animation component initialized
[00:09:21] [ENEMY] [Enemy3] Death animation component initialized
[00:09:21] [ENEMY] [Enemy4] Death animation component initialized
[00:09:21] [ENEMY] [Enemy5] Death animation component initialized
[00:09:21] [ENEMY] [Enemy6] Death animation component initialized
[00:09:21] [ENEMY] [Enemy7] Death animation component initialized
[00:09:21] [ENEMY] [Enemy8] Death animation component initialized
[00:09:21] [ENEMY] [Enemy9] Death animation component initialized
[00:09:21] [ENEMY] [Enemy10] Death animation component initialized
[00:09:21] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:09:21] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:09:21] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:09:21] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:09:21] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:09:21] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:09:21] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:09:21] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:09:21] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:09:21] [INFO] [ScoreManager] Level started with 10 enemies
[00:09:21] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[00:09:21] [ENEMY] [Enemy1] Registered as sound listener
[00:09:21] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:09:21] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[00:09:21] [ENEMY] [Enemy2] Registered as sound listener
[00:09:21] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:09:21] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[00:09:21] [ENEMY] [Enemy3] Registered as sound listener
[00:09:21] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:09:21] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[00:09:21] [ENEMY] [Enemy4] Registered as sound listener
[00:09:21] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:09:21] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[00:09:21] [ENEMY] [Enemy5] Registered as sound listener
[00:09:21] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:09:21] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[00:09:21] [ENEMY] [Enemy6] Registered as sound listener
[00:09:21] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:09:21] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[00:09:21] [ENEMY] [Enemy7] Registered as sound listener
[00:09:21] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:09:21] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[00:09:21] [ENEMY] [Enemy8] Registered as sound listener
[00:09:21] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:09:21] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[00:09:21] [ENEMY] [Enemy9] Registered as sound listener
[00:09:21] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:09:21] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[00:09:21] [ENEMY] [Enemy10] Registered as sound listener
[00:09:21] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:09:21] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:09:21] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:09:21] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:09:21] [INFO] [LastChance] Found player: Player
[00:09:21] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:09:21] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:09:21] [INFO] [LastChance] Connected to player Died signal (C#)
[00:09:21] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:09:21] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:09:21] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:09:21] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:09:21] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:09:21] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:09:21] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (804.76324, 942.8897)
[00:09:21] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:09:21] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:09:21] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:09:21] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1100.1666)
[00:09:21] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:09:21] [INFO] [Player.Grenade] Step 1 complete! Drag: (469.8736, 22.204346)
[00:09:21] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:09:21] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:09:21] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:09:21] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:09:22] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:09:22] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:09:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=30
[00:09:22] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[00:09:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:09:22] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:09:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=17752475568345, bullet_pos=(41.69983, 702.3934)
[00:09:22] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:09:22] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:09:22] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:09:22] [INFO] [Bullet] Penetration failed (distance roll)
[00:09:22] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:09:22] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:09:22] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (408.33575, -396.32486) (569,0 px/s), Swing distance: 332,8
[00:09:22] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,7704726
[00:09:22] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (408.3358, -396.3249), Swing: 332.8, Transfer: 1.00, Final speed: 268.3
[00:09:22] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:09:22] [INFO] [Player.Grenade] Thrown! Velocity: 569,0, Swing: 332,8
[00:09:22] [INFO] [Player.Grenade] State reset to IDLE
[00:09:22] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:09:22] [INFO] [FragGrenade] Wall impact detected! Body: Room1_WallBottom, triggering explosion
[00:09:22] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:09:22] [INFO] [GrenadeBase] EXPLODED at (495.118, 719.8151)!
[00:09:22] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(495.118, 719.8151), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:09:22] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:09:22] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:09:22] [ENEMY] [Enemy3] Hit taken, health: 1/3
[00:09:22] [ENEMY] [Enemy3] Hit taken, health: 0/3
[00:09:22] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:09:22] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:09:22] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:09:22] [INFO] [DeathAnim] Started - Angle: 10.2 deg, Index: 12
[00:09:22] [ENEMY] [Enemy3] Death animation started with hit direction: (0.984307, 0.176467)
[00:09:22] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 192.3
[00:09:22] [INFO] [FragGrenade] Player found in blast radius at distance 57.8
[00:09:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:09:22] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:09:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:09:22] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:09:22] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:09:22] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:09:22] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:09:22] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:09:22] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:09:22] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:09:22] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:09:22] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:09:22] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:09:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:09:22] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:09:22] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:09:22] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:09:22] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:09:22] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:09:22] [INFO] [LastChance] Player died
[00:09:22] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 57.8
[00:09:22] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 9.1 degrees
[00:09:22] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 85.3 degrees
[00:09:22] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 186.8 degrees
[00:09:22] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 256.9 degrees
[00:09:23] [INFO] [Player.Grenade] Player rotation restored to 0
[00:09:23] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:09:23] [ENEMY] [Enemy3] Ragdoll activated
[00:09:23] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:09:23] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:09:23] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:09:23] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:09:23] [ENEMY] [Enemy1] Death animation component initialized
[00:09:23] [ENEMY] [Enemy2] Death animation component initialized
[00:09:23] [ENEMY] [Enemy3] Death animation component initialized
[00:09:23] [ENEMY] [Enemy4] Death animation component initialized
[00:09:23] [ENEMY] [Enemy5] Death animation component initialized
[00:09:23] [ENEMY] [Enemy6] Death animation component initialized
[00:09:23] [ENEMY] [Enemy7] Death animation component initialized
[00:09:23] [ENEMY] [Enemy8] Death animation component initialized
[00:09:23] [ENEMY] [Enemy9] Death animation component initialized
[00:09:23] [ENEMY] [Enemy10] Death animation component initialized
[00:09:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:09:23] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:09:23] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:09:23] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:09:23] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:09:23] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:09:23] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:09:23] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:09:23] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:09:23] [INFO] [ScoreManager] Level started with 10 enemies
[00:09:23] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:09:23] [ENEMY] [Enemy1] Registered as sound listener
[00:09:23] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:09:23] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:09:23] [ENEMY] [Enemy2] Registered as sound listener
[00:09:23] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:09:23] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:09:23] [ENEMY] [Enemy3] Registered as sound listener
[00:09:23] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:09:23] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:09:23] [ENEMY] [Enemy4] Registered as sound listener
[00:09:23] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:09:23] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:09:23] [ENEMY] [Enemy5] Registered as sound listener
[00:09:23] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:09:23] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:09:23] [ENEMY] [Enemy6] Registered as sound listener
[00:09:23] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:09:23] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:09:23] [ENEMY] [Enemy7] Registered as sound listener
[00:09:23] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:09:23] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:09:23] [ENEMY] [Enemy8] Registered as sound listener
[00:09:23] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:09:23] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:09:23] [ENEMY] [Enemy9] Registered as sound listener
[00:09:23] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:09:23] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:09:23] [ENEMY] [Enemy10] Registered as sound listener
[00:09:23] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:09:23] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:09:23] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:09:23] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:09:23] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:09:23] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:09:23] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:09:23] [INFO] [LastChance] Found player: Player
[00:09:23] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:09:23] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:09:23] [INFO] [LastChance] Connected to player Died signal (C#)
[00:09:23] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:09:23] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:09:23] [ENEMY] [Enemy1] Death animation component initialized
[00:09:23] [ENEMY] [Enemy2] Death animation component initialized
[00:09:23] [ENEMY] [Enemy3] Death animation component initialized
[00:09:23] [ENEMY] [Enemy4] Death animation component initialized
[00:09:23] [ENEMY] [Enemy5] Death animation component initialized
[00:09:23] [ENEMY] [Enemy6] Death animation component initialized
[00:09:23] [ENEMY] [Enemy7] Death animation component initialized
[00:09:23] [ENEMY] [Enemy8] Death animation component initialized
[00:09:23] [ENEMY] [Enemy9] Death animation component initialized
[00:09:23] [ENEMY] [Enemy10] Death animation component initialized
[00:09:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:09:23] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:09:23] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:09:23] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:09:23] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:09:23] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:09:23] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:09:23] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:09:23] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:09:23] [INFO] [ScoreManager] Level started with 10 enemies
[00:09:23] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[00:09:23] [ENEMY] [Enemy1] Registered as sound listener
[00:09:23] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:09:23] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[00:09:23] [ENEMY] [Enemy2] Registered as sound listener
[00:09:23] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:09:23] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[00:09:23] [ENEMY] [Enemy3] Registered as sound listener
[00:09:23] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:09:23] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[00:09:23] [ENEMY] [Enemy4] Registered as sound listener
[00:09:23] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:09:23] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[00:09:23] [ENEMY] [Enemy5] Registered as sound listener
[00:09:23] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:09:23] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[00:09:23] [ENEMY] [Enemy6] Registered as sound listener
[00:09:23] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:09:23] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[00:09:23] [ENEMY] [Enemy7] Registered as sound listener
[00:09:23] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:09:23] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[00:09:23] [ENEMY] [Enemy8] Registered as sound listener
[00:09:23] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:09:23] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[00:09:23] [ENEMY] [Enemy9] Registered as sound listener
[00:09:23] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:09:23] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[00:09:23] [ENEMY] [Enemy10] Registered as sound listener
[00:09:23] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:09:23] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:09:23] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:09:23] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:09:23] [INFO] [LastChance] Found player: Player
[00:09:23] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:09:23] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:09:23] [INFO] [LastChance] Connected to player Died signal (C#)
[00:09:23] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:09:23] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:09:23] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:09:24] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:09:24] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:09:24] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:09:24] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (779.786, 871.29315)
[00:09:24] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:09:24] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:09:24] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:09:24] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1094.6666)
[00:09:24] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:09:24] [INFO] [Player.Grenade] Step 1 complete! Drag: (495.7074, 32.088562)
[00:09:24] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:09:24] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:09:24] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:09:24] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:09:24] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:09:24] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:09:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=29
[00:09:24] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[00:09:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:09:24] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:09:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=17914728024690, bullet_pos=(41.69983, 702.3934)
[00:09:25] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:09:25] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:09:25] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:09:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=17914728024690, bullet_pos=(264.4556, 467.4595)
[00:09:25] [INFO] [Bullet] Using shooter_position, distance=1215.60729980469
[00:09:25] [INFO] [Bullet] Distance to wall: 1215.60729980469 (82.7729363484214% of viewport)
[00:09:25] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:09:25] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:09:25] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2115.8022, 982.5419) (2332,8 px/s), Swing distance: 538,7
[00:09:25] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,43474996
[00:09:25] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2115.802, 982.5419), Swing: 538.7, Transfer: 1.00, Final speed: 1099.7
[00:09:25] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:09:25] [INFO] [Player.Grenade] Thrown! Velocity: 2332,8, Swing: 538,7
[00:09:25] [INFO] [Player.Grenade] State reset to IDLE
[00:09:25] [INFO] [Player.Grenade] Player rotation restored to 0
[00:09:25] [INFO] [GrenadeBase] Collision detected with Table1 (type: StaticBody2D)
[00:09:25] [INFO] [FragGrenade] Wall impact detected! Body: Table1, triggering explosion
[00:09:25] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:09:25] [INFO] [GrenadeBase] EXPLODED at (668.1636, 863.0249)!
[00:09:25] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(668.1636, 863.0249), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:09:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:09:25] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:09:25] [ENEMY] [Enemy3] Hit taken, health: 1/3
[00:09:25] [ENEMY] [Enemy3] Hit taken, health: 0/3
[00:09:25] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:09:25] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:09:25] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:09:25] [INFO] [DeathAnim] Started - Angle: -81.5 deg, Index: 6
[00:09:25] [ENEMY] [Enemy3] Death animation started with hit direction: (0.14741, -0.989076)
[00:09:25] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 110.5
[00:09:25] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 19.2 degrees
[00:09:25] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 87.5 degrees
[00:09:25] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 170.3 degrees
[00:09:25] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 286.2 degrees
[00:09:25] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:09:25] [ENEMY] [Enemy4] Hit taken, health: 2/3
[00:09:25] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:09:26] [ENEMY] [Enemy3] Ragdoll activated
[00:09:26] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:09:26] [ENEMY] [Enemy10] FLANKING started: target=(409.3948, 1117.612), side=right, pos=(1022.668, 1432.257)
[00:09:26] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:09:27] [ENEMY] [Enemy3] Death animation completed
[00:09:27] [ENEMY] [Enemy1] State: IDLE -> COMBAT
[00:09:27] [ENEMY] [Enemy2] State: IDLE -> COMBAT
[00:09:27] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:09:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.9592, 546.2017), source=ENEMY (Enemy2), range=1469, listeners=9
[00:09:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[00:09:27] [INFO] [LastChance] Threat detected: Bullet
[00:09:27] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(383.5715, 541.1372), source=ENEMY (Enemy2), range=1469, listeners=9
[00:09:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[00:09:27] [INFO] [LastChance] Threat detected: @Area2D@17324
[00:09:27] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(427.3525, 604.9188), shooter_id=17912446322814, bullet_pos=(693.8335, 868.7615)
[00:09:27] [INFO] [Bullet] Using shooter_position, distance=375.000122070313
[00:09:27] [INFO] [Bullet] Distance to wall: 375.000122070313 (25.5344478761878% of viewport)
[00:09:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:27] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:09:27] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:09:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(419.632, 598.8455), shooter_id=17912446322814, bullet_pos=(680.5672, 868.1742)
[00:09:27] [INFO] [Bullet] Using shooter_position, distance=375.000183105469
[00:09:27] [INFO] [Bullet] Distance to wall: 375.000183105469 (25.5344520321838% of viewport)
[00:09:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(427.3525, 604.9188), shooter_id=17912446322814, bullet_pos=(568.3209, 1000.674)
[00:09:27] [INFO] [Bullet] Using shooter_position, distance=420.112396240234
[00:09:27] [INFO] [Bullet] Distance to wall: 420.112396240234 (28.6062255785753% of viewport)
[00:09:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:27] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[00:09:27] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[00:09:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(427.3525, 604.9188), shooter_id=17912446322814, bullet_pos=(523.2526, 953.547)
[00:09:27] [INFO] [Bullet] Using shooter_position, distance=361.577697753906
[00:09:27] [INFO] [Bullet] Distance to wall: 361.577697753906 (24.6204903228218% of viewport)
[00:09:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(419.632, 598.8455), shooter_id=17912446322814, bullet_pos=(567.4701, 1010.875)
[00:09:27] [INFO] [Bullet] Using shooter_position, distance=437.749053955078
[00:09:27] [INFO] [Bullet] Distance to wall: 437.749053955078 (29.8071380333329% of viewport)
[00:09:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(419.632, 598.8455), shooter_id=17912446322814, bullet_pos=(522.2818, 963.8625)
[00:09:28] [INFO] [Bullet] Using shooter_position, distance=379.175964355469
[00:09:28] [INFO] [Bullet] Distance to wall: 379.175964355469 (25.818788656081% of viewport)
[00:09:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:28] [INFO] [Bullet] Starting wall penetration at (522.2818, 963.8625)
[00:09:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 2.95071077346802
[00:09:28] [INFO] [Bullet] Max penetration distance exceeded: 60.2083396911621 >= 48
[00:09:28] [INFO] [Bullet] Body exited signal received for penetrating body
[00:09:28] [INFO] [Bullet] Exiting penetration at (477.0935, 916.8502) after traveling 60.2083396911621 pixels through wall
[00:09:28] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[00:09:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(427.3525, 604.9188), shooter_id=17912446322814, bullet_pos=(687.009, 822.5452)
[00:09:28] [INFO] [Bullet] Using shooter_position, distance=338.796020507813
[00:09:28] [INFO] [Bullet] Distance to wall: 338.796020507813 (23.0692440273247% of viewport)
[00:09:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:28] [INFO] [Bullet] Starting wall penetration at (687.009, 822.5452)
[00:09:28] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[00:09:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10.5061836242676
[00:09:28] [INFO] [Bullet] Body exited signal received for penetrating body
[00:09:28] [INFO] [Bullet] Exiting penetration at (710.8949, 803.437) after traveling 25.5885429382324 pixels through wall
[00:09:28] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[00:09:28] [ENEMY] [Enemy4] State: IDLE -> COMBAT
[00:09:28] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[00:09:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(796.9182, 889.7883), source=ENEMY (Enemy4), range=1469, listeners=9
[00:09:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[00:09:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(584.2186, 934.1956), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:09:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[00:09:28] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[00:09:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(611.2487, 961.4994), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:09:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:09:28] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:09:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(584.2186, 934.19556), shooter_id=17915550107054, bullet_pos=(935.7609, 864.7625)
[00:09:28] [INFO] [Bullet] Using shooter_position, distance=358,33356
[00:09:28] [INFO] [Bullet] Distance to wall: 358,33356 (24,399591% of viewport)
[00:09:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:28] [INFO] [Bullet] Starting wall penetration at (935.7609, 864.7625)
[00:09:28] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[00:09:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 46,42298
[00:09:28] [INFO] [Bullet] Body exited signal received for penetrating body
[00:09:28] [INFO] [Bullet] Exiting penetration at (981.54315, 855.7201) after traveling 41,666668 pixels through wall
[00:09:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:09:28] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[00:09:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(729.8162, 901.0988), shooter_id=17913016749337, bullet_pos=(50.56961, 1101.998)
[00:09:28] [INFO] [Bullet] Using shooter_position, distance=708.333557128906
[00:09:28] [INFO] [Bullet] Distance to wall: 708.333557128906 (48.2317344154663% of viewport)
[00:09:28] [INFO] [Bullet] Distance-based penetration chance: 90.3963098486226%
[00:09:28] [INFO] [Bullet] Starting wall penetration at (50.56961, 1101.998)
[00:09:28] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:09:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27.3018684387207
[00:09:28] [INFO] [Bullet] Body exited signal received for penetrating body
[00:09:28] [INFO] [Bullet] Exiting penetration at (5.819248, 1115.234) after traveling 41.6666679382324 pixels through wall
[00:09:28] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:09:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(640.3859, 984.1036), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:09:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:09:28] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[00:09:28] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[00:09:28] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[00:09:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(676.1396, 989.9338), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:09:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:09:28] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:09:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(611.2487, 961.4994), shooter_id=17915550107054, bullet_pos=(1253.0438, 703.6199)
[00:09:28] [INFO] [Bullet] Using shooter_position, distance=691,6667
[00:09:28] [INFO] [Bullet] Distance to wall: 691,6667 (47,09686% of viewport)
[00:09:28] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[00:09:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(640.38586, 984.10364), shooter_id=17915550107054, bullet_pos=(1080.9006, 698.4957)
[00:09:28] [INFO] [Bullet] Using shooter_position, distance=525,0001
[00:09:28] [INFO] [Bullet] Distance to wall: 525,0001 (35,748226% of viewport)
[00:09:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(714.6396, 989.9338), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:09:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:09:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(676.13965, 989.9338), shooter_id=17915550107054, bullet_pos=(923.7413, 792.5226)
[00:09:28] [INFO] [Bullet] Using shooter_position, distance=316,6666
[00:09:28] [INFO] [Bullet] Distance to wall: 316,6666 (21,56241% of viewport)
[00:09:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(611.2487, 961.4994), shooter_id=17915550107054, bullet_pos=(1456.7095, 779.952)
[00:09:28] [INFO] [Bullet] Using shooter_position, distance=864,7331
[00:09:28] [INFO] [Bullet] Distance to wall: 864,7331 (58,88127% of viewport)
[00:09:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(753.1396, 989.9338), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:09:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[00:09:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(640.38586, 984.10364), shooter_id=17915550107054, bullet_pos=(1367.5154, 849.04895)
[00:09:28] [INFO] [Bullet] Using shooter_position, distance=739,5654
[00:09:28] [INFO] [Bullet] Distance to wall: 739,5654 (50,35837% of viewport)
[00:09:28] [INFO] [Bullet] Distance-based penetration chance: 87,91523%
[00:09:28] [INFO] [Bullet] Starting wall penetration at (1367.5154, 849.04895)
[00:09:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,278017
[00:09:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(714.63965, 989.9338), shooter_id=17915550107054, bullet_pos=(921.5886, 697.4015)
[00:09:28] [INFO] [Bullet] Using shooter_position, distance=358,33368
[00:09:28] [INFO] [Bullet] Distance to wall: 358,33368 (24,3996% of viewport)
[00:09:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:28] [INFO] [Bullet] Body exited signal received for penetrating body
[00:09:28] [INFO] [Bullet] Exiting penetration at (1403.2961, 867.8439) after traveling 35,416668 pixels through wall
[00:09:28] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:09:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(676.13965, 989.9338), shooter_id=17915550107054, bullet_pos=(525.27905, 552.02155)
[00:09:29] [INFO] [Bullet] Using shooter_position, distance=463,16956
[00:09:29] [INFO] [Bullet] Distance to wall: 463,16956 (31,538067% of viewport)
[00:09:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(791.6396, 989.9338), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:09:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[00:09:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(753.13965, 989.9338), shooter_id=17915550107054, bullet_pos=(909.24036, 667.3886)
[00:09:29] [INFO] [Bullet] Using shooter_position, distance=358,33337
[00:09:29] [INFO] [Bullet] Distance to wall: 358,33337 (24,399578% of viewport)
[00:09:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:29] [ENEMY] [Enemy4] Hit taken, health: 1/3
[00:09:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(828.8645, 986.8542), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:09:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[00:09:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(857.8599, 971.875), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:09:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[00:09:29] [ENEMY] [Enemy4] Hit taken, health: 0/3
[00:09:29] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[00:09:29] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:09:29] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[00:09:29] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:09:29] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[00:09:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(714.63965, 989.9338), shooter_id=17915550107054, bullet_pos=(478.5577, 58.979782)
[00:09:29] [INFO] [Bullet] Using shooter_position, distance=960,42175
[00:09:29] [INFO] [Bullet] Distance to wall: 960,42175 (65,39689% of viewport)
[00:09:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(882.96, 947.4916), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:09:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[00:09:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(753.13965, 989.9338), shooter_id=17915550107054, bullet_pos=(516.01154, 55.320023)
[00:09:29] [INFO] [Bullet] Using shooter_position, distance=964,22644
[00:09:29] [INFO] [Bullet] Distance to wall: 964,22644 (65,65595% of viewport)
[00:09:29] [INFO] [Bullet] Distance-based penetration chance: 70,06806%
[00:09:29] [INFO] [Bullet] Starting wall penetration at (516.01154, 55.320023)
[00:09:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 5,61536
[00:09:29] [INFO] [Bullet] Body exited signal received for penetrating body
[00:09:29] [INFO] [Bullet] Exiting penetration at (497.99423, 27.275644) after traveling 28,333334 pixels through wall
[00:09:29] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:09:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(611.2487, 961.4994), shooter_id=17915550107054, bullet_pos=(2479.277, 283.02478)
[00:09:29] [INFO] [Bullet] Using shooter_position, distance=1987,4248
[00:09:29] [INFO] [Bullet] Distance to wall: 1987,4248 (135,32741% of viewport)
[00:09:29] [INFO] [Bullet] Distance-based penetration chance: 22,934519%
[00:09:29] [INFO] [Bullet] Starting wall penetration at (2479.277, 283.02478)
[00:09:29] [INFO] [Bullet] Body exited signal received for penetrating body
[00:09:29] [INFO] [Bullet] Exiting penetration at (2505.4353, 270.31293) after traveling 0 pixels through wall
[00:09:29] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[00:09:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.935, 922.3881), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:09:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[00:09:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(714.63965, 989.9338), shooter_id=17915550107054, bullet_pos=(263.4136, 441.07312)
[00:09:29] [INFO] [Bullet] Using shooter_position, distance=710,5301
[00:09:29] [INFO] [Bullet] Distance to wall: 710,5301 (48,3813% of viewport)
[00:09:29] [INFO] [Bullet] Distance-based penetration chance: 90,22182%
[00:09:29] [INFO] [Bullet] Starting wall penetration at (263.4136, 441.07312)
[00:09:29] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[00:09:29] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:09:29] [INFO] [Bullet] Exiting penetration at (249.14427, 466.41528) after traveling 24,083334 pixels through wall
[00:09:29] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[00:09:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.935, 889.365), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:09:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[00:09:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(857.8599, 971.875), shooter_id=17915550107054, bullet_pos=(731.4301, 55.555912)
[00:09:29] [INFO] [Bullet] Using shooter_position, distance=925,0001
[00:09:29] [INFO] [Bullet] Distance to wall: 925,0001 (62,984962% of viewport)
[00:09:29] [INFO] [Bullet] Distance-based penetration chance: 73,18422%
[00:09:29] [INFO] [Bullet] Starting wall penetration at (731.4301, 55.555912)
[00:09:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,554261
[00:09:29] [INFO] [Bullet] Body exited signal received for penetrating body
[00:09:29] [INFO] [Bullet] Exiting penetration at (726.1907, 17.582333) after traveling 33,333332 pixels through wall
[00:09:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:09:29] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[00:09:29] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[00:09:29] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[00:09:29] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[00:09:29] [ENEMY] [Enemy4] Ragdoll activated
[00:09:29] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:09:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(882.96, 947.49164), shooter_id=17915550107054, bullet_pos=(479.95877, 41.404537)
[00:09:29] [INFO] [Bullet] Using shooter_position, distance=991,6672
[00:09:29] [INFO] [Bullet] Distance to wall: 991,6672 (67,524445% of viewport)
[00:09:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.935, 922.3881), shooter_id=17915550107054, bullet_pos=(711.5275, 49.99904)
[00:09:29] [INFO] [Bullet] Using shooter_position, distance=891,6663
[00:09:29] [INFO] [Bullet] Distance to wall: 891,6663 (60,7152% of viewport)
[00:09:29] [INFO] [Bullet] Distance-based penetration chance: 75,832275%
[00:09:29] [INFO] [Bullet] Starting wall penetration at (711.5275, 49.99904)
[00:09:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,936562
[00:09:29] [INFO] [Bullet] Body exited signal received for penetrating body
[00:09:29] [INFO] [Bullet] Exiting penetration at (703.59973, 12.49445) after traveling 33,333336 pixels through wall
[00:09:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:09:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.935, 889.365), shooter_id=17915550107054, bullet_pos=(770.9758, 40.17619)
[00:09:30] [INFO] [Bullet] Using shooter_position, distance=858,3335
[00:09:30] [INFO] [Bullet] Distance to wall: 858,3335 (58,445507% of viewport)
[00:09:30] [INFO] [Bullet] Distance-based penetration chance: 78,48024%
[00:09:30] [INFO] [Bullet] Starting wall penetration at (770.9758, 40.17619)
[00:09:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,069094
[00:09:30] [INFO] [Bullet] Body exited signal received for penetrating body
[00:09:30] [INFO] [Bullet] Exiting penetration at (765.39514, 2.2512627) after traveling 33,333336 pixels through wall
[00:09:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:09:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.935, 766.1643), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:09:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[00:09:30] [ENEMY] [Enemy10] Hit taken, health: 1/2
[00:09:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.935, 734.6976), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:09:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[00:09:30] [ENEMY] [Enemy10] Hit taken, health: 0/2
[00:09:30] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[00:09:30] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:09:30] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 7)
[00:09:30] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:09:30] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[00:09:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.935, 715.1776), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:09:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[00:09:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.935, 709.4976), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:09:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[00:09:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(601.7202, 647.5936), source=ENEMY (Enemy2), range=1469, listeners=7
[00:09:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=3
[00:09:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.935, 718.9554), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:09:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[00:09:30] [INFO] [LastChance] Threat detected: @Area2D@17377
[00:09:30] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:30] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:09:30] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:09:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(634.9319, 655.446), source=ENEMY (Enemy2), range=1469, listeners=7
[00:09:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=3
[00:09:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.935, 715.1776), shooter_id=17915550107054, bullet_pos=(52.07408, 872.1341)
[00:09:30] [INFO] [Bullet] Using shooter_position, distance=858,3336
[00:09:30] [INFO] [Bullet] Distance to wall: 858,3336 (58,445515% of viewport)
[00:09:30] [INFO] [Bullet] Distance-based penetration chance: 78,48024%
[00:09:30] [INFO] [Bullet] Starting wall penetration at (52.07408, 872.1341)
[00:09:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,914974
[00:09:30] [INFO] [Bullet] Body exited signal received for penetrating body
[00:09:30] [INFO] [Bullet] Exiting penetration at (14.387104, 879.1438) after traveling 33,333336 pixels through wall
[00:09:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:09:30] [INFO] [LastChance] Threat detected: @Area2D@17379
[00:09:30] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(671.2396, 667.871), source=ENEMY (Enemy2), range=1469, listeners=7
[00:09:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=4
[00:09:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.935, 709.4976), shooter_id=17915550107054, bullet_pos=(47.39821, 838.8071)
[00:09:30] [INFO] [Bullet] Using shooter_position, distance=858,33307
[00:09:30] [INFO] [Bullet] Distance to wall: 858,33307 (58,445477% of viewport)
[00:09:30] [INFO] [Bullet] Distance-based penetration chance: 78,48028%
[00:09:30] [INFO] [Bullet] Starting wall penetration at (47.39821, 838.8071)
[00:09:30] [INFO] [LastChance] Threat detected: Bullet
[00:09:30] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,75735
[00:09:30] [ENEMY] [Enemy4] Death animation completed
[00:09:30] [INFO] [Bullet] Body exited signal received for penetrating body
[00:09:30] [INFO] [Bullet] Exiting penetration at (9.502377, 844.5821) after traveling 33,333332 pixels through wall
[00:09:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:09:30] [ENEMY] [Enemy10] Ragdoll activated
[00:09:30] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:09:31] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:09:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(729.8498, 701.9335), shooter_id=17912446322814, bullet_pos=(913.1776, 781.8766)
[00:09:31] [INFO] [Bullet] Using shooter_position, distance=199.999923706055
[00:09:31] [INFO] [Bullet] Distance to wall: 199.999923706055 (13.6183625725761% of viewport)
[00:09:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:31] [INFO] [Bullet] Starting wall penetration at (913.1776, 781.8766)
[00:09:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13.435341835022
[00:09:31] [INFO] [Bullet] Body exited signal received for penetrating body
[00:09:31] [INFO] [Bullet] Exiting penetration at (948.3154, 797.1991) after traveling 33.3333358764648 pixels through wall
[00:09:31] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:09:31] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:09:31] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:09:31] [ENEMY] [Enemy1] Death animation component initialized
[00:09:31] [ENEMY] [Enemy2] Death animation component initialized
[00:09:31] [ENEMY] [Enemy3] Death animation component initialized
[00:09:31] [ENEMY] [Enemy4] Death animation component initialized
[00:09:31] [ENEMY] [Enemy5] Death animation component initialized
[00:09:31] [ENEMY] [Enemy6] Death animation component initialized
[00:09:31] [ENEMY] [Enemy7] Death animation component initialized
[00:09:31] [ENEMY] [Enemy8] Death animation component initialized
[00:09:31] [ENEMY] [Enemy9] Death animation component initialized
[00:09:31] [ENEMY] [Enemy10] Death animation component initialized
[00:09:31] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:09:31] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:09:31] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:09:31] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:09:31] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:09:31] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:09:31] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:09:31] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:09:31] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:09:31] [INFO] [ScoreManager] Level started with 10 enemies
[00:09:31] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 8)
[00:09:31] [ENEMY] [Enemy1] Registered as sound listener
[00:09:31] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:09:31] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 9)
[00:09:31] [ENEMY] [Enemy2] Registered as sound listener
[00:09:31] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:09:31] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 10)
[00:09:31] [ENEMY] [Enemy3] Registered as sound listener
[00:09:31] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:09:31] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 11)
[00:09:31] [ENEMY] [Enemy4] Registered as sound listener
[00:09:31] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:09:31] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 12)
[00:09:31] [ENEMY] [Enemy5] Registered as sound listener
[00:09:31] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:09:31] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 13)
[00:09:31] [ENEMY] [Enemy6] Registered as sound listener
[00:09:31] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:09:31] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 14)
[00:09:31] [ENEMY] [Enemy7] Registered as sound listener
[00:09:31] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:09:31] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 15)
[00:09:31] [ENEMY] [Enemy8] Registered as sound listener
[00:09:31] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:09:31] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 16)
[00:09:31] [ENEMY] [Enemy9] Registered as sound listener
[00:09:31] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:09:31] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 17)
[00:09:31] [ENEMY] [Enemy10] Registered as sound listener
[00:09:31] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:09:31] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:09:31] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:09:31] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:09:31] [INFO] [LastChance] Found player: Player
[00:09:31] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:09:31] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:09:31] [INFO] [LastChance] Connected to player Died signal (C#)
[00:09:31] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:09:31] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:09:31] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:09:31] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:09:31] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:09:31] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (628.27295, 1178.5343)
[00:09:31] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:09:31] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:09:31] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:09:31] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:09:31] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:09:31] [INFO] [Player.Grenade] Step 1 complete! Drag: (569.1094, 17.365479)
[00:09:31] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:09:31] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:09:31] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:09:31] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:09:32] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:09:32] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:09:32] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:09:33] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:09:33] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (289.41858, -55.00344) (294,6 px/s), Swing distance: 325,0
[00:09:33] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,18780833
[00:09:33] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (289.4186, -55.00344), Swing: 325.0, Transfer: 1.00, Final speed: 138.9
[00:09:33] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:09:33] [INFO] [Player.Grenade] Thrown! Velocity: 294,6, Swing: 325,0
[00:09:33] [INFO] [Player.Grenade] State reset to IDLE
[00:09:33] [INFO] [Player.Grenade] Player rotation restored to 0
[00:09:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.697, 1503.212), source=ENEMY (Enemy10), range=1469, listeners=17
[00:09:33] [INFO] [SoundPropagation] Cleaned up 7 invalid listeners
[00:09:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:09:33] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:09:33] [INFO] [GrenadeBase] Grenade landed at (871.7815, 1234.901)
[00:09:33] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:09:33] [INFO] [GrenadeBase] EXPLODED at (871.7815, 1234.901)!
[00:09:33] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(871.7815, 1234.901), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:09:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[00:09:33] [INFO] [FragGrenade] Player found in blast radius at distance 15.3
[00:09:33] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:09:33] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:09:33] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:09:33] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:09:33] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:09:33] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:09:33] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:09:33] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:09:33] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:09:33] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:09:33] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:09:33] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:09:33] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:09:33] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:09:33] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:09:33] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:09:33] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:09:33] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:09:33] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:09:33] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:09:33] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:09:33] [INFO] [LastChance] Player died
[00:09:33] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 15.3
[00:09:33] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -14.6 degrees
[00:09:33] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 80.8 degrees
[00:09:33] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 177.4 degrees
[00:09:33] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 255.3 degrees
[00:09:33] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:09:33] [INFO] [LastChance] Threat detected: Bullet
[00:09:33] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:33] [ENEMY] [Enemy4] Hit taken, health: 1/2
[00:09:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1028.372, 1457.267), shooter_id=18336524011681, bullet_pos=(645.4249, 1017.234)
[00:09:33] [INFO] [Bullet] Using shooter_position, distance=583.333190917969
[00:09:33] [INFO] [Bullet] Distance to wall: 583.333190917969 (39.7202296247583% of viewport)
[00:09:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:33] [INFO] [Bullet] Starting wall penetration at (645.4249, 1017.234)
[00:09:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23.8199672698975
[00:09:33] [INFO] [Bullet] Body exited signal received for penetrating body
[00:09:33] [INFO] [Bullet] Exiting penetration at (614.7891, 982.0316) after traveling 41.6666679382324 pixels through wall
[00:09:33] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:09:33] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:09:33] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:09:33] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:09:33] [ENEMY] [Enemy1] Death animation component initialized
[00:09:33] [ENEMY] [Enemy2] Death animation component initialized
[00:09:33] [ENEMY] [Enemy3] Death animation component initialized
[00:09:33] [ENEMY] [Enemy4] Death animation component initialized
[00:09:33] [ENEMY] [Enemy5] Death animation component initialized
[00:09:33] [ENEMY] [Enemy6] Death animation component initialized
[00:09:33] [ENEMY] [Enemy7] Death animation component initialized
[00:09:33] [ENEMY] [Enemy8] Death animation component initialized
[00:09:33] [ENEMY] [Enemy9] Death animation component initialized
[00:09:33] [ENEMY] [Enemy10] Death animation component initialized
[00:09:33] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:09:33] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:09:33] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:09:33] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:09:33] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:09:33] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:09:33] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:09:33] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:09:33] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:09:33] [INFO] [ScoreManager] Level started with 10 enemies
[00:09:33] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:09:33] [ENEMY] [Enemy1] Registered as sound listener
[00:09:33] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:09:33] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:09:33] [ENEMY] [Enemy2] Registered as sound listener
[00:09:33] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:09:33] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:09:33] [ENEMY] [Enemy3] Registered as sound listener
[00:09:33] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:09:33] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:09:33] [ENEMY] [Enemy4] Registered as sound listener
[00:09:33] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:09:33] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:09:33] [ENEMY] [Enemy5] Registered as sound listener
[00:09:33] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:09:33] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:09:33] [ENEMY] [Enemy6] Registered as sound listener
[00:09:33] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:09:33] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:09:33] [ENEMY] [Enemy7] Registered as sound listener
[00:09:33] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:09:33] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:09:33] [ENEMY] [Enemy8] Registered as sound listener
[00:09:33] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:09:33] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:09:33] [ENEMY] [Enemy9] Registered as sound listener
[00:09:33] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:09:33] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:09:33] [ENEMY] [Enemy10] Registered as sound listener
[00:09:33] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:09:33] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:09:33] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:09:33] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:09:33] [INFO] [LastChance] Found player: Player
[00:09:33] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:09:33] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:09:33] [INFO] [LastChance] Connected to player Died signal (C#)
[00:09:33] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:09:33] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:09:33] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:09:34] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:09:34] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:09:34] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:09:34] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:09:34] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:09:34] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:09:35] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (928.29755, 1044.2858)
[00:09:35] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:09:35] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:09:35] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:09:35] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:09:35] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:09:35] [INFO] [Player.Grenade] Step 1 complete! Drag: (351.50592, 4.007324)
[00:09:35] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:09:35] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:09:35] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:09:35] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:09:35] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:09:35] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:09:36] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:09:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1054.948, 1497.323), source=ENEMY (Enemy10), range=1469, listeners=20
[00:09:36] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:09:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:09:37] [INFO] [LastChance] Threat detected: Bullet
[00:09:37] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:37] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:09:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(996.1247, 1463.209), shooter_id=18502719114212, bullet_pos=(60.69208, 766.0163)
[00:09:37] [INFO] [Bullet] Using shooter_position, distance=1166.66723632813
[00:09:37] [INFO] [Bullet] Distance to wall: 1166.66723632813 (79.4405174334609% of viewport)
[00:09:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(996.1247, 1463.209), shooter_id=18502719114212, bullet_pos=(157.8129, 711.7568)
[00:09:37] [INFO] [Bullet] Using shooter_position, distance=1125.80981445313
[00:09:37] [INFO] [Bullet] Distance to wall: 1125.80981445313 (76.6584604478181% of viewport)
[00:09:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(996.1247, 1463.209), shooter_id=18502719114212, bullet_pos=(516.8954, 879.5553)
[00:09:37] [INFO] [Bullet] Using shooter_position, distance=755.190612792969
[00:09:37] [INFO] [Bullet] Distance to wall: 755.190612792969 (51.4223174981601% of viewport)
[00:09:37] [INFO] [GrenadeBase] Grenade landed at (454.9443, 1250)
[00:09:38] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[00:09:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(929.9079, 1383.92), source=ENEMY (Enemy10), range=1469, listeners=10
[00:09:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:09:39] [INFO] [LastChance] Threat detected: Bullet
[00:09:39] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:39] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:09:39] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:09:39] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:09:39] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:09:39] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:09:39] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:09:39] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:09:39] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:09:39] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:09:39] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:09:39] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:09:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(912.0934, 1375.809), source=ENEMY (Enemy10), range=1469, listeners=10
[00:09:39] [ENEMY] [Enemy4] Heard gunshot at (912.0934, 1375.809), source_type=1, intensity=0.01, distance=489
[00:09:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[00:09:39] [INFO] [LastChance] Threat detected: Bullet
[00:09:39] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:40] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:09:40] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3.357203, 0) (3,4 px/s), Swing distance: 754,4
[00:09:40] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,661633
[00:09:40] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3.357203, 0), Swing: 754.4, Transfer: 1.00, Final speed: 1.6
[00:09:40] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:09:40] [INFO] [Player.Grenade] Thrown! Velocity: 3,4, Swing: 754,4
[00:09:40] [INFO] [Player.Grenade] State reset to IDLE
[00:09:40] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:09:40] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:09:40] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:09:40] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:09:40] [ENEMY] [Enemy1] Death animation component initialized
[00:09:40] [ENEMY] [Enemy2] Death animation component initialized
[00:09:40] [ENEMY] [Enemy3] Death animation component initialized
[00:09:40] [ENEMY] [Enemy4] Death animation component initialized
[00:09:40] [ENEMY] [Enemy5] Death animation component initialized
[00:09:40] [ENEMY] [Enemy6] Death animation component initialized
[00:09:40] [ENEMY] [Enemy7] Death animation component initialized
[00:09:40] [ENEMY] [Enemy8] Death animation component initialized
[00:09:40] [ENEMY] [Enemy9] Death animation component initialized
[00:09:40] [ENEMY] [Enemy10] Death animation component initialized
[00:09:40] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:09:40] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:09:40] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:09:40] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:09:40] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:09:40] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:09:40] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:09:40] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:09:40] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:09:40] [INFO] [ScoreManager] Level started with 10 enemies
[00:09:40] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:09:40] [ENEMY] [Enemy1] Registered as sound listener
[00:09:40] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:09:40] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:09:40] [ENEMY] [Enemy2] Registered as sound listener
[00:09:40] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:09:40] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:09:40] [ENEMY] [Enemy3] Registered as sound listener
[00:09:40] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:09:40] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:09:40] [ENEMY] [Enemy4] Registered as sound listener
[00:09:40] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:09:40] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:09:40] [ENEMY] [Enemy5] Registered as sound listener
[00:09:40] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:09:40] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:09:40] [ENEMY] [Enemy6] Registered as sound listener
[00:09:40] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:09:40] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:09:40] [ENEMY] [Enemy7] Registered as sound listener
[00:09:40] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:09:40] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:09:40] [ENEMY] [Enemy8] Registered as sound listener
[00:09:40] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:09:40] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:09:40] [ENEMY] [Enemy9] Registered as sound listener
[00:09:40] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:09:40] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:09:40] [ENEMY] [Enemy10] Registered as sound listener
[00:09:40] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:09:40] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:09:40] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:09:40] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:09:40] [INFO] [LastChance] Found player: Player
[00:09:40] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:09:40] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:09:40] [INFO] [LastChance] Connected to player Died signal (C#)
[00:09:40] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:09:40] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:09:40] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:09:40] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:09:40] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:09:40] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (946.5079, 1127.7737)
[00:09:41] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:09:41] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:09:41] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:09:41] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:09:41] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:09:41] [INFO] [Player.Grenade] Step 1 complete! Drag: (331.2453, 22.040771)
[00:09:41] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:09:41] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:09:41] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:09:41] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:09:41] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:09:41] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:09:42] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:09:42] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:09:43] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:09:43] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:09:43] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[00:09:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(936.0691, 1411.749), source=ENEMY (Enemy10), range=1469, listeners=20
[00:09:44] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:09:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:09:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(936.0671, 1406.811), source=ENEMY (Enemy10), range=1469, listeners=10
[00:09:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:09:44] [INFO] [LastChance] Threat detected: Bullet
[00:09:44] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:09:44] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:09:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(936.0671, 1402.344), source=ENEMY (Enemy10), range=1469, listeners=10
[00:09:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:09:44] [INFO] [LastChance] Threat detected: @Area2D@18157
[00:09:44] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(936.0317, 1398.632), source=ENEMY (Enemy10), range=1469, listeners=10
[00:09:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:09:44] [INFO] [LastChance] Threat detected: Bullet
[00:09:44] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(935.737, 1396.023), source=ENEMY (Enemy10), range=1469, listeners=10
[00:09:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:09:44] [INFO] [LastChance] Threat detected: @Area2D@18158
[00:09:44] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(935.436, 1394.527), source=ENEMY (Enemy10), range=1469, listeners=10
[00:09:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:09:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(873.4172, 1375.84), shooter_id=18855258754246, bullet_pos=(39.44992, 903.7167)
[00:09:44] [INFO] [Bullet] Using shooter_position, distance=958.332946777344
[00:09:44] [INFO] [Bullet] Distance to wall: 958.332946777344 (65.25465256497% of viewport)
[00:09:44] [INFO] [LastChance] Threat detected: @Area2D@18159
[00:09:44] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(935.2943, 1393.953), source=ENEMY (Enemy10), range=1469, listeners=10
[00:09:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:09:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(872.7021, 1373.826), shooter_id=18855258754246, bullet_pos=(63.14395, 943.8351)
[00:09:44] [INFO] [Bullet] Using shooter_position, distance=916.666259765625
[00:09:44] [INFO] [Bullet] Distance to wall: 916.666259765625 (62.4174912280606% of viewport)
[00:09:45] [INFO] [LastChance] Threat detected: @Area2D@18160
[00:09:45] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(932.6937, 1387.281), source=ENEMY (Enemy10), range=1469, listeners=10
[00:09:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:09:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(871.6453, 1373.257), shooter_id=18855258754246, bullet_pos=(48.74044, 969.3936)
[00:09:45] [INFO] [Bullet] Using shooter_position, distance=916.666809082031
[00:09:45] [INFO] [Bullet] Distance to wall: 916.666809082031 (62.4175286320248% of viewport)
[00:09:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(872.7021, 1373.826), shooter_id=18855258754246, bullet_pos=(414.779, 696.3423)
[00:09:45] [INFO] [Bullet] Using shooter_position, distance=817.727478027344
[00:09:45] [INFO] [Bullet] Distance to wall: 817.727478027344 (55.6805676471238% of viewport)
[00:09:45] [INFO] [LastChance] Threat detected: @Area2D@18161
[00:09:45] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(930.8798, 1385.074), source=ENEMY (Enemy10), range=1469, listeners=10
[00:09:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:09:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(870.7339, 1373.543), shooter_id=18855258754246, bullet_pos=(36.95884, 992.6273)
[00:09:45] [INFO] [Bullet] Using shooter_position, distance=916.666442871094
[00:09:45] [INFO] [Bullet] Distance to wall: 916.666442871094 (62.4175036960487% of viewport)
[00:09:45] [INFO] [Bullet] Distance-based penetration chance: 73.8462456879432%
[00:09:45] [INFO] [Bullet] Starting wall penetration at (36.95884, 992.6273)
[00:09:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41.2148361206055
[00:09:45] [INFO] [Bullet] Body exited signal received for penetrating body
[00:09:45] [INFO] [Bullet] Exiting penetration at (-5.487904, 973.2353) after traveling 41.6666679382324 pixels through wall
[00:09:45] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:09:45] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:09:45] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, 1.8744475) (1,9 px/s), Swing distance: 703,2
[00:09:45] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5686725
[00:09:45] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, 1.874447), Swing: 703.2, Transfer: 1.00, Final speed: 0.9
[00:09:45] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:09:45] [INFO] [Player.Grenade] Thrown! Velocity: 1,9, Swing: 703,2
[00:09:45] [INFO] [Player.Grenade] State reset to IDLE
[00:09:45] [INFO] [GrenadeBase] Grenade landed at (213.7941, 1061.889)
[00:09:45] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:09:45] [INFO] [GrenadeBase] EXPLODED at (213.7941, 1061.889)!
[00:09:45] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(213.7941, 1061.889), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:09:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=10
[00:09:45] [INFO] [FragGrenade] Player found in blast radius at distance 60.0
[00:09:45] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:09:45] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:09:45] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:09:45] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:09:45] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:09:45] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:09:45] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:09:45] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:09:45] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:09:45] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:09:45] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:09:45] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:09:45] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:09:45] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:09:45] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:09:45] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:09:45] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:09:45] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:09:45] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:09:45] [INFO] [LastChance] Player died
[00:09:45] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 60.0
[00:09:45] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -18.7 degrees
[00:09:45] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 74.6 degrees
[00:09:45] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 196.0 degrees
[00:09:45] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 264.1 degrees
[00:09:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(929.6268, 1383.4), source=ENEMY (Enemy10), range=1469, listeners=10
[00:09:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:09:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(870.1069, 1374.515), shooter_id=18855258754246, bullet_pos=(65.79408, 1029.979)
[00:09:45] [INFO] [Bullet] Using shooter_position, distance=874.999694824219
[00:09:45] [INFO] [Bullet] Distance to wall: 874.999694824219 (59.5803382031434% of viewport)
[00:09:45] [INFO] [Bullet] Distance-based penetration chance: 77.1562720963327%
[00:09:45] [INFO] [Bullet] Starting wall penetration at (65.79408, 1029.979)
[00:09:45] [INFO] [LastChance] Threat detected: @Area2D@18163
[00:09:45] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9.9025993347168
[00:09:45] [INFO] [Bullet] Body exited signal received for penetrating body
[00:09:45] [INFO] [Bullet] Exiting penetration at (22.89739, 1011.604) after traveling 41.6666679382324 pixels through wall
[00:09:45] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:09:45] [INFO] [Player.Grenade] Player rotation restored to 0
[00:09:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(930.2798, 1384.344), source=ENEMY (Enemy10), range=1469, listeners=10
[00:09:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:09:45] [INFO] [LastChance] Threat detected: Bullet
[00:09:45] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:45] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:09:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(872.7021, 1373.826), shooter_id=18855258754246, bullet_pos=(831.1436, 1002.435)
[00:09:45] [INFO] [Bullet] Using shooter_position, distance=373.709350585938
[00:09:45] [INFO] [Bullet] Distance to wall: 373.709350585938 (25.4465568722973% of viewport)
[00:09:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:45] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[00:09:45] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[00:09:45] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[00:09:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(872.7021, 1373.826), shooter_id=18855258754246, bullet_pos=(920.7831, 943.3616)
[00:09:45] [INFO] [Bullet] Using shooter_position, distance=433.141662597656
[00:09:45] [INFO] [Bullet] Distance to wall: 433.141662597656 (29.4934122835604% of viewport)
[00:09:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:09:45] [INFO] [Bullet] Starting wall penetration at (920.7831, 943.3616)
[00:09:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(931.1508, 1385.422), source=ENEMY (Enemy10), range=1469, listeners=10
[00:09:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:09:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12.3644971847534
[00:09:45] [INFO] [Bullet] Body exited signal received for penetrating body
[00:09:45] [INFO] [Bullet] Exiting penetration at (946.3242, 926.5298) after traveling 25.5885429382324 pixels through wall
[00:09:45] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[00:09:45] [INFO] [LastChance] Threat detected: @Area2D@18172
[00:09:45] [INFO] [LastChance] Not in hard mode - effect disabled
[00:09:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:09:45] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:09:45] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:09:45] [ENEMY] [Enemy1] Death animation component initialized
[00:09:45] [ENEMY] [Enemy2] Death animation component initialized
[00:09:45] [ENEMY] [Enemy3] Death animation component initialized
[00:09:45] [ENEMY] [Enemy4] Death animation component initialized
[00:09:45] [ENEMY] [Enemy5] Death animation component initialized
[00:09:45] [ENEMY] [Enemy6] Death animation component initialized
[00:09:45] [ENEMY] [Enemy7] Death animation component initialized
[00:09:45] [ENEMY] [Enemy8] Death animation component initialized
[00:09:45] [ENEMY] [Enemy9] Death animation component initialized
[00:09:45] [ENEMY] [Enemy10] Death animation component initialized
[00:09:45] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:09:45] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:09:45] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:09:45] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:09:45] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:09:45] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:09:45] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:09:45] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:09:45] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:09:45] [INFO] [ScoreManager] Level started with 10 enemies
[00:09:45] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:09:45] [ENEMY] [Enemy1] Registered as sound listener
[00:09:45] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:09:45] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:09:45] [ENEMY] [Enemy2] Registered as sound listener
[00:09:45] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:09:45] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:09:45] [ENEMY] [Enemy3] Registered as sound listener
[00:09:45] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:09:45] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:09:45] [ENEMY] [Enemy4] Registered as sound listener
[00:09:45] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:09:45] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:09:45] [ENEMY] [Enemy5] Registered as sound listener
[00:09:45] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:09:45] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:09:45] [ENEMY] [Enemy6] Registered as sound listener
[00:09:45] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:09:45] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:09:45] [ENEMY] [Enemy7] Registered as sound listener
[00:09:45] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:09:45] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:09:45] [ENEMY] [Enemy8] Registered as sound listener
[00:09:45] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:09:45] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:09:45] [ENEMY] [Enemy9] Registered as sound listener
[00:09:45] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:09:45] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:09:45] [ENEMY] [Enemy10] Registered as sound listener
[00:09:45] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:09:47] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:09:47] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:09:47] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:09:47] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[00:09:47] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:09:47] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:09:47] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:09:47] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:09:47] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:09:47] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[00:09:47] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:09:47] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:09:47] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:09:47] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:09:47] [INFO] [LastChance] Found player: Player
[00:09:47] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:09:47] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:09:47] [INFO] [LastChance] Connected to player Died signal (C#)
[00:09:47] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:09:47] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:09:47] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:09:49] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:09:49] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:09:49] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (560.8935, 345.97403)
[00:09:49] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:09:49] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:09:49] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:09:49] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:09:49] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:09:49] [INFO] [Player.Grenade] Step 1 complete! Drag: (447.72485, 14.02597)
[00:09:49] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:09:49] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:09:49] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:09:49] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:09:50] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:09:50] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:10:05] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:10:05] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (326.80646, -663.4833) (739,6 px/s), Swing distance: 2155,1
[00:10:05] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,113117
[00:10:05] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (326.8065, -663.4833), Swing: 2155.1, Transfer: 1.00, Final speed: 348.7
[00:10:05] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:10:05] [INFO] [Player.Grenade] Thrown! Velocity: 739,6, Swing: 2155,1
[00:10:05] [INFO] [Player.Grenade] State reset to IDLE
[00:10:05] [INFO] [Player.Grenade] Player rotation restored to 0
[00:10:05] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:10:06] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:10:06] [INFO] [GrenadeBase] Grenade landed at (1167.817, 422.4981)
[00:10:06] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:10:06] [INFO] [GrenadeBase] EXPLODED at (1167.817, 422.4981)!
[00:10:06] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1167.817, 422.4981), source=NEUTRAL (FragGrenade), range=2937, listeners=20
[00:10:06] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[00:10:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:10:06] [INFO] [FragGrenade] Player found in blast radius at distance 177.8
[00:10:06] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:10:06] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:10:06] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:10:06] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:10:06] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:10:06] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:10:06] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:10:06] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:10:06] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:10:06] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:10:06] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:10:06] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:10:06] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:10:06] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:10:06] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:10:06] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:10:06] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:10:06] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:10:06] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:10:06] [INFO] [LastChance] Player died
[00:10:06] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 177.8
[00:10:06] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 8.6 degrees
[00:10:06] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 73.3 degrees
[00:10:06] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 168.2 degrees
[00:10:06] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 278.4 degrees
[00:10:06] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:10:06] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:10:06] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:10:06] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[00:10:06] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:10:06] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:10:06] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:10:06] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:10:06] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:10:06] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 4/4
[00:10:06] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:10:06] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:10:06] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:10:06] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:10:06] [INFO] [LastChance] Found player: Player
[00:10:06] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:10:06] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:10:06] [INFO] [LastChance] Connected to player Died signal (C#)
[00:10:06] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:10:06] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:10:06] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:10:08] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:10:08] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:10:08] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (790.9471, 287.19852)
[00:10:08] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:10:08] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:10:08] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:10:08] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:10:08] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:10:08] [INFO] [Player.Grenade] Step 1 complete! Drag: (489.02887, -4.007416)
[00:10:08] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:10:08] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:10:08] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:10:08] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:10:08] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:10:08] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:10:09] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:10:09] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2178.5579, -78.576836) (2180,0 px/s), Swing distance: 193,1
[00:10:09] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,03605265
[00:10:09] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2178.558, -78.57684), Swing: 193.1, Transfer: 0.78, Final speed: 801.7
[00:10:09] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:10:09] [INFO] [Player.Grenade] Thrown! Velocity: 2180,0, Swing: 193,1
[00:10:09] [INFO] [Player.Grenade] State reset to IDLE
[00:10:09] [INFO] [Player.Grenade] Player rotation restored to 0
[00:10:09] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:10:10] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:10:10] [INFO] [GrenadeBase] Grenade landed at (754.5038, 101.5987)
[00:10:10] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:10:10] [INFO] [GrenadeBase] EXPLODED at (754.5038, 101.5987)!
[00:10:10] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(754.5038, 101.5987), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[00:10:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:10:10] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 6.8 degrees
[00:10:10] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 109.1 degrees
[00:10:10] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 187.1 degrees
[00:10:10] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 271.1 degrees
[00:10:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:10:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:10:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:10:11] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[00:10:11] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:10:11] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:10:11] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:10:11] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:10:11] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:10:11] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[00:10:11] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:10:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:10:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:10:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:10:11] [INFO] [LastChance] Found player: Player
[00:10:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:10:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:10:11] [INFO] [LastChance] Connected to player Died signal (C#)
[00:10:11] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:10:11] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:10:11] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:10:12] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:10:12] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:10:12] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (885.41846, 239.10947)
[00:10:12] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:10:12] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:10:12] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:10:12] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:10:12] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:10:12] [INFO] [Player.Grenade] Step 1 complete! Drag: (382.95935, 3.339508)
[00:10:12] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:10:12] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:10:12] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:10:12] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:10:12] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:10:12] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:10:14] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:10:14] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (332.09207, -1879.4609) (1908,6 px/s), Swing distance: 187,7
[00:10:14] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,3959061
[00:10:14] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (332.0921, -1879.461), Swing: 187.7, Transfer: 0.76, Final speed: 682.2
[00:10:14] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:10:14] [INFO] [Player.Grenade] Thrown! Velocity: 1908,6, Swing: 187,7
[00:10:14] [INFO] [Player.Grenade] State reset to IDLE
[00:10:14] [INFO] [Player.Grenade] Player rotation restored to 0
[00:10:14] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:10:14] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:10:14] [INFO] [FragGrenade] Wall impact detected! Body: WallTop, triggering explosion
[00:10:14] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:10:14] [INFO] [GrenadeBase] EXPLODED at (516.0809, 73.10628)!
[00:10:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(516.0809, 73.10628), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[00:10:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:10:14] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 6.7 degrees
[00:10:14] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 81.9 degrees
[00:10:14] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 162.0 degrees
[00:10:14] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 264.7 degrees
[00:10:14] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:10:18] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:10:18] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:10:18] [ENEMY] [Enemy1] Death animation component initialized
[00:10:18] [ENEMY] [Enemy2] Death animation component initialized
[00:10:18] [ENEMY] [Enemy3] Death animation component initialized
[00:10:18] [ENEMY] [Enemy4] Death animation component initialized
[00:10:18] [ENEMY] [Enemy5] Death animation component initialized
[00:10:18] [ENEMY] [Enemy6] Death animation component initialized
[00:10:18] [ENEMY] [Enemy7] Death animation component initialized
[00:10:18] [ENEMY] [Enemy8] Death animation component initialized
[00:10:18] [ENEMY] [Enemy9] Death animation component initialized
[00:10:18] [ENEMY] [Enemy10] Death animation component initialized
[00:10:18] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:10:18] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:10:18] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:10:18] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:10:18] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:10:18] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:10:18] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:10:18] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:10:18] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:10:18] [INFO] [ScoreManager] Level started with 10 enemies
[00:10:18] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[00:10:18] [ENEMY] [Enemy1] Registered as sound listener
[00:10:18] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:10:18] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[00:10:18] [ENEMY] [Enemy2] Registered as sound listener
[00:10:18] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:10:18] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[00:10:18] [ENEMY] [Enemy3] Registered as sound listener
[00:10:18] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:10:18] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[00:10:18] [ENEMY] [Enemy4] Registered as sound listener
[00:10:18] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:10:18] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[00:10:18] [ENEMY] [Enemy5] Registered as sound listener
[00:10:18] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:10:18] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[00:10:18] [ENEMY] [Enemy6] Registered as sound listener
[00:10:18] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:10:18] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[00:10:18] [ENEMY] [Enemy7] Registered as sound listener
[00:10:18] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:10:18] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[00:10:18] [ENEMY] [Enemy8] Registered as sound listener
[00:10:18] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:10:18] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[00:10:18] [ENEMY] [Enemy9] Registered as sound listener
[00:10:18] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:10:18] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[00:10:18] [ENEMY] [Enemy10] Registered as sound listener
[00:10:18] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:10:18] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:10:18] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:10:18] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:10:18] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:10:18] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:10:18] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:10:18] [INFO] [LastChance] Found player: Player
[00:10:18] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:10:18] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:10:18] [INFO] [LastChance] Connected to player Died signal (C#)
[00:10:19] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:10:19] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:10:20] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (533.06964, 1148.4786)
[00:10:20] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:10:20] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:10:20] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:10:20] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:10:20] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:10:20] [INFO] [Player.Grenade] Step 1 complete! Drag: (365.43738, 30.055664)
[00:10:20] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:10:20] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:10:20] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:10:20] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:10:20] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:10:20] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:10:21] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:10:21] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:10:22] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:10:22] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:10:22] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3979.8599, -238.99881) (3987,0 px/s), Swing distance: 761,3
[00:10:22] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,059980035
[00:10:22] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3979.86, -238.9988), Swing: 761.3, Transfer: 1.00, Final speed: 1186.5
[00:10:22] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:10:22] [INFO] [Player.Grenade] Thrown! Velocity: 3987,0, Swing: 761,3
[00:10:22] [INFO] [Player.Grenade] State reset to IDLE
[00:10:22] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[00:10:22] [INFO] [FragGrenade] Non-wall collision (body: Enemy3, type: CharacterBody2D) - not triggering explosion
[00:10:22] [INFO] [Player.Grenade] Player rotation restored to 0
[00:10:22] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:10:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:10:22] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:10:22] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:10:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:10:22] [INFO] [LastChance] Threat detected: Bullet
[00:10:22] [INFO] [LastChance] Not in hard mode - effect disabled
[00:10:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:10:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:10:22] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:10:22] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:10:22] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:10:22] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:10:22] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:10:22] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:10:22] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:10:22] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:10:22] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:10:22] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:10:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:10:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:10:22] [INFO] [LastChance] Threat detected: Bullet
[00:10:22] [INFO] [LastChance] Not in hard mode - effect disabled
[00:10:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:10:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:10:23] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:10:23] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:10:23] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:10:23] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:10:23] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:10:23] [INFO] [LastChance] Player died
[00:10:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:10:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:10:23] [INFO] [LastChance] Threat detected: Bullet
[00:10:23] [INFO] [LastChance] Not in hard mode - effect disabled
[00:10:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:10:23] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:10:23] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:10:23] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:10:23] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:10:24] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:10:24] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:10:24] [ENEMY] [Enemy1] Death animation component initialized
[00:10:24] [ENEMY] [Enemy2] Death animation component initialized
[00:10:24] [ENEMY] [Enemy3] Death animation component initialized
[00:10:24] [ENEMY] [Enemy4] Death animation component initialized
[00:10:24] [ENEMY] [Enemy5] Death animation component initialized
[00:10:24] [ENEMY] [Enemy6] Death animation component initialized
[00:10:24] [ENEMY] [Enemy7] Death animation component initialized
[00:10:24] [ENEMY] [Enemy8] Death animation component initialized
[00:10:24] [ENEMY] [Enemy9] Death animation component initialized
[00:10:24] [ENEMY] [Enemy10] Death animation component initialized
[00:10:24] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:10:24] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:10:24] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:10:24] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:10:24] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:10:24] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:10:24] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:10:24] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:10:24] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:10:24] [INFO] [ScoreManager] Level started with 10 enemies
[00:10:24] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:10:24] [ENEMY] [Enemy1] Registered as sound listener
[00:10:24] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:10:24] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:10:24] [ENEMY] [Enemy2] Registered as sound listener
[00:10:24] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:10:24] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:10:24] [ENEMY] [Enemy3] Registered as sound listener
[00:10:24] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:10:24] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:10:24] [ENEMY] [Enemy4] Registered as sound listener
[00:10:24] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:10:24] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:10:24] [ENEMY] [Enemy5] Registered as sound listener
[00:10:24] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:10:24] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:10:24] [ENEMY] [Enemy6] Registered as sound listener
[00:10:24] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:10:24] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:10:24] [ENEMY] [Enemy7] Registered as sound listener
[00:10:24] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:10:24] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:10:24] [ENEMY] [Enemy8] Registered as sound listener
[00:10:24] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:10:24] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:10:24] [ENEMY] [Enemy9] Registered as sound listener
[00:10:24] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:10:24] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:10:24] [ENEMY] [Enemy10] Registered as sound listener
[00:10:24] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:10:24] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:10:24] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:10:24] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:10:24] [INFO] [LastChance] Found player: Player
[00:10:24] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:10:24] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:10:24] [INFO] [LastChance] Connected to player Died signal (C#)
[00:10:24] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:10:24] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:10:24] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:10:24] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:10:24] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:10:24] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (889.1671, 1220.6123)
[00:10:24] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:10:24] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:10:24] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:10:24] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:10:24] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:10:24] [INFO] [Player.Grenade] Step 1 complete! Drag: (93.10034, 42.07788)
[00:10:24] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:10:24] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:10:24] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:10:24] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:10:25] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:10:25] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:10:25] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:10:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:10:25] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:10:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:10:26] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:10:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=19577081694491, bullet_pos=(41.69983, 702.3934)
[00:10:26] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:10:26] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:10:26] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:10:26] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:10:26] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (117.892624, 520.3093) (533,5 px/s), Swing distance: 471,9
[00:10:26] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,3479768
[00:10:26] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (117.8926, 520.3093), Swing: 471.9, Transfer: 1.00, Final speed: 251.5
[00:10:26] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:10:26] [INFO] [Player.Grenade] Thrown! Velocity: 533,5, Swing: 471,9
[00:10:26] [INFO] [Player.Grenade] State reset to IDLE
[00:10:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=19577081694491, bullet_pos=(500.4406, 361.2778)
[00:10:26] [INFO] [Bullet] Using shooter_position, distance=1182.96545410156
[00:10:26] [INFO] [Bullet] Distance to wall: 1182.96545410156 (80.550293051434% of viewport)
[00:10:26] [INFO] [Player.Grenade] Player rotation restored to 0
[00:10:26] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:10:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=19577081694491, bullet_pos=(195.9592, 62.68454)
[00:10:26] [INFO] [Bullet] Using shooter_position, distance=1589.88635253906
[00:10:26] [INFO] [Bullet] Distance to wall: 1589.88635253906 (108.258285287596% of viewport)
[00:10:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:10:27] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:10:27] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:10:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:10:27] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:10:27] [INFO] [LastChance] Threat detected: @Area2D@18982
[00:10:27] [INFO] [LastChance] Not in hard mode - effect disabled
[00:10:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:10:27] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:10:27] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:10:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=19577081694491, bullet_pos=(58.23063, 220.8251)
[00:10:27] [INFO] [Bullet] Using shooter_position, distance=1536.89001464844
[00:10:27] [INFO] [Bullet] Distance to wall: 1536.89001464844 (104.649667188951% of viewport)
[00:10:27] [INFO] [Bullet] Distance-based penetration chance: 29.0700665622099%
[00:10:27] [INFO] [Bullet] Penetration failed (distance roll)
[00:10:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:10:27] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:10:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:10:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:10:27] [INFO] [GrenadeBase] Grenade landed at (477.2903, 874.4438)
[00:10:27] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:10:27] [INFO] [GrenadeBase] EXPLODED at (477.2903, 874.4438)!
[00:10:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(477.2903, 874.4438), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:10:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:10:27] [INFO] [FragGrenade] Player found in blast radius at distance 108.4
[00:10:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:10:27] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:10:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:10:27] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:10:27] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:10:27] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:10:27] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:10:27] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:10:27] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:10:27] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:10:27] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:10:27] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:10:27] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:10:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:10:27] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:10:27] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:10:27] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:10:27] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:10:27] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:10:27] [INFO] [LastChance] Player died
[00:10:27] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 108.4
[00:10:27] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 17.9 degrees
[00:10:27] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 99.1 degrees
[00:10:27] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 177.0 degrees
[00:10:27] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 289.7 degrees
[00:10:27] [INFO] [LastChance] Threat detected: Bullet
[00:10:27] [INFO] [LastChance] Not in hard mode - effect disabled
[00:10:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:10:27] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:10:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:10:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:10:27] [INFO] [LastChance] Threat detected: Bullet
[00:10:27] [INFO] [LastChance] Not in hard mode - effect disabled
[00:10:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:10:27] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:10:27] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:10:27] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:10:27] [ENEMY] [Enemy1] Death animation component initialized
[00:10:27] [ENEMY] [Enemy2] Death animation component initialized
[00:10:27] [ENEMY] [Enemy3] Death animation component initialized
[00:10:27] [ENEMY] [Enemy4] Death animation component initialized
[00:10:27] [ENEMY] [Enemy5] Death animation component initialized
[00:10:27] [ENEMY] [Enemy6] Death animation component initialized
[00:10:27] [ENEMY] [Enemy7] Death animation component initialized
[00:10:27] [ENEMY] [Enemy8] Death animation component initialized
[00:10:27] [ENEMY] [Enemy9] Death animation component initialized
[00:10:27] [ENEMY] [Enemy10] Death animation component initialized
[00:10:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:10:27] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:10:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:10:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:10:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:10:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:10:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:10:27] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:10:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:10:27] [INFO] [ScoreManager] Level started with 10 enemies
[00:10:27] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:10:27] [ENEMY] [Enemy1] Registered as sound listener
[00:10:27] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:10:27] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:10:27] [ENEMY] [Enemy2] Registered as sound listener
[00:10:27] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:10:27] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:10:27] [ENEMY] [Enemy3] Registered as sound listener
[00:10:27] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:10:27] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:10:27] [ENEMY] [Enemy4] Registered as sound listener
[00:10:27] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:10:27] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:10:27] [ENEMY] [Enemy5] Registered as sound listener
[00:10:27] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:10:27] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:10:27] [ENEMY] [Enemy6] Registered as sound listener
[00:10:27] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:10:27] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:10:27] [ENEMY] [Enemy7] Registered as sound listener
[00:10:27] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:10:27] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:10:27] [ENEMY] [Enemy8] Registered as sound listener
[00:10:27] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:10:27] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:10:27] [ENEMY] [Enemy9] Registered as sound listener
[00:10:27] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:10:27] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:10:27] [ENEMY] [Enemy10] Registered as sound listener
[00:10:27] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:10:27] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:10:27] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:10:27] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:10:27] [INFO] [LastChance] Found player: Player
[00:10:27] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:10:27] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:10:27] [INFO] [LastChance] Connected to player Died signal (C#)
[00:10:27] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:10:27] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:10:27] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:10:27] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:10:27] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:10:27] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (841.4586, 1320.1299)
[00:10:27] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:10:27] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:10:27] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:10:27] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:10:27] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:10:27] [INFO] [Player.Grenade] Step 1 complete! Drag: (418.76038, -12.690186)
[00:10:27] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:10:27] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:10:28] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:10:28] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:10:28] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:10:28] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:10:28] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:10:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:10:29] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:10:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:10:29] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:10:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=19782619368808, bullet_pos=(41.69983, 702.3934)
[00:10:29] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:10:29] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:10:29] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:10:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=19782619368808, bullet_pos=(502.8049, 364.4809)
[00:10:29] [INFO] [Bullet] Using shooter_position, distance=1179.05969238281
[00:10:29] [INFO] [Bullet] Distance to wall: 1179.05969238281 (80.2843425539418% of viewport)
[00:10:29] [INFO] [Bullet] Distance-based penetration chance: 53.0016003537345%
[00:10:29] [INFO] [Bullet] Penetration failed (distance roll)
[00:10:29] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:10:29] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1689.3079, -704.34845) (1830,3 px/s), Swing distance: 615,0
[00:10:29] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,39502826
[00:10:29] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1689.308, -704.3484), Swing: 615.0, Transfer: 1.00, Final speed: 862.8
[00:10:29] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:10:29] [INFO] [Player.Grenade] Thrown! Velocity: 1830,3, Swing: 615,0
[00:10:29] [INFO] [Player.Grenade] State reset to IDLE
[00:10:29] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:10:29] [INFO] [FragGrenade] Wall impact detected! Body: Room1_WallBottom, triggering explosion
[00:10:29] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:10:29] [INFO] [GrenadeBase] EXPLODED at (520.1365, 707.5887)!
[00:10:29] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(520.1365, 707.5887), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:10:29] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:10:29] [ENEMY] [Enemy2] Hit taken, health: 1/2
[00:10:29] [ENEMY] [Enemy2] Hit taken, health: 0/2
[00:10:29] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:10:29] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:10:29] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[00:10:29] [INFO] [DeathAnim] Started - Angle: -127.3 deg, Index: 3
[00:10:29] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.606263, -0.795264)
[00:10:29] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 198.2
[00:10:29] [ENEMY] [Enemy3] Hit taken, health: 1/2
[00:10:29] [ENEMY] [Enemy3] Hit taken, health: 0/2
[00:10:29] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:10:29] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:10:29] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 8)
[00:10:29] [INFO] [DeathAnim] Started - Angle: 15.7 deg, Index: 13
[00:10:29] [ENEMY] [Enemy3] Death animation started with hit direction: (0.962717, 0.270511)
[00:10:29] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 170.7
[00:10:29] [INFO] [FragGrenade] Player found in blast radius at distance 75.6
[00:10:29] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:10:29] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:10:29] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:10:29] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:10:29] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:10:29] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:10:29] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:10:29] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:10:29] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:10:29] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:10:29] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:10:29] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:10:29] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:10:29] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:10:29] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:10:29] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:10:29] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:10:29] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:10:29] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:10:29] [INFO] [LastChance] Player died
[00:10:29] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 75.6
[00:10:29] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -0.8 degrees
[00:10:29] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 77.4 degrees
[00:10:29] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 189.5 degrees
[00:10:29] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 281.7 degrees
[00:10:30] [INFO] [Player.Grenade] Player rotation restored to 0
[00:10:30] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:10:30] [ENEMY] [Enemy4] Hit taken, health: 3/4
[00:10:30] [ENEMY] [Enemy2] Ragdoll activated
[00:10:30] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:10:30] [ENEMY] [Enemy3] Ragdoll activated
[00:10:30] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:10:30] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:10:30] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:10:30] [ENEMY] [Enemy1] Death animation component initialized
[00:10:30] [ENEMY] [Enemy2] Death animation component initialized
[00:10:30] [ENEMY] [Enemy3] Death animation component initialized
[00:10:30] [ENEMY] [Enemy4] Death animation component initialized
[00:10:30] [ENEMY] [Enemy5] Death animation component initialized
[00:10:30] [ENEMY] [Enemy6] Death animation component initialized
[00:10:30] [ENEMY] [Enemy7] Death animation component initialized
[00:10:30] [ENEMY] [Enemy8] Death animation component initialized
[00:10:30] [ENEMY] [Enemy9] Death animation component initialized
[00:10:30] [ENEMY] [Enemy10] Death animation component initialized
[00:10:30] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:10:30] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:10:30] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:10:30] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:10:30] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:10:30] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:10:30] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:10:30] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:10:30] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:10:30] [INFO] [ScoreManager] Level started with 10 enemies
[00:10:30] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[00:10:30] [ENEMY] [Enemy1] Registered as sound listener
[00:10:30] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:10:30] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[00:10:30] [ENEMY] [Enemy2] Registered as sound listener
[00:10:30] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:10:30] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[00:10:30] [ENEMY] [Enemy3] Registered as sound listener
[00:10:30] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:10:30] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[00:10:30] [ENEMY] [Enemy4] Registered as sound listener
[00:10:30] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:10:30] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[00:10:30] [ENEMY] [Enemy5] Registered as sound listener
[00:10:30] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:10:30] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[00:10:30] [ENEMY] [Enemy6] Registered as sound listener
[00:10:30] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:10:30] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[00:10:30] [ENEMY] [Enemy7] Registered as sound listener
[00:10:30] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:10:30] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[00:10:30] [ENEMY] [Enemy8] Registered as sound listener
[00:10:30] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:10:30] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[00:10:30] [ENEMY] [Enemy9] Registered as sound listener
[00:10:30] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:10:30] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[00:10:30] [ENEMY] [Enemy10] Registered as sound listener
[00:10:30] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:10:30] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:10:30] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:10:30] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:10:30] [INFO] [LastChance] Found player: Player
[00:10:30] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:10:30] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:10:30] [INFO] [LastChance] Connected to player Died signal (C#)
[00:10:30] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:10:30] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:10:30] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:10:30] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:10:30] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:10:30] [ENEMY] [Enemy1] Death animation component initialized
[00:10:30] [ENEMY] [Enemy2] Death animation component initialized
[00:10:30] [ENEMY] [Enemy3] Death animation component initialized
[00:10:30] [ENEMY] [Enemy4] Death animation component initialized
[00:10:30] [ENEMY] [Enemy5] Death animation component initialized
[00:10:30] [ENEMY] [Enemy6] Death animation component initialized
[00:10:30] [ENEMY] [Enemy7] Death animation component initialized
[00:10:30] [ENEMY] [Enemy8] Death animation component initialized
[00:10:30] [ENEMY] [Enemy9] Death animation component initialized
[00:10:30] [ENEMY] [Enemy10] Death animation component initialized
[00:10:30] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:10:30] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:10:30] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:10:30] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:10:30] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:10:30] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:10:30] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:10:30] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:10:30] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:10:30] [INFO] [ScoreManager] Level started with 10 enemies
[00:10:30] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 19)
[00:10:30] [ENEMY] [Enemy1] Registered as sound listener
[00:10:30] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:10:30] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 20)
[00:10:30] [ENEMY] [Enemy2] Registered as sound listener
[00:10:30] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:10:30] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 21)
[00:10:30] [ENEMY] [Enemy3] Registered as sound listener
[00:10:30] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:10:30] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 22)
[00:10:30] [ENEMY] [Enemy4] Registered as sound listener
[00:10:30] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:10:30] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 23)
[00:10:30] [ENEMY] [Enemy5] Registered as sound listener
[00:10:30] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:10:30] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 24)
[00:10:30] [ENEMY] [Enemy6] Registered as sound listener
[00:10:30] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:10:30] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 25)
[00:10:30] [ENEMY] [Enemy7] Registered as sound listener
[00:10:30] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:10:30] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 26)
[00:10:30] [ENEMY] [Enemy8] Registered as sound listener
[00:10:30] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:10:30] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 27)
[00:10:30] [ENEMY] [Enemy9] Registered as sound listener
[00:10:30] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:10:30] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 28)
[00:10:30] [ENEMY] [Enemy10] Registered as sound listener
[00:10:30] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:10:30] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:10:30] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:10:30] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:10:30] [INFO] [LastChance] Found player: Player
[00:10:30] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:10:30] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:10:30] [INFO] [LastChance] Connected to player Died signal (C#)
[00:10:30] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:10:30] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:10:30] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:10:31] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:10:31] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:10:31] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:10:31] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (931.0336, 1155.9509)
[00:10:31] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:10:31] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:10:31] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:10:31] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1105.6666)
[00:10:31] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:10:31] [INFO] [Player.Grenade] Step 1 complete! Drag: (345.1795, 72.5116)
[00:10:31] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:10:31] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:10:31] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:10:31] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:10:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=28
[00:10:31] [INFO] [SoundPropagation] Cleaned up 18 invalid listeners
[00:10:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:10:31] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:10:31] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:10:31] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:10:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=19978677915318, bullet_pos=(41.69983, 702.3934)
[00:10:32] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:10:32] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:10:32] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:10:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=19978677915318, bullet_pos=(314.4, 468.6512)
[00:10:32] [INFO] [Bullet] Using shooter_position, distance=1184.84436035156
[00:10:32] [INFO] [Bullet] Distance to wall: 1184.84436035156 (80.6782312330005% of viewport)
[00:10:32] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:10:32] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:10:32] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2920.8784, -654.5542) (2993,3 px/s), Swing distance: 563,7
[00:10:32] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,22045286
[00:10:32] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2920.878, -654.5542), Swing: 563.7, Transfer: 1.00, Final speed: 1186.5
[00:10:32] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:10:32] [INFO] [Player.Grenade] Thrown! Velocity: 2993,3, Swing: 563,7
[00:10:32] [INFO] [Player.Grenade] State reset to IDLE
[00:10:32] [INFO] [Player.Grenade] Player rotation restored to 0
[00:10:32] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:10:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:10:32] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:10:32] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:10:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:10:32] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:10:32] [INFO] [LastChance] Threat detected: Bullet
[00:10:32] [INFO] [LastChance] Not in hard mode - effect disabled
[00:10:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:10:32] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:10:32] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:10:32] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:10:32] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:10:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:10:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:10:32] [INFO] [LastChance] Threat detected: Bullet
[00:10:32] [INFO] [LastChance] Not in hard mode - effect disabled
[00:10:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:10:32] [INFO] [GrenadeBase] Collision detected with Room2_WallRight (type: StaticBody2D)
[00:10:32] [INFO] [FragGrenade] Wall impact detected! Body: Room2_WallRight, triggering explosion
[00:10:32] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:10:32] [INFO] [GrenadeBase] EXPLODED at (901.6577, 651.4357)!
[00:10:32] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(901.6577, 651.4357), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:10:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[00:10:32] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -8.6 degrees
[00:10:32] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 100.5 degrees
[00:10:32] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 168.7 degrees
[00:10:32] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 269.9 degrees
[00:10:33] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:10:33] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:10:33] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:10:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:10:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:10:33] [INFO] [LastChance] Threat detected: Bullet
[00:10:33] [INFO] [LastChance] Not in hard mode - effect disabled
[00:10:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:10:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(620.4955, 776.4962), shooter_id=19976681426823, bullet_pos=(498.6871, 804.5622)
[00:10:33] [INFO] [Bullet] Using shooter_position, distance=124.999931335449
[00:10:33] [INFO] [Bullet] Distance to wall: 124.999931335449 (8.5114751792364% of viewport)
[00:10:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:10:33] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:10:33] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[00:10:33] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[00:10:33] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[00:10:33] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[00:10:33] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[00:10:33] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:10:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(620.4955, 776.4962), shooter_id=19976681426823, bullet_pos=(34.18223, 775.4429)
[00:10:33] [INFO] [Bullet] Using shooter_position, distance=586.314147949219
[00:10:33] [INFO] [Bullet] Distance to wall: 586.314147949219 (39.9232084705127% of viewport)
[00:10:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:10:33] [INFO] [Bullet] Starting wall penetration at (34.18223, 775.4429)
[00:10:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38.2301483154297
[00:10:33] [INFO] [Bullet] Body exited signal received for penetrating body
[00:10:33] [INFO] [Bullet] Exiting penetration at (-6.155251, 772.9142) after traveling 35.4166679382324 pixels through wall
[00:10:33] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[00:10:33] [ENEMY] [Enemy10] FLANKING started: target=(410.2027, 1122.001), side=right, pos=(1022.668, 1432.257)
[00:10:33] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:10:34] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[00:10:34] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:10:34] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:10:34] [ENEMY] [Enemy1] Death animation component initialized
[00:10:34] [ENEMY] [Enemy2] Death animation component initialized
[00:10:34] [ENEMY] [Enemy3] Death animation component initialized
[00:10:34] [ENEMY] [Enemy4] Death animation component initialized
[00:10:34] [ENEMY] [Enemy5] Death animation component initialized
[00:10:34] [ENEMY] [Enemy6] Death animation component initialized
[00:10:34] [ENEMY] [Enemy7] Death animation component initialized
[00:10:34] [ENEMY] [Enemy8] Death animation component initialized
[00:10:34] [ENEMY] [Enemy9] Death animation component initialized
[00:10:34] [ENEMY] [Enemy10] Death animation component initialized
[00:10:34] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:10:34] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:10:34] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:10:34] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:10:34] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:10:34] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:10:34] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:10:34] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:10:34] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:10:34] [INFO] [ScoreManager] Level started with 10 enemies
[00:10:34] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:10:34] [ENEMY] [Enemy1] Registered as sound listener
[00:10:34] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:10:34] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:10:34] [ENEMY] [Enemy2] Registered as sound listener
[00:10:34] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:10:34] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:10:34] [ENEMY] [Enemy3] Registered as sound listener
[00:10:34] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:10:34] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:10:34] [ENEMY] [Enemy4] Registered as sound listener
[00:10:34] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:10:34] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:10:34] [ENEMY] [Enemy5] Registered as sound listener
[00:10:34] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:10:34] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:10:34] [ENEMY] [Enemy6] Registered as sound listener
[00:10:34] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:10:34] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:10:34] [ENEMY] [Enemy7] Registered as sound listener
[00:10:34] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:10:34] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:10:34] [ENEMY] [Enemy8] Registered as sound listener
[00:10:34] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:10:34] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:10:34] [ENEMY] [Enemy9] Registered as sound listener
[00:10:34] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:10:34] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:10:34] [ENEMY] [Enemy10] Registered as sound listener
[00:10:34] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:10:34] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:10:34] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:10:34] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:10:34] [INFO] [LastChance] Found player: Player
[00:10:34] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:10:34] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:10:34] [INFO] [LastChance] Connected to player Died signal (C#)
[00:10:34] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:10:34] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:10:34] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:10:34] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:10:34] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:10:34] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:10:35] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1068.6489, 1120.5197)
[00:10:35] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:10:35] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:10:35] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:10:35] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1094.6666)
[00:10:35] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:10:35] [INFO] [Player.Grenade] Step 1 complete! Drag: (209.2915, -5.4124756)
[00:10:35] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:10:35] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:10:35] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:10:35] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:10:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:10:35] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:10:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:10:35] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:10:35] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:10:35] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:10:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=20214615902603, bullet_pos=(41.69983, 702.3934)
[00:10:35] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:10:35] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:10:35] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:10:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=20214615902603, bullet_pos=(507.2437, 370.6227)
[00:10:36] [INFO] [Bullet] Using shooter_position, distance=1171.61218261719
[00:10:36] [INFO] [Bullet] Distance to wall: 1171.61218261719 (79.7772279192375% of viewport)
[00:10:36] [INFO] [Bullet] Distance-based penetration chance: 53.5932340942229%
[00:10:36] [INFO] [Bullet] Penetration failed (distance roll)
[00:10:36] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:10:36] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.03927393, 248.1462) (248,1 px/s), Swing distance: 363,0
[00:10:36] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,5706381
[00:10:36] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.039274, 248.1462), Swing: 363.0, Transfer: 1.00, Final speed: 117.0
[00:10:36] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:10:36] [INFO] [Player.Grenade] Thrown! Velocity: 248,1, Swing: 363,0
[00:10:36] [INFO] [Player.Grenade] State reset to IDLE
[00:10:36] [INFO] [Player.Grenade] Player rotation restored to 0
[00:10:36] [INFO] [GrenadeBase] Grenade landed at (450.0118, 813.1481)
[00:10:36] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:10:36] [INFO] [GrenadeBase] EXPLODED at (450.0118, 813.1481)!
[00:10:36] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450.0118, 813.1481), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:10:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:10:36] [INFO] [FragGrenade] Player found in blast radius at distance 78.1
[00:10:36] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:10:36] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:10:36] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:10:36] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:10:36] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:10:36] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:10:36] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:10:36] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:10:36] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:10:36] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:10:36] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:10:36] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:10:36] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:10:36] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:10:36] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:10:36] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:10:36] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:10:36] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:10:36] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:10:36] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:10:36] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:10:36] [INFO] [LastChance] Player died
[00:10:36] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 78.1
[00:10:36] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 2.2 degrees
[00:10:36] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 96.9 degrees
[00:10:36] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 178.7 degrees
[00:10:36] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 287.7 degrees
[00:10:36] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:10:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:10:36] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:10:36] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:10:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:10:36] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:10:36] [INFO] [LastChance] Threat detected: Bullet
[00:10:36] [INFO] [LastChance] Not in hard mode - effect disabled
[00:10:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:10:36] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:10:36] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:10:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:10:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:10:36] [INFO] [LastChance] Threat detected: Bullet
[00:10:36] [INFO] [LastChance] Not in hard mode - effect disabled
[00:10:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:10:36] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:10:36] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[00:10:36] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[00:10:36] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:10:36] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[00:10:36] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[00:10:36] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:10:36] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:10:36] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:10:36] [ENEMY] [Enemy1] Death animation component initialized
[00:10:36] [ENEMY] [Enemy2] Death animation component initialized
[00:10:36] [ENEMY] [Enemy3] Death animation component initialized
[00:10:36] [ENEMY] [Enemy4] Death animation component initialized
[00:10:36] [ENEMY] [Enemy5] Death animation component initialized
[00:10:36] [ENEMY] [Enemy6] Death animation component initialized
[00:10:36] [ENEMY] [Enemy7] Death animation component initialized
[00:10:36] [ENEMY] [Enemy8] Death animation component initialized
[00:10:36] [ENEMY] [Enemy9] Death animation component initialized
[00:10:36] [ENEMY] [Enemy10] Death animation component initialized
[00:10:36] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:10:36] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:10:36] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:10:36] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:10:36] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:10:36] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:10:36] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:10:36] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:10:36] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:10:36] [INFO] [ScoreManager] Level started with 10 enemies
[00:10:36] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:10:36] [ENEMY] [Enemy1] Registered as sound listener
[00:10:36] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:10:36] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:10:36] [ENEMY] [Enemy2] Registered as sound listener
[00:10:36] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:10:36] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:10:36] [ENEMY] [Enemy3] Registered as sound listener
[00:10:36] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:10:36] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:10:36] [ENEMY] [Enemy4] Registered as sound listener
[00:10:36] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:10:36] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:10:36] [ENEMY] [Enemy5] Registered as sound listener
[00:10:36] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:10:36] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:10:36] [ENEMY] [Enemy6] Registered as sound listener
[00:10:36] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:10:36] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:10:36] [ENEMY] [Enemy7] Registered as sound listener
[00:10:36] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:10:36] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:10:36] [ENEMY] [Enemy8] Registered as sound listener
[00:10:36] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:10:36] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:10:36] [ENEMY] [Enemy9] Registered as sound listener
[00:10:36] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:10:36] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:10:36] [ENEMY] [Enemy10] Registered as sound listener
[00:10:36] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:10:36] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:10:36] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:10:36] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:10:36] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:10:36] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:10:36] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:10:36] [INFO] [LastChance] Found player: Player
[00:10:36] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:10:36] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:10:36] [INFO] [LastChance] Connected to player Died signal (C#)
[00:10:37] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:10:37] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:10:37] [ENEMY] [Enemy1] Death animation component initialized
[00:10:37] [ENEMY] [Enemy2] Death animation component initialized
[00:10:37] [ENEMY] [Enemy3] Death animation component initialized
[00:10:37] [ENEMY] [Enemy4] Death animation component initialized
[00:10:37] [ENEMY] [Enemy5] Death animation component initialized
[00:10:37] [ENEMY] [Enemy6] Death animation component initialized
[00:10:37] [ENEMY] [Enemy7] Death animation component initialized
[00:10:37] [ENEMY] [Enemy8] Death animation component initialized
[00:10:37] [ENEMY] [Enemy9] Death animation component initialized
[00:10:37] [ENEMY] [Enemy10] Death animation component initialized
[00:10:37] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:10:37] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:10:37] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:10:37] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:10:37] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:10:37] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:10:37] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:10:37] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:10:37] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:10:37] [INFO] [ScoreManager] Level started with 10 enemies
[00:10:37] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[00:10:37] [ENEMY] [Enemy1] Registered as sound listener
[00:10:37] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:10:37] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[00:10:37] [ENEMY] [Enemy2] Registered as sound listener
[00:10:37] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:10:37] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[00:10:37] [ENEMY] [Enemy3] Registered as sound listener
[00:10:37] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:10:37] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[00:10:37] [ENEMY] [Enemy4] Registered as sound listener
[00:10:37] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:10:37] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[00:10:37] [ENEMY] [Enemy5] Registered as sound listener
[00:10:37] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:10:37] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[00:10:37] [ENEMY] [Enemy6] Registered as sound listener
[00:10:37] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:10:37] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[00:10:37] [ENEMY] [Enemy7] Registered as sound listener
[00:10:37] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:10:37] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[00:10:37] [ENEMY] [Enemy8] Registered as sound listener
[00:10:37] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:10:37] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[00:10:37] [ENEMY] [Enemy9] Registered as sound listener
[00:10:37] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:10:37] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[00:10:37] [ENEMY] [Enemy10] Registered as sound listener
[00:10:37] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:10:37] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:10:37] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:10:37] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:10:37] [INFO] [LastChance] Found player: Player
[00:10:37] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:10:37] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:10:37] [INFO] [LastChance] Connected to player Died signal (C#)
[00:10:37] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:10:37] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:10:37] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:10:37] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:10:37] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:10:38] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (523.20605, 1223.2839)
[00:10:38] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:10:38] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:10:38] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:10:38] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:10:38] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:10:38] [INFO] [Player.Grenade] Step 1 complete! Drag: (755.572, 2.6715088)
[00:10:38] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:10:38] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:10:38] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:10:38] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:10:38] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:10:38] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:10:43] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:10:43] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:10:43] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:10:43] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:10:43] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (225.46843, 476.51163) (527,2 px/s), Swing distance: 981,6
[00:10:43] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,1288465
[00:10:43] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (225.4684, 476.5116), Swing: 981.6, Transfer: 1.00, Final speed: 248.5
[00:10:43] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:10:43] [INFO] [Player.Grenade] Thrown! Velocity: 527,2, Swing: 981,6
[00:10:43] [INFO] [Player.Grenade] State reset to IDLE
[00:10:44] [INFO] [Player.Grenade] Player rotation restored to 0
[00:10:44] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:10:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(605.0576, 761.9092), source=ENEMY (Enemy3), range=1469, listeners=30
[00:10:44] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[00:10:44] [ENEMY] [Enemy2] Heard gunshot at (605.0576, 761.9092), source_type=1, intensity=0.03, distance=295
[00:10:44] [ENEMY] [Enemy4] Heard gunshot at (605.0576, 761.9092), source_type=1, intensity=0.04, distance=239
[00:10:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:10:44] [INFO] [LastChance] Threat detected: Bullet
[00:10:44] [INFO] [LastChance] Not in hard mode - effect disabled
[00:10:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:10:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:10:44] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:10:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(605.0576, 761.9092), source=ENEMY (Enemy3), range=1469, listeners=10
[00:10:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:10:44] [INFO] [LastChance] Threat detected: Bullet
[00:10:44] [INFO] [LastChance] Not in hard mode - effect disabled
[00:10:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:10:44] [INFO] [GrenadeBase] Grenade landed at (414.039, 878.5759)
[00:10:44] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:10:44] [INFO] [GrenadeBase] EXPLODED at (414.039, 878.5759)!
[00:10:44] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(414.039, 878.5759), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:10:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:10:44] [INFO] [FragGrenade] Player found in blast radius at distance 92.5
[00:10:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:10:44] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:10:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:10:44] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:10:44] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:10:44] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:10:44] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:10:44] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:10:44] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:10:44] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:10:44] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:10:44] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:10:44] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:10:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:10:44] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:10:44] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:10:44] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:10:44] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:10:44] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:10:44] [INFO] [LastChance] Player died
[00:10:44] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 92.5
[00:10:44] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -5.2 degrees
[00:10:44] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 72.7 degrees
[00:10:44] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 197.9 degrees
[00:10:44] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 257.7 degrees
[00:10:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(605.0576, 761.9092), source=ENEMY (Enemy3), range=1469, listeners=10
[00:10:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:10:44] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:10:44] [INFO] [LastChance] Threat detected: Bullet
[00:10:44] [INFO] [LastChance] Not in hard mode - effect disabled
[00:10:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:10:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(605.0576, 761.9092), source=ENEMY (Enemy3), range=1469, listeners=10
[00:10:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:10:44] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:10:44] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:10:44] [ENEMY] [Enemy1] Death animation component initialized
[00:10:44] [ENEMY] [Enemy2] Death animation component initialized
[00:10:44] [ENEMY] [Enemy3] Death animation component initialized
[00:10:44] [ENEMY] [Enemy4] Death animation component initialized
[00:10:44] [ENEMY] [Enemy5] Death animation component initialized
[00:10:44] [ENEMY] [Enemy6] Death animation component initialized
[00:10:44] [ENEMY] [Enemy7] Death animation component initialized
[00:10:44] [ENEMY] [Enemy8] Death animation component initialized
[00:10:44] [ENEMY] [Enemy9] Death animation component initialized
[00:10:44] [ENEMY] [Enemy10] Death animation component initialized
[00:10:44] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:10:44] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:10:44] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:10:44] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:10:44] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:10:44] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:10:44] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:10:44] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:10:44] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:10:44] [INFO] [ScoreManager] Level started with 10 enemies
[00:10:44] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:10:44] [ENEMY] [Enemy1] Registered as sound listener
[00:10:44] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:10:44] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:10:44] [ENEMY] [Enemy2] Registered as sound listener
[00:10:44] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:10:44] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:10:44] [ENEMY] [Enemy3] Registered as sound listener
[00:10:44] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:10:44] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:10:44] [ENEMY] [Enemy4] Registered as sound listener
[00:10:44] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:10:44] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:10:44] [ENEMY] [Enemy5] Registered as sound listener
[00:10:44] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:10:44] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:10:44] [ENEMY] [Enemy6] Registered as sound listener
[00:10:44] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:10:44] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:10:44] [ENEMY] [Enemy7] Registered as sound listener
[00:10:44] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:10:44] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:10:44] [ENEMY] [Enemy8] Registered as sound listener
[00:10:44] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:10:44] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:10:44] [ENEMY] [Enemy9] Registered as sound listener
[00:10:44] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:10:44] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:10:44] [ENEMY] [Enemy10] Registered as sound listener
[00:10:44] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:10:44] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:10:44] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:10:44] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:10:44] [INFO] [LastChance] Found player: Player
[00:10:44] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:10:44] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:10:44] [INFO] [LastChance] Connected to player Died signal (C#)
[00:10:44] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:10:44] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:10:44] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:10:45] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:10:45] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:10:45] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1101.7878, 1347.5139)
[00:10:45] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:10:45] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:10:45] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:10:45] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:10:45] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:10:45] [INFO] [Player.Grenade] Step 1 complete! Drag: (170.61633, 15.361816)
[00:10:45] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:10:45] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:10:45] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:10:45] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:10:45] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:10:45] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:10:45] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:10:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:10:46] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:10:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:10:46] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:10:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=20828745893214, bullet_pos=(41.69983, 702.3934)
[00:10:46] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:10:46] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:10:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=20828745893214, bullet_pos=(517.6907, 385.7933)
[00:10:47] [INFO] [Bullet] Using shooter_position, distance=1153.44226074219
[00:10:47] [INFO] [Bullet] Distance to wall: 1153.44226074219 (78.5400045272286% of viewport)
[00:10:47] [INFO] [Bullet] Distance-based penetration chance: 55.0366613848999%
[00:10:47] [INFO] [Bullet] Starting wall penetration at (517.6907, 385.7933)
[00:10:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32.8392066955566
[00:10:47] [INFO] [Bullet] Body exited signal received for penetrating body
[00:10:47] [INFO] [Bullet] Exiting penetration at (551.3431, 363.4097) after traveling 35.4166679382324 pixels through wall
[00:10:47] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[00:10:47] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:10:48] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:10:48] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1611.1989, -261.94223) (1632,4 px/s), Swing distance: 633,4
[00:10:48] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,16116594
[00:10:48] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1611.199, -261.9422), Swing: 633.4, Transfer: 1.00, Final speed: 769.5
[00:10:48] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:10:48] [INFO] [Player.Grenade] Thrown! Velocity: 1632,4, Swing: 633,4
[00:10:48] [INFO] [Player.Grenade] State reset to IDLE
[00:10:48] [ENEMY] [Enemy10] FLANKING started: target=(681.7584, 722.8504), side=left, pos=(1026.766, 1435.67)
[00:10:48] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:10:48] [INFO] [Player.Grenade] Player rotation restored to 0
[00:10:48] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:10:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:10:48] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[00:10:48] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[00:10:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:10:48] [INFO] [LastChance] Threat detected: Bullet
[00:10:48] [INFO] [LastChance] Not in hard mode - effect disabled
[00:10:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:10:48] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:10:48] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:10:48] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:10:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:10:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:10:48] [INFO] [LastChance] Threat detected: Bullet
[00:10:48] [INFO] [LastChance] Not in hard mode - effect disabled
[00:10:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:10:48] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:10:48] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:10:48] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:10:49] [INFO] [GrenadeBase] Collision detected with Room2_WallRight (type: StaticBody2D)
[00:10:49] [INFO] [FragGrenade] Wall impact detected! Body: Room2_WallRight, triggering explosion
[00:10:49] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:10:49] [INFO] [GrenadeBase] EXPLODED at (903.8369, 683.8652)!
[00:10:49] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(903.8369, 683.8652), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:10:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[00:10:49] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:10:49] [ENEMY] [Enemy3] Hit taken, health: 1/3
[00:10:49] [ENEMY] [Enemy3] Hit taken, health: 0/3
[00:10:49] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:10:49] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:10:49] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:10:49] [INFO] [DeathAnim] Started - Angle: 162.0 deg, Index: 22
[00:10:49] [ENEMY] [Enemy3] Death animation started with hit direction: (-0.951188, 0.308612)
[00:10:49] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 214.3
[00:10:49] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 10.0 degrees
[00:10:49] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 100.4 degrees
[00:10:49] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 191.9 degrees
[00:10:49] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 284.6 degrees
[00:10:49] [ENEMY] [Enemy4] Hit taken, health: 2/3
[00:10:49] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[00:10:49] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[00:10:49] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:10:49] [ENEMY] [Enemy3] Ragdoll activated
[00:10:49] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:10:50] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:10:50] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:10:50] [ENEMY] [Enemy1] Death animation component initialized
[00:10:50] [ENEMY] [Enemy2] Death animation component initialized
[00:10:50] [ENEMY] [Enemy3] Death animation component initialized
[00:10:50] [ENEMY] [Enemy4] Death animation component initialized
[00:10:50] [ENEMY] [Enemy5] Death animation component initialized
[00:10:50] [ENEMY] [Enemy6] Death animation component initialized
[00:10:50] [ENEMY] [Enemy7] Death animation component initialized
[00:10:50] [ENEMY] [Enemy8] Death animation component initialized
[00:10:50] [ENEMY] [Enemy9] Death animation component initialized
[00:10:50] [ENEMY] [Enemy10] Death animation component initialized
[00:10:50] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:10:50] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:10:50] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:10:50] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:10:50] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:10:50] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:10:50] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:10:50] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:10:50] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:10:50] [INFO] [ScoreManager] Level started with 10 enemies
[00:10:50] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:10:50] [ENEMY] [Enemy1] Registered as sound listener
[00:10:50] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:10:50] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:10:50] [ENEMY] [Enemy2] Registered as sound listener
[00:10:50] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:10:50] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:10:50] [ENEMY] [Enemy3] Registered as sound listener
[00:10:50] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:10:50] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:10:50] [ENEMY] [Enemy4] Registered as sound listener
[00:10:50] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:10:50] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:10:50] [ENEMY] [Enemy5] Registered as sound listener
[00:10:50] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:10:50] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:10:50] [ENEMY] [Enemy6] Registered as sound listener
[00:10:50] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:10:50] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:10:50] [ENEMY] [Enemy7] Registered as sound listener
[00:10:50] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:10:50] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:10:50] [ENEMY] [Enemy8] Registered as sound listener
[00:10:50] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:10:50] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:10:50] [ENEMY] [Enemy9] Registered as sound listener
[00:10:50] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:10:50] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:10:50] [ENEMY] [Enemy10] Registered as sound listener
[00:10:50] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:10:50] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:10:50] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:10:50] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:10:50] [INFO] [LastChance] Found player: Player
[00:10:50] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:10:50] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:10:50] [INFO] [LastChance] Connected to player Died signal (C#)
[00:10:50] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:10:50] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:10:50] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:10:50] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:10:50] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:10:50] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (734.12726, 1079.6846)
[00:10:50] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:10:50] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:10:50] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:10:50] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:10:50] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:10:50] [INFO] [Player.Grenade] Step 1 complete! Drag: (537.58636, 29.387817)
[00:10:50] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:10:50] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:10:50] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:10:50] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:10:50] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:10:50] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:10:51] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:10:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.402, 1465.453), source=ENEMY (Enemy10), range=1469, listeners=19
[00:10:51] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:10:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:10:51] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:10:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.784, 1430.795), shooter_id=21140483346443, bullet_pos=(42.94823, 700.7146)
[00:10:52] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[00:10:52] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[00:10:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.784, 1430.795), shooter_id=21140483346443, bullet_pos=(314.1144, 465.1947)
[00:10:52] [INFO] [Bullet] Using shooter_position, distance=1187.76696777344
[00:10:52] [INFO] [Bullet] Distance to wall: 1187.76696777344 (80.8772369465571% of viewport)
[00:10:52] [ENEMY] [Enemy2] Hit taken, health: 1/2
[00:10:53] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:10:53] [ENEMY] [Enemy10] FLANKING started: target=(680.5937, 761.7047), side=left, pos=(1030.999, 1438.915)
[00:10:53] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:10:53] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:10:53] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1684.8818, 351.60803) (1721,2 px/s), Swing distance: 601,1
[00:10:53] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,20573154
[00:10:53] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1684.882, 351.608), Swing: 601.1, Transfer: 1.00, Final speed: 811.4
[00:10:53] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:10:53] [INFO] [Player.Grenade] Thrown! Velocity: 1721,2, Swing: 601,1
[00:10:53] [INFO] [Player.Grenade] State reset to IDLE
[00:10:53] [INFO] [Player.Grenade] Player rotation restored to 0
[00:10:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:10:53] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[00:10:53] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[00:10:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:10:53] [INFO] [LastChance] Threat detected: Bullet
[00:10:53] [INFO] [LastChance] Not in hard mode - effect disabled
[00:10:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:10:53] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:10:53] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:10:53] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:10:53] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:10:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:10:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:10:54] [INFO] [GrenadeBase] Collision detected with Table1 (type: StaticBody2D)
[00:10:54] [INFO] [FragGrenade] Wall impact detected! Body: Table1, triggering explosion
[00:10:54] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:10:54] [INFO] [GrenadeBase] EXPLODED at (739.3057, 801.8226)!
[00:10:54] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(739.3057, 801.8226), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:10:54] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:10:54] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:10:54] [ENEMY] [Enemy3] Hit taken, health: 1/3
[00:10:54] [ENEMY] [Enemy3] Hit taken, health: 0/3
[00:10:54] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:10:54] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:10:54] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:10:54] [INFO] [DeathAnim] Started - Angle: -127.2 deg, Index: 3
[00:10:54] [ENEMY] [Enemy3] Death animation started with hit direction: (-0.604308, -0.79675)
[00:10:54] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 65.0
[00:10:54] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 7.8 degrees
[00:10:54] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 90.9 degrees
[00:10:54] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 172.5 degrees
[00:10:54] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 257.4 degrees
[00:10:54] [INFO] [LastChance] Threat detected: Bullet
[00:10:54] [INFO] [LastChance] Not in hard mode - effect disabled
[00:10:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:10:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(635.7773, 771.9331), shooter_id=21138486857398, bullet_pos=(513.6271, 798.472)
[00:10:54] [INFO] [Bullet] Using shooter_position, distance=124.999954223633
[00:10:54] [INFO] [Bullet] Distance to wall: 124.999954223633 (8.51147673773491% of viewport)
[00:10:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:10:54] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:10:54] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:10:54] [ENEMY] [Enemy4] Hit taken, health: 2/3
[00:10:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(635.7773, 771.9331), shooter_id=21138486857398, bullet_pos=(240.519, 706.0157)
[00:10:54] [INFO] [Bullet] Using shooter_position, distance=400.717071533203
[00:10:54] [INFO] [Bullet] Distance to wall: 400.717071533203 (27.2855622544162% of viewport)
[00:10:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:10:54] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:10:54] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[00:10:54] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[00:10:54] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:10:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(635.7773, 771.9331), shooter_id=21138486857398, bullet_pos=(58.64357, 743.1365)
[00:10:54] [INFO] [Bullet] Using shooter_position, distance=577.851684570313
[00:10:54] [INFO] [Bullet] Distance to wall: 577.851684570313 (39.346983777945% of viewport)
[00:10:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:10:54] [ENEMY] [Enemy3] Ragdoll activated
[00:10:54] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:10:54] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:10:54] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:10:54] [ENEMY] [Enemy1] Death animation component initialized
[00:10:54] [ENEMY] [Enemy2] Death animation component initialized
[00:10:54] [ENEMY] [Enemy3] Death animation component initialized
[00:10:54] [ENEMY] [Enemy4] Death animation component initialized
[00:10:54] [ENEMY] [Enemy5] Death animation component initialized
[00:10:54] [ENEMY] [Enemy6] Death animation component initialized
[00:10:54] [ENEMY] [Enemy7] Death animation component initialized
[00:10:54] [ENEMY] [Enemy8] Death animation component initialized
[00:10:54] [ENEMY] [Enemy9] Death animation component initialized
[00:10:54] [ENEMY] [Enemy10] Death animation component initialized
[00:10:54] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:10:54] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:10:54] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:10:54] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:10:54] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:10:54] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:10:54] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:10:54] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:10:54] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:10:54] [INFO] [ScoreManager] Level started with 10 enemies
[00:10:54] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:10:54] [ENEMY] [Enemy1] Registered as sound listener
[00:10:54] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:10:54] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:10:54] [ENEMY] [Enemy2] Registered as sound listener
[00:10:54] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:10:54] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:10:54] [ENEMY] [Enemy3] Registered as sound listener
[00:10:54] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:10:54] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:10:54] [ENEMY] [Enemy4] Registered as sound listener
[00:10:54] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:10:54] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:10:54] [ENEMY] [Enemy5] Registered as sound listener
[00:10:54] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:10:54] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:10:54] [ENEMY] [Enemy6] Registered as sound listener
[00:10:54] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:10:54] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:10:54] [ENEMY] [Enemy7] Registered as sound listener
[00:10:54] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:10:54] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:10:54] [ENEMY] [Enemy8] Registered as sound listener
[00:10:54] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:10:54] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:10:54] [ENEMY] [Enemy9] Registered as sound listener
[00:10:54] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:10:54] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:10:54] [ENEMY] [Enemy10] Registered as sound listener
[00:10:54] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:10:54] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:10:54] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:10:54] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:10:54] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:10:54] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:10:54] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:10:54] [INFO] [LastChance] Found player: Player
[00:10:54] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:10:54] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:10:54] [INFO] [LastChance] Connected to player Died signal (C#)
[00:10:55] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:10:55] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:10:55] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1111.0612, 1107.7366)
[00:10:55] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:10:55] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:10:55] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:10:55] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:10:55] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:10:55] [INFO] [Player.Grenade] Step 1 complete! Drag: (157.20288, 36.73462)
[00:10:55] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:10:55] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:10:55] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:10:55] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:10:55] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:10:55] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:10:56] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:10:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:10:56] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:10:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:10:56] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:10:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=21428917243529, bullet_pos=(41.69983, 702.3934)
[00:10:57] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:10:57] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:10:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=21428917243529, bullet_pos=(263.2699, 466.3409)
[00:10:57] [INFO] [Bullet] Using shooter_position, distance=1217.21691894531
[00:10:57] [INFO] [Bullet] Distance to wall: 1217.21691894531 (82.8825382755351% of viewport)
[00:10:57] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:10:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=21428917243529, bullet_pos=(432.2325, 684.4993)
[00:10:57] [INFO] [Bullet] Using shooter_position, distance=941.281127929688
[00:10:57] [INFO] [Bullet] Distance to wall: 941.281127929688 (64.093562864103% of viewport)
[00:10:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=21428917243529, bullet_pos=(523.6506, 587.9773)
[00:10:57] [INFO] [Bullet] Using shooter_position, distance=971.039184570313
[00:10:57] [INFO] [Bullet] Distance to wall: 971.039184570313 (66.1198436610043% of viewport)
[00:10:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=21428917243529, bullet_pos=(682.8, 827.714)
[00:10:57] [INFO] [Bullet] Using shooter_position, distance=684.18994140625
[00:10:57] [INFO] [Bullet] Distance to wall: 684.18994140625 (46.5877512247161% of viewport)
[00:10:57] [INFO] [Bullet] Distance-based penetration chance: 92.3142902378312%
[00:10:57] [INFO] [Bullet] Starting wall penetration at (682.8, 827.714)
[00:10:57] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:10:57] [INFO] [Bullet] Exiting penetration at (697.595, 850.0005) after traveling 21.7502632141113 pixels through wall
[00:10:57] [INFO] [Bullet] Damage multiplier after penetration: 0.05625
[00:10:57] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:10:57] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[00:10:57] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[00:10:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:10:58] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[00:10:58] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[00:10:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:10:58] [INFO] [LastChance] Threat detected: Bullet
[00:10:58] [INFO] [LastChance] Not in hard mode - effect disabled
[00:10:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:10:58] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:10:58] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:10:58] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:10:58] [ENEMY] [Enemy10] FLANKING started: target=(680.9782, 752.8021), side=left, pos=(1022.668, 1432.257)
[00:10:58] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:10:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(635.3176, 772.0637), shooter_id=21426920752396, bullet_pos=(519.4766, 819.0304)
[00:10:58] [INFO] [Bullet] Using shooter_position, distance=124.999992370605
[00:10:58] [INFO] [Bullet] Distance to wall: 124.999992370605 (8.51147933523242% of viewport)
[00:10:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:10:58] [INFO] [Bullet] Starting wall penetration at (519.4766, 819.0304)
[00:10:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:10:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:10:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25.6501407623291
[00:10:58] [INFO] [LastChance] Threat detected: @Area2D@21398
[00:10:58] [INFO] [LastChance] Not in hard mode - effect disabled
[00:10:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:10:58] [INFO] [Bullet] Body exited signal received for penetrating body
[00:10:58] [INFO] [Bullet] Exiting penetration at (476.2293, 836.5646) after traveling 41.6666641235352 pixels through wall
[00:10:58] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:10:58] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[00:10:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:10:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:10:58] [INFO] [LastChance] Threat detected: Bullet
[00:10:58] [INFO] [LastChance] Not in hard mode - effect disabled
[00:10:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:10:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(670.218, 772.512), source=ENEMY (Enemy3), range=1469, listeners=10
[00:10:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:10:58] [INFO] [LastChance] Threat detected: @Area2D@21399
[00:10:58] [INFO] [LastChance] Not in hard mode - effect disabled
[00:10:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:10:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(633.8722, 767.9919), shooter_id=21426920752396, bullet_pos=(57.55024, 858.163)
[00:10:58] [INFO] [Bullet] Using shooter_position, distance=583.333374023438
[00:10:58] [INFO] [Bullet] Distance to wall: 583.333374023438 (39.7202420927463% of viewport)
[00:10:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:10:58] [INFO] [Bullet] Starting wall penetration at (57.55024, 858.163)
[00:10:58] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:10:58] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (50.103756, -141.72617) (150,3 px/s), Swing distance: 540,0
[00:10:58] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,2309846
[00:10:58] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (50.10376, -141.7262), Swing: 540.0, Transfer: 1.00, Final speed: 70.9
[00:10:58] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:10:58] [INFO] [Player.Grenade] Thrown! Velocity: 150,3, Swing: 540,0
[00:10:58] [INFO] [Player.Grenade] State reset to IDLE
[00:10:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20.8055896759033
[00:10:58] [INFO] [Bullet] Body exited signal received for penetrating body
[00:10:58] [INFO] [Bullet] Exiting penetration at (11.44449, 865.3767) after traveling 41.6666679382324 pixels through wall
[00:10:58] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:10:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(640.4359, 795.0241), source=ENEMY (Enemy3), range=1469, listeners=10
[00:10:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:10:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(634.2856, 765.14), shooter_id=21426920752396, bullet_pos=(54.53413, 829.6849)
[00:10:58] [INFO] [Bullet] Using shooter_position, distance=583.333435058594
[00:10:58] [INFO] [Bullet] Distance to wall: 583.333435058594 (39.7202462487424% of viewport)
[00:10:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:10:58] [INFO] [Bullet] Starting wall penetration at (54.53413, 829.6849)
[00:10:58] [INFO] [LastChance] Threat detected: @Area2D@21401
[00:10:58] [INFO] [LastChance] Not in hard mode - effect disabled
[00:10:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:10:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23.9933128356934
[00:10:58] [INFO] [Bullet] Body exited signal received for penetrating body
[00:10:58] [INFO] [Bullet] Exiting penetration at (8.154018, 834.8485) after traveling 41.6666679382324 pixels through wall
[00:10:58] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:10:58] [INFO] [GrenadeBase] Grenade landed at (504.9192, 669.0378)
[00:10:58] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:10:58] [INFO] [GrenadeBase] EXPLODED at (504.9192, 669.0378)!
[00:10:58] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(504.9192, 669.0378), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:10:58] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:10:58] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:10:58] [ENEMY] [Enemy2] Hit taken, health: 2/4
[00:10:58] [ENEMY] [Enemy2] Hit taken, health: 1/4
[00:10:58] [ENEMY] [Enemy2] Hit taken, health: 0/4
[00:10:58] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:10:58] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:10:58] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[00:10:58] [INFO] [DeathAnim] Started - Angle: -131.4 deg, Index: 3
[00:10:58] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.661217, -0.750195)
[00:10:58] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 158.7
[00:10:58] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:10:58] [ENEMY] [Enemy3] Hit taken, health: 1/3
[00:10:58] [ENEMY] [Enemy3] Hit taken, health: 0/3
[00:10:58] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:10:58] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:10:58] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 8)
[00:10:58] [INFO] [DeathAnim] Started - Angle: 47.8 deg, Index: 15
[00:10:58] [ENEMY] [Enemy3] Death animation started with hit direction: (0.672049, 0.740507)
[00:10:58] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 184.9
[00:10:58] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -9.0 degrees
[00:10:58] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 83.3 degrees
[00:10:58] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 174.7 degrees
[00:10:58] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 252.0 degrees
[00:10:58] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:10:58] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:10:58] [INFO] [Player.Grenade] Player rotation restored to 0
[00:10:58] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:10:58] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:10:59] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:10:59] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:10:59] [ENEMY] [Enemy1] Death animation component initialized
[00:10:59] [ENEMY] [Enemy2] Death animation component initialized
[00:10:59] [ENEMY] [Enemy3] Death animation component initialized
[00:10:59] [ENEMY] [Enemy4] Death animation component initialized
[00:10:59] [ENEMY] [Enemy5] Death animation component initialized
[00:10:59] [ENEMY] [Enemy6] Death animation component initialized
[00:10:59] [ENEMY] [Enemy7] Death animation component initialized
[00:10:59] [ENEMY] [Enemy8] Death animation component initialized
[00:10:59] [ENEMY] [Enemy9] Death animation component initialized
[00:10:59] [ENEMY] [Enemy10] Death animation component initialized
[00:10:59] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:10:59] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:10:59] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:10:59] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:10:59] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:10:59] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:10:59] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:10:59] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:10:59] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:10:59] [INFO] [ScoreManager] Level started with 10 enemies
[00:10:59] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[00:10:59] [ENEMY] [Enemy1] Registered as sound listener
[00:10:59] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:10:59] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[00:10:59] [ENEMY] [Enemy2] Registered as sound listener
[00:10:59] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:10:59] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[00:10:59] [ENEMY] [Enemy3] Registered as sound listener
[00:10:59] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:10:59] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[00:10:59] [ENEMY] [Enemy4] Registered as sound listener
[00:10:59] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:10:59] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[00:10:59] [ENEMY] [Enemy5] Registered as sound listener
[00:10:59] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:10:59] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[00:10:59] [ENEMY] [Enemy6] Registered as sound listener
[00:10:59] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:10:59] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[00:10:59] [ENEMY] [Enemy7] Registered as sound listener
[00:10:59] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:10:59] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[00:10:59] [ENEMY] [Enemy8] Registered as sound listener
[00:10:59] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:10:59] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[00:10:59] [ENEMY] [Enemy9] Registered as sound listener
[00:10:59] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:10:59] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[00:10:59] [ENEMY] [Enemy10] Registered as sound listener
[00:10:59] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:10:59] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:10:59] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:10:59] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:10:59] [INFO] [LastChance] Found player: Player
[00:10:59] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:10:59] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:10:59] [INFO] [LastChance] Connected to player Died signal (C#)
[00:10:59] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:10:59] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:10:59] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:10:59] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:10:59] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:10:59] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (427.4884, 937.81067)
[00:10:59] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:10:59] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:10:59] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:10:59] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1177.1666)
[00:10:59] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:10:59] [INFO] [Player.Grenade] Step 1 complete! Drag: (844.9158, -9.2127075)
[00:10:59] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:10:59] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:10:59] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:10:59] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:10:59] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:11:00] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:11:00] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:11:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.397, 1465.46), source=ENEMY (Enemy10), range=1469, listeners=18
[00:11:00] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[00:11:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:11:00] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:11:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.747, 1430.86), shooter_id=21673629714317, bullet_pos=(42.1972, 701.7216)
[00:11:00] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[00:11:00] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[00:11:00] [INFO] [Bullet] Distance-based penetration chance: 50.6760656778783%
[00:11:00] [INFO] [Bullet] Penetration failed (distance roll)
[00:11:01] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:11:01] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:11:01] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2243.892, -187.21597) (2251,7 px/s), Swing distance: 539,0
[00:11:01] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,08324079
[00:11:01] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2243.892, -187.216), Swing: 539.0, Transfer: 1.00, Final speed: 1061.5
[00:11:01] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:11:01] [INFO] [Player.Grenade] Thrown! Velocity: 2251,7, Swing: 539,0
[00:11:01] [INFO] [Player.Grenade] State reset to IDLE
[00:11:01] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[00:11:01] [INFO] [FragGrenade] Non-wall collision (body: Enemy3, type: CharacterBody2D) - not triggering explosion
[00:11:01] [INFO] [Player.Grenade] Player rotation restored to 0
[00:11:01] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:11:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:11:01] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[00:11:01] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[00:11:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:11:01] [ENEMY] [Enemy10] FLANKING started: target=(681.6503, 725.2991), side=left, pos=(1030.943, 1438.985)
[00:11:01] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:11:01] [INFO] [LastChance] Threat detected: Bullet
[00:11:01] [INFO] [LastChance] Not in hard mode - effect disabled
[00:11:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:11:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:11:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:11:01] [INFO] [LastChance] Threat detected: Bullet
[00:11:01] [INFO] [LastChance] Not in hard mode - effect disabled
[00:11:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:11:02] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:11:02] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:11:02] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:11:02] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:11:02] [INFO] [GrenadeBase] Grenade landed at (796.1445, 532.3415)
[00:11:02] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:11:02] [INFO] [GrenadeBase] EXPLODED at (796.1445, 532.3415)!
[00:11:02] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(796.1445, 532.3415), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:11:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:11:02] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 6.5 degrees
[00:11:02] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 104.5 degrees
[00:11:02] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 170.4 degrees
[00:11:02] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 276.2 degrees
[00:11:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:11:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:11:02] [ENEMY] [Enemy1] Death animation component initialized
[00:11:02] [ENEMY] [Enemy2] Death animation component initialized
[00:11:02] [ENEMY] [Enemy3] Death animation component initialized
[00:11:02] [ENEMY] [Enemy4] Death animation component initialized
[00:11:02] [ENEMY] [Enemy5] Death animation component initialized
[00:11:02] [ENEMY] [Enemy6] Death animation component initialized
[00:11:02] [ENEMY] [Enemy7] Death animation component initialized
[00:11:02] [ENEMY] [Enemy8] Death animation component initialized
[00:11:02] [ENEMY] [Enemy9] Death animation component initialized
[00:11:02] [ENEMY] [Enemy10] Death animation component initialized
[00:11:02] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:11:02] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:11:02] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:11:02] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:11:02] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:11:02] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:11:02] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:11:02] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:11:02] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:11:02] [INFO] [ScoreManager] Level started with 10 enemies
[00:11:02] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:11:02] [ENEMY] [Enemy1] Registered as sound listener
[00:11:02] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:11:02] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:11:02] [ENEMY] [Enemy2] Registered as sound listener
[00:11:02] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:11:02] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:11:02] [ENEMY] [Enemy3] Registered as sound listener
[00:11:02] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:11:02] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:11:02] [ENEMY] [Enemy4] Registered as sound listener
[00:11:02] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:11:02] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:11:02] [ENEMY] [Enemy5] Registered as sound listener
[00:11:02] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:11:02] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:11:02] [ENEMY] [Enemy6] Registered as sound listener
[00:11:02] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:11:02] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:11:02] [ENEMY] [Enemy7] Registered as sound listener
[00:11:02] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:11:02] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:11:02] [ENEMY] [Enemy8] Registered as sound listener
[00:11:02] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:11:02] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:11:02] [ENEMY] [Enemy9] Registered as sound listener
[00:11:02] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:11:02] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:11:02] [ENEMY] [Enemy10] Registered as sound listener
[00:11:02] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:11:02] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:11:02] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:11:02] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:11:02] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:11:02] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:11:02] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:11:02] [INFO] [LastChance] Found player: Player
[00:11:02] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:11:02] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:11:02] [INFO] [LastChance] Connected to player Died signal (C#)
[00:11:03] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:11:03] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:11:03] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (692.268, 891.96063)
[00:11:03] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:11:03] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:11:03] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:11:03] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:11:03] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1166.1666)
[00:11:03] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:11:03] [INFO] [Player.Grenade] Step 1 complete! Drag: (580.13617, 83.362366)
[00:11:03] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:11:03] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:11:03] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:11:03] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:11:03] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:11:03] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:11:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:11:03] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:11:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:11:04] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:11:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=21895709724785, bullet_pos=(41.69983, 702.3934)
[00:11:04] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:11:04] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:11:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=21895709724785, bullet_pos=(502.6205, 364.2294)
[00:11:04] [INFO] [Bullet] Using shooter_position, distance=1179.36572265625
[00:11:04] [INFO] [Bullet] Distance to wall: 1179.36572265625 (80.3051807180003% of viewport)
[00:11:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=21895709724785, bullet_pos=(207.3054, 56.56772)
[00:11:04] [INFO] [Bullet] Using shooter_position, distance=1589.42358398438
[00:11:04] [INFO] [Bullet] Distance to wall: 1589.42358398438 (108.226774525751% of viewport)
[00:11:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=21895709724785, bullet_pos=(58.76492, 165.3603)
[00:11:05] [INFO] [Bullet] Using shooter_position, distance=1580.60998535156
[00:11:05] [INFO] [Bullet] Distance to wall: 1580.60998535156 (107.626640388064% of viewport)
[00:11:05] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:11:05] [ENEMY] [Enemy1] Hit taken, health: 1/2
[00:11:05] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:11:05] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (623.84845, 193.05612) (653,0 px/s), Swing distance: 426,4
[00:11:05] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,3001129
[00:11:05] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (623.8484, 193.0561), Swing: 426.4, Transfer: 1.00, Final speed: 307.8
[00:11:05] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:11:05] [INFO] [Player.Grenade] Thrown! Velocity: 653,0, Swing: 426,4
[00:11:05] [INFO] [Player.Grenade] State reset to IDLE
[00:11:05] [ENEMY] [Enemy10] FLANKING started: target=(681.9521, 714.6294), side=left, pos=(1026.775, 1435.659)
[00:11:05] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:11:05] [INFO] [Player.Grenade] Player rotation restored to 0
[00:11:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:11:05] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[00:11:05] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[00:11:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:11:05] [INFO] [LastChance] Threat detected: Bullet
[00:11:05] [INFO] [LastChance] Not in hard mode - effect disabled
[00:11:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:11:05] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:11:05] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:11:05] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:11:05] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:11:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:11:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:11:05] [INFO] [LastChance] Threat detected: Bullet
[00:11:05] [INFO] [LastChance] Not in hard mode - effect disabled
[00:11:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:11:05] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:11:05] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:11:05] [INFO] [GrenadeBase] Grenade landed at (627.2485, 783.0723)
[00:11:05] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:11:05] [INFO] [GrenadeBase] EXPLODED at (627.2485, 783.0723)!
[00:11:05] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(627.2485, 783.0723), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:11:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:11:05] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:11:05] [ENEMY] [Enemy3] Hit taken, health: 1/3
[00:11:05] [ENEMY] [Enemy3] Hit taken, health: 0/3
[00:11:05] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:11:05] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:11:05] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:11:05] [INFO] [DeathAnim] Started - Angle: -24.4 deg, Index: 10
[00:11:05] [ENEMY] [Enemy3] Death animation started with hit direction: (0.91035, -0.413838)
[00:11:05] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 79.9
[00:11:05] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -11.0 degrees
[00:11:05] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 88.4 degrees
[00:11:05] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 172.5 degrees
[00:11:05] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 282.1 degrees
[00:11:06] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:11:06] [ENEMY] [Enemy3] Ragdoll activated
[00:11:06] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:11:06] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[00:11:06] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:11:06] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:11:06] [ENEMY] [Enemy1] Death animation component initialized
[00:11:06] [ENEMY] [Enemy2] Death animation component initialized
[00:11:06] [ENEMY] [Enemy3] Death animation component initialized
[00:11:06] [ENEMY] [Enemy4] Death animation component initialized
[00:11:06] [ENEMY] [Enemy5] Death animation component initialized
[00:11:06] [ENEMY] [Enemy6] Death animation component initialized
[00:11:06] [ENEMY] [Enemy7] Death animation component initialized
[00:11:06] [ENEMY] [Enemy8] Death animation component initialized
[00:11:06] [ENEMY] [Enemy9] Death animation component initialized
[00:11:06] [ENEMY] [Enemy10] Death animation component initialized
[00:11:06] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:11:06] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:11:06] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:11:06] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:11:06] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:11:06] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:11:06] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:11:06] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:11:06] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:11:06] [INFO] [ScoreManager] Level started with 10 enemies
[00:11:06] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:11:06] [ENEMY] [Enemy1] Registered as sound listener
[00:11:06] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:11:06] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:11:06] [ENEMY] [Enemy2] Registered as sound listener
[00:11:06] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:11:06] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:11:06] [ENEMY] [Enemy3] Registered as sound listener
[00:11:06] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:11:06] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:11:06] [ENEMY] [Enemy4] Registered as sound listener
[00:11:06] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:11:06] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:11:06] [ENEMY] [Enemy5] Registered as sound listener
[00:11:06] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:11:06] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:11:06] [ENEMY] [Enemy6] Registered as sound listener
[00:11:06] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:11:06] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:11:06] [ENEMY] [Enemy7] Registered as sound listener
[00:11:06] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:11:06] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:11:06] [ENEMY] [Enemy8] Registered as sound listener
[00:11:06] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:11:06] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:11:06] [ENEMY] [Enemy9] Registered as sound listener
[00:11:06] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:11:06] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:11:06] [ENEMY] [Enemy10] Registered as sound listener
[00:11:06] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:11:06] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:11:06] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:11:06] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:11:06] [INFO] [LastChance] Found player: Player
[00:11:06] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:11:06] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:11:06] [INFO] [LastChance] Connected to player Died signal (C#)
[00:11:06] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:11:06] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:11:06] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:11:07] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:11:07] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:11:07] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1065.498, 919.6275)
[00:11:07] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:11:07] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:11:07] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:11:07] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1182.6666)
[00:11:07] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:11:07] [INFO] [Player.Grenade] Step 1 complete! Drag: (212.77148, 27.101257)
[00:11:07] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:11:07] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:11:07] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:11:07] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:11:07] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:11:08] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:11:08] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:11:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:11:08] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:11:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:11:08] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:11:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=22123795976052, bullet_pos=(41.69983, 702.3934)
[00:11:08] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:11:08] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:11:08] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:11:08] [INFO] [Bullet] Starting wall penetration at (41.69983, 702.3934)
[00:11:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.508674621582
[00:11:08] [INFO] [Bullet] Body exited signal received for penetrating body
[00:11:08] [INFO] [Bullet] Exiting penetration at (4.46851, 674.2579) after traveling 41.6666717529297 pixels through wall
[00:11:08] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:11:09] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:11:09] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:11:09] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (840.9668, -240.10135) (874,6 px/s), Swing distance: 508,0
[00:11:09] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,27810737
[00:11:09] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (840.9668, -240.1013), Swing: 508.0, Transfer: 1.00, Final speed: 412.3
[00:11:09] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:11:09] [INFO] [Player.Grenade] Thrown! Velocity: 874,6, Swing: 508,0
[00:11:09] [INFO] [Player.Grenade] State reset to IDLE
[00:11:09] [INFO] [Player.Grenade] Player rotation restored to 0
[00:11:09] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:11:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:11:09] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[00:11:09] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[00:11:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:11:09] [INFO] [LastChance] Threat detected: Bullet
[00:11:09] [INFO] [LastChance] Not in hard mode - effect disabled
[00:11:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:11:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:11:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:11:09] [INFO] [LastChance] Threat detected: Bullet
[00:11:09] [INFO] [LastChance] Not in hard mode - effect disabled
[00:11:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:11:09] [ENEMY] [Enemy10] FLANKING started: target=(680.8512, 755.4869), side=left, pos=(1026.76, 1435.677)
[00:11:09] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:11:09] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:11:09] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:11:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(633.5135, 763.6838), shooter_id=22121799485088, bullet_pos=(52.42945, 814.8602)
[00:11:09] [INFO] [Bullet] Using shooter_position, distance=583.333312988281
[00:11:09] [INFO] [Bullet] Distance to wall: 583.333312988281 (39.7202379367503% of viewport)
[00:11:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:11:09] [INFO] [Bullet] Starting wall penetration at (52.42945, 814.8602)
[00:11:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26.1581401824951
[00:11:09] [INFO] [Bullet] Body exited signal received for penetrating body
[00:11:09] [INFO] [Bullet] Exiting penetration at (5.942719, 818.9543) after traveling 41.6666641235352 pixels through wall
[00:11:09] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:11:10] [INFO] [GrenadeBase] Grenade landed at (680.4345, 681.8157)
[00:11:10] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:11:10] [INFO] [GrenadeBase] EXPLODED at (680.4345, 681.8157)!
[00:11:10] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(680.4345, 681.8157), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:11:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:11:10] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:11:10] [ENEMY] [Enemy3] Hit taken, health: 1/3
[00:11:10] [ENEMY] [Enemy3] Hit taken, health: 0/3
[00:11:10] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:11:10] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:11:10] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:11:10] [INFO] [DeathAnim] Started - Angle: 74.0 deg, Index: 16
[00:11:10] [ENEMY] [Enemy3] Death animation started with hit direction: (0.275819, 0.961209)
[00:11:10] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 70.9
[00:11:10] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 14.0 degrees
[00:11:10] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 108.3 degrees
[00:11:10] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 189.1 degrees
[00:11:10] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 266.5 degrees
[00:11:10] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:11:10] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:11:10] [ENEMY] [Enemy1] Death animation component initialized
[00:11:10] [ENEMY] [Enemy2] Death animation component initialized
[00:11:10] [ENEMY] [Enemy3] Death animation component initialized
[00:11:10] [ENEMY] [Enemy4] Death animation component initialized
[00:11:10] [ENEMY] [Enemy5] Death animation component initialized
[00:11:10] [ENEMY] [Enemy6] Death animation component initialized
[00:11:10] [ENEMY] [Enemy7] Death animation component initialized
[00:11:10] [ENEMY] [Enemy8] Death animation component initialized
[00:11:10] [ENEMY] [Enemy9] Death animation component initialized
[00:11:10] [ENEMY] [Enemy10] Death animation component initialized
[00:11:10] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:11:10] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:11:10] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:11:10] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:11:10] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:11:10] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:11:10] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:11:10] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:11:10] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:11:10] [INFO] [ScoreManager] Level started with 10 enemies
[00:11:10] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:11:10] [ENEMY] [Enemy1] Registered as sound listener
[00:11:10] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:11:10] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:11:10] [ENEMY] [Enemy2] Registered as sound listener
[00:11:10] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:11:10] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:11:10] [ENEMY] [Enemy3] Registered as sound listener
[00:11:10] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:11:10] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:11:10] [ENEMY] [Enemy4] Registered as sound listener
[00:11:10] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:11:10] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:11:10] [ENEMY] [Enemy5] Registered as sound listener
[00:11:10] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:11:10] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:11:10] [ENEMY] [Enemy6] Registered as sound listener
[00:11:10] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:11:10] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:11:10] [ENEMY] [Enemy7] Registered as sound listener
[00:11:10] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:11:10] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:11:10] [ENEMY] [Enemy8] Registered as sound listener
[00:11:10] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:11:10] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:11:10] [ENEMY] [Enemy9] Registered as sound listener
[00:11:10] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:11:10] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:11:10] [ENEMY] [Enemy10] Registered as sound listener
[00:11:10] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:11:10] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:11:10] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:11:10] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:11:10] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:11:10] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:11:10] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:11:10] [INFO] [LastChance] Found player: Player
[00:11:10] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:11:10] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:11:10] [INFO] [LastChance] Connected to player Died signal (C#)
[00:11:10] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:11:10] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:11:10] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1215.4965, 890.6679)
[00:11:10] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:11:10] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:11:10] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:11:10] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:11:10] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:11:10] [INFO] [Player.Grenade] Step 1 complete! Drag: (60.716675, 88.83118)
[00:11:10] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:11:10] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:11:11] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:11:11] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:11:11] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:11:11] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:11:11] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:11:11] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.6375481, 241.62378) (241,6 px/s), Swing distance: 153,5
[00:11:11] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,5681578
[00:11:11] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.637548, 241.6238), Swing: 153.5, Transfer: 0.62, Final speed: 70.6
[00:11:11] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:11:11] [INFO] [Player.Grenade] Thrown! Velocity: 241,6, Swing: 153,5
[00:11:11] [INFO] [Player.Grenade] State reset to IDLE
[00:11:11] [INFO] [GrenadeBase] Grenade landed at (450.1661, 1312.951)
[00:11:11] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:11:11] [INFO] [GrenadeBase] EXPLODED at (450.1661, 1312.951)!
[00:11:11] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450.1661, 1312.951), source=NEUTRAL (FragGrenade), range=2937, listeners=19
[00:11:11] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:11:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=10
[00:11:11] [INFO] [FragGrenade] Player found in blast radius at distance 63.0
[00:11:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:11:11] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:11:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:11:11] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:11:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:11:11] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:11:11] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:11:11] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:11:11] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:11:11] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:11:11] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:11:11] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:11:11] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:11:11] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:11:11] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:11:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:11:11] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:11:11] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:11:11] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:11:11] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:11:11] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:11:11] [INFO] [LastChance] Player died
[00:11:11] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 63.0
[00:11:11] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 1.3 degrees
[00:11:11] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 78.0 degrees
[00:11:11] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 186.5 degrees
[00:11:11] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 285.2 degrees
[00:11:11] [INFO] [Player.Grenade] Player rotation restored to 0
[00:11:11] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:11:12] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:11:12] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:11:12] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:11:12] [ENEMY] [Enemy1] Death animation component initialized
[00:11:12] [ENEMY] [Enemy2] Death animation component initialized
[00:11:12] [ENEMY] [Enemy3] Death animation component initialized
[00:11:12] [ENEMY] [Enemy4] Death animation component initialized
[00:11:12] [ENEMY] [Enemy5] Death animation component initialized
[00:11:12] [ENEMY] [Enemy6] Death animation component initialized
[00:11:12] [ENEMY] [Enemy7] Death animation component initialized
[00:11:12] [ENEMY] [Enemy8] Death animation component initialized
[00:11:12] [ENEMY] [Enemy9] Death animation component initialized
[00:11:12] [ENEMY] [Enemy10] Death animation component initialized
[00:11:12] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:11:12] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:11:12] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:11:12] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:11:12] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:11:12] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:11:12] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:11:12] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:11:12] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:11:12] [INFO] [ScoreManager] Level started with 10 enemies
[00:11:12] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:11:12] [ENEMY] [Enemy1] Registered as sound listener
[00:11:12] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:11:12] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:11:12] [ENEMY] [Enemy2] Registered as sound listener
[00:11:12] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:11:12] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:11:12] [ENEMY] [Enemy3] Registered as sound listener
[00:11:12] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:11:12] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:11:12] [ENEMY] [Enemy4] Registered as sound listener
[00:11:12] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:11:12] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:11:12] [ENEMY] [Enemy5] Registered as sound listener
[00:11:12] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:11:12] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:11:12] [ENEMY] [Enemy6] Registered as sound listener
[00:11:12] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:11:12] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:11:12] [ENEMY] [Enemy7] Registered as sound listener
[00:11:12] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:11:12] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:11:12] [ENEMY] [Enemy8] Registered as sound listener
[00:11:12] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:11:12] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:11:12] [ENEMY] [Enemy9] Registered as sound listener
[00:11:12] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:11:12] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:11:12] [ENEMY] [Enemy10] Registered as sound listener
[00:11:12] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:11:12] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:11:12] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:11:12] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:11:12] [INFO] [LastChance] Found player: Player
[00:11:12] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:11:12] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:11:12] [INFO] [LastChance] Connected to player Died signal (C#)
[00:11:12] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:11:12] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:11:12] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:11:12] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:11:12] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:11:12] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1137.4086, 918.71985)
[00:11:12] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:11:12] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:11:12] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:11:12] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:11:12] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:11:12] [INFO] [Player.Grenade] Step 1 complete! Drag: (122.810425, 0)
[00:11:12] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:11:12] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:11:12] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:11:12] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:11:12] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:11:12] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:11:13] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:11:13] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2484.3977, -31.43095) (2484,6 px/s), Swing distance: 216,5
[00:11:13] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,012650661
[00:11:13] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2484.398, -31.43095), Swing: 216.5, Transfer: 0.87, Final speed: 1024.6
[00:11:13] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:11:13] [INFO] [Player.Grenade] Thrown! Velocity: 2484,6, Swing: 216,5
[00:11:13] [INFO] [Player.Grenade] State reset to IDLE
[00:11:13] [INFO] [Player.Grenade] Player rotation restored to 0
[00:11:13] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:11:13] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:11:13] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:11:13] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:11:13] [ENEMY] [Enemy1] Death animation component initialized
[00:11:13] [ENEMY] [Enemy2] Death animation component initialized
[00:11:13] [ENEMY] [Enemy3] Death animation component initialized
[00:11:13] [ENEMY] [Enemy4] Death animation component initialized
[00:11:13] [ENEMY] [Enemy5] Death animation component initialized
[00:11:13] [ENEMY] [Enemy6] Death animation component initialized
[00:11:13] [ENEMY] [Enemy7] Death animation component initialized
[00:11:13] [ENEMY] [Enemy8] Death animation component initialized
[00:11:13] [ENEMY] [Enemy9] Death animation component initialized
[00:11:13] [ENEMY] [Enemy10] Death animation component initialized
[00:11:13] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:11:13] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:11:13] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:11:13] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:11:13] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:11:13] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:11:13] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:11:13] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:11:13] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:11:13] [INFO] [ScoreManager] Level started with 10 enemies
[00:11:13] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[00:11:13] [ENEMY] [Enemy1] Registered as sound listener
[00:11:13] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:11:13] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[00:11:13] [ENEMY] [Enemy2] Registered as sound listener
[00:11:13] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:11:13] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[00:11:13] [ENEMY] [Enemy3] Registered as sound listener
[00:11:13] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:11:13] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[00:11:13] [ENEMY] [Enemy4] Registered as sound listener
[00:11:13] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:11:13] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[00:11:13] [ENEMY] [Enemy5] Registered as sound listener
[00:11:13] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:11:13] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[00:11:13] [ENEMY] [Enemy6] Registered as sound listener
[00:11:13] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:11:13] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[00:11:13] [ENEMY] [Enemy7] Registered as sound listener
[00:11:13] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:11:13] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[00:11:13] [ENEMY] [Enemy8] Registered as sound listener
[00:11:13] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:11:13] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[00:11:13] [ENEMY] [Enemy9] Registered as sound listener
[00:11:13] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:11:13] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[00:11:13] [ENEMY] [Enemy10] Registered as sound listener
[00:11:13] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:11:13] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:11:13] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:11:13] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:11:13] [INFO] [LastChance] Found player: Player
[00:11:13] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:11:13] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:11:13] [INFO] [LastChance] Connected to player Died signal (C#)
[00:11:13] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:11:13] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:11:13] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:11:14] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:11:14] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:11:14] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (895.08856, 894.91504)
[00:11:14] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:11:14] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:11:14] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:11:14] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1171.6666)
[00:11:14] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:11:14] [INFO] [Player.Grenade] Step 1 complete! Drag: (375.87177, 39.424805)
[00:11:14] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:11:14] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:11:14] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:11:14] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:11:14] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:11:14] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:11:14] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:11:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.399, 1465.457), source=ENEMY (Enemy10), range=1469, listeners=30
[00:11:14] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[00:11:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:11:14] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:11:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.763, 1430.831), shooter_id=22546867032368, bullet_pos=(42.53045, 701.2751)
[00:11:15] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[00:11:15] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[00:11:15] [INFO] [Bullet] Distance-based penetration chance: 50.6760947698504%
[00:11:15] [INFO] [Bullet] Starting wall penetration at (42.53045, 701.2751)
[00:11:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.4566688537598
[00:11:15] [INFO] [Bullet] Body exited signal received for penetrating body
[00:11:15] [INFO] [Bullet] Exiting penetration at (5.329731, 673.0992) after traveling 41.6666679382324 pixels through wall
[00:11:15] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:11:15] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:11:16] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:11:16] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1053.1768, -147.2054) (1063,4 px/s), Swing distance: 460,9
[00:11:16] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,13887304
[00:11:16] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1053.177, -147.2054), Swing: 460.9, Transfer: 1.00, Final speed: 501.3
[00:11:16] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:11:16] [INFO] [Player.Grenade] Thrown! Velocity: 1063,4, Swing: 460,9
[00:11:16] [INFO] [Player.Grenade] State reset to IDLE
[00:11:16] [INFO] [Player.Grenade] Player rotation restored to 0
[00:11:16] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:11:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:11:16] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[00:11:16] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[00:11:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:11:16] [INFO] [LastChance] Threat detected: Bullet
[00:11:16] [INFO] [LastChance] Not in hard mode - effect disabled
[00:11:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:11:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:11:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:11:16] [ENEMY] [Enemy10] FLANKING started: target=(681.2677, 739.6667), side=left, pos=(1030.969, 1438.953)
[00:11:16] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:11:16] [INFO] [LastChance] Threat detected: Bullet
[00:11:16] [INFO] [LastChance] Not in hard mode - effect disabled
[00:11:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:11:16] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:11:16] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:11:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(633.7226, 764.6556), shooter_id=22544870543626, bullet_pos=(53.44984, 824.3342)
[00:11:16] [INFO] [Bullet] Using shooter_position, distance=583.33349609375
[00:11:16] [INFO] [Bullet] Distance to wall: 583.33349609375 (39.7202504047384% of viewport)
[00:11:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:11:16] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:11:16] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:11:16] [INFO] [GrenadeBase] Grenade landed at (737.0362, 704.6227)
[00:11:16] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:11:16] [INFO] [GrenadeBase] EXPLODED at (737.0362, 704.6227)!
[00:11:16] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(737.0362, 704.6227), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:11:16] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:11:16] [ENEMY] [Enemy3] Hit taken, health: 3/4
[00:11:16] [ENEMY] [Enemy3] Hit taken, health: 2/4
[00:11:16] [ENEMY] [Enemy3] Hit taken, health: 1/4
[00:11:16] [ENEMY] [Enemy3] Hit taken, health: 0/4
[00:11:16] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:11:16] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:11:16] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:11:16] [INFO] [DeathAnim] Started - Angle: 129.2 deg, Index: 20
[00:11:16] [ENEMY] [Enemy3] Death animation started with hit direction: (-0.63231, 0.774716)
[00:11:16] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 58.6
[00:11:16] [ENEMY] [Enemy4] Hit taken, health: 2/3
[00:11:16] [ENEMY] [Enemy4] Hit taken, health: 1/3
[00:11:16] [ENEMY] [Enemy4] Hit taken, health: 0/3
[00:11:16] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[00:11:16] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:11:16] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[00:11:16] [INFO] [DeathAnim] Started - Angle: 76.7 deg, Index: 17
[00:11:16] [ENEMY] [Enemy4] Death animation started with hit direction: (0.230833, 0.972993)
[00:11:16] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 198.4
[00:11:16] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 3.4 degrees
[00:11:16] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 108.0 degrees
[00:11:16] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 174.8 degrees
[00:11:16] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 289.0 degrees
[00:11:17] [ENEMY] [Enemy3] Ragdoll activated
[00:11:17] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:11:17] [ENEMY] [Enemy4] Ragdoll activated
[00:11:17] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:11:18] [ENEMY] [Enemy4] Death animation completed
[00:11:18] [ENEMY] [Enemy3] Death animation completed
[00:11:18] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[00:11:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.1219, 1076.776), source=ENEMY (Enemy10), range=1469, listeners=8
[00:11:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[00:11:19] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:11:19] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:11:19] [ENEMY] [Enemy1] Death animation component initialized
[00:11:19] [ENEMY] [Enemy2] Death animation component initialized
[00:11:19] [ENEMY] [Enemy3] Death animation component initialized
[00:11:19] [ENEMY] [Enemy4] Death animation component initialized
[00:11:19] [ENEMY] [Enemy5] Death animation component initialized
[00:11:19] [ENEMY] [Enemy6] Death animation component initialized
[00:11:19] [ENEMY] [Enemy7] Death animation component initialized
[00:11:19] [ENEMY] [Enemy8] Death animation component initialized
[00:11:19] [ENEMY] [Enemy9] Death animation component initialized
[00:11:19] [ENEMY] [Enemy10] Death animation component initialized
[00:11:19] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:11:19] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:11:19] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:11:19] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:11:19] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:11:19] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:11:19] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:11:19] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:11:19] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:11:19] [INFO] [ScoreManager] Level started with 10 enemies
[00:11:19] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[00:11:19] [ENEMY] [Enemy1] Registered as sound listener
[00:11:19] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:11:19] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[00:11:19] [ENEMY] [Enemy2] Registered as sound listener
[00:11:19] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:11:19] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[00:11:19] [ENEMY] [Enemy3] Registered as sound listener
[00:11:19] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:11:19] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[00:11:19] [ENEMY] [Enemy4] Registered as sound listener
[00:11:19] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:11:19] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[00:11:19] [ENEMY] [Enemy5] Registered as sound listener
[00:11:19] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:11:19] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[00:11:19] [ENEMY] [Enemy6] Registered as sound listener
[00:11:19] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:11:19] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[00:11:19] [ENEMY] [Enemy7] Registered as sound listener
[00:11:19] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:11:19] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[00:11:19] [ENEMY] [Enemy8] Registered as sound listener
[00:11:19] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:11:19] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[00:11:19] [ENEMY] [Enemy9] Registered as sound listener
[00:11:19] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:11:19] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[00:11:19] [ENEMY] [Enemy10] Registered as sound listener
[00:11:19] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:11:19] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:11:19] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:11:19] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:11:19] [INFO] [LastChance] Found player: Player
[00:11:19] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:11:19] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:11:19] [INFO] [LastChance] Connected to player Died signal (C#)
[00:11:19] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:11:19] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:11:19] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:11:19] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:11:19] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:11:19] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (582.1921, 883.2779)
[00:11:19] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:11:19] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:11:19] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:11:19] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:11:19] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1149.6666)
[00:11:19] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:11:19] [INFO] [Player.Grenade] Step 1 complete! Drag: (133.94788, 17.143433)
[00:11:19] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:11:19] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:11:19] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:11:19] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:11:20] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:11:20] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:11:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=18
[00:11:20] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[00:11:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:11:20] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:11:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=22833874865457, bullet_pos=(41.69983, 702.3934)
[00:11:20] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:11:20] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:11:20] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:11:20] [INFO] [Bullet] Penetration failed (distance roll)
[00:11:21] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:11:21] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:11:21] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (5289.9424, -153.58208) (5292,2 px/s), Swing distance: 804,5
[00:11:21] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,02902469
[00:11:21] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (5289.942, -153.5821), Swing: 804.5, Transfer: 1.00, Final speed: 1186.5
[00:11:21] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:11:21] [INFO] [Player.Grenade] Thrown! Velocity: 5292,2, Swing: 804,5
[00:11:21] [INFO] [Player.Grenade] State reset to IDLE
[00:11:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:11:21] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[00:11:21] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[00:11:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:11:21] [INFO] [LastChance] Threat detected: Bullet
[00:11:21] [INFO] [LastChance] Not in hard mode - effect disabled
[00:11:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:11:21] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[00:11:21] [INFO] [FragGrenade] Non-wall collision (body: Enemy3, type: CharacterBody2D) - not triggering explosion
[00:11:21] [INFO] [Player.Grenade] Player rotation restored to 0
[00:11:21] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:11:21] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:11:21] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:11:21] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:11:21] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:11:21] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:11:21] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:11:21] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:11:21] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:11:21] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:11:21] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:11:21] [ENEMY] [Enemy10] FLANKING started: target=(682.0068, 712.1846), side=left, pos=(1026.786, 1435.646)
[00:11:21] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:11:21] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:11:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:11:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:11:22] [INFO] [LastChance] Threat detected: Bullet
[00:11:22] [INFO] [LastChance] Not in hard mode - effect disabled
[00:11:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:11:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:11:22] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:11:22] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:11:22] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:11:22] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:11:22] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:11:22] [INFO] [LastChance] Player died
[00:11:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:11:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:11:22] [INFO] [LastChance] Threat detected: Bullet
[00:11:22] [INFO] [LastChance] Not in hard mode - effect disabled
[00:11:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:11:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:11:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:11:22] [INFO] [LastChance] Threat detected: Bullet
[00:11:22] [INFO] [LastChance] Not in hard mode - effect disabled
[00:11:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:11:22] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:11:22] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:11:22] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:11:22] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:11:23] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:11:23] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:11:23] [ENEMY] [Enemy1] Death animation component initialized
[00:11:23] [ENEMY] [Enemy2] Death animation component initialized
[00:11:23] [ENEMY] [Enemy3] Death animation component initialized
[00:11:23] [ENEMY] [Enemy4] Death animation component initialized
[00:11:23] [ENEMY] [Enemy5] Death animation component initialized
[00:11:23] [ENEMY] [Enemy6] Death animation component initialized
[00:11:23] [ENEMY] [Enemy7] Death animation component initialized
[00:11:23] [ENEMY] [Enemy8] Death animation component initialized
[00:11:23] [ENEMY] [Enemy9] Death animation component initialized
[00:11:23] [ENEMY] [Enemy10] Death animation component initialized
[00:11:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:11:23] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:11:23] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:11:23] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:11:23] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:11:23] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:11:23] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:11:23] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:11:23] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:11:23] [INFO] [ScoreManager] Level started with 10 enemies
[00:11:23] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:11:23] [ENEMY] [Enemy1] Registered as sound listener
[00:11:23] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:11:23] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:11:23] [ENEMY] [Enemy2] Registered as sound listener
[00:11:23] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:11:23] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:11:23] [ENEMY] [Enemy3] Registered as sound listener
[00:11:23] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:11:23] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:11:23] [ENEMY] [Enemy4] Registered as sound listener
[00:11:23] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:11:23] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:11:23] [ENEMY] [Enemy5] Registered as sound listener
[00:11:23] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:11:23] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:11:23] [ENEMY] [Enemy6] Registered as sound listener
[00:11:23] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:11:23] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:11:23] [ENEMY] [Enemy7] Registered as sound listener
[00:11:23] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:11:23] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:11:23] [ENEMY] [Enemy8] Registered as sound listener
[00:11:23] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:11:23] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:11:23] [ENEMY] [Enemy9] Registered as sound listener
[00:11:23] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:11:23] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:11:23] [ENEMY] [Enemy10] Registered as sound listener
[00:11:23] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:11:23] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:11:23] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:11:23] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:11:23] [INFO] [LastChance] Found player: Player
[00:11:23] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:11:23] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:11:23] [INFO] [LastChance] Connected to player Died signal (C#)
[00:11:23] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:11:23] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:11:23] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:11:23] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:11:23] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:11:24] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1086.322, 934.7495)
[00:11:24] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:11:24] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:11:24] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:11:24] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:11:24] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:11:24] [INFO] [Player.Grenade] Step 1 complete! Drag: (193.24792, 0.6679077)
[00:11:24] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:11:24] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:11:24] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:11:24] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:11:24] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:11:24] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:11:24] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:11:24] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1493.4514, -117.86534) (1498,1 px/s), Swing distance: 130,2
[00:11:24] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,078758195
[00:11:24] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1493.451, -117.8653), Swing: 130.2, Transfer: 0.53, Final speed: 371.6
[00:11:24] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:11:24] [INFO] [Player.Grenade] Thrown! Velocity: 1498,1, Swing: 130,2
[00:11:24] [INFO] [Player.Grenade] State reset to IDLE
[00:11:25] [INFO] [Player.Grenade] Player rotation restored to 0
[00:11:25] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:11:25] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:11:25] [INFO] [GrenadeBase] Grenade landed at (632.1315, 1235.625)
[00:11:25] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:11:25] [INFO] [GrenadeBase] EXPLODED at (632.1315, 1235.625)!
[00:11:25] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(632.1315, 1235.625), source=NEUTRAL (FragGrenade), range=2937, listeners=20
[00:11:25] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:11:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[00:11:25] [INFO] [FragGrenade] Player found in blast radius at distance 182.7
[00:11:25] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:11:25] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:11:25] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:11:25] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:11:25] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:11:25] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:11:25] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:11:25] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:11:25] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:11:25] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:11:25] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:11:25] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:11:25] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:11:25] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:11:25] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:11:25] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:11:25] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:11:25] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:11:25] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:11:25] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:11:25] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:11:25] [INFO] [LastChance] Player died
[00:11:25] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 182.7
[00:11:25] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -13.2 degrees
[00:11:25] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 76.6 degrees
[00:11:25] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 160.2 degrees
[00:11:25] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 256.0 degrees
[00:11:25] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:11:25] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:11:25] [ENEMY] [Enemy1] Death animation component initialized
[00:11:25] [ENEMY] [Enemy2] Death animation component initialized
[00:11:25] [ENEMY] [Enemy3] Death animation component initialized
[00:11:25] [ENEMY] [Enemy4] Death animation component initialized
[00:11:25] [ENEMY] [Enemy5] Death animation component initialized
[00:11:25] [ENEMY] [Enemy6] Death animation component initialized
[00:11:25] [ENEMY] [Enemy7] Death animation component initialized
[00:11:25] [ENEMY] [Enemy8] Death animation component initialized
[00:11:25] [ENEMY] [Enemy9] Death animation component initialized
[00:11:25] [ENEMY] [Enemy10] Death animation component initialized
[00:11:25] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:11:25] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:11:25] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:11:25] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:11:25] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:11:25] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:11:25] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:11:25] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:11:25] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:11:25] [INFO] [ScoreManager] Level started with 10 enemies
[00:11:25] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:11:25] [ENEMY] [Enemy1] Registered as sound listener
[00:11:25] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:11:25] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:11:25] [ENEMY] [Enemy2] Registered as sound listener
[00:11:25] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:11:25] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:11:25] [ENEMY] [Enemy3] Registered as sound listener
[00:11:25] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:11:25] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:11:25] [ENEMY] [Enemy4] Registered as sound listener
[00:11:25] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:11:25] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:11:25] [ENEMY] [Enemy5] Registered as sound listener
[00:11:25] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:11:25] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:11:25] [ENEMY] [Enemy6] Registered as sound listener
[00:11:25] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:11:25] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:11:25] [ENEMY] [Enemy7] Registered as sound listener
[00:11:25] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:11:25] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:11:25] [ENEMY] [Enemy8] Registered as sound listener
[00:11:25] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:11:25] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:11:25] [ENEMY] [Enemy9] Registered as sound listener
[00:11:25] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:11:25] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:11:25] [ENEMY] [Enemy10] Registered as sound listener
[00:11:25] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:11:25] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:11:25] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:11:25] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:11:25] [INFO] [LastChance] Found player: Player
[00:11:25] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:11:25] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:11:25] [INFO] [LastChance] Connected to player Died signal (C#)
[00:11:25] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:11:25] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:11:25] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:11:25] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:11:25] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:11:26] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1003.2224, 968.1447)
[00:11:26] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:11:26] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:11:26] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:11:26] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:11:26] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:11:26] [INFO] [Player.Grenade] Step 1 complete! Drag: (258.64502, 28.05194)
[00:11:26] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:11:26] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:11:26] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:11:26] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:11:26] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:11:26] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:11:26] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:11:26] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1532.5598, -474.40863) (1604,3 px/s), Swing distance: 156,2
[00:11:26] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,3001979
[00:11:26] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1532.56, -474.4086), Swing: 156.2, Transfer: 0.63, Final speed: 477.2
[00:11:26] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:11:26] [INFO] [Player.Grenade] Thrown! Velocity: 1604,3, Swing: 156,2
[00:11:26] [INFO] [Player.Grenade] State reset to IDLE
[00:11:26] [INFO] [Player.Grenade] Player rotation restored to 0
[00:11:26] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:11:27] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:11:27] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:11:27] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:11:27] [ENEMY] [Enemy1] Death animation component initialized
[00:11:27] [ENEMY] [Enemy2] Death animation component initialized
[00:11:27] [ENEMY] [Enemy3] Death animation component initialized
[00:11:27] [ENEMY] [Enemy4] Death animation component initialized
[00:11:27] [ENEMY] [Enemy5] Death animation component initialized
[00:11:27] [ENEMY] [Enemy6] Death animation component initialized
[00:11:27] [ENEMY] [Enemy7] Death animation component initialized
[00:11:27] [ENEMY] [Enemy8] Death animation component initialized
[00:11:27] [ENEMY] [Enemy9] Death animation component initialized
[00:11:27] [ENEMY] [Enemy10] Death animation component initialized
[00:11:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:11:27] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:11:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:11:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:11:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:11:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:11:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:11:27] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:11:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:11:27] [INFO] [ScoreManager] Level started with 10 enemies
[00:11:27] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[00:11:27] [ENEMY] [Enemy1] Registered as sound listener
[00:11:27] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:11:27] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[00:11:27] [ENEMY] [Enemy2] Registered as sound listener
[00:11:27] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:11:27] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[00:11:27] [ENEMY] [Enemy3] Registered as sound listener
[00:11:27] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:11:27] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[00:11:27] [ENEMY] [Enemy4] Registered as sound listener
[00:11:27] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:11:27] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[00:11:27] [ENEMY] [Enemy5] Registered as sound listener
[00:11:27] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:11:27] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[00:11:27] [ENEMY] [Enemy6] Registered as sound listener
[00:11:27] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:11:27] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[00:11:27] [ENEMY] [Enemy7] Registered as sound listener
[00:11:27] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:11:27] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[00:11:27] [ENEMY] [Enemy8] Registered as sound listener
[00:11:27] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:11:27] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[00:11:27] [ENEMY] [Enemy9] Registered as sound listener
[00:11:27] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:11:27] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[00:11:27] [ENEMY] [Enemy10] Registered as sound listener
[00:11:27] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:11:27] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:11:27] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:11:27] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:11:27] [INFO] [LastChance] Found player: Player
[00:11:27] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:11:27] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:11:27] [INFO] [LastChance] Connected to player Died signal (C#)
[00:11:27] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:11:27] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:11:27] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:11:27] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:11:27] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:11:27] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:11:28] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:11:28] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:11:28] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:11:28] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1056.0203, 934.7495)
[00:11:28] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:11:28] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:11:28] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:11:28] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:11:28] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:11:28] [INFO] [Player.Grenade] Step 1 complete! Drag: (223.8899, -44.74951)
[00:11:28] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:11:28] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:11:29] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:11:29] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:11:29] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:11:29] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:11:31] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:11:31] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, -208.71964) (208,7 px/s), Swing distance: 242,5
[00:11:31] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5707964
[00:11:31] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, -208.7196), Swing: 242.5, Transfer: 0.98, Final speed: 96.4
[00:11:31] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:11:31] [INFO] [Player.Grenade] Thrown! Velocity: 208,7, Swing: 242,5
[00:11:31] [INFO] [Player.Grenade] State reset to IDLE
[00:11:31] [INFO] [GrenadeBase] Grenade landed at (450, 1181.611)
[00:11:31] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:11:31] [INFO] [GrenadeBase] EXPLODED at (450, 1181.611)!
[00:11:31] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450, 1181.611), source=NEUTRAL (FragGrenade), range=2937, listeners=30
[00:11:31] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[00:11:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[00:11:31] [INFO] [FragGrenade] Player found in blast radius at distance 68.4
[00:11:31] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:11:31] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:11:31] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:11:31] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:11:31] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:11:31] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:11:31] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:11:31] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:11:31] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:11:31] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:11:31] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:11:31] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:11:31] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:11:31] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:11:31] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:11:31] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:11:31] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:11:31] [INFO] [LastChance] Player died
[00:11:31] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 68.4
[00:11:31] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 1.0 degrees
[00:11:31] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 70.8 degrees
[00:11:31] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 177.1 degrees
[00:11:31] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 257.4 degrees
[00:11:31] [INFO] [Player.Grenade] Player rotation restored to 0
[00:11:31] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:11:31] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:11:31] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:11:31] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:11:31] [ENEMY] [Enemy1] Death animation component initialized
[00:11:31] [ENEMY] [Enemy2] Death animation component initialized
[00:11:31] [ENEMY] [Enemy3] Death animation component initialized
[00:11:31] [ENEMY] [Enemy4] Death animation component initialized
[00:11:31] [ENEMY] [Enemy5] Death animation component initialized
[00:11:31] [ENEMY] [Enemy6] Death animation component initialized
[00:11:31] [ENEMY] [Enemy7] Death animation component initialized
[00:11:31] [ENEMY] [Enemy8] Death animation component initialized
[00:11:31] [ENEMY] [Enemy9] Death animation component initialized
[00:11:31] [ENEMY] [Enemy10] Death animation component initialized
[00:11:31] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:11:31] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:11:31] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:11:31] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:11:31] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:11:31] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:11:31] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:11:31] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:11:31] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:11:31] [INFO] [ScoreManager] Level started with 10 enemies
[00:11:31] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:11:31] [ENEMY] [Enemy1] Registered as sound listener
[00:11:31] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:11:31] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:11:31] [ENEMY] [Enemy2] Registered as sound listener
[00:11:31] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:11:31] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:11:31] [ENEMY] [Enemy3] Registered as sound listener
[00:11:31] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:11:31] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:11:31] [ENEMY] [Enemy4] Registered as sound listener
[00:11:31] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:11:31] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:11:31] [ENEMY] [Enemy5] Registered as sound listener
[00:11:31] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:11:31] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:11:31] [ENEMY] [Enemy6] Registered as sound listener
[00:11:31] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:11:31] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:11:31] [ENEMY] [Enemy7] Registered as sound listener
[00:11:31] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:11:31] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:11:31] [ENEMY] [Enemy8] Registered as sound listener
[00:11:31] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:11:31] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:11:31] [ENEMY] [Enemy9] Registered as sound listener
[00:11:31] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:11:31] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:11:31] [ENEMY] [Enemy10] Registered as sound listener
[00:11:31] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:11:31] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:11:31] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:11:31] [ENEMY] [Enemy1] Death animation component initialized
[00:11:31] [ENEMY] [Enemy2] Death animation component initialized
[00:11:31] [ENEMY] [Enemy3] Death animation component initialized
[00:11:31] [ENEMY] [Enemy4] Death animation component initialized
[00:11:31] [ENEMY] [Enemy5] Death animation component initialized
[00:11:31] [ENEMY] [Enemy6] Death animation component initialized
[00:11:31] [ENEMY] [Enemy7] Death animation component initialized
[00:11:31] [ENEMY] [Enemy8] Death animation component initialized
[00:11:31] [ENEMY] [Enemy9] Death animation component initialized
[00:11:31] [ENEMY] [Enemy10] Death animation component initialized
[00:11:31] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:11:31] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:11:31] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:11:31] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:11:31] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:11:31] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:11:31] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:11:31] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:11:31] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:11:31] [INFO] [ScoreManager] Level started with 10 enemies
[00:11:31] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[00:11:31] [ENEMY] [Enemy1] Registered as sound listener
[00:11:31] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:11:31] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[00:11:31] [ENEMY] [Enemy2] Registered as sound listener
[00:11:31] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:11:31] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[00:11:31] [ENEMY] [Enemy3] Registered as sound listener
[00:11:31] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:11:31] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[00:11:31] [ENEMY] [Enemy4] Registered as sound listener
[00:11:31] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:11:31] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[00:11:31] [ENEMY] [Enemy5] Registered as sound listener
[00:11:31] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:11:31] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[00:11:31] [ENEMY] [Enemy6] Registered as sound listener
[00:11:31] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:11:31] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[00:11:31] [ENEMY] [Enemy7] Registered as sound listener
[00:11:31] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:11:31] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[00:11:31] [ENEMY] [Enemy8] Registered as sound listener
[00:11:31] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:11:31] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[00:11:31] [ENEMY] [Enemy9] Registered as sound listener
[00:11:31] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:11:31] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[00:11:31] [ENEMY] [Enemy10] Registered as sound listener
[00:11:31] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:11:31] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:11:31] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:11:31] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:11:31] [INFO] [LastChance] Found player: Player
[00:11:31] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:11:31] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:11:31] [INFO] [LastChance] Connected to player Died signal (C#)
[00:11:31] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:11:31] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:11:31] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:11:31] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:11:31] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:11:32] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (617.859, 1017.5696)
[00:11:32] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:11:32] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:11:32] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:11:32] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:11:32] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:11:32] [INFO] [Player.Grenade] Step 1 complete! Drag: (650.405, -25.38031)
[00:11:32] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:11:32] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:11:32] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:11:32] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:11:32] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:11:32] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:11:33] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:11:33] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.9056042, -424.86084) (424,9 px/s), Swing distance: 153,1
[00:11:33] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5686648
[00:11:33] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.905604, -424.8608), Swing: 153.1, Transfer: 0.62, Final speed: 123.9
[00:11:33] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:11:33] [INFO] [Player.Grenade] Thrown! Velocity: 424,9, Swing: 153,1
[00:11:33] [INFO] [Player.Grenade] State reset to IDLE
[00:11:33] [INFO] [Player.Grenade] Player rotation restored to 0
[00:11:33] [INFO] [GrenadeBase] Grenade landed at (450.1629, 1173.558)
[00:11:33] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:11:33] [INFO] [GrenadeBase] EXPLODED at (450.1629, 1173.558)!
[00:11:33] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450.1629, 1173.558), source=NEUTRAL (FragGrenade), range=2937, listeners=30
[00:11:33] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[00:11:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[00:11:33] [INFO] [FragGrenade] Player found in blast radius at distance 76.4
[00:11:33] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:11:33] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:11:33] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:11:33] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:11:33] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:11:33] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:11:33] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:11:33] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:11:33] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:11:33] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:11:33] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:11:33] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:11:33] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:11:33] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:11:33] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:11:33] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:11:33] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:11:33] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:11:33] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:11:33] [INFO] [LastChance] Player died
[00:11:33] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 76.4
[00:11:33] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -17.6 degrees
[00:11:33] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 89.2 degrees
[00:11:33] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 187.7 degrees
[00:11:33] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 285.1 degrees
[00:11:33] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:11:33] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:11:33] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:11:33] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:11:33] [ENEMY] [Enemy1] Death animation component initialized
[00:11:33] [ENEMY] [Enemy2] Death animation component initialized
[00:11:33] [ENEMY] [Enemy3] Death animation component initialized
[00:11:33] [ENEMY] [Enemy4] Death animation component initialized
[00:11:33] [ENEMY] [Enemy5] Death animation component initialized
[00:11:33] [ENEMY] [Enemy6] Death animation component initialized
[00:11:33] [ENEMY] [Enemy7] Death animation component initialized
[00:11:33] [ENEMY] [Enemy8] Death animation component initialized
[00:11:33] [ENEMY] [Enemy9] Death animation component initialized
[00:11:33] [ENEMY] [Enemy10] Death animation component initialized
[00:11:33] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:11:33] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:11:33] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:11:33] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:11:33] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:11:33] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:11:33] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:11:33] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:11:33] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:11:33] [INFO] [ScoreManager] Level started with 10 enemies
[00:11:33] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:11:33] [ENEMY] [Enemy1] Registered as sound listener
[00:11:33] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:11:33] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:11:33] [ENEMY] [Enemy2] Registered as sound listener
[00:11:33] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:11:33] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:11:33] [ENEMY] [Enemy3] Registered as sound listener
[00:11:33] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:11:33] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:11:33] [ENEMY] [Enemy4] Registered as sound listener
[00:11:33] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:11:33] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:11:33] [ENEMY] [Enemy5] Registered as sound listener
[00:11:33] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:11:33] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:11:33] [ENEMY] [Enemy6] Registered as sound listener
[00:11:33] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:11:33] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:11:33] [ENEMY] [Enemy7] Registered as sound listener
[00:11:33] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:11:33] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:11:33] [ENEMY] [Enemy8] Registered as sound listener
[00:11:33] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:11:33] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:11:33] [ENEMY] [Enemy9] Registered as sound listener
[00:11:33] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:11:33] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:11:33] [ENEMY] [Enemy10] Registered as sound listener
[00:11:33] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:11:33] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:11:33] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:11:33] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:11:33] [INFO] [LastChance] Found player: Player
[00:11:33] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:11:33] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:11:33] [INFO] [LastChance] Connected to player Died signal (C#)
[00:11:33] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:11:33] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:11:33] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:11:33] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:11:33] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:11:34] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1190.8511, 890)
[00:11:34] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:11:34] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:11:34] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:11:34] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:11:34] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:11:34] [INFO] [Player.Grenade] Step 1 complete! Drag: (63.46765, 0)
[00:11:34] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:11:34] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:11:34] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:11:34] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:11:34] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:11:34] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:11:34] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:11:34] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2.8052535, 0) (2,8 px/s), Swing distance: 32,0
[00:11:34] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0
[00:11:34] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2.805254, 0), Swing: 32.0, Transfer: 0.13, Final speed: 0.2
[00:11:34] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:11:34] [INFO] [Player.Grenade] Thrown! Velocity: 2,8, Swing: 32,0
[00:11:34] [INFO] [Player.Grenade] State reset to IDLE
[00:11:35] [INFO] [Player.Grenade] Player rotation restored to 0
[00:11:35] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:11:35] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:11:35] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:11:35] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:11:35] [ENEMY] [Enemy1] Death animation component initialized
[00:11:35] [ENEMY] [Enemy2] Death animation component initialized
[00:11:35] [ENEMY] [Enemy3] Death animation component initialized
[00:11:35] [ENEMY] [Enemy4] Death animation component initialized
[00:11:35] [ENEMY] [Enemy5] Death animation component initialized
[00:11:35] [ENEMY] [Enemy6] Death animation component initialized
[00:11:35] [ENEMY] [Enemy7] Death animation component initialized
[00:11:35] [ENEMY] [Enemy8] Death animation component initialized
[00:11:35] [ENEMY] [Enemy9] Death animation component initialized
[00:11:35] [ENEMY] [Enemy10] Death animation component initialized
[00:11:35] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:11:35] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:11:35] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:11:35] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:11:35] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:11:35] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:11:35] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:11:35] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:11:35] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:11:35] [INFO] [ScoreManager] Level started with 10 enemies
[00:11:35] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[00:11:35] [ENEMY] [Enemy1] Registered as sound listener
[00:11:35] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:11:35] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[00:11:35] [ENEMY] [Enemy2] Registered as sound listener
[00:11:35] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:11:35] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[00:11:35] [ENEMY] [Enemy3] Registered as sound listener
[00:11:35] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:11:35] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[00:11:35] [ENEMY] [Enemy4] Registered as sound listener
[00:11:35] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:11:35] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[00:11:35] [ENEMY] [Enemy5] Registered as sound listener
[00:11:35] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:11:35] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[00:11:35] [ENEMY] [Enemy6] Registered as sound listener
[00:11:35] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:11:35] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[00:11:35] [ENEMY] [Enemy7] Registered as sound listener
[00:11:35] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:11:35] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[00:11:35] [ENEMY] [Enemy8] Registered as sound listener
[00:11:35] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:11:35] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[00:11:35] [ENEMY] [Enemy9] Registered as sound listener
[00:11:35] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:11:35] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[00:11:35] [ENEMY] [Enemy10] Registered as sound listener
[00:11:35] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:11:35] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:11:35] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:11:35] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:11:35] [INFO] [LastChance] Found player: Player
[00:11:35] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:11:35] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:11:35] [INFO] [LastChance] Connected to player Died signal (C#)
[00:11:35] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:11:35] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:11:35] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:11:36] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:11:36] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:11:37] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1206.21, 890)
[00:11:37] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:11:37] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:11:37] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:11:37] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:11:37] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:11:37] [INFO] [Player.Grenade] Step 1 complete! Drag: (73.60986, 50.76068)
[00:11:37] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:11:37] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:11:37] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:11:37] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:11:37] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:11:37] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:11:38] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:11:38] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.0044878786, 0) (0,0 px/s), Swing distance: 233,2
[00:11:38] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0
[00:11:38] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.004488, 0), Swing: 233.2, Transfer: 0.94, Final speed: 0.0
[00:11:38] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:11:38] [INFO] [Player.Grenade] Thrown! Velocity: 0,0, Swing: 233,2
[00:11:38] [INFO] [Player.Grenade] State reset to IDLE
[00:11:38] [INFO] [Player.Grenade] Player rotation restored to 0
[00:11:38] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:11:38] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:11:39] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:11:39] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:11:39] [ENEMY] [Enemy1] Death animation component initialized
[00:11:39] [ENEMY] [Enemy2] Death animation component initialized
[00:11:39] [ENEMY] [Enemy3] Death animation component initialized
[00:11:39] [ENEMY] [Enemy4] Death animation component initialized
[00:11:39] [ENEMY] [Enemy5] Death animation component initialized
[00:11:39] [ENEMY] [Enemy6] Death animation component initialized
[00:11:39] [ENEMY] [Enemy7] Death animation component initialized
[00:11:39] [ENEMY] [Enemy8] Death animation component initialized
[00:11:39] [ENEMY] [Enemy9] Death animation component initialized
[00:11:39] [ENEMY] [Enemy10] Death animation component initialized
[00:11:39] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:11:39] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:11:39] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:11:39] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:11:39] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:11:39] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:11:39] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:11:39] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:11:39] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:11:39] [INFO] [ScoreManager] Level started with 10 enemies
[00:11:39] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 31)
[00:11:39] [ENEMY] [Enemy1] Registered as sound listener
[00:11:39] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:11:39] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 32)
[00:11:39] [ENEMY] [Enemy2] Registered as sound listener
[00:11:39] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:11:39] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 33)
[00:11:39] [ENEMY] [Enemy3] Registered as sound listener
[00:11:39] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:11:39] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 34)
[00:11:39] [ENEMY] [Enemy4] Registered as sound listener
[00:11:39] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:11:39] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 35)
[00:11:39] [ENEMY] [Enemy5] Registered as sound listener
[00:11:39] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:11:39] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 36)
[00:11:39] [ENEMY] [Enemy6] Registered as sound listener
[00:11:39] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:11:39] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 37)
[00:11:39] [ENEMY] [Enemy7] Registered as sound listener
[00:11:39] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:11:39] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 38)
[00:11:39] [ENEMY] [Enemy8] Registered as sound listener
[00:11:39] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:11:39] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 39)
[00:11:39] [ENEMY] [Enemy9] Registered as sound listener
[00:11:39] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:11:39] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 40)
[00:11:39] [ENEMY] [Enemy10] Registered as sound listener
[00:11:39] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:11:39] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:11:39] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:11:39] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:11:39] [INFO] [LastChance] Found player: Player
[00:11:39] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:11:39] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:11:39] [INFO] [LastChance] Connected to player Died signal (C#)
[00:11:39] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:11:39] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:11:39] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:11:39] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:11:39] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:11:39] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (646.84845, 910.705)
[00:11:39] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:11:39] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:11:39] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:11:39] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:11:39] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:11:39] [INFO] [Player.Grenade] Step 1 complete! Drag: (609.6104, 0)
[00:11:39] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:11:39] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:11:39] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:11:39] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:11:39] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:11:39] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:11:39] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:11:39] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (923.11816, -138.98296) (933,5 px/s), Swing distance: 82,7
[00:11:39] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,14943577
[00:11:39] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (923.1182, -138.983), Swing: 82.7, Transfer: 0.33, Final speed: 147.0
[00:11:39] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:11:39] [INFO] [Player.Grenade] Thrown! Velocity: 933,5, Swing: 82,7
[00:11:39] [INFO] [Player.Grenade] State reset to IDLE
[00:11:40] [INFO] [Player.Grenade] Player rotation restored to 0
[00:11:40] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:11:40] [INFO] [GrenadeBase] Grenade landed at (532.4531, 1237.586)
[00:11:40] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:11:40] [INFO] [GrenadeBase] EXPLODED at (532.4531, 1237.586)!
[00:11:40] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(532.4531, 1237.586), source=NEUTRAL (FragGrenade), range=2937, listeners=40
[00:11:40] [INFO] [SoundPropagation] Cleaned up 30 invalid listeners
[00:11:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[00:11:40] [INFO] [FragGrenade] Player found in blast radius at distance 83.4
[00:11:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:11:40] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:11:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:11:40] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:11:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:11:40] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:11:40] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:11:40] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:11:40] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:11:40] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:11:40] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:11:40] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:11:40] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:11:40] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:11:40] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:11:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:11:40] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:11:40] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:11:40] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:11:40] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:11:40] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:11:40] [INFO] [LastChance] Player died
[00:11:40] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 83.4
[00:11:40] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -20.0 degrees
[00:11:40] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 76.2 degrees
[00:11:40] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 192.2 degrees
[00:11:40] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 289.0 degrees
[00:11:40] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:11:40] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:11:40] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:11:40] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:11:40] [ENEMY] [Enemy1] Death animation component initialized
[00:11:40] [ENEMY] [Enemy2] Death animation component initialized
[00:11:40] [ENEMY] [Enemy3] Death animation component initialized
[00:11:40] [ENEMY] [Enemy4] Death animation component initialized
[00:11:40] [ENEMY] [Enemy5] Death animation component initialized
[00:11:40] [ENEMY] [Enemy6] Death animation component initialized
[00:11:40] [ENEMY] [Enemy7] Death animation component initialized
[00:11:40] [ENEMY] [Enemy8] Death animation component initialized
[00:11:40] [ENEMY] [Enemy9] Death animation component initialized
[00:11:40] [ENEMY] [Enemy10] Death animation component initialized
[00:11:40] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:11:40] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:11:40] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:11:40] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:11:40] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:11:40] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:11:40] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:11:40] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:11:40] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:11:40] [INFO] [ScoreManager] Level started with 10 enemies
[00:11:40] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:11:40] [ENEMY] [Enemy1] Registered as sound listener
[00:11:40] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:11:40] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:11:40] [ENEMY] [Enemy2] Registered as sound listener
[00:11:40] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:11:40] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:11:40] [ENEMY] [Enemy3] Registered as sound listener
[00:11:40] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:11:40] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:11:40] [ENEMY] [Enemy4] Registered as sound listener
[00:11:40] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:11:40] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:11:40] [ENEMY] [Enemy5] Registered as sound listener
[00:11:40] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:11:40] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:11:40] [ENEMY] [Enemy6] Registered as sound listener
[00:11:40] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:11:40] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:11:40] [ENEMY] [Enemy7] Registered as sound listener
[00:11:40] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:11:40] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:11:40] [ENEMY] [Enemy8] Registered as sound listener
[00:11:40] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:11:40] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:11:40] [ENEMY] [Enemy9] Registered as sound listener
[00:11:40] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:11:40] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:11:40] [ENEMY] [Enemy10] Registered as sound listener
[00:11:40] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:11:40] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:11:40] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:11:40] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:11:40] [INFO] [LastChance] Found player: Player
[00:11:40] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:11:40] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:11:40] [INFO] [LastChance] Connected to player Died signal (C#)
[00:11:40] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:11:40] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:11:40] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:11:40] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:11:40] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:11:40] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (892.231, 923.3952)
[00:11:41] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:11:41] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:11:41] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:11:41] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:11:41] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:11:41] [INFO] [Player.Grenade] Step 1 complete! Drag: (369.6364, 78.81262)
[00:11:41] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:11:41] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:11:41] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:11:41] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:11:41] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:11:41] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:11:41] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:11:41] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (5714.0054, 47.63748) (5714,2 px/s), Swing distance: 492,9
[00:11:41] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,008336775
[00:11:41] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (5714.005, 47.63748), Swing: 492.9, Transfer: 1.00, Final speed: 1186.5
[00:11:41] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:11:41] [INFO] [Player.Grenade] Thrown! Velocity: 5714,2, Swing: 492,9
[00:11:41] [INFO] [Player.Grenade] State reset to IDLE
[00:11:41] [INFO] [Player.Grenade] Player rotation restored to 0
[00:11:41] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:11:42] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:11:42] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:11:42] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:11:42] [ENEMY] [Enemy1] Death animation component initialized
[00:11:42] [ENEMY] [Enemy2] Death animation component initialized
[00:11:42] [ENEMY] [Enemy3] Death animation component initialized
[00:11:42] [ENEMY] [Enemy4] Death animation component initialized
[00:11:42] [ENEMY] [Enemy5] Death animation component initialized
[00:11:42] [ENEMY] [Enemy6] Death animation component initialized
[00:11:42] [ENEMY] [Enemy7] Death animation component initialized
[00:11:42] [ENEMY] [Enemy8] Death animation component initialized
[00:11:42] [ENEMY] [Enemy9] Death animation component initialized
[00:11:42] [ENEMY] [Enemy10] Death animation component initialized
[00:11:42] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:11:42] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:11:42] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:11:42] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:11:42] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:11:42] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:11:42] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:11:42] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:11:42] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:11:42] [INFO] [ScoreManager] Level started with 10 enemies
[00:11:42] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[00:11:42] [ENEMY] [Enemy1] Registered as sound listener
[00:11:42] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:11:42] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[00:11:42] [ENEMY] [Enemy2] Registered as sound listener
[00:11:42] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:11:42] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[00:11:42] [ENEMY] [Enemy3] Registered as sound listener
[00:11:42] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:11:42] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[00:11:42] [ENEMY] [Enemy4] Registered as sound listener
[00:11:42] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:11:42] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[00:11:42] [ENEMY] [Enemy5] Registered as sound listener
[00:11:42] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:11:42] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[00:11:42] [ENEMY] [Enemy6] Registered as sound listener
[00:11:42] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:11:42] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[00:11:42] [ENEMY] [Enemy7] Registered as sound listener
[00:11:42] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:11:42] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[00:11:42] [ENEMY] [Enemy8] Registered as sound listener
[00:11:42] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:11:42] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[00:11:42] [ENEMY] [Enemy9] Registered as sound listener
[00:11:42] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:11:42] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[00:11:42] [ENEMY] [Enemy10] Registered as sound listener
[00:11:42] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:11:42] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:11:42] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:11:42] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:11:42] [INFO] [LastChance] Found player: Player
[00:11:42] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:11:42] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:11:42] [INFO] [LastChance] Connected to player Died signal (C#)
[00:11:42] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:11:42] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:11:42] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:11:42] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:11:42] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:11:42] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1087.6609, 987.5139)
[00:11:42] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:11:42] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:11:42] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:11:42] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:11:42] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:11:42] [INFO] [Player.Grenade] Step 1 complete! Drag: (170.75977, 30.723572)
[00:11:42] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:11:42] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:11:43] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:11:43] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:11:43] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:11:43] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:11:43] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:11:43] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1594.8901, 15.715472) (1595,0 px/s), Swing distance: 195,6
[00:11:43] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,00985332
[00:11:43] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1594.89, 15.71547), Swing: 195.6, Transfer: 0.79, Final speed: 594.1
[00:11:43] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:11:43] [INFO] [Player.Grenade] Thrown! Velocity: 1595,0, Swing: 195,6
[00:11:43] [INFO] [Player.Grenade] State reset to IDLE
[00:11:43] [INFO] [Player.Grenade] Player rotation restored to 0
[00:11:43] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:11:43] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:11:44] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:11:44] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:11:44] [ENEMY] [Enemy1] Death animation component initialized
[00:11:44] [ENEMY] [Enemy2] Death animation component initialized
[00:11:44] [ENEMY] [Enemy3] Death animation component initialized
[00:11:44] [ENEMY] [Enemy4] Death animation component initialized
[00:11:44] [ENEMY] [Enemy5] Death animation component initialized
[00:11:44] [ENEMY] [Enemy6] Death animation component initialized
[00:11:44] [ENEMY] [Enemy7] Death animation component initialized
[00:11:44] [ENEMY] [Enemy8] Death animation component initialized
[00:11:44] [ENEMY] [Enemy9] Death animation component initialized
[00:11:44] [ENEMY] [Enemy10] Death animation component initialized
[00:11:44] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:11:44] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:11:44] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:11:44] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:11:44] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:11:44] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:11:44] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:11:44] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:11:44] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:11:44] [INFO] [ScoreManager] Level started with 10 enemies
[00:11:44] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 31)
[00:11:44] [ENEMY] [Enemy1] Registered as sound listener
[00:11:44] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:11:44] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 32)
[00:11:44] [ENEMY] [Enemy2] Registered as sound listener
[00:11:44] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:11:44] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 33)
[00:11:44] [ENEMY] [Enemy3] Registered as sound listener
[00:11:44] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:11:44] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 34)
[00:11:44] [ENEMY] [Enemy4] Registered as sound listener
[00:11:44] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:11:44] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 35)
[00:11:44] [ENEMY] [Enemy5] Registered as sound listener
[00:11:44] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:11:44] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 36)
[00:11:44] [ENEMY] [Enemy6] Registered as sound listener
[00:11:44] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:11:44] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 37)
[00:11:44] [ENEMY] [Enemy7] Registered as sound listener
[00:11:44] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:11:44] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 38)
[00:11:44] [ENEMY] [Enemy8] Registered as sound listener
[00:11:44] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:11:44] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 39)
[00:11:44] [ENEMY] [Enemy9] Registered as sound listener
[00:11:44] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:11:44] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 40)
[00:11:44] [ENEMY] [Enemy10] Registered as sound listener
[00:11:44] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:11:44] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:11:44] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:11:44] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:11:44] [INFO] [LastChance] Found player: Player
[00:11:44] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:11:44] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:11:44] [INFO] [LastChance] Connected to player Died signal (C#)
[00:11:44] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:11:44] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:11:44] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:11:44] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:11:44] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:11:45] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (868.47955, 944.10016)
[00:11:45] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:11:45] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:11:45] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:11:45] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:11:45] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:11:45] [INFO] [Player.Grenade] Step 1 complete! Drag: (411.15912, 8.014893)
[00:11:45] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:11:45] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:11:45] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:11:45] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:11:45] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:11:45] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:11:47] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:11:47] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (4644.971, 0) (4645,0 px/s), Swing distance: 563,2
[00:11:47] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0
[00:11:47] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (4644.971, 0), Swing: 563.2, Transfer: 1.00, Final speed: 1186.5
[00:11:47] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:11:47] [INFO] [Player.Grenade] Thrown! Velocity: 4645,0, Swing: 563,2
[00:11:47] [INFO] [Player.Grenade] State reset to IDLE
[00:11:47] [INFO] [Player.Grenade] Player rotation restored to 0
[00:11:47] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:11:47] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:11:48] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:11:48] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:11:48] [ENEMY] [Enemy1] Death animation component initialized
[00:11:48] [ENEMY] [Enemy2] Death animation component initialized
[00:11:48] [ENEMY] [Enemy3] Death animation component initialized
[00:11:48] [ENEMY] [Enemy4] Death animation component initialized
[00:11:48] [ENEMY] [Enemy5] Death animation component initialized
[00:11:48] [ENEMY] [Enemy6] Death animation component initialized
[00:11:48] [ENEMY] [Enemy7] Death animation component initialized
[00:11:48] [ENEMY] [Enemy8] Death animation component initialized
[00:11:48] [ENEMY] [Enemy9] Death animation component initialized
[00:11:48] [ENEMY] [Enemy10] Death animation component initialized
[00:11:48] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:11:48] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:11:48] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:11:48] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:11:48] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:11:48] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:11:48] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:11:48] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:11:48] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:11:48] [INFO] [ScoreManager] Level started with 10 enemies
[00:11:48] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 41)
[00:11:48] [ENEMY] [Enemy1] Registered as sound listener
[00:11:48] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:11:48] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 42)
[00:11:48] [ENEMY] [Enemy2] Registered as sound listener
[00:11:48] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:11:48] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 43)
[00:11:48] [ENEMY] [Enemy3] Registered as sound listener
[00:11:48] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:11:48] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 44)
[00:11:48] [ENEMY] [Enemy4] Registered as sound listener
[00:11:48] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:11:48] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 45)
[00:11:48] [ENEMY] [Enemy5] Registered as sound listener
[00:11:48] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:11:48] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 46)
[00:11:48] [ENEMY] [Enemy6] Registered as sound listener
[00:11:48] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:11:48] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 47)
[00:11:48] [ENEMY] [Enemy7] Registered as sound listener
[00:11:48] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:11:48] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 48)
[00:11:48] [ENEMY] [Enemy8] Registered as sound listener
[00:11:48] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:11:48] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 49)
[00:11:48] [ENEMY] [Enemy9] Registered as sound listener
[00:11:48] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:11:48] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 50)
[00:11:48] [ENEMY] [Enemy10] Registered as sound listener
[00:11:48] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:11:48] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:11:48] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:11:48] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:11:48] [INFO] [LastChance] Found player: Player
[00:11:48] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:11:48] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:11:48] [INFO] [LastChance] Connected to player Died signal (C#)
[00:11:48] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:11:48] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:11:48] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:11:48] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:11:48] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:11:49] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1011.4389, 927.4026)
[00:11:49] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:11:49] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:11:49] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:11:49] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:11:49] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:11:49] [INFO] [Player.Grenade] Step 1 complete! Drag: (267.33917, -28.719849)
[00:11:49] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:11:49] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:11:49] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:11:49] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:11:49] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:11:49] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:11:50] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:11:50] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (5399.0435, -149.2963) (5401,1 px/s), Swing distance: 722,1
[00:11:50] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,027645316
[00:11:50] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (5399.043, -149.2963), Swing: 722.1, Transfer: 1.00, Final speed: 1186.5
[00:11:50] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:11:50] [INFO] [Player.Grenade] Thrown! Velocity: 5401,1, Swing: 722,1
[00:11:50] [INFO] [Player.Grenade] State reset to IDLE
[00:11:50] [INFO] [Player.Grenade] Player rotation restored to 0
[00:11:50] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:11:50] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:11:51] [INFO] [GrenadeBase] Grenade landed at (1170.847, 1230.067)
[00:11:51] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:11:51] [INFO] [GrenadeBase] EXPLODED at (1170.847, 1230.067)!
[00:11:51] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1170.847, 1230.067), source=NEUTRAL (FragGrenade), range=2937, listeners=50
[00:11:51] [INFO] [SoundPropagation] Cleaned up 40 invalid listeners
[00:11:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[00:11:51] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -5.4 degrees
[00:11:51] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 107.4 degrees
[00:11:51] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 186.2 degrees
[00:11:51] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 269.6 degrees
[00:11:52] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:11:52] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:11:52] [ENEMY] [Enemy1] Death animation component initialized
[00:11:52] [ENEMY] [Enemy2] Death animation component initialized
[00:11:52] [ENEMY] [Enemy3] Death animation component initialized
[00:11:52] [ENEMY] [Enemy4] Death animation component initialized
[00:11:52] [ENEMY] [Enemy5] Death animation component initialized
[00:11:52] [ENEMY] [Enemy6] Death animation component initialized
[00:11:52] [ENEMY] [Enemy7] Death animation component initialized
[00:11:52] [ENEMY] [Enemy8] Death animation component initialized
[00:11:52] [ENEMY] [Enemy9] Death animation component initialized
[00:11:52] [ENEMY] [Enemy10] Death animation component initialized
[00:11:52] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:11:52] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:11:52] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:11:52] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:11:52] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:11:52] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:11:52] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:11:52] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:11:52] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:11:52] [INFO] [ScoreManager] Level started with 10 enemies
[00:11:52] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:11:52] [ENEMY] [Enemy1] Registered as sound listener
[00:11:52] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:11:52] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:11:52] [ENEMY] [Enemy2] Registered as sound listener
[00:11:52] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:11:52] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:11:52] [ENEMY] [Enemy3] Registered as sound listener
[00:11:52] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:11:52] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:11:52] [ENEMY] [Enemy4] Registered as sound listener
[00:11:52] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:11:52] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:11:52] [ENEMY] [Enemy5] Registered as sound listener
[00:11:52] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:11:52] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:11:52] [ENEMY] [Enemy6] Registered as sound listener
[00:11:52] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:11:52] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:11:52] [ENEMY] [Enemy7] Registered as sound listener
[00:11:52] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:11:52] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:11:52] [ENEMY] [Enemy8] Registered as sound listener
[00:11:52] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:11:52] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:11:52] [ENEMY] [Enemy9] Registered as sound listener
[00:11:52] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:11:52] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:11:52] [ENEMY] [Enemy10] Registered as sound listener
[00:11:52] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:11:52] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:11:52] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:11:52] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:11:52] [INFO] [LastChance] Found player: Player
[00:11:52] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:11:52] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:11:52] [INFO] [LastChance] Connected to player Died signal (C#)
[00:11:52] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:11:52] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:11:52] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:11:52] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:11:52] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:11:53] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1071.5471, 1062.3191)
[00:11:53] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:11:53] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:11:53] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:11:53] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:11:53] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:11:53] [INFO] [Player.Grenade] Step 1 complete! Drag: (205.27087, -28.05188)
[00:11:53] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:11:53] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:11:53] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:11:53] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:11:53] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:11:53] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:11:53] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:11:53] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.54222554, 0) (0,5 px/s), Swing distance: 82,8
[00:11:53] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0
[00:11:53] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.542226, 0), Swing: 82.8, Transfer: 0.33, Final speed: 0.1
[00:11:53] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:11:53] [INFO] [Player.Grenade] Thrown! Velocity: 0,5, Swing: 82,8
[00:11:53] [INFO] [Player.Grenade] State reset to IDLE
[00:11:54] [INFO] [Player.Grenade] Player rotation restored to 0
[00:11:54] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:11:54] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:11:54] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:11:54] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:11:54] [ENEMY] [Enemy1] Death animation component initialized
[00:11:54] [ENEMY] [Enemy2] Death animation component initialized
[00:11:54] [ENEMY] [Enemy3] Death animation component initialized
[00:11:54] [ENEMY] [Enemy4] Death animation component initialized
[00:11:54] [ENEMY] [Enemy5] Death animation component initialized
[00:11:54] [ENEMY] [Enemy6] Death animation component initialized
[00:11:54] [ENEMY] [Enemy7] Death animation component initialized
[00:11:54] [ENEMY] [Enemy8] Death animation component initialized
[00:11:54] [ENEMY] [Enemy9] Death animation component initialized
[00:11:54] [ENEMY] [Enemy10] Death animation component initialized
[00:11:54] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:11:54] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:11:54] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:11:54] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:11:54] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:11:54] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:11:54] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:11:54] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:11:54] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:11:54] [INFO] [ScoreManager] Level started with 10 enemies
[00:11:54] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[00:11:54] [ENEMY] [Enemy1] Registered as sound listener
[00:11:54] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:11:54] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[00:11:54] [ENEMY] [Enemy2] Registered as sound listener
[00:11:54] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:11:54] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[00:11:54] [ENEMY] [Enemy3] Registered as sound listener
[00:11:54] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:11:54] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[00:11:54] [ENEMY] [Enemy4] Registered as sound listener
[00:11:54] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:11:54] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[00:11:54] [ENEMY] [Enemy5] Registered as sound listener
[00:11:54] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:11:54] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[00:11:54] [ENEMY] [Enemy6] Registered as sound listener
[00:11:54] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:11:54] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[00:11:54] [ENEMY] [Enemy7] Registered as sound listener
[00:11:54] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:11:54] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[00:11:54] [ENEMY] [Enemy8] Registered as sound listener
[00:11:54] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:11:54] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[00:11:54] [ENEMY] [Enemy9] Registered as sound listener
[00:11:54] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:11:54] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[00:11:54] [ENEMY] [Enemy10] Registered as sound listener
[00:11:54] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:11:54] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:11:54] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:11:54] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:11:54] [INFO] [LastChance] Found player: Player
[00:11:54] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:11:54] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:11:54] [INFO] [LastChance] Connected to player Died signal (C#)
[00:11:54] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:11:54] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:11:54] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:11:54] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:11:54] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:11:55] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (860.40393, 1024.2487)
[00:11:55] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:11:55] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:11:55] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:11:55] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:11:55] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:11:55] [INFO] [Player.Grenade] Step 1 complete! Drag: (418.00977, 2.003662)
[00:11:55] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:11:55] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:11:55] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:11:55] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:11:56] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:11:56] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:11:56] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:11:56] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (369.4471, 94.29285) (381,3 px/s), Swing distance: 228,1
[00:11:56] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,24989203
[00:11:56] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (369.4471, 94.29285), Swing: 228.1, Transfer: 0.92, Final speed: 165.6
[00:11:56] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:11:56] [INFO] [Player.Grenade] Thrown! Velocity: 381,3, Swing: 228,1
[00:11:56] [INFO] [Player.Grenade] State reset to IDLE
[00:11:56] [INFO] [Player.Grenade] Player rotation restored to 0
[00:11:56] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:11:56] [INFO] [GrenadeBase] Grenade landed at (536.5026, 1272.078)
[00:11:56] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:11:56] [INFO] [GrenadeBase] EXPLODED at (536.5026, 1272.078)!
[00:11:56] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(536.5026, 1272.078), source=NEUTRAL (FragGrenade), range=2937, listeners=30
[00:11:56] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[00:11:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[00:11:56] [INFO] [FragGrenade] Player found in blast radius at distance 89.3
[00:11:56] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:11:56] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:11:56] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:11:56] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:11:56] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:11:56] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:11:56] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:11:56] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:11:56] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:11:56] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:11:56] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:11:56] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:11:56] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:11:56] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:11:56] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:11:56] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:11:56] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:11:56] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:11:56] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:11:56] [INFO] [LastChance] Player died
[00:11:56] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 89.3
[00:11:56] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 1.9 degrees
[00:11:56] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 108.9 degrees
[00:11:56] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 170.3 degrees
[00:11:56] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 258.6 degrees
[00:11:57] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:11:57] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:11:57] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:11:57] [ENEMY] [Enemy1] Death animation component initialized
[00:11:57] [ENEMY] [Enemy2] Death animation component initialized
[00:11:57] [ENEMY] [Enemy3] Death animation component initialized
[00:11:57] [ENEMY] [Enemy4] Death animation component initialized
[00:11:57] [ENEMY] [Enemy5] Death animation component initialized
[00:11:57] [ENEMY] [Enemy6] Death animation component initialized
[00:11:57] [ENEMY] [Enemy7] Death animation component initialized
[00:11:57] [ENEMY] [Enemy8] Death animation component initialized
[00:11:57] [ENEMY] [Enemy9] Death animation component initialized
[00:11:57] [ENEMY] [Enemy10] Death animation component initialized
[00:11:57] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:11:57] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:11:57] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:11:57] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:11:57] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:11:57] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:11:57] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:11:57] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:11:57] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:11:57] [INFO] [ScoreManager] Level started with 10 enemies
[00:11:57] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:11:57] [ENEMY] [Enemy1] Registered as sound listener
[00:11:57] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:11:57] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:11:57] [ENEMY] [Enemy2] Registered as sound listener
[00:11:57] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:11:57] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:11:57] [ENEMY] [Enemy3] Registered as sound listener
[00:11:57] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:11:57] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:11:57] [ENEMY] [Enemy4] Registered as sound listener
[00:11:57] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:11:57] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:11:57] [ENEMY] [Enemy5] Registered as sound listener
[00:11:57] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:11:57] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:11:57] [ENEMY] [Enemy6] Registered as sound listener
[00:11:57] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:11:57] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:11:57] [ENEMY] [Enemy7] Registered as sound listener
[00:11:57] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:11:57] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:11:57] [ENEMY] [Enemy8] Registered as sound listener
[00:11:57] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:11:57] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:11:57] [ENEMY] [Enemy9] Registered as sound listener
[00:11:57] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:11:57] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:11:57] [ENEMY] [Enemy10] Registered as sound listener
[00:11:57] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:11:57] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:11:57] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:11:57] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:11:57] [INFO] [LastChance] Found player: Player
[00:11:57] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:11:57] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:11:57] [INFO] [LastChance] Connected to player Died signal (C#)
[00:11:57] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:11:57] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:11:57] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:11:57] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:11:57] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:11:57] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (641.13464, 1077.6809)
[00:11:57] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:11:57] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:11:57] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:11:57] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:11:57] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:11:57] [INFO] [Player.Grenade] Step 1 complete! Drag: (598.91077, 21.372925)
[00:11:57] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:11:57] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:11:58] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:11:58] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:11:58] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:11:58] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:11:58] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:11:58] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (245.62141, 0) (245,6 px/s), Swing distance: 44,1
[00:11:58] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0
[00:11:58] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (245.6214, 0), Swing: 44.1, Transfer: 0.18, Final speed: 20.6
[00:11:58] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:11:58] [INFO] [Player.Grenade] Thrown! Velocity: 245,6, Swing: 44,1
[00:11:58] [INFO] [Player.Grenade] State reset to IDLE
[00:11:58] [INFO] [Player.Grenade] Player rotation restored to 0
[00:11:58] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:11:59] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:11:59] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:11:59] [ENEMY] [Enemy1] Death animation component initialized
[00:11:59] [ENEMY] [Enemy2] Death animation component initialized
[00:11:59] [ENEMY] [Enemy3] Death animation component initialized
[00:11:59] [ENEMY] [Enemy4] Death animation component initialized
[00:11:59] [ENEMY] [Enemy5] Death animation component initialized
[00:11:59] [ENEMY] [Enemy6] Death animation component initialized
[00:11:59] [ENEMY] [Enemy7] Death animation component initialized
[00:11:59] [ENEMY] [Enemy8] Death animation component initialized
[00:11:59] [ENEMY] [Enemy9] Death animation component initialized
[00:11:59] [ENEMY] [Enemy10] Death animation component initialized
[00:11:59] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:11:59] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:11:59] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:11:59] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:11:59] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:11:59] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:11:59] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:11:59] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:11:59] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:11:59] [INFO] [ScoreManager] Level started with 10 enemies
[00:11:59] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[00:11:59] [ENEMY] [Enemy1] Registered as sound listener
[00:11:59] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:11:59] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[00:11:59] [ENEMY] [Enemy2] Registered as sound listener
[00:11:59] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:11:59] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[00:11:59] [ENEMY] [Enemy3] Registered as sound listener
[00:11:59] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:11:59] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[00:11:59] [ENEMY] [Enemy4] Registered as sound listener
[00:11:59] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:11:59] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[00:11:59] [ENEMY] [Enemy5] Registered as sound listener
[00:11:59] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:11:59] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[00:11:59] [ENEMY] [Enemy6] Registered as sound listener
[00:11:59] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:11:59] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[00:11:59] [ENEMY] [Enemy7] Registered as sound listener
[00:11:59] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:11:59] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[00:11:59] [ENEMY] [Enemy8] Registered as sound listener
[00:11:59] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:11:59] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[00:11:59] [ENEMY] [Enemy9] Registered as sound listener
[00:11:59] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:11:59] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[00:11:59] [ENEMY] [Enemy10] Registered as sound listener
[00:11:59] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:11:59] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:11:59] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:11:59] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:11:59] [INFO] [LastChance] Found player: Player
[00:11:59] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:11:59] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:11:59] [INFO] [LastChance] Connected to player Died signal (C#)
[00:11:59] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:11:59] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:11:59] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:11:59] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:11:59] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:11:59] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1243.856, 1042.282)
[00:11:59] [INFO] [Player.Grenade] Step 1 failed: drag not far enough right (27,857666 < 30)
[00:11:59] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1139.021, 1047.6252)
[00:11:59] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:12:00] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:12:00] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:12:00] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:12:00] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (978.02826, 1070.334)
[00:12:00] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:12:00] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:12:00] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:12:00] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:12:00] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:12:00] [INFO] [Player.Grenade] Step 1 complete! Drag: (301.96515, 9.350586)
[00:12:01] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:12:01] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:12:01] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:12:01] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:12:01] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:12:01] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:12:04] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:12:04] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, -2494.8162) (2494,8 px/s), Swing distance: 712,5
[00:12:04] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5707964
[00:12:04] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, -2494.816), Swing: 712.5, Transfer: 1.00, Final speed: 1176.1
[00:12:04] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:12:04] [INFO] [Player.Grenade] Thrown! Velocity: 2494,8, Swing: 712,5
[00:12:04] [INFO] [Player.Grenade] State reset to IDLE
[00:12:04] [INFO] [Player.Grenade] Player rotation restored to 0
[00:12:04] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:12:05] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:12:05] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:12:05] [INFO] [FragGrenade] Wall impact detected! Body: Room1_WallBottom, triggering explosion
[00:12:05] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:12:05] [INFO] [GrenadeBase] EXPLODED at (450, 721.509)!
[00:12:05] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450, 721.509), source=NEUTRAL (FragGrenade), range=2937, listeners=30
[00:12:05] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[00:12:05] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:12:05] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 18.1 degrees
[00:12:05] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 102.9 degrees
[00:12:05] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 165.0 degrees
[00:12:05] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 279.1 degrees
[00:12:05] [ENEMY] [Enemy4] Hit taken, health: 2/3
[00:12:05] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:12:05] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:12:05] [ENEMY] [Enemy1] Death animation component initialized
[00:12:05] [ENEMY] [Enemy2] Death animation component initialized
[00:12:05] [ENEMY] [Enemy3] Death animation component initialized
[00:12:05] [ENEMY] [Enemy4] Death animation component initialized
[00:12:05] [ENEMY] [Enemy5] Death animation component initialized
[00:12:05] [ENEMY] [Enemy6] Death animation component initialized
[00:12:05] [ENEMY] [Enemy7] Death animation component initialized
[00:12:05] [ENEMY] [Enemy8] Death animation component initialized
[00:12:05] [ENEMY] [Enemy9] Death animation component initialized
[00:12:05] [ENEMY] [Enemy10] Death animation component initialized
[00:12:05] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:12:05] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:12:05] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:12:05] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:12:05] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:12:05] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:12:05] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:12:05] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:12:05] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:12:05] [INFO] [ScoreManager] Level started with 10 enemies
[00:12:05] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:12:05] [ENEMY] [Enemy1] Registered as sound listener
[00:12:05] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:12:05] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:12:05] [ENEMY] [Enemy2] Registered as sound listener
[00:12:05] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:12:05] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:12:05] [ENEMY] [Enemy3] Registered as sound listener
[00:12:05] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:12:05] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:12:05] [ENEMY] [Enemy4] Registered as sound listener
[00:12:05] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:12:05] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:12:05] [ENEMY] [Enemy5] Registered as sound listener
[00:12:05] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:12:05] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:12:05] [ENEMY] [Enemy6] Registered as sound listener
[00:12:05] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:12:05] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:12:05] [ENEMY] [Enemy7] Registered as sound listener
[00:12:05] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:12:05] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:12:05] [ENEMY] [Enemy8] Registered as sound listener
[00:12:05] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:12:05] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:12:05] [ENEMY] [Enemy9] Registered as sound listener
[00:12:05] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:12:05] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:12:05] [ENEMY] [Enemy10] Registered as sound listener
[00:12:05] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:12:05] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:12:05] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:12:05] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:12:05] [INFO] [LastChance] Found player: Player
[00:12:05] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:12:05] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:12:05] [INFO] [LastChance] Connected to player Died signal (C#)
[00:12:05] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:12:05] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:12:05] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:12:05] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:12:05] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:12:06] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (996.8595, 900.68646)
[00:12:06] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:12:06] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:12:06] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:12:06] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:12:06] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:12:06] [INFO] [Player.Grenade] Step 1 complete! Drag: (282.0204, 19.369202)
[00:12:06] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:12:06] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:12:06] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:12:06] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:12:06] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:12:06] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:12:07] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:12:07] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.01741297, -729.783) (729,8 px/s), Swing distance: 190,5
[00:12:07] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5707724
[00:12:07] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.017413, -729.783), Swing: 190.5, Transfer: 0.77, Final speed: 264.8
[00:12:07] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:12:07] [INFO] [Player.Grenade] Thrown! Velocity: 729,8, Swing: 190,5
[00:12:07] [INFO] [Player.Grenade] State reset to IDLE
[00:12:07] [INFO] [Player.Grenade] Player rotation restored to 0
[00:12:07] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:12:08] [INFO] [GrenadeBase] Grenade landed at (450.0031, 1120.023)
[00:12:08] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:12:08] [INFO] [GrenadeBase] EXPLODED at (450.0031, 1120.023)!
[00:12:08] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450.0031, 1120.023), source=NEUTRAL (FragGrenade), range=2937, listeners=20
[00:12:08] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:12:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[00:12:08] [INFO] [FragGrenade] Player found in blast radius at distance 130.0
[00:12:08] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:12:08] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:12:08] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:12:08] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:12:08] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:12:08] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:12:08] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:12:08] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:12:08] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:12:08] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:12:08] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:12:08] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:12:08] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:12:08] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:12:08] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:12:08] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:12:08] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:12:08] [INFO] [LastChance] Player died
[00:12:08] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 130.0
[00:12:08] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -3.6 degrees
[00:12:08] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 102.8 degrees
[00:12:08] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 180.2 degrees
[00:12:08] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 268.0 degrees
[00:12:08] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:12:08] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:12:08] [ENEMY] [Enemy1] Death animation component initialized
[00:12:08] [ENEMY] [Enemy2] Death animation component initialized
[00:12:08] [ENEMY] [Enemy3] Death animation component initialized
[00:12:08] [ENEMY] [Enemy4] Death animation component initialized
[00:12:08] [ENEMY] [Enemy5] Death animation component initialized
[00:12:08] [ENEMY] [Enemy6] Death animation component initialized
[00:12:08] [ENEMY] [Enemy7] Death animation component initialized
[00:12:08] [ENEMY] [Enemy8] Death animation component initialized
[00:12:08] [ENEMY] [Enemy9] Death animation component initialized
[00:12:08] [ENEMY] [Enemy10] Death animation component initialized
[00:12:08] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:12:08] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:12:08] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:12:08] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:12:08] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:12:08] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:12:08] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:12:08] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:12:08] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:12:08] [INFO] [ScoreManager] Level started with 10 enemies
[00:12:08] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:12:08] [ENEMY] [Enemy1] Registered as sound listener
[00:12:08] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:12:08] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:12:08] [ENEMY] [Enemy2] Registered as sound listener
[00:12:08] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:12:08] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:12:08] [ENEMY] [Enemy3] Registered as sound listener
[00:12:08] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:12:08] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:12:08] [ENEMY] [Enemy4] Registered as sound listener
[00:12:08] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:12:08] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:12:08] [ENEMY] [Enemy5] Registered as sound listener
[00:12:08] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:12:08] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:12:08] [ENEMY] [Enemy6] Registered as sound listener
[00:12:08] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:12:08] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:12:08] [ENEMY] [Enemy7] Registered as sound listener
[00:12:08] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:12:08] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:12:08] [ENEMY] [Enemy8] Registered as sound listener
[00:12:08] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:12:08] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:12:08] [ENEMY] [Enemy9] Registered as sound listener
[00:12:08] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:12:08] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:12:08] [ENEMY] [Enemy10] Registered as sound listener
[00:12:08] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:12:08] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:12:08] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:12:08] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:12:08] [INFO] [LastChance] Found player: Player
[00:12:08] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:12:08] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:12:08] [INFO] [LastChance] Connected to player Died signal (C#)
[00:12:08] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:12:08] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:12:08] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:12:08] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:12:08] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:12:08] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (817.87335, 1243.9889)
[00:12:08] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:12:08] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:12:08] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:12:08] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:12:08] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:12:08] [INFO] [Player.Grenade] Step 1 complete! Drag: (290.65692, -30.055664)
[00:12:08] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:12:08] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:12:09] [INFO] [Player.Grenade] RMB released before G - back to waiting for RMB
[00:12:09] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:12:09] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:12:10] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:12:10] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:12:10] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:12:10] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:12:14] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:12:14] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, 653.6618) (653,7 px/s), Swing distance: 257,8
[00:12:14] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,5707964
[00:12:14] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, 653.6618), Swing: 257.8, Transfer: 1.00, Final speed: 308.1
[00:12:14] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:12:14] [INFO] [Player.Grenade] Thrown! Velocity: 653,7, Swing: 257,8
[00:12:14] [INFO] [Player.Grenade] State reset to IDLE
[00:12:14] [INFO] [Player.Grenade] Player rotation restored to 0
[00:12:14] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:12:14] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:12:14] [INFO] [GrenadeBase] Grenade landed at (450, 1400.139)
[00:12:14] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:12:14] [INFO] [GrenadeBase] EXPLODED at (450, 1400.139)!
[00:12:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450, 1400.139), source=NEUTRAL (FragGrenade), range=2937, listeners=20
[00:12:14] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:12:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=10
[00:12:14] [INFO] [FragGrenade] Player found in blast radius at distance 150.1
[00:12:14] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:12:14] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:12:14] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:12:14] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:12:14] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:12:14] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:12:14] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:12:14] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:12:14] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:12:14] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:12:14] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:12:14] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:12:14] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:12:14] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:12:14] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:12:14] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:12:14] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:12:14] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:12:14] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:12:14] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:12:14] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:12:14] [INFO] [LastChance] Player died
[00:12:14] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 150.1
[00:12:14] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 15.9 degrees
[00:12:14] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 90.9 degrees
[00:12:14] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 166.0 degrees
[00:12:14] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 251.2 degrees
[00:12:14] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:12:14] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:12:14] [ENEMY] [Enemy1] Death animation component initialized
[00:12:14] [ENEMY] [Enemy2] Death animation component initialized
[00:12:14] [ENEMY] [Enemy3] Death animation component initialized
[00:12:14] [ENEMY] [Enemy4] Death animation component initialized
[00:12:14] [ENEMY] [Enemy5] Death animation component initialized
[00:12:14] [ENEMY] [Enemy6] Death animation component initialized
[00:12:14] [ENEMY] [Enemy7] Death animation component initialized
[00:12:14] [ENEMY] [Enemy8] Death animation component initialized
[00:12:14] [ENEMY] [Enemy9] Death animation component initialized
[00:12:14] [ENEMY] [Enemy10] Death animation component initialized
[00:12:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:12:14] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:12:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:12:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:12:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:12:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:12:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:12:14] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:12:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:12:14] [INFO] [ScoreManager] Level started with 10 enemies
[00:12:14] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:12:14] [ENEMY] [Enemy1] Registered as sound listener
[00:12:14] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:12:14] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:12:14] [ENEMY] [Enemy2] Registered as sound listener
[00:12:14] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:12:14] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:12:14] [ENEMY] [Enemy3] Registered as sound listener
[00:12:14] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:12:14] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:12:14] [ENEMY] [Enemy4] Registered as sound listener
[00:12:14] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:12:14] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:12:14] [ENEMY] [Enemy5] Registered as sound listener
[00:12:14] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:12:14] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:12:14] [ENEMY] [Enemy6] Registered as sound listener
[00:12:14] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:12:14] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:12:14] [ENEMY] [Enemy7] Registered as sound listener
[00:12:14] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:12:14] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:12:14] [ENEMY] [Enemy8] Registered as sound listener
[00:12:14] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:12:14] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:12:14] [ENEMY] [Enemy9] Registered as sound listener
[00:12:14] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:12:14] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:12:14] [ENEMY] [Enemy10] Registered as sound listener
[00:12:14] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:12:14] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:12:14] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:12:14] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:12:14] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:12:14] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:12:14] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:12:14] [INFO] [LastChance] Found player: Player
[00:12:14] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:12:14] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:12:14] [INFO] [LastChance] Connected to player Died signal (C#)
[00:12:15] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:12:15] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:12:15] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (517.80695, 1025.5845)
[00:12:15] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:12:15] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:12:15] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:12:15] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:12:15] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:12:15] [INFO] [Player.Grenade] Step 1 complete! Drag: (756.34235, 0)
[00:12:15] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:12:15] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:12:15] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:12:15] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:12:15] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:12:15] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:12:16] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:12:16] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.055200912, 23.573212) (23,6 px/s), Swing distance: 111,8
[00:12:16] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,5684546
[00:12:16] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.055201, 23.57321), Swing: 111.8, Transfer: 0.45, Final speed: 5.0
[00:12:16] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:12:16] [INFO] [Player.Grenade] Thrown! Velocity: 23,6, Swing: 111,8
[00:12:16] [INFO] [Player.Grenade] State reset to IDLE
[00:12:16] [INFO] [Player.Grenade] Player rotation restored to 0
[00:12:17] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:12:17] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:12:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:12:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:12:17] [ENEMY] [Enemy1] Death animation component initialized
[00:12:17] [ENEMY] [Enemy2] Death animation component initialized
[00:12:17] [ENEMY] [Enemy3] Death animation component initialized
[00:12:17] [ENEMY] [Enemy4] Death animation component initialized
[00:12:17] [ENEMY] [Enemy5] Death animation component initialized
[00:12:17] [ENEMY] [Enemy6] Death animation component initialized
[00:12:17] [ENEMY] [Enemy7] Death animation component initialized
[00:12:17] [ENEMY] [Enemy8] Death animation component initialized
[00:12:17] [ENEMY] [Enemy9] Death animation component initialized
[00:12:17] [ENEMY] [Enemy10] Death animation component initialized
[00:12:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:12:17] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:12:17] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:12:17] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:12:17] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:12:17] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:12:17] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:12:17] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:12:17] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:12:17] [INFO] [ScoreManager] Level started with 10 enemies
[00:12:17] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[00:12:17] [ENEMY] [Enemy1] Registered as sound listener
[00:12:17] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:12:17] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[00:12:17] [ENEMY] [Enemy2] Registered as sound listener
[00:12:17] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:12:17] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[00:12:17] [ENEMY] [Enemy3] Registered as sound listener
[00:12:17] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:12:17] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[00:12:17] [ENEMY] [Enemy4] Registered as sound listener
[00:12:17] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:12:17] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[00:12:17] [ENEMY] [Enemy5] Registered as sound listener
[00:12:17] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:12:17] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[00:12:17] [ENEMY] [Enemy6] Registered as sound listener
[00:12:17] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:12:17] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[00:12:17] [ENEMY] [Enemy7] Registered as sound listener
[00:12:17] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:12:17] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[00:12:17] [ENEMY] [Enemy8] Registered as sound listener
[00:12:17] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:12:17] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[00:12:17] [ENEMY] [Enemy9] Registered as sound listener
[00:12:17] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:12:17] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[00:12:17] [ENEMY] [Enemy10] Registered as sound listener
[00:12:17] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:12:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:12:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:12:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:12:17] [INFO] [LastChance] Found player: Player
[00:12:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:12:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:12:17] [INFO] [LastChance] Connected to player Died signal (C#)
[00:12:17] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:12:17] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:12:17] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:12:17] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:12:17] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:12:18] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (796.3241, 958.12616)
[00:12:18] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:12:18] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:12:18] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:12:18] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:12:18] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:12:18] [INFO] [Player.Grenade] Step 1 complete! Drag: (371.16907, -8.014832)
[00:12:18] [INFO] [Player.Grenade] G released - dropping grenade at feet
[00:12:18] [INFO] [Player.Grenade] Grenade dropped at feet at (450, 1250) (unfrozen)
[00:12:18] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:12:18] [INFO] [Player.Grenade] State reset to IDLE
[00:12:18] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:12:20] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:12:20] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:12:20] [ENEMY] [Enemy1] Death animation component initialized
[00:12:20] [ENEMY] [Enemy2] Death animation component initialized
[00:12:20] [ENEMY] [Enemy3] Death animation component initialized
[00:12:20] [ENEMY] [Enemy4] Death animation component initialized
[00:12:20] [ENEMY] [Enemy5] Death animation component initialized
[00:12:20] [ENEMY] [Enemy6] Death animation component initialized
[00:12:20] [ENEMY] [Enemy7] Death animation component initialized
[00:12:20] [ENEMY] [Enemy8] Death animation component initialized
[00:12:20] [ENEMY] [Enemy9] Death animation component initialized
[00:12:20] [ENEMY] [Enemy10] Death animation component initialized
[00:12:20] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:12:20] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:12:20] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:12:20] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:12:20] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:12:20] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:12:20] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:12:20] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:12:20] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:12:20] [INFO] [ScoreManager] Level started with 10 enemies
[00:12:20] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 31)
[00:12:20] [ENEMY] [Enemy1] Registered as sound listener
[00:12:20] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:12:20] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 32)
[00:12:20] [ENEMY] [Enemy2] Registered as sound listener
[00:12:20] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:12:20] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 33)
[00:12:20] [ENEMY] [Enemy3] Registered as sound listener
[00:12:20] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:12:20] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 34)
[00:12:20] [ENEMY] [Enemy4] Registered as sound listener
[00:12:20] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:12:20] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 35)
[00:12:20] [ENEMY] [Enemy5] Registered as sound listener
[00:12:20] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:12:20] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 36)
[00:12:20] [ENEMY] [Enemy6] Registered as sound listener
[00:12:20] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:12:20] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 37)
[00:12:20] [ENEMY] [Enemy7] Registered as sound listener
[00:12:20] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:12:20] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 38)
[00:12:20] [ENEMY] [Enemy8] Registered as sound listener
[00:12:20] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:12:20] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 39)
[00:12:20] [ENEMY] [Enemy9] Registered as sound listener
[00:12:20] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:12:20] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 40)
[00:12:20] [ENEMY] [Enemy10] Registered as sound listener
[00:12:20] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:12:20] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:12:20] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:12:20] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:12:20] [INFO] [LastChance] Found player: Player
[00:12:20] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:12:20] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:12:20] [INFO] [LastChance] Connected to player Died signal (C#)
[00:12:20] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:12:20] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:12:20] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:12:21] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:12:21] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:12:21] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1134.2535, 998.2004)
[00:12:21] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:12:21] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:12:21] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:12:21] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:12:21] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:12:21] [INFO] [Player.Grenade] Step 1 complete! Drag: (137.46008, 5.3432007)
[00:12:21] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:12:21] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:12:21] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:12:21] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:12:21] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:12:21] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:12:21] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:12:21] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (858.8369, -548.07355) (1018,8 px/s), Swing distance: 104,9
[00:12:21] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,56800526
[00:12:21] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (858.8369, -548.0735), Swing: 104.9, Transfer: 0.42, Final speed: 203.5
[00:12:21] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:12:21] [INFO] [Player.Grenade] Thrown! Velocity: 1018,8, Swing: 104,9
[00:12:21] [INFO] [Player.Grenade] State reset to IDLE
[00:12:22] [INFO] [Player.Grenade] Player rotation restored to 0
[00:12:22] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:12:22] [INFO] [GrenadeBase] Grenade landed at (537.4021, 1194.223)
[00:12:22] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:12:22] [INFO] [GrenadeBase] EXPLODED at (537.4021, 1194.223)!
[00:12:22] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(537.4021, 1194.223), source=NEUTRAL (FragGrenade), range=2937, listeners=40
[00:12:22] [INFO] [SoundPropagation] Cleaned up 30 invalid listeners
[00:12:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[00:12:22] [INFO] [FragGrenade] Player found in blast radius at distance 103.7
[00:12:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:12:22] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:12:22] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:12:22] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:12:22] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:12:22] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:12:22] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:12:22] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:12:22] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:12:22] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:12:22] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:12:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:12:22] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:12:22] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:12:22] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:12:22] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:12:22] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:12:22] [INFO] [LastChance] Player died
[00:12:22] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 103.7
[00:12:22] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -0.9 degrees
[00:12:22] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 84.1 degrees
[00:12:22] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 180.7 degrees
[00:12:22] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 253.3 degrees
[00:12:22] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:12:22] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:12:22] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:12:22] [ENEMY] [Enemy1] Death animation component initialized
[00:12:22] [ENEMY] [Enemy2] Death animation component initialized
[00:12:22] [ENEMY] [Enemy3] Death animation component initialized
[00:12:22] [ENEMY] [Enemy4] Death animation component initialized
[00:12:22] [ENEMY] [Enemy5] Death animation component initialized
[00:12:22] [ENEMY] [Enemy6] Death animation component initialized
[00:12:22] [ENEMY] [Enemy7] Death animation component initialized
[00:12:22] [ENEMY] [Enemy8] Death animation component initialized
[00:12:22] [ENEMY] [Enemy9] Death animation component initialized
[00:12:22] [ENEMY] [Enemy10] Death animation component initialized
[00:12:22] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:12:22] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:12:22] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:12:22] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:12:22] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:12:22] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:12:22] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:12:22] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:12:22] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:12:22] [INFO] [ScoreManager] Level started with 10 enemies
[00:12:22] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:12:22] [ENEMY] [Enemy1] Registered as sound listener
[00:12:22] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:12:22] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:12:22] [ENEMY] [Enemy2] Registered as sound listener
[00:12:22] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:12:22] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:12:22] [ENEMY] [Enemy3] Registered as sound listener
[00:12:22] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:12:22] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:12:22] [ENEMY] [Enemy4] Registered as sound listener
[00:12:22] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:12:22] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:12:22] [ENEMY] [Enemy5] Registered as sound listener
[00:12:22] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:12:22] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:12:22] [ENEMY] [Enemy6] Registered as sound listener
[00:12:22] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:12:22] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:12:22] [ENEMY] [Enemy7] Registered as sound listener
[00:12:22] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:12:22] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:12:22] [ENEMY] [Enemy8] Registered as sound listener
[00:12:22] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:12:22] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:12:22] [ENEMY] [Enemy9] Registered as sound listener
[00:12:22] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:12:22] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:12:22] [ENEMY] [Enemy10] Registered as sound listener
[00:12:22] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:12:22] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:12:22] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:12:22] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:12:22] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:12:22] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:12:22] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:12:22] [INFO] [LastChance] Found player: Player
[00:12:22] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:12:22] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:12:22] [INFO] [LastChance] Connected to player Died signal (C#)
[00:12:22] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:12:22] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:12:22] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (679.45795, 1021.577)
[00:12:22] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:12:22] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:12:22] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:12:22] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:12:22] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:12:22] [INFO] [Player.Grenade] Step 1 complete! Drag: (260.3412, 8.0147705)
[00:12:23] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:12:23] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:12:23] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:12:23] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:12:23] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:12:23] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:12:23] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:12:23] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (755.0948, 688.5291) (1021,9 px/s), Swing distance: 211,3
[00:12:23] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,7393207
[00:12:23] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (755.0948, 688.5291), Swing: 211.3, Transfer: 0.85, Final speed: 411.3
[00:12:23] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:12:23] [INFO] [Player.Grenade] Thrown! Velocity: 1021,9, Swing: 211,3
[00:12:23] [INFO] [Player.Grenade] State reset to IDLE
[00:12:24] [INFO] [Player.Grenade] Player rotation restored to 0
[00:12:24] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:12:24] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:12:24] [INFO] [GrenadeBase] Collision detected with LobbyDivider_Right (type: StaticBody2D)
[00:12:24] [INFO] [FragGrenade] Wall impact detected! Body: LobbyDivider_Right, triggering explosion
[00:12:24] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:12:24] [INFO] [GrenadeBase] EXPLODED at (594.0724, 1379.931)!
[00:12:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(594.0724, 1379.931), source=NEUTRAL (FragGrenade), range=2937, listeners=20
[00:12:24] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:12:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=10
[00:12:24] [INFO] [FragGrenade] Player found in blast radius at distance 194.0
[00:12:24] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:12:24] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:12:24] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:12:24] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:12:24] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:12:24] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:12:24] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:12:24] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:12:24] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:12:24] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:12:24] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:12:24] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:12:24] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:12:24] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:12:24] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:12:24] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:12:24] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:12:24] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:12:24] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:12:24] [INFO] [LastChance] Player died
[00:12:24] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 194.0
[00:12:24] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 7.6 degrees
[00:12:24] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 81.7 degrees
[00:12:24] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 192.1 degrees
[00:12:24] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 259.3 degrees
[00:12:24] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:12:24] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:12:24] [ENEMY] [Enemy1] Death animation component initialized
[00:12:24] [ENEMY] [Enemy2] Death animation component initialized
[00:12:24] [ENEMY] [Enemy3] Death animation component initialized
[00:12:24] [ENEMY] [Enemy4] Death animation component initialized
[00:12:24] [ENEMY] [Enemy5] Death animation component initialized
[00:12:24] [ENEMY] [Enemy6] Death animation component initialized
[00:12:24] [ENEMY] [Enemy7] Death animation component initialized
[00:12:24] [ENEMY] [Enemy8] Death animation component initialized
[00:12:24] [ENEMY] [Enemy9] Death animation component initialized
[00:12:24] [ENEMY] [Enemy10] Death animation component initialized
[00:12:24] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:12:24] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:12:24] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:12:24] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:12:24] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:12:24] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:12:24] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:12:24] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:12:24] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:12:24] [INFO] [ScoreManager] Level started with 10 enemies
[00:12:24] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:12:24] [ENEMY] [Enemy1] Registered as sound listener
[00:12:24] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:12:24] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:12:24] [ENEMY] [Enemy2] Registered as sound listener
[00:12:24] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:12:24] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:12:24] [ENEMY] [Enemy3] Registered as sound listener
[00:12:24] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:12:24] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:12:24] [ENEMY] [Enemy4] Registered as sound listener
[00:12:24] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:12:24] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:12:24] [ENEMY] [Enemy5] Registered as sound listener
[00:12:24] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:12:24] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:12:24] [ENEMY] [Enemy6] Registered as sound listener
[00:12:24] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:12:24] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:12:24] [ENEMY] [Enemy7] Registered as sound listener
[00:12:24] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:12:24] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:12:24] [ENEMY] [Enemy8] Registered as sound listener
[00:12:24] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:12:24] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:12:24] [ENEMY] [Enemy9] Registered as sound listener
[00:12:24] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:12:24] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:12:24] [ENEMY] [Enemy10] Registered as sound listener
[00:12:24] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:12:24] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:12:24] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:12:24] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:12:24] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:12:24] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:12:24] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:12:24] [INFO] [LastChance] Found player: Player
[00:12:24] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:12:24] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:12:24] [INFO] [LastChance] Connected to player Died signal (C#)
[00:12:25] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:12:25] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:12:25] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:12:25] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1135.3052, 831.47437)
[00:12:25] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:12:25] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:12:25] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:12:25] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1039.6666)
[00:12:25] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:12:25] [INFO] [Player.Grenade] Step 1 complete! Drag: (144.4165, -14.915894)
[00:12:25] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:12:25] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:12:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:12:26] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:12:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:12:26] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:12:26] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:12:26] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:12:26] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:12:26] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:12:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=26600343079210, bullet_pos=(41.69983, 702.3934)
[00:12:26] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:12:26] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:12:26] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:12:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=26600343079210, bullet_pos=(310.7635, 464.4744)
[00:12:26] [INFO] [Bullet] Using shooter_position, distance=1190.3583984375
[00:12:26] [INFO] [Bullet] Distance to wall: 1190.3583984375 (81.0536922256939% of viewport)
[00:12:26] [INFO] [Bullet] Distance-based penetration chance: 52.1040257366904%
[00:12:26] [INFO] [Bullet] Penetration failed (distance roll)
[00:12:26] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:12:26] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.011758243, -1029.8909) (1029,9 px/s), Swing distance: 399,2
[00:12:26] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5707849
[00:12:26] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.011758, -1029.891), Swing: 399.2, Transfer: 1.00, Final speed: 485.5
[00:12:26] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:12:26] [INFO] [Player.Grenade] Thrown! Velocity: 1029,9, Swing: 399,2
[00:12:26] [INFO] [Player.Grenade] State reset to IDLE
[00:12:26] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:12:26] [INFO] [FragGrenade] Wall impact detected! Body: Room1_WallBottom, triggering explosion
[00:12:26] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:12:26] [INFO] [GrenadeBase] EXPLODED at (450.0008, 673.2731)!
[00:12:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450.0008, 673.2731), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:12:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:12:26] [ENEMY] [Enemy2] Hit taken, health: 2/3
[00:12:26] [ENEMY] [Enemy2] Hit taken, health: 1/3
[00:12:26] [ENEMY] [Enemy2] Hit taken, health: 0/3
[00:12:26] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:12:26] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:12:26] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[00:12:26] [INFO] [DeathAnim] Started - Angle: -112.1 deg, Index: 4
[00:12:26] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.375868, -0.926673)
[00:12:26] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 133.0
[00:12:26] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 18.6 degrees
[00:12:26] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 88.9 degrees
[00:12:26] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 183.6 degrees
[00:12:26] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 286.1 degrees
[00:12:26] [ENEMY] [Enemy3] Hit taken, health: 3/4
[00:12:27] [INFO] [Player.Grenade] Player rotation restored to 0
[00:12:27] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:12:27] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:12:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(679.1555, 759.757), source=ENEMY (Enemy3), range=1469, listeners=9
[00:12:27] [ENEMY] [Enemy4] Heard gunshot at (679.1555, 759.757), source_type=1, intensity=0.07, distance=185
[00:12:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:12:27] [INFO] [LastChance] Threat detected: Bullet
[00:12:27] [INFO] [LastChance] Not in hard mode - effect disabled
[00:12:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:12:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(672.0981, 767.7553), source=ENEMY (Enemy3), range=1469, listeners=9
[00:12:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:12:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:12:27] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:12:27] [INFO] [LastChance] Threat detected: @Area2D@29153
[00:12:27] [INFO] [LastChance] Not in hard mode - effect disabled
[00:12:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:12:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(665.0408, 775.7536), source=ENEMY (Enemy3), range=1469, listeners=9
[00:12:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:12:27] [INFO] [LastChance] Threat detected: Bullet
[00:12:27] [INFO] [LastChance] Not in hard mode - effect disabled
[00:12:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:12:27] [ENEMY] [Enemy2] Ragdoll activated
[00:12:27] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:12:27] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[00:12:27] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[00:12:27] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:12:27] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:12:27] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:12:27] [ENEMY] [Enemy1] Death animation component initialized
[00:12:27] [ENEMY] [Enemy2] Death animation component initialized
[00:12:27] [ENEMY] [Enemy3] Death animation component initialized
[00:12:27] [ENEMY] [Enemy4] Death animation component initialized
[00:12:27] [ENEMY] [Enemy5] Death animation component initialized
[00:12:27] [ENEMY] [Enemy6] Death animation component initialized
[00:12:27] [ENEMY] [Enemy7] Death animation component initialized
[00:12:27] [ENEMY] [Enemy8] Death animation component initialized
[00:12:27] [ENEMY] [Enemy9] Death animation component initialized
[00:12:27] [ENEMY] [Enemy10] Death animation component initialized
[00:12:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:12:27] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:12:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:12:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:12:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:12:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:12:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:12:27] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:12:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:12:27] [INFO] [ScoreManager] Level started with 10 enemies
[00:12:27] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:12:27] [ENEMY] [Enemy1] Registered as sound listener
[00:12:27] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:12:27] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:12:27] [ENEMY] [Enemy2] Registered as sound listener
[00:12:27] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:12:27] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:12:27] [ENEMY] [Enemy3] Registered as sound listener
[00:12:27] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:12:27] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:12:27] [ENEMY] [Enemy4] Registered as sound listener
[00:12:27] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:12:27] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:12:27] [ENEMY] [Enemy5] Registered as sound listener
[00:12:27] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:12:27] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:12:27] [ENEMY] [Enemy6] Registered as sound listener
[00:12:27] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:12:27] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:12:27] [ENEMY] [Enemy7] Registered as sound listener
[00:12:27] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:12:27] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:12:27] [ENEMY] [Enemy8] Registered as sound listener
[00:12:27] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:12:27] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:12:27] [ENEMY] [Enemy9] Registered as sound listener
[00:12:27] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:12:27] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:12:27] [ENEMY] [Enemy10] Registered as sound listener
[00:12:27] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:12:27] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:12:27] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:12:27] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:12:27] [INFO] [LastChance] Found player: Player
[00:12:27] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:12:27] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:12:27] [INFO] [LastChance] Connected to player Died signal (C#)
[00:12:27] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:12:27] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:12:27] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:12:27] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:12:27] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:12:27] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (752.96356, 944.10016)
[00:12:27] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:12:27] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:12:27] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:12:27] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:12:27] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:12:27] [INFO] [Player.Grenade] Step 1 complete! Drag: (371.0838, 15.361816)
[00:12:27] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:12:27] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:12:28] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:12:28] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:12:28] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:12:28] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, 0) (0,0 px/s), Swing distance: 0,0
[00:12:28] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,69787514
[00:12:28] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, 0), Swing: 0.0, Transfer: 0.00, Final speed: 0.0
[00:12:28] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:12:28] [INFO] [Player.Grenade] Thrown! Velocity: 0,0, Swing: 0,0
[00:12:28] [INFO] [Player.Grenade] State reset to IDLE
[00:12:28] [INFO] [Player.Grenade] Player rotation restored to 0
[00:12:28] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:12:28] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:12:28] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:12:28] [ENEMY] [Enemy1] Death animation component initialized
[00:12:28] [ENEMY] [Enemy2] Death animation component initialized
[00:12:28] [ENEMY] [Enemy3] Death animation component initialized
[00:12:28] [ENEMY] [Enemy4] Death animation component initialized
[00:12:28] [ENEMY] [Enemy5] Death animation component initialized
[00:12:28] [ENEMY] [Enemy6] Death animation component initialized
[00:12:28] [ENEMY] [Enemy7] Death animation component initialized
[00:12:28] [ENEMY] [Enemy8] Death animation component initialized
[00:12:28] [ENEMY] [Enemy9] Death animation component initialized
[00:12:28] [ENEMY] [Enemy10] Death animation component initialized
[00:12:28] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:12:28] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:12:28] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:12:28] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:12:28] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:12:28] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:12:28] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:12:28] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:12:28] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:12:28] [INFO] [ScoreManager] Level started with 10 enemies
[00:12:28] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[00:12:28] [ENEMY] [Enemy1] Registered as sound listener
[00:12:28] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:12:28] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[00:12:28] [ENEMY] [Enemy2] Registered as sound listener
[00:12:28] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:12:28] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[00:12:28] [ENEMY] [Enemy3] Registered as sound listener
[00:12:28] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:12:28] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[00:12:28] [ENEMY] [Enemy4] Registered as sound listener
[00:12:28] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:12:28] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[00:12:28] [ENEMY] [Enemy5] Registered as sound listener
[00:12:28] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:12:28] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[00:12:28] [ENEMY] [Enemy6] Registered as sound listener
[00:12:28] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:12:28] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[00:12:28] [ENEMY] [Enemy7] Registered as sound listener
[00:12:28] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:12:28] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[00:12:28] [ENEMY] [Enemy8] Registered as sound listener
[00:12:28] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:12:28] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[00:12:28] [ENEMY] [Enemy9] Registered as sound listener
[00:12:28] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:12:28] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[00:12:28] [ENEMY] [Enemy10] Registered as sound listener
[00:12:28] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:12:28] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:12:28] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:12:28] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:12:28] [INFO] [LastChance] Found player: Player
[00:12:28] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:12:28] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:12:28] [INFO] [LastChance] Connected to player Died signal (C#)
[00:12:28] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:12:28] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:12:28] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:12:28] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:12:28] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:12:29] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (960.371, 980.8349)
[00:12:29] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:12:29] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:12:29] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:12:29] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:12:29] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:12:29] [INFO] [Player.Grenade] Step 1 complete! Drag: (293.94775, 84.82379)
[00:12:29] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:12:29] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:12:29] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:12:29] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:12:29] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:12:29] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:12:30] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:12:30] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.06642061, 0) (0,1 px/s), Swing distance: 66,0
[00:12:30] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0
[00:12:30] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.066421, 0), Swing: 66.0, Transfer: 0.27, Final speed: 0.0
[00:12:30] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:12:30] [INFO] [Player.Grenade] Thrown! Velocity: 0,1, Swing: 66,0
[00:12:30] [INFO] [Player.Grenade] State reset to IDLE
[00:12:30] [INFO] [Player.Grenade] Player rotation restored to 0
[00:12:30] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:12:31] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:12:31] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:12:31] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:12:31] [ENEMY] [Enemy1] Death animation component initialized
[00:12:31] [ENEMY] [Enemy2] Death animation component initialized
[00:12:31] [ENEMY] [Enemy3] Death animation component initialized
[00:12:31] [ENEMY] [Enemy4] Death animation component initialized
[00:12:31] [ENEMY] [Enemy5] Death animation component initialized
[00:12:31] [ENEMY] [Enemy6] Death animation component initialized
[00:12:31] [ENEMY] [Enemy7] Death animation component initialized
[00:12:31] [ENEMY] [Enemy8] Death animation component initialized
[00:12:31] [ENEMY] [Enemy9] Death animation component initialized
[00:12:31] [ENEMY] [Enemy10] Death animation component initialized
[00:12:31] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:12:31] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:12:31] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:12:31] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:12:31] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:12:31] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:12:31] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:12:31] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:12:31] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:12:31] [INFO] [ScoreManager] Level started with 10 enemies
[00:12:31] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 30)
[00:12:31] [ENEMY] [Enemy1] Registered as sound listener
[00:12:31] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:12:31] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 31)
[00:12:31] [ENEMY] [Enemy2] Registered as sound listener
[00:12:31] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:12:31] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 32)
[00:12:31] [ENEMY] [Enemy3] Registered as sound listener
[00:12:31] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:12:31] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 33)
[00:12:31] [ENEMY] [Enemy4] Registered as sound listener
[00:12:31] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:12:31] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 34)
[00:12:31] [ENEMY] [Enemy5] Registered as sound listener
[00:12:31] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:12:31] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 35)
[00:12:31] [ENEMY] [Enemy6] Registered as sound listener
[00:12:31] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:12:31] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 36)
[00:12:31] [ENEMY] [Enemy7] Registered as sound listener
[00:12:31] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:12:31] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 37)
[00:12:31] [ENEMY] [Enemy8] Registered as sound listener
[00:12:31] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:12:31] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 38)
[00:12:31] [ENEMY] [Enemy9] Registered as sound listener
[00:12:31] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:12:31] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 39)
[00:12:31] [ENEMY] [Enemy10] Registered as sound listener
[00:12:31] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:12:31] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:12:31] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:12:31] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:12:31] [INFO] [LastChance] Found player: Player
[00:12:31] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:12:31] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:12:31] [INFO] [LastChance] Connected to player Died signal (C#)
[00:12:31] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:12:31] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:12:31] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:12:31] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:12:31] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:12:31] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (784.00354, 1019.5733)
[00:12:31] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:12:31] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:12:31] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:12:31] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:12:31] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:12:31] [INFO] [Player.Grenade] Step 1 complete! Drag: (378.79126, 77.476746)
[00:12:31] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:12:31] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:12:32] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:12:32] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:12:32] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:12:32] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:12:32] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:12:32] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1574.7135, 0) (1574,7 px/s), Swing distance: 167,6
[00:12:32] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0
[00:12:32] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1574.714, 0), Swing: 167.6, Transfer: 0.68, Final speed: 502.6
[00:12:32] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:12:32] [INFO] [Player.Grenade] Thrown! Velocity: 1574,7, Swing: 167,6
[00:12:32] [INFO] [Player.Grenade] State reset to IDLE
[00:12:32] [INFO] [Player.Grenade] Player rotation restored to 0
[00:12:32] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:12:33] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:12:33] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:12:33] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:12:33] [ENEMY] [Enemy1] Death animation component initialized
[00:12:33] [ENEMY] [Enemy2] Death animation component initialized
[00:12:33] [ENEMY] [Enemy3] Death animation component initialized
[00:12:33] [ENEMY] [Enemy4] Death animation component initialized
[00:12:33] [ENEMY] [Enemy5] Death animation component initialized
[00:12:33] [ENEMY] [Enemy6] Death animation component initialized
[00:12:33] [ENEMY] [Enemy7] Death animation component initialized
[00:12:33] [ENEMY] [Enemy8] Death animation component initialized
[00:12:33] [ENEMY] [Enemy9] Death animation component initialized
[00:12:33] [ENEMY] [Enemy10] Death animation component initialized
[00:12:33] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:12:33] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:12:33] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:12:33] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:12:33] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:12:33] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:12:33] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:12:33] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:12:33] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:12:33] [INFO] [ScoreManager] Level started with 10 enemies
[00:12:33] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 40)
[00:12:33] [ENEMY] [Enemy1] Registered as sound listener
[00:12:33] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:12:33] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 41)
[00:12:33] [ENEMY] [Enemy2] Registered as sound listener
[00:12:33] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:12:33] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 42)
[00:12:33] [ENEMY] [Enemy3] Registered as sound listener
[00:12:33] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:12:33] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 43)
[00:12:33] [ENEMY] [Enemy4] Registered as sound listener
[00:12:33] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:12:33] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 44)
[00:12:33] [ENEMY] [Enemy5] Registered as sound listener
[00:12:33] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:12:33] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 45)
[00:12:33] [ENEMY] [Enemy6] Registered as sound listener
[00:12:33] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:12:33] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 46)
[00:12:33] [ENEMY] [Enemy7] Registered as sound listener
[00:12:33] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:12:33] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 47)
[00:12:33] [ENEMY] [Enemy8] Registered as sound listener
[00:12:33] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:12:33] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 48)
[00:12:33] [ENEMY] [Enemy9] Registered as sound listener
[00:12:33] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:12:33] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 49)
[00:12:33] [ENEMY] [Enemy10] Registered as sound listener
[00:12:33] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:12:33] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:12:33] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:12:33] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:12:33] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:12:33] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:12:33] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:12:33] [INFO] [LastChance] Found player: Player
[00:12:33] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:12:33] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:12:33] [INFO] [LastChance] Connected to player Died signal (C#)
[00:12:33] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:12:33] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:12:33] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (811.9517, 1058.3116)
[00:12:33] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:12:33] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:12:33] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:12:33] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:12:33] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:12:33] [INFO] [Player.Grenade] Step 1 complete! Drag: (454.08148, 54.10022)
[00:12:33] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:12:33] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:12:33] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:12:33] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:12:34] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:12:34] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:12:34] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:12:34] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (5.1410446, 91.83654) (92,0 px/s), Swing distance: 97,3
[00:12:34] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,5148743
[00:12:34] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (5.141045, 91.83654), Swing: 97.3, Transfer: 0.39, Final speed: 17.1
[00:12:34] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:12:34] [INFO] [Player.Grenade] Thrown! Velocity: 92,0, Swing: 97,3
[00:12:34] [INFO] [Player.Grenade] State reset to IDLE
[00:12:34] [INFO] [Player.Grenade] Player rotation restored to 0
[00:12:34] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:12:34] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:12:34] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:12:34] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:12:34] [ENEMY] [Enemy1] Death animation component initialized
[00:12:34] [ENEMY] [Enemy2] Death animation component initialized
[00:12:34] [ENEMY] [Enemy3] Death animation component initialized
[00:12:34] [ENEMY] [Enemy4] Death animation component initialized
[00:12:35] [ENEMY] [Enemy5] Death animation component initialized
[00:12:35] [ENEMY] [Enemy6] Death animation component initialized
[00:12:35] [ENEMY] [Enemy7] Death animation component initialized
[00:12:35] [ENEMY] [Enemy8] Death animation component initialized
[00:12:35] [ENEMY] [Enemy9] Death animation component initialized
[00:12:35] [ENEMY] [Enemy10] Death animation component initialized
[00:12:35] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:12:35] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:12:35] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:12:35] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:12:35] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:12:35] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:12:35] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:12:35] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:12:35] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:12:35] [INFO] [ScoreManager] Level started with 10 enemies
[00:12:35] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 50)
[00:12:35] [ENEMY] [Enemy1] Registered as sound listener
[00:12:35] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:12:35] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 51)
[00:12:35] [ENEMY] [Enemy2] Registered as sound listener
[00:12:35] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:12:35] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 52)
[00:12:35] [ENEMY] [Enemy3] Registered as sound listener
[00:12:35] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:12:35] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 53)
[00:12:35] [ENEMY] [Enemy4] Registered as sound listener
[00:12:35] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:12:35] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 54)
[00:12:35] [ENEMY] [Enemy5] Registered as sound listener
[00:12:35] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:12:35] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 55)
[00:12:35] [ENEMY] [Enemy6] Registered as sound listener
[00:12:35] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:12:35] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 56)
[00:12:35] [ENEMY] [Enemy7] Registered as sound listener
[00:12:35] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:12:35] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 57)
[00:12:35] [ENEMY] [Enemy8] Registered as sound listener
[00:12:35] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:12:35] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 58)
[00:12:35] [ENEMY] [Enemy9] Registered as sound listener
[00:12:35] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:12:35] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 59)
[00:12:35] [ENEMY] [Enemy10] Registered as sound listener
[00:12:35] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:12:35] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:12:35] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:12:35] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:12:35] [INFO] [LastChance] Found player: Player
[00:12:35] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:12:35] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:12:35] [INFO] [LastChance] Connected to player Died signal (C#)
[00:12:35] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:12:35] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:12:35] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:12:35] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:12:35] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:12:35] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (486.0832, 1020.2412)
[00:12:35] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:12:35] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:12:35] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:12:35] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:12:35] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:12:35] [INFO] [Player.Grenade] Step 1 complete! Drag: (284.24988, -14.693909)
[00:12:35] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:12:35] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:12:35] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:12:35] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:12:35] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:12:35] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:12:36] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:12:36] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2920.373, -70.72035) (2921,2 px/s), Swing distance: 245,1
[00:12:36] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,024211472
[00:12:36] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2920.373, -70.72035), Swing: 245.1, Transfer: 0.99, Final speed: 1186.5
[00:12:36] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:12:36] [INFO] [Player.Grenade] Thrown! Velocity: 2921,2, Swing: 245,1
[00:12:36] [INFO] [Player.Grenade] State reset to IDLE
[00:12:36] [INFO] [Player.Grenade] Player rotation restored to 0
[00:12:36] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:12:36] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:12:36] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:12:36] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:12:36] [ENEMY] [Enemy1] Death animation component initialized
[00:12:36] [ENEMY] [Enemy2] Death animation component initialized
[00:12:36] [ENEMY] [Enemy3] Death animation component initialized
[00:12:36] [ENEMY] [Enemy4] Death animation component initialized
[00:12:36] [ENEMY] [Enemy5] Death animation component initialized
[00:12:36] [ENEMY] [Enemy6] Death animation component initialized
[00:12:36] [ENEMY] [Enemy7] Death animation component initialized
[00:12:36] [ENEMY] [Enemy8] Death animation component initialized
[00:12:36] [ENEMY] [Enemy9] Death animation component initialized
[00:12:36] [ENEMY] [Enemy10] Death animation component initialized
[00:12:36] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:12:36] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:12:36] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:12:36] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:12:36] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:12:36] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:12:36] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:12:36] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:12:36] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:12:36] [INFO] [ScoreManager] Level started with 10 enemies
[00:12:36] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 60)
[00:12:36] [ENEMY] [Enemy1] Registered as sound listener
[00:12:36] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:12:36] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 61)
[00:12:36] [ENEMY] [Enemy2] Registered as sound listener
[00:12:36] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:12:36] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 62)
[00:12:36] [ENEMY] [Enemy3] Registered as sound listener
[00:12:36] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:12:36] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 63)
[00:12:36] [ENEMY] [Enemy4] Registered as sound listener
[00:12:36] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:12:36] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 64)
[00:12:36] [ENEMY] [Enemy5] Registered as sound listener
[00:12:36] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:12:36] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 65)
[00:12:36] [ENEMY] [Enemy6] Registered as sound listener
[00:12:36] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:12:36] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 66)
[00:12:36] [ENEMY] [Enemy7] Registered as sound listener
[00:12:36] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:12:36] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 67)
[00:12:36] [ENEMY] [Enemy8] Registered as sound listener
[00:12:36] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:12:36] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 68)
[00:12:36] [ENEMY] [Enemy9] Registered as sound listener
[00:12:36] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:12:36] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 69)
[00:12:36] [ENEMY] [Enemy10] Registered as sound listener
[00:12:36] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:12:36] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:12:36] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:12:36] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:12:36] [INFO] [LastChance] Found player: Player
[00:12:36] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:12:36] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:12:36] [INFO] [LastChance] Connected to player Died signal (C#)
[00:12:36] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:12:36] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:12:36] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:12:36] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:12:36] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:12:37] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (862.52515, 936.75323)
[00:12:37] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:12:37] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:12:37] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:12:37] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:12:37] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:12:37] [INFO] [Player.Grenade] Step 1 complete! Drag: (257.51392, 10.686462)
[00:12:37] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:12:37] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:12:37] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:12:37] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:12:37] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:12:37] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:12:37] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:12:37] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (386.71857, -416.4572) (568,3 px/s), Swing distance: 60,8
[00:12:37] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,8224076
[00:12:37] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (386.7186, -416.4572), Swing: 60.8, Transfer: 0.25, Final speed: 65.8
[00:12:37] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:12:37] [INFO] [Player.Grenade] Thrown! Velocity: 568,3, Swing: 60,8
[00:12:37] [INFO] [Player.Grenade] State reset to IDLE
[00:12:37] [INFO] [GrenadeBase] Grenade landed at (492.1246, 1204.636)
[00:12:37] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:12:37] [INFO] [GrenadeBase] EXPLODED at (492.1246, 1204.636)!
[00:12:37] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(492.1246, 1204.636), source=NEUTRAL (FragGrenade), range=2937, listeners=69
[00:12:37] [INFO] [SoundPropagation] Cleaned up 59 invalid listeners
[00:12:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[00:12:37] [INFO] [FragGrenade] Player found in blast radius at distance 61.9
[00:12:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:12:37] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:12:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:12:37] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:12:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:12:37] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:12:37] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:12:37] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:12:37] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:12:37] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:12:37] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:12:37] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:12:37] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:12:37] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:12:37] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:12:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:12:37] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:12:37] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:12:37] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:12:37] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:12:37] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:12:37] [INFO] [LastChance] Player died
[00:12:37] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 61.9
[00:12:37] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -17.8 degrees
[00:12:37] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 78.6 degrees
[00:12:37] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 197.1 degrees
[00:12:37] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 277.5 degrees
[00:12:37] [INFO] [Player.Grenade] Player rotation restored to 0
[00:12:37] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:12:38] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:12:38] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:12:38] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:12:38] [ENEMY] [Enemy1] Death animation component initialized
[00:12:38] [ENEMY] [Enemy2] Death animation component initialized
[00:12:38] [ENEMY] [Enemy3] Death animation component initialized
[00:12:38] [ENEMY] [Enemy4] Death animation component initialized
[00:12:38] [ENEMY] [Enemy5] Death animation component initialized
[00:12:38] [ENEMY] [Enemy6] Death animation component initialized
[00:12:38] [ENEMY] [Enemy7] Death animation component initialized
[00:12:38] [ENEMY] [Enemy8] Death animation component initialized
[00:12:38] [ENEMY] [Enemy9] Death animation component initialized
[00:12:38] [ENEMY] [Enemy10] Death animation component initialized
[00:12:38] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:12:38] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:12:38] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:12:38] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:12:38] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:12:38] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:12:38] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:12:38] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:12:38] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:12:38] [INFO] [ScoreManager] Level started with 10 enemies
[00:12:38] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:12:38] [ENEMY] [Enemy1] Registered as sound listener
[00:12:38] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:12:38] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:12:38] [ENEMY] [Enemy2] Registered as sound listener
[00:12:38] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:12:38] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:12:38] [ENEMY] [Enemy3] Registered as sound listener
[00:12:38] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:12:38] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:12:38] [ENEMY] [Enemy4] Registered as sound listener
[00:12:38] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:12:38] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:12:38] [ENEMY] [Enemy5] Registered as sound listener
[00:12:38] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:12:38] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:12:38] [ENEMY] [Enemy6] Registered as sound listener
[00:12:38] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:12:38] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:12:38] [ENEMY] [Enemy7] Registered as sound listener
[00:12:38] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:12:38] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:12:38] [ENEMY] [Enemy8] Registered as sound listener
[00:12:38] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:12:38] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:12:38] [ENEMY] [Enemy9] Registered as sound listener
[00:12:38] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:12:38] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:12:38] [ENEMY] [Enemy10] Registered as sound listener
[00:12:38] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:12:38] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:12:38] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:12:38] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:12:38] [INFO] [LastChance] Found player: Player
[00:12:38] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:12:38] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:12:38] [INFO] [LastChance] Connected to player Died signal (C#)
[00:12:38] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:12:38] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:12:38] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:12:38] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:12:38] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:12:38] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (666.11597, 1028.256)
[00:12:38] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:12:38] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:12:38] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:12:38] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:12:38] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:12:38] [INFO] [Player.Grenade] Step 1 complete! Drag: (35.050354, 3.3395996)
[00:12:38] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:12:38] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:12:39] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:12:39] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:12:39] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:12:39] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, 0) (0,0 px/s), Swing distance: 0,0
[00:12:39] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,1413488
[00:12:39] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, 0), Swing: 0.0, Transfer: 0.00, Final speed: 0.0
[00:12:39] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:12:39] [INFO] [Player.Grenade] Thrown! Velocity: 0,0, Swing: 0,0
[00:12:39] [INFO] [Player.Grenade] State reset to IDLE
[00:12:39] [INFO] [Player.Grenade] Player rotation restored to 0
[00:12:39] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:12:39] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:12:40] [INFO] ------------------------------------------------------------
[00:12:40] [INFO] GAME LOG ENDED: 2026-01-24T00:12:40
[00:12:40] [INFO] ============================================================
