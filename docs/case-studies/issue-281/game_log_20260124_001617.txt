[00:16:17] [INFO] ============================================================
[00:16:17] [INFO] GAME LOG STARTED
[00:16:17] [INFO] ============================================================
[00:16:17] [INFO] Timestamp: 2026-01-24T00:16:17
[00:16:17] [INFO] Log file: I:/Загрузки/godot exe/game_log_20260124_001617.txt
[00:16:17] [INFO] Executable: I:/Загрузки/godot exe/Godot-Top-Down-Template.exe
[00:16:17] [INFO] OS: Windows
[00:16:17] [INFO] Debug build: false
[00:16:17] [INFO] Engine version: 4.3-stable (official)
[00:16:17] [INFO] Project: Godot Top-Down Template
[00:16:17] [INFO] ------------------------------------------------------------
[00:16:17] [INFO] [GameManager] GameManager ready
[00:16:17] [INFO] [ScoreManager] ScoreManager ready
[00:16:17] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[00:16:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:16:17] [INFO] [PenultimateHit] Saturation shader loaded successfully
[00:16:17] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[00:16:17] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[00:16:17] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[00:16:17] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[00:16:17] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[00:16:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:16:17] [INFO] [LastChance] Last chance shader loaded successfully
[00:16:17] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[00:16:17] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[00:16:17] [INFO] [LastChance]   Sepia intensity: 0.70
[00:16:17] [INFO] [LastChance]   Brightness: 0.60
[00:16:17] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[00:16:17] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[00:16:17] [ENEMY] [Enemy1] Death animation component initialized
[00:16:17] [ENEMY] [Enemy2] Death animation component initialized
[00:16:17] [ENEMY] [Enemy3] Death animation component initialized
[00:16:17] [ENEMY] [Enemy4] Death animation component initialized
[00:16:17] [ENEMY] [Enemy5] Death animation component initialized
[00:16:17] [ENEMY] [Enemy6] Death animation component initialized
[00:16:17] [ENEMY] [Enemy7] Death animation component initialized
[00:16:17] [ENEMY] [Enemy8] Death animation component initialized
[00:16:17] [ENEMY] [Enemy9] Death animation component initialized
[00:16:17] [ENEMY] [Enemy10] Death animation component initialized
[00:16:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:16:17] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:16:17] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:16:17] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:16:17] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:16:17] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:16:17] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:16:17] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:16:17] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:16:17] [INFO] [ScoreManager] Level started with 10 enemies
[00:16:17] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[00:16:17] [ENEMY] [Enemy1] Registered as sound listener
[00:16:17] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:16:17] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[00:16:17] [ENEMY] [Enemy2] Registered as sound listener
[00:16:17] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:16:17] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[00:16:17] [ENEMY] [Enemy3] Registered as sound listener
[00:16:17] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:16:17] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[00:16:17] [ENEMY] [Enemy4] Registered as sound listener
[00:16:17] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:16:17] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[00:16:17] [ENEMY] [Enemy5] Registered as sound listener
[00:16:17] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:16:17] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[00:16:17] [ENEMY] [Enemy6] Registered as sound listener
[00:16:17] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:16:17] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[00:16:17] [ENEMY] [Enemy7] Registered as sound listener
[00:16:17] [ENEMY] [Enemy7] Enemy spawned at (1606.114, 893.8859), health: 4, behavior: PATROL, player_found: yes
[00:16:17] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[00:16:17] [ENEMY] [Enemy8] Registered as sound listener
[00:16:17] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:16:17] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[00:16:17] [ENEMY] [Enemy9] Registered as sound listener
[00:16:17] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:16:17] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[00:16:17] [ENEMY] [Enemy10] Registered as sound listener
[00:16:17] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:16:17] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:16:17] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:16:17] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:16:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:16:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:16:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:16:17] [INFO] [LastChance] Found player: Player
[00:16:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:16:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:16:17] [INFO] [LastChance] Connected to player Died signal (C#)
[00:16:18] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:16:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.397, 1465.46), source=ENEMY (Enemy10), range=1469, listeners=10
[00:16:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:16:19] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:16:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.747, 1430.86), shooter_id=43452991107, bullet_pos=(42.1972, 701.7216)
[00:16:21] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[00:16:21] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[00:16:21] [INFO] [Bullet] Distance-based penetration chance: 50.6760656778783%
[00:16:21] [INFO] [Bullet] Starting wall penetration at (42.1972, 701.7216)
[00:16:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.8789329528809
[00:16:21] [INFO] [Bullet] Body exited signal received for penetrating body
[00:16:21] [INFO] [Bullet] Exiting penetration at (4.984241, 673.5617) after traveling 41.6666679382324 pixels through wall
[00:16:21] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:16:22] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:16:22] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:16:22] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (648.6839, 940.91187)
[00:16:22] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:16:22] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:16:22] [INFO] [Player.Grenade] Timer started, grenade created at (483.9348, 927.7337)
[00:16:22] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:16:22] [INFO] [Player.Grenade] Step 1 complete! Drag: (519.0817, 15.249634)
[00:16:22] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:16:22] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:16:22] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:16:22] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:16:22] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:16:22] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:16:23] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:16:23] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:16:23] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1375.4136, -293.06537) (1406,3 px/s), Swing distance: 207,5
[00:16:23] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,20993488
[00:16:23] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1375.414, -293.0654), Swing: 207.5, Transfer: 1.00, Final speed: 741.2
[00:16:23] [INFO] [Player.Grenade] Thrown! Velocity: 1406,3, Swing: 207,5
[00:16:23] [INFO] [Player.Grenade] State reset to IDLE
[00:16:23] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[00:16:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:16:23] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[00:16:23] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[00:16:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:16:23] [INFO] [LastChance] Threat detected: Bullet
[00:16:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[00:16:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:16:23] [INFO] [Player.Grenade] Player rotation restored to 0
[00:16:23] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[00:16:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:16:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:16:23] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:16:23] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[00:16:23] [INFO] [LastChance] Threat detected: @Area2D@286
[00:16:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[00:16:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:16:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:16:23] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:16:23] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[00:16:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:16:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:16:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(632.8961, 761.2994), shooter_id=41456502284, bullet_pos=(50.3495, 791.5869)
[00:16:23] [INFO] [Bullet] Using shooter_position, distance=583.333435058594
[00:16:23] [INFO] [Bullet] Distance to wall: 583.333435058594 (39.7202462487424% of viewport)
[00:16:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:23] [INFO] [Bullet] Starting wall penetration at (50.3495, 791.5869)
[00:16:23] [INFO] [LastChance] Threat detected: @Area2D@287
[00:16:23] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[00:16:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:16:23] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28.2923812866211
[00:16:23] [INFO] [Bullet] Body exited signal received for penetrating body
[00:16:23] [INFO] [Bullet] Exiting penetration at (3.745781, 794.0099) after traveling 41.6666679382324 pixels through wall
[00:16:23] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:16:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:16:23] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[00:16:23] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:16:23] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[00:16:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:16:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:16:23] [INFO] [LastChance] Threat detected: Bullet
[00:16:23] [INFO] [LastChance] Triggering last chance effect!
[00:16:23] [INFO] [LastChance] Starting last chance effect:
[00:16:23] [INFO] [LastChance]   - Time will be frozen (except player)
[00:16:23] [INFO] [LastChance]   - Duration: 6.0 real seconds
[00:16:23] [INFO] [LastChance]   - Sepia intensity: 0.70
[00:16:23] [INFO] [LastChance]   - Brightness: 0.60
[00:16:23] [INFO] [LastChance] Pushed bullet Bullet from distance 113.7 to 200.0
[00:16:23] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[00:16:23] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[00:16:23] [INFO] [LastChance] Skipping player node: Player
[00:16:23] [INFO] [LastChance] Froze existing grenade: FlashbangGrenade
[00:16:23] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[00:16:23] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[00:16:23] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[00:16:23] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:16:24] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:16:24] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:16:24] [INFO] [LastChance] Ending last chance effect
[00:16:24] [INFO] [LastChance] All process modes restored
[00:16:24] [INFO] [LastChance] Restored original colors to 5 player sprites
[00:16:24] [ENEMY] [Enemy1] Death animation component initialized
[00:16:24] [ENEMY] [Enemy2] Death animation component initialized
[00:16:24] [ENEMY] [Enemy3] Death animation component initialized
[00:16:24] [ENEMY] [Enemy4] Death animation component initialized
[00:16:24] [ENEMY] [Enemy5] Death animation component initialized
[00:16:24] [ENEMY] [Enemy6] Death animation component initialized
[00:16:24] [ENEMY] [Enemy7] Death animation component initialized
[00:16:24] [ENEMY] [Enemy8] Death animation component initialized
[00:16:24] [ENEMY] [Enemy9] Death animation component initialized
[00:16:24] [ENEMY] [Enemy10] Death animation component initialized
[00:16:24] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:16:24] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:16:24] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:16:24] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:16:24] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:16:24] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:16:24] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:16:24] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:16:24] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:16:24] [INFO] [ScoreManager] Level started with 10 enemies
[00:16:24] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:16:24] [ENEMY] [Enemy1] Registered as sound listener
[00:16:24] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:16:24] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:16:24] [ENEMY] [Enemy2] Registered as sound listener
[00:16:24] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:16:24] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:16:24] [ENEMY] [Enemy3] Registered as sound listener
[00:16:24] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:16:24] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:16:24] [ENEMY] [Enemy4] Registered as sound listener
[00:16:24] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:16:24] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:16:24] [ENEMY] [Enemy5] Registered as sound listener
[00:16:24] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:16:24] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:16:24] [ENEMY] [Enemy6] Registered as sound listener
[00:16:24] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:16:24] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:16:24] [ENEMY] [Enemy7] Registered as sound listener
[00:16:24] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:16:24] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:16:24] [ENEMY] [Enemy8] Registered as sound listener
[00:16:24] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:16:24] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:16:24] [ENEMY] [Enemy9] Registered as sound listener
[00:16:24] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:16:24] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:16:24] [ENEMY] [Enemy10] Registered as sound listener
[00:16:24] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:16:24] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:16:24] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:16:24] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:16:24] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:16:24] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:16:24] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:16:24] [INFO] [LastChance] Found player: Player
[00:16:24] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:16:24] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:16:24] [INFO] [LastChance] Connected to player Died signal (C#)
[00:16:28] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:16:28] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:16:28] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (624.6189, 1089.4149)
[00:16:28] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:16:28] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:16:28] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1083.6666)
[00:16:28] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:16:28] [INFO] [Player.Grenade] Step 1 complete! Drag: (91.52533, -5.029907)
[00:16:28] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:16:28] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:16:28] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:16:29] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:16:29] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:16:29] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:16:29] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:16:29] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:16:30] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:16:30] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:16:30] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2954.6853, -311.4873) (2971,1 px/s), Swing distance: 480,5
[00:16:30] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,105033524
[00:16:30] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2954.685, -311.4873), Swing: 480.5, Transfer: 1.00, Final speed: 1352.8
[00:16:30] [INFO] [Player.Grenade] Thrown! Velocity: 2971,1, Swing: 480,5
[00:16:30] [INFO] [Player.Grenade] State reset to IDLE
[00:16:30] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[00:16:30] [INFO] [Player.Grenade] Player rotation restored to 0
[00:16:30] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:16:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=20
[00:16:31] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:16:31] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[00:16:31] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[00:16:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:16:31] [INFO] [LastChance] Threat detected: Bullet
[00:16:31] [INFO] [LastChance] Not in hard mode - effect disabled
[00:16:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:16:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:16:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:16:31] [INFO] [LastChance] Threat detected: Bullet
[00:16:31] [INFO] [LastChance] Not in hard mode - effect disabled
[00:16:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:16:31] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:16:31] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:16:31] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:16:31] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:16:31] [ENEMY] [Enemy1] Death animation component initialized
[00:16:31] [ENEMY] [Enemy2] Death animation component initialized
[00:16:31] [ENEMY] [Enemy3] Death animation component initialized
[00:16:31] [ENEMY] [Enemy4] Death animation component initialized
[00:16:31] [ENEMY] [Enemy5] Death animation component initialized
[00:16:31] [ENEMY] [Enemy6] Death animation component initialized
[00:16:31] [ENEMY] [Enemy7] Death animation component initialized
[00:16:31] [ENEMY] [Enemy8] Death animation component initialized
[00:16:31] [ENEMY] [Enemy9] Death animation component initialized
[00:16:31] [ENEMY] [Enemy10] Death animation component initialized
[00:16:31] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:16:31] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:16:31] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:16:31] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:16:31] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:16:31] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:16:31] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:16:31] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:16:31] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:16:31] [INFO] [ScoreManager] Level started with 10 enemies
[00:16:31] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:16:31] [ENEMY] [Enemy1] Registered as sound listener
[00:16:31] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:16:31] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:16:31] [ENEMY] [Enemy2] Registered as sound listener
[00:16:31] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:16:31] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:16:31] [ENEMY] [Enemy3] Registered as sound listener
[00:16:31] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:16:31] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:16:31] [ENEMY] [Enemy4] Registered as sound listener
[00:16:31] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:16:31] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:16:31] [ENEMY] [Enemy5] Registered as sound listener
[00:16:31] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:16:31] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:16:31] [ENEMY] [Enemy6] Registered as sound listener
[00:16:31] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:16:31] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:16:31] [ENEMY] [Enemy7] Registered as sound listener
[00:16:31] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:16:31] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:16:31] [ENEMY] [Enemy8] Registered as sound listener
[00:16:31] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:16:31] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:16:31] [ENEMY] [Enemy9] Registered as sound listener
[00:16:31] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:16:31] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:16:31] [ENEMY] [Enemy10] Registered as sound listener
[00:16:31] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:16:31] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:16:31] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:16:31] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:16:31] [INFO] [LastChance] Found player: Player
[00:16:31] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:16:31] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:16:31] [INFO] [LastChance] Connected to player Died signal (C#)
[00:16:31] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:16:31] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:16:31] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:16:31] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:16:31] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:16:31] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1011.60846, 1342.1707)
[00:16:31] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:16:31] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:16:31] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:16:31] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:16:31] [INFO] [Player.Grenade] Step 1 complete! Drag: (242.71027, 0)
[00:16:31] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:16:31] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:16:32] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:16:32] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:16:32] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:16:32] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:16:32] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:16:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:16:32] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:16:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:16:33] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:16:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=542709384802, bullet_pos=(41.69983, 702.3934)
[00:16:33] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:16:33] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:16:33] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:16:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=542709384802, bullet_pos=(316.2042, 470.773)
[00:16:33] [INFO] [Bullet] Using shooter_position, distance=1182.06848144531
[00:16:33] [INFO] [Bullet] Distance to wall: 1182.06848144531 (80.4892165338827% of viewport)
[00:16:33] [ENEMY] [Enemy2] Hit taken, health: 2/3
[00:16:33] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:16:33] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1626.9231, 1219.9548) (2033,5 px/s), Swing distance: 673,3
[00:16:33] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,6434077
[00:16:33] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1626.923, 1219.955), Swing: 673.3, Transfer: 1.00, Final speed: 1071.8
[00:16:33] [INFO] [Player.Grenade] Thrown! Velocity: 2033,5, Swing: 673,3
[00:16:33] [INFO] [Player.Grenade] State reset to IDLE
[00:16:34] [INFO] [Player.Grenade] Player rotation restored to 0
[00:16:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:16:34] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:16:34] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:16:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:16:34] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:16:34] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:16:34] [INFO] [LastChance] Threat detected: Bullet
[00:16:34] [INFO] [LastChance] Not in hard mode - effect disabled
[00:16:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:16:34] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:16:34] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:16:34] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:16:34] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:16:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:16:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:16:34] [INFO] [LastChance] Threat detected: Bullet
[00:16:34] [INFO] [LastChance] Not in hard mode - effect disabled
[00:16:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:16:34] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:16:34] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:16:34] [INFO] [GrenadeBase] Collision detected with Room2_WallBottom (type: StaticBody2D)
[00:16:34] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:16:34] [ENEMY] [Enemy10] FLANKING started: target=(641.1298, 841.7213), side=left, pos=(1022.668, 1432.257)
[00:16:34] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:16:34] [INFO] [GrenadeBase] Grenade landed at (877.4456, 960.1738)
[00:16:35] [INFO] [GrenadeBase] EXPLODED at (881.0624, 958.5567)!
[00:16:35] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(881.0624, 958.5567), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=10
[00:16:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:16:35] [ENEMY] [Enemy4] Status effect: BLINDED applied
[00:16:35] [ENEMY] [Enemy4] Status effect: STUNNED applied
[00:16:36] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[00:16:36] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[00:16:36] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:16:36] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:16:36] [ENEMY] [Enemy1] Death animation component initialized
[00:16:36] [ENEMY] [Enemy2] Death animation component initialized
[00:16:36] [ENEMY] [Enemy3] Death animation component initialized
[00:16:36] [ENEMY] [Enemy4] Death animation component initialized
[00:16:36] [ENEMY] [Enemy5] Death animation component initialized
[00:16:36] [ENEMY] [Enemy6] Death animation component initialized
[00:16:36] [ENEMY] [Enemy7] Death animation component initialized
[00:16:36] [ENEMY] [Enemy8] Death animation component initialized
[00:16:36] [ENEMY] [Enemy9] Death animation component initialized
[00:16:36] [ENEMY] [Enemy10] Death animation component initialized
[00:16:36] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:16:36] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:16:36] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:16:36] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:16:36] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:16:36] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:16:36] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:16:36] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:16:36] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:16:36] [INFO] [ScoreManager] Level started with 10 enemies
[00:16:36] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:16:36] [ENEMY] [Enemy1] Registered as sound listener
[00:16:36] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:16:36] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:16:36] [ENEMY] [Enemy2] Registered as sound listener
[00:16:36] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:16:36] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:16:36] [ENEMY] [Enemy3] Registered as sound listener
[00:16:36] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:16:36] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:16:36] [ENEMY] [Enemy4] Registered as sound listener
[00:16:36] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:16:36] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:16:36] [ENEMY] [Enemy5] Registered as sound listener
[00:16:36] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:16:36] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:16:36] [ENEMY] [Enemy6] Registered as sound listener
[00:16:36] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:16:36] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:16:36] [ENEMY] [Enemy7] Registered as sound listener
[00:16:36] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:16:36] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:16:36] [ENEMY] [Enemy8] Registered as sound listener
[00:16:36] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:16:36] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:16:36] [ENEMY] [Enemy9] Registered as sound listener
[00:16:36] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:16:36] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:16:36] [ENEMY] [Enemy10] Registered as sound listener
[00:16:36] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:16:36] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:16:36] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:16:36] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:16:36] [INFO] [LastChance] Found player: Player
[00:16:36] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:16:36] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:16:36] [INFO] [LastChance] Connected to player Died signal (C#)
[00:16:36] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:16:36] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:16:36] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:16:36] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:16:36] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:16:36] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (987.1889, 1511.1503)
[00:16:37] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:16:37] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:16:37] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:16:37] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:16:37] [INFO] [Player.Grenade] Step 1 complete! Drag: (276.1895, 0)
[00:16:37] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:16:37] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:16:37] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:16:37] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:16:37] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:16:37] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:16:38] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:16:38] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.6958007, 0) (0,7 px/s), Swing distance: 0,8
[00:16:38] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0
[00:16:38] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.695801, 0), Swing: 0.8, Transfer: 0.01, Final speed: 0.0
[00:16:38] [INFO] [Player.Grenade] Thrown! Velocity: 0,7, Swing: 0,8
[00:16:38] [INFO] [Player.Grenade] State reset to IDLE
[00:16:38] [INFO] [Player.Grenade] Player rotation restored to 0
[00:16:38] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:16:38] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:16:38] [ENEMY] [Enemy1] Death animation component initialized
[00:16:38] [ENEMY] [Enemy2] Death animation component initialized
[00:16:38] [ENEMY] [Enemy3] Death animation component initialized
[00:16:38] [ENEMY] [Enemy4] Death animation component initialized
[00:16:38] [ENEMY] [Enemy5] Death animation component initialized
[00:16:38] [ENEMY] [Enemy6] Death animation component initialized
[00:16:38] [ENEMY] [Enemy7] Death animation component initialized
[00:16:38] [ENEMY] [Enemy8] Death animation component initialized
[00:16:38] [ENEMY] [Enemy9] Death animation component initialized
[00:16:38] [ENEMY] [Enemy10] Death animation component initialized
[00:16:38] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:16:38] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:16:38] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:16:38] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:16:38] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:16:38] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:16:38] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:16:38] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:16:38] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:16:38] [INFO] [ScoreManager] Level started with 10 enemies
[00:16:38] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[00:16:38] [ENEMY] [Enemy1] Registered as sound listener
[00:16:38] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:16:38] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[00:16:38] [ENEMY] [Enemy2] Registered as sound listener
[00:16:38] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:16:38] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[00:16:38] [ENEMY] [Enemy3] Registered as sound listener
[00:16:38] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:16:38] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[00:16:38] [ENEMY] [Enemy4] Registered as sound listener
[00:16:38] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:16:38] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[00:16:38] [ENEMY] [Enemy5] Registered as sound listener
[00:16:38] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:16:38] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[00:16:38] [ENEMY] [Enemy6] Registered as sound listener
[00:16:38] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:16:38] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[00:16:38] [ENEMY] [Enemy7] Registered as sound listener
[00:16:38] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:16:38] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[00:16:38] [ENEMY] [Enemy8] Registered as sound listener
[00:16:38] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:16:38] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[00:16:38] [ENEMY] [Enemy9] Registered as sound listener
[00:16:38] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:16:38] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[00:16:38] [ENEMY] [Enemy10] Registered as sound listener
[00:16:38] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:16:38] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:16:38] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:16:38] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:16:38] [INFO] [LastChance] Found player: Player
[00:16:38] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:16:38] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:16:38] [INFO] [LastChance] Connected to player Died signal (C#)
[00:16:38] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:16:38] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:16:38] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:16:39] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:16:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=30
[00:16:39] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[00:16:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:16:39] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:16:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=941889686466, bullet_pos=(41.69983, 702.3934)
[00:16:40] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:16:40] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:16:40] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:16:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=941889686466, bullet_pos=(510.9534, 442.8456)
[00:16:40] [INFO] [Bullet] Using shooter_position, distance=1105.01306152344
[00:16:40] [INFO] [Bullet] Distance to wall: 1105.01306152344 (75.2423712989791% of viewport)
[00:16:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(454.1346, 745.7783), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:16:40] [ENEMY] [Enemy1] Heard gunshot at (454.1346, 745.7783), source_type=0, intensity=0.01, distance=425
[00:16:40] [ENEMY] [Enemy2] Heard gunshot at (454.1346, 745.7783), source_type=0, intensity=0.06, distance=203
[00:16:40] [ENEMY] [Enemy4] Heard gunshot at (454.1346, 745.7783), source_type=0, intensity=0.02, distance=379
[00:16:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:16:40] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:16:40] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:16:40] [ENEMY] [Enemy3] Hit taken, health: 3/4
[00:16:40] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:16:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(467.3265, 734.0669), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:16:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:16:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=941889686466, bullet_pos=(269.5452, 264.7035)
[00:16:40] [INFO] [Bullet] Using shooter_position, distance=1379.12243652344
[00:16:40] [INFO] [Bullet] Distance to wall: 1379.12243652344 (93.9069826854244% of viewport)
[00:16:40] [INFO] [Bullet] Distance-based penetration chance: 37.1085202003382%
[00:16:40] [INFO] [Bullet] Penetration failed (distance roll)
[00:16:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(488.1422, 741.5449), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:16:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:16:40] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[00:16:40] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[00:16:40] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[00:16:40] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:16:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(467.32648, 734.0669), shooter_id=942711770099, bullet_pos=(924.96796, 708.89075)
[00:16:40] [INFO] [Bullet] Using shooter_position, distance=458,33347
[00:16:40] [INFO] [Bullet] Distance to wall: 458,33347 (31,208769% of viewport)
[00:16:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:40] [ENEMY] [Enemy3] Hit taken, health: 2/4
[00:16:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(512.0179, 762.1001), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:16:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:16:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(692.5667, 756.3875), source=ENEMY (Enemy3), range=1469, listeners=10
[00:16:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:16:40] [INFO] [LastChance] Threat detected: @Area2D@1305
[00:16:40] [INFO] [LastChance] Not in hard mode - effect disabled
[00:16:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:16:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:16:40] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:16:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700.7252, 763.2574), source=ENEMY (Enemy3), range=1469, listeners=10
[00:16:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:16:40] [INFO] [LastChance] Threat detected: Bullet
[00:16:40] [INFO] [LastChance] Not in hard mode - effect disabled
[00:16:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:16:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(536.908, 786.9902), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:16:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[00:16:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:16:40] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:16:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(709.2088, 769.7212), source=ENEMY (Enemy3), range=1469, listeners=10
[00:16:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:16:40] [INFO] [LastChance] Threat detected: Bullet
[00:16:40] [INFO] [LastChance] Not in hard mode - effect disabled
[00:16:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:16:40] [ENEMY] [Enemy3] Hit taken, health: 1/4
[00:16:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:16:40] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:16:40] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:16:40] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:16:40] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:16:40] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:16:40] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:16:40] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:16:40] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:16:40] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:16:40] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:16:40] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:16:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(716.9874, 778.5043), source=ENEMY (Enemy3), range=1469, listeners=10
[00:16:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:16:41] [INFO] [LastChance] Threat detected: Bullet
[00:16:41] [INFO] [LastChance] Not in hard mode - effect disabled
[00:16:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:16:41] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:16:41] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:16:41] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:16:41] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:16:41] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:16:41] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:16:41] [INFO] [LastChance] Player died
[00:16:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:16:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:16:41] [ENEMY] [Enemy1] Death animation component initialized
[00:16:41] [ENEMY] [Enemy2] Death animation component initialized
[00:16:41] [ENEMY] [Enemy3] Death animation component initialized
[00:16:41] [ENEMY] [Enemy4] Death animation component initialized
[00:16:41] [ENEMY] [Enemy5] Death animation component initialized
[00:16:41] [ENEMY] [Enemy6] Death animation component initialized
[00:16:41] [ENEMY] [Enemy7] Death animation component initialized
[00:16:41] [ENEMY] [Enemy8] Death animation component initialized
[00:16:41] [ENEMY] [Enemy9] Death animation component initialized
[00:16:41] [ENEMY] [Enemy10] Death animation component initialized
[00:16:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:16:41] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:16:41] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:16:41] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:16:41] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:16:41] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:16:41] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:16:41] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:16:41] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:16:41] [INFO] [ScoreManager] Level started with 10 enemies
[00:16:41] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:16:41] [ENEMY] [Enemy1] Registered as sound listener
[00:16:41] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:16:41] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:16:41] [ENEMY] [Enemy2] Registered as sound listener
[00:16:41] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:16:41] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:16:41] [ENEMY] [Enemy3] Registered as sound listener
[00:16:41] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:16:41] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:16:41] [ENEMY] [Enemy4] Registered as sound listener
[00:16:41] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:16:41] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:16:41] [ENEMY] [Enemy5] Registered as sound listener
[00:16:41] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:16:41] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:16:41] [ENEMY] [Enemy6] Registered as sound listener
[00:16:41] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:16:41] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:16:41] [ENEMY] [Enemy7] Registered as sound listener
[00:16:41] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:16:41] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:16:41] [ENEMY] [Enemy8] Registered as sound listener
[00:16:41] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:16:41] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:16:41] [ENEMY] [Enemy9] Registered as sound listener
[00:16:41] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:16:41] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:16:41] [ENEMY] [Enemy10] Registered as sound listener
[00:16:41] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:16:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:16:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:16:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:16:41] [INFO] [LastChance] Found player: Player
[00:16:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:16:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:16:41] [INFO] [LastChance] Connected to player Died signal (C#)
[00:16:41] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:16:41] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:16:41] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:16:42] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:16:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:16:42] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:16:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:16:42] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:16:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=1158902974819, bullet_pos=(41.69983, 702.3934)
[00:16:43] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:16:43] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:16:43] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:16:43] [INFO] [Bullet] Starting wall penetration at (41.69983, 702.3934)
[00:16:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.508674621582
[00:16:43] [INFO] [Bullet] Body exited signal received for penetrating body
[00:16:43] [INFO] [Bullet] Exiting penetration at (4.46851, 674.2579) after traveling 41.6666717529297 pixels through wall
[00:16:43] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:16:43] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:16:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.5185, 752.3748), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:16:43] [ENEMY] [Enemy1] Heard gunshot at (458.5185, 752.3748), source_type=0, intensity=0.01, distance=432
[00:16:43] [ENEMY] [Enemy2] Heard gunshot at (458.5185, 752.3748), source_type=0, intensity=0.06, distance=211
[00:16:43] [ENEMY] [Enemy4] Heard gunshot at (458.5185, 752.3748), source_type=0, intensity=0.02, distance=372
[00:16:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:16:43] [ENEMY] [Enemy3] Hit taken, health: 1/2
[00:16:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(478.1673, 734.0664), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:16:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:16:43] [ENEMY] [Enemy3] Hit taken, health: 0/2
[00:16:43] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:16:43] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:16:43] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:16:43] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:16:43] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[00:16:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(503.2862, 740.0394), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:16:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[00:16:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(528.2409, 759.5761), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:16:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[00:16:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(503.2862, 740.03937), shooter_id=1159725058438, bullet_pos=(928.17615, 730.35236)
[00:16:43] [INFO] [Bullet] Using shooter_position, distance=425,00037
[00:16:43] [INFO] [Bullet] Distance to wall: 425,00037 (28,939056% of viewport)
[00:16:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:43] [INFO] [Bullet] Starting wall penetration at (928.17615, 730.35236)
[00:16:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,507437
[00:16:43] [INFO] [Bullet] Body exited signal received for penetrating body
[00:16:43] [INFO] [Bullet] Exiting penetration at (966.4995, 729.47864) after traveling 33,333336 pixels through wall
[00:16:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:16:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(553.131, 784.4662), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:16:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[00:16:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(528.2409, 759.5761), shooter_id=1159725058438, bullet_pos=(919.8026, 768.6561)
[00:16:44] [INFO] [Bullet] Using shooter_position, distance=391,66696
[00:16:44] [INFO] [Bullet] Distance to wall: 391,66696 (26,669323% of viewport)
[00:16:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:44] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[00:16:44] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:16:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(553.13104, 784.46625), shooter_id=1159725058438, bullet_pos=(911.2424, 797.08295)
[00:16:44] [INFO] [Bullet] Using shooter_position, distance=358,33353
[00:16:44] [INFO] [Bullet] Distance to wall: 358,33353 (24,39959% of viewport)
[00:16:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:44] [INFO] [Bullet] Starting wall penetration at (911.2424, 797.08295)
[00:16:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,560348
[00:16:44] [INFO] [Bullet] Body exited signal received for penetrating body
[00:16:44] [INFO] [Bullet] Exiting penetration at (949.55194, 798.4326) after traveling 33,333336 pixels through wall
[00:16:44] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:16:44] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:16:44] [ENEMY] [Enemy3] Ragdoll activated
[00:16:44] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:16:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(591.7051, 856.4883), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:16:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:16:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(591.7051, 856.48834), shooter_id=1159725058438, bullet_pos=(681.9364, 872.6466)
[00:16:44] [INFO] [Bullet] Using shooter_position, distance=91,66669
[00:16:44] [INFO] [Bullet] Distance to wall: 91,66669 (6,241753% of viewport)
[00:16:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:44] [INFO] [Bullet] Starting wall penetration at (681.9364, 872.6466)
[00:16:44] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:16:44] [INFO] [Bullet] Exiting penetration at (719.6695, 879.4037) after traveling 33,333336 pixels through wall
[00:16:44] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:16:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(591.9022, 891.6069), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:16:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:16:44] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[00:16:44] [ENEMY] [Enemy4] Hit taken, health: 2/3
[00:16:44] [ENEMY] [Enemy10] FLANKING started: target=(524.3093, 1092.743), side=right, pos=(1022.668, 1432.257)
[00:16:44] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:16:44] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[00:16:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(600.5743, 923.2147), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:16:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:16:44] [ENEMY] [Enemy4] Hit taken, health: 1/3
[00:16:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(731.244, 914.0654), source=ENEMY (Enemy4), range=1469, listeners=9
[00:16:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:16:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:16:44] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:16:44] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:16:44] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:16:44] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:16:44] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:16:44] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:16:44] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:16:44] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:16:44] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:16:44] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:16:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(618.8566, 946.992), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:16:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:16:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(742.0232, 914.0652), source=ENEMY (Enemy4), range=1469, listeners=9
[00:16:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:16:45] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:16:45] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:16:45] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:16:45] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:16:45] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:16:45] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:16:45] [INFO] [LastChance] Player died
[00:16:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(748.144, 914.0659), source=ENEMY (Enemy4), range=1469, listeners=9
[00:16:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=7
[00:16:45] [INFO] [LastChance] Threat detected: @Area2D@1580
[00:16:45] [INFO] [LastChance] Not in hard mode - effect disabled
[00:16:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:16:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(618.8566, 946.992), shooter_id=1159725058438, bullet_pos=(931.2989, 952.99786)
[00:16:45] [INFO] [Bullet] Using shooter_position, distance=312,49997
[00:16:45] [INFO] [Bullet] Distance to wall: 312,49997 (21,278698% of viewport)
[00:16:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:45] [INFO] [Bullet] Starting wall penetration at (931.2989, 952.99786)
[00:16:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41,96472
[00:16:45] [INFO] [Bullet] Body exited signal received for penetrating body
[00:16:45] [INFO] [Bullet] Exiting penetration at (977.957, 953.8947) after traveling 41,666668 pixels through wall
[00:16:45] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:16:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(755.8384, 919.4107), source=ENEMY (Enemy4), range=1469, listeners=9
[00:16:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=7
[00:16:45] [INFO] [LastChance] Threat detected: Bullet
[00:16:45] [INFO] [LastChance] Not in hard mode - effect disabled
[00:16:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:16:45] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[00:16:45] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:16:45] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:16:45] [ENEMY] [Enemy1] Death animation component initialized
[00:16:45] [ENEMY] [Enemy2] Death animation component initialized
[00:16:45] [ENEMY] [Enemy3] Death animation component initialized
[00:16:45] [ENEMY] [Enemy4] Death animation component initialized
[00:16:45] [ENEMY] [Enemy5] Death animation component initialized
[00:16:45] [ENEMY] [Enemy6] Death animation component initialized
[00:16:45] [ENEMY] [Enemy7] Death animation component initialized
[00:16:45] [ENEMY] [Enemy8] Death animation component initialized
[00:16:45] [ENEMY] [Enemy9] Death animation component initialized
[00:16:45] [ENEMY] [Enemy10] Death animation component initialized
[00:16:45] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:16:45] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:16:45] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:16:45] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:16:45] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:16:45] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:16:45] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:16:45] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:16:45] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:16:45] [INFO] [ScoreManager] Level started with 10 enemies
[00:16:45] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:16:45] [ENEMY] [Enemy1] Registered as sound listener
[00:16:45] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:16:45] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:16:45] [ENEMY] [Enemy2] Registered as sound listener
[00:16:45] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:16:45] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:16:45] [ENEMY] [Enemy3] Registered as sound listener
[00:16:45] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:16:45] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:16:45] [ENEMY] [Enemy4] Registered as sound listener
[00:16:45] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:16:45] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:16:45] [ENEMY] [Enemy5] Registered as sound listener
[00:16:45] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:16:45] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:16:45] [ENEMY] [Enemy6] Registered as sound listener
[00:16:45] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:16:45] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:16:45] [ENEMY] [Enemy7] Registered as sound listener
[00:16:45] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:16:45] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:16:45] [ENEMY] [Enemy8] Registered as sound listener
[00:16:45] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:16:45] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:16:45] [ENEMY] [Enemy9] Registered as sound listener
[00:16:45] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:16:45] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:16:45] [ENEMY] [Enemy10] Registered as sound listener
[00:16:45] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:16:45] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:16:45] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:16:45] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:16:45] [INFO] [LastChance] Found player: Player
[00:16:45] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:16:45] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:16:45] [INFO] [LastChance] Connected to player Died signal (C#)
[00:16:45] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:16:45] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:16:45] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:16:45] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:16:45] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:16:45] [ENEMY] [Enemy1] Death animation component initialized
[00:16:45] [ENEMY] [Enemy2] Death animation component initialized
[00:16:45] [ENEMY] [Enemy3] Death animation component initialized
[00:16:45] [ENEMY] [Enemy4] Death animation component initialized
[00:16:45] [ENEMY] [Enemy5] Death animation component initialized
[00:16:45] [ENEMY] [Enemy6] Death animation component initialized
[00:16:45] [ENEMY] [Enemy7] Death animation component initialized
[00:16:45] [ENEMY] [Enemy8] Death animation component initialized
[00:16:45] [ENEMY] [Enemy9] Death animation component initialized
[00:16:45] [ENEMY] [Enemy10] Death animation component initialized
[00:16:45] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:16:45] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:16:45] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:16:45] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:16:45] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:16:45] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:16:45] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:16:45] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:16:45] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:16:45] [INFO] [ScoreManager] Level started with 10 enemies
[00:16:45] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[00:16:45] [ENEMY] [Enemy1] Registered as sound listener
[00:16:45] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:16:45] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[00:16:45] [ENEMY] [Enemy2] Registered as sound listener
[00:16:45] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:16:45] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[00:16:45] [ENEMY] [Enemy3] Registered as sound listener
[00:16:45] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:16:45] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[00:16:45] [ENEMY] [Enemy4] Registered as sound listener
[00:16:45] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:16:45] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[00:16:45] [ENEMY] [Enemy5] Registered as sound listener
[00:16:45] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:16:45] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[00:16:45] [ENEMY] [Enemy6] Registered as sound listener
[00:16:45] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:16:45] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[00:16:45] [ENEMY] [Enemy7] Registered as sound listener
[00:16:45] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:16:45] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[00:16:45] [ENEMY] [Enemy8] Registered as sound listener
[00:16:45] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:16:45] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[00:16:45] [ENEMY] [Enemy9] Registered as sound listener
[00:16:45] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:16:45] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[00:16:45] [ENEMY] [Enemy10] Registered as sound listener
[00:16:45] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:16:45] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:16:45] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:16:45] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:16:45] [INFO] [LastChance] Found player: Player
[00:16:45] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:16:45] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:16:45] [INFO] [LastChance] Connected to player Died signal (C#)
[00:16:45] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:16:45] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:16:45] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:16:46] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:16:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=29
[00:16:46] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[00:16:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:16:47] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:16:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=1426734450918, bullet_pos=(41.69983, 702.3934)
[00:16:47] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:16:47] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:16:47] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:16:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=1426734450918, bullet_pos=(514.2883, 448.9683)
[00:16:47] [INFO] [Bullet] Using shooter_position, distance=1098.04516601563
[00:16:47] [INFO] [Bullet] Distance to wall: 1098.04516601563 (74.7679144810221% of viewport)
[00:16:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.5185, 757.8748), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:16:47] [ENEMY] [Enemy1] Heard gunshot at (458.5185, 757.8748), source_type=0, intensity=0.01, distance=438
[00:16:47] [ENEMY] [Enemy2] Heard gunshot at (458.5185, 757.8748), source_type=0, intensity=0.05, distance=216
[00:16:47] [ENEMY] [Enemy4] Heard gunshot at (458.5185, 757.8748), source_type=0, intensity=0.02, distance=370
[00:16:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:16:47] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:16:47] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:16:47] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:16:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(477.8507, 734.4524), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:16:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:16:47] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:16:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=1426734450918, bullet_pos=(257.0831, 272.2525)
[00:16:47] [INFO] [Bullet] Using shooter_position, distance=1379.46813964844
[00:16:47] [INFO] [Bullet] Distance to wall: 1379.46813964844 (93.9305222468976% of viewport)
[00:16:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(506.5742, 734.269), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:16:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:16:47] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:16:47] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[00:16:47] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[00:16:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(477.85074, 734.4524), shooter_id=1427556534360, bullet_pos=(936.0017, 721.5299)
[00:16:48] [INFO] [Bullet] Using shooter_position, distance=458,33316
[00:16:48] [INFO] [Bullet] Distance to wall: 458,33316 (31,208748% of viewport)
[00:16:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:48] [INFO] [Bullet] Starting wall penetration at (936.0017, 721.5299)
[00:16:48] [ENEMY] [Enemy3] Hit taken, health: 1/3
[00:16:48] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[00:16:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,335003
[00:16:48] [INFO] [Bullet] Body exited signal received for penetrating body
[00:16:48] [INFO] [Bullet] Exiting penetration at (974.31976, 720.4491) after traveling 33,333336 pixels through wall
[00:16:48] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:16:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=1426734450918, bullet_pos=(58.02719, 424.5751)
[00:16:48] [INFO] [Bullet] Using shooter_position, distance=1382.32568359375
[00:16:48] [INFO] [Bullet] Distance to wall: 1382.32568359375 (94.1250976686939% of viewport)
[00:16:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(690.9437, 759.2922), source=ENEMY (Enemy3), range=1469, listeners=10
[00:16:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:16:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(536.8501, 743.1648), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:16:48] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[00:16:48] [INFO] [LastChance] Threat detected: @Area2D@2094
[00:16:48] [INFO] [LastChance] Not in hard mode - effect disabled
[00:16:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:16:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[00:16:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[00:16:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:16:48] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:16:48] [INFO] [LastChance] Threat detected: @Area2D@2096
[00:16:48] [INFO] [LastChance] Not in hard mode - effect disabled
[00:16:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:16:48] [ENEMY] [Enemy3] Hit taken, health: 0/3
[00:16:48] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:16:48] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:16:48] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:16:48] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:16:48] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[00:16:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[00:16:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[00:16:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(562.9202, 764.5507), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:16:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[00:16:48] [INFO] [LastChance] Threat detected: @Area2D@2098
[00:16:48] [INFO] [LastChance] Not in hard mode - effect disabled
[00:16:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:16:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[00:16:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[00:16:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.2202, 609.2147), shooter_id=1424452749675, bullet_pos=(681.9247, 832.2701)
[00:16:48] [INFO] [Bullet] Using shooter_position, distance=333.333526611328
[00:16:48] [INFO] [Bullet] Distance to wall: 333.333526611328 (22.6972927732725% of viewport)
[00:16:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:48] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[00:16:48] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:16:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.8537, 607.9279), shooter_id=1424452749675, bullet_pos=(487.4463, 693.5912)
[00:16:48] [INFO] [Bullet] Using shooter_position, distance=99.9999771118164
[00:16:48] [INFO] [Bullet] Distance to wall: 99.9999771118164 (6.80918232528703% of viewport)
[00:16:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(587.6133, 789.5225), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:16:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[00:16:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(562.9202, 764.55066), shooter_id=1427556534360, bullet_pos=(920.56964, 786.6799)
[00:16:48] [INFO] [Bullet] Using shooter_position, distance=358,33337
[00:16:48] [INFO] [Bullet] Distance to wall: 358,33337 (24,399578% of viewport)
[00:16:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.2202, 609.2147), shooter_id=1424452749675, bullet_pos=(510.6775, 988.2952)
[00:16:48] [INFO] [Bullet] Using shooter_position, distance=386.714080810547
[00:16:48] [INFO] [Bullet] Distance to wall: 386.714080810547 (26.3320728668812% of viewport)
[00:16:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.2202, 609.2147), shooter_id=1424452749675, bullet_pos=(514.7813, 991.1516)
[00:16:48] [INFO] [Bullet] Using shooter_position, distance=390.340759277344
[00:16:48] [INFO] [Bullet] Distance to wall: 390.340759277344 (26.579020072559% of viewport)
[00:16:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=1426734450918, bullet_pos=(314.9042, 691.4336)
[00:16:48] [INFO] [Bullet] Using shooter_position, distance=1011.95172119141
[00:16:48] [INFO] [Bullet] Distance to wall: 1011.95172119141 (68.9056535110556% of viewport)
[00:16:48] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[00:16:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(587.6133, 789.52246), shooter_id=1427556534360, bullet_pos=(912.29767, 803.8404)
[00:16:48] [INFO] [Bullet] Using shooter_position, distance=324,99994
[00:16:48] [INFO] [Bullet] Distance to wall: 324,99994 (22,129845% of viewport)
[00:16:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:48] [INFO] [Bullet] Starting wall penetration at (912.29767, 803.8404)
[00:16:48] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:16:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,607933
[00:16:48] [INFO] [Bullet] Body exited signal received for penetrating body
[00:16:48] [INFO] [Bullet] Exiting penetration at (950.59375, 805.5292) after traveling 33,333336 pixels through wall
[00:16:48] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:16:48] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[00:16:48] [ENEMY] [Enemy2] Hit taken, health: 2/3
[00:16:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(608.8994, 881.9056), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:16:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:16:48] [ENEMY] [Enemy3] Ragdoll activated
[00:16:48] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:16:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(608.89935, 881.9056), shooter_id=1427556534360, bullet_pos=(700.19653, 890.12836)
[00:16:48] [INFO] [Bullet] Using shooter_position, distance=91,666725
[00:16:48] [INFO] [Bullet] Distance to wall: 91,666725 (6,241756% of viewport)
[00:16:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:48] [INFO] [Bullet] Starting wall penetration at (700.19653, 890.12836)
[00:16:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,76443
[00:16:48] [ENEMY] [Enemy10] FLANKING started: target=(533.838, 1072.036), side=right, pos=(1022.668, 1432.257)
[00:16:48] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:16:48] [INFO] [Bullet] Max penetration distance exceeded: 66,666664 >= 48
[00:16:48] [INFO] [Bullet] Body exited signal received for penetrating body
[00:16:48] [INFO] [Bullet] Exiting penetration at (771.57434, 896.55707) after traveling 66,666664 pixels through wall
[00:16:48] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:16:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(620.725, 912.2072), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:16:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:16:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.2202, 609.2147), shooter_id=1424452749675, bullet_pos=(60.74319, 1315.023)
[00:16:48] [INFO] [Bullet] Using shooter_position, distance=798.530151367188
[00:16:48] [INFO] [Bullet] Distance to wall: 798.530151367188 (54.3733863740628% of viewport)
[00:16:48] [INFO] [Bullet] Distance-based penetration chance: 83.2310492302601%
[00:16:48] [INFO] [Bullet] Starting wall penetration at (60.74319, 1315.023)
[00:16:48] [INFO] [Bullet] Body exited signal received for penetrating body
[00:16:48] [INFO] [Bullet] Exiting penetration at (40.00719, 1329.814) after traveling 0 pixels through wall
[00:16:48] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[00:16:48] [ENEMY] [Enemy4] Hit taken, health: 3/4
[00:16:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(643.8132, 937.8438), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:16:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:16:49] [ENEMY] [Enemy4] Hit taken, health: 2/4
[00:16:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(671.6424, 955.6385), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:16:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:16:49] [ENEMY] [Enemy4] Hit taken, health: 1/4
[00:16:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(704.679, 960.8615), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:16:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[00:16:49] [ENEMY] [Enemy4] Hit taken, health: 0/4
[00:16:49] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[00:16:49] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:16:49] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[00:16:49] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:16:49] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[00:16:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(739.8792, 960.8615), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:16:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[00:16:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(739.8792, 960.8615), shooter_id=1427556534360, bullet_pos=(911.79065, 876.11145)
[00:16:49] [INFO] [Bullet] Using shooter_position, distance=191,66669
[00:16:49] [INFO] [Bullet] Distance to wall: 191,66669 (13,050938% of viewport)
[00:16:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(775.0794, 960.8615), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:16:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[00:16:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(775.0794, 960.8615), shooter_id=1427556534360, bullet_pos=(917.60376, 891.89606)
[00:16:49] [INFO] [Bullet] Using shooter_position, distance=158,33327
[00:16:49] [INFO] [Bullet] Distance to wall: 158,33327 (10,781204% of viewport)
[00:16:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:49] [INFO] [Bullet] Starting wall penetration at (917.60376, 891.89606)
[00:16:49] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,896574
[00:16:49] [INFO] [Bullet] Body exited signal received for penetrating body
[00:16:49] [INFO] [Bullet] Exiting penetration at (952.1097, 875.19916) after traveling 33,333336 pixels through wall
[00:16:49] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:16:49] [ENEMY] [Enemy4] Ragdoll activated
[00:16:49] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:16:49] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:16:49] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:16:49] [ENEMY] [Enemy3] Death animation completed
[00:16:49] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1099.3291, 693.6569)
[00:16:50] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:16:50] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:16:50] [INFO] [Player.Grenade] Timer started, grenade created at (849.3462, 954.8615)
[00:16:50] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:16:50] [INFO] [Player.Grenade] Step 1 complete! Drag: (364.7605, 19.704468)
[00:16:50] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:16:50] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:16:50] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:16:50] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:16:50] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:16:50] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:16:50] [INFO] [GrenadeBase] Collision detected with Enemy4 (type: CharacterBody2D)
[00:16:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.0735, 600.5825), source=ENEMY (Enemy2), range=1469, listeners=8
[00:16:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[00:16:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.0735, 600.5825), source=ENEMY (Enemy2), range=1469, listeners=8
[00:16:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[00:16:50] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[00:16:50] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[00:16:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.0735, 600.5825), source=ENEMY (Enemy2), range=1469, listeners=8
[00:16:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[00:16:50] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[00:16:51] [INFO] [LastChance] Threat detected: @Area2D@2141
[00:16:51] [INFO] [LastChance] Not in hard mode - effect disabled
[00:16:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:16:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450.2345, 640.4944), shooter_id=1424452749675, bullet_pos=(937.858, 751.0535)
[00:16:51] [INFO] [Bullet] Using shooter_position, distance=500.000061035156
[00:16:51] [INFO] [Bullet] Distance to wall: 500.000061035156 (34.0459235749237% of viewport)
[00:16:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:51] [INFO] [Bullet] Starting wall penetration at (937.858, 751.0535)
[00:16:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40.2385292053223
[00:16:51] [INFO] [Bullet] Body exited signal received for penetrating body
[00:16:51] [INFO] [Bullet] Exiting penetration at (975.2425, 759.5297) after traveling 33.3333358764648 pixels through wall
[00:16:51] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:16:51] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:16:51] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (-4804.298, -1845.6067) (5146,6 px/s), Swing distance: 568,5
[00:16:51] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -2,7748177
[00:16:51] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (-4804.298, -1845.607), Swing: 568.5, Transfer: 1.00, Final speed: 1352.8
[00:16:51] [INFO] [Player.Grenade] Thrown! Velocity: 5146,6, Swing: 568,5
[00:16:51] [INFO] [Player.Grenade] State reset to IDLE
[00:16:51] [ENEMY] [Enemy4] Death animation completed
[00:16:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(451.1986, 638.179), shooter_id=1424452749675, bullet_pos=(914.0719, 827.25)
[00:16:51] [INFO] [Bullet] Using shooter_position, distance=499.999542236328
[00:16:51] [INFO] [Bullet] Distance to wall: 499.999542236328 (34.0458882489575% of viewport)
[00:16:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:51] [INFO] [Bullet] Starting wall penetration at (914.0719, 827.25)
[00:16:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14.6463832855225
[00:16:51] [INFO] [Bullet] Body exited signal received for penetrating body
[00:16:51] [INFO] [Bullet] Exiting penetration at (949.5588, 841.7454) after traveling 33.3333320617676 pixels through wall
[00:16:51] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:16:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450.9216, 635.3539), shooter_id=1424452749675, bullet_pos=(920.2546, 888.6742)
[00:16:51] [INFO] [Bullet] Using shooter_position, distance=533.333557128906
[00:16:51] [INFO] [Bullet] Distance to wall: 533.333557128906 (36.3156626188416% of viewport)
[00:16:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:51] [INFO] [Player.Grenade] Player rotation restored to 0
[00:16:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450.9216, 635.3539), shooter_id=1424452749675, bullet_pos=(782.2303, 996.2584)
[00:16:51] [INFO] [Bullet] Using shooter_position, distance=489.915802001953
[00:16:51] [INFO] [Bullet] Distance to wall: 489.915802001953 (33.3592678340357% of viewport)
[00:16:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:51] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:16:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450.9216, 635.3539), shooter_id=1424452749675, bullet_pos=(510.1006, 831.5687)
[00:16:51] [INFO] [Bullet] Using shooter_position, distance=204.944915771484
[00:16:51] [INFO] [Bullet] Distance to wall: 204.944915771484 (13.9550761753498% of viewport)
[00:16:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:51] [INFO] [Bullet] Starting wall penetration at (510.1006, 831.5687)
[00:16:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.2770595550537
[00:16:51] [INFO] [Bullet] Body exited signal received for penetrating body
[00:16:51] [INFO] [Bullet] Exiting penetration at (485.219, 816.5106) after traveling 24.0833339691162 pixels through wall
[00:16:51] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[00:16:51] [INFO] [GrenadeBase] Collision detected with Enemy2 (type: CharacterBody2D)
[00:16:51] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:16:51] [INFO] [GrenadeBase] Collision detected with Desk2 (type: StaticBody2D)
[00:16:52] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[00:16:52] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[00:16:52] [INFO] [GrenadeBase] Grenade landed at (329.0258, 522.6752)
[00:16:52] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[00:16:53] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[00:16:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(863.8346, 840.0176), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:16:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[00:16:53] [ENEMY] [Enemy10] Hit taken, health: 2/3
[00:16:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(888.8813, 823.7286), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:16:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[00:16:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(894.5432, 820.0114), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:16:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[00:16:53] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[00:16:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(670.2018, 734.0148), source=ENEMY (Enemy10), range=1469, listeners=8
[00:16:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=4
[00:16:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(885.095, 826.9101), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:16:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[00:16:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(888.88135, 823.7286), shooter_id=1427556534360, bullet_pos=(526.47144, 398.9989)
[00:16:53] [INFO] [Bullet] Using shooter_position, distance=558,33344
[00:16:53] [INFO] [Bullet] Distance to wall: 558,33344 (38,017952% of viewport)
[00:16:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(663.8102, 742.5545), source=ENEMY (Enemy10), range=1469, listeners=8
[00:16:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=4
[00:16:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(730.2188, 766.0861), shooter_id=1426734450918, bullet_pos=(928.6183, 791.3385)
[00:16:53] [INFO] [Bullet] Using shooter_position, distance=200.000152587891
[00:16:53] [INFO] [Bullet] Distance to wall: 200.000152587891 (13.6183781575611% of viewport)
[00:16:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:53] [INFO] [Bullet] Starting wall penetration at (928.6183, 791.3385)
[00:16:53] [INFO] [LastChance] Threat detected: @Area2D@2151
[00:16:53] [INFO] [LastChance] Not in hard mode - effect disabled
[00:16:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:16:53] [ENEMY] [Enemy10] Hit taken, health: 1/3
[00:16:53] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30.8920707702637
[00:16:53] [INFO] [Bullet] Body exited signal received for penetrating body
[00:16:53] [INFO] [Bullet] Exiting penetration at (966.6448, 796.1785) after traveling 33.3333358764648 pixels through wall
[00:16:53] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:16:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(866.7545, 844.1693), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:16:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[00:16:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(723.6262, 774.9993), shooter_id=1426734450918, bullet_pos=(914.6125, 834.365)
[00:16:53] [INFO] [Bullet] Using shooter_position, distance=200.00016784668
[00:16:53] [INFO] [Bullet] Distance to wall: 200.00016784668 (13.6183791965601% of viewport)
[00:16:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(894.54315, 820.01135), shooter_id=1427556534360, bullet_pos=(261.45242, 466.71182)
[00:16:53] [INFO] [Bullet] Using shooter_position, distance=724,9996
[00:16:53] [INFO] [Bullet] Distance to wall: 724,9996 (49,366554% of viewport)
[00:16:53] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:16:53] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:16:53] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[00:16:53] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[00:16:53] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[00:16:53] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[00:16:53] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[00:16:53] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[00:16:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(842.1124, 868.7705), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:16:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[00:16:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(888.88135, 823.7286), shooter_id=1427556534360, bullet_pos=(870.3489, 54.62552)
[00:16:53] [INFO] [Bullet] Using shooter_position, distance=769,32623
[00:16:53] [INFO] [Bullet] Distance to wall: 769,32623 (52,384842% of viewport)
[00:16:53] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:16:53] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:16:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(866.7545, 844.1693), shooter_id=1427556534360, bullet_pos=(518.6322, 600.37537)
[00:16:53] [INFO] [Bullet] Using shooter_position, distance=424,99957
[00:16:53] [INFO] [Bullet] Distance to wall: 424,99957 (28,939003% of viewport)
[00:16:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:53] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:16:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(894.54315, 820.01135), shooter_id=1427556534360, bullet_pos=(60.162476, 581.3931)
[00:16:54] [INFO] [Bullet] Using shooter_position, distance=867,8305
[00:16:54] [INFO] [Bullet] Distance to wall: 867,8305 (59,092175% of viewport)
[00:16:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(817.2222, 893.6606), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:16:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[00:16:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(817.2222, 893.66064), shooter_id=1427556534360, bullet_pos=(753.20215, 828.05426)
[00:16:54] [INFO] [Bullet] Using shooter_position, distance=91,66662
[00:16:54] [INFO] [Bullet] Distance to wall: 91,66662 (6,241749% of viewport)
[00:16:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(866.7545, 844.1693), shooter_id=1427556534360, bullet_pos=(372.7082, 696.9732)
[00:16:54] [INFO] [Bullet] Using shooter_position, distance=515,508
[00:16:54] [INFO] [Bullet] Distance to wall: 515,508 (35,101887% of viewport)
[00:16:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(888.88135, 823.7286), shooter_id=1427556534360, bullet_pos=(1084.3464, 219.12483)
[00:16:54] [INFO] [Bullet] Using shooter_position, distance=635,4151
[00:16:54] [INFO] [Bullet] Distance to wall: 635,4151 (43,266582% of viewport)
[00:16:54] [INFO] [Bullet] Distance-based penetration chance: 96,18899%
[00:16:54] [INFO] [Bullet] Starting wall penetration at (1084.3464, 219.12483)
[00:16:54] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:16:54] [INFO] [Bullet] Exiting penetration at (1107.4045, 236.84952) after traveling 24,083332 pixels through wall
[00:16:54] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[00:16:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(842.11237, 868.7705), shooter_id=1427556534360, bullet_pos=(526.58075, 536.34094)
[00:16:54] [INFO] [Bullet] Using shooter_position, distance=458,33353
[00:16:54] [INFO] [Bullet] Distance to wall: 458,33353 (31,208775% of viewport)
[00:16:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(894.54315, 820.01135), shooter_id=1427556534360, bullet_pos=(256.68604, 684.1139)
[00:16:54] [INFO] [Bullet] Using shooter_position, distance=652,17316
[00:16:54] [INFO] [Bullet] Distance to wall: 652,17316 (44,407673% of viewport)
[00:16:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(817.2222, 893.66064), shooter_id=1427556534360, bullet_pos=(922.22314, 669.6202)
[00:16:54] [INFO] [Bullet] Using shooter_position, distance=247,42538
[00:16:54] [INFO] [Bullet] Distance to wall: 247,42538 (16,847649% of viewport)
[00:16:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:54] [INFO] [Bullet] Starting wall penetration at (922.22314, 669.6202)
[00:16:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,450238
[00:16:54] [INFO] [Bullet] Body exited signal received for penetrating body
[00:16:54] [INFO] [Bullet] Exiting penetration at (946.5427, 646.8239) after traveling 28,333334 pixels through wall
[00:16:54] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:16:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(866.7545, 844.1693), shooter_id=1427556534360, bullet_pos=(66.82497, 543.6318)
[00:16:54] [INFO] [Bullet] Using shooter_position, distance=854,5233
[00:16:54] [INFO] [Bullet] Distance to wall: 854,5233 (58,186066% of viewport)
[00:16:54] [INFO] [Bullet] Distance-based penetration chance: 78,78292%
[00:16:54] [INFO] [Bullet] Penetration failed (distance roll)
[00:16:54] [ENEMY] [Enemy2] Hit taken, health: 1/3
[00:16:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(842.11237, 868.7705), shooter_id=1427556534360, bullet_pos=(1014.82623, 55.88156)
[00:16:54] [INFO] [Bullet] Using shooter_position, distance=831,03455
[00:16:54] [INFO] [Bullet] Distance to wall: 831,03455 (56,58667% of viewport)
[00:16:54] [INFO] [Bullet] Distance-based penetration chance: 80,64889%
[00:16:54] [INFO] [Bullet] Starting wall penetration at (1014.82623, 55.88156)
[00:16:54] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:16:54] [INFO] [Bullet] Exiting penetration at (1038.5852, 32.50154) after traveling 28,333334 pixels through wall
[00:16:54] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:16:54] [INFO] [GrenadeBase] EXPLODED at (328.2369, 526.3232)!
[00:16:54] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(328.2369, 526.3232), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=8
[00:16:54] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=5
[00:16:54] [ENEMY] [Enemy1] Status effect: BLINDED applied
[00:16:54] [ENEMY] [Enemy1] Status effect: STUNNED applied
[00:16:54] [ENEMY] [Enemy2] Status effect: BLINDED applied
[00:16:54] [ENEMY] [Enemy2] Status effect: STUNNED applied
[00:16:54] [ENEMY] [Enemy10] Status effect: BLINDED applied
[00:16:54] [ENEMY] [Enemy10] Status effect: STUNNED applied
[00:16:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(716.5423, 962.6165), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:16:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[00:16:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(716.5423, 962.6165), shooter_id=1427556534360, bullet_pos=(688.70154, 875.28)
[00:16:54] [INFO] [Bullet] Using shooter_position, distance=91,66662
[00:16:54] [INFO] [Bullet] Distance to wall: 91,66662 (6,241749% of viewport)
[00:16:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:54] [INFO] [Bullet] Starting wall penetration at (688.70154, 875.28)
[00:16:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9,683307
[00:16:54] [INFO] [Bullet] Max penetration distance exceeded: 66,666664 >= 48
[00:16:54] [INFO] [Bullet] Body exited signal received for penetrating body
[00:16:54] [INFO] [Bullet] Exiting penetration at (666.9351, 806.9988) after traveling 66,666664 pixels through wall
[00:16:54] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:16:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(688.47, 969.3256), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:16:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[00:16:55] [ENEMY] [Enemy10] Hit taken, health: 0/3
[00:16:55] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[00:16:55] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:16:55] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 7)
[00:16:55] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:16:55] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[00:16:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(649.0983, 969.5406), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:16:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[00:16:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(613.8981, 969.5406), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:16:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[00:16:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(579.1879, 968.3581), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:16:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[00:16:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(649.0983, 969.54065), shooter_id=1427556534360, bullet_pos=(527.8498, 254.75105)
[00:16:55] [INFO] [Bullet] Using shooter_position, distance=725,00024
[00:16:55] [INFO] [Bullet] Distance to wall: 725,00024 (49,366604% of viewport)
[00:16:55] [INFO] [Bullet] Distance-based penetration chance: 89,072296%
[00:16:55] [INFO] [Bullet] Starting wall penetration at (527.8498, 254.75105)
[00:16:55] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:16:55] [INFO] [Bullet] Exiting penetration at (521.43896, 216.9576) after traveling 33,333332 pixels through wall
[00:16:55] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:16:55] [ENEMY] [Enemy10] Ragdoll activated
[00:16:55] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:16:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(613.89813, 969.54065), shooter_id=1427556534360, bullet_pos=(529.9537, 48.35728)
[00:16:55] [INFO] [Bullet] Using shooter_position, distance=925,00024
[00:16:55] [INFO] [Bullet] Distance to wall: 925,00024 (62,984966% of viewport)
[00:16:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(579.18787, 968.3581), shooter_id=1427556534360, bullet_pos=(882.5474, 59.306053)
[00:16:55] [INFO] [Bullet] Using shooter_position, distance=958,33325
[00:16:55] [INFO] [Bullet] Distance to wall: 958,33325 (65,25468% of viewport)
[00:16:55] [INFO] [Bullet] Distance-based penetration chance: 70,53622%
[00:16:55] [INFO] [Bullet] Starting wall penetration at (882.5474, 59.306053)
[00:16:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9,546967
[00:16:55] [INFO] [Bullet] Body exited signal received for penetrating body
[00:16:55] [INFO] [Bullet] Exiting penetration at (894.6818, 22.94398) after traveling 33,333332 pixels through wall
[00:16:55] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:16:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.2649, 829.5171), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:16:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=3
[00:16:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.9371, 797.9092), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:16:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=3
[00:16:56] [ENEMY] [Enemy1] Hit taken, health: 2/3
[00:16:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(569.9417, 771.4096), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:16:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=3
[00:16:56] [ENEMY] [Enemy1] Hit taken, health: 1/3
[00:16:56] [ENEMY] [Enemy2] Hit taken, health: 0/3
[00:16:56] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:16:56] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:16:56] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 6)
[00:16:56] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:16:56] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[00:16:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(594.8318, 746.5195), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:16:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[00:16:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(619.722, 721.6293), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:16:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[00:16:56] [ENEMY] [Enemy1] Player ammo empty state changed: false -> true
[00:16:56] [ENEMY] [Enemy2] Player ammo empty state changed: false -> true
[00:16:56] [ENEMY] [Enemy5] Player ammo empty state changed: false -> true
[00:16:56] [ENEMY] [Enemy6] Player ammo empty state changed: false -> true
[00:16:56] [ENEMY] [Enemy7] Player ammo empty state changed: false -> true
[00:16:56] [ENEMY] [Enemy8] Player ammo empty state changed: false -> true
[00:16:56] [ENEMY] [Enemy9] Player ammo empty state changed: false -> true
[00:16:56] [ENEMY] [Enemy10] Player ammo empty state changed: false -> true
[00:16:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(622.8333, 712.5181), source=PLAYER (Player), range=600, listeners=6
[00:16:56] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (622.8333, 712.5181), intensity=0.02, distance=321
[00:16:56] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[00:16:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[00:16:56] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1137), can_see=false
[00:16:56] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1353), can_see=false
[00:16:56] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1006), can_see=false
[00:16:56] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1475), can_see=false
[00:16:56] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1698), can_see=false
[00:16:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(625.9445, 709.4068), source=PLAYER (Player), range=600, listeners=6
[00:16:56] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (625.9445, 709.4068), intensity=0.02, distance=320
[00:16:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[00:16:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(629.0558, 706.2955), source=PLAYER (Player), range=600, listeners=6
[00:16:56] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (629.0558, 706.2955), intensity=0.02, distance=319
[00:16:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[00:16:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(594.83185, 746.5195), shooter_id=1427556534360, bullet_pos=(325.77094, 461.89835)
[00:16:56] [INFO] [Bullet] Using shooter_position, distance=391,6669
[00:16:56] [INFO] [Bullet] Distance to wall: 391,6669 (26,669321% of viewport)
[00:16:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:56] [INFO] [Bullet] Starting wall penetration at (325.77094, 461.89835)
[00:16:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(632.1671, 703.1843), source=PLAYER (Player), range=600, listeners=6
[00:16:56] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (632.1671, 703.1843), intensity=0.02, distance=318
[00:16:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[00:16:56] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:16:56] [INFO] [Bullet] Exiting penetration at (299.43732, 434.04184) after traveling 33,333336 pixels through wall
[00:16:56] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:16:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(635.2783, 700.073), source=PLAYER (Player), range=600, listeners=6
[00:16:56] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (635.2783, 700.073), intensity=0.02, distance=317
[00:16:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[00:16:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(638.3896, 696.9617), source=PLAYER (Player), range=600, listeners=6
[00:16:56] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (638.3896, 696.9617), intensity=0.02, distance=316
[00:16:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[00:16:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(641.5009, 693.8505), source=PLAYER (Player), range=600, listeners=6
[00:16:56] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (641.5009, 693.8505), intensity=0.03, distance=316
[00:16:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[00:16:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(644.415, 690.6575), source=PLAYER (Player), range=600, listeners=6
[00:16:56] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (644.415, 690.6575), intensity=0.03, distance=315
[00:16:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[00:16:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(647.1321, 687.383), source=PLAYER (Player), range=600, listeners=6
[00:16:56] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (647.1321, 687.383), intensity=0.03, distance=314
[00:16:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[00:16:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(649.6521, 684.0268), source=PLAYER (Player), range=600, listeners=6
[00:16:56] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (649.6521, 684.0268), intensity=0.03, distance=313
[00:16:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[00:16:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(651.975, 680.589), source=PLAYER (Player), range=600, listeners=6
[00:16:56] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (651.975, 680.589), intensity=0.03, distance=312
[00:16:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[00:16:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(619.722, 721.62933), shooter_id=1427556534360, bullet_pos=(331.0526, 456.91656)
[00:16:56] [INFO] [Bullet] Using shooter_position, distance=391,66678
[00:16:56] [INFO] [Bullet] Distance to wall: 391,66678 (26,669312% of viewport)
[00:16:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:56] [ENEMY] [Enemy10] Death animation completed
[00:16:56] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[00:16:56] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[00:16:56] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[00:16:56] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[00:16:56] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[00:16:56] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[00:16:56] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[00:16:56] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[00:16:56] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[00:16:56] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(664.3637, 641.7206), source=PLAYER (Player), range=900, listeners=6
[00:16:56] [ENEMY] [Enemy1] Heard player RELOAD at (664.3637, 641.7206), intensity=0.03, distance=292
[00:16:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[00:16:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(619.722, 721.62933), shooter_id=1427556534360, bullet_pos=(511.17596, 231.7684)
[00:16:56] [INFO] [Bullet] Using shooter_position, distance=501,74292
[00:16:56] [INFO] [Bullet] Distance to wall: 501,74292 (34,1646% of viewport)
[00:16:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:56] [ENEMY] [Enemy2] Ragdoll activated
[00:16:56] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:16:57] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[00:16:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(619.722, 721.62933), shooter_id=1427556534360, bullet_pos=(341.63638, 53.750618)
[00:16:57] [INFO] [Bullet] Using shooter_position, distance=723,4595
[00:16:57] [INFO] [Bullet] Distance to wall: 723,4595 (49,261684% of viewport)
[00:16:57] [INFO] [Bullet] Distance-based penetration chance: 89,1947%
[00:16:57] [INFO] [Bullet] Starting wall penetration at (341.63638, 53.750618)
[00:16:57] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:16:57] [INFO] [Bullet] Exiting penetration at (321.57898, 32.69021) after traveling 24,08333 pixels through wall
[00:16:57] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[00:16:57] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1064), can_see=false
[00:16:57] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1293), can_see=false
[00:16:57] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=995), can_see=false
[00:16:57] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1503), can_see=false
[00:16:57] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1725), can_see=false
[00:16:57] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[00:16:57] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[00:16:57] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[00:16:57] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[00:16:57] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[00:16:57] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[00:16:57] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[00:16:57] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[00:16:57] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[00:16:57] [ENEMY] [Enemy1] Player ammo empty state changed: true -> false
[00:16:57] [ENEMY] [Enemy2] Player ammo empty state changed: true -> false
[00:16:57] [ENEMY] [Enemy5] Player ammo empty state changed: true -> false
[00:16:57] [ENEMY] [Enemy6] Player ammo empty state changed: true -> false
[00:16:57] [ENEMY] [Enemy7] Player ammo empty state changed: true -> false
[00:16:57] [ENEMY] [Enemy8] Player ammo empty state changed: true -> false
[00:16:57] [ENEMY] [Enemy9] Player ammo empty state changed: true -> false
[00:16:57] [ENEMY] [Enemy10] Player ammo empty state changed: true -> false
[00:16:57] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[00:16:57] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[00:16:58] [ENEMY] [Enemy2] Death animation completed
[00:16:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(504.843, 646.857), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:16:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[00:16:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(469.643, 646.857), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:16:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[00:16:58] [ENEMY] [Enemy1] Hit taken, health: 0/3
[00:16:58] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[00:16:58] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[00:16:58] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 5)
[00:16:58] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:16:58] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[00:16:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(434.688, 646.2657), source=PLAYER (AssaultRifle), range=1469, listeners=5
[00:16:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[00:16:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(404.9403, 636.8931), source=PLAYER (AssaultRifle), range=1469, listeners=5
[00:16:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[00:16:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(385.3267, 618.4703), source=PLAYER (AssaultRifle), range=1469, listeners=5
[00:16:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[00:16:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.68796, 646.26575), shooter_id=1427556534360, bullet_pos=(453.04086, 54.883724)
[00:16:59] [INFO] [Bullet] Using shooter_position, distance=591,66675
[00:16:59] [INFO] [Bullet] Distance to wall: 591,66675 (40,287678% of viewport)
[00:16:59] [INFO] [Bullet] Distance-based penetration chance: 99,664375%
[00:16:59] [INFO] [Bullet] Starting wall penetration at (453.04086, 54.883724)
[00:16:59] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,438593
[00:16:59] [INFO] [Bullet] Body exited signal received for penetrating body
[00:16:59] [INFO] [Bullet] Exiting penetration at (454.22992, 16.568836) after traveling 33,333336 pixels through wall
[00:16:59] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:16:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.3267, 618.4703), shooter_id=1427556534360, bullet_pos=(504.99628, 316.3044)
[00:16:59] [INFO] [Bullet] Using shooter_position, distance=325,00003
[00:16:59] [INFO] [Bullet] Distance to wall: 325,00003 (22,12985% of viewport)
[00:16:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(404.94034, 636.8931), shooter_id=1427556534360, bullet_pos=(515.2343, 55.597347)
[00:16:59] [INFO] [Bullet] Using shooter_position, distance=591,66675
[00:16:59] [INFO] [Bullet] Distance to wall: 591,66675 (40,287678% of viewport)
[00:16:59] [INFO] [Bullet] Distance-based penetration chance: 99,664375%
[00:16:59] [INFO] [Bullet] Starting wall penetration at (515.2343, 55.597347)
[00:16:59] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,314992
[00:16:59] [INFO] [Bullet] Body exited signal received for penetrating body
[00:16:59] [INFO] [Bullet] Exiting penetration at (522.3801, 17.935932) after traveling 33,333336 pixels through wall
[00:16:59] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:16:59] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[00:16:59] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[00:16:59] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[00:16:59] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[00:16:59] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[00:16:59] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[00:16:59] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[00:16:59] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(375.299, 555.0475), source=PLAYER (Player), range=900, listeners=5
[00:16:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[00:16:59] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1340), can_see=false
[00:16:59] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1578), can_see=false
[00:16:59] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1283), can_see=false
[00:16:59] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1768), can_see=false
[00:16:59] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1991), can_see=false
[00:16:59] [ENEMY] [Enemy1] Ragdoll activated
[00:16:59] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:16:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.3267, 618.4703), shooter_id=1427556534360, bullet_pos=(342.4279, 44.55208)
[00:16:59] [INFO] [Bullet] Using shooter_position, distance=575,5193
[00:16:59] [INFO] [Bullet] Distance to wall: 575,5193 (39,188168% of viewport)
[00:16:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:59] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[00:16:59] [INFO] [Player.Reload.Anim] LeftArm: pos=(6.9923925, 3.4597309), target=(12, 6), base=(24, 6)
[00:16:59] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.013739, 6.7200003), target=(-2, 8), base=(-2, 6)
[00:16:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.3267, 618.4703), shooter_id=1427556534360, bullet_pos=(217.79831, 227.96564)
[00:16:59] [INFO] [Bullet] Using shooter_position, distance=424,9231
[00:16:59] [INFO] [Bullet] Distance to wall: 424,9231 (28,933796% of viewport)
[00:16:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:16:59] [INFO] [Bullet] Starting wall penetration at (217.79831, 227.96564)
[00:16:59] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:16:59] [INFO] [Bullet] Exiting penetration at (201.45268, 252.021) after traveling 24,083334 pixels through wall
[00:16:59] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[00:16:59] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[00:16:59] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[00:16:59] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[00:16:59] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[00:16:59] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[00:16:59] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[00:16:59] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[00:16:59] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[00:17:00] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[00:17:00] [ENEMY] [Enemy1] Death animation completed
[00:17:01] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:17:01] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:17:01] [ENEMY] [Enemy1] Death animation component initialized
[00:17:01] [ENEMY] [Enemy2] Death animation component initialized
[00:17:01] [ENEMY] [Enemy3] Death animation component initialized
[00:17:01] [ENEMY] [Enemy4] Death animation component initialized
[00:17:01] [ENEMY] [Enemy5] Death animation component initialized
[00:17:01] [ENEMY] [Enemy6] Death animation component initialized
[00:17:01] [ENEMY] [Enemy7] Death animation component initialized
[00:17:01] [ENEMY] [Enemy8] Death animation component initialized
[00:17:01] [ENEMY] [Enemy9] Death animation component initialized
[00:17:01] [ENEMY] [Enemy10] Death animation component initialized
[00:17:01] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:17:01] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:17:01] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:17:01] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:17:01] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:17:01] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:17:01] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:17:01] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:17:01] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:17:01] [INFO] [ScoreManager] Level started with 10 enemies
[00:17:01] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[00:17:01] [ENEMY] [Enemy1] Registered as sound listener
[00:17:01] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:17:01] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[00:17:01] [ENEMY] [Enemy2] Registered as sound listener
[00:17:01] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:17:01] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[00:17:01] [ENEMY] [Enemy3] Registered as sound listener
[00:17:01] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:17:01] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[00:17:01] [ENEMY] [Enemy4] Registered as sound listener
[00:17:01] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:17:01] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 10)
[00:17:01] [ENEMY] [Enemy5] Registered as sound listener
[00:17:01] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:17:01] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 11)
[00:17:01] [ENEMY] [Enemy6] Registered as sound listener
[00:17:01] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:17:01] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 12)
[00:17:01] [ENEMY] [Enemy7] Registered as sound listener
[00:17:01] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:17:01] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 13)
[00:17:01] [ENEMY] [Enemy8] Registered as sound listener
[00:17:01] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:17:01] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 14)
[00:17:01] [ENEMY] [Enemy9] Registered as sound listener
[00:17:01] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:17:01] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 15)
[00:17:01] [ENEMY] [Enemy10] Registered as sound listener
[00:17:01] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:17:01] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:17:01] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:17:01] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:17:01] [INFO] [LastChance] Found player: Player
[00:17:01] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:17:01] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:17:01] [INFO] [LastChance] Connected to player Died signal (C#)
[00:17:02] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:17:02] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:17:02] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:17:02] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:17:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.76, 1464.907), source=ENEMY (Enemy10), range=1469, listeners=15
[00:17:02] [INFO] [SoundPropagation] Cleaned up 5 invalid listeners
[00:17:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:17:03] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:17:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1006.341, 1429.92), shooter_id=2150671321108, bullet_pos=(47.63657, 694.4237)
[00:17:03] [INFO] [Bullet] Using shooter_position, distance=1208.33312988281
[00:17:03] [INFO] [Bullet] Distance to wall: 1208.33312988281 (82.2776247424219% of viewport)
[00:17:03] [INFO] [Bullet] Distance-based penetration chance: 50.6761044671745%
[00:17:03] [INFO] [Bullet] Starting wall penetration at (47.63657, 694.4237)
[00:17:03] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26.9586296081543
[00:17:03] [INFO] [Bullet] Body exited signal received for penetrating body
[00:17:03] [INFO] [Bullet] Exiting penetration at (10.61074, 666.0183) after traveling 41.6666679382324 pixels through wall
[00:17:03] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:17:03] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:17:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(484.8228, 771.1233), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:17:03] [ENEMY] [Enemy1] Heard gunshot at (484.8228, 771.1233), source_type=0, intensity=0.01, distance=460
[00:17:03] [ENEMY] [Enemy2] Heard gunshot at (484.8228, 771.1233), source_type=0, intensity=0.04, distance=237
[00:17:03] [ENEMY] [Enemy4] Heard gunshot at (484.8228, 771.1233), source_type=0, intensity=0.02, distance=341
[00:17:03] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:17:03] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:17:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(502.6427, 749.5187), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:17:03] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:17:03] [ENEMY] [Enemy3] Hit taken, health: 1/3
[00:17:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(526.7823, 739.7516), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:17:03] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[00:17:04] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:17:04] [ENEMY] [Enemy3] Hit taken, health: 0/3
[00:17:04] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:17:04] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:17:04] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:17:04] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:17:04] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[00:17:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.8783, 742.692), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:04] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[00:17:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(563.3467, 756.9101), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:04] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[00:17:04] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[00:17:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[00:17:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[00:17:04] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:17:04] [INFO] [LastChance] Threat detected: @Area2D@2484
[00:17:04] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.4614, 608.0313), shooter_id=2148389620186, bullet_pos=(497.0464, 686.8175)
[00:17:04] [INFO] [Bullet] Using shooter_position, distance=99.9999618530273
[00:17:04] [INFO] [Bullet] Distance to wall: 99.9999618530273 (6.80918128628803% of viewport)
[00:17:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(563.34674, 756.9101), shooter_id=2151493405235, bullet_pos=(921.46265, 769.39557)
[00:17:04] [INFO] [Bullet] Using shooter_position, distance=358,3335
[00:17:04] [INFO] [Bullet] Distance to wall: 358,3335 (24,399588% of viewport)
[00:17:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:04] [INFO] [Bullet] Starting wall penetration at (921.46265, 769.39557)
[00:17:04] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,787148
[00:17:04] [INFO] [Bullet] Body exited signal received for penetrating body
[00:17:04] [INFO] [Bullet] Exiting penetration at (959.7727, 770.7312) after traveling 33,333336 pixels through wall
[00:17:04] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:17:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(548.8783, 742.69196), shooter_id=2151493405235, bullet_pos=(1373.1844, 776.5057)
[00:17:04] [INFO] [Bullet] Using shooter_position, distance=824,9994
[00:17:04] [INFO] [Bullet] Distance to wall: 824,9994 (56,175728% of viewport)
[00:17:04] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:17:04] [ENEMY] [Enemy3] Ragdoll activated
[00:17:04] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:17:04] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[00:17:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(577.6806, 879.8742), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:17:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(577.6806, 879.8742), shooter_id=2151493405235, bullet_pos=(702.4816, 886.92444)
[00:17:04] [INFO] [Bullet] Using shooter_position, distance=125,00001
[00:17:04] [INFO] [Bullet] Distance to wall: 125,00001 (8,51148% of viewport)
[00:17:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:04] [INFO] [Bullet] Starting wall penetration at (702.4816, 886.92444)
[00:17:04] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:17:04] [INFO] [Bullet] Exiting penetration at (740.75397, 889.0865) after traveling 33,333332 pixels through wall
[00:17:04] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:17:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(596.5098, 905.8932), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:17:04] [ENEMY] [Enemy4] Hit taken, health: 2/3
[00:17:05] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[00:17:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(622.848, 920.7887), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:17:05] [ENEMY] [Enemy4] Hit taken, health: 1/3
[00:17:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(738.6371, 914.066), source=ENEMY (Enemy4), range=1469, listeners=9
[00:17:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:17:05] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:17:05] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:17:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(655.9828, 924.26), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:05] [ENEMY] [Enemy4] Heard gunshot at (655.9828, 924.26), source_type=0, intensity=0.32, distance=89
[00:17:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:17:05] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[00:17:05] [ENEMY] [Enemy4] Hit taken, health: 0/3
[00:17:05] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[00:17:05] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:17:05] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[00:17:05] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:17:05] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[00:17:05] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[00:17:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(691.183, 924.26), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:17:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[00:17:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(691.18304, 924.26), shooter_id=2151493405235, bullet_pos=(915.1398, 902.6187)
[00:17:05] [INFO] [Bullet] Using shooter_position, distance=224,99991
[00:17:05] [INFO] [Bullet] Distance to wall: 224,99991 (15,320659% of viewport)
[00:17:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:05] [INFO] [Bullet] Starting wall penetration at (915.1398, 902.6187)
[00:17:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,37591
[00:17:05] [INFO] [Bullet] Body exited signal received for penetrating body
[00:17:05] [INFO] [Bullet] Exiting penetration at (953.29535, 898.9317) after traveling 33,333336 pixels through wall
[00:17:05] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:17:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(726.3832, 924.26), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:17:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[00:17:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(726.38324, 924.26), shooter_id=2151493405235, bullet_pos=(917.1994, 906.2225)
[00:17:05] [INFO] [Bullet] Using shooter_position, distance=191,6668
[00:17:05] [INFO] [Bullet] Distance to wall: 191,6668 (13,050945% of viewport)
[00:17:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:05] [INFO] [Bullet] Starting wall penetration at (917.1994, 906.2225)
[00:17:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,448927
[00:17:05] [INFO] [Bullet] Body exited signal received for penetrating body
[00:17:05] [INFO] [Bullet] Exiting penetration at (955.3626, 902.615) after traveling 33,333336 pixels through wall
[00:17:05] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:17:05] [ENEMY] [Enemy3] Death animation completed
[00:17:05] [ENEMY] [Enemy4] Ragdoll activated
[00:17:05] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:17:05] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:17:05] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:17:05] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:17:05] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1056.7544, 851.5201)
[00:17:06] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:17:06] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:17:06] [INFO] [Player.Grenade] Timer started, grenade created at (826.3186, 864.00494)
[00:17:06] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:17:06] [INFO] [Player.Grenade] Step 1 complete! Drag: (173.94495, -10.976013)
[00:17:06] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:17:06] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:17:06] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:17:06] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:17:06] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[00:17:06] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:17:06] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:17:06] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:17:06] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (-8476.334, -2419.0425) (8814,8 px/s), Swing distance: 1125,4
[00:17:06] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -2,8635948
[00:17:06] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (-8476.334, -2419.042), Swing: 1125.4, Transfer: 1.00, Final speed: 1352.8
[00:17:06] [INFO] [Player.Grenade] Thrown! Velocity: 8814,8, Swing: 1125,4
[00:17:06] [INFO] [Player.Grenade] State reset to IDLE
[00:17:06] [INFO] [GrenadeBase] Collision detected with Enemy2 (type: CharacterBody2D)
[00:17:06] [INFO] [Player.Grenade] Player rotation restored to 0
[00:17:06] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:17:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(590.2551, 668.8645), source=ENEMY (Enemy2), range=1469, listeners=8
[00:17:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[00:17:06] [ENEMY] [Enemy4] Death animation completed
[00:17:06] [INFO] [LastChance] Threat detected: Bullet
[00:17:06] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:07] [ENEMY] [Enemy10] FLANKING started: target=(1016.19, 823.6095), side=left, pos=(953.0897, 1408.538)
[00:17:07] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:17:07] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:17:07] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:17:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(590.2551, 668.8645), source=ENEMY (Enemy2), range=1469, listeners=8
[00:17:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[00:17:07] [INFO] [LastChance] Threat detected: Bullet
[00:17:07] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:07] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:17:07] [INFO] [GrenadeBase] Collision detected with Table1 (type: StaticBody2D)
[00:17:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(590.2551, 668.8645), source=ENEMY (Enemy2), range=1469, listeners=8
[00:17:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[00:17:07] [INFO] [LastChance] Threat detected: Bullet
[00:17:07] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(590.2551, 668.8645), source=ENEMY (Enemy2), range=1469, listeners=8
[00:17:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[00:17:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(644.7719, 709.4075), shooter_id=2148389620186, bullet_pos=(933.3143, 876.3038)
[00:17:07] [INFO] [Bullet] Using shooter_position, distance=333.333404541016
[00:17:07] [INFO] [Bullet] Distance to wall: 333.333404541016 (22.6972844612805% of viewport)
[00:17:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:07] [INFO] [LastChance] Threat detected: @Area2D@2517
[00:17:07] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:07] [INFO] [GrenadeBase] Grenade landed at (711.3815, 792.216)
[00:17:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(644.7719, 709.4075), shooter_id=2148389620186, bullet_pos=(770.6418, 998.296)
[00:17:07] [INFO] [Bullet] Using shooter_position, distance=315.118743896484
[00:17:07] [INFO] [Bullet] Distance to wall: 315.118743896484 (21.4570147241868% of viewport)
[00:17:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:07] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:17:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(644.7719, 709.4075), shooter_id=2148389620186, bullet_pos=(480.401, 702.4897)
[00:17:07] [INFO] [Bullet] Using shooter_position, distance=164.516357421875
[00:17:07] [INFO] [Bullet] Distance to wall: 164.516357421875 (11.2022212957613% of viewport)
[00:17:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:07] [INFO] [Bullet] Starting wall penetration at (480.401, 702.4897)
[00:17:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8.78370761871338
[00:17:07] [INFO] [Bullet] Body exited signal received for penetrating body
[00:17:07] [INFO] [Bullet] Exiting penetration at (460.0322, 681.7303) after traveling 24.0833358764648 pixels through wall
[00:17:07] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[00:17:08] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[00:17:09] [INFO] [GrenadeBase] Collision detected with Enemy2 (type: CharacterBody2D)
[00:17:09] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[00:17:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(802.3582, 901.1905), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:17:09] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=5
[00:17:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(821.9467, 909.2335), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:17:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=5
[00:17:10] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:17:10] [INFO] [GrenadeBase] Collision detected with Enemy2 (type: CharacterBody2D)
[00:17:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(802.3582, 901.1905), shooter_id=2151493405235, bullet_pos=(707.2756, 48.139923)
[00:17:10] [INFO] [Bullet] Using shooter_position, distance=858,33325
[00:17:10] [INFO] [Bullet] Distance to wall: 858,33325 (58,445488% of viewport)
[00:17:10] [INFO] [Bullet] Distance-based penetration chance: 78,48026%
[00:17:10] [INFO] [Bullet] Starting wall penetration at (707.2756, 48.139923)
[00:17:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,4268
[00:17:10] [INFO] [GrenadeBase] Collision detected with Table1 (type: StaticBody2D)
[00:17:10] [INFO] [Bullet] Body exited signal received for penetrating body
[00:17:10] [INFO] [Bullet] Exiting penetration at (702.106, 1.7604637) after traveling 41,66667 pixels through wall
[00:17:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:17:10] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:17:10] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:17:10] [INFO] [GrenadeBase] Collision detected with Enemy2 (type: CharacterBody2D)
[00:17:10] [INFO] [GrenadeBase] EXPLODED at (681.3603, 798.743)!
[00:17:10] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(681.3603, 798.743), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=8
[00:17:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[00:17:10] [ENEMY] [Enemy1] Status effect: BLINDED applied
[00:17:10] [ENEMY] [Enemy1] Status effect: STUNNED applied
[00:17:10] [ENEMY] [Enemy2] Status effect: BLINDED applied
[00:17:10] [ENEMY] [Enemy2] Status effect: STUNNED applied
[00:17:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(821.9467, 909.23346), shooter_id=2151493405235, bullet_pos=(543.1704, 53.49788)
[00:17:10] [INFO] [Bullet] Using shooter_position, distance=899,9998
[00:17:10] [INFO] [Bullet] Distance to wall: 899,9998 (61,282646% of viewport)
[00:17:10] [INFO] [Bullet] Distance-based penetration chance: 75,17025%
[00:17:10] [INFO] [Bullet] Starting wall penetration at (543.1704, 53.49788)
[00:17:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24,056784
[00:17:10] [INFO] [Bullet] Body exited signal received for penetrating body
[00:17:10] [INFO] [Bullet] Exiting penetration at (528.71533, 9.1264) after traveling 41,666668 pixels through wall
[00:17:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:17:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(854.8613, 866.8143), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:17:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[00:17:11] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:17:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(879.7515, 841.9241), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:17:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[00:17:11] [ENEMY] [Enemy2] Hit taken, health: 2/4
[00:17:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9331, 816.394), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:17:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[00:17:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9331, 794.4905), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:17:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[00:17:11] [ENEMY] [Enemy1] Hit taken, health: 1/2
[00:17:11] [ENEMY] [Enemy2] Hit taken, health: 1/4
[00:17:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9331, 783.9648), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:17:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[00:17:12] [ENEMY] [Enemy2] Hit taken, health: 0/4
[00:17:12] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:17:12] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:17:12] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[00:17:12] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:17:12] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[00:17:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9331, 782.951), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:17:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[00:17:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9331, 782.951), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:17:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[00:17:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.9331, 782.951), shooter_id=2151493405235, bullet_pos=(39.22371, 730.1795)
[00:17:12] [INFO] [Bullet] Using shooter_position, distance=858,3331
[00:17:12] [INFO] [Bullet] Distance to wall: 858,3331 (58,445484% of viewport)
[00:17:12] [INFO] [Bullet] Distance-based penetration chance: 78,48027%
[00:17:12] [INFO] [Bullet] Penetration failed (distance roll)
[00:17:12] [ENEMY] [Enemy10] FLANKING timeout (5.0s), target=(1003.747, 608.4988), pos=(1799.135, 819.7875)
[00:17:12] [ENEMY] [Enemy10] State: FLANKING -> PURSUING
[00:17:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.9331, 782.951), shooter_id=2151493405235, bullet_pos=(39.659634, 723.5173)
[00:17:12] [INFO] [Bullet] Using shooter_position, distance=858,3337
[00:17:12] [INFO] [Bullet] Distance to wall: 858,3337 (58,44552% of viewport)
[00:17:12] [INFO] [Bullet] Distance-based penetration chance: 78,48023%
[00:17:12] [INFO] [Bullet] Starting wall penetration at (39.659634, 723.5173)
[00:17:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,655268
[00:17:12] [ENEMY] [Enemy2] Ragdoll activated
[00:17:12] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:17:12] [INFO] [Bullet] Body exited signal received for penetrating body
[00:17:12] [INFO] [Bullet] Exiting penetration at (1.4183044, 720.863) after traveling 33,333336 pixels through wall
[00:17:12] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:17:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9331, 782.951), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:17:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[00:17:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9331, 782.951), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:17:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[00:17:12] [ENEMY] [Enemy1] Hit taken, health: 0/2
[00:17:12] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[00:17:12] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:17:12] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[00:17:12] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:17:12] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[00:17:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9331, 782.951), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:17:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=6
[00:17:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9331, 782.951), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:17:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=6
[00:17:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9331, 782.951), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:17:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=6
[00:17:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.9331, 782.951), shooter_id=2151493405235, bullet_pos=(49.081078, 503.8246)
[00:17:13] [INFO] [Bullet] Using shooter_position, distance=891,66693
[00:17:13] [INFO] [Bullet] Distance to wall: 891,66693 (60,71524% of viewport)
[00:17:13] [INFO] [Bullet] Distance-based penetration chance: 75,83222%
[00:17:13] [INFO] [Bullet] Starting wall penetration at (49.081078, 503.8246)
[00:17:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,348337
[00:17:13] [INFO] [Bullet] Body exited signal received for penetrating body
[00:17:13] [INFO] [Bullet] Exiting penetration at (12.67436, 491.82477) after traveling 33,333336 pixels through wall
[00:17:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:17:13] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[00:17:13] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[00:17:13] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[00:17:13] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[00:17:13] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[00:17:13] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[00:17:13] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[00:17:13] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[00:17:13] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[00:17:13] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(895.9331, 776.951), source=PLAYER (Player), range=900, listeners=6
[00:17:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=2
[00:17:13] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=910), can_see=false
[00:17:13] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1104), can_see=false
[00:17:13] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=725), can_see=false
[00:17:13] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1209), can_see=false
[00:17:13] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1431), can_see=false
[00:17:13] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=703), can_see=false
[00:17:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.9331, 782.951), shooter_id=2151493405235, bullet_pos=(49.20407, 503.4523)
[00:17:13] [INFO] [Bullet] Using shooter_position, distance=891,6667
[00:17:13] [INFO] [Bullet] Distance to wall: 891,6667 (60,71523% of viewport)
[00:17:13] [INFO] [Bullet] Distance-based penetration chance: 75,83224%
[00:17:13] [INFO] [Bullet] Penetration failed (distance roll)
[00:17:13] [ENEMY] [Enemy1] Ragdoll activated
[00:17:13] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:17:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.9331, 782.951), shooter_id=2151493405235, bullet_pos=(49.275497, 503.23523)
[00:17:13] [INFO] [Bullet] Using shooter_position, distance=891,667
[00:17:13] [INFO] [Bullet] Distance to wall: 891,667 (60,71525% of viewport)
[00:17:13] [INFO] [Bullet] Distance-based penetration chance: 75,832214%
[00:17:13] [INFO] [Bullet] Starting wall penetration at (49.275497, 503.23523)
[00:17:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,139463
[00:17:13] [INFO] [Bullet] Body exited signal received for penetrating body
[00:17:13] [INFO] [Bullet] Exiting penetration at (12.877142, 491.21005) after traveling 33,333336 pixels through wall
[00:17:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:17:13] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[00:17:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.9331, 782.951), shooter_id=2151493405235, bullet_pos=(49.31627, 503.11118)
[00:17:13] [INFO] [Bullet] Using shooter_position, distance=891,6672
[00:17:13] [INFO] [Bullet] Distance to wall: 891,6672 (60,71526% of viewport)
[00:17:13] [ENEMY] [Enemy2] Death animation completed
[00:17:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.9331, 782.951), shooter_id=2151493405235, bullet_pos=(241.2783, 436.0663)
[00:17:13] [INFO] [Bullet] Using shooter_position, distance=740,87915
[00:17:13] [INFO] [Bullet] Distance to wall: 740,87915 (50,447826% of viewport)
[00:17:13] [INFO] [Player.Reload.Anim] LeftArm: pos=(11.64905, 5.8242564), target=(12, 6), base=(24, 6)
[00:17:13] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.0000002, 7.9120393), target=(-2, 8), base=(-2, 6)
[00:17:13] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[00:17:13] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[00:17:13] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[00:17:13] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[00:17:13] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[00:17:13] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[00:17:13] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[00:17:13] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[00:17:13] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[00:17:13] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[00:17:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.9331, 782.951), shooter_id=2151493405235, bullet_pos=(67.00856, 342.78088)
[00:17:13] [INFO] [Bullet] Using shooter_position, distance=938,54443
[00:17:13] [INFO] [Bullet] Distance to wall: 938,54443 (63,90722% of viewport)
[00:17:13] [INFO] [Bullet] Distance-based penetration chance: 72,108246%
[00:17:13] [INFO] [Bullet] Starting wall penetration at (67.00856, 342.78088)
[00:17:13] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:17:13] [INFO] [Bullet] Exiting penetration at (41.36769, 329.05548) after traveling 24,083334 pixels through wall
[00:17:13] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[00:17:14] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[00:17:14] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:17:14] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:17:14] [ENEMY] [Enemy1] Death animation component initialized
[00:17:14] [ENEMY] [Enemy2] Death animation component initialized
[00:17:14] [ENEMY] [Enemy3] Death animation component initialized
[00:17:14] [ENEMY] [Enemy4] Death animation component initialized
[00:17:14] [ENEMY] [Enemy5] Death animation component initialized
[00:17:14] [ENEMY] [Enemy6] Death animation component initialized
[00:17:14] [ENEMY] [Enemy7] Death animation component initialized
[00:17:14] [ENEMY] [Enemy8] Death animation component initialized
[00:17:14] [ENEMY] [Enemy9] Death animation component initialized
[00:17:14] [ENEMY] [Enemy10] Death animation component initialized
[00:17:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:17:14] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:17:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:17:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:17:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:17:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:17:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:17:14] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:17:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:17:14] [INFO] [ScoreManager] Level started with 10 enemies
[00:17:14] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 7)
[00:17:14] [ENEMY] [Enemy1] Registered as sound listener
[00:17:14] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:17:14] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 8)
[00:17:14] [ENEMY] [Enemy2] Registered as sound listener
[00:17:14] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:17:14] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 9)
[00:17:14] [ENEMY] [Enemy3] Registered as sound listener
[00:17:14] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:17:14] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 10)
[00:17:14] [ENEMY] [Enemy4] Registered as sound listener
[00:17:14] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:17:14] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 11)
[00:17:14] [ENEMY] [Enemy5] Registered as sound listener
[00:17:14] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:17:14] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 12)
[00:17:14] [ENEMY] [Enemy6] Registered as sound listener
[00:17:14] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:17:14] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 13)
[00:17:14] [ENEMY] [Enemy7] Registered as sound listener
[00:17:14] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:17:14] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 14)
[00:17:14] [ENEMY] [Enemy8] Registered as sound listener
[00:17:14] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:17:14] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 15)
[00:17:14] [ENEMY] [Enemy9] Registered as sound listener
[00:17:14] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:17:14] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 16)
[00:17:14] [ENEMY] [Enemy10] Registered as sound listener
[00:17:14] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:17:14] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:17:14] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:17:14] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:17:14] [INFO] [LastChance] Found player: Player
[00:17:14] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:17:14] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:17:14] [INFO] [LastChance] Connected to player Died signal (C#)
[00:17:14] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:17:14] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:17:14] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:17:15] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:17:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=16
[00:17:15] [INFO] [SoundPropagation] Cleaned up 6 invalid listeners
[00:17:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:17:15] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:17:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=2732035409329, bullet_pos=(41.69983, 702.3934)
[00:17:16] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:17:16] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:17:16] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:17:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=2732035409329, bullet_pos=(313.8578, 468.0204)
[00:17:16] [INFO] [Bullet] Using shooter_position, distance=1185.67297363281
[00:17:16] [INFO] [Bullet] Distance to wall: 1185.67297363281 (80.7346530350063% of viewport)
[00:17:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(455.6591, 774.5092), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:17:16] [ENEMY] [Enemy1] Heard gunshot at (455.6591, 774.5092), source_type=0, intensity=0.01, distance=452
[00:17:16] [ENEMY] [Enemy2] Heard gunshot at (455.6591, 774.5092), source_type=0, intensity=0.05, distance=231
[00:17:16] [ENEMY] [Enemy4] Heard gunshot at (455.6591, 774.5092), source_type=0, intensity=0.02, distance=366
[00:17:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:17:16] [ENEMY] [Enemy2] Hit taken, health: 2/3
[00:17:16] [ENEMY] [Enemy3] Hit taken, health: 1/2
[00:17:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(472.0324, 751.9292), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:17:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:17:16] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:17:16] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:17:16] [ENEMY] [Enemy3] Hit taken, health: 0/2
[00:17:16] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:17:16] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:17:16] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:17:16] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:17:16] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[00:17:16] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:17:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(492.6369, 742.843), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:16] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[00:17:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(512.7852, 746.7976), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:16] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[00:17:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(492.63687, 742.843), shooter_id=2732857494260, bullet_pos=(917.43896, 729.879)
[00:17:16] [INFO] [Bullet] Using shooter_position, distance=424,99985
[00:17:16] [INFO] [Bullet] Distance to wall: 424,99985 (28,93902% of viewport)
[00:17:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:16] [INFO] [Bullet] Starting wall penetration at (917.43896, 729.879)
[00:17:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,763653
[00:17:16] [INFO] [Bullet] Body exited signal received for penetrating body
[00:17:16] [INFO] [Bullet] Exiting penetration at (955.75446, 728.7097) after traveling 33,333332 pixels through wall
[00:17:16] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:17:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(512.7852, 746.7976), shooter_id=2732857494260, bullet_pos=(937.785, 746.477)
[00:17:16] [INFO] [Bullet] Using shooter_position, distance=424,99988
[00:17:16] [INFO] [Bullet] Distance to wall: 424,99988 (28,939024% of viewport)
[00:17:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:16] [INFO] [Bullet] Starting wall penetration at (937.785, 746.477)
[00:17:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40,118298
[00:17:16] [INFO] [Bullet] Body exited signal received for penetrating body
[00:17:16] [INFO] [Bullet] Exiting penetration at (976.1183, 746.44806) after traveling 33,333332 pixels through wall
[00:17:16] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:17:16] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[00:17:16] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:17:17] [ENEMY] [Enemy3] Ragdoll activated
[00:17:17] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:17:17] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[00:17:17] [ENEMY] [Enemy10] FLANKING started: target=(744.2714, 810.2471), side=left, pos=(1022.668, 1432.257)
[00:17:17] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:17:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(551.4566, 887.605), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:17:17] [ENEMY] [Enemy4] Hit taken, health: 3/4
[00:17:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(554.413, 921.5804), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[00:17:17] [ENEMY] [Enemy4] Hit taken, health: 2/4
[00:17:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(568.6638, 949.6581), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:17:17] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[00:17:17] [ENEMY] [Enemy4] Hit taken, health: 1/4
[00:17:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(728.5712, 915.4968), source=ENEMY (Enemy4), range=1469, listeners=9
[00:17:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[00:17:18] [INFO] [LastChance] Threat detected: Bullet
[00:17:18] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(591.3036, 967.1879), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:17:18] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:17:18] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:17:18] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:17:18] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:17:18] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:17:18] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:17:18] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:17:18] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:17:18] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:17:18] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:17:18] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:17:18] [ENEMY] [Enemy4] Hit taken, health: 0/4
[00:17:18] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[00:17:18] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:17:18] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[00:17:18] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:17:18] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[00:17:18] [ENEMY] [Enemy3] Death animation completed
[00:17:19] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[00:17:20] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:17:20] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:17:20] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:17:20] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:17:20] [ENEMY] [Enemy1] Death animation component initialized
[00:17:20] [ENEMY] [Enemy2] Death animation component initialized
[00:17:20] [ENEMY] [Enemy3] Death animation component initialized
[00:17:20] [ENEMY] [Enemy4] Death animation component initialized
[00:17:20] [ENEMY] [Enemy5] Death animation component initialized
[00:17:20] [ENEMY] [Enemy6] Death animation component initialized
[00:17:20] [ENEMY] [Enemy7] Death animation component initialized
[00:17:20] [ENEMY] [Enemy8] Death animation component initialized
[00:17:20] [ENEMY] [Enemy9] Death animation component initialized
[00:17:20] [ENEMY] [Enemy10] Death animation component initialized
[00:17:20] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:17:20] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:17:20] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:17:20] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:17:20] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:17:20] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:17:20] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:17:20] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:17:20] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:17:20] [INFO] [ScoreManager] Level started with 10 enemies
[00:17:20] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[00:17:20] [ENEMY] [Enemy1] Registered as sound listener
[00:17:20] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:17:20] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[00:17:20] [ENEMY] [Enemy2] Registered as sound listener
[00:17:20] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:17:20] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[00:17:20] [ENEMY] [Enemy3] Registered as sound listener
[00:17:20] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:17:20] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[00:17:20] [ENEMY] [Enemy4] Registered as sound listener
[00:17:20] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:17:20] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[00:17:20] [ENEMY] [Enemy5] Registered as sound listener
[00:17:20] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:17:20] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[00:17:20] [ENEMY] [Enemy6] Registered as sound listener
[00:17:20] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:17:20] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[00:17:20] [ENEMY] [Enemy7] Registered as sound listener
[00:17:20] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:17:20] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[00:17:20] [ENEMY] [Enemy8] Registered as sound listener
[00:17:20] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:17:20] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[00:17:20] [ENEMY] [Enemy9] Registered as sound listener
[00:17:20] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:17:20] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[00:17:20] [ENEMY] [Enemy10] Registered as sound listener
[00:17:20] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:17:20] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:17:20] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:17:20] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:17:20] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:17:20] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:17:20] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:17:20] [INFO] [LastChance] Found player: Player
[00:17:20] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:17:20] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:17:20] [INFO] [LastChance] Connected to player Died signal (C#)
[00:17:21] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:17:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=18
[00:17:21] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[00:17:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:17:21] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:17:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=3058738137632, bullet_pos=(41.69983, 702.3934)
[00:17:22] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:17:22] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:17:22] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:17:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=3058738137632, bullet_pos=(269.0643, 471.9168)
[00:17:22] [INFO] [Bullet] Using shooter_position, distance=1209.2646484375
[00:17:22] [INFO] [Bullet] Distance to wall: 1209.2646484375 (82.3410535537221% of viewport)
[00:17:22] [INFO] [LastChance] Threat detected: Bullet
[00:17:22] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(463.232, 755.2252), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:17:22] [ENEMY] [Enemy1] Heard gunshot at (463.232, 755.2252), source_type=0, intensity=0.01, distance=437
[00:17:22] [ENEMY] [Enemy2] Heard gunshot at (463.232, 755.2252), source_type=0, intensity=0.05, distance=215
[00:17:22] [ENEMY] [Enemy4] Heard gunshot at (463.232, 755.2252), source_type=0, intensity=0.02, distance=367
[00:17:22] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:17:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=3058738137632, bullet_pos=(443.7618, 685.5106)
[00:17:22] [INFO] [Bullet] Using shooter_position, distance=933.49365234375
[00:17:22] [INFO] [Bullet] Distance to wall: 933.49365234375 (63.5632993315516% of viewport)
[00:17:22] [ENEMY] [Enemy3] Hit taken, health: 3/4
[00:17:22] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:17:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(485.3331, 735.3922), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:17:22] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:17:22] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:17:22] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:17:22] [ENEMY] [Enemy3] Hit taken, health: 2/4
[00:17:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(510.7919, 740.0372), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:17:22] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[00:17:22] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:17:22] [ENEMY] [Enemy3] Hit taken, health: 1/4
[00:17:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(692.5667, 756.3875), source=ENEMY (Enemy3), range=1469, listeners=10
[00:17:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:17:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(535.8431, 759.5677), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:17:22] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[00:17:22] [ENEMY] [Enemy3] Hit taken, health: 0/4
[00:17:22] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:17:22] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:17:22] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:17:22] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:17:22] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[00:17:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[00:17:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[00:17:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[00:17:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[00:17:23] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[00:17:23] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[00:17:23] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[00:17:23] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:17:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(430.8162, 610.574), shooter_id=3056456436525, bullet_pos=(494.0825, 688.0167)
[00:17:23] [INFO] [Bullet] Using shooter_position, distance=99.9999389648438
[00:17:23] [INFO] [Bullet] Distance to wall: 99.9999389648438 (6.80917972778952% of viewport)
[00:17:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:23] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:17:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(431.5742, 610.3526), shooter_id=3056456436525, bullet_pos=(683.5371, 828.5862)
[00:17:23] [INFO] [Bullet] Using shooter_position, distance=333.333465576172
[00:17:23] [INFO] [Bullet] Distance to wall: 333.333465576172 (22.6972886172765% of viewport)
[00:17:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:23] [INFO] [Bullet] Starting wall penetration at (683.5371, 828.5862)
[00:17:23] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:17:23] [INFO] [Bullet] Exiting penetration at (712.5128, 853.6831) after traveling 33.3333320617676 pixels through wall
[00:17:23] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:17:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(624.7239, 761.6754), shooter_id=3056741648437, bullet_pos=(35.80626, 876.4638)
[00:17:23] [INFO] [Bullet] Using shooter_position, distance=600.000244140625
[00:17:23] [INFO] [Bullet] Distance to wall: 600.000244140625 (40.8551199266973% of viewport)
[00:17:23] [INFO] [Bullet] Distance-based penetration chance: 99.0023600855198%
[00:17:23] [INFO] [Bullet] Starting wall penetration at (35.80626, 876.4638)
[00:17:23] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.455451965332
[00:17:23] [INFO] [Bullet] Body exited signal received for penetrating body
[00:17:23] [INFO] [Bullet] Exiting penetration at (-1.819023, 883.7975) after traveling 33.3333358764648 pixels through wall
[00:17:23] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:17:23] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[00:17:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(564.9285, 892.7204), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:17:23] [ENEMY] [Enemy4] Hit taken, health: 3/4
[00:17:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(579.6603, 921.421), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:17:23] [ENEMY] [Enemy3] Ragdoll activated
[00:17:23] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:17:23] [ENEMY] [Enemy10] FLANKING started: target=(776.2463, 878.6251), side=left, pos=(1022.668, 1432.257)
[00:17:23] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:17:23] [ENEMY] [Enemy4] Hit taken, health: 2/4
[00:17:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(602.9669, 940.0819), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:17:23] [ENEMY] [Enemy4] Hit taken, health: 1/4
[00:17:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(633.6116, 947.2291), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:17:23] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[00:17:23] [ENEMY] [Enemy4] Hit taken, health: 0/4
[00:17:23] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[00:17:23] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:17:23] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[00:17:23] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:17:23] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[00:17:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(668.7584, 947.313), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:17:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[00:17:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(668.75836, 947.313), shooter_id=3059560221532, bullet_pos=(911.88385, 859.9855)
[00:17:24] [INFO] [Bullet] Using shooter_position, distance=258,3333
[00:17:24] [INFO] [Bullet] Distance to wall: 258,3333 (17,59039% of viewport)
[00:17:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:24] [INFO] [Bullet] Starting wall penetration at (911.88385, 859.9855)
[00:17:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,708663
[00:17:24] [INFO] [Bullet] Body exited signal received for penetrating body
[00:17:24] [INFO] [Bullet] Exiting penetration at (947.9605, 847.0272) after traveling 33,333332 pixels through wall
[00:17:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:17:24] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[00:17:24] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:17:24] [ENEMY] [Enemy4] Ragdoll activated
[00:17:24] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:17:24] [ENEMY] [Enemy3] Death animation completed
[00:17:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(879.0538, 870.7701), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:17:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[00:17:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(408.1177, 617.0649), source=ENEMY (Enemy2), range=1469, listeners=8
[00:17:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[00:17:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(408.1177, 617.0649), source=ENEMY (Enemy2), range=1469, listeners=8
[00:17:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[00:17:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9351, 846.8213), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:17:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[00:17:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(408.1177, 617.0649), source=ENEMY (Enemy2), range=1469, listeners=8
[00:17:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[00:17:25] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[00:17:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9351, 831.8013), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:17:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[00:17:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(466.4694, 655.6689), shooter_id=3056456436525, bullet_pos=(916.0476, 780.7974)
[00:17:25] [INFO] [Bullet] Using shooter_position, distance=466.666595458984
[00:17:25] [INFO] [Bullet] Distance to wall: 466.666595458984 (31.7761866090038% of viewport)
[00:17:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:25] [INFO] [Bullet] Starting wall penetration at (916.0476, 780.7974)
[00:17:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.6225299835205
[00:17:25] [INFO] [Bullet] Body exited signal received for penetrating body
[00:17:25] [INFO] [Bullet] Exiting penetration at (952.9772, 791.0757) after traveling 33.3333396911621 pixels through wall
[00:17:25] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:17:25] [INFO] [LastChance] Threat detected: Bullet
[00:17:25] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:25] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:17:25] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:17:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9351, 829.6879), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:17:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[00:17:25] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[00:17:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9351, 841.2278), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:17:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[00:17:25] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:17:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.93506, 846.8213), shooter_id=3059560221532, bullet_pos=(59.566124, 451.71085)
[00:17:25] [INFO] [Bullet] Using shooter_position, distance=925,0002
[00:17:25] [INFO] [Bullet] Distance to wall: 925,0002 (62,984966% of viewport)
[00:17:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(894.6564, 865.0823), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:17:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[00:17:25] [ENEMY] [Enemy4] Death animation completed
[00:17:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.93506, 841.2278), shooter_id=3059560221532, bullet_pos=(42.01947, 406.2206)
[00:17:25] [INFO] [Bullet] Using shooter_position, distance=958,3335
[00:17:25] [INFO] [Bullet] Distance to wall: 958,3335 (65,25469% of viewport)
[00:17:25] [INFO] [Bullet] Distance-based penetration chance: 70,536194%
[00:17:25] [INFO] [Bullet] Starting wall penetration at (42.01947, 406.2206)
[00:17:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,08865
[00:17:25] [INFO] [Bullet] Body exited signal received for penetrating body
[00:17:25] [INFO] [Bullet] Exiting penetration at (7.8628616, 388.8203) after traveling 33,333336 pixels through wall
[00:17:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:17:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(894.65643, 865.08234), shooter_id=3059560221532, bullet_pos=(61.062515, 392.3004)
[00:17:26] [INFO] [Bullet] Using shooter_position, distance=958,3327
[00:17:26] [INFO] [Bullet] Distance to wall: 958,3327 (65,25464% of viewport)
[00:17:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(894.65643, 865.08234), shooter_id=3059560221532, bullet_pos=(323.34326, 272.53)
[00:17:26] [INFO] [Bullet] Using shooter_position, distance=823,11426
[00:17:26] [INFO] [Bullet] Distance to wall: 823,11426 (56,047363% of viewport)
[00:17:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(894.65643, 865.08234), shooter_id=3059560221532, bullet_pos=(505.04364, 350.3573)
[00:17:26] [INFO] [Bullet] Using shooter_position, distance=645,554
[00:17:26] [INFO] [Bullet] Distance to wall: 645,554 (43,956963% of viewport)
[00:17:26] [INFO] [Bullet] Distance-based penetration chance: 95,383545%
[00:17:26] [INFO] [Bullet] Starting wall penetration at (505.04364, 350.3573)
[00:17:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8,46121
[00:17:26] [INFO] [Bullet] Body exited signal received for penetrating body
[00:17:26] [INFO] [Bullet] Exiting penetration at (531.7778, 361.8083) after traveling 24,08333 pixels through wall
[00:17:26] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[00:17:26] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:17:26] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:17:26] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[00:17:26] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[00:17:26] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (477.89087, 639.6158)
[00:17:26] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[00:17:26] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:17:26] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:17:26] [INFO] [Player.Grenade] Timer started, grenade created at (810.8485, 799.7776)
[00:17:26] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:17:26] [INFO] [Player.Grenade] Step 1 complete! Drag: (407.8114, 54.201782)
[00:17:26] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[00:17:26] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:17:26] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:17:26] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:17:26] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:17:27] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:17:27] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:17:27] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:17:27] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (-4877.429, -2228.0828) (5362,2 px/s), Swing distance: 863,6
[00:17:27] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -2,713086
[00:17:27] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (-4877.429, -2228.083), Swing: 863.6, Transfer: 1.00, Final speed: 1352.8
[00:17:27] [INFO] [Player.Grenade] Thrown! Velocity: 5362,2, Swing: 863,6
[00:17:27] [INFO] [Player.Grenade] State reset to IDLE
[00:17:27] [INFO] [Player.Grenade] Player rotation restored to 0
[00:17:27] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:17:27] [INFO] [GrenadeBase] Collision detected with Room1_WallRight (type: StaticBody2D)
[00:17:27] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[00:17:27] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:17:27] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:17:27] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:17:27] [ENEMY] [Enemy1] Death animation component initialized
[00:17:27] [ENEMY] [Enemy2] Death animation component initialized
[00:17:27] [ENEMY] [Enemy3] Death animation component initialized
[00:17:27] [ENEMY] [Enemy4] Death animation component initialized
[00:17:27] [ENEMY] [Enemy5] Death animation component initialized
[00:17:27] [ENEMY] [Enemy6] Death animation component initialized
[00:17:27] [ENEMY] [Enemy7] Death animation component initialized
[00:17:27] [ENEMY] [Enemy8] Death animation component initialized
[00:17:27] [ENEMY] [Enemy9] Death animation component initialized
[00:17:27] [ENEMY] [Enemy10] Death animation component initialized
[00:17:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:17:27] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:17:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:17:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:17:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:17:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:17:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:17:27] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:17:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:17:27] [INFO] [ScoreManager] Level started with 10 enemies
[00:17:27] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[00:17:27] [ENEMY] [Enemy1] Registered as sound listener
[00:17:27] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:17:27] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[00:17:27] [ENEMY] [Enemy2] Registered as sound listener
[00:17:27] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:17:27] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[00:17:27] [ENEMY] [Enemy3] Registered as sound listener
[00:17:27] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:17:27] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[00:17:27] [ENEMY] [Enemy4] Registered as sound listener
[00:17:27] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:17:27] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[00:17:27] [ENEMY] [Enemy5] Registered as sound listener
[00:17:27] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:17:27] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[00:17:27] [ENEMY] [Enemy6] Registered as sound listener
[00:17:27] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:17:27] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[00:17:27] [ENEMY] [Enemy7] Registered as sound listener
[00:17:27] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:17:27] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[00:17:27] [ENEMY] [Enemy8] Registered as sound listener
[00:17:27] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:17:27] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[00:17:27] [ENEMY] [Enemy9] Registered as sound listener
[00:17:27] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:17:27] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[00:17:27] [ENEMY] [Enemy10] Registered as sound listener
[00:17:27] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:17:27] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:17:27] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:17:27] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:17:27] [INFO] [LastChance] Found player: Player
[00:17:27] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:17:27] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:17:27] [INFO] [LastChance] Connected to player Died signal (C#)
[00:17:27] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:17:27] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:17:27] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:17:28] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:17:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=18
[00:17:28] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[00:17:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:17:29] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:17:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=3504257108012, bullet_pos=(41.69983, 702.3934)
[00:17:29] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:17:29] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:17:29] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:17:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.8477, 776.932), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:17:29] [ENEMY] [Enemy1] Heard gunshot at (451.8477, 776.932), source_type=0, intensity=0.01, distance=453
[00:17:29] [ENEMY] [Enemy2] Heard gunshot at (451.8477, 776.932), source_type=0, intensity=0.05, distance=233
[00:17:29] [ENEMY] [Enemy4] Heard gunshot at (451.8477, 776.932), source_type=0, intensity=0.02, distance=369
[00:17:29] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:17:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=3504257108012, bullet_pos=(501.6588, 426.7092)
[00:17:29] [INFO] [Bullet] Using shooter_position, distance=1123.60363769531
[00:17:29] [INFO] [Bullet] Distance to wall: 1123.60363769531 (76.5082378155773% of viewport)
[00:17:29] [INFO] [Bullet] Distance-based penetration chance: 57.4070558818265%
[00:17:29] [INFO] [Bullet] Penetration failed (distance roll)
[00:17:29] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:17:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(464.005, 748.704), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:17:29] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:17:29] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:17:29] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:17:29] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:17:29] [ENEMY] [Enemy3] Hit taken, health: 1/3
[00:17:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(484.7784, 734.0663), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:17:29] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:17:29] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:17:30] [ENEMY] [Enemy3] Hit taken, health: 0/3
[00:17:30] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:17:30] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:17:30] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:17:30] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:17:30] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[00:17:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(509.92, 741.7456), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[00:17:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(509.92, 741.7456), shooter_id=3505079192143, bullet_pos=(933.80927, 772.4564)
[00:17:30] [INFO] [Bullet] Using shooter_position, distance=425,0003
[00:17:30] [INFO] [Bullet] Distance to wall: 425,0003 (28,939053% of viewport)
[00:17:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:30] [INFO] [Bullet] Starting wall penetration at (933.80927, 772.4564)
[00:17:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,136894
[00:17:30] [INFO] [Bullet] Body exited signal received for penetrating body
[00:17:30] [INFO] [Bullet] Exiting penetration at (972.0424, 775.22644) after traveling 33,333336 pixels through wall
[00:17:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:17:30] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[00:17:30] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:17:30] [ENEMY] [Enemy3] Ragdoll activated
[00:17:30] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:17:30] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[00:17:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(550.2927, 897.5787), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[00:17:30] [ENEMY] [Enemy4] Hit taken, health: 2/3
[00:17:30] [ENEMY] [Enemy10] FLANKING started: target=(756.0941, 873.0782), side=left, pos=(1022.668, 1432.257)
[00:17:30] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:17:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(564.8074, 926.0045), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:17:30] [ENEMY] [Enemy4] Hit taken, health: 1/3
[00:17:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(587.7568, 944.0779), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:17:31] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[00:17:31] [ENEMY] [Enemy4] Hit taken, health: 0/3
[00:17:31] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[00:17:31] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:17:31] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[00:17:31] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:17:31] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[00:17:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(618.3667, 950.8497), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:17:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[00:17:31] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[00:17:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(653.5317, 950.9016), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:17:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[00:17:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(618.3667, 950.84973), shooter_id=3505079192143, bullet_pos=(937.2109, 887.89484)
[00:17:31] [INFO] [Bullet] Using shooter_position, distance=324,99988
[00:17:31] [INFO] [Bullet] Distance to wall: 324,99988 (22,129839% of viewport)
[00:17:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(653.53174, 950.90155), shooter_id=3505079192143, bullet_pos=(930.9645, 860.8979)
[00:17:31] [INFO] [Bullet] Using shooter_position, distance=291,6669
[00:17:31] [INFO] [Bullet] Distance to wall: 291,6669 (19,860136% of viewport)
[00:17:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:31] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[00:17:31] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:17:31] [ENEMY] [Enemy4] Ragdoll activated
[00:17:31] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:17:31] [ENEMY] [Enemy3] Death animation completed
[00:17:31] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:17:31] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:17:31] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1030.0884, 629.40857)
[00:17:31] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:17:31] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:17:31] [INFO] [Player.Grenade] Timer started, grenade created at (812.46295, 909.97394)
[00:17:31] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:17:31] [INFO] [Player.Grenade] Step 1 complete! Drag: (348.89624, 46.324585)
[00:17:32] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:17:32] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:17:32] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:17:32] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:17:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(419.3252, 628.7299), source=ENEMY (Enemy2), range=1469, listeners=8
[00:17:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[00:17:32] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:17:32] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:17:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(419.3252, 628.7299), source=ENEMY (Enemy2), range=1469, listeners=8
[00:17:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[00:17:32] [INFO] [LastChance] Threat detected: Bullet
[00:17:32] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(419.3252, 628.7299), source=ENEMY (Enemy2), range=1469, listeners=8
[00:17:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[00:17:32] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[00:17:32] [INFO] [LastChance] Threat detected: @Area2D@3431
[00:17:32] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:32] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:17:32] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:17:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(478.0697, 663.4772), shooter_id=3501975405981, bullet_pos=(739.5245, 810.5874)
[00:17:32] [INFO] [Bullet] Using shooter_position, distance=300.000061035156
[00:17:32] [INFO] [Bullet] Distance to wall: 300.000061035156 (20.4275558073526% of viewport)
[00:17:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:32] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:17:32] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (-9347.007, -2378.2974) (9644,8 px/s), Swing distance: 905,4
[00:17:32] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -2,892435
[00:17:32] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (-9347.007, -2378.297), Swing: 905.4, Transfer: 1.00, Final speed: 1352.8
[00:17:32] [INFO] [Player.Grenade] Thrown! Velocity: 9644,8, Swing: 905,4
[00:17:32] [INFO] [Player.Grenade] State reset to IDLE
[00:17:32] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:17:32] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:17:32] [ENEMY] [Enemy4] Death animation completed
[00:17:32] [INFO] [Player.Grenade] Player rotation restored to 0
[00:17:32] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:17:33] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[00:17:33] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[00:17:33] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:17:34] [INFO] [GrenadeBase] Collision detected with WallLeft (type: StaticBody2D)
[00:17:34] [INFO] [GrenadeBase] Grenade landed at (80.64479, 562.9804)
[00:17:34] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[00:17:34] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:17:34] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:17:34] [ENEMY] [Enemy1] Death animation component initialized
[00:17:34] [ENEMY] [Enemy2] Death animation component initialized
[00:17:34] [ENEMY] [Enemy3] Death animation component initialized
[00:17:34] [ENEMY] [Enemy4] Death animation component initialized
[00:17:34] [ENEMY] [Enemy5] Death animation component initialized
[00:17:34] [ENEMY] [Enemy6] Death animation component initialized
[00:17:34] [ENEMY] [Enemy7] Death animation component initialized
[00:17:34] [ENEMY] [Enemy8] Death animation component initialized
[00:17:34] [ENEMY] [Enemy9] Death animation component initialized
[00:17:34] [ENEMY] [Enemy10] Death animation component initialized
[00:17:34] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:17:34] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:17:34] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:17:34] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:17:34] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:17:34] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:17:34] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:17:34] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:17:34] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:17:34] [INFO] [ScoreManager] Level started with 10 enemies
[00:17:34] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[00:17:34] [ENEMY] [Enemy1] Registered as sound listener
[00:17:34] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:17:34] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[00:17:34] [ENEMY] [Enemy2] Registered as sound listener
[00:17:34] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:17:34] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[00:17:34] [ENEMY] [Enemy3] Registered as sound listener
[00:17:34] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:17:34] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[00:17:34] [ENEMY] [Enemy4] Registered as sound listener
[00:17:34] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:17:34] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[00:17:34] [ENEMY] [Enemy5] Registered as sound listener
[00:17:34] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:17:34] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[00:17:34] [ENEMY] [Enemy6] Registered as sound listener
[00:17:34] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:17:34] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[00:17:34] [ENEMY] [Enemy7] Registered as sound listener
[00:17:34] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:17:34] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[00:17:34] [ENEMY] [Enemy8] Registered as sound listener
[00:17:34] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:17:34] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[00:17:34] [ENEMY] [Enemy9] Registered as sound listener
[00:17:34] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:17:34] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[00:17:34] [ENEMY] [Enemy10] Registered as sound listener
[00:17:34] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:17:34] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:17:34] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:17:34] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:17:34] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:17:34] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:17:34] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:17:34] [INFO] [LastChance] Found player: Player
[00:17:34] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:17:34] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:17:34] [INFO] [LastChance] Connected to player Died signal (C#)
[00:17:35] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:17:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=18
[00:17:35] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[00:17:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:17:36] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:17:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=3884797921684, bullet_pos=(41.69983, 702.3934)
[00:17:36] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:17:36] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:17:36] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:17:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(453.0796, 788.4423), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:17:36] [ENEMY] [Enemy1] Heard gunshot at (453.0796, 788.4423), source_type=0, intensity=0.01, distance=464
[00:17:36] [ENEMY] [Enemy2] Heard gunshot at (453.0796, 788.4423), source_type=0, intensity=0.04, distance=244
[00:17:36] [ENEMY] [Enemy4] Heard gunshot at (453.0796, 788.4423), source_type=0, intensity=0.02, distance=364
[00:17:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:17:36] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:17:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=3884797921684, bullet_pos=(498.994, 359.3412)
[00:17:36] [INFO] [Bullet] Using shooter_position, distance=1185.33447265625
[00:17:36] [INFO] [Bullet] Distance to wall: 1185.33447265625 (80.7116038810637% of viewport)
[00:17:36] [INFO] [Bullet] Distance-based penetration chance: 52.5031288054257%
[00:17:36] [INFO] [Bullet] Penetration failed (distance roll)
[00:17:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(468.1541, 759.772), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:17:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:17:36] [ENEMY] [Enemy3] Hit taken, health: 1/3
[00:17:36] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:17:36] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:17:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(490.925, 743.6594), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:17:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:17:36] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:17:36] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:17:36] [ENEMY] [Enemy3] Hit taken, health: 0/3
[00:17:36] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:17:36] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:17:36] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:17:36] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:17:36] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[00:17:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(519.623, 738.9908), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[00:17:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[00:17:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[00:17:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(546.8505, 747.7084), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:37] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[00:17:37] [INFO] [LastChance] Threat detected: @Area2D@3690
[00:17:37] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(519.623, 738.99084), shooter_id=3885620004463, bullet_pos=(909.30286, 778.38965)
[00:17:37] [INFO] [Bullet] Using shooter_position, distance=391,66653
[00:17:37] [INFO] [Bullet] Distance to wall: 391,66653 (26,669296% of viewport)
[00:17:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:37] [INFO] [Bullet] Starting wall penetration at (909.30286, 778.38965)
[00:17:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[00:17:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[00:17:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11,500041
[00:17:37] [INFO] [Bullet] Body exited signal received for penetrating body
[00:17:37] [INFO] [Bullet] Exiting penetration at (947.4417, 782.2457) after traveling 33,333332 pixels through wall
[00:17:37] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:17:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:17:37] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:17:37] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:17:37] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:17:37] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:17:37] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:17:37] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:17:37] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:17:37] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:17:37] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:17:37] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:17:37] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[00:17:37] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:17:37] [INFO] [LastChance] Threat detected: @Area2D@3693
[00:17:37] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[00:17:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[00:17:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:17:37] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:17:37] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:17:37] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:17:37] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:17:37] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:17:37] [INFO] [LastChance] Player died
[00:17:37] [INFO] [LastChance] Threat detected: Bullet
[00:17:37] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[00:17:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[00:17:37] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[00:17:37] [INFO] [LastChance] Threat detected: @Area2D@3694
[00:17:37] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.5292, 607.9474), shooter_id=3882516219360, bullet_pos=(499.7636, 715.1806)
[00:17:37] [INFO] [Bullet] Using shooter_position, distance=125.000030517578
[00:17:37] [INFO] [Bullet] Distance to wall: 125.000030517578 (8.51148193272994% of viewport)
[00:17:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:37] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[00:17:37] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:17:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(546.8505, 747.70844), shooter_id=3885620004463, bullet_pos=(1403.7943, 796.5231)
[00:17:37] [INFO] [Bullet] Using shooter_position, distance=858,333
[00:17:37] [INFO] [Bullet] Distance to wall: 858,333 (58,445477% of viewport)
[00:17:37] [INFO] [Bullet] Distance-based penetration chance: 78,48028%
[00:17:37] [INFO] [Bullet] Starting wall penetration at (1403.7943, 796.5231)
[00:17:37] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:17:37] [INFO] [Bullet] Exiting penetration at (1450.3855, 799.1771) after traveling 41,66667 pixels through wall
[00:17:37] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:17:37] [ENEMY] [Enemy3] Ragdoll activated
[00:17:37] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:17:37] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[00:17:38] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[00:17:38] [ENEMY] [Enemy10] FLANKING started: target=(780.251, 871.6324), side=left, pos=(1022.668, 1432.257)
[00:17:38] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:17:38] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:17:38] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:17:38] [ENEMY] [Enemy1] Death animation component initialized
[00:17:38] [ENEMY] [Enemy2] Death animation component initialized
[00:17:38] [ENEMY] [Enemy3] Death animation component initialized
[00:17:38] [ENEMY] [Enemy4] Death animation component initialized
[00:17:38] [ENEMY] [Enemy5] Death animation component initialized
[00:17:38] [ENEMY] [Enemy6] Death animation component initialized
[00:17:38] [ENEMY] [Enemy7] Death animation component initialized
[00:17:38] [ENEMY] [Enemy8] Death animation component initialized
[00:17:38] [ENEMY] [Enemy9] Death animation component initialized
[00:17:38] [ENEMY] [Enemy10] Death animation component initialized
[00:17:38] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:17:38] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:17:38] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:17:38] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:17:38] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:17:38] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:17:38] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:17:38] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:17:38] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:17:38] [INFO] [ScoreManager] Level started with 10 enemies
[00:17:38] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:17:38] [ENEMY] [Enemy1] Registered as sound listener
[00:17:38] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:17:38] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:17:38] [ENEMY] [Enemy2] Registered as sound listener
[00:17:38] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:17:38] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:17:38] [ENEMY] [Enemy3] Registered as sound listener
[00:17:38] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:17:38] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:17:38] [ENEMY] [Enemy4] Registered as sound listener
[00:17:38] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:17:38] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:17:38] [ENEMY] [Enemy5] Registered as sound listener
[00:17:38] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:17:38] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:17:38] [ENEMY] [Enemy6] Registered as sound listener
[00:17:38] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:17:38] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:17:38] [ENEMY] [Enemy7] Registered as sound listener
[00:17:38] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:17:38] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:17:38] [ENEMY] [Enemy8] Registered as sound listener
[00:17:38] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:17:38] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:17:38] [ENEMY] [Enemy9] Registered as sound listener
[00:17:38] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:17:38] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:17:38] [ENEMY] [Enemy10] Registered as sound listener
[00:17:38] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:17:38] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:17:38] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:17:38] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:17:38] [INFO] [LastChance] Found player: Player
[00:17:38] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:17:38] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:17:38] [INFO] [LastChance] Connected to player Died signal (C#)
[00:17:38] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:17:38] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:17:38] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:17:38] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:17:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:17:39] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:17:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:17:39] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:17:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=4097667238378, bullet_pos=(41.69983, 702.3934)
[00:17:39] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:17:39] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:17:39] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:17:39] [INFO] [Bullet] Penetration failed (distance roll)
[00:17:39] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:17:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450.8476, 782.1614), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:17:39] [ENEMY] [Enemy1] Heard gunshot at (450.8476, 782.1614), source_type=0, intensity=0.01, distance=458
[00:17:39] [ENEMY] [Enemy2] Heard gunshot at (450.8476, 782.1614), source_type=0, intensity=0.04, distance=238
[00:17:39] [ENEMY] [Enemy4] Heard gunshot at (450.8476, 782.1614), source_type=0, intensity=0.02, distance=369
[00:17:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:17:39] [ENEMY] [Enemy3] Hit taken, health: 1/2
[00:17:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.6415, 753.5963), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:17:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:17:40] [ENEMY] [Enemy3] Hit taken, health: 0/2
[00:17:40] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:17:40] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:17:40] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:17:40] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:17:40] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[00:17:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(479.136, 736.8768), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[00:17:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(501.0458, 737.238), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[00:17:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(479.136, 736.8768), shooter_id=4098489321166, bullet_pos=(937.255, 722.85236)
[00:17:40] [INFO] [Bullet] Using shooter_position, distance=458,33362
[00:17:40] [INFO] [Bullet] Distance to wall: 458,33362 (31,20878% of viewport)
[00:17:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:40] [INFO] [Bullet] Starting wall penetration at (937.255, 722.85236)
[00:17:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,588974
[00:17:40] [INFO] [Bullet] Body exited signal received for penetrating body
[00:17:40] [INFO] [Bullet] Exiting penetration at (975.57043, 721.6794) after traveling 33,333336 pixels through wall
[00:17:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:17:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.7527, 753.3074), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[00:17:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(501.04584, 737.238), shooter_id=4098489321166, bullet_pos=(926.02924, 733.45984)
[00:17:40] [INFO] [Bullet] Using shooter_position, distance=425,0002
[00:17:40] [INFO] [Bullet] Distance to wall: 425,0002 (28,939047% of viewport)
[00:17:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:40] [INFO] [Bullet] Starting wall penetration at (926.02924, 733.45984)
[00:17:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,362206
[00:17:40] [INFO] [Bullet] Body exited signal received for penetrating body
[00:17:40] [INFO] [Bullet] Exiting penetration at (964.3611, 733.1191) after traveling 33,333332 pixels through wall
[00:17:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:17:40] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[00:17:40] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:17:40] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:17:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(524.75275, 753.3074), shooter_id=4098489321166, bullet_pos=(916.4142, 755.3133)
[00:17:40] [INFO] [Bullet] Using shooter_position, distance=391,6666
[00:17:40] [INFO] [Bullet] Distance to wall: 391,6666 (26,6693% of viewport)
[00:17:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:40] [INFO] [Bullet] Starting wall penetration at (916.4142, 755.3133)
[00:17:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,747255
[00:17:40] [INFO] [Bullet] Body exited signal received for penetrating body
[00:17:40] [INFO] [Bullet] Exiting penetration at (954.747, 755.50964) after traveling 33,333336 pixels through wall
[00:17:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:17:40] [ENEMY] [Enemy3] Ragdoll activated
[00:17:40] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:17:40] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[00:17:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.2171, 890.2565), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[00:17:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(548.2171, 890.2565), shooter_id=4098489321166, bullet_pos=(706.4993, 886.231)
[00:17:41] [INFO] [Bullet] Using shooter_position, distance=158,3334
[00:17:41] [INFO] [Bullet] Distance to wall: 158,3334 (10,781213% of viewport)
[00:17:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:41] [INFO] [Bullet] Starting wall penetration at (706.4993, 886.231)
[00:17:41] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:17:41] [INFO] [Bullet] Exiting penetration at (744.8203, 885.2564) after traveling 33,333332 pixels through wall
[00:17:41] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:17:41] [ENEMY] [Enemy10] FLANKING started: target=(749.3127, 870.9421), side=left, pos=(1022.668, 1432.257)
[00:17:41] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:17:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(555.3125, 922.5175), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[00:17:41] [ENEMY] [Enemy4] Hit taken, health: 2/3
[00:17:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(572.9823, 946.9838), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:17:41] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[00:17:41] [ENEMY] [Enemy4] Hit taken, health: 1/3
[00:17:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(734.772, 915.4806), source=ENEMY (Enemy4), range=1469, listeners=9
[00:17:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:17:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(598.6042, 960.3516), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:17:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:17:41] [INFO] [LastChance] Threat detected: Bullet
[00:17:41] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:41] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:17:41] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:17:41] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:17:41] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:17:41] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:17:41] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:17:41] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:17:41] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:17:41] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:17:41] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:17:41] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:17:41] [ENEMY] [Enemy4] Hit taken, health: 0/3
[00:17:41] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[00:17:41] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:17:41] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[00:17:41] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:17:41] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[00:17:42] [ENEMY] [Enemy3] Death animation completed
[00:17:43] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[00:17:43] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[00:17:43] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[00:17:43] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[00:17:43] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[00:17:43] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[00:17:43] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[00:17:43] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[00:17:43] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[00:17:43] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[00:17:43] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[00:17:43] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(693.1746, 957.322), source=PLAYER (Player), range=900, listeners=8
[00:17:43] [ENEMY] [Enemy10] Heard player RELOAD at (693.1746, 957.322), intensity=0.01, distance=457
[00:17:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[00:17:43] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=717), can_see=false
[00:17:43] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=502), can_see=true
[00:17:43] [ENEMY] [Enemy2] Player vulnerable (reloading) - pursuing to attack (dist=502)
[00:17:43] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1176), can_see=false
[00:17:43] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1355), can_see=false
[00:17:43] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1004), can_see=false
[00:17:43] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1304), can_see=false
[00:17:43] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1527), can_see=false
[00:17:43] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=457), can_see=false
[00:17:44] [INFO] [Player.Reload.Anim] LeftArm: pos=(18.994408, 4.6135206), target=(4, 2), base=(24, 6)
[00:17:44] [INFO] [Player.Reload.Anim] RightArm: pos=(-3.9268036, 6), target=(-2, 6), base=(-2, 6)
[00:17:44] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[00:17:44] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[00:17:44] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[00:17:44] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[00:17:44] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[00:17:44] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[00:17:44] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[00:17:44] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[00:17:44] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[00:17:44] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[00:17:44] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[00:17:44] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[00:17:44] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[00:17:44] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[00:17:44] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:17:44] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:17:44] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:17:44] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[00:17:44] [ENEMY] [Enemy4] Ragdoll activated
[00:17:44] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:17:44] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[00:17:44] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:17:44] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:17:44] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1136.3225, 799.6066)
[00:17:44] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:17:44] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:17:44] [INFO] [Player.Grenade] Timer started, grenade created at (741.04694, 957.32196)
[00:17:44] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:17:44] [INFO] [Player.Grenade] Step 1 complete! Drag: (231.83691, 17.1167)
[00:17:44] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:17:44] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:17:45] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:17:45] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:17:45] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:17:45] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:17:45] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:17:45] [INFO] [GrenadeBase] Collision detected with Enemy4 (type: CharacterBody2D)
[00:17:45] [ENEMY] [Enemy4] Death animation completed
[00:17:45] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[00:17:45] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:17:45] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (-6462.863, -2725.5415) (7014,1 px/s), Swing distance: 812,8
[00:17:45] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -2,7425005
[00:17:45] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (-6462.863, -2725.542), Swing: 812.8, Transfer: 1.00, Final speed: 1352.8
[00:17:45] [INFO] [Player.Grenade] Thrown! Velocity: 7014,1, Swing: 812,8
[00:17:45] [INFO] [Player.Grenade] State reset to IDLE
[00:17:46] [INFO] [Player.Grenade] Player rotation restored to 0
[00:17:46] [INFO] [GrenadeBase] Collision detected with Enemy2 (type: CharacterBody2D)
[00:17:46] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:17:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(611.8111, 685.3274), source=ENEMY (Enemy2), range=1469, listeners=8
[00:17:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[00:17:46] [INFO] [LastChance] Threat detected: Bullet
[00:17:46] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:46] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:17:46] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:17:46] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:17:46] [INFO] [LastChance] Player died
[00:17:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(611.8111, 685.3274), source=ENEMY (Enemy2), range=1469, listeners=8
[00:17:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[00:17:46] [INFO] [LastChance] Threat detected: Bullet
[00:17:46] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:46] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:17:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(611.8111, 685.3274), source=ENEMY (Enemy2), range=1469, listeners=8
[00:17:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[00:17:46] [INFO] [LastChance] Threat detected: Bullet
[00:17:46] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:46] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:17:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(663.5093, 729.3749), shooter_id=4095385536510, bullet_pos=(1078.818, 1007.796)
[00:17:46] [INFO] [Bullet] Using shooter_position, distance=500
[00:17:46] [INFO] [Bullet] Distance to wall: 500 (34.0459194189277% of viewport)
[00:17:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:46] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:17:46] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:17:46] [ENEMY] [Enemy1] Death animation component initialized
[00:17:46] [ENEMY] [Enemy2] Death animation component initialized
[00:17:46] [ENEMY] [Enemy3] Death animation component initialized
[00:17:46] [ENEMY] [Enemy4] Death animation component initialized
[00:17:46] [ENEMY] [Enemy5] Death animation component initialized
[00:17:46] [ENEMY] [Enemy6] Death animation component initialized
[00:17:46] [ENEMY] [Enemy7] Death animation component initialized
[00:17:46] [ENEMY] [Enemy8] Death animation component initialized
[00:17:46] [ENEMY] [Enemy9] Death animation component initialized
[00:17:46] [ENEMY] [Enemy10] Death animation component initialized
[00:17:46] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:17:46] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:17:46] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:17:46] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:17:46] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:17:46] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:17:46] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:17:46] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:17:46] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:17:46] [INFO] [ScoreManager] Level started with 10 enemies
[00:17:46] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[00:17:46] [ENEMY] [Enemy1] Registered as sound listener
[00:17:46] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:17:46] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[00:17:46] [ENEMY] [Enemy2] Registered as sound listener
[00:17:46] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:17:46] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[00:17:46] [ENEMY] [Enemy3] Registered as sound listener
[00:17:46] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:17:46] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[00:17:46] [ENEMY] [Enemy4] Registered as sound listener
[00:17:46] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:17:46] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[00:17:46] [ENEMY] [Enemy5] Registered as sound listener
[00:17:46] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:17:46] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[00:17:46] [ENEMY] [Enemy6] Registered as sound listener
[00:17:46] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:17:46] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[00:17:46] [ENEMY] [Enemy7] Registered as sound listener
[00:17:46] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:17:46] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[00:17:46] [ENEMY] [Enemy8] Registered as sound listener
[00:17:46] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:17:46] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[00:17:46] [ENEMY] [Enemy9] Registered as sound listener
[00:17:46] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:17:46] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[00:17:46] [ENEMY] [Enemy10] Registered as sound listener
[00:17:46] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:17:46] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:17:46] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:17:46] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:17:46] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:17:46] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:17:46] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:17:46] [INFO] [LastChance] Found player: Player
[00:17:46] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:17:46] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:17:46] [INFO] [LastChance] Connected to player Died signal (C#)
[00:17:47] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:17:47] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:17:47] [ENEMY] [Enemy1] Death animation component initialized
[00:17:47] [ENEMY] [Enemy2] Death animation component initialized
[00:17:47] [ENEMY] [Enemy3] Death animation component initialized
[00:17:47] [ENEMY] [Enemy4] Death animation component initialized
[00:17:47] [ENEMY] [Enemy5] Death animation component initialized
[00:17:47] [ENEMY] [Enemy6] Death animation component initialized
[00:17:47] [ENEMY] [Enemy7] Death animation component initialized
[00:17:47] [ENEMY] [Enemy8] Death animation component initialized
[00:17:47] [ENEMY] [Enemy9] Death animation component initialized
[00:17:47] [ENEMY] [Enemy10] Death animation component initialized
[00:17:47] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:17:47] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:17:47] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:17:47] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:17:47] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:17:47] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:17:47] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:17:47] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:17:47] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:17:47] [INFO] [ScoreManager] Level started with 10 enemies
[00:17:47] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 19)
[00:17:47] [ENEMY] [Enemy1] Registered as sound listener
[00:17:47] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:17:47] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 20)
[00:17:47] [ENEMY] [Enemy2] Registered as sound listener
[00:17:47] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:17:47] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 21)
[00:17:47] [ENEMY] [Enemy3] Registered as sound listener
[00:17:47] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:17:47] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 22)
[00:17:47] [ENEMY] [Enemy4] Registered as sound listener
[00:17:47] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:17:47] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 23)
[00:17:47] [ENEMY] [Enemy5] Registered as sound listener
[00:17:47] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:17:47] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 24)
[00:17:47] [ENEMY] [Enemy6] Registered as sound listener
[00:17:47] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:17:47] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 25)
[00:17:47] [ENEMY] [Enemy7] Registered as sound listener
[00:17:47] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:17:47] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 26)
[00:17:47] [ENEMY] [Enemy8] Registered as sound listener
[00:17:47] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:17:47] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 27)
[00:17:47] [ENEMY] [Enemy9] Registered as sound listener
[00:17:47] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:17:47] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 28)
[00:17:47] [ENEMY] [Enemy10] Registered as sound listener
[00:17:47] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:17:47] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:17:47] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:17:47] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:17:47] [INFO] [LastChance] Found player: Player
[00:17:47] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:17:47] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:17:47] [INFO] [LastChance] Connected to player Died signal (C#)
[00:17:47] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:17:47] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:17:47] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:17:47] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:17:47] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:17:47] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:17:47] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (772.83386, 962.7294)
[00:17:47] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:17:47] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:17:47] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1138.6666)
[00:17:47] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:17:47] [INFO] [Player.Grenade] Step 1 complete! Drag: (498.12646, -8.179077)
[00:17:47] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:17:47] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:17:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=28
[00:17:48] [INFO] [SoundPropagation] Cleaned up 18 invalid listeners
[00:17:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:17:48] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:17:48] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:17:48] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:17:48] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:17:48] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:17:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=4559627879932, bullet_pos=(41.69983, 702.3934)
[00:17:48] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:17:48] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:17:48] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:17:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=4559627879932, bullet_pos=(309.9183, 463.5218)
[00:17:48] [INFO] [Bullet] Using shooter_position, distance=1191.62524414063
[00:17:48] [INFO] [Bullet] Distance to wall: 1191.62524414063 (81.1399540791435% of viewport)
[00:17:48] [INFO] [Bullet] Distance-based penetration chance: 52.0033869076659%
[00:17:48] [INFO] [Bullet] Penetration failed (distance roll)
[00:17:49] [ENEMY] [Enemy1] State: IDLE -> COMBAT
[00:17:49] [ENEMY] [Enemy2] State: IDLE -> COMBAT
[00:17:49] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:17:49] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (102.20587, 406.7677) (419,4 px/s), Swing distance: 329,3
[00:17:49] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,3246288
[00:17:49] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (102.2059, 406.7677), Swing: 329.3, Transfer: 1.00, Final speed: 221.0
[00:17:49] [INFO] [Player.Grenade] Thrown! Velocity: 419,4, Swing: 329,3
[00:17:49] [INFO] [Player.Grenade] State reset to IDLE
[00:17:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:17:49] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:17:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:17:49] [INFO] [LastChance] Threat detected: Bullet
[00:17:49] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:49] [INFO] [Player.Grenade] Player rotation restored to 0
[00:17:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:17:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:17:49] [INFO] [LastChance] Threat detected: Bullet
[00:17:49] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:49] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:17:49] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:17:49] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:17:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:17:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:17:49] [INFO] [LastChance] Threat detected: Bullet
[00:17:49] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:49] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:17:49] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:17:49] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:17:49] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:17:49] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:17:49] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:17:49] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:17:49] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:17:49] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:17:49] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:17:49] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:17:49] [INFO] [GrenadeBase] Grenade landed at (551.7523, 831.2281)
[00:17:50] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:17:50] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:17:50] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:17:50] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:17:50] [ENEMY] [Enemy1] Death animation component initialized
[00:17:50] [ENEMY] [Enemy2] Death animation component initialized
[00:17:50] [ENEMY] [Enemy3] Death animation component initialized
[00:17:50] [ENEMY] [Enemy4] Death animation component initialized
[00:17:50] [ENEMY] [Enemy5] Death animation component initialized
[00:17:50] [ENEMY] [Enemy6] Death animation component initialized
[00:17:50] [ENEMY] [Enemy7] Death animation component initialized
[00:17:50] [ENEMY] [Enemy8] Death animation component initialized
[00:17:50] [ENEMY] [Enemy9] Death animation component initialized
[00:17:50] [ENEMY] [Enemy10] Death animation component initialized
[00:17:50] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:17:50] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:17:50] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:17:50] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:17:50] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:17:50] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:17:50] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:17:50] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:17:50] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:17:50] [INFO] [ScoreManager] Level started with 10 enemies
[00:17:50] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:17:50] [ENEMY] [Enemy1] Registered as sound listener
[00:17:50] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:17:50] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:17:50] [ENEMY] [Enemy2] Registered as sound listener
[00:17:50] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:17:50] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:17:50] [ENEMY] [Enemy3] Registered as sound listener
[00:17:50] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:17:50] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:17:50] [ENEMY] [Enemy4] Registered as sound listener
[00:17:50] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:17:50] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:17:50] [ENEMY] [Enemy5] Registered as sound listener
[00:17:50] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:17:50] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:17:50] [ENEMY] [Enemy6] Registered as sound listener
[00:17:50] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:17:50] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:17:50] [ENEMY] [Enemy7] Registered as sound listener
[00:17:50] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:17:50] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:17:50] [ENEMY] [Enemy8] Registered as sound listener
[00:17:50] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:17:50] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:17:50] [ENEMY] [Enemy9] Registered as sound listener
[00:17:50] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:17:50] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:17:50] [ENEMY] [Enemy10] Registered as sound listener
[00:17:50] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:17:50] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:17:50] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:17:50] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:17:50] [INFO] [LastChance] Found player: Player
[00:17:50] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:17:50] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:17:50] [INFO] [LastChance] Connected to player Died signal (C#)
[00:17:50] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:17:50] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:17:50] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:17:50] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:17:50] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:17:50] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:17:50] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1094.6655, 988.1494)
[00:17:50] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:17:50] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:17:50] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1111.1666)
[00:17:50] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:17:50] [INFO] [Player.Grenade] Step 1 complete! Drag: (180.41821, -15.334961)
[00:17:50] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:17:50] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:17:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:17:51] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:17:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:17:51] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:17:51] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:17:51] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:17:51] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:17:51] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:17:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=4743606831490, bullet_pos=(41.69983, 702.3934)
[00:17:51] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:17:51] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:17:51] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:17:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=4743606831490, bullet_pos=(525.4563, 397.791)
[00:17:51] [INFO] [Bullet] Using shooter_position, distance=1139.28723144531
[00:17:51] [INFO] [Bullet] Distance to wall: 1139.28723144531 (77.5761625536007% of viewport)
[00:17:51] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:17:51] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (629.2707, 468.46045) (784,5 px/s), Swing distance: 324,3
[00:17:51] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,63993955
[00:17:51] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (629.2707, 468.4604), Swing: 324.3, Transfer: 1.00, Final speed: 413.5
[00:17:51] [INFO] [Player.Grenade] Thrown! Velocity: 784,5, Swing: 324,3
[00:17:51] [INFO] [Player.Grenade] State reset to IDLE
[00:17:51] [INFO] [GrenadeBase] Collision detected with Room2_WallLeft (type: StaticBody2D)
[00:17:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=4743606831490, bullet_pos=(320.1387, 262.5922)
[00:17:52] [INFO] [Bullet] Using shooter_position, distance=1354.61267089844
[00:17:52] [INFO] [Bullet] Distance to wall: 1354.61267089844 (92.2380676745333% of viewport)
[00:17:52] [INFO] [Player.Grenade] Player rotation restored to 0
[00:17:52] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:17:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:17:52] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:17:52] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:17:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:17:52] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:17:52] [INFO] [LastChance] Threat detected: @Area2D@4751
[00:17:52] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:52] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:17:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=4743606831490, bullet_pos=(48.33772, 462.9228)
[00:17:52] [INFO] [Bullet] Using shooter_position, distance=1361.4599609375
[00:17:52] [INFO] [Bullet] Distance to wall: 1361.4599609375 (92.7043122443492% of viewport)
[00:17:52] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:17:52] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:17:52] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:17:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:17:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:17:52] [INFO] [LastChance] Threat detected: @Area2D@4753
[00:17:52] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:52] [INFO] [GrenadeBase] Grenade landed at (561.0184, 772.0361)
[00:17:52] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:17:52] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:17:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=4743606831490, bullet_pos=(372.9429, 690.6229)
[00:17:52] [INFO] [Bullet] Using shooter_position, distance=973.87158203125
[00:17:52] [INFO] [Bullet] Distance to wall: 973.87158203125 (66.3127068124392% of viewport)
[00:17:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=4743606831490, bullet_pos=(514.7317, 594.3406)
[00:17:52] [INFO] [Bullet] Using shooter_position, distance=970.004516601563
[00:17:52] [INFO] [Bullet] Distance to wall: 970.004516601563 (66.0493912164254% of viewport)
[00:17:52] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:17:52] [ENEMY] [Enemy10] FLANKING started: target=(413.0935, 1137.399), side=right, pos=(1022.668, 1432.257)
[00:17:52] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:17:52] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[00:17:53] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[00:17:53] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[00:17:53] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[00:17:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=4743606831490, bullet_pos=(908.1182, 802.3783)
[00:17:53] [INFO] [Bullet] Using shooter_position, distance=636.05712890625
[00:17:53] [INFO] [Bullet] Distance to wall: 636.05712890625 (43.3102995131534% of viewport)
[00:17:53] [ENEMY] [Enemy4] Hit taken, health: 3/4
[00:17:53] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[00:17:53] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[00:17:53] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:17:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(904.9725, 1362.099), source=ENEMY (Enemy10), range=1469, listeners=10
[00:17:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[00:17:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(883.8312, 1336.74), source=ENEMY (Enemy10), range=1469, listeners=10
[00:17:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[00:17:53] [INFO] [LastChance] Threat detected: Bullet
[00:17:53] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:53] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:17:53] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:17:53] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:17:53] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:17:53] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:17:53] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:17:53] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:17:53] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:17:53] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:17:53] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:17:53] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:17:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(855.0695, 1312.938), source=ENEMY (Enemy10), range=1469, listeners=10
[00:17:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[00:17:53] [INFO] [LastChance] Threat detected: @Area2D@4757
[00:17:53] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:54] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:17:54] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:17:54] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:17:54] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:17:54] [ENEMY] [Enemy1] Death animation component initialized
[00:17:54] [ENEMY] [Enemy2] Death animation component initialized
[00:17:54] [ENEMY] [Enemy3] Death animation component initialized
[00:17:54] [ENEMY] [Enemy4] Death animation component initialized
[00:17:54] [ENEMY] [Enemy5] Death animation component initialized
[00:17:54] [ENEMY] [Enemy6] Death animation component initialized
[00:17:54] [ENEMY] [Enemy7] Death animation component initialized
[00:17:54] [ENEMY] [Enemy8] Death animation component initialized
[00:17:54] [ENEMY] [Enemy9] Death animation component initialized
[00:17:54] [ENEMY] [Enemy10] Death animation component initialized
[00:17:54] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:17:54] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:17:54] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:17:54] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:17:54] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:17:54] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:17:54] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:17:54] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:17:54] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:17:54] [INFO] [ScoreManager] Level started with 10 enemies
[00:17:54] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:17:54] [ENEMY] [Enemy1] Registered as sound listener
[00:17:54] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:17:54] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:17:54] [ENEMY] [Enemy2] Registered as sound listener
[00:17:54] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:17:54] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:17:54] [ENEMY] [Enemy3] Registered as sound listener
[00:17:54] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:17:54] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:17:54] [ENEMY] [Enemy4] Registered as sound listener
[00:17:54] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:17:54] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:17:54] [ENEMY] [Enemy5] Registered as sound listener
[00:17:54] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:17:54] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:17:54] [ENEMY] [Enemy6] Registered as sound listener
[00:17:54] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:17:54] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:17:54] [ENEMY] [Enemy7] Registered as sound listener
[00:17:54] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:17:54] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:17:54] [ENEMY] [Enemy8] Registered as sound listener
[00:17:54] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:17:54] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:17:54] [ENEMY] [Enemy9] Registered as sound listener
[00:17:54] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:17:54] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:17:54] [ENEMY] [Enemy10] Registered as sound listener
[00:17:54] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:17:54] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:17:54] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:17:54] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:17:54] [INFO] [LastChance] Found player: Player
[00:17:54] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:17:54] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:17:54] [INFO] [LastChance] Connected to player Died signal (C#)
[00:17:54] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:17:54] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:17:54] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:17:54] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:17:54] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:17:54] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1027.9406, 1217.2297)
[00:17:54] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:17:54] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:17:54] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:17:54] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1155.1666)
[00:17:54] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:17:54] [INFO] [Player.Grenade] Step 1 complete! Drag: (238.09265, 58.042725)
[00:17:54] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:17:54] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:17:54] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:17:54] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:17:54] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:17:54] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:17:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:17:55] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:17:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:17:55] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:17:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=4996724689089, bullet_pos=(41.69983, 702.3934)
[00:17:55] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:17:55] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:17:55] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:17:55] [INFO] [Bullet] Starting wall penetration at (41.69983, 702.3934)
[00:17:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.508674621582
[00:17:55] [INFO] [Bullet] Body exited signal received for penetrating body
[00:17:55] [INFO] [Bullet] Exiting penetration at (4.46851, 674.2579) after traveling 41.6666717529297 pixels through wall
[00:17:55] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:17:55] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:17:55] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:17:55] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (723.1614, -565.592) (918,1 px/s), Swing distance: 430,7
[00:17:55] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,663737
[00:17:55] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (723.1614, -565.592), Swing: 430.7, Transfer: 1.00, Final speed: 483.9
[00:17:55] [INFO] [Player.Grenade] Thrown! Velocity: 918,1, Swing: 430,7
[00:17:55] [INFO] [Player.Grenade] State reset to IDLE
[00:17:55] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:17:56] [INFO] [Player.Grenade] Player rotation restored to 0
[00:17:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:17:56] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:17:56] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:17:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:17:56] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:17:56] [INFO] [LastChance] Threat detected: Bullet
[00:17:56] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:56] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:17:56] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:17:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:17:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:17:56] [INFO] [LastChance] Threat detected: Bullet
[00:17:56] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:56] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:17:56] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:17:56] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:17:56] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:17:56] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:17:56] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:17:56] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:17:56] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:17:56] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:17:56] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:17:56] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:17:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:17:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:17:56] [INFO] [LastChance] Threat detected: Bullet
[00:17:56] [INFO] [LastChance] Not in hard mode - effect disabled
[00:17:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:17:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(620.4664, 776.8787), shooter_id=4994728199635, bullet_pos=(527.1974, 798.8988)
[00:17:56] [INFO] [Bullet] Using shooter_position, distance=95.8331909179688
[00:17:56] [INFO] [Bullet] Distance to wall: 95.8331909179688 (6.52545819130376% of viewport)
[00:17:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:56] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:17:57] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:17:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(620.4664, 776.8787), shooter_id=4994728199635, bullet_pos=(130.6941, 715.3596)
[00:17:58] [INFO] [Bullet] Using shooter_position, distance=493.620788574219
[00:17:58] [INFO] [Bullet] Distance to wall: 493.620788574219 (33.6115471826108% of viewport)
[00:17:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:17:58] [INFO] [Bullet] Starting wall penetration at (130.6941, 715.3596)
[00:17:58] [INFO] [Bullet] Raycast forward hit penetrating body at distance 7.754478931427
[00:17:58] [INFO] [Bullet] Raycast forward hit penetrating body at distance 4.2126841545105
[00:17:58] [INFO] [Bullet] Raycast forward hit penetrating body at distance 0.67087477445602
[00:17:58] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:17:58] [INFO] [Bullet] Exiting penetration at (111.9392, 711.4081) after traveling 14.1666679382324 pixels through wall
[00:17:58] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[00:17:59] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:17:59] [INFO] [PenultimateHit] Effect duration expired after 3.01 real seconds
[00:17:59] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:17:59] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:17:59] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:17:59] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:17:59] [INFO] [GrenadeBase] Grenade landed at (647.4428, 592.8868)
[00:17:59] [ENEMY] [Enemy10] FLANKING started: target=(403.8885, 1086.649), side=right, pos=(1022.668, 1432.257)
[00:17:59] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:18:00] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[00:18:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(366.2923, 953.6413), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:18:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(349.8695, 980.3809), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[00:18:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(346.9677, 998.7406), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[00:18:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(366.29227, 953.6413), shooter_id=4997546772879, bullet_pos=(1009.3093, 1386.2546)
[00:18:00] [INFO] [Bullet] Using shooter_position, distance=775,0002
[00:18:00] [INFO] [Bullet] Distance to wall: 775,0002 (52,771187% of viewport)
[00:18:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(366.29227, 953.6413), shooter_id=4997546772879, bullet_pos=(1013.2207, 1383.14)
[00:18:00] [INFO] [Bullet] Using shooter_position, distance=776,5215
[00:18:00] [INFO] [Bullet] Distance to wall: 776,5215 (52,87478% of viewport)
[00:18:01] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[00:18:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(353.2972, 1003.789), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[00:18:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(349.86948, 980.3809), shooter_id=4997546772879, bullet_pos=(1009.2103, 1387.6827)
[00:18:01] [INFO] [Bullet] Using shooter_position, distance=775,00006
[00:18:01] [INFO] [Bullet] Distance to wall: 775,00006 (52,77118% of viewport)
[00:18:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(349.86948, 980.3809), shooter_id=4997546772879, bullet_pos=(1013.37634, 1384.9178)
[00:18:01] [INFO] [Bullet] Using shooter_position, distance=777,1045
[00:18:01] [INFO] [Bullet] Distance to wall: 777,1045 (52,914474% of viewport)
[00:18:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(368.5034, 995.1274), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[00:18:01] [ENEMY] [Enemy10] Hit taken, health: 3/4
[00:18:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(346.96765, 998.7406), shooter_id=4997546772879, bullet_pos=(1031.3549, 1379.8239)
[00:18:01] [INFO] [Bullet] Using shooter_position, distance=783,33276
[00:18:01] [INFO] [Bullet] Distance to wall: 783,33276 (53,33857% of viewport)
[00:18:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(387.7404, 977.6982), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:18:01] [INFO] [GrenadeBase] EXPLODED at (650.3753, 590.5933)!
[00:18:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(650.3753, 590.5933), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=10
[00:18:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:18:01] [ENEMY] [Enemy2] Status effect: BLINDED applied
[00:18:01] [ENEMY] [Enemy2] Status effect: STUNNED applied
[00:18:01] [ENEMY] [Enemy3] Status effect: BLINDED applied
[00:18:01] [ENEMY] [Enemy3] Status effect: STUNNED applied
[00:18:01] [ENEMY] [Enemy4] Status effect: BLINDED applied
[00:18:01] [ENEMY] [Enemy4] Status effect: STUNNED applied
[00:18:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(366.29227, 953.6413), shooter_id=4997546772879, bullet_pos=(1491.5372, 1705.814)
[00:18:01] [INFO] [Bullet] Using shooter_position, distance=1353,4918
[00:18:01] [INFO] [Bullet] Distance to wall: 1353,4918 (92,16175% of viewport)
[00:18:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(415.1045, 960.9744), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:18:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(349.86948, 980.3809), shooter_id=4997546772879, bullet_pos=(1494.7303, 1668.9705)
[00:18:01] [INFO] [Bullet] Using shooter_position, distance=1335,9873
[00:18:01] [INFO] [Bullet] Distance to wall: 1335,9873 (90,96983% of viewport)
[00:18:01] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[00:18:01] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[00:18:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(452.6, 956.4828), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:18:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(452.6, 956.48285), shooter_id=4997546772879, bullet_pos=(496.8432, 994.5002)
[00:18:01] [INFO] [Bullet] Using shooter_position, distance=58,333332
[00:18:01] [INFO] [Bullet] Distance to wall: 58,333332 (3,9720242% of viewport)
[00:18:01] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[00:18:01] [INFO] [Bullet] Starting wall penetration at (496.8432, 994.5002)
[00:18:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(452.6, 956.48285), shooter_id=4997546772879, bullet_pos=(500.63547, 997.7588)
[00:18:01] [INFO] [Bullet] Using shooter_position, distance=63,333317
[00:18:01] [INFO] [Bullet] Distance to wall: 63,333317 (4,312482% of viewport)
[00:18:01] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[00:18:01] [INFO] [Bullet] Already penetrating, cannot start new penetration
[00:18:01] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:18:01] [INFO] [Bullet] Exiting penetration at (525.9173, 1019.483) after traveling 33,333332 pixels through wall
[00:18:01] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(346.96765, 998.7406), shooter_id=4997546772879, bullet_pos=(1520.1171, 984.9652)
[00:18:01] [INFO] [Bullet] Using shooter_position, distance=1173,2302
[00:18:01] [INFO] [Bullet] Distance to wall: 1173,2302 (79,887405% of viewport)
[00:18:01] [INFO] [Bullet] Distance-based penetration chance: 53,46469%
[00:18:01] [INFO] [Bullet] Starting wall penetration at (1520.1171, 984.9652)
[00:18:01] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:18:01] [INFO] [Bullet] Exiting penetration at (1546.0461, 964.0178) after traveling 28,333334 pixels through wall
[00:18:01] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:18:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(368.50342, 995.1274), shooter_id=4997546772879, bullet_pos=(1229.8418, 1624.3147)
[00:18:01] [INFO] [Bullet] Using shooter_position, distance=1066,668
[00:18:01] [INFO] [Bullet] Distance to wall: 1066,668 (72,631386% of viewport)
[00:18:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(483.9843, 956.4828), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:18:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(483.98434, 956.48285), shooter_id=4997546772879, bullet_pos=(510.9254, 979.3438)
[00:18:01] [INFO] [Bullet] Using shooter_position, distance=35,33334
[00:18:01] [INFO] [Bullet] Distance to wall: 35,33334 (2,4059122% of viewport)
[00:18:01] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[00:18:01] [INFO] [Bullet] Starting wall penetration at (510.9254, 979.3438)
[00:18:01] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,186022
[00:18:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(415.10446, 960.97437), shooter_id=4997546772879, bullet_pos=(907.8601, 1397.5454)
[00:18:01] [INFO] [Bullet] Using shooter_position, distance=658,33307
[00:18:01] [INFO] [Bullet] Distance to wall: 658,33307 (44,82711% of viewport)
[00:18:01] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:01] [INFO] [Bullet] Exiting penetration at (540.154, 1004.1458) after traveling 33,333336 pixels through wall
[00:18:01] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(483.98434, 956.48285), shooter_id=4997546772879, bullet_pos=(540.154, 1004.1458)
[00:18:01] [INFO] [Bullet] Using shooter_position, distance=73,66673
[00:18:01] [INFO] [Bullet] Distance to wall: 73,66673 (5,0161033% of viewport)
[00:18:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(387.74045, 977.69824), shooter_id=4997546772879, bullet_pos=(1181.7351, 1625.9257)
[00:18:01] [INFO] [Bullet] Using shooter_position, distance=1025,0006
[00:18:01] [INFO] [Bullet] Distance to wall: 1025,0006 (69,794174% of viewport)
[00:18:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(368.50342, 995.1274), shooter_id=4997546772879, bullet_pos=(1501.2233, 1461.1289)
[00:18:01] [INFO] [Bullet] Using shooter_position, distance=1224,8313
[00:18:01] [INFO] [Bullet] Distance to wall: 1224,8313 (83,40102% of viewport)
[00:18:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(368.50342, 995.1274), shooter_id=4997546772879, bullet_pos=(1394.9045, 1394.6034)
[00:18:01] [INFO] [Bullet] Using shooter_position, distance=1101,3993
[00:18:01] [INFO] [Bullet] Distance to wall: 1101,3993 (74,99631% of viewport)
[00:18:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(368.50342, 995.1274), shooter_id=4997546772879, bullet_pos=(1390.6414, 1397.2158)
[00:18:01] [INFO] [Bullet] Using shooter_position, distance=1098,3811
[00:18:01] [INFO] [Bullet] Distance to wall: 1098,3811 (74,790794% of viewport)
[00:18:01] [INFO] [Bullet] Distance-based penetration chance: 59,410744%
[00:18:01] [INFO] [Bullet] Starting wall penetration at (1390.6414, 1397.2158)
[00:18:01] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:18:01] [INFO] [Bullet] Exiting penetration at (1368.9238, 1410.5242) after traveling 20,470835 pixels through wall
[00:18:01] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[00:18:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(387.74045, 977.69824), shooter_id=4997546772879, bullet_pos=(1502.4515, 1434.8251)
[00:18:01] [INFO] [Bullet] Using shooter_position, distance=1204,8011
[00:18:01] [INFO] [Bullet] Distance to wall: 1204,8011 (82,037125% of viewport)
[00:18:01] [INFO] [Bullet] Distance-based penetration chance: 50,95669%
[00:18:01] [INFO] [Bullet] Penetration failed (distance roll)
[00:18:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(415.10446, 960.97437), shooter_id=4997546772879, bullet_pos=(1376.7747, 1023.2193)
[00:18:02] [INFO] [Bullet] Using shooter_position, distance=963,6825
[00:18:02] [INFO] [Bullet] Distance to wall: 963,6825 (65,61891% of viewport)
[00:18:02] [INFO] [Bullet] Distance-based penetration chance: 70,11127%
[00:18:02] [INFO] [Bullet] Starting wall penetration at (1376.7747, 1023.2193)
[00:18:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34,324505
[00:18:02] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:02] [INFO] [Bullet] Exiting penetration at (1402.8254, 1002.42346) after traveling 28,333332 pixels through wall
[00:18:02] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:18:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(504.2491, 763.4307), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:02] [ENEMY] [Enemy1] Heard gunshot at (504.2491, 763.4307), source_type=0, intensity=0.01, distance=461
[00:18:02] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=3, self=0, below_threshold=2
[00:18:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(504.24905, 763.43066), shooter_id=4997546772879, bullet_pos=(518.64856, 819.95886)
[00:18:02] [INFO] [Bullet] Using shooter_position, distance=58,333378
[00:18:02] [INFO] [Bullet] Distance to wall: 58,333378 (3,972027% of viewport)
[00:18:02] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[00:18:02] [INFO] [Bullet] Starting wall penetration at (518.64856, 819.95886)
[00:18:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,654297
[00:18:02] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:02] [INFO] [Bullet] Exiting penetration at (528.1111, 857.10596) after traveling 33,333332 pixels through wall
[00:18:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(529.3473, 754.3334), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:03] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=2, self=0, below_threshold=3
[00:18:03] [ENEMY] [Enemy3] Hit taken, health: 3/4
[00:18:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(556.7059, 757.3912), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:03] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=2, self=0, below_threshold=3
[00:18:03] [ENEMY] [Enemy3] Hit taken, health: 2/4
[00:18:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(577.9136, 771.7655), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:03] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=2, self=0, below_threshold=3
[00:18:03] [ENEMY] [Enemy3] Hit taken, health: 1/4
[00:18:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(589.3796, 795.7062), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:03] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[00:18:03] [ENEMY] [Enemy3] Hit taken, health: 0/4
[00:18:03] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:18:03] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:18:03] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:18:03] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:18:03] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[00:18:03] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[00:18:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(591.5988, 828.727), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:18:03] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[00:18:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(591.5988, 828.727), shooter_id=4997546772879, bullet_pos=(534.3606, 1011.64746)
[00:18:03] [INFO] [Bullet] Using shooter_position, distance=191,66667
[00:18:03] [INFO] [Bullet] Distance to wall: 191,66667 (13,050936% of viewport)
[00:18:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:03] [INFO] [Bullet] Starting wall penetration at (534.3606, 1011.64746)
[00:18:03] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,390188
[00:18:03] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:03] [INFO] [Bullet] Exiting penetration at (522.91296, 1048.2316) after traveling 33,333336 pixels through wall
[00:18:03] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(591.5988, 863.9272), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:18:03] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[00:18:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(591.5988, 863.9272), shooter_id=4997546772879, bullet_pos=(540.3061, 1013.72205)
[00:18:03] [INFO] [Bullet] Using shooter_position, distance=158,33333
[00:18:03] [INFO] [Bullet] Distance to wall: 158,33333 (10,781208% of viewport)
[00:18:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(591.5988, 863.9272), shooter_id=4997546772879, bullet_pos=(526.04553, 983.5932)
[00:18:03] [INFO] [Bullet] Using shooter_position, distance=136,44481
[00:18:03] [INFO] [Bullet] Distance to wall: 136,44481 (9,290778% of viewport)
[00:18:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(591.5988, 863.9272), shooter_id=4997546772879, bullet_pos=(512.5948, 1009.37915)
[00:18:03] [INFO] [Bullet] Using shooter_position, distance=165,52315
[00:18:03] [INFO] [Bullet] Distance to wall: 165,52315 (11,270776% of viewport)
[00:18:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(591.5988, 863.9272), shooter_id=4997546772879, bullet_pos=(514.7809, 1013.8759)
[00:18:03] [INFO] [Bullet] Using shooter_position, distance=168,48032
[00:18:03] [INFO] [Bullet] Distance to wall: 168,48032 (11,472135% of viewport)
[00:18:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:04] [ENEMY] [Enemy3] Ragdoll activated
[00:18:04] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:18:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(591.5988, 939.1273), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:18:04] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[00:18:04] [ENEMY] [Enemy4] Hit taken, health: 2/3
[00:18:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(591.5988, 863.9272), shooter_id=4997546772879, bullet_pos=(277.72354, 1384.5616)
[00:18:04] [INFO] [Bullet] Using shooter_position, distance=607,9292
[00:18:04] [INFO] [Bullet] Distance to wall: 607,9292 (41,395016% of viewport)
[00:18:04] [INFO] [Bullet] Distance-based penetration chance: 98,37248%
[00:18:04] [INFO] [Bullet] Starting wall penetration at (277.72354, 1384.5616)
[00:18:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(591.5988, 941.9717), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:18:04] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[00:18:04] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:18:04] [INFO] [Bullet] Exiting penetration at (265.6552, 1403.4329) after traveling 17,400208 pixels through wall
[00:18:04] [INFO] [Bullet] Damage multiplier after penetration: 0,05625
[00:18:04] [ENEMY] [Enemy4] Hit taken, health: 1/3
[00:18:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(591.5988, 931.3762), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:18:04] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[00:18:04] [ENEMY] [Enemy4] Hit taken, health: 0/3
[00:18:04] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[00:18:04] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:18:04] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[00:18:04] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:18:04] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[00:18:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(591.5988, 907.1273), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[00:18:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(591.5988, 907.12726), shooter_id=4997546772879, bullet_pos=(681.50806, 889.26385)
[00:18:04] [INFO] [Bullet] Using shooter_position, distance=91,66664
[00:18:04] [INFO] [Bullet] Distance to wall: 91,66664 (6,2417502% of viewport)
[00:18:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(592.7814, 873.0215), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[00:18:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(592.7814, 873.0215), shooter_id=4997546772879, bullet_pos=(683.3316, 858.75854)
[00:18:04] [INFO] [Bullet] Using shooter_position, distance=91,66666
[00:18:04] [INFO] [Bullet] Distance to wall: 91,66666 (6,2417517% of viewport)
[00:18:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:04] [INFO] [Bullet] Starting wall penetration at (683.3316, 858.75854)
[00:18:04] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[00:18:04] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:18:04] [INFO] [Bullet] Exiting penetration at (721.19806, 852.79407) after traveling 33,333332 pixels through wall
[00:18:04] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:04] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[00:18:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(591.5988, 907.12726), shooter_id=4997546772879, bullet_pos=(1023.979, 296.01953)
[00:18:04] [INFO] [Bullet] Using shooter_position, distance=748,6022
[00:18:04] [INFO] [Bullet] Distance to wall: 748,6022 (50,9737% of viewport)
[00:18:04] [INFO] [Bullet] Distance-based penetration chance: 87,19735%
[00:18:04] [INFO] [Bullet] Starting wall penetration at (1023.979, 296.01953)
[00:18:04] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33,291195
[00:18:05] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:05] [INFO] [Bullet] Exiting penetration at (1040.6442, 267.15118) after traveling 28,333334 pixels through wall
[00:18:05] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:18:05] [ENEMY] [Enemy4] Ragdoll activated
[00:18:05] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:18:05] [ENEMY] [Enemy3] Death animation completed
[00:18:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.9369, 699.9934), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[00:18:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.9369, 664.7932), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=4
[00:18:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.9369, 633.3265), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[00:18:05] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:18:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(684.9369, 699.9934), shooter_id=4997546772879, bullet_pos=(48.710117, 530.8238)
[00:18:05] [INFO] [Bullet] Using shooter_position, distance=658,3334
[00:18:05] [INFO] [Bullet] Distance to wall: 658,3334 (44,82713% of viewport)
[00:18:05] [INFO] [Bullet] Distance-based penetration chance: 94,36835%
[00:18:05] [INFO] [Bullet] Starting wall penetration at (48.710117, 530.8238)
[00:18:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,0426
[00:18:05] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:05] [INFO] [Bullet] Exiting penetration at (11.663998, 520.9734) after traveling 33,333332 pixels through wall
[00:18:05] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.9369, 613.5932), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[00:18:05] [ENEMY] [Enemy2] Hit taken, health: 2/4
[00:18:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.9369, 607.4066), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[00:18:06] [ENEMY] [Enemy2] Hit taken, health: 1/4
[00:18:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(681.5594, 613.3365), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[00:18:06] [ENEMY] [Enemy2] Hit taken, health: 0/4
[00:18:06] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:18:06] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[00:18:06] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[00:18:06] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:18:06] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[00:18:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(668.0494, 628.3096), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:18:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=4
[00:18:06] [ENEMY] [Enemy4] Death animation completed
[00:18:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(645.0447, 651.5566), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:18:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=3
[00:18:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(681.55945, 613.3365), shooter_id=4997546772879, bullet_pos=(56.87799, 633.287)
[00:18:06] [INFO] [Bullet] Using shooter_position, distance=625
[00:18:06] [INFO] [Bullet] Distance to wall: 625 (42,5574% of viewport)
[00:18:06] [INFO] [Bullet] Distance-based penetration chance: 97,016365%
[00:18:06] [INFO] [Bullet] Starting wall penetration at (56.87799, 633.287)
[00:18:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,4426565
[00:18:06] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:06] [INFO] [Bullet] Exiting penetration at (18.564194, 634.5106) after traveling 33,333332 pixels through wall
[00:18:06] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(668.04944, 628.3096), shooter_id=4997546772879, bullet_pos=(43.831585, 659.57025)
[00:18:06] [INFO] [Bullet] Using shooter_position, distance=625,0001
[00:18:06] [INFO] [Bullet] Distance to wall: 625,0001 (42,55741% of viewport)
[00:18:06] [INFO] [Bullet] Distance-based penetration chance: 97,01636%
[00:18:06] [INFO] [Bullet] Penetration failed (distance roll)
[00:18:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(645.04474, 651.55664), shooter_id=4997546772879, bullet_pos=(53.57353, 666.76935)
[00:18:06] [INFO] [Bullet] Using shooter_position, distance=591,6668
[00:18:06] [INFO] [Bullet] Distance to wall: 591,6668 (40,28768% of viewport)
[00:18:06] [INFO] [Bullet] Distance-based penetration chance: 99,664375%
[00:18:06] [INFO] [Bullet] Starting wall penetration at (53.57353, 666.76935)
[00:18:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,752672
[00:18:06] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:06] [INFO] [Bullet] Exiting penetration at (15.252865, 667.75494) after traveling 33,333336 pixels through wall
[00:18:06] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:06] [ENEMY] [Enemy2] Ragdoll activated
[00:18:06] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:18:06] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[00:18:06] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[00:18:06] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[00:18:06] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[00:18:06] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[00:18:06] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[00:18:06] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[00:18:06] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[00:18:06] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[00:18:06] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(530.2572, 668.0151), source=PLAYER (Player), range=900, listeners=7
[00:18:06] [ENEMY] [Enemy1] Heard player RELOAD at (530.2572, 668.0151), intensity=0.04, distance=255
[00:18:06] [ENEMY] [Enemy10] Heard player RELOAD at (530.2572, 668.0151), intensity=0.01, distance=423
[00:18:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[00:18:06] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=true (dist=255), can_see=false
[00:18:06] [ENEMY] [Enemy1] Pursuing vulnerability sound at (530.2572, 668.0151), distance=255
[00:18:06] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1212), can_see=false
[00:18:06] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1436), can_see=false
[00:18:06] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1105), can_see=false
[00:18:06] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1577), can_see=false
[00:18:06] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1801), can_see=false
[00:18:06] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=423), can_see=false
[00:18:06] [ENEMY] [Enemy10] Pursuing vulnerability sound at (530.2572, 668.0151), distance=423
[00:18:06] [ENEMY] [Enemy1] Player reloading - priority attack triggered
[00:18:07] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[00:18:07] [ENEMY] [Enemy1] Player reloading - priority attack triggered
[00:18:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.0624, 450.0331), source=ENEMY (Enemy1), range=1469, listeners=7
[00:18:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[00:18:07] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[00:18:07] [INFO] [LastChance] Threat detected: Bullet
[00:18:07] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:07] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:18:07] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:18:07] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:18:07] [INFO] [LastChance] Player died
[00:18:07] [ENEMY] [Enemy1] Player reloading - priority attack triggered
[00:18:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.0624, 450.0331), source=ENEMY (Enemy1), range=1469, listeners=7
[00:18:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[00:18:07] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[00:18:07] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[00:18:07] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[00:18:07] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[00:18:07] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[00:18:07] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[00:18:07] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[00:18:07] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[00:18:07] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[00:18:07] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[00:18:07] [INFO] [LastChance] Threat detected: Bullet
[00:18:07] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.0624, 450.0331), source=ENEMY (Enemy1), range=1469, listeners=7
[00:18:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[00:18:07] [INFO] [LastChance] Threat detected: Bullet
[00:18:07] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:07] [INFO] [Player.Reload.Anim] LeftArm: pos=(22.600508, 5.943354), target=(24, 6), base=(24, 6)
[00:18:07] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9992919, 6.1859255), target=(-2, 6), base=(-2, 6)
[00:18:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.0624, 450.0331), source=ENEMY (Enemy1), range=1469, listeners=7
[00:18:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[00:18:07] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[00:18:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(510.5425, 673.5482), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:18:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=3
[00:18:07] [INFO] [LastChance] Threat detected: Bullet
[00:18:07] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:07] [ENEMY] [Enemy1] Hit taken, health: 1/2
[00:18:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.0624, 450.0331), source=ENEMY (Enemy1), range=1469, listeners=7
[00:18:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[00:18:07] [INFO] [LastChance] Threat detected: Bullet
[00:18:07] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(492.6225, 673.5482), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:18:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=2
[00:18:07] [ENEMY] [Enemy1] Hit taken, health: 0/2
[00:18:07] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[00:18:07] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[00:18:07] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[00:18:07] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:18:07] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[00:18:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(461.4225, 673.5482), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:18:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[00:18:07] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:18:07] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:18:07] [ENEMY] [Enemy1] Death animation component initialized
[00:18:07] [ENEMY] [Enemy2] Death animation component initialized
[00:18:07] [ENEMY] [Enemy3] Death animation component initialized
[00:18:07] [ENEMY] [Enemy4] Death animation component initialized
[00:18:07] [ENEMY] [Enemy5] Death animation component initialized
[00:18:07] [ENEMY] [Enemy6] Death animation component initialized
[00:18:07] [ENEMY] [Enemy7] Death animation component initialized
[00:18:07] [ENEMY] [Enemy8] Death animation component initialized
[00:18:07] [ENEMY] [Enemy9] Death animation component initialized
[00:18:07] [ENEMY] [Enemy10] Death animation component initialized
[00:18:07] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:18:07] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:18:07] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:18:07] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:18:07] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:18:07] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:18:07] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:18:07] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:18:07] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:18:07] [INFO] [ScoreManager] Level started with 10 enemies
[00:18:07] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 7)
[00:18:07] [ENEMY] [Enemy1] Registered as sound listener
[00:18:07] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:18:07] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 8)
[00:18:07] [ENEMY] [Enemy2] Registered as sound listener
[00:18:07] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:18:07] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 9)
[00:18:07] [ENEMY] [Enemy3] Registered as sound listener
[00:18:07] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:18:07] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 10)
[00:18:07] [ENEMY] [Enemy4] Registered as sound listener
[00:18:07] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:18:07] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 11)
[00:18:07] [ENEMY] [Enemy5] Registered as sound listener
[00:18:07] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:18:07] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 12)
[00:18:07] [ENEMY] [Enemy6] Registered as sound listener
[00:18:07] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:18:07] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 13)
[00:18:07] [ENEMY] [Enemy7] Registered as sound listener
[00:18:07] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:18:07] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 14)
[00:18:07] [ENEMY] [Enemy8] Registered as sound listener
[00:18:07] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:18:07] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 15)
[00:18:07] [ENEMY] [Enemy9] Registered as sound listener
[00:18:07] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:18:07] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 16)
[00:18:07] [ENEMY] [Enemy10] Registered as sound listener
[00:18:07] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:18:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(449.6667, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=16
[00:18:07] [INFO] [SoundPropagation] Cleaned up 6 invalid listeners
[00:18:07] [ENEMY] [Enemy4] Heard gunshot at (449.6667, 1256), source_type=0, intensity=0.01, distance=499
[00:18:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[00:18:07] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:18:07] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:18:07] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:18:07] [INFO] [LastChance] Found player: Player
[00:18:07] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:18:07] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:18:07] [INFO] [LastChance] Connected to player Died signal (C#)
[00:18:07] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:18:07] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:18:07] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:18:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(444.8333, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[00:18:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(444.83334, 1256), shooter_id=5707759881369, bullet_pos=(289.8345, 710.9436)
[00:18:08] [INFO] [Bullet] Using shooter_position, distance=566,6667
[00:18:08] [INFO] [Bullet] Distance to wall: 566,6667 (38,585377% of viewport)
[00:18:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:08] [INFO] [Bullet] Starting wall penetration at (289.8345, 710.9436)
[00:18:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,813425
[00:18:08] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:08] [INFO] [Bullet] Exiting penetration at (277.0699, 666.0566) after traveling 41,666668 pixels through wall
[00:18:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:08] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:18:08] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:18:08] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:18:08] [ENEMY] [Enemy1] Death animation component initialized
[00:18:08] [ENEMY] [Enemy2] Death animation component initialized
[00:18:08] [ENEMY] [Enemy3] Death animation component initialized
[00:18:08] [ENEMY] [Enemy4] Death animation component initialized
[00:18:08] [ENEMY] [Enemy5] Death animation component initialized
[00:18:08] [ENEMY] [Enemy6] Death animation component initialized
[00:18:08] [ENEMY] [Enemy7] Death animation component initialized
[00:18:08] [ENEMY] [Enemy8] Death animation component initialized
[00:18:08] [ENEMY] [Enemy9] Death animation component initialized
[00:18:08] [ENEMY] [Enemy10] Death animation component initialized
[00:18:08] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:18:08] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:18:08] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:18:08] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:18:08] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:18:08] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:18:08] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:18:08] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:18:08] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:18:08] [INFO] [ScoreManager] Level started with 10 enemies
[00:18:08] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:18:08] [ENEMY] [Enemy1] Registered as sound listener
[00:18:08] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:18:08] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:18:08] [ENEMY] [Enemy2] Registered as sound listener
[00:18:08] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:18:08] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:18:08] [ENEMY] [Enemy3] Registered as sound listener
[00:18:08] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:18:08] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:18:08] [ENEMY] [Enemy4] Registered as sound listener
[00:18:08] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:18:08] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:18:08] [ENEMY] [Enemy5] Registered as sound listener
[00:18:08] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:18:08] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:18:08] [ENEMY] [Enemy6] Registered as sound listener
[00:18:08] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:18:08] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:18:08] [ENEMY] [Enemy7] Registered as sound listener
[00:18:08] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:18:08] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:18:08] [ENEMY] [Enemy8] Registered as sound listener
[00:18:08] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:18:08] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:18:08] [ENEMY] [Enemy9] Registered as sound listener
[00:18:08] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:18:08] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:18:08] [ENEMY] [Enemy10] Registered as sound listener
[00:18:08] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:18:08] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:18:08] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:18:08] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:18:08] [INFO] [LastChance] Found player: Player
[00:18:08] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:18:08] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:18:08] [INFO] [LastChance] Connected to player Died signal (C#)
[00:18:08] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:18:08] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:18:08] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:18:09] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:18:09] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:18:09] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:18:09] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:18:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:18:09] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:18:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:18:09] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:18:09] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:18:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=5762453604718, bullet_pos=(41.69983, 702.3934)
[00:18:10] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:18:10] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:18:10] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:18:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=5762453604718, bullet_pos=(304.8474, 457.9469)
[00:18:10] [INFO] [Bullet] Using shooter_position, distance=1199.1123046875
[00:18:10] [INFO] [Bullet] Distance to wall: 1199.1123046875 (81.6497617992706% of viewport)
[00:18:10] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:18:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(464.5364, 759.0681), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:10] [ENEMY] [Enemy1] Heard gunshot at (464.5364, 759.0681), source_type=0, intensity=0.01, distance=441
[00:18:10] [ENEMY] [Enemy2] Heard gunshot at (464.5364, 759.0681), source_type=0, intensity=0.05, distance=219
[00:18:10] [ENEMY] [Enemy4] Heard gunshot at (464.5364, 759.0681), source_type=0, intensity=0.02, distance=364
[00:18:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:18:10] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:18:10] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:18:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(487.2702, 742.6674), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:18:10] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:18:10] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:18:10] [ENEMY] [Enemy3] Hit taken, health: 1/3
[00:18:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(517.7194, 737.6309), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[00:18:10] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:18:10] [ENEMY] [Enemy3] Hit taken, health: 0/3
[00:18:10] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:18:10] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:18:10] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:18:10] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:18:10] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[00:18:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[00:18:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[00:18:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.0591, 744.4757), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:18:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[00:18:10] [INFO] [LastChance] Threat detected: Bullet
[00:18:10] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[00:18:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[00:18:10] [INFO] [LastChance] Threat detected: @Area2D@5620
[00:18:10] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[00:18:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[00:18:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.9771, 608.9063), shooter_id=5760171902429, bullet_pos=(695.7931, 816.4783)
[00:18:10] [INFO] [Bullet] Using shooter_position, distance=333.333404541016
[00:18:10] [INFO] [Bullet] Distance to wall: 333.333404541016 (22.6972844612805% of viewport)
[00:18:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:10] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[00:18:10] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:18:10] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:18:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(548.0591, 744.4757), shooter_id=5763275688088, bullet_pos=(936.6374, 793.5641)
[00:18:10] [INFO] [Bullet] Using shooter_position, distance=391,66666
[00:18:10] [INFO] [Bullet] Distance to wall: 391,66666 (26,669302% of viewport)
[00:18:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:10] [INFO] [Bullet] Starting wall penetration at (936.6374, 793.5641)
[00:18:10] [INFO] [LastChance] Threat detected: @Area2D@5621
[00:18:10] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,975784
[00:18:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(437.0805, 607.1351), shooter_id=5760171902429, bullet_pos=(489.5201, 692.2827)
[00:18:10] [INFO] [Bullet] Using shooter_position, distance=100.000045776367
[00:18:10] [INFO] [Bullet] Distance to wall: 100.000045776367 (6.80918700078256% of viewport)
[00:18:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:10] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:10] [INFO] [Bullet] Exiting penetration at (974.66846, 798.36847) after traveling 33,333336 pixels through wall
[00:18:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:10] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[00:18:10] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:18:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.9771, 608.9063), shooter_id=5760171902429, bullet_pos=(923.54, 639.6522)
[00:18:11] [INFO] [Bullet] Using shooter_position, distance=489.529479980469
[00:18:11] [INFO] [Bullet] Distance to wall: 489.529479980469 (33.3329624572092% of viewport)
[00:18:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:11] [INFO] [Bullet] Starting wall penetration at (923.54, 639.6522)
[00:18:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.558708190918
[00:18:11] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:11] [INFO] [Bullet] Exiting penetration at (949.8691, 619.2099) after traveling 28.3333339691162 pixels through wall
[00:18:11] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[00:18:11] [ENEMY] [Enemy3] Ragdoll activated
[00:18:11] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:18:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(582.2897, 868.9692), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:18:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:18:11] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[00:18:11] [ENEMY] [Enemy4] Hit taken, health: 3/4
[00:18:11] [ENEMY] [Enemy10] FLANKING started: target=(510.7732, 1076.146), side=right, pos=(1022.668, 1432.257)
[00:18:11] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:18:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(582.881, 903.9244), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:18:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:18:11] [ENEMY] [Enemy4] Hit taken, health: 2/4
[00:18:11] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[00:18:11] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[00:18:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(592.5145, 934.0482), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:18:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=7
[00:18:11] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:18:11] [ENEMY] [Enemy4] Hit taken, health: 1/4
[00:18:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(742.4415, 914.0657), source=ENEMY (Enemy4), range=1469, listeners=9
[00:18:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=7
[00:18:11] [INFO] [LastChance] Threat detected: Bullet
[00:18:11] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:18:11] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:18:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(611.1924, 954.1276), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:18:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=7
[00:18:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(749.4707, 914.0649), source=ENEMY (Enemy4), range=1469, listeners=9
[00:18:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=7
[00:18:11] [INFO] [LastChance] Threat detected: Bullet
[00:18:11] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:11] [ENEMY] [Enemy4] Hit taken, health: 0/4
[00:18:11] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[00:18:11] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:18:11] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[00:18:11] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:18:11] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[00:18:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:18:11] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:18:11] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:18:11] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:18:11] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:18:11] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:18:11] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:18:11] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:18:11] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:18:11] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:18:11] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:18:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(633.1305, 962.8923), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=7
[00:18:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(633.1305, 962.8923), shooter_id=5763275688088, bullet_pos=(910.25555, 827.7195)
[00:18:13] [INFO] [Bullet] Using shooter_position, distance=308,3342
[00:18:13] [INFO] [Bullet] Distance to wall: 308,3342 (20,995043% of viewport)
[00:18:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:13] [INFO] [Bullet] Starting wall penetration at (910.25555, 827.7195)
[00:18:13] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:18:13] [INFO] [Bullet] Exiting penetration at (918.4944, 823.70087) after traveling 4,166667 pixels through wall
[00:18:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:13] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[00:18:13] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[00:18:13] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[00:18:13] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[00:18:13] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[00:18:13] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[00:18:13] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[00:18:13] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[00:18:13] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[00:18:13] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[00:18:13] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[00:18:13] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(667.292, 958.4067), source=PLAYER (Player), range=900, listeners=8
[00:18:13] [ENEMY] [Enemy10] Heard player RELOAD at (667.292, 958.4067), intensity=0.01, distance=482
[00:18:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[00:18:13] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=700), can_see=false
[00:18:13] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=599), can_see=false
[00:18:13] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1199), can_see=false
[00:18:13] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1380), can_see=false
[00:18:13] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1031), can_see=false
[00:18:13] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1327), can_see=false
[00:18:13] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1550), can_see=false
[00:18:13] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=482), can_see=false
[00:18:13] [ENEMY] [Enemy3] Death animation completed
[00:18:13] [INFO] [Player.Reload.Anim] LeftArm: pos=(14.1464815, 3.940181), target=(4, 2), base=(24, 6)
[00:18:13] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.44558, 6), target=(-2, 6), base=(-2, 6)
[00:18:13] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[00:18:13] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=704), can_see=false
[00:18:13] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=600), can_see=false
[00:18:13] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1190), can_see=false
[00:18:13] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1370), can_see=false
[00:18:13] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1021), can_see=false
[00:18:13] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1319), can_see=false
[00:18:13] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1542), can_see=false
[00:18:13] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=468), can_see=false
[00:18:13] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[00:18:13] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[00:18:13] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[00:18:13] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[00:18:13] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[00:18:13] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[00:18:13] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[00:18:13] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[00:18:13] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[00:18:13] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[00:18:13] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[00:18:13] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[00:18:14] [INFO] [Player.Reload.Anim] LeftArm: pos=(19.800264, 5.39582), target=(24, 6), base=(24, 6)
[00:18:14] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.089487, 6.211387), target=(-2, 6), base=(-2, 6)
[00:18:14] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[00:18:14] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[00:18:14] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:18:14] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:18:14] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:18:14] [ENEMY] [Enemy4] Ragdoll activated
[00:18:14] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:18:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(663.9433, 915.2723), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[00:18:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.7704, 888.0727), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[00:18:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(613.4358, 864.7381), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[00:18:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(663.9433, 915.27234), shooter_id=5763275688088, bullet_pos=(261.3523, 253.04468)
[00:18:15] [INFO] [Bullet] Using shooter_position, distance=775
[00:18:15] [INFO] [Bullet] Distance to wall: 775 (52,771175% of viewport)
[00:18:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(587.136, 837.1317), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[00:18:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(636.7704, 888.0727), shooter_id=5763275688088, bullet_pos=(259.4854, 259.23712)
[00:18:15] [INFO] [Bullet] Using shooter_position, distance=733,33356
[00:18:15] [INFO] [Bullet] Distance to wall: 733,33356 (49,934032% of viewport)
[00:18:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(663.9433, 915.27234), shooter_id=5763275688088, bullet_pos=(59.6539, 506.28717)
[00:18:15] [INFO] [Bullet] Using shooter_position, distance=729,68115
[00:18:15] [INFO] [Bullet] Distance to wall: 729,68115 (49,685333% of viewport)
[00:18:15] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[00:18:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(613.4358, 864.7381), shooter_id=5763275688088, bullet_pos=(270.16516, 264.2647)
[00:18:15] [INFO] [Bullet] Using shooter_position, distance=691,6668
[00:18:15] [INFO] [Bullet] Distance to wall: 691,6668 (47,096867% of viewport)
[00:18:15] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[00:18:15] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[00:18:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(587.136, 837.1317), shooter_id=5763275688088, bullet_pos=(329.4052, 240.41174)
[00:18:15] [INFO] [Bullet] Using shooter_position, distance=649,9999
[00:18:15] [INFO] [Bullet] Distance to wall: 649,9999 (44,25969% of viewport)
[00:18:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(663.9433, 915.27234), shooter_id=5763275688088, bullet_pos=(226.45306, 686.8752)
[00:18:15] [INFO] [Bullet] Using shooter_position, distance=493,521
[00:18:15] [INFO] [Bullet] Distance to wall: 493,521 (33,60475% of viewport)
[00:18:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(636.7704, 888.0727), shooter_id=5763275688088, bullet_pos=(54.992035, 716.42053)
[00:18:15] [INFO] [Bullet] Using shooter_position, distance=606,5727
[00:18:15] [INFO] [Bullet] Distance to wall: 606,5727 (41,30265% of viewport)
[00:18:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(587.136, 837.1317), shooter_id=5763275688088, bullet_pos=(379.5957, 65.38245)
[00:18:15] [INFO] [Bullet] Using shooter_position, distance=799,1682
[00:18:15] [INFO] [Bullet] Distance to wall: 799,1682 (54,416836% of viewport)
[00:18:15] [INFO] [Bullet] Distance-based penetration chance: 83,18036%
[00:18:15] [INFO] [Bullet] Starting wall penetration at (379.5957, 65.38245)
[00:18:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 5,688845
[00:18:15] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:15] [INFO] [Bullet] Exiting penetration at (390.7364, 26.531548) after traveling 35,416668 pixels through wall
[00:18:15] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:18:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(613.4358, 864.7381), shooter_id=5763275688088, bullet_pos=(60.98959, 639.9582)
[00:18:15] [INFO] [Bullet] Using shooter_position, distance=596,42505
[00:18:15] [INFO] [Bullet] Distance to wall: 596,42505 (40,61168% of viewport)
[00:18:15] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[00:18:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(663.9433, 915.27234), shooter_id=5763275688088, bullet_pos=(511.98907, 462.34888)
[00:18:15] [INFO] [Bullet] Using shooter_position, distance=477,73398
[00:18:15] [INFO] [Bullet] Distance to wall: 477,73398 (32,529785% of viewport)
[00:18:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:15] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[00:18:15] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[00:18:15] [ENEMY] [Enemy2] Hit taken, health: 2/4
[00:18:15] [ENEMY] [Enemy4] Death animation completed
[00:18:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(636.7704, 888.0727), shooter_id=5763275688088, bullet_pos=(288.11182, 1399.1996)
[00:18:15] [INFO] [Bullet] Using shooter_position, distance=618,71924
[00:18:15] [INFO] [Bullet] Distance to wall: 618,71924 (42,12973% of viewport)
[00:18:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(613.4358, 864.7381), shooter_id=5763275688088, bullet_pos=(325.58972, 1394.6685)
[00:18:16] [INFO] [Bullet] Using shooter_position, distance=603,0602
[00:18:16] [INFO] [Bullet] Distance to wall: 603,0602 (41,06348% of viewport)
[00:18:16] [INFO] [Bullet] Distance-based penetration chance: 98,75928%
[00:18:16] [INFO] [Bullet] Starting wall penetration at (325.58972, 1394.6685)
[00:18:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,717482
[00:18:16] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:16] [INFO] [Bullet] Exiting penetration at (335.21204, 1422.1139) after traveling 24,083334 pixels through wall
[00:18:16] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[00:18:16] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[00:18:17] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[00:18:17] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[00:18:17] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[00:18:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(464.6139, 394.7804), source=ENEMY (Enemy2), range=1469, listeners=8
[00:18:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[00:18:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(493.9634, 668.5558), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:17] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=2
[00:18:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(465.2726, 460.2412), shooter_id=5760171902429, bullet_pos=(503.7167, 552.5562)
[00:18:17] [INFO] [Bullet] Using shooter_position, distance=100.000007629395
[00:18:17] [INFO] [Bullet] Distance to wall: 100.000007629395 (6.80918440328504% of viewport)
[00:18:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(464.6139, 394.7804), source=ENEMY (Enemy2), range=1469, listeners=8
[00:18:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[00:18:17] [INFO] [LastChance] Threat detected: @Area2D@5670
[00:18:17] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:17] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:18:17] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:18:17] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:18:17] [INFO] [LastChance] Player died
[00:18:17] [ENEMY] [Enemy2] Hit taken, health: 1/4
[00:18:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(463.1267, 677.9338), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:17] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=2
[00:18:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(464.6139, 394.7804), source=ENEMY (Enemy2), range=1469, listeners=8
[00:18:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[00:18:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(460.744, 460.1301), shooter_id=5760171902429, bullet_pos=(476.1949, 692.9514)
[00:18:17] [INFO] [Bullet] Using shooter_position, distance=233.333450317383
[00:18:17] [INFO] [Bullet] Distance to wall: 233.333450317383 (15.888103694492% of viewport)
[00:18:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:17] [INFO] [Bullet] Starting wall penetration at (476.1949, 692.9514)
[00:18:17] [INFO] [LastChance] Threat detected: Bullet
[00:18:17] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:17] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19.2428569793701
[00:18:17] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:17] [INFO] [Bullet] Exiting penetration at (478.7333, 731.2006) after traveling 33.3333320617676 pixels through wall
[00:18:17] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:18:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(464.6139, 394.7804), source=ENEMY (Enemy2), range=1469, listeners=8
[00:18:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[00:18:17] [ENEMY] [Enemy2] Hit taken, health: 0/4
[00:18:17] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:18:17] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[00:18:17] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[00:18:17] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:18:17] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[00:18:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(427.9267, 677.9338), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:18:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=2
[00:18:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(470.493, 465.0732), shooter_id=5760171902429, bullet_pos=(459.6756, 698.1556)
[00:18:17] [INFO] [Bullet] Using shooter_position, distance=233.333282470703
[00:18:17] [INFO] [Bullet] Distance to wall: 233.333282470703 (15.8880922655029% of viewport)
[00:18:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:17] [INFO] [LastChance] Threat detected: @Area2D@5673
[00:18:17] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:17] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:18:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.7268, 677.9338), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:18:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=2
[00:18:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(427.92673, 677.9338), shooter_id=5763275688088, bullet_pos=(484.71002, 55.518356)
[00:18:17] [INFO] [Bullet] Using shooter_position, distance=625,00024
[00:18:17] [INFO] [Bullet] Distance to wall: 625,00024 (42,55742% of viewport)
[00:18:17] [INFO] [Bullet] Distance-based penetration chance: 97,01635%
[00:18:17] [INFO] [Bullet] Starting wall penetration at (484.71002, 55.518356)
[00:18:17] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,717312
[00:18:17] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:17] [INFO] [Bullet] Exiting penetration at (488.19272, 17.343555) after traveling 33,33334 pixels through wall
[00:18:17] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(392.72678, 677.9338), shooter_id=5763275688088, bullet_pos=(521.9821, 66.445404)
[00:18:17] [INFO] [Bullet] Using shooter_position, distance=625
[00:18:17] [INFO] [Bullet] Distance to wall: 625 (42,5574% of viewport)
[00:18:17] [INFO] [Bullet] Distance-based penetration chance: 97,016365%
[00:18:17] [INFO] [Bullet] Starting wall penetration at (521.9821, 66.445404)
[00:18:17] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3,126816
[00:18:17] [INFO] [Bullet] Max penetration distance exceeded: 66,666664 >= 48
[00:18:17] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:17] [INFO] [Bullet] Exiting penetration at (536.8034, -3.6719284) after traveling 66,666664 pixels through wall
[00:18:17] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:18:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:18:17] [ENEMY] [Enemy1] Death animation component initialized
[00:18:17] [ENEMY] [Enemy2] Death animation component initialized
[00:18:17] [ENEMY] [Enemy3] Death animation component initialized
[00:18:17] [ENEMY] [Enemy4] Death animation component initialized
[00:18:17] [ENEMY] [Enemy5] Death animation component initialized
[00:18:17] [ENEMY] [Enemy6] Death animation component initialized
[00:18:17] [ENEMY] [Enemy7] Death animation component initialized
[00:18:17] [ENEMY] [Enemy8] Death animation component initialized
[00:18:17] [ENEMY] [Enemy9] Death animation component initialized
[00:18:17] [ENEMY] [Enemy10] Death animation component initialized
[00:18:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:18:17] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:18:17] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:18:17] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:18:17] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:18:17] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:18:17] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:18:17] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:18:17] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:18:18] [INFO] [ScoreManager] Level started with 10 enemies
[00:18:18] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 8)
[00:18:18] [ENEMY] [Enemy1] Registered as sound listener
[00:18:18] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:18:18] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 9)
[00:18:18] [ENEMY] [Enemy2] Registered as sound listener
[00:18:18] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:18:18] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 10)
[00:18:18] [ENEMY] [Enemy3] Registered as sound listener
[00:18:18] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:18:18] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 11)
[00:18:18] [ENEMY] [Enemy4] Registered as sound listener
[00:18:18] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:18:18] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 12)
[00:18:18] [ENEMY] [Enemy5] Registered as sound listener
[00:18:18] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:18:18] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 13)
[00:18:18] [ENEMY] [Enemy6] Registered as sound listener
[00:18:18] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:18:18] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 14)
[00:18:18] [ENEMY] [Enemy7] Registered as sound listener
[00:18:18] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:18:18] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 15)
[00:18:18] [ENEMY] [Enemy8] Registered as sound listener
[00:18:18] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:18:18] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 16)
[00:18:18] [ENEMY] [Enemy9] Registered as sound listener
[00:18:18] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:18:18] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 17)
[00:18:18] [ENEMY] [Enemy10] Registered as sound listener
[00:18:18] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:18:18] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:18:18] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:18:18] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:18:18] [INFO] [LastChance] Found player: Player
[00:18:18] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:18:18] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:18:18] [INFO] [LastChance] Connected to player Died signal (C#)
[00:18:18] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:18:18] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:18:18] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:18:18] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:18:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.371, 1465.496), source=ENEMY (Enemy10), range=1469, listeners=17
[00:18:18] [INFO] [SoundPropagation] Cleaned up 7 invalid listeners
[00:18:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:18:19] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:18:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.675, 1430.981), shooter_id=6294291351734, bullet_pos=(41.09948, 703.2017)
[00:18:19] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[00:18:19] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[00:18:19] [INFO] [Bullet] Distance-based penetration chance: 50.6761238618226%
[00:18:19] [INFO] [Bullet] Penetration failed (distance roll)
[00:18:19] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:18:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(446.8791, 796.2793), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:19] [ENEMY] [Enemy1] Heard gunshot at (446.8791, 796.2793), source_type=0, intensity=0.01, distance=470
[00:18:19] [ENEMY] [Enemy2] Heard gunshot at (446.8791, 796.2793), source_type=0, intensity=0.04, distance=251
[00:18:19] [ENEMY] [Enemy4] Heard gunshot at (446.8791, 796.2793), source_type=0, intensity=0.02, distance=368
[00:18:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:18:19] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:18:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.3289, 765.1701), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:18:19] [ENEMY] [Enemy3] Hit taken, health: 1/3
[00:18:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(478.1532, 746.2924), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:18:19] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:18:19] [ENEMY] [Enemy3] Hit taken, health: 0/3
[00:18:19] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:18:19] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:18:19] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:18:19] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:18:19] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[00:18:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(505.6316, 738.2784), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:18:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[00:18:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(505.6316, 738.27844), shooter_id=6295113434479, bullet_pos=(929.0391, 775.0351)
[00:18:20] [INFO] [Bullet] Using shooter_position, distance=424,99997
[00:18:20] [INFO] [Bullet] Distance to wall: 424,99997 (28,93903% of viewport)
[00:18:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:20] [INFO] [Bullet] Starting wall penetration at (929.0391, 775.0351)
[00:18:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,346272
[00:18:20] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:20] [INFO] [Bullet] Exiting penetration at (967.2288, 778.3504) after traveling 33,333332 pixels through wall
[00:18:20] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:20] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[00:18:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[00:18:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[00:18:20] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:18:20] [INFO] [LastChance] Threat detected: @Area2D@5935
[00:18:20] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.5562, 608.659), shooter_id=6292009650908, bullet_pos=(494.8508, 688.4371)
[00:18:20] [INFO] [Bullet] Using shooter_position, distance=99.9999618530273
[00:18:20] [INFO] [Bullet] Distance to wall: 99.9999618530273 (6.80918128628803% of viewport)
[00:18:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:20] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:18:20] [ENEMY] [Enemy3] Ragdoll activated
[00:18:20] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:18:20] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[00:18:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(569.7295, 880.0595), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:18:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[00:18:20] [ENEMY] [Enemy4] Hit taken, health: 1/2
[00:18:20] [ENEMY] [Enemy10] FLANKING started: target=(754.9122, 858.119), side=left, pos=(1022.614, 1432.328)
[00:18:20] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:18:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(554.3561, 908.8917), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:18:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[00:18:20] [ENEMY] [Enemy4] Hit taken, health: 0/2
[00:18:20] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[00:18:20] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:18:20] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[00:18:20] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:18:20] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[00:18:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(544.2277, 937.9814), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=5
[00:18:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(544.22766, 937.98145), shooter_id=6295113434479, bullet_pos=(729.7059, 889.6704)
[00:18:21] [INFO] [Bullet] Using shooter_position, distance=191,6667
[00:18:21] [INFO] [Bullet] Distance to wall: 191,6667 (13,05094% of viewport)
[00:18:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.0667, 957.6686), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:21] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=5
[00:18:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(544.22766, 937.98145), shooter_id=6295113434479, bullet_pos=(914.54596, 804.9435)
[00:18:21] [INFO] [Bullet] Using shooter_position, distance=393,49045
[00:18:21] [INFO] [Bullet] Distance to wall: 393,49045 (26,79349% of viewport)
[00:18:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:21] [INFO] [Bullet] Starting wall penetration at (914.54596, 804.9435)
[00:18:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9,732798
[00:18:21] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:21] [INFO] [Bullet] Exiting penetration at (944.8476, 791.05383) after traveling 28,333334 pixels through wall
[00:18:21] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:18:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.0667, 966.0922), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:21] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=5
[00:18:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.06665, 957.6686), shooter_id=6295113434479, bullet_pos=(917.1323, 851.7235)
[00:18:21] [INFO] [Bullet] Using shooter_position, distance=391,66678
[00:18:21] [INFO] [Bullet] Distance to wall: 391,66678 (26,669312% of viewport)
[00:18:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:21] [INFO] [Bullet] Starting wall penetration at (917.1323, 851.7235)
[00:18:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,735058
[00:18:21] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:21] [INFO] [Bullet] Exiting penetration at (954.0366, 841.35443) after traveling 33,333336 pixels through wall
[00:18:21] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.06665, 966.09216), shooter_id=6295113434479, bullet_pos=(921.14343, 875.62994)
[00:18:21] [INFO] [Bullet] Using shooter_position, distance=391,66684
[00:18:21] [INFO] [Bullet] Distance to wall: 391,66684 (26,669317% of viewport)
[00:18:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:21] [ENEMY] [Enemy4] Ragdoll activated
[00:18:21] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:18:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.06665, 966.09216), shooter_id=6295113434479, bullet_pos=(747.581, 853.2444)
[00:18:21] [INFO] [Bullet] Using shooter_position, distance=236,21352
[00:18:21] [INFO] [Bullet] Distance to wall: 236,21352 (16,084213% of viewport)
[00:18:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:21] [ENEMY] [Enemy3] Death animation completed
[00:18:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(582.3856, 843.8525), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[00:18:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(582.3856, 843.8525), shooter_id=6295113434479, bullet_pos=(467.22745, 690.638)
[00:18:22] [INFO] [Bullet] Using shooter_position, distance=191,66658
[00:18:22] [INFO] [Bullet] Distance to wall: 191,66658 (13,05093% of viewport)
[00:18:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:22] [INFO] [Bullet] Starting wall penetration at (467.22745, 690.638)
[00:18:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,033222
[00:18:22] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:22] [INFO] [Bullet] Exiting penetration at (444.19583, 659.9951) after traveling 33,333332 pixels through wall
[00:18:22] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(607.2758, 818.9623), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[00:18:22] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[00:18:22] [ENEMY] [Enemy2] Hit taken, health: 1/2
[00:18:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(635.2772, 790.9609), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[00:18:22] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[00:18:22] [ENEMY] [Enemy2] Hit taken, health: 0/2
[00:18:22] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:18:22] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[00:18:22] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[00:18:22] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:18:22] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[00:18:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(660.1673, 766.0708), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:18:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[00:18:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(685.0574, 741.1807), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:18:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[00:18:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(660.1673, 766.0708), shooter_id=6295113434479, bullet_pos=(325.49695, 452.91745)
[00:18:22] [INFO] [Bullet] Using shooter_position, distance=458,33313
[00:18:22] [INFO] [Bullet] Distance to wall: 458,33313 (31,208748% of viewport)
[00:18:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(685.05743, 741.18066), shooter_id=6295113434479, bullet_pos=(510.22156, 599.55634)
[00:18:22] [INFO] [Bullet] Using shooter_position, distance=225,00008
[00:18:22] [INFO] [Bullet] Distance to wall: 225,00008 (15,320669% of viewport)
[00:18:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(702.3949, 716.847), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:18:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=4
[00:18:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(685.05743, 741.18066), shooter_id=6295113434479, bullet_pos=(428.779, 685.4044)
[00:18:22] [INFO] [Bullet] Using shooter_position, distance=262,27777
[00:18:22] [INFO] [Bullet] Distance to wall: 262,27777 (17,858976% of viewport)
[00:18:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:22] [INFO] [Bullet] Starting wall penetration at (428.779, 685.4044)
[00:18:22] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:18:22] [INFO] [Bullet] Exiting penetration at (405.83743, 709.587) after traveling 28,333332 pixels through wall
[00:18:22] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:18:22] [ENEMY] [Enemy4] Death animation completed
[00:18:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(660.1673, 766.0708), shooter_id=6295113434479, bullet_pos=(500.64975, 223.88129)
[00:18:22] [INFO] [Bullet] Using shooter_position, distance=565,1684
[00:18:22] [INFO] [Bullet] Distance to wall: 565,1684 (38,483356% of viewport)
[00:18:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:22] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[00:18:22] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[00:18:22] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[00:18:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(660.1673, 766.0708), shooter_id=6295113434479, bullet_pos=(407.04395, 49.783493)
[00:18:22] [INFO] [Bullet] Using shooter_position, distance=759,6966
[00:18:22] [INFO] [Bullet] Distance to wall: 759,6966 (51,729137% of viewport)
[00:18:22] [INFO] [Bullet] Distance-based penetration chance: 86,31601%
[00:18:22] [INFO] [Bullet] Starting wall penetration at (407.04395, 49.783493)
[00:18:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8,892355
[00:18:22] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:22] [INFO] [Bullet] Exiting penetration at (393.27142, 24.167921) after traveling 24,083332 pixels through wall
[00:18:22] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[00:18:22] [ENEMY] [Enemy2] Ragdoll activated
[00:18:22] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:18:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(702.3949, 716.84705), shooter_id=6295113434479, bullet_pos=(56.047913, 388.4255)
[00:18:22] [INFO] [Bullet] Using shooter_position, distance=725,00006
[00:18:22] [INFO] [Bullet] Distance to wall: 725,00006 (49,36659% of viewport)
[00:18:22] [INFO] [Bullet] Distance-based penetration chance: 89,07232%
[00:18:22] [INFO] [Bullet] Starting wall penetration at (56.047913, 388.4255)
[00:18:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11,359067
[00:18:22] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:22] [INFO] [Bullet] Exiting penetration at (21.873243, 371.0607) after traveling 33,333336 pixels through wall
[00:18:22] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(371.3431, 406.696), source=ENEMY (Enemy1), range=1469, listeners=7
[00:18:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[00:18:23] [INFO] [LastChance] Threat detected: Bullet
[00:18:23] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:23] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[00:18:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(506.9781, 662.5881), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:18:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=3
[00:18:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(371.3431, 406.696), source=ENEMY (Enemy1), range=1469, listeners=7
[00:18:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[00:18:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(399.7935, 467.9852), shooter_id=6291724437415, bullet_pos=(505.6903, 596.6851)
[00:18:23] [INFO] [Bullet] Using shooter_position, distance=166.666687011719
[00:18:23] [INFO] [Bullet] Distance to wall: 166.666687011719 (11.3486411916412% of viewport)
[00:18:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:23] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[00:18:23] [INFO] [LastChance] Threat detected: @Area2D@5992
[00:18:23] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:18:23] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:18:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(471.7781, 662.5881), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:18:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=2
[00:18:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(436.5782, 662.5881), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:18:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=2
[00:18:24] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[00:18:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(471.77814, 662.58813), shooter_id=6295113434479, bullet_pos=(335.07202, 260.1748)
[00:18:24] [INFO] [Bullet] Using shooter_position, distance=425,00006
[00:18:24] [INFO] [Bullet] Distance to wall: 425,00006 (28,939035% of viewport)
[00:18:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:24] [INFO] [Bullet] Starting wall penetration at (335.07202, 260.1748)
[00:18:24] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[00:18:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 2,2403584
[00:18:24] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[00:18:24] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:24] [INFO] [Bullet] Exiting penetration at (312.0196, 192.31688) after traveling 66,66667 pixels through wall
[00:18:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(401.3782, 662.5881), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:18:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=2
[00:18:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(436.5782, 662.58813), shooter_id=6295113434479, bullet_pos=(335.97507, 249.66681)
[00:18:24] [INFO] [Bullet] Using shooter_position, distance=425
[00:18:24] [INFO] [Bullet] Distance to wall: 425 (28,939034% of viewport)
[00:18:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:24] [ENEMY] [Enemy2] Death animation completed
[00:18:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(366.1783, 662.5881), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:18:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=2
[00:18:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(401.37823, 662.58813), shooter_id=6295113434479, bullet_pos=(338.47836, 276.00494)
[00:18:24] [INFO] [Bullet] Using shooter_position, distance=391,6669
[00:18:24] [INFO] [Bullet] Distance to wall: 391,6669 (26,669321% of viewport)
[00:18:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:24] [INFO] [Bullet] Starting wall penetration at (338.47836, 276.00494)
[00:18:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(436.5782, 662.58813), shooter_id=6295113434479, bullet_pos=(390.00754, 53.64401)
[00:18:24] [INFO] [Bullet] Using shooter_position, distance=610,72235
[00:18:24] [INFO] [Bullet] Distance to wall: 610,72235 (41,58521% of viewport)
[00:18:24] [INFO] [Bullet] Distance-based penetration chance: 98,15059%
[00:18:24] [INFO] [Bullet] Starting wall penetration at (390.00754, 53.64401)
[00:18:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,882115
[00:18:24] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:18:24] [INFO] [Bullet] Exiting penetration at (332.3222, 238.16917) after traveling 33,33334 pixels through wall
[00:18:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:24] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:24] [INFO] [Bullet] Exiting penetration at (398.86533, 21.50912) after traveling 28,333332 pixels through wall
[00:18:24] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:18:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(366.17828, 662.58813), shooter_id=6295113434479, bullet_pos=(320.92984, 476.33923)
[00:18:24] [INFO] [Bullet] Using shooter_position, distance=191,66656
[00:18:24] [INFO] [Bullet] Distance to wall: 191,66656 (13,050929% of viewport)
[00:18:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:24] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:18:25] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[00:18:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(381.3294, 479.9415), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:18:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=2
[00:18:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(381.32944, 479.94147), shooter_id=6295113434479, bullet_pos=(334.6019, 432.39166)
[00:18:25] [INFO] [Bullet] Using shooter_position, distance=66,66669
[00:18:25] [INFO] [Bullet] Distance to wall: 66,66669 (4,5394573% of viewport)
[00:18:25] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[00:18:25] [INFO] [Bullet] Starting wall penetration at (334.6019, 432.39166)
[00:18:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,7053
[00:18:25] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:25] [INFO] [Bullet] Exiting penetration at (301.8926, 399.1068) after traveling 41,666668 pixels through wall
[00:18:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:25] [ENEMY] [Enemy1] Hit taken, health: 1/2
[00:18:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(405.4418, 455.8291), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:18:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=2
[00:18:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(430.3319, 430.939), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:18:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=2
[00:18:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(430.33194, 430.93896), shooter_id=6295113434479, bullet_pos=(339.06262, 422.41293)
[00:18:25] [INFO] [Bullet] Using shooter_position, distance=91,66669
[00:18:25] [INFO] [Bullet] Distance to wall: 91,66669 (6,241753% of viewport)
[00:18:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:25] [INFO] [Bullet] Starting wall penetration at (339.06262, 422.41293)
[00:18:25] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:18:25] [INFO] [Bullet] Exiting penetration at (300.89545, 418.8475) after traveling 33,333336 pixels through wall
[00:18:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(405.4418, 455.8291), shooter_id=6295113434479, bullet_pos=(59.73737, 208.6177)
[00:18:25] [INFO] [Bullet] Using shooter_position, distance=425,00003
[00:18:25] [INFO] [Bullet] Distance to wall: 425,00003 (28,939035% of viewport)
[00:18:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(455.2221, 406.0488), source=PLAYER (AssaultRifle), range=1469, listeners=7
[00:18:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=2
[00:18:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(405.4418, 455.8291), shooter_id=6295113434479, bullet_pos=(203.8927, 65.217285)
[00:18:25] [INFO] [Bullet] Using shooter_position, distance=439,5448
[00:18:25] [INFO] [Bullet] Distance to wall: 439,5448 (29,929415% of viewport)
[00:18:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:26] [INFO] [ScoreManager] Combo ended at 3. Max combo: 3
[00:18:26] [ENEMY] [Enemy1] Hit taken, health: 0/2
[00:18:26] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[00:18:26] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:18:26] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[00:18:26] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:18:26] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[00:18:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(480.1122, 381.1587), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:18:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=3
[00:18:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(405.4418, 455.8291), shooter_id=6295113434479, bullet_pos=(338.95026, 241.09369)
[00:18:26] [INFO] [Bullet] Using shooter_position, distance=224,79417
[00:18:26] [INFO] [Bullet] Distance to wall: 224,79417 (15,306648% of viewport)
[00:18:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(483.935, 356.2686), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:18:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=3
[00:18:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(480.1122, 381.1587), shooter_id=6295113434479, bullet_pos=(55.949852, 407.8299)
[00:18:26] [INFO] [Bullet] Using shooter_position, distance=425,00006
[00:18:26] [INFO] [Bullet] Distance to wall: 425,00006 (28,939035% of viewport)
[00:18:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(483.9349, 331.3784), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:18:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=3
[00:18:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(405.4418, 455.8291), shooter_id=6295113434479, bullet_pos=(516.8689, 64.54228)
[00:18:26] [INFO] [Bullet] Using shooter_position, distance=406,84317
[00:18:26] [INFO] [Bullet] Distance to wall: 406,84317 (27,702702% of viewport)
[00:18:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(483.93503, 356.26855), shooter_id=6295113434479, bullet_pos=(60.03412, 386.814)
[00:18:26] [INFO] [Bullet] Using shooter_position, distance=425,00003
[00:18:26] [INFO] [Bullet] Distance to wall: 425,00003 (28,939035% of viewport)
[00:18:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:26] [INFO] [Bullet] Starting wall penetration at (60.03412, 386.814)
[00:18:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,226524
[00:18:26] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:26] [INFO] [Bullet] Exiting penetration at (21.79992, 389.56906) after traveling 33,333336 pixels through wall
[00:18:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(483.93494, 331.37842), shooter_id=6295113434479, bullet_pos=(63.7491, 395.16577)
[00:18:26] [INFO] [Bullet] Using shooter_position, distance=424,99997
[00:18:26] [INFO] [Bullet] Distance to wall: 424,99997 (28,93903% of viewport)
[00:18:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:26] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[00:18:26] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[00:18:26] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[00:18:26] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[00:18:26] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[00:18:26] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[00:18:26] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[00:18:26] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[00:18:26] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(483.935, 270.897), source=PLAYER (Player), range=900, listeners=6
[00:18:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=1
[00:18:26] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1219), can_see=false
[00:18:26] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1477), can_see=false
[00:18:26] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1290), can_see=false
[00:18:26] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1843), can_see=false
[00:18:26] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2061), can_see=false
[00:18:26] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=524), can_see=false
[00:18:26] [INFO] [Player.Reload.Anim] LeftArm: pos=(8.538004, 2.7901232), target=(4, 2), base=(24, 6)
[00:18:26] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.5873873, 6), target=(-2, 6), base=(-2, 6)
[00:18:26] [ENEMY] [Enemy1] Ragdoll activated
[00:18:26] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:18:26] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[00:18:26] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[00:18:26] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[00:18:26] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[00:18:26] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[00:18:26] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[00:18:26] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[00:18:26] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[00:18:26] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[00:18:26] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[00:18:27] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[00:18:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(592.1514, 86.07439), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:18:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[00:18:27] [ENEMY] [Enemy1] Death animation completed
[00:18:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(627.3516, 86.07439), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:18:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[00:18:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(592.1514, 86.07439), shooter_id=6295113434479, bullet_pos=(527.96027, 472.44495)
[00:18:28] [INFO] [Bullet] Using shooter_position, distance=391,66656
[00:18:28] [INFO] [Bullet] Distance to wall: 391,66656 (26,669296% of viewport)
[00:18:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:28] [INFO] [Bullet] Starting wall penetration at (527.96027, 472.44495)
[00:18:28] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:18:28] [INFO] [Bullet] Exiting penetration at (521.67773, 510.25995) after traveling 33,333336 pixels through wall
[00:18:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(662.5518, 86.07439), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:18:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[00:18:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(627.3516, 86.07439), shooter_id=6295113434479, bullet_pos=(527.95703, 499.28833)
[00:18:28] [INFO] [Bullet] Using shooter_position, distance=425,00003
[00:18:28] [INFO] [Bullet] Distance to wall: 425,00003 (28,939035% of viewport)
[00:18:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:28] [INFO] [Bullet] Starting wall penetration at (527.95703, 499.28833)
[00:18:28] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:18:28] [INFO] [Bullet] Exiting penetration at (518.992, 536.5586) after traveling 33,333332 pixels through wall
[00:18:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(697.752, 86.07439), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:18:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[00:18:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(662.5518, 86.07439), shooter_id=6295113434479, bullet_pos=(523.9905, 592.45935)
[00:18:28] [INFO] [Bullet] Using shooter_position, distance=525
[00:18:28] [INFO] [Bullet] Distance to wall: 525 (35,748215% of viewport)
[00:18:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(732.9522, 86.07439), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:18:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[00:18:28] [ENEMY] [Enemy10] FLANKING started: target=(875.4019, 242.9624), side=left, pos=(450.6248, 756.5123)
[00:18:28] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:18:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(768.1524, 86.07439), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:18:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[00:18:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(697.752, 86.07439), shooter_id=6295113434479, bullet_pos=(520.9563, 823.5109)
[00:18:28] [INFO] [Bullet] Using shooter_position, distance=758,3333
[00:18:28] [INFO] [Bullet] Distance to wall: 758,3333 (51,636307% of viewport)
[00:18:28] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[00:18:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(662.5518, 86.07439), shooter_id=6295113434479, bullet_pos=(686.29724, 1021.09235)
[00:18:28] [INFO] [Bullet] Using shooter_position, distance=935,31946
[00:18:28] [INFO] [Bullet] Distance to wall: 935,31946 (63,687622% of viewport)
[00:18:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(803.3526, 86.07439), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:18:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[00:18:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(697.752, 86.07439), shooter_id=6295113434479, bullet_pos=(571.7637, 1020.3943)
[00:18:28] [INFO] [Bullet] Using shooter_position, distance=942,77606
[00:18:28] [INFO] [Bullet] Distance to wall: 942,77606 (64,19536% of viewport)
[00:18:28] [INFO] [Bullet] Distance-based penetration chance: 71,77209%
[00:18:28] [INFO] [Bullet] Starting wall penetration at (571.7637, 1020.3943)
[00:18:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(662.5518, 86.07439), shooter_id=6295113434479, bullet_pos=(741.26135, 882.06287)
[00:18:28] [INFO] [Bullet] Using shooter_position, distance=799,8705
[00:18:28] [INFO] [Bullet] Distance to wall: 799,8705 (54,464657% of viewport)
[00:18:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,609528
[00:18:28] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:28] [INFO] [Bullet] Exiting penetration at (580.0928, 1052.6703) after traveling 28,333332 pixels through wall
[00:18:28] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:18:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(838.5528, 86.07439), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:18:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[00:18:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(732.9522, 86.07439), shooter_id=6295113434479, bullet_pos=(526.5592, 884.8404)
[00:18:28] [INFO] [Bullet] Using shooter_position, distance=825,0001
[00:18:28] [INFO] [Bullet] Distance to wall: 825,0001 (56,175774% of viewport)
[00:18:28] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[00:18:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(662.5518, 86.07439), shooter_id=6295113434479, bullet_pos=(816.54736, 1009.8272)
[00:18:28] [INFO] [Bullet] Using shooter_position, distance=936,50085
[00:18:28] [INFO] [Bullet] Distance to wall: 936,50085 (63,768066% of viewport)
[00:18:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(873.753, 86.07439), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:18:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[00:18:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(768.1524, 86.07439), shooter_id=6295113434479, bullet_pos=(518.32996, 907.247)
[00:18:29] [INFO] [Bullet] Using shooter_position, distance=858,33307
[00:18:29] [INFO] [Bullet] Distance to wall: 858,33307 (58,445477% of viewport)
[00:18:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(768.1524, 86.07439), shooter_id=6295113434479, bullet_pos=(543.3816, 1001.0425)
[00:18:29] [INFO] [Bullet] Using shooter_position, distance=942,17224
[00:18:29] [INFO] [Bullet] Distance to wall: 942,17224 (64,15424% of viewport)
[00:18:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(662.5518, 86.07439), shooter_id=6295113434479, bullet_pos=(918.51715, 873.42737)
[00:18:29] [INFO] [Bullet] Using shooter_position, distance=827,9148
[00:18:29] [INFO] [Bullet] Distance to wall: 827,9148 (56,37424% of viewport)
[00:18:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(803.3526, 86.07439), shooter_id=6295113434479, bullet_pos=(501.74664, 809.01624)
[00:18:29] [INFO] [Bullet] Using shooter_position, distance=783,3333
[00:18:29] [INFO] [Bullet] Distance to wall: 783,3333 (53,338604% of viewport)
[00:18:29] [INFO] [Bullet] Distance-based penetration chance: 84,43829%
[00:18:29] [INFO] [Bullet] Starting wall penetration at (501.74664, 809.01624)
[00:18:29] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[00:18:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(908.9531, 86.07439), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:18:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[00:18:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 42,130272
[00:18:29] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:29] [INFO] [Bullet] Exiting penetration at (483.7786, 852.0851) after traveling 41,66667 pixels through wall
[00:18:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:29] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[00:18:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(947.4531, 86.07439), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:18:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[00:18:29] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[00:18:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(983.5685, 86.06236), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:18:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[00:18:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(908.95306, 86.07439), shooter_id=6295113434479, bullet_pos=(519.92584, 804.12885)
[00:18:29] [INFO] [Bullet] Using shooter_position, distance=816,6666
[00:18:29] [INFO] [Bullet] Distance to wall: 816,6666 (55,608334% of viewport)
[00:18:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1015.648, 86.06531), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:18:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[00:18:29] [ENEMY] [Enemy10] Hit taken, health: 3/4
[00:18:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1040.493, 86.06506), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:18:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[00:18:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(947.45306, 86.07439), shooter_id=6295113434479, bullet_pos=(525.65094, 824.0334)
[00:18:29] [INFO] [Bullet] Using shooter_position, distance=850,0003
[00:18:29] [INFO] [Bullet] Distance to wall: 850,0003 (57,878082% of viewport)
[00:18:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(838.5528, 86.07439), shooter_id=6295113434479, bullet_pos=(66.29612, 1647.1708)
[00:18:29] [INFO] [Bullet] Using shooter_position, distance=1741,6665
[00:18:29] [INFO] [Bullet] Distance to wall: 1741,6665 (118,59328% of viewport)
[00:18:29] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[00:18:29] [INFO] [ScoreManager] Combo ended at 1. Max combo: 3
[00:18:29] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[00:18:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(947.45306, 86.07439), shooter_id=6295113434479, bullet_pos=(595.71436, 1014.9146)
[00:18:29] [INFO] [Bullet] Using shooter_position, distance=993,20905
[00:18:29] [INFO] [Bullet] Distance to wall: 993,20905 (67,62943% of viewport)
[00:18:29] [INFO] [Bullet] Distance-based penetration chance: 67,76566%
[00:18:29] [INFO] [Bullet] Starting wall penetration at (595.71436, 1014.9146)
[00:18:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1070.25, 86.06499), source=PLAYER (AssaultRifle), range=1469, listeners=6
[00:18:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[00:18:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,655197
[00:18:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(838.5528, 86.07439), shooter_id=6295113434479, bullet_pos=(169.45203, 1788.5352)
[00:18:29] [INFO] [Bullet] Using shooter_position, distance=1829,2262
[00:18:29] [INFO] [Bullet] Distance to wall: 1829,2262 (124,555374% of viewport)
[00:18:29] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:29] [INFO] [Bullet] Exiting penetration at (607.20013, 1046.2065) after traveling 28,333332 pixels through wall
[00:18:29] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:18:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(983.56854, 86.06236), shooter_id=6295113434479, bullet_pos=(523.2528, 849.7238)
[00:18:29] [INFO] [Bullet] Using shooter_position, distance=891,6666
[00:18:29] [INFO] [Bullet] Distance to wall: 891,6666 (60,71522% of viewport)
[00:18:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(873.753, 86.07439), shooter_id=6295113434479, bullet_pos=(56.320614, 1661.6477)
[00:18:29] [INFO] [Bullet] Using shooter_position, distance=1775,0006
[00:18:29] [INFO] [Bullet] Distance to wall: 1775,0006 (120,86305% of viewport)
[00:18:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(662.5518, 86.07439), shooter_id=6295113434479, bullet_pos=(525.22345, 276.3998)
[00:18:29] [INFO] [Bullet] Using shooter_position, distance=234,69734
[00:18:29] [INFO] [Bullet] Distance to wall: 234,69734 (15,980974% of viewport)
[00:18:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(838.5528, 86.07439), shooter_id=6295113434479, bullet_pos=(65.04628, 1895.5385)
[00:18:29] [INFO] [Bullet] Using shooter_position, distance=1967,8599
[00:18:29] [INFO] [Bullet] Distance to wall: 1967,8599 (133,9952% of viewport)
[00:18:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(983.56854, 86.06236), shooter_id=6295113434479, bullet_pos=(600.87225, 1006.56824)
[00:18:29] [INFO] [Bullet] Using shooter_position, distance=996,8889
[00:18:29] [INFO] [Bullet] Distance to wall: 996,8889 (67,88% of viewport)
[00:18:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(983.56854, 86.06236), shooter_id=6295113434479, bullet_pos=(681.97656, 826.3068)
[00:18:29] [INFO] [Bullet] Using shooter_position, distance=799,3244
[00:18:29] [INFO] [Bullet] Distance to wall: 799,3244 (54,427467% of viewport)
[00:18:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(838.5528, 86.07439), shooter_id=6295113434479, bullet_pos=(194.84825, 2060.248)
[00:18:29] [INFO] [Bullet] Using shooter_position, distance=2076,4675
[00:18:29] [INFO] [Bullet] Distance to wall: 2076,4675 (141,3905% of viewport)
[00:18:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(873.753, 86.07439), shooter_id=6295113434479, bullet_pos=(271.78842, 2066.176)
[00:18:30] [INFO] [Bullet] Using shooter_position, distance=2069,5806
[00:18:30] [INFO] [Bullet] Distance to wall: 2069,5806 (140,92154% of viewport)
[00:18:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(662.5518, 86.07439), shooter_id=6295113434479, bullet_pos=(673.96594, 67.51343)
[00:18:30] [INFO] [Bullet] Using shooter_position, distance=21,78971
[00:18:30] [INFO] [Bullet] Distance to wall: 21,78971 (1,4837015% of viewport)
[00:18:30] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[00:18:30] [INFO] [Bullet] Starting wall penetration at (673.96594, 67.51343)
[00:18:30] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:18:30] [INFO] [Bullet] Exiting penetration at (684.15826, 53.199837) after traveling 12,571652 pixels through wall
[00:18:30] [INFO] [Bullet] Damage multiplier after penetration: 0,0140625
[00:18:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(873.753, 86.07439), shooter_id=6295113434479, bullet_pos=(387.69818, 1877.1312)
[00:18:30] [INFO] [Bullet] Using shooter_position, distance=1855,8378
[00:18:30] [INFO] [Bullet] Distance to wall: 1855,8378 (126,36742% of viewport)
[00:18:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(838.5528, 86.07439), shooter_id=6295113434479, bullet_pos=(348.94156, 1887.8823)
[00:18:30] [INFO] [Bullet] Using shooter_position, distance=1867,1453
[00:18:30] [INFO] [Bullet] Distance to wall: 1867,1453 (127,13736% of viewport)
[00:18:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1015.64825, 86.06531), shooter_id=6295113434479, bullet_pos=(54.157776, 1364.9463)
[00:18:30] [INFO] [Bullet] Using shooter_position, distance=1600,0001
[00:18:30] [INFO] [Bullet] Distance to wall: 1600,0001 (108,94695% of viewport)
[00:18:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(983.56854, 86.06236), shooter_id=6295113434479, bullet_pos=(527.85333, 419.64618)
[00:18:30] [INFO] [Bullet] Using shooter_position, distance=564,76056
[00:18:30] [INFO] [Bullet] Distance to wall: 564,76056 (38,455585% of viewport)
[00:18:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:30] [INFO] [Bullet] Starting wall penetration at (527.85333, 419.64618)
[00:18:30] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:18:30] [INFO] [Bullet] Exiting penetration at (518.82654, 395.82855) after traveling 20,470833 pixels through wall
[00:18:30] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[00:18:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1040.4932, 86.065056), shooter_id=6295113434479, bullet_pos=(50.24698, 1374.489)
[00:18:30] [INFO] [Bullet] Using shooter_position, distance=1624,9996
[00:18:30] [INFO] [Bullet] Distance to wall: 1624,9996 (110,649216% of viewport)
[00:18:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(873.753, 86.07439), shooter_id=6295113434479, bullet_pos=(540.9718, 2075.4558)
[00:18:30] [INFO] [Bullet] Using shooter_position, distance=2017,0231
[00:18:30] [INFO] [Bullet] Distance to wall: 2017,0231 (137,3428% of viewport)
[00:18:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1015.64825, 86.06531), shooter_id=6295113434479, bullet_pos=(226.33525, 1596.2274)
[00:18:30] [INFO] [Bullet] Using shooter_position, distance=1703,9966
[00:18:30] [INFO] [Bullet] Distance to wall: 1703,9966 (116,02826% of viewport)
[00:18:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(838.5528, 86.07439), shooter_id=6295113434479, bullet_pos=(510.87973, 2067.2341)
[00:18:30] [INFO] [Bullet] Using shooter_position, distance=2008,0746
[00:18:30] [INFO] [Bullet] Distance to wall: 2008,0746 (136,73349% of viewport)
[00:18:30] [INFO] [Bullet] Distance-based penetration chance: 22,653303%
[00:18:30] [INFO] [Bullet] Penetration failed (distance roll)
[00:18:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1070.2502, 86.06499), shooter_id=6295113434479, bullet_pos=(59.759674, 1315.8258)
[00:18:30] [INFO] [Bullet] Using shooter_position, distance=1591,6667
[00:18:30] [INFO] [Bullet] Distance to wall: 1591,6667 (108,37952% of viewport)
[00:18:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1040.4932, 86.065056), shooter_id=6295113434479, bullet_pos=(282.11047, 1590.1667)
[00:18:30] [INFO] [Bullet] Using shooter_position, distance=1684,478
[00:18:30] [INFO] [Bullet] Distance to wall: 1684,478 (114,69921% of viewport)
[00:18:30] [INFO] [Bullet] Distance-based penetration chance: 27,06016%
[00:18:30] [INFO] [Bullet] Starting wall penetration at (282.11047, 1590.1667)
[00:18:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 1,2768111
[00:18:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1015.64825, 86.06531), shooter_id=6295113434479, bullet_pos=(384.19934, 1407.7778)
[00:18:30] [INFO] [Bullet] Using shooter_position, distance=1464,8043
[00:18:30] [INFO] [Bullet] Distance to wall: 1464,8043 (99,74122% of viewport)
[00:18:30] [INFO] [Bullet] Max penetration distance exceeded: 56,666668 >= 48
[00:18:30] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:30] [INFO] [Bullet] Exiting penetration at (327.26282, 1632.1671) after traveling 56,666668 pixels through wall
[00:18:30] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[00:18:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1070.2502, 86.06499), shooter_id=6295113434479, bullet_pos=(310.53265, 1592.395)
[00:18:30] [INFO] [Bullet] Using shooter_position, distance=1687,0687
[00:18:30] [INFO] [Bullet] Distance to wall: 1687,0687 (114,87562% of viewport)
[00:18:30] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:18:30] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:18:30] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[00:18:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(873.753, 86.07439), shooter_id=6295113434479, bullet_pos=(893.8463, 1660.8984)
[00:18:30] [INFO] [Bullet] Using shooter_position, distance=1574,9523
[00:18:30] [INFO] [Bullet] Distance to wall: 1574,9523 (107,2414% of viewport)
[00:18:30] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1352.554, 444.82394)
[00:18:30] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[00:18:30] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:18:30] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:18:30] [INFO] [Player.Grenade] Timer started, grenade created at (1246.2184, 230.78773)
[00:18:30] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:18:30] [INFO] [Player.Grenade] Step 1 complete! Drag: (362.10425, -6.011139)
[00:18:31] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[00:18:31] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:18:31] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:18:31] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:18:31] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:18:31] [INFO] [GrenadeBase] Grenade landed at (1246.218, 230.8589)
[00:18:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(873.753, 86.07439), shooter_id=6295113434479, bullet_pos=(617.3809, 1407.9014)
[00:18:31] [INFO] [Bullet] Using shooter_position, distance=1346,4596
[00:18:31] [INFO] [Bullet] Distance to wall: 1346,4596 (91,68291% of viewport)
[00:18:31] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:18:31] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:18:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(873.753, 86.07439), shooter_id=6295113434479, bullet_pos=(369.07483, 1587.9596)
[00:18:31] [INFO] [Bullet] Using shooter_position, distance=1584,4114
[00:18:31] [INFO] [Bullet] Distance to wall: 1584,4114 (107,88549% of viewport)
[00:18:32] [ENEMY] [Enemy6] State: IDLE -> COMBAT
[00:18:32] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:18:32] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (152.76094, 380.11554) (409,7 px/s), Swing distance: 153,6
[00:18:32] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,18867
[00:18:32] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (152.7609, 380.1155), Swing: 153.6, Transfer: 0.95, Final speed: 204.8
[00:18:32] [INFO] [Player.Grenade] Thrown! Velocity: 409,7, Swing: 153,6
[00:18:32] [INFO] [Player.Grenade] State reset to IDLE
[00:18:32] [INFO] [Player.Grenade] Player rotation restored to 0
[00:18:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(873.753, 86.07439), shooter_id=6295113434479, bullet_pos=(64.46625, 1380.8997)
[00:18:32] [INFO] [Bullet] Using shooter_position, distance=1526,9308
[00:18:32] [INFO] [Bullet] Distance to wall: 1526,9308 (103,97153% of viewport)
[00:18:32] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:18:32] [ENEMY] [Enemy6] State: COMBAT -> PURSUING
[00:18:32] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:18:32] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:18:32] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:18:32] [ENEMY] [Enemy1] Death animation component initialized
[00:18:32] [ENEMY] [Enemy2] Death animation component initialized
[00:18:32] [ENEMY] [Enemy3] Death animation component initialized
[00:18:32] [ENEMY] [Enemy4] Death animation component initialized
[00:18:32] [ENEMY] [Enemy5] Death animation component initialized
[00:18:32] [ENEMY] [Enemy6] Death animation component initialized
[00:18:32] [ENEMY] [Enemy7] Death animation component initialized
[00:18:32] [ENEMY] [Enemy8] Death animation component initialized
[00:18:32] [ENEMY] [Enemy9] Death animation component initialized
[00:18:32] [ENEMY] [Enemy10] Death animation component initialized
[00:18:32] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:18:32] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:18:32] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:18:32] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:18:32] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:18:32] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:18:32] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:18:32] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:18:32] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:18:32] [INFO] [ScoreManager] Level started with 10 enemies
[00:18:32] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 7)
[00:18:32] [ENEMY] [Enemy1] Registered as sound listener
[00:18:32] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:18:32] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 8)
[00:18:32] [ENEMY] [Enemy2] Registered as sound listener
[00:18:32] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:18:32] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 9)
[00:18:32] [ENEMY] [Enemy3] Registered as sound listener
[00:18:32] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:18:32] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 10)
[00:18:33] [ENEMY] [Enemy4] Registered as sound listener
[00:18:33] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:18:33] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 11)
[00:18:33] [ENEMY] [Enemy5] Registered as sound listener
[00:18:33] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:18:33] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 12)
[00:18:33] [ENEMY] [Enemy6] Registered as sound listener
[00:18:33] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:18:33] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 13)
[00:18:33] [ENEMY] [Enemy7] Registered as sound listener
[00:18:33] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:18:33] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 14)
[00:18:33] [ENEMY] [Enemy8] Registered as sound listener
[00:18:33] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:18:33] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 15)
[00:18:33] [ENEMY] [Enemy9] Registered as sound listener
[00:18:33] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:18:33] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 16)
[00:18:33] [ENEMY] [Enemy10] Registered as sound listener
[00:18:33] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:18:33] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:18:33] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:18:33] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:18:33] [INFO] [LastChance] Found player: Player
[00:18:33] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:18:33] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:18:33] [INFO] [LastChance] Connected to player Died signal (C#)
[00:18:33] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:18:33] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:18:33] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:18:33] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:18:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=16
[00:18:34] [INFO] [SoundPropagation] Cleaned up 6 invalid listeners
[00:18:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:18:34] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:18:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=6993230170182, bullet_pos=(41.69983, 702.3934)
[00:18:34] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:18:34] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:18:34] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:18:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=6993230170182, bullet_pos=(518.1501, 386.4851)
[00:18:35] [INFO] [Bullet] Using shooter_position, distance=1152.62109375
[00:18:35] [INFO] [Bullet] Distance to wall: 1152.62109375 (78.4840897567376% of viewport)
[00:18:35] [INFO] [Bullet] Distance-based penetration chance: 55.1018952838061%
[00:18:35] [INFO] [Bullet] Starting wall penetration at (518.1501, 386.4851)
[00:18:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.3976516723633
[00:18:35] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:35] [INFO] [Bullet] Exiting penetration at (551.835, 364.1505) after traveling 35.4166679382324 pixels through wall
[00:18:35] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[00:18:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(488.8954, 763.91), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:35] [ENEMY] [Enemy1] Heard gunshot at (488.8954, 763.91), source_type=0, intensity=0.01, distance=455
[00:18:35] [ENEMY] [Enemy2] Heard gunshot at (488.8954, 763.91), source_type=0, intensity=0.05, distance=232
[00:18:35] [ENEMY] [Enemy4] Heard gunshot at (488.8954, 763.91), source_type=0, intensity=0.02, distance=340
[00:18:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:18:35] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:18:35] [ENEMY] [Enemy3] Hit taken, health: 3/4
[00:18:35] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:18:35] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:18:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(519.7559, 754.7119), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[00:18:35] [ENEMY] [Enemy3] Hit taken, health: 2/4
[00:18:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.8004, 758.1187), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[00:18:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[00:18:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[00:18:35] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:18:35] [INFO] [LastChance] Threat detected: @Area2D@6337
[00:18:35] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:35] [ENEMY] [Enemy3] Hit taken, health: 1/4
[00:18:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[00:18:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[00:18:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.5878, 761.2089), source=ENEMY (Enemy3), range=1469, listeners=10
[00:18:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:18:35] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:18:35] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:18:35] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:18:35] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:18:35] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:18:35] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:18:35] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:18:35] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:18:35] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:18:35] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:18:35] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:18:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(569.0633, 771.781), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[00:18:35] [INFO] [LastChance] Threat detected: Bullet
[00:18:35] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:35] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:18:35] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:18:35] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:18:35] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:18:35] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:18:35] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:18:35] [INFO] [LastChance] Player died
[00:18:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[00:18:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[00:18:35] [ENEMY] [Enemy3] Hit taken, health: 0/4
[00:18:35] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:18:35] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:18:35] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:18:35] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:18:35] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[00:18:35] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[00:18:35] [INFO] [LastChance] Threat detected: @Area2D@6341
[00:18:35] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:35] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[00:18:35] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[00:18:35] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:18:35] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:18:36] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[00:18:36] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:18:36] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:18:36] [ENEMY] [Enemy1] Death animation component initialized
[00:18:36] [ENEMY] [Enemy2] Death animation component initialized
[00:18:36] [ENEMY] [Enemy3] Death animation component initialized
[00:18:36] [ENEMY] [Enemy4] Death animation component initialized
[00:18:36] [ENEMY] [Enemy5] Death animation component initialized
[00:18:36] [ENEMY] [Enemy6] Death animation component initialized
[00:18:36] [ENEMY] [Enemy7] Death animation component initialized
[00:18:36] [ENEMY] [Enemy8] Death animation component initialized
[00:18:36] [ENEMY] [Enemy9] Death animation component initialized
[00:18:36] [ENEMY] [Enemy10] Death animation component initialized
[00:18:36] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:18:36] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:18:36] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:18:36] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:18:36] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:18:36] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:18:36] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:18:36] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:18:36] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:18:36] [INFO] [ScoreManager] Level started with 10 enemies
[00:18:36] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:18:36] [ENEMY] [Enemy1] Registered as sound listener
[00:18:36] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:18:36] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:18:36] [ENEMY] [Enemy2] Registered as sound listener
[00:18:36] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:18:36] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:18:36] [ENEMY] [Enemy3] Registered as sound listener
[00:18:36] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:18:36] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:18:36] [ENEMY] [Enemy4] Registered as sound listener
[00:18:36] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:18:36] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:18:36] [ENEMY] [Enemy5] Registered as sound listener
[00:18:36] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:18:36] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:18:36] [ENEMY] [Enemy6] Registered as sound listener
[00:18:36] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:18:36] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:18:36] [ENEMY] [Enemy7] Registered as sound listener
[00:18:36] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:18:36] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:18:36] [ENEMY] [Enemy8] Registered as sound listener
[00:18:36] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:18:36] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:18:36] [ENEMY] [Enemy9] Registered as sound listener
[00:18:36] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:18:36] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:18:36] [ENEMY] [Enemy10] Registered as sound listener
[00:18:36] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:18:36] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:18:36] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:18:36] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:18:36] [INFO] [LastChance] Found player: Player
[00:18:36] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:18:36] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:18:36] [INFO] [LastChance] Connected to player Died signal (C#)
[00:18:36] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:18:36] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:18:36] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:18:36] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:18:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1065.205, 1464.203), source=ENEMY (Enemy10), range=1469, listeners=19
[00:18:37] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:18:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:18:37] [INFO] [LastChance] Threat detected: Bullet
[00:18:37] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1036.366, 1440.503), source=ENEMY (Enemy10), range=1469, listeners=10
[00:18:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:18:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(755.5587, 1193.775), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:37] [ENEMY] [Enemy3] Heard gunshot at (755.5587, 1193.775), source_type=0, intensity=0.01, distance=447
[00:18:37] [ENEMY] [Enemy4] Heard gunshot at (755.5587, 1193.775), source_type=0, intensity=0.03, distance=297
[00:18:37] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:18:37] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:18:37] [INFO] [LastChance] Threat detected: @Area2D@6595
[00:18:37] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(790.4869, 1202.398), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:37] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:18:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(755.5587, 1193.7747), shooter_id=7190362459115, bullet_pos=(996.4988, 1399.2632)
[00:18:37] [INFO] [Bullet] Using shooter_position, distance=316,66647
[00:18:37] [INFO] [Bullet] Distance to wall: 316,66647 (21,562403% of viewport)
[00:18:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(755.5587, 1193.7747), shooter_id=7190362459115, bullet_pos=(992.4041, 1402.1327)
[00:18:37] [INFO] [Bullet] Using shooter_position, distance=315,45016
[00:18:37] [INFO] [Bullet] Distance to wall: 315,45016 (21,479584% of viewport)
[00:18:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:37] [INFO] [LastChance] Threat detected: @Area2D@6596
[00:18:37] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(790.48694, 1202.3976), shooter_id=7190362459115, bullet_pos=(990.7871, 1390.8247)
[00:18:37] [INFO] [Bullet] Using shooter_position, distance=274,99988
[00:18:37] [INFO] [Bullet] Distance to wall: 274,99988 (18,725248% of viewport)
[00:18:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(819.387, 1225.574), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:37] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:18:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(980.4691, 1401.566), shooter_id=7189540374087, bullet_pos=(543.1425, 1015.53)
[00:18:37] [INFO] [Bullet] Using shooter_position, distance=583.33349609375
[00:18:37] [INFO] [Bullet] Distance to wall: 583.33349609375 (39.7202504047384% of viewport)
[00:18:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:18:37] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:18:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(790.48694, 1202.3976), shooter_id=7190362459115, bullet_pos=(898.66766, 1453.1989)
[00:18:37] [INFO] [Bullet] Using shooter_position, distance=273,13797
[00:18:37] [INFO] [Bullet] Distance to wall: 273,13797 (18,598467% of viewport)
[00:18:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:37] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[00:18:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(819.38696, 1225.5736), shooter_id=7190362459115, bullet_pos=(986.42896, 1400.2155)
[00:18:37] [INFO] [Bullet] Using shooter_position, distance=241,66672
[00:18:37] [INFO] [Bullet] Distance to wall: 241,66672 (16,455532% of viewport)
[00:18:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:37] [INFO] [Bullet] Starting wall penetration at (986.42896, 1400.2155)
[00:18:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(842.7215, 1248.908), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:37] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:18:37] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:18:37] [INFO] [Bullet] Exiting penetration at (1012.9253, 1427.9172) after traveling 33,333336 pixels through wall
[00:18:37] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1007.095, 1428.682), shooter_id=7189540374087, bullet_pos=(41.95508, 674.276)
[00:18:38] [INFO] [Bullet] Using shooter_position, distance=1224.99951171875
[00:18:38] [INFO] [Bullet] Distance to wall: 1224.99951171875 (83.4124693284047% of viewport)
[00:18:38] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[00:18:38] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[00:18:38] [ENEMY] [Enemy10] Hit taken, health: 3/4
[00:18:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(867.8566, 1273.208), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:38] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:18:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(790.48694, 1202.3976), shooter_id=7190362459115, bullet_pos=(1160.0823, 1634.4149)
[00:18:38] [INFO] [Bullet] Using shooter_position, distance=568,54175
[00:18:38] [INFO] [Bullet] Distance to wall: 568,54175 (38,713055% of viewport)
[00:18:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:38] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:18:38] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:18:38] [ENEMY] [Enemy10] Hit taken, health: 2/4
[00:18:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(980.4691, 1401.566), shooter_id=7189540374087, bullet_pos=(51.33685, 1428.971)
[00:18:38] [INFO] [Bullet] Using shooter_position, distance=929.536254882813
[00:18:38] [INFO] [Bullet] Distance to wall: 929.536254882813 (63.2938328614242% of viewport)
[00:18:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1007.095, 1428.682), shooter_id=7189540374087, bullet_pos=(322.5682, 473.5738)
[00:18:38] [INFO] [Bullet] Using shooter_position, distance=1175.07824707031
[00:18:38] [INFO] [Bullet] Distance to wall: 1175.07824707031 (80.0132386213814% of viewport)
[00:18:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(896.9919, 1287.849), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:38] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:18:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(896.99194, 1287.8489), shooter_id=7190362459115, bullet_pos=(984.53076, 1377.0789)
[00:18:38] [INFO] [Bullet] Using shooter_position, distance=125,00014
[00:18:38] [INFO] [Bullet] Distance to wall: 125,00014 (8,51149% of viewport)
[00:18:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:38] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:18:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(896.99194, 1287.8489), shooter_id=7190362459115, bullet_pos=(907.95715, 1467.2966)
[00:18:38] [INFO] [Bullet] Using shooter_position, distance=179,78246
[00:18:38] [INFO] [Bullet] Distance to wall: 179,78246 (12,241718% of viewport)
[00:18:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(980.4691, 1401.566), shooter_id=7189540374087, bullet_pos=(198.9375, 1594.462)
[00:18:38] [INFO] [Bullet] Using shooter_position, distance=804.984924316406
[00:18:38] [INFO] [Bullet] Distance to wall: 804.984924316406 (54.812903733456% of viewport)
[00:18:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(790.48694, 1202.3976), shooter_id=7190362459115, bullet_pos=(1484.0796, 1410.3176)
[00:18:38] [INFO] [Bullet] Using shooter_position, distance=724,0867
[00:18:38] [INFO] [Bullet] Distance to wall: 724,0867 (49,304394% of viewport)
[00:18:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(980.4691, 1401.566), shooter_id=7189540374087, bullet_pos=(331.4538, 1406.256)
[00:18:38] [INFO] [Bullet] Using shooter_position, distance=649.0322265625
[00:18:38] [INFO] [Bullet] Distance to wall: 649.0322265625 (44.1937977716682% of viewport)
[00:18:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(980.4691, 1401.566), shooter_id=7189540374087, bullet_pos=(478.7046, 1584.503)
[00:18:38] [INFO] [Bullet] Using shooter_position, distance=534.072570800781
[00:18:38] [INFO] [Bullet] Distance to wall: 534.072570800781 (36.3659834186859% of viewport)
[00:18:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:38] [INFO] [Bullet] Starting wall penetration at (478.7046, 1584.503)
[00:18:38] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:18:38] [INFO] [Bullet] Exiting penetration at (492.9711, 1601.772) after traveling 17.4002075195313 pixels through wall
[00:18:38] [INFO] [Bullet] Damage multiplier after penetration: 0.05625
[00:18:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(896.99194, 1287.8489), shooter_id=7190362459115, bullet_pos=(1430.1177, 2073.0598)
[00:18:38] [INFO] [Bullet] Using shooter_position, distance=949,09393
[00:18:38] [INFO] [Bullet] Distance to wall: 949,09393 (64,62556% of viewport)
[00:18:39] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:18:39] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:18:40] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1710.1627, 920.5482)
[00:18:40] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:18:40] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:18:40] [INFO] [Player.Grenade] Timer started, grenade created at (1248.596, 1049.7577)
[00:18:40] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:18:40] [INFO] [Player.Grenade] Step 1 complete! Drag: (162.67114, 13.314087)
[00:18:40] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:18:40] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:18:40] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:18:40] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:18:40] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:18:40] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:18:41] [ENEMY] [Enemy8] State: IDLE -> COMBAT
[00:18:41] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:18:41] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1002.2218, -2254.2632) (2467,0 px/s), Swing distance: 414,4
[00:18:41] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,1524508
[00:18:41] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1002.222, -2254.263), Swing: 414.4, Transfer: 1.00, Final speed: 1300.2
[00:18:41] [INFO] [Player.Grenade] Thrown! Velocity: 2467,0, Swing: 414,4
[00:18:41] [INFO] [Player.Grenade] State reset to IDLE
[00:18:41] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[00:18:41] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[00:18:41] [INFO] [Player.Grenade] Player rotation restored to 0
[00:18:41] [INFO] [GrenadeBase] Collision detected with Room4_WallTop (type: StaticBody2D)
[00:18:41] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:18:41] [ENEMY] [Enemy8] State: COMBAT -> PURSUING
[00:18:41] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:18:41] [INFO] [GrenadeBase] Collision detected with Table2 (type: StaticBody2D)
[00:18:41] [INFO] [GrenadeBase] Collision detected with Enemy7 (type: CharacterBody2D)
[00:18:41] [INFO] [GrenadeBase] Grenade landed at (1579.47, 900.9802)
[00:18:42] [ENEMY] [Enemy4] FLANKING started: target=(1171.667, 850.0902), side=right, pos=(866.0151, 963.2697)
[00:18:42] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[00:18:42] [ENEMY] [Enemy10] FLANKING started: target=(1034.26, 1054.41), side=right, pos=(1047.183, 1424.496)
[00:18:42] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:18:43] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:18:43] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:18:43] [ENEMY] [Enemy1] Death animation component initialized
[00:18:43] [ENEMY] [Enemy2] Death animation component initialized
[00:18:43] [ENEMY] [Enemy3] Death animation component initialized
[00:18:43] [ENEMY] [Enemy4] Death animation component initialized
[00:18:43] [ENEMY] [Enemy5] Death animation component initialized
[00:18:43] [ENEMY] [Enemy6] Death animation component initialized
[00:18:43] [ENEMY] [Enemy7] Death animation component initialized
[00:18:43] [ENEMY] [Enemy8] Death animation component initialized
[00:18:43] [ENEMY] [Enemy9] Death animation component initialized
[00:18:43] [ENEMY] [Enemy10] Death animation component initialized
[00:18:43] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:18:43] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:18:43] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:18:43] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:18:43] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:18:43] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:18:43] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:18:43] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:18:43] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:18:43] [INFO] [ScoreManager] Level started with 10 enemies
[00:18:43] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:18:43] [ENEMY] [Enemy1] Registered as sound listener
[00:18:43] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:18:43] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:18:43] [ENEMY] [Enemy2] Registered as sound listener
[00:18:43] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:18:43] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:18:43] [ENEMY] [Enemy3] Registered as sound listener
[00:18:43] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:18:43] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:18:43] [ENEMY] [Enemy4] Registered as sound listener
[00:18:43] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:18:43] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:18:43] [ENEMY] [Enemy5] Registered as sound listener
[00:18:43] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:18:43] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:18:43] [ENEMY] [Enemy6] Registered as sound listener
[00:18:43] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:18:43] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:18:43] [ENEMY] [Enemy7] Registered as sound listener
[00:18:43] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:18:43] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:18:43] [ENEMY] [Enemy8] Registered as sound listener
[00:18:43] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:18:43] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:18:43] [ENEMY] [Enemy9] Registered as sound listener
[00:18:43] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:18:43] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:18:43] [ENEMY] [Enemy10] Registered as sound listener
[00:18:43] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:18:43] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:18:43] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:18:43] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:18:43] [INFO] [LastChance] Found player: Player
[00:18:43] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:18:43] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:18:43] [INFO] [LastChance] Connected to player Died signal (C#)
[00:18:43] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:18:43] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:18:43] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:18:44] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:18:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:18:44] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:18:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:18:45] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:18:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=7614322706486, bullet_pos=(41.69983, 702.3934)
[00:18:45] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:18:45] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:18:45] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:18:45] [INFO] [Bullet] Penetration failed (distance roll)
[00:18:45] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:18:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(459.8001, 734.0685), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:45] [ENEMY] [Enemy1] Heard gunshot at (459.8001, 734.0685), source_type=0, intensity=0.01, distance=416
[00:18:45] [ENEMY] [Enemy2] Heard gunshot at (459.8001, 734.0685), source_type=0, intensity=0.07, distance=194
[00:18:45] [ENEMY] [Enemy4] Heard gunshot at (459.8001, 734.0685), source_type=0, intensity=0.02, distance=379
[00:18:45] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:18:45] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:18:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(482.2296, 734.2817), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:45] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:18:45] [ENEMY] [Enemy3] Hit taken, health: 1/3
[00:18:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:18:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:18:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(507.7011, 743.6618), source=PLAYER (AssaultRifle), range=1469, listeners=10
[00:18:45] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[00:18:45] [INFO] [LastChance] Threat detected: Bullet
[00:18:45] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:45] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:18:46] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:18:46] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:18:46] [ENEMY] [Enemy3] Hit taken, health: 0/3
[00:18:46] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:18:46] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:18:46] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:18:46] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:18:46] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[00:18:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(530.8495, 765.54), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:18:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[00:18:46] [ENEMY] [Enemy4] Hit taken, health: 3/4
[00:18:46] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[00:18:46] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:18:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(784.0673, 809.7803), source=ENEMY (Enemy4), range=1469, listeners=9
[00:18:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:18:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(716.6055, 817.5345), shooter_id=7612611429955, bullet_pos=(716.6055, 817.5345)
[00:18:46] [INFO] [Bullet] Using shooter_position, distance=0
[00:18:46] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[00:18:46] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[00:18:46] [INFO] [Bullet] Starting wall penetration at (716.6055, 817.5345)
[00:18:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 1.72784471511841
[00:18:46] [INFO] [LastChance] Threat detected: Bullet
[00:18:46] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:46] [INFO] [Bullet] Max penetration distance exceeded: 66.6666717529297 >= 48
[00:18:46] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:46] [INFO] [Bullet] Exiting penetration at (644.9388, 817.4874) after traveling 66.6666717529297 pixels through wall
[00:18:46] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:18:46] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:18:46] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[00:18:46] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[00:18:46] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:18:46] [ENEMY] [Enemy3] Ragdoll activated
[00:18:46] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:18:46] [ENEMY] [Enemy10] FLANKING started: target=(744.1392, 866.9123), side=left, pos=(1022.668, 1432.257)
[00:18:46] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:18:47] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[00:18:47] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[00:18:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(794.1765, 985.2004), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:18:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[00:18:47] [ENEMY] [Enemy3] Death animation completed
[00:18:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(827.662, 981.0614), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:18:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[00:18:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(856.0044, 964.5054), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:18:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[00:18:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(879.7761, 939.2803), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:18:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[00:18:48] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:18:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(794.17645, 985.2004), shooter_id=7615144791146, bullet_pos=(720.5367, 63.136173)
[00:18:48] [INFO] [Bullet] Using shooter_position, distance=925,0001
[00:18:48] [INFO] [Bullet] Distance to wall: 925,0001 (62,984962% of viewport)
[00:18:48] [ENEMY] [Enemy4] Hit taken, health: 2/4
[00:18:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(892.7546, 914.6178), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:18:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[00:18:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(827.66205, 981.0614), shooter_id=7615144791146, bullet_pos=(762.6179, 58.350647)
[00:18:48] [INFO] [Bullet] Using shooter_position, distance=925,0005
[00:18:48] [INFO] [Bullet] Distance to wall: 925,0005 (62,984985% of viewport)
[00:18:48] [INFO] [Bullet] Distance-based penetration chance: 73,18419%
[00:18:48] [INFO] [Bullet] Starting wall penetration at (762.6179, 58.350647)
[00:18:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11,917298
[00:18:48] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:48] [INFO] [Bullet] Exiting penetration at (759.9224, 20.112198) after traveling 33,333336 pixels through wall
[00:18:48] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(893.5664, 896.1085), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:18:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[00:18:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(856.0044, 964.50543), shooter_id=7615144791146, bullet_pos=(799.74225, 41.21822)
[00:18:48] [INFO] [Bullet] Using shooter_position, distance=924,9999
[00:18:48] [INFO] [Bullet] Distance to wall: 924,9999 (62,984943% of viewport)
[00:18:48] [INFO] [Bullet] Distance-based penetration chance: 73,184235%
[00:18:48] [INFO] [Bullet] Starting wall penetration at (799.74225, 41.21822)
[00:18:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,098013
[00:18:48] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:48] [INFO] [Bullet] Exiting penetration at (797.41064, 2.9558601) after traveling 33,333332 pixels through wall
[00:18:48] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(893.5664, 896.10846), shooter_id=7615144791146, bullet_pos=(908.6918, 638.2185)
[00:18:48] [INFO] [Bullet] Using shooter_position, distance=258,33313
[00:18:48] [INFO] [Bullet] Distance to wall: 258,33313 (17,590378% of viewport)
[00:18:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:48] [INFO] [Bullet] Starting wall penetration at (908.6918, 638.2185)
[00:18:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(882.2349, 883.8406), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:18:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[00:18:48] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:18:48] [INFO] [Bullet] Exiting penetration at (910.93616, 599.951) after traveling 33,333332 pixels through wall
[00:18:48] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:48] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[00:18:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(892.75464, 914.6178), shooter_id=7615144791146, bullet_pos=(884.5082, 56.324192)
[00:18:48] [INFO] [Bullet] Using shooter_position, distance=858,3332
[00:18:48] [INFO] [Bullet] Distance to wall: 858,3332 (58,445488% of viewport)
[00:18:48] [INFO] [Bullet] Distance-based penetration chance: 78,48026%
[00:18:48] [INFO] [Bullet] Starting wall penetration at (884.5082, 56.324192)
[00:18:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,00802
[00:18:48] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:48] [INFO] [Bullet] Exiting penetration at (884.1399, 17.992626) after traveling 33,333336 pixels through wall
[00:18:48] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:48] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[00:18:48] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:18:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(882.23486, 883.8406), shooter_id=7615144791146, bullet_pos=(747.60846, 36.13064)
[00:18:48] [INFO] [Bullet] Using shooter_position, distance=858,3335
[00:18:48] [INFO] [Bullet] Distance to wall: 858,3335 (58,445507% of viewport)
[00:18:48] [INFO] [Bullet] Distance-based penetration chance: 78,48024%
[00:18:48] [INFO] [Bullet] Starting wall penetration at (747.60846, 36.13064)
[00:18:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34,15093
[00:18:48] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:48] [INFO] [Bullet] Exiting penetration at (741.596, -1.7282448) after traveling 33,333336 pixels through wall
[00:18:48] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:49] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:18:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(692.1829, 768.6907), source=ENEMY (Enemy4), range=1469, listeners=9
[00:18:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[00:18:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(749.4084, 809.9326), shooter_id=7612611429955, bullet_pos=(749.4084, 809.9326)
[00:18:49] [INFO] [Bullet] Using shooter_position, distance=0
[00:18:49] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[00:18:49] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[00:18:49] [INFO] [Bullet] Starting wall penetration at (749.4084, 809.9326)
[00:18:49] [INFO] [LastChance] Threat detected: Bullet
[00:18:49] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:49] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27.350830078125
[00:18:49] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:49] [INFO] [Bullet] Exiting penetration at (786.3774, 820.0685) after traveling 33.3333320617676 pixels through wall
[00:18:49] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:18:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(692.1829, 768.6907), source=ENEMY (Enemy4), range=1469, listeners=9
[00:18:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[00:18:49] [INFO] [LastChance] Threat detected: Bullet
[00:18:49] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:49] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[00:18:49] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[00:18:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(839.8078, 805.8159), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:18:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[00:18:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(839.8078, 805.8159), shooter_id=7615144791146, bullet_pos=(748.2346, 809.9545)
[00:18:49] [INFO] [Bullet] Using shooter_position, distance=91,66666
[00:18:49] [INFO] [Bullet] Distance to wall: 91,66666 (6,2417517% of viewport)
[00:18:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:49] [ENEMY] [Enemy4] Hit taken, health: 1/4
[00:18:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(868.6091, 791.2172), source=PLAYER (AssaultRifle), range=1469, listeners=9
[00:18:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[00:18:49] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[00:18:49] [ENEMY] [Enemy4] Hit taken, health: 0/4
[00:18:49] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[00:18:49] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:18:49] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[00:18:49] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:18:49] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[00:18:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9331, 789.5054), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[00:18:49] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:18:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.7342, 800.3274), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[00:18:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(886.9842, 818.9495), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[00:18:50] [ENEMY] [Enemy2] Hit taken, health: 2/3
[00:18:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.9331, 789.50543), shooter_id=7615144791146, bullet_pos=(38.1303, 759.3265)
[00:18:50] [INFO] [Bullet] Using shooter_position, distance=858,3335
[00:18:50] [INFO] [Bullet] Distance to wall: 858,3335 (58,445507% of viewport)
[00:18:50] [INFO] [Bullet] Distance-based penetration chance: 78,48024%
[00:18:50] [INFO] [Bullet] Penetration failed (distance roll)
[00:18:50] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:18:50] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:18:50] [ENEMY] [Enemy4] Ragdoll activated
[00:18:50] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:18:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(886.9842, 818.94946), shooter_id=7615144791146, bullet_pos=(63.864906, 476.10242)
[00:18:50] [INFO] [Bullet] Using shooter_position, distance=891,6666
[00:18:50] [INFO] [Bullet] Distance to wall: 891,6666 (60,71522% of viewport)
[00:18:50] [INFO] [Bullet] Distance-based penetration chance: 75,832245%
[00:18:50] [INFO] [Bullet] Penetration failed (distance roll)
[00:18:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(589.0195, 780.2748), source=ENEMY (Enemy2), range=1469, listeners=8
[00:18:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[00:18:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(589.0195, 780.2748), source=ENEMY (Enemy2), range=1469, listeners=8
[00:18:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[00:18:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(865.2549, 802.4949), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[00:18:51] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[00:18:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(865.25494, 802.49493), shooter_id=7615144791146, bullet_pos=(742.1648, 824.26227)
[00:18:51] [INFO] [Bullet] Using shooter_position, distance=125,00001
[00:18:51] [INFO] [Bullet] Distance to wall: 125,00001 (8,51148% of viewport)
[00:18:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:51] [INFO] [Bullet] Starting wall penetration at (742.1648, 824.26227)
[00:18:51] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[00:18:51] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:18:51] [INFO] [Bullet] Exiting penetration at (704.4172, 830.93756) after traveling 33,333332 pixels through wall
[00:18:51] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(888.2595, 779.4904), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[00:18:51] [ENEMY] [Enemy4] Death animation completed
[00:18:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(888.25946, 779.4904), shooter_id=7615144791146, bullet_pos=(739.9962, 835.05536)
[00:18:51] [INFO] [Bullet] Using shooter_position, distance=158,33336
[00:18:51] [INFO] [Bullet] Distance to wall: 158,33336 (10,78121% of viewport)
[00:18:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:51] [INFO] [Bullet] Starting wall penetration at (739.9962, 835.05536)
[00:18:51] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:18:51] [INFO] [Bullet] Exiting penetration at (704.1009, 848.50793) after traveling 33,333332 pixels through wall
[00:18:51] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9335, 765.0304), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[00:18:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.93353, 765.0304), shooter_id=7615144791146, bullet_pos=(745.1677, 813.3949)
[00:18:51] [INFO] [Bullet] Using shooter_position, distance=158,33336
[00:18:51] [INFO] [Bullet] Distance to wall: 158,33336 (10,78121% of viewport)
[00:18:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9335, 763.6979), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[00:18:51] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[00:18:51] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:18:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.93353, 765.0304), shooter_id=7615144791146, bullet_pos=(446.8221, 707.24506)
[00:18:52] [INFO] [Bullet] Using shooter_position, distance=452,81366
[00:18:52] [INFO] [Bullet] Distance to wall: 452,81366 (30,832916% of viewport)
[00:18:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9335, 776.0187), source=PLAYER (AssaultRifle), range=1469, listeners=8
[00:18:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[00:18:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(589.3226, 657.2943), source=ENEMY (Enemy1), range=1469, listeners=8
[00:18:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[00:18:52] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[00:18:52] [INFO] [LastChance] Threat detected: @Area2D@6925
[00:18:52] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.93353, 765.0304), shooter_id=7615144791146, bullet_pos=(64.39386, 921.7935)
[00:18:52] [INFO] [Bullet] Using shooter_position, distance=846,1873
[00:18:52] [INFO] [Bullet] Distance to wall: 846,1873 (57,61845% of viewport)
[00:18:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(581.1441, 669.1396), source=ENEMY (Enemy1), range=1469, listeners=8
[00:18:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[00:18:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(647.2193, 692.8839), shooter_id=7611755792418, bullet_pos=(919.1353, 819.6183)
[00:18:52] [INFO] [Bullet] Using shooter_position, distance=299.999908447266
[00:18:52] [INFO] [Bullet] Distance to wall: 299.999908447266 (20.4275454173626% of viewport)
[00:18:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:52] [INFO] [Bullet] Starting wall penetration at (919.1353, 819.6183)
[00:18:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19.7268123626709
[00:18:52] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:52] [INFO] [Bullet] Exiting penetration at (953.8801, 835.8122) after traveling 33.3333320617676 pixels through wall
[00:18:52] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:18:52] [INFO] [LastChance] Threat detected: @Area2D@6927
[00:18:52] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.93353, 776.0187), shooter_id=7615144791146, bullet_pos=(37.665268, 765.42413)
[00:18:52] [INFO] [Bullet] Using shooter_position, distance=858,3336
[00:18:52] [INFO] [Bullet] Distance to wall: 858,3336 (58,445515% of viewport)
[00:18:52] [INFO] [Bullet] Distance-based penetration chance: 78,48024%
[00:18:52] [INFO] [Bullet] Starting wall penetration at (37.665268, 765.42413)
[00:18:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(559.9268, 680.1268), source=ENEMY (Enemy1), range=1469, listeners=8
[00:18:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[00:18:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32,667633
[00:18:52] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:52] [INFO] [Bullet] Exiting penetration at (-0.6651459, 764.951) after traveling 33,333336 pixels through wall
[00:18:52] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:18:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(637.2481, 707.5927), shooter_id=7611755792418, bullet_pos=(910.3545, 831.742)
[00:18:52] [INFO] [Bullet] Using shooter_position, distance=300.000274658203
[00:18:52] [INFO] [Bullet] Distance to wall: 300.000274658203 (20.4275703533387% of viewport)
[00:18:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:52] [INFO] [Bullet] Starting wall penetration at (910.3545, 831.742)
[00:18:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10.1624183654785
[00:18:52] [INFO] [Bullet] Body exited signal received for penetrating body
[00:18:52] [INFO] [Bullet] Exiting penetration at (945.2514, 847.6055) after traveling 33.3333358764648 pixels through wall
[00:18:52] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:18:52] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[00:18:52] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[00:18:52] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[00:18:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(614.8771, 720.2224), shooter_id=7611755792418, bullet_pos=(916.0459, 863.0807)
[00:18:52] [INFO] [Bullet] Using shooter_position, distance=333.333374023438
[00:18:52] [INFO] [Bullet] Distance to wall: 333.333374023438 (22.6972823832825% of viewport)
[00:18:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:52] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[00:18:52] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:18:52] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[00:18:52] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:18:52] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:18:52] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (755.12036, 763.28955)
[00:18:52] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:18:52] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:18:52] [INFO] [Player.Grenade] Timer started, grenade created at (872.0415, 918.91064)
[00:18:52] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:18:52] [INFO] [Player.Grenade] Step 1 complete! Drag: (397.63013, 70.34546)
[00:18:52] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:18:52] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:18:52] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[00:18:52] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:18:52] [ENEMY] [Enemy10] FLANKING timeout (5.0s), target=(932.5002, 730.385), pos=(1655.359, 751.9337)
[00:18:52] [ENEMY] [Enemy10] State: FLANKING -> PURSUING
[00:18:52] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:18:52] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:18:53] [INFO] [GrenadeBase] Grenade landed at (870.9697, 918.5515)
[00:18:53] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:18:53] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:18:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(534.0926, 686.5806), source=ENEMY (Enemy1), range=1469, listeners=8
[00:18:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[00:18:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(534.0926, 686.5806), source=ENEMY (Enemy1), range=1469, listeners=8
[00:18:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[00:18:53] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[00:18:53] [INFO] [LastChance] Threat detected: Bullet
[00:18:53] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(534.0926, 686.5806), source=ENEMY (Enemy1), range=1469, listeners=8
[00:18:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[00:18:53] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:18:53] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:18:53] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:18:53] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:18:53] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:18:53] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:18:53] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:18:53] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:18:53] [INFO] [PenultimateHit] Applying saturation to 8 enemies
[00:18:53] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:18:53] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:18:53] [INFO] [LastChance] Threat detected: @Area2D@6933
[00:18:53] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:53] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[00:18:53] [INFO] [LastChance] Threat detected: @Area2D@6934
[00:18:53] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:53] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:18:53] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (-6050.332, -2204.857) (6439,6 px/s), Swing distance: 757,1
[00:18:53] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -2,7921305
[00:18:53] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (-6050.332, -2204.857), Swing: 757.1, Transfer: 1.00, Final speed: 1352.8
[00:18:53] [INFO] [Player.Grenade] Thrown! Velocity: 6439,6, Swing: 757,1
[00:18:53] [INFO] [Player.Grenade] State reset to IDLE
[00:18:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(551.9967, 719.3155), source=ENEMY (Enemy1), range=1469, listeners=8
[00:18:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[00:18:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(591.3691, 721.1063), shooter_id=7611755792418, bullet_pos=(909.9581, 866.0242)
[00:18:54] [INFO] [Bullet] Using shooter_position, distance=350.000274658203
[00:18:54] [INFO] [Bullet] Distance to wall: 350.000274658203 (23.8321622952315% of viewport)
[00:18:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:18:54] [INFO] [Bullet] Starting wall penetration at (909.9581, 866.0242)
[00:18:54] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:18:54] [INFO] [Bullet] Exiting penetration at (918.3021, 869.8196) after traveling 4.16666650772095 pixels through wall
[00:18:54] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:18:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(557.2187, 750.7568), source=ENEMY (Enemy1), range=1469, listeners=8
[00:18:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[00:18:55] [INFO] [Player.Grenade] Player rotation restored to 0
[00:18:55] [INFO] [LastChance] Threat detected: Bullet
[00:18:55] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:55] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:18:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.2396, 781.6931), source=ENEMY (Enemy1), range=1469, listeners=8
[00:18:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[00:18:56] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:18:56] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:18:56] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:18:56] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:18:56] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:18:56] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:18:56] [INFO] [LastChance] Player died
[00:18:56] [INFO] [LastChance] Threat detected: @Area2D@6936
[00:18:56] [INFO] [LastChance] Not in hard mode - effect disabled
[00:18:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:18:56] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:18:56] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[00:18:56] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[00:18:56] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:18:56] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:18:56] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:18:56] [ENEMY] [Enemy1] Death animation component initialized
[00:18:56] [ENEMY] [Enemy2] Death animation component initialized
[00:18:56] [ENEMY] [Enemy3] Death animation component initialized
[00:18:56] [ENEMY] [Enemy4] Death animation component initialized
[00:18:56] [ENEMY] [Enemy5] Death animation component initialized
[00:18:56] [ENEMY] [Enemy6] Death animation component initialized
[00:18:56] [ENEMY] [Enemy7] Death animation component initialized
[00:18:56] [ENEMY] [Enemy8] Death animation component initialized
[00:18:56] [ENEMY] [Enemy9] Death animation component initialized
[00:18:56] [ENEMY] [Enemy10] Death animation component initialized
[00:18:56] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:18:56] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:18:56] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:18:56] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:18:56] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:18:56] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:18:56] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:18:56] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:18:56] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:18:56] [INFO] [ScoreManager] Level started with 10 enemies
[00:18:56] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[00:18:56] [ENEMY] [Enemy1] Registered as sound listener
[00:18:56] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:18:56] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[00:18:56] [ENEMY] [Enemy2] Registered as sound listener
[00:18:56] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:18:56] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[00:18:56] [ENEMY] [Enemy3] Registered as sound listener
[00:18:56] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:18:56] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[00:18:56] [ENEMY] [Enemy4] Registered as sound listener
[00:18:56] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:18:56] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[00:18:56] [ENEMY] [Enemy5] Registered as sound listener
[00:18:56] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:18:56] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[00:18:56] [ENEMY] [Enemy6] Registered as sound listener
[00:18:56] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:18:56] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[00:18:56] [ENEMY] [Enemy7] Registered as sound listener
[00:18:56] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:18:56] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[00:18:56] [ENEMY] [Enemy8] Registered as sound listener
[00:18:56] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:18:56] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[00:18:56] [ENEMY] [Enemy9] Registered as sound listener
[00:18:56] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:18:56] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[00:18:56] [ENEMY] [Enemy10] Registered as sound listener
[00:18:56] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:18:56] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:18:56] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:18:56] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:18:56] [INFO] [LastChance] Found player: Player
[00:18:56] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:18:56] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:18:56] [INFO] [LastChance] Connected to player Died signal (C#)
[00:18:56] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:18:56] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:18:56] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:18:59] [INFO] [PauseMenu] Armory button pressed
[00:18:59] [INFO] [PauseMenu] Creating new armory menu instance
[00:18:59] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[00:18:59] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[00:18:59] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[00:18:59] [INFO] [PauseMenu] back_pressed signal exists on instance
[00:18:59] [INFO] [PauseMenu] back_pressed signal connected
[00:18:59] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[00:18:59] [INFO] [PauseMenu] _populate_weapon_grid method exists
[00:19:01] [INFO] [GrenadeManager] Grenade type changed from Flashbang to Frag Grenade
[00:19:01] [INFO] [GrenadeManager] Restarting level due to grenade type change
[00:19:01] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:19:01] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:19:01] [ENEMY] [Enemy1] Death animation component initialized
[00:19:01] [ENEMY] [Enemy2] Death animation component initialized
[00:19:01] [ENEMY] [Enemy3] Death animation component initialized
[00:19:01] [ENEMY] [Enemy4] Death animation component initialized
[00:19:01] [ENEMY] [Enemy5] Death animation component initialized
[00:19:01] [ENEMY] [Enemy6] Death animation component initialized
[00:19:01] [ENEMY] [Enemy7] Death animation component initialized
[00:19:01] [ENEMY] [Enemy8] Death animation component initialized
[00:19:01] [ENEMY] [Enemy9] Death animation component initialized
[00:19:01] [ENEMY] [Enemy10] Death animation component initialized
[00:19:01] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:19:01] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:19:01] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:19:01] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:19:01] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:19:01] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:19:01] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:19:01] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:19:01] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:19:01] [INFO] [ScoreManager] Level started with 10 enemies
[00:19:01] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 19)
[00:19:01] [ENEMY] [Enemy1] Registered as sound listener
[00:19:01] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:19:01] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 20)
[00:19:01] [ENEMY] [Enemy2] Registered as sound listener
[00:19:01] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:19:01] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 21)
[00:19:01] [ENEMY] [Enemy3] Registered as sound listener
[00:19:01] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:19:01] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 22)
[00:19:01] [ENEMY] [Enemy4] Registered as sound listener
[00:19:01] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:19:01] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 23)
[00:19:01] [ENEMY] [Enemy5] Registered as sound listener
[00:19:01] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:19:01] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 24)
[00:19:01] [ENEMY] [Enemy6] Registered as sound listener
[00:19:01] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:19:01] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 25)
[00:19:01] [ENEMY] [Enemy7] Registered as sound listener
[00:19:01] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:19:01] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 26)
[00:19:01] [ENEMY] [Enemy8] Registered as sound listener
[00:19:01] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:19:01] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 27)
[00:19:01] [ENEMY] [Enemy9] Registered as sound listener
[00:19:01] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:19:01] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 28)
[00:19:01] [ENEMY] [Enemy10] Registered as sound listener
[00:19:01] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:19:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=28
[00:19:01] [INFO] [SoundPropagation] Cleaned up 18 invalid listeners
[00:19:01] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[00:19:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[00:19:01] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:19:01] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:19:01] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:19:01] [INFO] [LastChance] Found player: Player
[00:19:01] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:19:01] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:19:01] [INFO] [LastChance] Connected to player Died signal (C#)
[00:19:01] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:19:01] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:19:01] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:19:02] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:19:02] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:19:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=8504907664602, bullet_pos=(2475.0002, 1256)
[00:19:02] [INFO] [Bullet] Using shooter_position, distance=2025,0002
[00:19:02] [INFO] [Bullet] Distance to wall: 2025,0002 (137,886% of viewport)
[00:19:02] [INFO] [Bullet] Distance-based penetration chance: 22,4228%
[00:19:02] [INFO] [Bullet] Penetration failed (distance roll)
[00:19:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:19:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:19:02] [ENEMY] [Enemy1] Death animation component initialized
[00:19:02] [ENEMY] [Enemy2] Death animation component initialized
[00:19:02] [ENEMY] [Enemy3] Death animation component initialized
[00:19:02] [ENEMY] [Enemy4] Death animation component initialized
[00:19:02] [ENEMY] [Enemy5] Death animation component initialized
[00:19:02] [ENEMY] [Enemy6] Death animation component initialized
[00:19:02] [ENEMY] [Enemy7] Death animation component initialized
[00:19:02] [ENEMY] [Enemy8] Death animation component initialized
[00:19:02] [ENEMY] [Enemy9] Death animation component initialized
[00:19:02] [ENEMY] [Enemy10] Death animation component initialized
[00:19:02] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:19:02] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:19:02] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:19:02] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:19:02] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:19:02] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:19:02] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:19:02] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:19:02] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:19:02] [INFO] [ScoreManager] Level started with 10 enemies
[00:19:02] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:19:02] [ENEMY] [Enemy1] Registered as sound listener
[00:19:02] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:19:02] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:19:02] [ENEMY] [Enemy2] Registered as sound listener
[00:19:02] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:19:02] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:19:02] [ENEMY] [Enemy3] Registered as sound listener
[00:19:02] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:19:02] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:19:02] [ENEMY] [Enemy4] Registered as sound listener
[00:19:02] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:19:02] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:19:02] [ENEMY] [Enemy5] Registered as sound listener
[00:19:02] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:19:02] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:19:02] [ENEMY] [Enemy6] Registered as sound listener
[00:19:02] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:19:02] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:19:02] [ENEMY] [Enemy7] Registered as sound listener
[00:19:02] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:19:02] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:19:02] [ENEMY] [Enemy8] Registered as sound listener
[00:19:02] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:19:02] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:19:02] [ENEMY] [Enemy9] Registered as sound listener
[00:19:02] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:19:02] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:19:02] [ENEMY] [Enemy10] Registered as sound listener
[00:19:02] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:19:02] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:19:02] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:19:02] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:19:02] [INFO] [LastChance] Found player: Player
[00:19:02] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:19:02] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:19:02] [INFO] [LastChance] Connected to player Died signal (C#)
[00:19:02] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:19:02] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:19:02] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:19:02] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:19:02] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:19:02] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:19:03] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (696.00714, 1079.7775)
[00:19:03] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:19:03] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:19:03] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:19:03] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1094.6666)
[00:19:03] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:19:03] [INFO] [Player.Grenade] Step 1 complete! Drag: (251.61292, -15.43103)
[00:19:03] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:19:03] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:19:03] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:19:03] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:19:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:19:03] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:19:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:19:03] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:19:03] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:19:03] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:19:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=8565204976978, bullet_pos=(41.69983, 702.3934)
[00:19:03] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:19:03] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:19:03] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:19:03] [INFO] [Bullet] Penetration failed (distance roll)
[00:19:03] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:19:04] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:19:04] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2835.728, -310.22372) (2852,6 px/s), Swing distance: 468,2
[00:19:04] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,10896495
[00:19:04] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2835.728, -310.2237), Swing: 468.2, Transfer: 1.00, Final speed: 1186.5
[00:19:04] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:19:04] [INFO] [Player.Grenade] Thrown! Velocity: 2852,6, Swing: 468,2
[00:19:04] [INFO] [Player.Grenade] State reset to IDLE
[00:19:04] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[00:19:04] [INFO] [FragGrenade] Non-wall collision (body: Enemy3, type: CharacterBody2D) - not triggering explosion
[00:19:04] [INFO] [Player.Grenade] Player rotation restored to 0
[00:19:04] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:19:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:19:04] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:19:04] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:19:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:19:04] [INFO] [LastChance] Threat detected: Bullet
[00:19:04] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:19:04] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:19:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:19:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:19:04] [INFO] [LastChance] Threat detected: Bullet
[00:19:04] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(620.0042, 775.0584), shooter_id=8563208489043, bullet_pos=(497.598, 800.3907)
[00:19:04] [INFO] [Bullet] Using shooter_position, distance=125
[00:19:04] [INFO] [Bullet] Distance to wall: 125 (8.51147985473193% of viewport)
[00:19:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:19:04] [INFO] [Bullet] Starting wall penetration at (497.598, 800.3907)
[00:19:04] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:19:04] [INFO] [Bullet] Exiting penetration at (451.8997, 809.8481) after traveling 41.6666679382324 pixels through wall
[00:19:04] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:19:04] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:19:04] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:19:04] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:19:04] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:19:05] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:19:05] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:19:05] [ENEMY] [Enemy1] Death animation component initialized
[00:19:05] [ENEMY] [Enemy2] Death animation component initialized
[00:19:05] [ENEMY] [Enemy3] Death animation component initialized
[00:19:05] [ENEMY] [Enemy4] Death animation component initialized
[00:19:05] [ENEMY] [Enemy5] Death animation component initialized
[00:19:05] [ENEMY] [Enemy6] Death animation component initialized
[00:19:05] [ENEMY] [Enemy7] Death animation component initialized
[00:19:05] [ENEMY] [Enemy8] Death animation component initialized
[00:19:05] [ENEMY] [Enemy9] Death animation component initialized
[00:19:05] [ENEMY] [Enemy10] Death animation component initialized
[00:19:05] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:19:05] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:19:05] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:19:05] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:19:05] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:19:05] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:19:05] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:19:05] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:19:05] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:19:05] [INFO] [ScoreManager] Level started with 10 enemies
[00:19:05] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:19:05] [ENEMY] [Enemy1] Registered as sound listener
[00:19:05] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:19:05] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:19:05] [ENEMY] [Enemy2] Registered as sound listener
[00:19:05] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:19:05] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:19:05] [ENEMY] [Enemy3] Registered as sound listener
[00:19:05] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:19:05] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:19:05] [ENEMY] [Enemy4] Registered as sound listener
[00:19:05] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:19:05] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:19:05] [ENEMY] [Enemy5] Registered as sound listener
[00:19:05] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:19:05] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:19:05] [ENEMY] [Enemy6] Registered as sound listener
[00:19:05] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:19:05] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:19:05] [ENEMY] [Enemy7] Registered as sound listener
[00:19:05] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:19:05] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:19:05] [ENEMY] [Enemy8] Registered as sound listener
[00:19:05] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:19:05] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:19:05] [ENEMY] [Enemy9] Registered as sound listener
[00:19:05] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:19:05] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:19:05] [ENEMY] [Enemy10] Registered as sound listener
[00:19:05] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:19:05] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:19:05] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:19:05] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:19:05] [INFO] [LastChance] Found player: Player
[00:19:05] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:19:05] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:19:05] [INFO] [LastChance] Connected to player Died signal (C#)
[00:19:05] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:19:05] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:19:05] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:19:05] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:19:05] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:19:05] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1234.8853, 1298.385)
[00:19:05] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:19:05] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:19:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:19:06] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:19:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:19:06] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:19:06] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:19:06] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:19:06] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:19:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=8720578774572, bullet_pos=(41.69983, 702.3934)
[00:19:06] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:19:06] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:19:06] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1219.1896, 974.9966)
[00:19:06] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:19:06] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:19:06] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:19:06] [INFO] [Player.Grenade] Timer started, grenade created at (450, 894.4444)
[00:19:06] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:19:06] [INFO] [Player.Grenade] Step 1 complete! Drag: (60.79724, 49.04297)
[00:19:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=8720578774572, bullet_pos=(318.1918, 473.1492)
[00:19:06] [INFO] [Bullet] Using shooter_position, distance=1178.97900390625
[00:19:06] [INFO] [Bullet] Distance to wall: 1178.97900390625 (80.2788483271997% of viewport)
[00:19:06] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:19:06] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:19:06] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:19:07] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:19:07] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:19:07] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:19:07] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:19:07] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:19:07] [ENEMY] [Enemy10] FLANKING started: target=(647.4736, 696.3183), side=left, pos=(1022.668, 1432.257)
[00:19:07] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:19:07] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:19:07] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (436.20148, 376.3282) (576,1 px/s), Swing distance: 178,6
[00:19:07] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,7118436
[00:19:07] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (436.2015, 376.3282), Swing: 178.6, Transfer: 0.72, Final speed: 195.9
[00:19:07] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:19:07] [INFO] [Player.Grenade] Thrown! Velocity: 576,1, Swing: 178,6
[00:19:07] [INFO] [Player.Grenade] State reset to IDLE
[00:19:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4765, 753.8722), source=ENEMY (Enemy3), range=1469, listeners=10
[00:19:08] [ENEMY] [Enemy2] Heard gunshot at (684.4765, 753.8722), source_type=1, intensity=0.02, distance=350
[00:19:08] [ENEMY] [Enemy4] Heard gunshot at (684.4765, 753.8722), source_type=1, intensity=0.07, distance=186
[00:19:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:19:08] [INFO] [Player.Grenade] Player rotation restored to 0
[00:19:08] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:19:08] [INFO] [LastChance] Threat detected: Bullet
[00:19:08] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:08] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:19:08] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:19:08] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:19:08] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:19:08] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:19:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4765, 753.8722), source=ENEMY (Enemy3), range=1469, listeners=10
[00:19:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:19:08] [INFO] [GrenadeBase] Collision detected with Room2_WallLeft (type: StaticBody2D)
[00:19:08] [INFO] [FragGrenade] Wall impact detected! Body: Room2_WallLeft, triggering explosion
[00:19:08] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:19:08] [INFO] [GrenadeBase] EXPLODED at (524.5393, 791.9623)!
[00:19:08] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(524.5393, 791.9623), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:19:08] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:19:08] [ENEMY] [Enemy3] Hit taken, health: 3/4
[00:19:08] [ENEMY] [Enemy3] Hit taken, health: 2/4
[00:19:08] [ENEMY] [Enemy3] Hit taken, health: 1/4
[00:19:08] [ENEMY] [Enemy3] Hit taken, health: 0/4
[00:19:08] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:19:08] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:19:08] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:19:08] [INFO] [DeathAnim] Started - Angle: -13.4 deg, Index: 11
[00:19:08] [ENEMY] [Enemy3] Death animation started with hit direction: (0.972793, -0.231677)
[00:19:08] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 164.4
[00:19:08] [INFO] [FragGrenade] Player found in blast radius at distance 74.6
[00:19:08] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:19:08] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:19:08] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:19:08] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:19:08] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:19:08] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:19:08] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:19:08] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:19:08] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:19:08] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:19:08] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:19:08] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:19:08] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:19:08] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:19:08] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:19:08] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:19:08] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:19:08] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:19:08] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:19:08] [INFO] [LastChance] Player died
[00:19:08] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 74.6
[00:19:08] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -1.6 degrees
[00:19:08] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 87.6 degrees
[00:19:08] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 185.7 degrees
[00:19:08] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 278.3 degrees
[00:19:08] [INFO] [LastChance] Threat detected: Bullet
[00:19:08] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:08] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:19:08] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:19:08] [ENEMY] [Enemy4] Hit taken, health: 2/3
[00:19:08] [ENEMY] [Enemy3] Ragdoll activated
[00:19:08] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:19:08] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:19:08] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:19:08] [ENEMY] [Enemy1] Death animation component initialized
[00:19:08] [ENEMY] [Enemy2] Death animation component initialized
[00:19:08] [ENEMY] [Enemy3] Death animation component initialized
[00:19:08] [ENEMY] [Enemy4] Death animation component initialized
[00:19:08] [ENEMY] [Enemy5] Death animation component initialized
[00:19:08] [ENEMY] [Enemy6] Death animation component initialized
[00:19:08] [ENEMY] [Enemy7] Death animation component initialized
[00:19:08] [ENEMY] [Enemy8] Death animation component initialized
[00:19:08] [ENEMY] [Enemy9] Death animation component initialized
[00:19:08] [ENEMY] [Enemy10] Death animation component initialized
[00:19:08] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:19:08] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:19:08] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:19:08] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:19:08] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:19:08] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:19:08] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:19:08] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:19:08] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:19:08] [INFO] [ScoreManager] Level started with 10 enemies
[00:19:08] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:19:08] [ENEMY] [Enemy1] Registered as sound listener
[00:19:08] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:19:08] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:19:08] [ENEMY] [Enemy2] Registered as sound listener
[00:19:08] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:19:08] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:19:08] [ENEMY] [Enemy3] Registered as sound listener
[00:19:08] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:19:08] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:19:08] [ENEMY] [Enemy4] Registered as sound listener
[00:19:08] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:19:08] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:19:08] [ENEMY] [Enemy5] Registered as sound listener
[00:19:08] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:19:08] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:19:08] [ENEMY] [Enemy6] Registered as sound listener
[00:19:08] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:19:08] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:19:08] [ENEMY] [Enemy7] Registered as sound listener
[00:19:08] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:19:08] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:19:08] [ENEMY] [Enemy8] Registered as sound listener
[00:19:08] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:19:08] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:19:08] [ENEMY] [Enemy9] Registered as sound listener
[00:19:08] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:19:08] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:19:08] [ENEMY] [Enemy10] Registered as sound listener
[00:19:08] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:19:08] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:19:08] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:19:08] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:19:08] [INFO] [LastChance] Found player: Player
[00:19:08] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:19:08] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:19:08] [INFO] [LastChance] Connected to player Died signal (C#)
[00:19:08] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:19:08] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:19:08] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:19:09] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:19:09] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:19:09] [ENEMY] [Enemy1] Death animation component initialized
[00:19:09] [ENEMY] [Enemy2] Death animation component initialized
[00:19:09] [ENEMY] [Enemy3] Death animation component initialized
[00:19:09] [ENEMY] [Enemy4] Death animation component initialized
[00:19:09] [ENEMY] [Enemy5] Death animation component initialized
[00:19:09] [ENEMY] [Enemy6] Death animation component initialized
[00:19:09] [ENEMY] [Enemy7] Death animation component initialized
[00:19:09] [ENEMY] [Enemy8] Death animation component initialized
[00:19:09] [ENEMY] [Enemy9] Death animation component initialized
[00:19:09] [ENEMY] [Enemy10] Death animation component initialized
[00:19:09] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:19:09] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:19:09] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:19:09] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:19:09] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:19:09] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:19:09] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:19:09] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:19:09] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:19:09] [INFO] [ScoreManager] Level started with 10 enemies
[00:19:09] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[00:19:09] [ENEMY] [Enemy1] Registered as sound listener
[00:19:09] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:19:09] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[00:19:09] [ENEMY] [Enemy2] Registered as sound listener
[00:19:09] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:19:09] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[00:19:09] [ENEMY] [Enemy3] Registered as sound listener
[00:19:09] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:19:09] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[00:19:09] [ENEMY] [Enemy4] Registered as sound listener
[00:19:09] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:19:09] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[00:19:09] [ENEMY] [Enemy5] Registered as sound listener
[00:19:09] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:19:09] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[00:19:09] [ENEMY] [Enemy6] Registered as sound listener
[00:19:09] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:19:09] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[00:19:09] [ENEMY] [Enemy7] Registered as sound listener
[00:19:09] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:19:09] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[00:19:09] [ENEMY] [Enemy8] Registered as sound listener
[00:19:09] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:19:09] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[00:19:09] [ENEMY] [Enemy9] Registered as sound listener
[00:19:09] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:19:09] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[00:19:09] [ENEMY] [Enemy10] Registered as sound listener
[00:19:09] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:19:09] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:19:09] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:19:09] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:19:09] [INFO] [LastChance] Found player: Player
[00:19:09] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:19:09] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:19:09] [INFO] [LastChance] Connected to player Died signal (C#)
[00:19:09] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:19:09] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:19:09] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:19:09] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:19:09] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:19:09] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (958.0583, 1422.5588)
[00:19:09] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:19:09] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:19:09] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:19:09] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1171.6666)
[00:19:09] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:19:09] [INFO] [Player.Grenade] Step 1 complete! Drag: (312.08026, 8.701172)
[00:19:09] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:19:09] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:19:09] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:19:09] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:19:09] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:19:10] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:19:10] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:19:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=29
[00:19:10] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[00:19:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:19:10] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:19:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=8971180051425, bullet_pos=(41.69983, 702.3934)
[00:19:10] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:19:10] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:19:10] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:19:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=8971180051425, bullet_pos=(514.4033, 449.1833)
[00:19:10] [INFO] [Bullet] Using shooter_position, distance=1097.80126953125
[00:19:10] [INFO] [Bullet] Distance to wall: 1097.80126953125 (74.7513071209149% of viewport)
[00:19:10] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:19:10] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.055200912, 391.55402) (391,6 px/s), Swing distance: 401,5
[00:19:10] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,5706553
[00:19:10] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.055201, 391.554), Swing: 401.5, Transfer: 1.00, Final speed: 184.6
[00:19:10] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:19:10] [INFO] [Player.Grenade] Thrown! Velocity: 391,6, Swing: 401,5
[00:19:10] [INFO] [Player.Grenade] State reset to IDLE
[00:19:11] [ENEMY] [Enemy1] Hit taken, health: 1/2
[00:19:11] [INFO] [Player.Grenade] Player rotation restored to 0
[00:19:11] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:19:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:19:11] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:19:11] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:19:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:19:11] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:19:11] [INFO] [LastChance] Threat detected: Bullet
[00:19:11] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:11] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:19:11] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:19:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:19:11] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:19:11] [INFO] [GrenadeBase] Grenade landed at (450.0137, 835.3013)
[00:19:11] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:19:11] [INFO] [GrenadeBase] EXPLODED at (450.0137, 835.3013)!
[00:19:11] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450.0137, 835.3013), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:19:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:19:11] [INFO] [FragGrenade] Player found in blast radius at distance 72.2
[00:19:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:19:11] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:19:11] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:19:11] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:19:11] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:19:11] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:19:11] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:19:11] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:19:11] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:19:11] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:19:11] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:19:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:19:11] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:19:11] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:19:11] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:19:11] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:19:11] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:19:11] [INFO] [LastChance] Player died
[00:19:11] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 72.2
[00:19:11] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 13.6 degrees
[00:19:11] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 76.1 degrees
[00:19:11] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 165.4 degrees
[00:19:11] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 269.0 degrees
[00:19:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:19:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:19:11] [INFO] [LastChance] Threat detected: Bullet
[00:19:11] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:11] [ENEMY] [Enemy4] Hit taken, health: 2/3
[00:19:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:19:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:19:11] [INFO] [LastChance] Threat detected: Bullet
[00:19:11] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:11] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:19:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:19:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:19:11] [ENEMY] [Enemy1] Death animation component initialized
[00:19:11] [ENEMY] [Enemy2] Death animation component initialized
[00:19:11] [ENEMY] [Enemy3] Death animation component initialized
[00:19:11] [ENEMY] [Enemy4] Death animation component initialized
[00:19:11] [ENEMY] [Enemy5] Death animation component initialized
[00:19:11] [ENEMY] [Enemy6] Death animation component initialized
[00:19:11] [ENEMY] [Enemy7] Death animation component initialized
[00:19:11] [ENEMY] [Enemy8] Death animation component initialized
[00:19:11] [ENEMY] [Enemy9] Death animation component initialized
[00:19:11] [ENEMY] [Enemy10] Death animation component initialized
[00:19:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:19:11] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:19:11] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:19:11] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:19:11] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:19:11] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:19:11] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:19:11] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:19:11] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:19:11] [INFO] [ScoreManager] Level started with 10 enemies
[00:19:11] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:19:11] [ENEMY] [Enemy1] Registered as sound listener
[00:19:11] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:19:11] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:19:11] [ENEMY] [Enemy2] Registered as sound listener
[00:19:11] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:19:11] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:19:11] [ENEMY] [Enemy3] Registered as sound listener
[00:19:11] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:19:11] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:19:11] [ENEMY] [Enemy4] Registered as sound listener
[00:19:11] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:19:11] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:19:11] [ENEMY] [Enemy5] Registered as sound listener
[00:19:11] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:19:11] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:19:11] [ENEMY] [Enemy6] Registered as sound listener
[00:19:11] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:19:11] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:19:11] [ENEMY] [Enemy7] Registered as sound listener
[00:19:11] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:19:11] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:19:11] [ENEMY] [Enemy8] Registered as sound listener
[00:19:11] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:19:11] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:19:11] [ENEMY] [Enemy9] Registered as sound listener
[00:19:11] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:19:11] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:19:11] [ENEMY] [Enemy10] Registered as sound listener
[00:19:11] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:19:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:19:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:19:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:19:11] [INFO] [LastChance] Found player: Player
[00:19:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:19:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:19:11] [INFO] [LastChance] Connected to player Died signal (C#)
[00:19:11] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:19:11] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:19:11] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:19:11] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:19:11] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:19:12] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (675.6678, 1529.1837)
[00:19:12] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:19:12] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:19:12] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:19:12] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:19:12] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:19:12] [INFO] [Player.Grenade] Step 1 complete! Drag: (292.90723, 14.693848)
[00:19:12] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:19:12] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:19:12] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:19:12] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:19:12] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:19:12] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:19:12] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:19:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:19:13] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:19:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:19:13] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:19:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=9127241713359, bullet_pos=(41.69983, 702.3934)
[00:19:13] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:19:13] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:19:13] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:19:13] [INFO] [Bullet] Starting wall penetration at (41.69983, 702.3934)
[00:19:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.508674621582
[00:19:13] [INFO] [Bullet] Body exited signal received for penetrating body
[00:19:13] [INFO] [Bullet] Exiting penetration at (4.46851, 674.2579) after traveling 41.6666717529297 pixels through wall
[00:19:13] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:19:13] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:19:14] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:19:14] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1369.5204, -1385.7905) (1948,3 px/s), Swing distance: 708,0
[00:19:14] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,7913031
[00:19:14] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1369.52, -1385.791), Swing: 708.0, Transfer: 1.00, Final speed: 918.5
[00:19:14] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:19:14] [INFO] [Player.Grenade] Thrown! Velocity: 1948,3, Swing: 708,0
[00:19:14] [INFO] [Player.Grenade] State reset to IDLE
[00:19:14] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:19:14] [INFO] [FragGrenade] Wall impact detected! Body: Room1_WallBottom, triggering explosion
[00:19:14] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:19:14] [INFO] [GrenadeBase] EXPLODED at (515.1041, 686.1343)!
[00:19:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(515.1041, 686.1343), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:19:14] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:19:14] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:19:14] [ENEMY] [Enemy2] Hit taken, health: 2/4
[00:19:14] [ENEMY] [Enemy2] Hit taken, health: 1/4
[00:19:14] [ENEMY] [Enemy2] Hit taken, health: 0/4
[00:19:14] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:19:14] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:19:14] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[00:19:14] [INFO] [DeathAnim] Started - Angle: -130.2 deg, Index: 3
[00:19:14] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.64566, -0.763625)
[00:19:14] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 178.3
[00:19:14] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:19:14] [ENEMY] [Enemy3] Hit taken, health: 1/3
[00:19:14] [ENEMY] [Enemy3] Hit taken, health: 0/3
[00:19:14] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:19:14] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:19:14] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 8)
[00:19:14] [INFO] [DeathAnim] Started - Angle: 21.8 deg, Index: 13
[00:19:14] [ENEMY] [Enemy3] Death animation started with hit direction: (0.928692, 0.370853)
[00:19:14] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 182.3
[00:19:14] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -10.2 degrees
[00:19:14] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 103.0 degrees
[00:19:14] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 164.1 degrees
[00:19:14] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 278.2 degrees
[00:19:14] [INFO] [Player.Grenade] Player rotation restored to 0
[00:19:14] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:19:14] [ENEMY] [Enemy2] Ragdoll activated
[00:19:14] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:19:14] [ENEMY] [Enemy3] Ragdoll activated
[00:19:14] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:19:14] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:19:14] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:19:14] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:19:14] [ENEMY] [Enemy1] Death animation component initialized
[00:19:14] [ENEMY] [Enemy2] Death animation component initialized
[00:19:14] [ENEMY] [Enemy3] Death animation component initialized
[00:19:14] [ENEMY] [Enemy4] Death animation component initialized
[00:19:14] [ENEMY] [Enemy5] Death animation component initialized
[00:19:14] [ENEMY] [Enemy6] Death animation component initialized
[00:19:14] [ENEMY] [Enemy7] Death animation component initialized
[00:19:14] [ENEMY] [Enemy8] Death animation component initialized
[00:19:14] [ENEMY] [Enemy9] Death animation component initialized
[00:19:14] [ENEMY] [Enemy10] Death animation component initialized
[00:19:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:19:14] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:19:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:19:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:19:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:19:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:19:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:19:14] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:19:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:19:14] [INFO] [ScoreManager] Level started with 10 enemies
[00:19:14] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[00:19:14] [ENEMY] [Enemy1] Registered as sound listener
[00:19:14] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:19:14] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[00:19:14] [ENEMY] [Enemy2] Registered as sound listener
[00:19:14] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:19:14] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[00:19:14] [ENEMY] [Enemy3] Registered as sound listener
[00:19:14] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:19:14] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[00:19:14] [ENEMY] [Enemy4] Registered as sound listener
[00:19:14] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:19:14] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[00:19:14] [ENEMY] [Enemy5] Registered as sound listener
[00:19:14] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:19:14] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[00:19:14] [ENEMY] [Enemy6] Registered as sound listener
[00:19:14] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:19:14] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[00:19:14] [ENEMY] [Enemy7] Registered as sound listener
[00:19:14] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:19:14] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[00:19:14] [ENEMY] [Enemy8] Registered as sound listener
[00:19:14] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:19:14] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[00:19:14] [ENEMY] [Enemy9] Registered as sound listener
[00:19:14] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:19:14] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[00:19:14] [ENEMY] [Enemy10] Registered as sound listener
[00:19:14] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:19:14] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:19:14] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:19:14] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:19:14] [INFO] [LastChance] Found player: Player
[00:19:14] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:19:14] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:19:14] [INFO] [LastChance] Connected to player Died signal (C#)
[00:19:14] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:19:14] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:19:14] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:19:15] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:19:15] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:19:15] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (930.211, 1502.3271)
[00:19:15] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:19:15] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:19:15] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:19:15] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:19:15] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1144.1666)
[00:19:15] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:19:15] [INFO] [Player.Grenade] Step 1 complete! Drag: (348.76227, -27.777344)
[00:19:15] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:19:15] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:19:16] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:19:16] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:19:16] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:19:16] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:19:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=18
[00:19:16] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[00:19:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:19:16] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:19:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=9310348249170, bullet_pos=(41.69983, 702.3934)
[00:19:16] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:19:16] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:19:16] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:19:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=9310348249170, bullet_pos=(502.4753, 428.076)
[00:19:16] [INFO] [Bullet] Using shooter_position, distance=1122.01586914063
[00:19:16] [INFO] [Bullet] Distance to wall: 1122.01586914063 (76.4001237350397% of viewport)
[00:19:16] [INFO] [Bullet] Distance-based penetration chance: 57.533188975787%
[00:19:16] [INFO] [Bullet] Starting wall penetration at (502.4753, 428.076)
[00:19:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15.3662185668945
[00:19:16] [INFO] [Bullet] Body exited signal received for penetrating body
[00:19:16] [INFO] [Bullet] Exiting penetration at (537.2035, 407.401) after traveling 35.4166717529297 pixels through wall
[00:19:16] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[00:19:17] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:19:17] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (392.9831, 20.82124) (393,5 px/s), Swing distance: 382,6
[00:19:17] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,052933037
[00:19:17] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (392.9831, 20.82124), Swing: 382.6, Transfer: 1.00, Final speed: 185.5
[00:19:17] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:19:17] [INFO] [Player.Grenade] Thrown! Velocity: 393,5, Swing: 382,6
[00:19:17] [INFO] [Player.Grenade] State reset to IDLE
[00:19:17] [INFO] [Player.Grenade] Player rotation restored to 0
[00:19:17] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:19:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:19:17] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:19:17] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:19:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:19:17] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:19:17] [INFO] [LastChance] Threat detected: Bullet
[00:19:17] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:17] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:19:17] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:19:17] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:19:17] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:19:17] [INFO] [GrenadeBase] Grenade landed at (546.7566, 749.7932)
[00:19:17] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:19:17] [INFO] [GrenadeBase] EXPLODED at (546.7566, 749.7932)!
[00:19:17] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(546.7566, 749.7932), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:19:17] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:19:17] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:19:17] [ENEMY] [Enemy3] Hit taken, health: 1/3
[00:19:17] [ENEMY] [Enemy3] Hit taken, health: 0/3
[00:19:17] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:19:17] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:19:17] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:19:17] [INFO] [DeathAnim] Started - Angle: 1.6 deg, Index: 12
[00:19:17] [ENEMY] [Enemy3] Death animation started with hit direction: (0.999586, 0.028785)
[00:19:17] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 137.7
[00:19:17] [INFO] [FragGrenade] Player found in blast radius at distance 98.5
[00:19:17] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:19:17] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:19:17] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:19:17] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:19:17] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:19:17] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:19:17] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:19:17] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:19:17] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:19:17] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:19:17] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:19:17] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:19:17] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:19:17] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:19:17] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:19:17] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:19:17] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:19:17] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:19:17] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:19:17] [INFO] [LastChance] Player died
[00:19:17] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 98.5
[00:19:17] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 5.0 degrees
[00:19:17] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 109.6 degrees
[00:19:17] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 170.3 degrees
[00:19:17] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 271.9 degrees
[00:19:17] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:19:17] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:19:17] [ENEMY] [Enemy3] Ragdoll activated
[00:19:17] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:19:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:19:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:19:17] [ENEMY] [Enemy1] Death animation component initialized
[00:19:17] [ENEMY] [Enemy2] Death animation component initialized
[00:19:17] [ENEMY] [Enemy3] Death animation component initialized
[00:19:17] [ENEMY] [Enemy4] Death animation component initialized
[00:19:17] [ENEMY] [Enemy5] Death animation component initialized
[00:19:17] [ENEMY] [Enemy6] Death animation component initialized
[00:19:17] [ENEMY] [Enemy7] Death animation component initialized
[00:19:17] [ENEMY] [Enemy8] Death animation component initialized
[00:19:17] [ENEMY] [Enemy9] Death animation component initialized
[00:19:17] [ENEMY] [Enemy10] Death animation component initialized
[00:19:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:19:17] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:19:17] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:19:17] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:19:17] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:19:17] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:19:17] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:19:17] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:19:17] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:19:17] [INFO] [ScoreManager] Level started with 10 enemies
[00:19:17] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:19:17] [ENEMY] [Enemy1] Registered as sound listener
[00:19:17] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:19:17] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:19:17] [ENEMY] [Enemy2] Registered as sound listener
[00:19:17] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:19:17] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:19:17] [ENEMY] [Enemy3] Registered as sound listener
[00:19:17] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:19:17] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:19:17] [ENEMY] [Enemy4] Registered as sound listener
[00:19:17] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:19:17] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:19:17] [ENEMY] [Enemy5] Registered as sound listener
[00:19:17] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:19:17] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:19:17] [ENEMY] [Enemy6] Registered as sound listener
[00:19:17] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:19:17] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:19:17] [ENEMY] [Enemy7] Registered as sound listener
[00:19:17] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:19:17] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:19:17] [ENEMY] [Enemy8] Registered as sound listener
[00:19:17] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:19:17] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:19:17] [ENEMY] [Enemy9] Registered as sound listener
[00:19:17] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:19:17] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:19:17] [ENEMY] [Enemy10] Registered as sound listener
[00:19:17] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:19:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:19:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:19:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:19:17] [INFO] [LastChance] Found player: Player
[00:19:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:19:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:19:17] [INFO] [LastChance] Connected to player Died signal (C#)
[00:19:17] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:19:17] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:19:17] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:19:18] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:19:18] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:19:18] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1089.7628, 1521.0283)
[00:19:18] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:19:18] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:19:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:19:19] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:19:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:19:19] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:19:19] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:19:19] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:19:19] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:19:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=9501272966526, bullet_pos=(41.69983, 702.3934)
[00:19:19] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:19:19] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:19:19] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:19:19] [INFO] [Bullet] Penetration failed (distance roll)
[00:19:19] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (897.17816, 1230.7511)
[00:19:19] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:19:19] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:19:19] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:19:19] [INFO] [Player.Grenade] Timer started, grenade created at (450, 877.9444)
[00:19:19] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:19:19] [INFO] [Player.Grenade] Step 1 complete! Drag: (287.2707, -4.7921143)
[00:19:19] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:19:19] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:19:19] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:19:19] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:19:20] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:19:20] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:19:20] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:19:20] [ENEMY] [Enemy10] FLANKING started: target=(646.2055, 738.8373), side=left, pos=(1022.668, 1432.257)
[00:19:20] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:19:20] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:19:20] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (41.75262, -249.07297) (252,5 px/s), Swing distance: 109,8
[00:19:20] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,4047085
[00:19:20] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (41.75262, -249.073), Swing: 109.8, Transfer: 0.44, Final speed: 52.8
[00:19:20] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:19:20] [INFO] [Player.Grenade] Thrown! Velocity: 252,5, Swing: 109,8
[00:19:20] [INFO] [Player.Grenade] State reset to IDLE
[00:19:20] [INFO] [GrenadeBase] Grenade landed at (459.9195, 668.9368)
[00:19:20] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:19:20] [INFO] [GrenadeBase] EXPLODED at (459.9195, 668.9368)!
[00:19:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(459.9195, 668.9368), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:19:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:19:20] [ENEMY] [Enemy2] Hit taken, health: 1/2
[00:19:20] [ENEMY] [Enemy2] Hit taken, health: 0/2
[00:19:20] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:19:20] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:19:20] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[00:19:20] [INFO] [DeathAnim] Started - Angle: -116.7 deg, Index: 4
[00:19:20] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.449922, -0.893068)
[00:19:20] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 133.2
[00:19:20] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -15.8 degrees
[00:19:20] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 86.7 degrees
[00:19:20] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 190.2 degrees
[00:19:20] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 272.0 degrees
[00:19:21] [INFO] [Player.Grenade] Player rotation restored to 0
[00:19:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4765, 753.8722), source=ENEMY (Enemy3), range=1469, listeners=9
[00:19:21] [ENEMY] [Enemy4] Heard gunshot at (684.4765, 753.8722), source_type=1, intensity=0.07, distance=186
[00:19:21] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:19:21] [INFO] [LastChance] Threat detected: Bullet
[00:19:21] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:21] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:19:21] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:19:21] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:19:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4765, 753.8722), source=ENEMY (Enemy3), range=1469, listeners=9
[00:19:21] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:19:21] [INFO] [LastChance] Threat detected: Bullet
[00:19:21] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:21] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:19:21] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:19:21] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:19:21] [ENEMY] [Enemy2] Ragdoll activated
[00:19:21] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:19:21] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:19:21] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:19:21] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:19:21] [ENEMY] [Enemy1] Death animation component initialized
[00:19:21] [ENEMY] [Enemy2] Death animation component initialized
[00:19:21] [ENEMY] [Enemy3] Death animation component initialized
[00:19:21] [ENEMY] [Enemy4] Death animation component initialized
[00:19:21] [ENEMY] [Enemy5] Death animation component initialized
[00:19:21] [ENEMY] [Enemy6] Death animation component initialized
[00:19:21] [ENEMY] [Enemy7] Death animation component initialized
[00:19:21] [ENEMY] [Enemy8] Death animation component initialized
[00:19:21] [ENEMY] [Enemy9] Death animation component initialized
[00:19:21] [ENEMY] [Enemy10] Death animation component initialized
[00:19:21] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:19:21] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:19:21] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:19:21] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:19:21] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:19:21] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:19:21] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:19:21] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:19:21] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:19:21] [INFO] [ScoreManager] Level started with 10 enemies
[00:19:21] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:19:21] [ENEMY] [Enemy1] Registered as sound listener
[00:19:21] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:19:21] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:19:21] [ENEMY] [Enemy2] Registered as sound listener
[00:19:21] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:19:21] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:19:21] [ENEMY] [Enemy3] Registered as sound listener
[00:19:21] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:19:21] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:19:21] [ENEMY] [Enemy4] Registered as sound listener
[00:19:21] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:19:21] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:19:21] [ENEMY] [Enemy5] Registered as sound listener
[00:19:21] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:19:21] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:19:21] [ENEMY] [Enemy6] Registered as sound listener
[00:19:21] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:19:21] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:19:21] [ENEMY] [Enemy7] Registered as sound listener
[00:19:21] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:19:21] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:19:21] [ENEMY] [Enemy8] Registered as sound listener
[00:19:21] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:19:21] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:19:21] [ENEMY] [Enemy9] Registered as sound listener
[00:19:21] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:19:21] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:19:21] [ENEMY] [Enemy10] Registered as sound listener
[00:19:21] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:19:21] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:19:21] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:19:21] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:19:21] [INFO] [LastChance] Found player: Player
[00:19:21] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:19:21] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:19:21] [INFO] [LastChance] Connected to player Died signal (C#)
[00:19:21] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:19:21] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:19:21] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:19:21] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:19:21] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:19:21] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1125.1394, 1541.5955)
[00:19:22] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:19:22] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:19:22] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:19:22] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1177.1666)
[00:19:22] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:19:22] [INFO] [Player.Grenade] Step 1 complete! Drag: (144.10266, -1.197876)
[00:19:22] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:19:22] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:19:22] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:19:22] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:19:22] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:19:22] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:19:22] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:19:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:19:22] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:19:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:19:22] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:19:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=9708874239160, bullet_pos=(41.69983, 702.3934)
[00:19:23] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:19:23] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:19:23] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:19:23] [INFO] [Bullet] Starting wall penetration at (41.69983, 702.3934)
[00:19:23] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.508674621582
[00:19:23] [INFO] [Bullet] Body exited signal received for penetrating body
[00:19:23] [INFO] [Bullet] Exiting penetration at (4.46851, 674.2579) after traveling 41.6666717529297 pixels through wall
[00:19:23] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:19:23] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:19:23] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:19:23] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1311.1156, -112.790726) (1316,0 px/s), Swing distance: 464,8
[00:19:23] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,08581526
[00:19:23] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1311.116, -112.7907), Swing: 464.8, Transfer: 1.00, Final speed: 620.3
[00:19:23] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:19:23] [INFO] [Player.Grenade] Thrown! Velocity: 1316,0, Swing: 464,8
[00:19:23] [INFO] [Player.Grenade] State reset to IDLE
[00:19:23] [INFO] [Player.Grenade] Player rotation restored to 0
[00:19:23] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:19:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:19:23] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:19:23] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:19:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:19:23] [INFO] [LastChance] Threat detected: Bullet
[00:19:23] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:19:23] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:19:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:19:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:19:23] [INFO] [LastChance] Threat detected: Bullet
[00:19:23] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:19:23] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:19:23] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:19:23] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:19:23] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:19:23] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:19:23] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:19:23] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:19:23] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:19:23] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:19:23] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:19:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:19:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:19:24] [INFO] [LastChance] Threat detected: Bullet
[00:19:24] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(619.7337, 774.7395), shooter_id=9706877748742, bullet_pos=(513.5295, 796.1152)
[00:19:24] [INFO] [Bullet] Using shooter_position, distance=108.334014892578
[00:19:24] [INFO] [Bullet] Distance to wall: 108.334014892578 (7.37666228272326% of viewport)
[00:19:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:19:24] [INFO] [Bullet] Starting wall penetration at (513.5295, 796.1152)
[00:19:24] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:19:24] [INFO] [Bullet] Exiting penetration at (504.543, 797.9239) after traveling 4.16666650772095 pixels through wall
[00:19:24] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:19:24] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:19:24] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:19:26] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:19:26] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[00:19:26] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:19:26] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:19:26] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:19:26] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:19:26] [ENEMY] [Enemy10] FLANKING started: target=(641.1154, 841.9359), side=left, pos=(1022.668, 1432.257)
[00:19:26] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:19:27] [INFO] [GrenadeBase] Grenade landed at (778.6042, 711.0646)
[00:19:27] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:19:27] [INFO] [GrenadeBase] EXPLODED at (778.6042, 711.0646)!
[00:19:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(778.6042, 711.0646), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:19:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:19:27] [ENEMY] [Enemy3] Hit taken, health: 1/2
[00:19:27] [ENEMY] [Enemy3] Hit taken, health: 0/2
[00:19:27] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:19:27] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:19:27] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:19:27] [INFO] [DeathAnim] Started - Angle: 155.6 deg, Index: 22
[00:19:27] [ENEMY] [Enemy3] Death animation started with hit direction: (-0.910746, 0.412966)
[00:19:27] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 103.4
[00:19:27] [ENEMY] [Enemy4] Hit taken, health: 2/3
[00:19:27] [ENEMY] [Enemy4] Hit taken, health: 1/3
[00:19:27] [ENEMY] [Enemy4] Hit taken, health: 0/3
[00:19:27] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[00:19:27] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:19:27] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[00:19:27] [INFO] [DeathAnim] Started - Angle: 88.3 deg, Index: 17
[00:19:27] [ENEMY] [Enemy4] Death animation started with hit direction: (0.029815, 0.999555)
[00:19:27] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 180.9
[00:19:27] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -19.2 degrees
[00:19:27] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 103.3 degrees
[00:19:27] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 188.9 degrees
[00:19:27] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 288.4 degrees
[00:19:27] [ENEMY] [Enemy3] Ragdoll activated
[00:19:27] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:19:27] [ENEMY] [Enemy4] Ragdoll activated
[00:19:27] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:19:28] [ENEMY] [Enemy3] Death animation completed
[00:19:28] [ENEMY] [Enemy4] Death animation completed
[00:19:28] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:19:28] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:19:28] [ENEMY] [Enemy1] Death animation component initialized
[00:19:28] [ENEMY] [Enemy2] Death animation component initialized
[00:19:28] [ENEMY] [Enemy3] Death animation component initialized
[00:19:28] [ENEMY] [Enemy4] Death animation component initialized
[00:19:28] [ENEMY] [Enemy5] Death animation component initialized
[00:19:28] [ENEMY] [Enemy6] Death animation component initialized
[00:19:28] [ENEMY] [Enemy7] Death animation component initialized
[00:19:28] [ENEMY] [Enemy8] Death animation component initialized
[00:19:28] [ENEMY] [Enemy9] Death animation component initialized
[00:19:28] [ENEMY] [Enemy10] Death animation component initialized
[00:19:28] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:19:28] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:19:28] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:19:28] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:19:28] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:19:28] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:19:28] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:19:28] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:19:28] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:19:28] [INFO] [ScoreManager] Level started with 10 enemies
[00:19:28] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[00:19:28] [ENEMY] [Enemy1] Registered as sound listener
[00:19:28] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:19:28] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[00:19:28] [ENEMY] [Enemy2] Registered as sound listener
[00:19:28] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:19:28] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[00:19:28] [ENEMY] [Enemy3] Registered as sound listener
[00:19:28] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:19:28] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[00:19:28] [ENEMY] [Enemy4] Registered as sound listener
[00:19:28] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:19:28] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[00:19:28] [ENEMY] [Enemy5] Registered as sound listener
[00:19:28] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:19:28] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[00:19:28] [ENEMY] [Enemy6] Registered as sound listener
[00:19:28] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:19:28] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[00:19:28] [ENEMY] [Enemy7] Registered as sound listener
[00:19:28] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:19:28] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[00:19:28] [ENEMY] [Enemy8] Registered as sound listener
[00:19:28] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:19:28] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[00:19:28] [ENEMY] [Enemy9] Registered as sound listener
[00:19:28] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:19:28] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[00:19:28] [ENEMY] [Enemy10] Registered as sound listener
[00:19:28] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:19:28] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:19:28] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:19:28] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:19:28] [INFO] [LastChance] Found player: Player
[00:19:28] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:19:28] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:19:28] [INFO] [LastChance] Connected to player Died signal (C#)
[00:19:28] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:19:28] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:19:28] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:19:28] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:19:28] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:19:29] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1192.3253, 1507.1428)
[00:19:29] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:19:29] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:19:29] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:19:29] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:19:29] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:19:29] [INFO] [Player.Grenade] Step 1 complete! Drag: (71.0531, 13.358154)
[00:19:29] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:19:29] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:19:29] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:19:29] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:19:29] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:19:29] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:19:29] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:19:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=18
[00:19:30] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[00:19:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:19:30] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:19:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=10101695974765, bullet_pos=(41.69983, 702.3934)
[00:19:30] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:19:30] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:19:30] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:19:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=10101695974765, bullet_pos=(499.9214, 423.8307)
[00:19:31] [INFO] [Bullet] Using shooter_position, distance=1126.95568847656
[00:19:31] [INFO] [Bullet] Distance to wall: 1126.95568847656 (76.7364851171505% of viewport)
[00:19:31] [INFO] [Bullet] Distance-based penetration chance: 57.1407673633245%
[00:19:31] [INFO] [Bullet] Starting wall penetration at (499.9214, 423.8307)
[00:19:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12.237850189209
[00:19:31] [INFO] [Bullet] Body exited signal received for penetrating body
[00:19:31] [INFO] [Bullet] Exiting penetration at (534.4572, 402.8357) after traveling 35.4166717529297 pixels through wall
[00:19:31] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[00:19:31] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:19:31] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (298.66302, -270.28745) (402,8 px/s), Swing distance: 480,4
[00:19:31] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,7355659
[00:19:31] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (298.663, -270.2874), Swing: 480.4, Transfer: 1.00, Final speed: 189.9
[00:19:31] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:19:31] [INFO] [Player.Grenade] Thrown! Velocity: 402,8, Swing: 480,4
[00:19:31] [INFO] [Player.Grenade] State reset to IDLE
[00:19:31] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:19:31] [INFO] [FragGrenade] Wall impact detected! Body: Room1_WallBottom, triggering explosion
[00:19:31] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:19:31] [INFO] [GrenadeBase] EXPLODED at (507.3043, 703.9839)!
[00:19:31] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(507.3043, 703.9839), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:19:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:19:31] [ENEMY] [Enemy3] Hit taken, health: 1/2
[00:19:31] [ENEMY] [Enemy3] Hit taken, health: 0/2
[00:19:31] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:19:31] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:19:31] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:19:31] [INFO] [DeathAnim] Started - Angle: 15.7 deg, Index: 13
[00:19:31] [ENEMY] [Enemy3] Death animation started with hit direction: (0.962718, 0.270507)
[00:19:31] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 184.0
[00:19:31] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -0.4 degrees
[00:19:31] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 99.7 degrees
[00:19:31] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 166.8 degrees
[00:19:31] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 263.1 degrees
[00:19:31] [INFO] [Player.Grenade] Player rotation restored to 0
[00:19:31] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:19:31] [ENEMY] [Enemy3] Ragdoll activated
[00:19:31] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:19:31] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:19:32] [ENEMY] [Enemy10] FLANKING started: target=(400.3267, 1065.566), side=right, pos=(1022.668, 1432.257)
[00:19:32] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:19:32] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:19:32] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:19:32] [ENEMY] [Enemy1] Death animation component initialized
[00:19:32] [ENEMY] [Enemy2] Death animation component initialized
[00:19:32] [ENEMY] [Enemy3] Death animation component initialized
[00:19:32] [ENEMY] [Enemy4] Death animation component initialized
[00:19:32] [ENEMY] [Enemy5] Death animation component initialized
[00:19:32] [ENEMY] [Enemy6] Death animation component initialized
[00:19:32] [ENEMY] [Enemy7] Death animation component initialized
[00:19:32] [ENEMY] [Enemy8] Death animation component initialized
[00:19:32] [ENEMY] [Enemy9] Death animation component initialized
[00:19:32] [ENEMY] [Enemy10] Death animation component initialized
[00:19:32] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:19:32] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:19:32] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:19:32] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:19:32] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:19:32] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:19:32] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:19:32] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:19:32] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:19:32] [INFO] [ScoreManager] Level started with 10 enemies
[00:19:32] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:19:32] [ENEMY] [Enemy1] Registered as sound listener
[00:19:32] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:19:32] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:19:32] [ENEMY] [Enemy2] Registered as sound listener
[00:19:32] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:19:32] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:19:32] [ENEMY] [Enemy3] Registered as sound listener
[00:19:32] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:19:32] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:19:32] [ENEMY] [Enemy4] Registered as sound listener
[00:19:32] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:19:32] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:19:32] [ENEMY] [Enemy5] Registered as sound listener
[00:19:32] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:19:32] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:19:32] [ENEMY] [Enemy6] Registered as sound listener
[00:19:32] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:19:32] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:19:32] [ENEMY] [Enemy7] Registered as sound listener
[00:19:32] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:19:32] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:19:32] [ENEMY] [Enemy8] Registered as sound listener
[00:19:32] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:19:32] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:19:32] [ENEMY] [Enemy9] Registered as sound listener
[00:19:32] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:19:32] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:19:32] [ENEMY] [Enemy10] Registered as sound listener
[00:19:32] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:19:32] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:19:32] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:19:32] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:19:32] [INFO] [LastChance] Found player: Player
[00:19:32] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:19:32] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:19:32] [INFO] [LastChance] Connected to player Died signal (C#)
[00:19:32] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:19:32] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:19:32] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:19:32] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:19:32] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:19:32] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (561.8797, 1609.332)
[00:19:32] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:19:32] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:19:32] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:19:32] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:19:32] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:19:32] [INFO] [Player.Grenade] Step 1 complete! Drag: (180.13177, 0)
[00:19:32] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:19:32] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:19:32] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:19:32] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:19:32] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:19:32] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:19:33] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:19:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:19:33] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:19:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:19:33] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:19:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=10296160685373, bullet_pos=(41.69983, 702.3934)
[00:19:34] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:19:34] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:19:34] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:19:34] [INFO] [Bullet] Penetration failed (distance roll)
[00:19:34] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:19:34] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:19:34] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (7.8641996, -1176.0685) (1176,1 px/s), Swing distance: 709,4
[00:19:34] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5641096
[00:19:34] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (7.8642, -1176.068), Swing: 709.4, Transfer: 1.00, Final speed: 554.4
[00:19:34] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:19:34] [INFO] [Player.Grenade] Thrown! Velocity: 1176,1, Swing: 709,4
[00:19:34] [INFO] [Player.Grenade] State reset to IDLE
[00:19:34] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:19:34] [INFO] [FragGrenade] Wall impact detected! Body: Room1_WallBottom, triggering explosion
[00:19:34] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:19:34] [INFO] [GrenadeBase] EXPLODED at (450.4614, 672.6682)!
[00:19:34] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450.4614, 672.6682), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:19:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:19:34] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:19:34] [ENEMY] [Enemy2] Hit taken, health: 2/4
[00:19:34] [ENEMY] [Enemy2] Hit taken, health: 1/4
[00:19:34] [ENEMY] [Enemy2] Hit taken, health: 0/4
[00:19:34] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:19:34] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:19:34] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[00:19:34] [INFO] [DeathAnim] Started - Angle: -112.4 deg, Index: 4
[00:19:34] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.380434, -0.924808)
[00:19:34] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 132.6
[00:19:34] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -13.7 degrees
[00:19:34] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 84.5 degrees
[00:19:34] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 198.9 degrees
[00:19:34] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 284.6 degrees
[00:19:34] [INFO] [Player.Grenade] Player rotation restored to 0
[00:19:34] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:19:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=9
[00:19:34] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:19:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:19:34] [INFO] [LastChance] Threat detected: Bullet
[00:19:34] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:34] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:19:34] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:19:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=9
[00:19:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:19:34] [INFO] [LastChance] Threat detected: Bullet
[00:19:34] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:34] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:19:34] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:19:34] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:19:34] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:19:34] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:19:34] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:19:34] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:19:34] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:19:34] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:19:34] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:19:34] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:19:35] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:19:35] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:19:35] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:19:35] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:19:35] [ENEMY] [Enemy1] Death animation component initialized
[00:19:35] [ENEMY] [Enemy2] Death animation component initialized
[00:19:35] [ENEMY] [Enemy3] Death animation component initialized
[00:19:35] [ENEMY] [Enemy4] Death animation component initialized
[00:19:35] [ENEMY] [Enemy5] Death animation component initialized
[00:19:35] [ENEMY] [Enemy6] Death animation component initialized
[00:19:35] [ENEMY] [Enemy7] Death animation component initialized
[00:19:35] [ENEMY] [Enemy8] Death animation component initialized
[00:19:35] [ENEMY] [Enemy9] Death animation component initialized
[00:19:35] [ENEMY] [Enemy10] Death animation component initialized
[00:19:35] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:19:35] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:19:35] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:19:35] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:19:35] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:19:35] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:19:35] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:19:35] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:19:35] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:19:35] [INFO] [ScoreManager] Level started with 10 enemies
[00:19:35] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:19:35] [ENEMY] [Enemy1] Registered as sound listener
[00:19:35] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:19:35] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:19:35] [ENEMY] [Enemy2] Registered as sound listener
[00:19:35] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:19:35] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:19:35] [ENEMY] [Enemy3] Registered as sound listener
[00:19:35] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:19:35] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:19:35] [ENEMY] [Enemy4] Registered as sound listener
[00:19:35] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:19:35] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:19:35] [ENEMY] [Enemy5] Registered as sound listener
[00:19:35] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:19:35] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:19:35] [ENEMY] [Enemy6] Registered as sound listener
[00:19:35] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:19:35] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:19:35] [ENEMY] [Enemy7] Registered as sound listener
[00:19:35] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:19:35] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:19:35] [ENEMY] [Enemy8] Registered as sound listener
[00:19:35] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:19:35] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:19:35] [ENEMY] [Enemy9] Registered as sound listener
[00:19:35] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:19:35] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:19:35] [ENEMY] [Enemy10] Registered as sound listener
[00:19:35] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:19:35] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:19:35] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:19:35] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:19:35] [INFO] [LastChance] Found player: Player
[00:19:35] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:19:35] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:19:35] [INFO] [LastChance] Connected to player Died signal (C#)
[00:19:35] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:19:35] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:19:35] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:19:35] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:19:35] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:19:35] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (637.2588, 1570.5938)
[00:19:35] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:19:35] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:19:35] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:19:35] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:19:35] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:19:35] [INFO] [Player.Grenade] Step 1 complete! Drag: (635.7783, 16.69751)
[00:19:35] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:19:35] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:19:35] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:19:35] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:19:36] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:19:36] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:19:36] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:19:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:19:36] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:19:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:19:36] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:19:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=10470744393845, bullet_pos=(41.69983, 702.3934)
[00:19:37] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:19:37] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:19:37] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:19:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=10470744393845, bullet_pos=(519.2186, 327.5254)
[00:19:37] [INFO] [Bullet] Using shooter_position, distance=1205.87219238281
[00:19:37] [INFO] [Bullet] Distance to wall: 1205.87219238281 (82.1100549827818% of viewport)
[00:19:37] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:19:37] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (110.03562, -57.60256) (124,2 px/s), Swing distance: 454,2
[00:19:37] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,4822626
[00:19:37] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (110.0356, -57.60256), Swing: 454.2, Transfer: 1.00, Final speed: 58.5
[00:19:37] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:19:37] [INFO] [Player.Grenade] Thrown! Velocity: 124,2, Swing: 454,2
[00:19:37] [INFO] [Player.Grenade] State reset to IDLE
[00:19:37] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:19:37] [INFO] [FragGrenade] Wall impact detected! Body: Room1_WallBottom, triggering explosion
[00:19:37] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:19:37] [INFO] [GrenadeBase] EXPLODED at (505.0362, 717.4404)!
[00:19:37] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(505.0362, 717.4404), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:19:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:19:37] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:19:37] [ENEMY] [Enemy3] Hit taken, health: 1/3
[00:19:37] [ENEMY] [Enemy3] Hit taken, health: 0/3
[00:19:37] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:19:37] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:19:37] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:19:37] [INFO] [DeathAnim] Started - Angle: 11.4 deg, Index: 12
[00:19:37] [ENEMY] [Enemy3] Death animation started with hit direction: (0.980121, 0.198403)
[00:19:37] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 183.1
[00:19:37] [INFO] [FragGrenade] Player found in blast radius at distance 61.2
[00:19:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:19:37] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:19:37] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:19:37] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:19:37] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:19:37] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:19:37] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:19:37] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:19:37] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:19:37] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:19:37] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:19:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:19:37] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:19:37] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:19:37] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:19:37] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:19:37] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:19:37] [INFO] [LastChance] Player died
[00:19:37] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 61.2
[00:19:37] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 12.0 degrees
[00:19:37] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 106.0 degrees
[00:19:37] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 199.7 degrees
[00:19:37] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 281.5 degrees
[00:19:37] [ENEMY] [Enemy4] Hit taken, health: 3/4
[00:19:37] [INFO] [Player.Grenade] Player rotation restored to 0
[00:19:37] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:19:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=10470744393845, bullet_pos=(80.06314, 55.13863)
[00:19:37] [INFO] [Bullet] Using shooter_position, distance=1658.18383789063
[00:19:37] [INFO] [Bullet] Distance to wall: 1658.18383789063 (112.908786653185% of viewport)
[00:19:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=10470744393845, bullet_pos=(53.19518, 69.75955)
[00:19:37] [INFO] [Bullet] Using shooter_position, distance=1661.3310546875
[00:19:37] [INFO] [Bullet] Distance to wall: 1661.3310546875 (113.123086432106% of viewport)
[00:19:37] [INFO] [Bullet] Distance-based penetration chance: 27.3753827135789%
[00:19:37] [INFO] [Bullet] Penetration failed (distance roll)
[00:19:38] [ENEMY] [Enemy3] Ragdoll activated
[00:19:38] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:19:38] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:19:38] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:19:38] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:19:38] [ENEMY] [Enemy1] Death animation component initialized
[00:19:38] [ENEMY] [Enemy2] Death animation component initialized
[00:19:38] [ENEMY] [Enemy3] Death animation component initialized
[00:19:38] [ENEMY] [Enemy4] Death animation component initialized
[00:19:38] [ENEMY] [Enemy5] Death animation component initialized
[00:19:38] [ENEMY] [Enemy6] Death animation component initialized
[00:19:38] [ENEMY] [Enemy7] Death animation component initialized
[00:19:38] [ENEMY] [Enemy8] Death animation component initialized
[00:19:38] [ENEMY] [Enemy9] Death animation component initialized
[00:19:38] [ENEMY] [Enemy10] Death animation component initialized
[00:19:38] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:19:38] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:19:38] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:19:38] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:19:38] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:19:38] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:19:38] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:19:38] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:19:38] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:19:38] [INFO] [ScoreManager] Level started with 10 enemies
[00:19:38] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:19:38] [ENEMY] [Enemy1] Registered as sound listener
[00:19:38] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:19:38] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:19:38] [ENEMY] [Enemy2] Registered as sound listener
[00:19:38] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:19:38] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:19:38] [ENEMY] [Enemy3] Registered as sound listener
[00:19:38] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:19:38] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:19:38] [ENEMY] [Enemy4] Registered as sound listener
[00:19:38] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:19:38] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:19:38] [ENEMY] [Enemy5] Registered as sound listener
[00:19:38] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:19:38] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:19:38] [ENEMY] [Enemy6] Registered as sound listener
[00:19:38] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:19:38] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:19:38] [ENEMY] [Enemy7] Registered as sound listener
[00:19:38] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:19:38] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:19:38] [ENEMY] [Enemy8] Registered as sound listener
[00:19:38] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:19:38] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:19:38] [ENEMY] [Enemy9] Registered as sound listener
[00:19:38] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:19:38] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:19:38] [ENEMY] [Enemy10] Registered as sound listener
[00:19:38] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:19:38] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:19:38] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:19:38] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:19:38] [INFO] [LastChance] Found player: Player
[00:19:38] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:19:38] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:19:38] [INFO] [LastChance] Connected to player Died signal (C#)
[00:19:38] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:19:38] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:19:38] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:19:39] [INFO] [Player.Debug] Debug mode toggled: ON
[00:19:39] [INFO] [GameManager] Debug mode toggled: ON
[00:19:40] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:19:40] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:19:40] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (976.7011, 1463.3002)
[00:19:40] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:19:40] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:19:40] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:19:40] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1041.1666)
[00:19:40] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:19:40] [INFO] [Player.Grenade] Step 1 complete! Drag: (303.29852, -50.139526)
[00:19:40] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:19:41] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:19:41] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:19:41] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:19:41] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:19:41] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:19:41] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:19:41] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:19:41] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:19:41] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:19:41] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (290.80164, -652.0513) (714,0 px/s), Swing distance: 277,4
[00:19:41] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,1512907
[00:19:41] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (290.8016, -652.0513), Swing: 277.4, Transfer: 1.00, Final speed: 336.6
[00:19:41] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:19:41] [INFO] [Player.Grenade] Thrown! Velocity: 714,0, Swing: 277,4
[00:19:41] [INFO] [Player.Grenade] State reset to IDLE
[00:19:41] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:19:41] [INFO] [FragGrenade] Wall impact detected! Body: Room1_WallBottom, triggering explosion
[00:19:41] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:19:41] [INFO] [GrenadeBase] EXPLODED at (476.6503, 677.8434)!
[00:19:41] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(476.6503, 677.8434), source=NEUTRAL (FragGrenade), range=2937, listeners=19
[00:19:41] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:19:41] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:19:41] [ENEMY] [Enemy2] Hit taken, health: 2/3
[00:19:41] [ENEMY] [Enemy2] Hit taken, health: 1/3
[00:19:41] [ENEMY] [Enemy2] Hit taken, health: 0/3
[00:19:41] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:19:41] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:19:41] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[00:19:41] [INFO] [DeathAnim] Started - Angle: -120.9 deg, Index: 3
[00:19:41] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.514221, -0.857658)
[00:19:41] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 149.1
[00:19:41] [ENEMY] [Enemy3] Hit taken, health: 1/2
[00:19:41] [ENEMY] [Enemy3] Hit taken, health: 0/2
[00:19:41] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:19:41] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:19:41] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 8)
[00:19:41] [INFO] [DeathAnim] Started - Angle: 20.1 deg, Index: 13
[00:19:41] [ENEMY] [Enemy3] Death animation started with hit direction: (0.939165, 0.343467)
[00:19:41] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 221.3
[00:19:41] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -11.2 degrees
[00:19:41] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 108.1 degrees
[00:19:41] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 185.2 degrees
[00:19:41] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 288.0 degrees
[00:19:42] [INFO] [Player.Grenade] Player rotation restored to 0
[00:19:42] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:19:42] [ENEMY] [Enemy2] Ragdoll activated
[00:19:42] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:19:42] [ENEMY] [Enemy3] Ragdoll activated
[00:19:42] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:19:42] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:19:42] [ENEMY] [Enemy1] Hit taken, health: 3/4
[00:19:42] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:19:42] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:19:42] [ENEMY] [Enemy1] Death animation component initialized
[00:19:42] [ENEMY] [Enemy2] Death animation component initialized
[00:19:42] [ENEMY] [Enemy3] Death animation component initialized
[00:19:42] [ENEMY] [Enemy4] Death animation component initialized
[00:19:42] [ENEMY] [Enemy5] Death animation component initialized
[00:19:42] [ENEMY] [Enemy6] Death animation component initialized
[00:19:42] [ENEMY] [Enemy7] Death animation component initialized
[00:19:42] [ENEMY] [Enemy8] Death animation component initialized
[00:19:42] [ENEMY] [Enemy9] Death animation component initialized
[00:19:42] [ENEMY] [Enemy10] Death animation component initialized
[00:19:42] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:19:42] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:19:42] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:19:42] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:19:42] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:19:42] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:19:42] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:19:42] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:19:42] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:19:42] [INFO] [ScoreManager] Level started with 10 enemies
[00:19:42] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[00:19:42] [ENEMY] [Enemy1] Registered as sound listener
[00:19:42] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:19:42] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[00:19:42] [ENEMY] [Enemy2] Registered as sound listener
[00:19:42] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:19:42] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[00:19:42] [ENEMY] [Enemy3] Registered as sound listener
[00:19:42] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:19:42] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[00:19:42] [ENEMY] [Enemy4] Registered as sound listener
[00:19:42] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:19:42] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[00:19:42] [ENEMY] [Enemy5] Registered as sound listener
[00:19:42] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:19:42] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[00:19:42] [ENEMY] [Enemy6] Registered as sound listener
[00:19:42] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:19:42] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[00:19:42] [ENEMY] [Enemy7] Registered as sound listener
[00:19:42] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:19:42] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[00:19:42] [ENEMY] [Enemy8] Registered as sound listener
[00:19:42] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:19:42] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[00:19:42] [ENEMY] [Enemy9] Registered as sound listener
[00:19:42] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:19:42] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[00:19:42] [ENEMY] [Enemy10] Registered as sound listener
[00:19:42] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:19:42] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:19:42] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:19:42] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:19:42] [INFO] [LastChance] Found player: Player
[00:19:42] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:19:42] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:19:42] [INFO] [LastChance] Connected to player Died signal (C#)
[00:19:42] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:19:42] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:19:42] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:19:43] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:19:43] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:19:43] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:19:43] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (753.859, 1499.0559)
[00:19:43] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:19:43] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:19:43] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:19:43] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1144.1666)
[00:19:43] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:19:43] [INFO] [Player.Grenade] Step 1 complete! Drag: (412.88428, 48.963257)
[00:19:43] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:19:43] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:19:43] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:19:43] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:19:43] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:19:43] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:19:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=18
[00:19:43] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[00:19:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:19:43] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:19:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=10899234490855, bullet_pos=(41.69983, 702.3934)
[00:19:44] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:19:44] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:19:44] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:19:44] [INFO] [Bullet] Starting wall penetration at (41.69983, 702.3934)
[00:19:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.508674621582
[00:19:44] [INFO] [Bullet] Body exited signal received for penetrating body
[00:19:44] [INFO] [Bullet] Exiting penetration at (4.46851, 674.2579) after traveling 41.6666717529297 pixels through wall
[00:19:44] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:19:44] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:19:44] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:19:44] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.079884246, -1985.1833) (1985,2 px/s), Swing distance: 482,0
[00:19:44] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5707561
[00:19:44] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.079884, -1985.183), Swing: 482.0, Transfer: 1.00, Final speed: 935.8
[00:19:44] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:19:44] [INFO] [Player.Grenade] Thrown! Velocity: 1985,2, Swing: 482,0
[00:19:44] [INFO] [Player.Grenade] State reset to IDLE
[00:19:44] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:19:44] [INFO] [FragGrenade] Wall impact detected! Body: Room1_WallBottom, triggering explosion
[00:19:44] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:19:44] [INFO] [GrenadeBase] EXPLODED at (450.003, 665.2941)!
[00:19:44] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450.003, 665.2941), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:19:44] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:19:44] [ENEMY] [Enemy2] Hit taken, health: 1/2
[00:19:44] [ENEMY] [Enemy2] Hit taken, health: 0/2
[00:19:44] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:19:44] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:19:44] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[00:19:44] [INFO] [DeathAnim] Started - Angle: -113.4 deg, Index: 4
[00:19:44] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.39789, -0.917433)
[00:19:44] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 125.7
[00:19:44] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 17.0 degrees
[00:19:44] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 78.5 degrees
[00:19:44] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 183.6 degrees
[00:19:44] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 254.8 degrees
[00:19:44] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:19:44] [INFO] [Player.Grenade] Player rotation restored to 0
[00:19:44] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:19:44] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:19:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(679.074, 759.684), source=ENEMY (Enemy3), range=1469, listeners=9
[00:19:44] [ENEMY] [Enemy4] Heard gunshot at (679.074, 759.684), source_type=1, intensity=0.07, distance=185
[00:19:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:19:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(671.908, 767.5848), source=ENEMY (Enemy3), range=1469, listeners=9
[00:19:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:19:44] [INFO] [LastChance] Threat detected: @Area2D@11043
[00:19:44] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(664.7419, 775.4857), source=ENEMY (Enemy3), range=1469, listeners=9
[00:19:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:19:44] [INFO] [LastChance] Threat detected: @Area2D@11044
[00:19:44] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:19:44] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:19:44] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:19:44] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:19:44] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:19:44] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:19:44] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:19:44] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:19:44] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:19:44] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:19:44] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:19:44] [ENEMY] [Enemy2] Ragdoll activated
[00:19:44] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:19:45] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:19:45] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:19:45] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:19:45] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:19:45] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:19:45] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:19:45] [INFO] [LastChance] Player died
[00:19:45] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:19:45] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[00:19:45] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[00:19:45] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:19:45] [ENEMY] [Enemy10] FLANKING started: target=(390.6634, 1003.559), side=right, pos=(1022.668, 1432.257)
[00:19:45] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:19:45] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:19:45] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:19:45] [ENEMY] [Enemy1] Death animation component initialized
[00:19:45] [ENEMY] [Enemy2] Death animation component initialized
[00:19:45] [ENEMY] [Enemy3] Death animation component initialized
[00:19:45] [ENEMY] [Enemy4] Death animation component initialized
[00:19:45] [ENEMY] [Enemy5] Death animation component initialized
[00:19:45] [ENEMY] [Enemy6] Death animation component initialized
[00:19:45] [ENEMY] [Enemy7] Death animation component initialized
[00:19:45] [ENEMY] [Enemy8] Death animation component initialized
[00:19:45] [ENEMY] [Enemy9] Death animation component initialized
[00:19:45] [ENEMY] [Enemy10] Death animation component initialized
[00:19:45] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:19:45] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:19:45] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:19:45] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:19:45] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:19:45] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:19:45] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:19:45] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:19:45] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:19:45] [INFO] [ScoreManager] Level started with 10 enemies
[00:19:45] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:19:45] [ENEMY] [Enemy1] Registered as sound listener
[00:19:45] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:19:45] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:19:45] [ENEMY] [Enemy2] Registered as sound listener
[00:19:45] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:19:45] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:19:45] [ENEMY] [Enemy3] Registered as sound listener
[00:19:45] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:19:45] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:19:45] [ENEMY] [Enemy4] Registered as sound listener
[00:19:45] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:19:45] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:19:45] [ENEMY] [Enemy5] Registered as sound listener
[00:19:45] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:19:45] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:19:45] [ENEMY] [Enemy6] Registered as sound listener
[00:19:45] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:19:45] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:19:45] [ENEMY] [Enemy7] Registered as sound listener
[00:19:45] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:19:45] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:19:45] [ENEMY] [Enemy8] Registered as sound listener
[00:19:45] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:19:45] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:19:45] [ENEMY] [Enemy9] Registered as sound listener
[00:19:45] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:19:45] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:19:45] [ENEMY] [Enemy10] Registered as sound listener
[00:19:45] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:19:45] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:19:45] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:19:45] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:19:45] [INFO] [LastChance] Found player: Player
[00:19:45] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:19:45] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:19:45] [INFO] [LastChance] Connected to player Died signal (C#)
[00:19:45] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:19:45] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:19:45] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:19:46] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:19:46] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:19:46] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1248.2313, 1594.9341)
[00:19:46] [INFO] [Player.Grenade] Step 1 failed: drag not far enough right (27,637573 < 30)
[00:19:46] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:19:46] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (944.7929, 1505.0671)
[00:19:46] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:19:46] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:19:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:19:46] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:19:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:19:47] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:19:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=11081535720178, bullet_pos=(41.69983, 702.3934)
[00:19:47] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:19:47] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:19:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=11081535720178, bullet_pos=(509.5166, 373.8354)
[00:19:47] [INFO] [Bullet] Using shooter_position, distance=1167.73791503906
[00:19:47] [INFO] [Bullet] Distance to wall: 1167.73791503906 (79.5134219156931% of viewport)
[00:19:47] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[00:19:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=11081535720178, bullet_pos=(337.5499, 243.5798)
[00:19:47] [INFO] [Bullet] Using shooter_position, distance=1362.42102050781
[00:19:47] [INFO] [Bullet] Distance to wall: 1362.42102050781 (92.7697525577245% of viewport)
[00:19:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=11081535720178, bullet_pos=(561.3759, 64.7802)
[00:19:48] [INFO] [Bullet] Using shooter_position, distance=1436.5703125
[00:19:48] [INFO] [Bullet] Distance to wall: 1436.5703125 (97.8187141979976% of viewport)
[00:19:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(935.3146, 1394.014), source=ENEMY (Enemy10), range=1469, listeners=10
[00:19:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:19:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(934.6773, 1391.94), source=ENEMY (Enemy10), range=1469, listeners=10
[00:19:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:19:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(934.5189, 1391.509), source=ENEMY (Enemy10), range=1469, listeners=10
[00:19:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:19:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(929.5549, 1383.333), source=ENEMY (Enemy10), range=1469, listeners=10
[00:19:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:19:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(871.8819, 1369.537), shooter_id=11081535720178, bullet_pos=(60.17581, 943.6126)
[00:19:48] [INFO] [Bullet] Using shooter_position, distance=916.667114257813
[00:19:48] [INFO] [Bullet] Distance to wall: 916.667114257813 (62.417549412005% of viewport)
[00:19:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(911.7507, 1375.668), source=ENEMY (Enemy10), range=1469, listeners=10
[00:19:48] [ENEMY] [Enemy4] Heard gunshot at (911.7507, 1375.668), source_type=1, intensity=0.01, distance=489
[00:19:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[00:19:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(870.1019, 1370.648), shooter_id=11081535720178, bullet_pos=(38.2085, 985.6404)
[00:19:48] [INFO] [Bullet] Using shooter_position, distance=916.666748046875
[00:19:48] [INFO] [Bullet] Distance to wall: 916.666748046875 (62.4175244760288% of viewport)
[00:19:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(871.8819, 1369.537), shooter_id=11081535720178, bullet_pos=(413.3438, 698.3118)
[00:19:48] [INFO] [Bullet] Using shooter_position, distance=812.896667480469
[00:19:48] [INFO] [Bullet] Distance to wall: 812.896667480469 (55.3516288739098% of viewport)
[00:19:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(874.7575, 1378.153), source=ENEMY (Enemy10), range=1469, listeners=10
[00:19:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[00:19:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(869.019, 1373.246), shooter_id=11081535720178, bullet_pos=(58.68965, 1043.109)
[00:19:48] [INFO] [Bullet] Using shooter_position, distance=874.999633789063
[00:19:48] [INFO] [Bullet] Distance to wall: 874.999633789063 (59.5803340471473% of viewport)
[00:19:48] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:19:48] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:19:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(843.5333, 1372.415), source=ENEMY (Enemy10), range=1469, listeners=10
[00:19:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[00:19:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(863.191, 1368.597), shooter_id=11081535720178, bullet_pos=(36.39803, 1082.172)
[00:19:48] [INFO] [Bullet] Using shooter_position, distance=875.00048828125
[00:19:48] [INFO] [Bullet] Distance to wall: 875.00048828125 (59.5803922310917% of viewport)
[00:19:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(871.8819, 1369.537), shooter_id=11081535720178, bullet_pos=(687.6916, 833.9395)
[00:19:48] [INFO] [Bullet] Using shooter_position, distance=566.384338378906
[00:19:48] [INFO] [Bullet] Distance to wall: 566.384338378906 (38.5661510891819% of viewport)
[00:19:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:19:48] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (747.55707, 1508.8608)
[00:19:49] [INFO] [LastChance] Threat detected: @Area2D@11321
[00:19:49] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(844.7006, 1364.316), shooter_id=11081535720178, bullet_pos=(44.4407, 1131.874)
[00:19:49] [INFO] [Bullet] Using shooter_position, distance=833.333618164063
[00:19:49] [INFO] [Bullet] Distance to wall: 833.333618164063 (56.7432184261943% of viewport)
[00:19:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(807.0507, 1364.493), source=ENEMY (Enemy10), range=1469, listeners=10
[00:19:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[00:19:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(871.8819, 1369.537), shooter_id=11081535720178, bullet_pos=(517.8226, 956.9115)
[00:19:49] [INFO] [Bullet] Using shooter_position, distance=543.707702636719
[00:19:49] [INFO] [Bullet] Distance to wall: 543.707702636719 (37.0220572628401% of viewport)
[00:19:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:19:49] [INFO] [Bullet] Starting wall penetration at (517.8226, 956.9115)
[00:19:49] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8.58594226837158
[00:19:49] [INFO] [Bullet] Body exited signal received for penetrating body
[00:19:49] [INFO] [Bullet] Exiting penetration at (493.0452, 974.8485) after traveling 25.5885429382324 pixels through wall
[00:19:49] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[00:19:49] [INFO] [LastChance] Threat detected: @Area2D@11323
[00:19:49] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(807.3687, 1368.873), shooter_id=11081535720178, bullet_pos=(40.65969, 1171.66)
[00:19:49] [INFO] [Bullet] Using shooter_position, distance=791.666442871094
[00:19:49] [INFO] [Bullet] Distance to wall: 791.666442871094 (53.9060238413168% of viewport)
[00:19:49] [INFO] [Bullet] Distance-based penetration chance: 83.7763055184638%
[00:19:49] [INFO] [Bullet] Starting wall penetration at (40.65969, 1171.66)
[00:19:49] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37.7250709533691
[00:19:49] [INFO] [Bullet] Body exited signal received for penetrating body
[00:19:49] [INFO] [Bullet] Exiting penetration at (-4.535793, 1160.035) after traveling 41.6666679382324 pixels through wall
[00:19:49] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:19:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(770.5147, 1356.818), source=ENEMY (Enemy10), range=1469, listeners=10
[00:19:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[00:19:49] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:19:49] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:19:49] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:19:49] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:19:49] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:19:49] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:19:49] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:19:49] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:19:49] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:19:49] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:19:49] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:19:49] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[00:19:49] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[00:19:49] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:19:49] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:19:49] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:19:49] [INFO] [Player.Grenade] Timer started, grenade created at (198.00035, 1236.5769)
[00:19:49] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:19:49] [INFO] [Player.Grenade] Step 1 complete! Drag: (532.44257, -34.720215)
[00:19:49] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:19:49] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:19:49] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:19:49] [INFO] [LastChance] Threat detected: @Area2D@11327
[00:19:49] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:49] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:19:49] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:19:49] [INFO] [GrenadeBase] Grenade landed at (198.0004, 1236.485)
[00:19:49] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:19:49] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:19:49] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:19:49] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:19:49] [ENEMY] [Enemy1] Death animation component initialized
[00:19:49] [ENEMY] [Enemy2] Death animation component initialized
[00:19:49] [ENEMY] [Enemy3] Death animation component initialized
[00:19:49] [ENEMY] [Enemy4] Death animation component initialized
[00:19:49] [ENEMY] [Enemy5] Death animation component initialized
[00:19:49] [ENEMY] [Enemy6] Death animation component initialized
[00:19:49] [ENEMY] [Enemy7] Death animation component initialized
[00:19:49] [ENEMY] [Enemy8] Death animation component initialized
[00:19:49] [ENEMY] [Enemy9] Death animation component initialized
[00:19:49] [ENEMY] [Enemy10] Death animation component initialized
[00:19:49] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:19:49] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:19:49] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:19:49] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:19:49] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:19:49] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:19:49] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:19:49] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:19:49] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:19:49] [INFO] [ScoreManager] Level started with 10 enemies
[00:19:49] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:19:49] [ENEMY] [Enemy1] Registered as sound listener
[00:19:49] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:19:49] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:19:49] [ENEMY] [Enemy2] Registered as sound listener
[00:19:49] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:19:49] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:19:49] [ENEMY] [Enemy3] Registered as sound listener
[00:19:49] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:19:49] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:19:49] [ENEMY] [Enemy4] Registered as sound listener
[00:19:49] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:19:49] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:19:49] [ENEMY] [Enemy5] Registered as sound listener
[00:19:49] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:19:49] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:19:49] [ENEMY] [Enemy6] Registered as sound listener
[00:19:49] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:19:49] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:19:49] [ENEMY] [Enemy7] Registered as sound listener
[00:19:49] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:19:49] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:19:49] [ENEMY] [Enemy8] Registered as sound listener
[00:19:49] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:19:49] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:19:49] [ENEMY] [Enemy9] Registered as sound listener
[00:19:49] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:19:49] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:19:49] [ENEMY] [Enemy10] Registered as sound listener
[00:19:49] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:19:49] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:19:49] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:19:49] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:19:49] [INFO] [LastChance] Found player: Player
[00:19:49] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:19:49] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:19:49] [INFO] [LastChance] Connected to player Died signal (C#)
[00:19:49] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:19:49] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:19:49] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:19:50] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:19:50] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:19:50] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (593.6343, 1512.4861)
[00:19:50] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:19:50] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:19:50] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:19:50] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:19:50] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:19:50] [INFO] [Player.Grenade] Step 1 complete! Drag: (596.47595, 11.35437)
[00:19:50] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:19:50] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:19:50] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:19:50] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:19:50] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:19:50] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:19:51] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:19:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1059.876, 1472.883), source=ENEMY (Enemy10), range=1469, listeners=20
[00:19:51] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:19:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:19:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1028.627, 1452.459), source=ENEMY (Enemy10), range=1469, listeners=10
[00:19:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:19:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(998.113, 1430.952), source=ENEMY (Enemy10), range=1469, listeners=10
[00:19:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:19:52] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:19:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(967.6707, 1414.63), source=ENEMY (Enemy10), range=1469, listeners=10
[00:19:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:19:52] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:19:52] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1083.6321, -322.65515) (1130,6 px/s), Swing distance: 416,3
[00:19:52] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,28939444
[00:19:52] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1083.632, -322.6552), Swing: 416.3, Transfer: 1.00, Final speed: 533.0
[00:19:52] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:19:52] [INFO] [Player.Grenade] Thrown! Velocity: 1130,6, Swing: 416,3
[00:19:52] [INFO] [Player.Grenade] State reset to IDLE
[00:19:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(998.5358, 1443.331), shooter_id=11332019555081, bullet_pos=(47.63089, 842.1622)
[00:19:52] [INFO] [Bullet] Using shooter_position, distance=1124.99951171875
[00:19:52] [INFO] [Bullet] Distance to wall: 1124.99951171875 (76.6032854446191% of viewport)
[00:19:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(936.0685, 1400.223), source=ENEMY (Enemy10), range=1469, listeners=10
[00:19:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:19:52] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:19:52] [INFO] [Player.Grenade] Player rotation restored to 0
[00:19:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(968.3646, 1420.768), shooter_id=11332019555081, bullet_pos=(39.20423, 786.5082)
[00:19:52] [INFO] [Bullet] Using shooter_position, distance=1124.99951171875
[00:19:52] [INFO] [Bullet] Distance to wall: 1124.99951171875 (76.6032854446191% of viewport)
[00:19:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(998.5358, 1443.331), shooter_id=11332019555081, bullet_pos=(260.3332, 705.3244)
[00:19:52] [INFO] [Bullet] Using shooter_position, distance=1043.83740234375
[00:19:52] [INFO] [Bullet] Distance to wall: 1043.83740234375 (71.0768081733163% of viewport)
[00:19:52] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:19:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(968.3646, 1420.768), shooter_id=11332019555081, bullet_pos=(156.4557, 698.399)
[00:19:52] [INFO] [Bullet] Using shooter_position, distance=1086.74389648438
[00:19:52] [INFO] [Bullet] Distance to wall: 1086.74389648438 (73.9983902574371% of viewport)
[00:19:52] [INFO] [Bullet] Distance-based penetration chance: 60.3352113663234%
[00:19:52] [INFO] [Bullet] Starting wall penetration at (156.4557, 698.399)
[00:19:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23.1065406799316
[00:19:52] [INFO] [Bullet] Body exited signal received for penetrating body
[00:19:52] [INFO] [Bullet] Exiting penetration at (188.7665, 674.1189) after traveling 35.4166717529297 pixels through wall
[00:19:52] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[00:19:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(938.9959, 1397.173), shooter_id=11332019555081, bullet_pos=(66.14548, 755.5016)
[00:19:52] [INFO] [Bullet] Using shooter_position, distance=1083.33312988281
[00:19:52] [INFO] [Bullet] Distance to wall: 1083.33312988281 (73.76614488769% of viewport)
[00:19:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(938.9959, 1397.173), shooter_id=11332019555081, bullet_pos=(165.6261, 705.7002)
[00:19:52] [INFO] [Bullet] Using shooter_position, distance=1037.41796875
[00:19:52] [INFO] [Bullet] Distance to wall: 1037.41796875 (70.6396971356203% of viewport)
[00:19:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(909.9763, 1378.476), shooter_id=11332019555081, bullet_pos=(63.93655, 701.8467)
[00:19:52] [INFO] [Bullet] Using shooter_position, distance=1083.3330078125
[00:19:52] [INFO] [Bullet] Distance to wall: 1083.3330078125 (73.7661365756979% of viewport)
[00:19:52] [INFO] [Bullet] Distance-based penetration chance: 60.6061739950191%
[00:19:52] [INFO] [Bullet] Penetration failed (distance roll)
[00:19:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(541.3757, 757.3549), source=ENEMY (Enemy3), range=1469, listeners=10
[00:19:52] [ENEMY] [Enemy1] Heard gunshot at (541.3757, 757.3549), source_type=1, intensity=0.01, distance=473
[00:19:52] [ENEMY] [Enemy2] Heard gunshot at (541.3757, 757.3549), source_type=1, intensity=0.04, distance=251
[00:19:52] [ENEMY] [Enemy4] Heard gunshot at (541.3757, 757.3549), source_type=1, intensity=0.03, distance=295
[00:19:52] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[00:19:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(880.0212, 1361.556), shooter_id=11332019555081, bullet_pos=(127.3659, 703.1414)
[00:19:52] [INFO] [Bullet] Using shooter_position, distance=1000.00024414063
[00:19:52] [INFO] [Bullet] Distance to wall: 1000.00024414063 (68.0918554618395% of viewport)
[00:19:52] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:19:52] [INFO] [LastChance] Threat detected: Bullet
[00:19:52] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:52] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[00:19:52] [INFO] [FragGrenade] Non-wall collision (body: Enemy3, type: CharacterBody2D) - not triggering explosion
[00:19:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(880.0212, 1361.556), shooter_id=11332019555081, bullet_pos=(55.75152, 788.2762)
[00:19:52] [INFO] [Bullet] Using shooter_position, distance=1004.02728271484
[00:19:52] [INFO] [Bullet] Distance to wall: 1004.02728271484 (68.366063923429% of viewport)
[00:19:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(938.9959, 1397.173), shooter_id=11332019555081, bullet_pos=(500.1538, 854.7986)
[00:19:52] [INFO] [Bullet] Using shooter_position, distance=697.676696777344
[00:19:52] [INFO] [Bullet] Distance to wall: 697.676696777344 (47.5060891978902% of viewport)
[00:19:52] [INFO] [Bullet] Distance-based penetration chance: 91.2428959357948%
[00:19:52] [INFO] [Bullet] Starting wall penetration at (500.1538, 854.7986)
[00:19:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8.99677562713623
[00:19:52] [INFO] [Bullet] Body exited signal received for penetrating body
[00:19:52] [INFO] [Bullet] Exiting penetration at (532.2175, 869.0894) after traveling 30.1041679382324 pixels through wall
[00:19:52] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[00:19:52] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:19:52] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:19:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(520.1738, 754.9908), source=ENEMY (Enemy3), range=1469, listeners=10
[00:19:52] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[00:19:52] [INFO] [LastChance] Threat detected: Bullet
[00:19:52] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:52] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:19:52] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:19:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(520.1738, 754.9908), source=ENEMY (Enemy3), range=1469, listeners=10
[00:19:52] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[00:19:52] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:19:52] [INFO] [LastChance] Threat detected: Bullet
[00:19:52] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:53] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:19:53] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:19:53] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:19:53] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:19:53] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:19:53] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:19:53] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:19:53] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:19:53] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:19:53] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:19:53] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:19:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(534.6521, 765.0936), source=ENEMY (Enemy3), range=1469, listeners=10
[00:19:53] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[00:19:53] [INFO] [LastChance] Threat detected: Bullet
[00:19:53] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:53] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:19:53] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:19:53] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:19:53] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:19:53] [ENEMY] [Enemy1] Death animation component initialized
[00:19:53] [ENEMY] [Enemy2] Death animation component initialized
[00:19:53] [ENEMY] [Enemy3] Death animation component initialized
[00:19:53] [ENEMY] [Enemy4] Death animation component initialized
[00:19:53] [ENEMY] [Enemy5] Death animation component initialized
[00:19:53] [ENEMY] [Enemy6] Death animation component initialized
[00:19:53] [ENEMY] [Enemy7] Death animation component initialized
[00:19:53] [ENEMY] [Enemy8] Death animation component initialized
[00:19:53] [ENEMY] [Enemy9] Death animation component initialized
[00:19:53] [ENEMY] [Enemy10] Death animation component initialized
[00:19:53] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:19:53] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:19:53] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:19:53] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:19:53] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:19:53] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:19:53] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:19:53] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:19:53] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:19:53] [INFO] [ScoreManager] Level started with 10 enemies
[00:19:53] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:19:53] [ENEMY] [Enemy1] Registered as sound listener
[00:19:53] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:19:53] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:19:53] [ENEMY] [Enemy2] Registered as sound listener
[00:19:53] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:19:53] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:19:53] [ENEMY] [Enemy3] Registered as sound listener
[00:19:53] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:19:53] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:19:53] [ENEMY] [Enemy4] Registered as sound listener
[00:19:53] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:19:53] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:19:53] [ENEMY] [Enemy5] Registered as sound listener
[00:19:53] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:19:53] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:19:53] [ENEMY] [Enemy6] Registered as sound listener
[00:19:53] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:19:53] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:19:53] [ENEMY] [Enemy7] Registered as sound listener
[00:19:53] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:19:53] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:19:53] [ENEMY] [Enemy8] Registered as sound listener
[00:19:53] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:19:53] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:19:53] [ENEMY] [Enemy9] Registered as sound listener
[00:19:53] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:19:53] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:19:53] [ENEMY] [Enemy10] Registered as sound listener
[00:19:53] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:19:53] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:19:53] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:19:53] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:19:53] [INFO] [LastChance] Found player: Player
[00:19:53] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:19:53] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:19:53] [INFO] [LastChance] Connected to player Died signal (C#)
[00:19:53] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:19:53] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:19:53] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:19:53] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:19:53] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:19:54] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (898.33716, 1562.5789)
[00:19:54] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:19:54] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:19:54] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:19:54] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:19:54] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:19:54] [INFO] [Player.Grenade] Step 1 complete! Drag: (300.23962, 29.387695)
[00:19:54] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:19:54] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:19:54] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:19:54] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:19:54] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:19:54] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:19:54] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:19:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:19:55] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:19:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:19:55] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:19:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=11564736317557, bullet_pos=(41.69983, 702.3934)
[00:19:55] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:19:55] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:19:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=11564736317557, bullet_pos=(508.4212, 372.2816)
[00:19:55] [INFO] [Bullet] Using shooter_position, distance=1169.60998535156
[00:19:55] [INFO] [Bullet] Distance to wall: 1169.60998535156 (79.640894625705% of viewport)
[00:19:55] [INFO] [Bullet] Distance-based penetration chance: 53.7522896033442%
[00:19:55] [INFO] [Bullet] Penetration failed (distance roll)
[00:19:56] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:19:56] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:19:56] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (78.594604, -189.85587) (205,5 px/s), Swing distance: 456,2
[00:19:56] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,1783053
[00:19:56] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (78.5946, -189.8559), Swing: 456.2, Transfer: 1.00, Final speed: 96.9
[00:19:56] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:19:56] [INFO] [Player.Grenade] Thrown! Velocity: 205,5, Swing: 456,2
[00:19:56] [INFO] [Player.Grenade] State reset to IDLE
[00:19:56] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:19:56] [INFO] [FragGrenade] Wall impact detected! Body: Room1_WallBottom, triggering explosion
[00:19:56] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:19:56] [INFO] [GrenadeBase] EXPLODED at (508.1139, 698.219)!
[00:19:56] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(508.1139, 698.219), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:19:56] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:19:56] [ENEMY] [Enemy2] Hit taken, health: 2/3
[00:19:56] [ENEMY] [Enemy2] Hit taken, health: 1/3
[00:19:56] [ENEMY] [Enemy2] Hit taken, health: 0/3
[00:19:56] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:19:56] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:19:56] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[00:19:56] [INFO] [DeathAnim] Started - Angle: -126.1 deg, Index: 3
[00:19:56] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.589306, -0.80791)
[00:19:56] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 183.5
[00:19:56] [ENEMY] [Enemy3] Hit taken, health: 1/2
[00:19:56] [ENEMY] [Enemy3] Hit taken, health: 0/2
[00:19:56] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:19:56] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:19:56] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 8)
[00:19:56] [INFO] [DeathAnim] Started - Angle: 15.1 deg, Index: 13
[00:19:56] [ENEMY] [Enemy3] Death animation started with hit direction: (0.965465, 0.260533)
[00:19:56] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 198.8
[00:19:56] [INFO] [FragGrenade] Player found in blast radius at distance 61.8
[00:19:56] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:19:56] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:19:56] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:19:56] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:19:56] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:19:56] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:19:56] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:19:56] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:19:56] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:19:56] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:19:56] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:19:56] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:19:56] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:19:56] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:19:56] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:19:56] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:19:56] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:19:56] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:19:56] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:19:56] [INFO] [LastChance] Player died
[00:19:56] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 61.8
[00:19:56] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 8.8 degrees
[00:19:56] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 88.8 degrees
[00:19:56] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 194.3 degrees
[00:19:56] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 281.9 degrees
[00:19:56] [INFO] [Player.Grenade] Player rotation restored to 0
[00:19:56] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:19:56] [ENEMY] [Enemy4] Hit taken, health: 1/2
[00:19:56] [ENEMY] [Enemy10] FLANKING started: target=(410.6446, 941.1377), side=right, pos=(1022.668, 1432.257)
[00:19:56] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:19:56] [ENEMY] [Enemy2] Ragdoll activated
[00:19:56] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:19:56] [ENEMY] [Enemy3] Ragdoll activated
[00:19:56] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:19:56] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:19:56] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:19:56] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:19:56] [ENEMY] [Enemy1] Death animation component initialized
[00:19:56] [ENEMY] [Enemy2] Death animation component initialized
[00:19:56] [ENEMY] [Enemy3] Death animation component initialized
[00:19:56] [ENEMY] [Enemy4] Death animation component initialized
[00:19:56] [ENEMY] [Enemy5] Death animation component initialized
[00:19:56] [ENEMY] [Enemy6] Death animation component initialized
[00:19:56] [ENEMY] [Enemy7] Death animation component initialized
[00:19:56] [ENEMY] [Enemy8] Death animation component initialized
[00:19:56] [ENEMY] [Enemy9] Death animation component initialized
[00:19:56] [ENEMY] [Enemy10] Death animation component initialized
[00:19:56] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:19:56] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:19:56] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:19:56] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:19:56] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:19:56] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:19:56] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:19:56] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:19:56] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:19:56] [INFO] [ScoreManager] Level started with 10 enemies
[00:19:56] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[00:19:56] [ENEMY] [Enemy1] Registered as sound listener
[00:19:56] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:19:56] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[00:19:56] [ENEMY] [Enemy2] Registered as sound listener
[00:19:56] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:19:56] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[00:19:56] [ENEMY] [Enemy3] Registered as sound listener
[00:19:56] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:19:56] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[00:19:56] [ENEMY] [Enemy4] Registered as sound listener
[00:19:56] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:19:56] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[00:19:56] [ENEMY] [Enemy5] Registered as sound listener
[00:19:56] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:19:56] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[00:19:56] [ENEMY] [Enemy6] Registered as sound listener
[00:19:56] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:19:56] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[00:19:56] [ENEMY] [Enemy7] Registered as sound listener
[00:19:56] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:19:56] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[00:19:56] [ENEMY] [Enemy8] Registered as sound listener
[00:19:56] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:19:56] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[00:19:56] [ENEMY] [Enemy9] Registered as sound listener
[00:19:56] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:19:56] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[00:19:56] [ENEMY] [Enemy10] Registered as sound listener
[00:19:56] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:19:57] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:19:57] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:19:57] [ENEMY] [Enemy1] Death animation component initialized
[00:19:57] [ENEMY] [Enemy2] Death animation component initialized
[00:19:57] [ENEMY] [Enemy3] Death animation component initialized
[00:19:57] [ENEMY] [Enemy4] Death animation component initialized
[00:19:57] [ENEMY] [Enemy5] Death animation component initialized
[00:19:57] [ENEMY] [Enemy6] Death animation component initialized
[00:19:57] [ENEMY] [Enemy7] Death animation component initialized
[00:19:57] [ENEMY] [Enemy8] Death animation component initialized
[00:19:57] [ENEMY] [Enemy9] Death animation component initialized
[00:19:57] [ENEMY] [Enemy10] Death animation component initialized
[00:19:57] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:19:57] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:19:57] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:19:57] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:19:57] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:19:57] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:19:57] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:19:57] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:19:57] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:19:57] [INFO] [ScoreManager] Level started with 10 enemies
[00:19:57] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 19)
[00:19:57] [ENEMY] [Enemy1] Registered as sound listener
[00:19:57] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:19:57] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 20)
[00:19:57] [ENEMY] [Enemy2] Registered as sound listener
[00:19:57] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:19:57] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 21)
[00:19:57] [ENEMY] [Enemy3] Registered as sound listener
[00:19:57] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:19:57] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 22)
[00:19:57] [ENEMY] [Enemy4] Registered as sound listener
[00:19:57] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:19:57] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 23)
[00:19:57] [ENEMY] [Enemy5] Registered as sound listener
[00:19:57] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:19:57] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 24)
[00:19:57] [ENEMY] [Enemy6] Registered as sound listener
[00:19:57] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:19:57] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 25)
[00:19:57] [ENEMY] [Enemy7] Registered as sound listener
[00:19:57] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:19:57] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 26)
[00:19:57] [ENEMY] [Enemy8] Registered as sound listener
[00:19:57] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:19:57] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 27)
[00:19:57] [ENEMY] [Enemy9] Registered as sound listener
[00:19:57] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:19:57] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 28)
[00:19:57] [ENEMY] [Enemy10] Registered as sound listener
[00:19:57] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:19:57] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:19:57] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:19:57] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:19:57] [INFO] [LastChance] Found player: Player
[00:19:57] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:19:57] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:19:57] [INFO] [LastChance] Connected to player Died signal (C#)
[00:19:57] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:19:57] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:19:57] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:19:57] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:19:57] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:19:57] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (941.13525, 1595.9741)
[00:19:57] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:19:57] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:19:57] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:19:57] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:19:57] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:19:57] [INFO] [Player.Grenade] Step 1 complete! Drag: (323.6283, 13.35791)
[00:19:57] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:19:57] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:19:57] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:19:57] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:19:57] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:19:57] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:19:57] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:19:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=28
[00:19:58] [INFO] [SoundPropagation] Cleaned up 18 invalid listeners
[00:19:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:19:58] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:19:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=11771398065220, bullet_pos=(41.69983, 702.3934)
[00:19:58] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:19:58] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:19:59] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:19:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=11771398065220, bullet_pos=(514.6449, 449.6345)
[00:19:59] [INFO] [Bullet] Using shooter_position, distance=1097.28979492188
[00:19:59] [INFO] [Bullet] Distance to wall: 1097.28979492188 (74.7164798742437% of viewport)
[00:19:59] [INFO] [Bullet] Distance-based penetration chance: 59.4974401467157%
[00:19:59] [INFO] [Bullet] Penetration failed (distance roll)
[00:19:59] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:19:59] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.0057444847, -47.629864) (47,6 px/s), Swing distance: 482,7
[00:19:59] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5706757
[00:19:59] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.005744, -47.62986), Swing: 482.7, Transfer: 1.00, Final speed: 22.5
[00:19:59] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:19:59] [INFO] [Player.Grenade] Thrown! Velocity: 47,6, Swing: 482,7
[00:19:59] [INFO] [Player.Grenade] State reset to IDLE
[00:19:59] [INFO] [GrenadeBase] Grenade landed at (450.0072, 676.8333)
[00:19:59] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:19:59] [INFO] [GrenadeBase] EXPLODED at (450.0072, 676.8333)!
[00:19:59] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450.0072, 676.8333), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:19:59] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:19:59] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:19:59] [ENEMY] [Enemy2] Hit taken, health: 2/4
[00:19:59] [ENEMY] [Enemy2] Hit taken, health: 1/4
[00:19:59] [ENEMY] [Enemy2] Hit taken, health: 0/4
[00:19:59] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:19:59] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:19:59] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[00:19:59] [INFO] [DeathAnim] Started - Angle: -111.5 deg, Index: 4
[00:19:59] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.366795, -0.930302)
[00:19:59] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 136.3
[00:19:59] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -10.4 degrees
[00:19:59] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 103.9 degrees
[00:19:59] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 160.5 degrees
[00:19:59] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 268.0 degrees
[00:19:59] [INFO] [Player.Grenade] Player rotation restored to 0
[00:19:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=9
[00:19:59] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:19:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:19:59] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:19:59] [INFO] [LastChance] Threat detected: Bullet
[00:19:59] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:19:59] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:19:59] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:19:59] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:19:59] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:19:59] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:19:59] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:19:59] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:19:59] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:19:59] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:19:59] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:19:59] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:19:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=9
[00:19:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:19:59] [INFO] [LastChance] Threat detected: Bullet
[00:19:59] [INFO] [LastChance] Not in hard mode - effect disabled
[00:19:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:00] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:20:00] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:20:00] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:20:00] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:20:00] [ENEMY] [Enemy1] Death animation component initialized
[00:20:00] [ENEMY] [Enemy2] Death animation component initialized
[00:20:00] [ENEMY] [Enemy3] Death animation component initialized
[00:20:00] [ENEMY] [Enemy4] Death animation component initialized
[00:20:00] [ENEMY] [Enemy5] Death animation component initialized
[00:20:00] [ENEMY] [Enemy6] Death animation component initialized
[00:20:00] [ENEMY] [Enemy7] Death animation component initialized
[00:20:00] [ENEMY] [Enemy8] Death animation component initialized
[00:20:00] [ENEMY] [Enemy9] Death animation component initialized
[00:20:00] [ENEMY] [Enemy10] Death animation component initialized
[00:20:00] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:20:00] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:20:00] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:20:00] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:20:00] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:20:00] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:20:00] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:20:00] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:20:00] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:20:00] [INFO] [ScoreManager] Level started with 10 enemies
[00:20:00] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:20:00] [ENEMY] [Enemy1] Registered as sound listener
[00:20:00] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:20:00] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:20:00] [ENEMY] [Enemy2] Registered as sound listener
[00:20:00] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:20:00] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:20:00] [ENEMY] [Enemy3] Registered as sound listener
[00:20:00] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:20:00] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:20:00] [ENEMY] [Enemy4] Registered as sound listener
[00:20:00] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:20:00] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:20:00] [ENEMY] [Enemy5] Registered as sound listener
[00:20:00] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:20:00] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:20:00] [ENEMY] [Enemy6] Registered as sound listener
[00:20:00] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:20:00] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:20:00] [ENEMY] [Enemy7] Registered as sound listener
[00:20:00] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:20:00] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:20:00] [ENEMY] [Enemy8] Registered as sound listener
[00:20:00] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:20:00] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:20:00] [ENEMY] [Enemy9] Registered as sound listener
[00:20:00] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:20:00] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:20:00] [ENEMY] [Enemy10] Registered as sound listener
[00:20:00] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:20:00] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:20:00] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:20:00] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:20:00] [INFO] [LastChance] Found player: Player
[00:20:00] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:20:00] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:20:00] [INFO] [LastChance] Connected to player Died signal (C#)
[00:20:00] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:20:00] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:20:00] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:20:00] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:20:00] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:20:00] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:20:00] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1055.9532, 1509.2395)
[00:20:00] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:20:00] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:20:00] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:20:00] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1094.6666)
[00:20:00] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:20:00] [INFO] [Player.Grenade] Step 1 complete! Drag: (218.6836, 4.605957)
[00:20:00] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:20:00] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:20:01] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:20:01] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:20:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:20:01] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:20:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:20:01] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:20:01] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:20:01] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:20:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=11952357116582, bullet_pos=(41.69983, 702.3934)
[00:20:01] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:20:01] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:20:01] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:20:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=11952357116582, bullet_pos=(508.0518, 371.7596)
[00:20:01] [INFO] [Bullet] Using shooter_position, distance=1170.23950195313
[00:20:01] [INFO] [Bullet] Distance to wall: 1170.23950195313 (79.6837595686844% of viewport)
[00:20:01] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:20:01] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (31.539917, -308.05338) (309,7 px/s), Swing distance: 290,7
[00:20:01] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,4687673
[00:20:01] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (31.53992, -308.0534), Swing: 290.7, Transfer: 1.00, Final speed: 146.0
[00:20:01] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:20:01] [INFO] [Player.Grenade] Thrown! Velocity: 309,7, Swing: 290,7
[00:20:01] [INFO] [Player.Grenade] State reset to IDLE
[00:20:02] [INFO] [Player.Grenade] Player rotation restored to 0
[00:20:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=11952357116582, bullet_pos=(176.6425, 57.72571)
[00:20:02] [INFO] [Bullet] Using shooter_position, distance=1604.05419921875
[00:20:02] [INFO] [Bullet] Distance to wall: 1604.05419921875 (109.223000020388% of viewport)
[00:20:02] [INFO] [Bullet] Distance-based penetration chance: 28.1553999959223%
[00:20:02] [INFO] [Bullet] Penetration failed (distance roll)
[00:20:02] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:20:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:20:02] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:20:02] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:20:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:20:02] [INFO] [GrenadeBase] Grenade landed at (458.469, 653.4485)
[00:20:02] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:20:02] [INFO] [GrenadeBase] EXPLODED at (458.469, 653.4485)!
[00:20:02] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(458.469, 653.4485), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:20:02] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:20:02] [ENEMY] [Enemy2] Hit taken, health: 2/3
[00:20:02] [ENEMY] [Enemy2] Hit taken, health: 1/3
[00:20:02] [ENEMY] [Enemy2] Hit taken, health: 0/3
[00:20:02] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:20:02] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:20:02] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[00:20:02] [INFO] [DeathAnim] Started - Angle: -119.5 deg, Index: 4
[00:20:02] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.492045, -0.87057)
[00:20:02] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 118.8
[00:20:02] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -0.8 degrees
[00:20:02] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 82.1 degrees
[00:20:02] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 192.3 degrees
[00:20:02] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 267.0 degrees
[00:20:02] [INFO] [LastChance] Threat detected: Bullet
[00:20:02] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:02] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:20:02] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:20:02] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:20:02] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:20:02] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:20:02] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:20:02] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:20:02] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:20:02] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:20:02] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:20:02] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:20:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=9
[00:20:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:20:02] [INFO] [LastChance] Threat detected: Bullet
[00:20:02] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:20:02] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:20:02] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:20:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:20:02] [ENEMY] [Enemy1] Death animation component initialized
[00:20:02] [ENEMY] [Enemy2] Death animation component initialized
[00:20:02] [ENEMY] [Enemy3] Death animation component initialized
[00:20:02] [ENEMY] [Enemy4] Death animation component initialized
[00:20:02] [ENEMY] [Enemy5] Death animation component initialized
[00:20:02] [ENEMY] [Enemy6] Death animation component initialized
[00:20:02] [ENEMY] [Enemy7] Death animation component initialized
[00:20:02] [ENEMY] [Enemy8] Death animation component initialized
[00:20:02] [ENEMY] [Enemy9] Death animation component initialized
[00:20:02] [ENEMY] [Enemy10] Death animation component initialized
[00:20:02] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:20:02] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:20:02] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:20:02] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:20:02] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:20:02] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:20:02] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:20:02] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:20:02] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:20:02] [INFO] [ScoreManager] Level started with 10 enemies
[00:20:02] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:20:02] [ENEMY] [Enemy1] Registered as sound listener
[00:20:02] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:20:02] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:20:02] [ENEMY] [Enemy2] Registered as sound listener
[00:20:02] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:20:02] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:20:02] [ENEMY] [Enemy3] Registered as sound listener
[00:20:02] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:20:02] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:20:02] [ENEMY] [Enemy4] Registered as sound listener
[00:20:02] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:20:02] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:20:02] [ENEMY] [Enemy5] Registered as sound listener
[00:20:02] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:20:02] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:20:02] [ENEMY] [Enemy6] Registered as sound listener
[00:20:02] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:20:02] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:20:02] [ENEMY] [Enemy7] Registered as sound listener
[00:20:02] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:20:02] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:20:02] [ENEMY] [Enemy8] Registered as sound listener
[00:20:02] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:20:02] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:20:02] [ENEMY] [Enemy9] Registered as sound listener
[00:20:02] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:20:02] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:20:02] [ENEMY] [Enemy10] Registered as sound listener
[00:20:02] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:20:02] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:20:02] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:20:02] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:20:02] [INFO] [LastChance] Found player: Player
[00:20:02] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:20:02] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:20:02] [INFO] [LastChance] Connected to player Died signal (C#)
[00:20:02] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:20:02] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:20:02] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:20:03] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:20:03] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:20:03] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1084.0999, 1595.3062)
[00:20:03] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:20:03] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:20:03] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:20:03] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:20:03] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:20:03] [INFO] [Player.Grenade] Step 1 complete! Drag: (99.77966, 14.025879)
[00:20:03] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:20:03] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:20:03] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:20:03] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:20:03] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:20:03] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:20:03] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:20:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:20:04] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:20:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:20:04] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:20:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=12119021979718, bullet_pos=(41.69983, 702.3934)
[00:20:04] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:20:04] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:20:04] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:20:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=12119021979718, bullet_pos=(521.6281, 330.6149)
[00:20:05] [INFO] [Bullet] Using shooter_position, distance=1202.07348632813
[00:20:05] [INFO] [Bullet] Distance to wall: 1202.07348632813 (81.8513941023137% of viewport)
[00:20:05] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:20:05] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.0057644313, -172.76102) (172,8 px/s), Swing distance: 471,3
[00:20:05] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,570763
[00:20:05] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.005764, -172.761), Swing: 471.3, Transfer: 1.00, Final speed: 81.4
[00:20:05] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:20:05] [INFO] [Player.Grenade] Thrown! Velocity: 172,8, Swing: 471,3
[00:20:05] [INFO] [Player.Grenade] State reset to IDLE
[00:20:05] [INFO] [GrenadeBase] Grenade landed at (450.0022, 674.1396)
[00:20:05] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:20:05] [INFO] [GrenadeBase] EXPLODED at (450.0022, 674.1396)!
[00:20:05] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450.0022, 674.1396), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:20:05] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:20:05] [ENEMY] [Enemy2] Hit taken, health: 2/3
[00:20:05] [ENEMY] [Enemy2] Hit taken, health: 1/3
[00:20:05] [ENEMY] [Enemy2] Hit taken, health: 0/3
[00:20:05] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:20:05] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:20:05] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[00:20:05] [INFO] [DeathAnim] Started - Angle: -111.9 deg, Index: 4
[00:20:05] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.37362, -0.927582)
[00:20:05] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 133.8
[00:20:05] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -14.3 degrees
[00:20:05] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 91.0 degrees
[00:20:05] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 164.5 degrees
[00:20:05] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 284.7 degrees
[00:20:05] [INFO] [Player.Grenade] Player rotation restored to 0
[00:20:05] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:20:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=12119021979718, bullet_pos=(151.0873, 63.87733)
[00:20:05] [INFO] [Bullet] Using shooter_position, distance=1612.19140625
[00:20:05] [INFO] [Bullet] Distance to wall: 1612.19140625 (109.77707741015% of viewport)
[00:20:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=9
[00:20:05] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:20:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:20:05] [INFO] [LastChance] Threat detected: @Area2D@12936
[00:20:05] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=12119021979718, bullet_pos=(48.71963, 148.6985)
[00:20:05] [INFO] [Bullet] Using shooter_position, distance=1599.97009277344
[00:20:05] [INFO] [Bullet] Distance to wall: 1599.97009277344 (108.944905702517% of viewport)
[00:20:05] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:20:05] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:20:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=9
[00:20:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:20:05] [INFO] [LastChance] Threat detected: @Area2D@12940
[00:20:05] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:05] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:20:05] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:20:05] [ENEMY] [Enemy1] Hit taken, health: 2/3
[00:20:05] [ENEMY] [Enemy2] Ragdoll activated
[00:20:05] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:20:05] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:20:05] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:20:05] [ENEMY] [Enemy1] Death animation component initialized
[00:20:05] [ENEMY] [Enemy2] Death animation component initialized
[00:20:05] [ENEMY] [Enemy3] Death animation component initialized
[00:20:05] [ENEMY] [Enemy4] Death animation component initialized
[00:20:05] [ENEMY] [Enemy5] Death animation component initialized
[00:20:05] [ENEMY] [Enemy6] Death animation component initialized
[00:20:05] [ENEMY] [Enemy7] Death animation component initialized
[00:20:05] [ENEMY] [Enemy8] Death animation component initialized
[00:20:05] [ENEMY] [Enemy9] Death animation component initialized
[00:20:05] [ENEMY] [Enemy10] Death animation component initialized
[00:20:05] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:20:05] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:20:05] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:20:05] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:20:05] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:20:05] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:20:05] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:20:05] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:20:05] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:20:05] [INFO] [ScoreManager] Level started with 10 enemies
[00:20:05] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:20:05] [ENEMY] [Enemy1] Registered as sound listener
[00:20:05] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:20:05] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:20:05] [ENEMY] [Enemy2] Registered as sound listener
[00:20:05] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:20:05] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:20:05] [ENEMY] [Enemy3] Registered as sound listener
[00:20:05] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:20:05] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:20:05] [ENEMY] [Enemy4] Registered as sound listener
[00:20:05] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:20:05] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:20:05] [ENEMY] [Enemy5] Registered as sound listener
[00:20:05] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:20:05] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:20:05] [ENEMY] [Enemy6] Registered as sound listener
[00:20:05] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:20:05] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:20:05] [ENEMY] [Enemy7] Registered as sound listener
[00:20:05] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:20:05] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:20:05] [ENEMY] [Enemy8] Registered as sound listener
[00:20:05] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:20:05] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:20:05] [ENEMY] [Enemy9] Registered as sound listener
[00:20:05] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:20:05] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:20:05] [ENEMY] [Enemy10] Registered as sound listener
[00:20:05] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:20:05] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:20:05] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:20:05] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:20:05] [INFO] [LastChance] Found player: Player
[00:20:05] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:20:05] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:20:05] [INFO] [LastChance] Connected to player Died signal (C#)
[00:20:05] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:20:05] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:20:05] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:20:06] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:20:06] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:20:06] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1216.5771, 1592.3562)
[00:20:06] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:20:06] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:20:06] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:20:06] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1177.1666)
[00:20:06] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:20:06] [INFO] [Player.Grenade] Step 1 complete! Drag: (43.641846, -12.552246)
[00:20:06] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:20:06] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:20:06] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:20:06] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:20:06] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:20:06] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:20:06] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:20:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:20:06] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:20:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:20:07] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:20:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=12301692307686, bullet_pos=(41.69983, 702.3934)
[00:20:07] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:20:07] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:20:07] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:20:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=12301692307686, bullet_pos=(308.4119, 461.8413)
[00:20:07] [INFO] [Bullet] Using shooter_position, distance=1193.869140625
[00:20:07] [INFO] [Bullet] Distance to wall: 1193.869140625 (81.2927451169264% of viewport)
[00:20:07] [ENEMY] [Enemy2] Hit taken, health: 1/2
[00:20:07] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:20:07] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (100.29601, -180.89851) (206,8 px/s), Swing distance: 433,3
[00:20:07] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,0645564
[00:20:07] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (100.296, -180.8985), Swing: 433.3, Transfer: 1.00, Final speed: 97.5
[00:20:07] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:20:07] [INFO] [Player.Grenade] Thrown! Velocity: 206,8, Swing: 433,3
[00:20:07] [INFO] [Player.Grenade] State reset to IDLE
[00:20:07] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:20:07] [INFO] [FragGrenade] Wall impact detected! Body: Room1_WallBottom, triggering explosion
[00:20:07] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:20:07] [INFO] [GrenadeBase] EXPLODED at (479.8301, 679.1166)!
[00:20:07] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(479.8301, 679.1166), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:20:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:20:07] [ENEMY] [Enemy2] Hit taken, health: 0/2
[00:20:07] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:20:07] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:20:07] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[00:20:07] [INFO] [DeathAnim] Started - Angle: -121.7 deg, Index: 3
[00:20:07] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.525882, -0.850558)
[00:20:07] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 151.8
[00:20:07] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:20:07] [ENEMY] [Enemy3] Hit taken, health: 1/3
[00:20:07] [ENEMY] [Enemy3] Hit taken, health: 0/3
[00:20:07] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:20:07] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:20:07] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 8)
[00:20:07] [INFO] [DeathAnim] Started - Angle: 20.0 deg, Index: 13
[00:20:07] [ENEMY] [Enemy3] Death animation started with hit direction: (0.939446, 0.342696)
[00:20:07] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 217.8
[00:20:07] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 11.2 degrees
[00:20:07] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 108.3 degrees
[00:20:07] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 187.4 degrees
[00:20:07] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 270.9 degrees
[00:20:07] [INFO] [Player.Grenade] Player rotation restored to 0
[00:20:07] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:20:08] [ENEMY] [Enemy2] Ragdoll activated
[00:20:08] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:20:08] [ENEMY] [Enemy3] Ragdoll activated
[00:20:08] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:20:08] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:20:08] [ENEMY] [Enemy7] Hit taken, health: 3/4
[00:20:08] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:20:08] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:20:08] [ENEMY] [Enemy1] Death animation component initialized
[00:20:08] [ENEMY] [Enemy2] Death animation component initialized
[00:20:08] [ENEMY] [Enemy3] Death animation component initialized
[00:20:08] [ENEMY] [Enemy4] Death animation component initialized
[00:20:08] [ENEMY] [Enemy5] Death animation component initialized
[00:20:08] [ENEMY] [Enemy6] Death animation component initialized
[00:20:08] [ENEMY] [Enemy7] Death animation component initialized
[00:20:08] [ENEMY] [Enemy8] Death animation component initialized
[00:20:08] [ENEMY] [Enemy9] Death animation component initialized
[00:20:08] [ENEMY] [Enemy10] Death animation component initialized
[00:20:08] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:20:08] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:20:08] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:20:08] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:20:08] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:20:08] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:20:08] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:20:08] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:20:08] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:20:08] [INFO] [ScoreManager] Level started with 10 enemies
[00:20:08] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[00:20:08] [ENEMY] [Enemy1] Registered as sound listener
[00:20:08] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:20:08] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[00:20:08] [ENEMY] [Enemy2] Registered as sound listener
[00:20:08] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:20:08] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[00:20:08] [ENEMY] [Enemy3] Registered as sound listener
[00:20:08] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:20:08] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[00:20:08] [ENEMY] [Enemy4] Registered as sound listener
[00:20:08] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:20:08] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[00:20:08] [ENEMY] [Enemy5] Registered as sound listener
[00:20:08] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:20:08] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[00:20:08] [ENEMY] [Enemy6] Registered as sound listener
[00:20:08] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:20:08] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[00:20:08] [ENEMY] [Enemy7] Registered as sound listener
[00:20:08] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:20:08] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[00:20:08] [ENEMY] [Enemy8] Registered as sound listener
[00:20:08] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:20:08] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[00:20:08] [ENEMY] [Enemy9] Registered as sound listener
[00:20:08] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:20:08] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[00:20:08] [ENEMY] [Enemy10] Registered as sound listener
[00:20:08] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:20:08] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:20:08] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:20:08] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:20:08] [INFO] [LastChance] Found player: Player
[00:20:08] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:20:08] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:20:08] [INFO] [LastChance] Connected to player Died signal (C#)
[00:20:08] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:20:08] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:20:08] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:20:08] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:20:08] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:20:09] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (992.99554, 1554.2856)
[00:20:09] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:20:09] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:20:09] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:20:09] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:20:09] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1166.1666)
[00:20:09] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:20:09] [INFO] [Player.Grenade] Step 1 complete! Drag: (275.2685, 18.143066)
[00:20:09] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:20:09] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:20:09] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:20:09] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:20:09] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:20:09] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:20:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=18
[00:20:09] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[00:20:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:20:09] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:20:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=12453710662203, bullet_pos=(41.69983, 702.3934)
[00:20:10] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:20:10] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:20:10] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:20:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=12453710662203, bullet_pos=(520.5224, 329.192)
[00:20:10] [INFO] [Bullet] Using shooter_position, distance=1203.8212890625
[00:20:10] [INFO] [Bullet] Distance to wall: 1203.8212890625 (81.9704052044231% of viewport)
[00:20:10] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:20:10] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.09741327, -332.14142) (332,1 px/s), Swing distance: 341,8
[00:20:10] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,570503
[00:20:10] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.097413, -332.1414), Swing: 341.8, Transfer: 1.00, Final speed: 156.6
[00:20:10] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:20:10] [INFO] [Player.Grenade] Thrown! Velocity: 332,1, Swing: 341,8
[00:20:10] [INFO] [Player.Grenade] State reset to IDLE
[00:20:10] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:20:10] [INFO] [FragGrenade] Wall impact detected! Body: Room1_WallBottom, triggering explosion
[00:20:10] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:20:10] [INFO] [GrenadeBase] EXPLODED at (450.0183, 679.688)!
[00:20:10] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450.0183, 679.688), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:20:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:20:10] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:20:10] [ENEMY] [Enemy2] Hit taken, health: 2/4
[00:20:10] [ENEMY] [Enemy2] Hit taken, health: 1/4
[00:20:10] [ENEMY] [Enemy2] Hit taken, health: 0/4
[00:20:10] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:20:10] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:20:10] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[00:20:10] [INFO] [DeathAnim] Started - Angle: -111.1 deg, Index: 4
[00:20:10] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.359846, -0.933012)
[00:20:10] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 139.0
[00:20:10] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 0.3 degrees
[00:20:10] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 86.2 degrees
[00:20:10] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 173.2 degrees
[00:20:10] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 274.5 degrees
[00:20:10] [INFO] [Player.Grenade] Player rotation restored to 0
[00:20:10] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:20:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=12453710662203, bullet_pos=(149.8737, 62.60434)
[00:20:10] [INFO] [Bullet] Using shooter_position, distance=1613.91418457031
[00:20:10] [INFO] [Bullet] Distance to wall: 1613.91418457031 (109.894384553891% of viewport)
[00:20:10] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:20:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=12453710662203, bullet_pos=(58.50719, 118.9698)
[00:20:10] [INFO] [Bullet] Using shooter_position, distance=1618.14294433594
[00:20:10] [INFO] [Bullet] Distance to wall: 1618.14294433594 (110.182328582336% of viewport)
[00:20:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=12453710662203, bullet_pos=(230.2923, 222.8515)
[00:20:10] [INFO] [Bullet] Using shooter_position, distance=1435.50708007813
[00:20:10] [INFO] [Bullet] Distance to wall: 1435.50708007813 (97.7463167472801% of viewport)
[00:20:10] [ENEMY] [Enemy2] Ragdoll activated
[00:20:10] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:20:10] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:20:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:20:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:20:11] [ENEMY] [Enemy1] Death animation component initialized
[00:20:11] [ENEMY] [Enemy2] Death animation component initialized
[00:20:11] [ENEMY] [Enemy3] Death animation component initialized
[00:20:11] [ENEMY] [Enemy4] Death animation component initialized
[00:20:11] [ENEMY] [Enemy5] Death animation component initialized
[00:20:11] [ENEMY] [Enemy6] Death animation component initialized
[00:20:11] [ENEMY] [Enemy7] Death animation component initialized
[00:20:11] [ENEMY] [Enemy8] Death animation component initialized
[00:20:11] [ENEMY] [Enemy9] Death animation component initialized
[00:20:11] [ENEMY] [Enemy10] Death animation component initialized
[00:20:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:20:11] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:20:11] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:20:11] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:20:11] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:20:11] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:20:11] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:20:11] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:20:11] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:20:11] [INFO] [ScoreManager] Level started with 10 enemies
[00:20:11] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:20:11] [ENEMY] [Enemy1] Registered as sound listener
[00:20:11] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:20:11] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:20:11] [ENEMY] [Enemy2] Registered as sound listener
[00:20:11] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:20:11] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:20:11] [ENEMY] [Enemy3] Registered as sound listener
[00:20:11] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:20:11] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:20:11] [ENEMY] [Enemy4] Registered as sound listener
[00:20:11] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:20:11] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:20:11] [ENEMY] [Enemy5] Registered as sound listener
[00:20:11] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:20:11] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:20:11] [ENEMY] [Enemy6] Registered as sound listener
[00:20:11] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:20:11] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:20:11] [ENEMY] [Enemy7] Registered as sound listener
[00:20:11] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:20:11] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:20:11] [ENEMY] [Enemy8] Registered as sound listener
[00:20:11] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:20:11] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:20:11] [ENEMY] [Enemy9] Registered as sound listener
[00:20:11] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:20:11] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:20:11] [ENEMY] [Enemy10] Registered as sound listener
[00:20:11] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:20:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:20:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:20:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:20:11] [INFO] [LastChance] Found player: Player
[00:20:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:20:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:20:11] [INFO] [LastChance] Connected to player Died signal (C#)
[00:20:11] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:20:11] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:20:11] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:20:11] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:20:11] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:20:11] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1174.2877, 1553.185)
[00:20:11] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:20:11] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:20:11] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:20:11] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:20:11] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1155.1666)
[00:20:11] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:20:11] [INFO] [Player.Grenade] Step 1 complete! Drag: (90.47583, 11.289551)
[00:20:11] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:20:11] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:20:11] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:20:11] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:20:11] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:20:11] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:20:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:20:12] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:20:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:20:12] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:20:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=12603883522943, bullet_pos=(41.69983, 702.3934)
[00:20:12] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:20:12] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:20:12] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:20:12] [INFO] [Bullet] Penetration failed (distance roll)
[00:20:12] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:20:12] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:20:12] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.095771335, -280.29373) (280,3 px/s), Swing distance: 444,0
[00:20:12] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5704546
[00:20:12] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.095771, -280.2937), Swing: 444.0, Transfer: 1.00, Final speed: 132.1
[00:20:12] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:20:12] [INFO] [Player.Grenade] Thrown! Velocity: 280,3, Swing: 444,0
[00:20:12] [INFO] [Player.Grenade] State reset to IDLE
[00:20:13] [INFO] [Player.Grenade] Player rotation restored to 0
[00:20:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:20:13] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:20:13] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:20:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:20:13] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:20:13] [INFO] [GrenadeBase] Grenade landed at (450.0269, 658.0856)
[00:20:13] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:20:13] [INFO] [GrenadeBase] EXPLODED at (450.0269, 658.0856)!
[00:20:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450.0269, 658.0856), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:20:13] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:20:13] [ENEMY] [Enemy2] Hit taken, health: 1/2
[00:20:13] [ENEMY] [Enemy2] Hit taken, health: 0/2
[00:20:13] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:20:13] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:20:13] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[00:20:13] [INFO] [DeathAnim] Started - Angle: -114.8 deg, Index: 4
[00:20:13] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.420036, -0.907508)
[00:20:13] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 119.1
[00:20:13] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -0.5 degrees
[00:20:13] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 105.5 degrees
[00:20:13] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 176.6 degrees
[00:20:13] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 253.0 degrees
[00:20:13] [INFO] [LastChance] Threat detected: Bullet
[00:20:13] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:13] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:20:13] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:20:13] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:20:13] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:20:13] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:20:13] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:20:13] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:20:13] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:20:13] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:20:13] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:20:13] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:20:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=9
[00:20:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:20:13] [ENEMY] [Enemy1] Hit taken, health: 1/2
[00:20:13] [INFO] [LastChance] Threat detected: Bullet
[00:20:13] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:13] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:20:13] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:20:13] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:20:13] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:20:13] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:20:13] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:20:13] [INFO] [LastChance] Player died
[00:20:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=9
[00:20:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:20:14] [INFO] [LastChance] Threat detected: Bullet
[00:20:14] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:14] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:20:14] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:20:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(676.6804, 761.8265), source=ENEMY (Enemy3), range=1469, listeners=9
[00:20:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:20:14] [INFO] [LastChance] Threat detected: Bullet
[00:20:14] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(661.0578, 782.2442), source=ENEMY (Enemy3), range=1469, listeners=9
[00:20:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:20:14] [INFO] [LastChance] Threat detected: Bullet
[00:20:14] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:14] [ENEMY] [Enemy2] Ragdoll activated
[00:20:14] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:20:14] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:20:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(650.1232, 805.9537), source=ENEMY (Enemy3), range=1469, listeners=9
[00:20:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:20:14] [INFO] [LastChance] Threat detected: @Area2D@13804
[00:20:14] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:14] [ENEMY] [Enemy10] FLANKING started: target=(647.4418, 697.5579), side=left, pos=(1022.668, 1432.257)
[00:20:14] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:20:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(584.0691, 789.0499), shooter_id=12601887034468, bullet_pos=(437.3447, 709.9944)
[00:20:14] [INFO] [Bullet] Using shooter_position, distance=166.666732788086
[00:20:14] [INFO] [Bullet] Distance to wall: 166.666732788086 (11.3486443086383% of viewport)
[00:20:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:20:14] [INFO] [Bullet] Starting wall penetration at (437.3447, 709.9944)
[00:20:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(593.4575, 773.372), shooter_id=12601887034468, bullet_pos=(139.1992, 712.39)
[00:20:14] [INFO] [Bullet] Using shooter_position, distance=458.333312988281
[00:20:14] [INFO] [Bullet] Distance to wall: 458.333312988281 (31.2087580820184% of viewport)
[00:20:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:20:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 0.29736238718033
[00:20:14] [INFO] [Bullet] Max penetration distance exceeded: 83.3333358764648 >= 48
[00:20:14] [INFO] [Bullet] Body exited signal received for penetrating body
[00:20:14] [INFO] [Bullet] Exiting penetration at (359.5808, 668.0951) after traveling 83.3333358764648 pixels through wall
[00:20:14] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:20:14] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:20:14] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:20:14] [ENEMY] [Enemy1] Death animation component initialized
[00:20:14] [ENEMY] [Enemy2] Death animation component initialized
[00:20:14] [ENEMY] [Enemy3] Death animation component initialized
[00:20:14] [ENEMY] [Enemy4] Death animation component initialized
[00:20:14] [ENEMY] [Enemy5] Death animation component initialized
[00:20:14] [ENEMY] [Enemy6] Death animation component initialized
[00:20:14] [ENEMY] [Enemy7] Death animation component initialized
[00:20:14] [ENEMY] [Enemy8] Death animation component initialized
[00:20:14] [ENEMY] [Enemy9] Death animation component initialized
[00:20:14] [ENEMY] [Enemy10] Death animation component initialized
[00:20:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:20:14] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:20:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:20:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:20:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:20:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:20:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:20:14] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:20:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:20:14] [INFO] [ScoreManager] Level started with 10 enemies
[00:20:14] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:20:14] [ENEMY] [Enemy1] Registered as sound listener
[00:20:14] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:20:14] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:20:14] [ENEMY] [Enemy2] Registered as sound listener
[00:20:14] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:20:14] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:20:14] [ENEMY] [Enemy3] Registered as sound listener
[00:20:14] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:20:14] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:20:14] [ENEMY] [Enemy4] Registered as sound listener
[00:20:14] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:20:14] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:20:14] [ENEMY] [Enemy5] Registered as sound listener
[00:20:14] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:20:14] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:20:14] [ENEMY] [Enemy6] Registered as sound listener
[00:20:14] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:20:14] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:20:14] [ENEMY] [Enemy7] Registered as sound listener
[00:20:14] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:20:14] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:20:14] [ENEMY] [Enemy8] Registered as sound listener
[00:20:14] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:20:14] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:20:14] [ENEMY] [Enemy9] Registered as sound listener
[00:20:14] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:20:14] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:20:14] [ENEMY] [Enemy10] Registered as sound listener
[00:20:14] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:20:14] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:20:14] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:20:14] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:20:14] [INFO] [LastChance] Found player: Player
[00:20:14] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:20:14] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:20:14] [INFO] [LastChance] Connected to player Died signal (C#)
[00:20:14] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:20:14] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:20:14] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:20:14] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:20:14] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:20:14] [ENEMY] [Enemy1] Death animation component initialized
[00:20:14] [ENEMY] [Enemy2] Death animation component initialized
[00:20:14] [ENEMY] [Enemy3] Death animation component initialized
[00:20:14] [ENEMY] [Enemy4] Death animation component initialized
[00:20:14] [ENEMY] [Enemy5] Death animation component initialized
[00:20:14] [ENEMY] [Enemy6] Death animation component initialized
[00:20:14] [ENEMY] [Enemy7] Death animation component initialized
[00:20:14] [ENEMY] [Enemy8] Death animation component initialized
[00:20:14] [ENEMY] [Enemy9] Death animation component initialized
[00:20:14] [ENEMY] [Enemy10] Death animation component initialized
[00:20:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:20:14] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:20:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:20:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:20:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:20:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:20:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:20:14] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:20:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:20:14] [INFO] [ScoreManager] Level started with 10 enemies
[00:20:14] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[00:20:14] [ENEMY] [Enemy1] Registered as sound listener
[00:20:14] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:20:14] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[00:20:14] [ENEMY] [Enemy2] Registered as sound listener
[00:20:14] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:20:14] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[00:20:14] [ENEMY] [Enemy3] Registered as sound listener
[00:20:14] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:20:14] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[00:20:14] [ENEMY] [Enemy4] Registered as sound listener
[00:20:14] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:20:14] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[00:20:14] [ENEMY] [Enemy5] Registered as sound listener
[00:20:14] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:20:14] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[00:20:14] [ENEMY] [Enemy6] Registered as sound listener
[00:20:14] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:20:14] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[00:20:14] [ENEMY] [Enemy7] Registered as sound listener
[00:20:14] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:20:14] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[00:20:14] [ENEMY] [Enemy8] Registered as sound listener
[00:20:14] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:20:14] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[00:20:14] [ENEMY] [Enemy9] Registered as sound listener
[00:20:14] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:20:14] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[00:20:14] [ENEMY] [Enemy10] Registered as sound listener
[00:20:14] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:20:14] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:20:14] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:20:14] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:20:14] [INFO] [LastChance] Found player: Player
[00:20:14] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:20:14] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:20:14] [INFO] [LastChance] Connected to player Died signal (C#)
[00:20:14] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:20:14] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:20:14] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:20:15] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:20:15] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:20:15] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:20:15] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1187.5654, 1485.8447)
[00:20:15] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:20:15] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:20:15] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:20:15] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1028.6666)
[00:20:15] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:20:15] [INFO] [Player.Grenade] Step 1 complete! Drag: (91.21265, -54.04883)
[00:20:15] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:20:15] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:20:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=29
[00:20:15] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[00:20:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:20:15] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:20:15] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:20:15] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:20:16] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:20:16] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:20:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=12826953386733, bullet_pos=(41.69983, 702.3934)
[00:20:16] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:20:16] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:20:16] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:20:16] [INFO] [Bullet] Starting wall penetration at (41.69983, 702.3934)
[00:20:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.508674621582
[00:20:16] [INFO] [Bullet] Body exited signal received for penetrating body
[00:20:16] [INFO] [Bullet] Exiting penetration at (4.46851, 674.2579) after traveling 41.6666717529297 pixels through wall
[00:20:16] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:20:16] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:20:17] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:20:17] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (23.5812, 39.51595) (46,0 px/s), Swing distance: 250,5
[00:20:17] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,0327688
[00:20:17] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (23.5812, 39.51595), Swing: 250.5, Transfer: 1.00, Final speed: 21.7
[00:20:17] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:20:17] [INFO] [Player.Grenade] Thrown! Velocity: 46,0, Swing: 250,5
[00:20:17] [INFO] [Player.Grenade] State reset to IDLE
[00:20:17] [INFO] [GrenadeBase] Grenade landed at (514.6815, 790.764)
[00:20:17] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:20:17] [INFO] [GrenadeBase] EXPLODED at (514.6815, 790.764)!
[00:20:17] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(514.6815, 790.764), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:20:17] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:20:17] [ENEMY] [Enemy3] Hit taken, health: 1/2
[00:20:17] [ENEMY] [Enemy3] Hit taken, health: 0/2
[00:20:17] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:20:17] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:20:17] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:20:17] [INFO] [DeathAnim] Started - Angle: -12.4 deg, Index: 11
[00:20:17] [ENEMY] [Enemy3] Death animation started with hit direction: (0.976651, -0.214831)
[00:20:17] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 189.7
[00:20:17] [INFO] [FragGrenade] Player found in blast radius at distance 60.0
[00:20:17] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:20:17] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:20:17] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:20:17] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:20:17] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:20:17] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:20:17] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:20:17] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:20:17] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:20:17] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:20:17] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:20:17] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:20:17] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:20:17] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:20:17] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:20:17] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:20:17] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:20:17] [INFO] [LastChance] Player died
[00:20:17] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 60.0
[00:20:17] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 0.6 degrees
[00:20:17] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 76.5 degrees
[00:20:17] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 180.2 degrees
[00:20:17] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 265.8 degrees
[00:20:17] [INFO] [Player.Grenade] Player rotation restored to 0
[00:20:17] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:20:17] [ENEMY] [Enemy10] FLANKING started: target=(682.129, 708.5361), side=left, pos=(1022.668, 1432.257)
[00:20:17] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:20:17] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:20:17] [ENEMY] [Enemy7] Hit taken, health: 3/4
[00:20:17] [ENEMY] [Enemy3] Ragdoll activated
[00:20:17] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:20:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:20:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:20:17] [ENEMY] [Enemy1] Death animation component initialized
[00:20:17] [ENEMY] [Enemy2] Death animation component initialized
[00:20:17] [ENEMY] [Enemy3] Death animation component initialized
[00:20:17] [ENEMY] [Enemy4] Death animation component initialized
[00:20:17] [ENEMY] [Enemy5] Death animation component initialized
[00:20:17] [ENEMY] [Enemy6] Death animation component initialized
[00:20:17] [ENEMY] [Enemy7] Death animation component initialized
[00:20:17] [ENEMY] [Enemy8] Death animation component initialized
[00:20:17] [ENEMY] [Enemy9] Death animation component initialized
[00:20:17] [ENEMY] [Enemy10] Death animation component initialized
[00:20:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:20:17] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:20:17] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:20:17] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:20:17] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:20:17] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:20:17] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:20:17] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:20:17] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:20:17] [INFO] [ScoreManager] Level started with 10 enemies
[00:20:17] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:20:17] [ENEMY] [Enemy1] Registered as sound listener
[00:20:17] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:20:17] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:20:17] [ENEMY] [Enemy2] Registered as sound listener
[00:20:17] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:20:17] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:20:17] [ENEMY] [Enemy3] Registered as sound listener
[00:20:17] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:20:17] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:20:17] [ENEMY] [Enemy4] Registered as sound listener
[00:20:17] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:20:17] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:20:17] [ENEMY] [Enemy5] Registered as sound listener
[00:20:17] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:20:17] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:20:17] [ENEMY] [Enemy6] Registered as sound listener
[00:20:17] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:20:17] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:20:17] [ENEMY] [Enemy7] Registered as sound listener
[00:20:17] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:20:17] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:20:17] [ENEMY] [Enemy8] Registered as sound listener
[00:20:17] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:20:17] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:20:17] [ENEMY] [Enemy9] Registered as sound listener
[00:20:17] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:20:17] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:20:17] [ENEMY] [Enemy10] Registered as sound listener
[00:20:17] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:20:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:20:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:20:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:20:17] [INFO] [LastChance] Found player: Player
[00:20:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:20:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:20:17] [INFO] [LastChance] Connected to player Died signal (C#)
[00:20:17] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:20:17] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:20:17] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:20:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:20:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:20:17] [ENEMY] [Enemy1] Death animation component initialized
[00:20:17] [ENEMY] [Enemy2] Death animation component initialized
[00:20:17] [ENEMY] [Enemy3] Death animation component initialized
[00:20:17] [ENEMY] [Enemy4] Death animation component initialized
[00:20:17] [ENEMY] [Enemy5] Death animation component initialized
[00:20:17] [ENEMY] [Enemy6] Death animation component initialized
[00:20:17] [ENEMY] [Enemy7] Death animation component initialized
[00:20:17] [ENEMY] [Enemy8] Death animation component initialized
[00:20:17] [ENEMY] [Enemy9] Death animation component initialized
[00:20:17] [ENEMY] [Enemy10] Death animation component initialized
[00:20:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:20:17] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:20:17] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:20:17] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:20:17] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:20:17] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:20:17] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:20:17] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:20:17] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:20:17] [INFO] [ScoreManager] Level started with 10 enemies
[00:20:17] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[00:20:17] [ENEMY] [Enemy1] Registered as sound listener
[00:20:17] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:20:17] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[00:20:17] [ENEMY] [Enemy2] Registered as sound listener
[00:20:17] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:20:17] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[00:20:17] [ENEMY] [Enemy3] Registered as sound listener
[00:20:17] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:20:17] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[00:20:17] [ENEMY] [Enemy4] Registered as sound listener
[00:20:17] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:20:17] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[00:20:17] [ENEMY] [Enemy5] Registered as sound listener
[00:20:17] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:20:17] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[00:20:17] [ENEMY] [Enemy6] Registered as sound listener
[00:20:17] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:20:17] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[00:20:17] [ENEMY] [Enemy7] Registered as sound listener
[00:20:17] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:20:17] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[00:20:17] [ENEMY] [Enemy8] Registered as sound listener
[00:20:17] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:20:17] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[00:20:17] [ENEMY] [Enemy9] Registered as sound listener
[00:20:17] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:20:17] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[00:20:17] [ENEMY] [Enemy10] Registered as sound listener
[00:20:17] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:20:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:20:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:20:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:20:17] [INFO] [LastChance] Found player: Player
[00:20:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:20:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:20:17] [INFO] [LastChance] Connected to player Died signal (C#)
[00:20:17] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:20:17] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:20:17] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:20:18] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:20:18] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:20:18] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:20:18] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1096.8569, 1517.0535)
[00:20:18] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:20:18] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:20:18] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:20:18] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1127.6666)
[00:20:18] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:20:18] [INFO] [Player.Grenade] Step 1 complete! Drag: (171.4071, 25.573975)
[00:20:18] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:20:18] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:20:18] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:20:18] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:20:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=29
[00:20:18] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[00:20:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:20:18] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:20:18] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:20:18] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:20:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13022022075921, bullet_pos=(41.69983, 702.3934)
[00:20:19] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:20:19] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:20:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13022022075921, bullet_pos=(516.9997, 324.716)
[00:20:19] [INFO] [Bullet] Using shooter_position, distance=1209.33825683594
[00:20:19] [INFO] [Bullet] Distance to wall: 1209.33825683594 (82.3460656849256% of viewport)
[00:20:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13022022075921, bullet_pos=(256.5663, 67.20192)
[00:20:19] [INFO] [Bullet] Using shooter_position, distance=1555.92919921875
[00:20:19] [INFO] [Bullet] Distance to wall: 1555.92919921875 (105.946080276317% of viewport)
[00:20:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13022022075921, bullet_pos=(54.01909, 337.3553)
[00:20:19] [INFO] [Bullet] Using shooter_position, distance=1449.68542480469
[00:20:19] [INFO] [Bullet] Distance to wall: 1449.68542480469 (98.7117463113887% of viewport)
[00:20:20] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:20:20] [INFO] [LastChance] Threat detected: Bullet
[00:20:20] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13022022075921, bullet_pos=(411.5338, 694.3801)
[00:20:20] [INFO] [Bullet] Using shooter_position, distance=946.322937011719
[00:20:20] [INFO] [Bullet] Distance to wall: 946.322937011719 (64.4368689155679% of viewport)
[00:20:20] [ENEMY] [Enemy10] FLANKING started: target=(682.2285, 701.9385), side=left, pos=(1026.756, 1435.682)
[00:20:20] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:20:20] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:20:20] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (237.5312, 135.92131) (273,7 px/s), Swing distance: 387,3
[00:20:20] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,51974636
[00:20:20] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (237.5312, 135.9213), Swing: 387.3, Transfer: 1.00, Final speed: 129.0
[00:20:20] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:20:20] [INFO] [Player.Grenade] Thrown! Velocity: 273,7, Swing: 387,3
[00:20:20] [INFO] [Player.Grenade] State reset to IDLE
[00:20:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13022022075921, bullet_pos=(503.192, 571.9967)
[00:20:20] [INFO] [Bullet] Using shooter_position, distance=995.116577148438
[00:20:20] [INFO] [Bullet] Distance to wall: 995.116577148438 (67.7593175960697% of viewport)
[00:20:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:20:20] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[00:20:20] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[00:20:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:20:20] [INFO] [LastChance] Threat detected: @Area2D@14842
[00:20:20] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:20] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:20:20] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:20:20] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:20:20] [INFO] [Player.Grenade] Player rotation restored to 0
[00:20:20] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:20:20] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:20:20] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:20:20] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:20:20] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:20:20] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:20:20] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:20:20] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:20:20] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:20:20] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:20:20] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:20:20] [INFO] [GrenadeBase] Grenade landed at (551.0722, 766.4271)
[00:20:20] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:20:20] [INFO] [GrenadeBase] EXPLODED at (551.0722, 766.4271)!
[00:20:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(551.0722, 766.4271), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:20:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:20:20] [ENEMY] [Enemy3] Hit taken, health: 1/2
[00:20:20] [ENEMY] [Enemy3] Hit taken, health: 0/2
[00:20:20] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:20:20] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:20:20] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:20:20] [INFO] [DeathAnim] Started - Angle: -6.3 deg, Index: 11
[00:20:20] [ENEMY] [Enemy3] Death animation started with hit direction: (0.993972, -0.109637)
[00:20:20] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 149.8
[00:20:20] [INFO] [FragGrenade] Player found in blast radius at distance 77.4
[00:20:20] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:20:20] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:20:20] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:20:20] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:20:20] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:20:20] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:20:20] [INFO] [LastChance] Player died
[00:20:20] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 77.4
[00:20:20] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -4.7 degrees
[00:20:20] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 104.7 degrees
[00:20:20] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 162.7 degrees
[00:20:20] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 263.3 degrees
[00:20:20] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:20:20] [ENEMY] [Enemy1] Hit taken, health: 2/3
[00:20:20] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:20:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(781.9016, 799.9864), source=ENEMY (Enemy4), range=1469, listeners=9
[00:20:21] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:20:21] [INFO] [LastChance] Threat detected: Bullet
[00:20:21] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:21] [ENEMY] [Enemy3] Ragdoll activated
[00:20:21] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:20:21] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:20:21] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:20:21] [ENEMY] [Enemy1] Death animation component initialized
[00:20:21] [ENEMY] [Enemy2] Death animation component initialized
[00:20:21] [ENEMY] [Enemy3] Death animation component initialized
[00:20:21] [ENEMY] [Enemy4] Death animation component initialized
[00:20:21] [ENEMY] [Enemy5] Death animation component initialized
[00:20:21] [ENEMY] [Enemy6] Death animation component initialized
[00:20:21] [ENEMY] [Enemy7] Death animation component initialized
[00:20:21] [ENEMY] [Enemy8] Death animation component initialized
[00:20:21] [ENEMY] [Enemy9] Death animation component initialized
[00:20:21] [ENEMY] [Enemy10] Death animation component initialized
[00:20:21] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:20:21] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:20:21] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:20:21] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:20:21] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:20:21] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:20:21] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:20:21] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:20:21] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:20:21] [INFO] [ScoreManager] Level started with 10 enemies
[00:20:21] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:20:21] [ENEMY] [Enemy1] Registered as sound listener
[00:20:21] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:20:21] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:20:21] [ENEMY] [Enemy2] Registered as sound listener
[00:20:21] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:20:21] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:20:21] [ENEMY] [Enemy3] Registered as sound listener
[00:20:21] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:20:21] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:20:21] [ENEMY] [Enemy4] Registered as sound listener
[00:20:21] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:20:21] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:20:21] [ENEMY] [Enemy5] Registered as sound listener
[00:20:21] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:20:21] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:20:21] [ENEMY] [Enemy6] Registered as sound listener
[00:20:21] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:20:21] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:20:21] [ENEMY] [Enemy7] Registered as sound listener
[00:20:21] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:20:21] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:20:21] [ENEMY] [Enemy8] Registered as sound listener
[00:20:21] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:20:21] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:20:21] [ENEMY] [Enemy9] Registered as sound listener
[00:20:21] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:20:21] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:20:21] [ENEMY] [Enemy10] Registered as sound listener
[00:20:21] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:20:21] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:20:21] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:20:21] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:20:21] [INFO] [LastChance] Found player: Player
[00:20:21] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:20:21] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:20:21] [INFO] [LastChance] Connected to player Died signal (C#)
[00:20:21] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:20:21] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:20:21] [ENEMY] [Enemy1] Death animation component initialized
[00:20:21] [ENEMY] [Enemy2] Death animation component initialized
[00:20:21] [ENEMY] [Enemy3] Death animation component initialized
[00:20:21] [ENEMY] [Enemy4] Death animation component initialized
[00:20:21] [ENEMY] [Enemy5] Death animation component initialized
[00:20:21] [ENEMY] [Enemy6] Death animation component initialized
[00:20:21] [ENEMY] [Enemy7] Death animation component initialized
[00:20:21] [ENEMY] [Enemy8] Death animation component initialized
[00:20:21] [ENEMY] [Enemy9] Death animation component initialized
[00:20:21] [ENEMY] [Enemy10] Death animation component initialized
[00:20:21] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:20:21] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:20:21] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:20:21] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:20:21] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:20:21] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:20:21] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:20:21] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:20:21] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:20:21] [INFO] [ScoreManager] Level started with 10 enemies
[00:20:21] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[00:20:21] [ENEMY] [Enemy1] Registered as sound listener
[00:20:21] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:20:21] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[00:20:21] [ENEMY] [Enemy2] Registered as sound listener
[00:20:21] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:20:21] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[00:20:21] [ENEMY] [Enemy3] Registered as sound listener
[00:20:21] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:20:21] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[00:20:21] [ENEMY] [Enemy4] Registered as sound listener
[00:20:21] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:20:21] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[00:20:21] [ENEMY] [Enemy5] Registered as sound listener
[00:20:21] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:20:21] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[00:20:21] [ENEMY] [Enemy6] Registered as sound listener
[00:20:21] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:20:21] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[00:20:21] [ENEMY] [Enemy7] Registered as sound listener
[00:20:21] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:20:21] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[00:20:21] [ENEMY] [Enemy8] Registered as sound listener
[00:20:21] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:20:21] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[00:20:21] [ENEMY] [Enemy9] Registered as sound listener
[00:20:21] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:20:21] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[00:20:21] [ENEMY] [Enemy10] Registered as sound listener
[00:20:21] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:20:21] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:20:21] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:20:21] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:20:21] [INFO] [LastChance] Found player: Player
[00:20:21] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:20:21] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:20:21] [INFO] [LastChance] Connected to player Died signal (C#)
[00:20:21] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:20:21] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:20:21] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:20:21] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:20:21] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:20:21] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1219.9547, 1575.1357)
[00:20:21] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:20:21] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:20:21] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:20:21] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:20:21] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1155.1666)
[00:20:21] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:20:21] [INFO] [Player.Grenade] Step 1 complete! Drag: (50.183838, -10.661133)
[00:20:21] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:20:21] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:20:22] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:20:22] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:20:22] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:20:22] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:20:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=29
[00:20:22] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[00:20:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:20:22] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:20:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13237642856623, bullet_pos=(41.69983, 702.3934)
[00:20:22] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:20:22] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:20:22] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:20:22] [INFO] [Bullet] Starting wall penetration at (41.69983, 702.3934)
[00:20:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.508674621582
[00:20:22] [INFO] [Bullet] Body exited signal received for penetrating body
[00:20:22] [INFO] [Bullet] Exiting penetration at (4.46851, 674.2579) after traveling 41.6666717529297 pixels through wall
[00:20:22] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:20:23] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:20:23] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:20:23] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3629.1328, 796.3171) (3715,5 px/s), Swing distance: 661,9
[00:20:23] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,21600036
[00:20:23] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3629.133, 796.3171), Swing: 661.9, Transfer: 1.00, Final speed: 1186.5
[00:20:23] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:20:23] [INFO] [Player.Grenade] Thrown! Velocity: 3715,5, Swing: 661,9
[00:20:23] [INFO] [Player.Grenade] State reset to IDLE
[00:20:23] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[00:20:23] [INFO] [FragGrenade] Non-wall collision (body: Enemy3, type: CharacterBody2D) - not triggering explosion
[00:20:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:20:23] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[00:20:23] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[00:20:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:20:23] [INFO] [LastChance] Threat detected: Bullet
[00:20:23] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:23] [INFO] [Player.Grenade] Player rotation restored to 0
[00:20:23] [INFO] [GrenadeBase] Collision detected with Table1 (type: StaticBody2D)
[00:20:23] [INFO] [FragGrenade] Wall impact detected! Body: Table1, triggering explosion
[00:20:23] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:20:23] [INFO] [GrenadeBase] EXPLODED at (711.3824, 798.8901)!
[00:20:23] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(711.3824, 798.8901), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:20:23] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:20:23] [ENEMY] [Enemy3] Hit taken, health: 3/4
[00:20:23] [ENEMY] [Enemy3] Hit taken, health: 2/4
[00:20:23] [ENEMY] [Enemy3] Hit taken, health: 1/4
[00:20:23] [ENEMY] [Enemy3] Hit taken, health: 0/4
[00:20:23] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:20:23] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:20:23] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:20:23] [INFO] [DeathAnim] Started - Angle: -103.1 deg, Index: 5
[00:20:23] [ENEMY] [Enemy3] Death animation started with hit direction: (-0.226753, -0.973952)
[00:20:23] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 50.2
[00:20:23] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 1.1 degrees
[00:20:23] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 96.9 degrees
[00:20:23] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 163.3 degrees
[00:20:23] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 263.0 degrees
[00:20:23] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:20:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:20:23] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:20:23] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:20:23] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:20:23] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:20:23] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:20:23] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:20:23] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:20:23] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:20:23] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:20:23] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:20:24] [ENEMY] [Enemy10] FLANKING started: target=(682.2017, 705.121), side=left, pos=(1022.668, 1432.257)
[00:20:24] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:20:25] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:20:25] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:20:25] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:20:25] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:20:25] [ENEMY] [Enemy1] Death animation component initialized
[00:20:25] [ENEMY] [Enemy2] Death animation component initialized
[00:20:25] [ENEMY] [Enemy3] Death animation component initialized
[00:20:25] [ENEMY] [Enemy4] Death animation component initialized
[00:20:25] [ENEMY] [Enemy5] Death animation component initialized
[00:20:25] [ENEMY] [Enemy6] Death animation component initialized
[00:20:25] [ENEMY] [Enemy7] Death animation component initialized
[00:20:25] [ENEMY] [Enemy8] Death animation component initialized
[00:20:25] [ENEMY] [Enemy9] Death animation component initialized
[00:20:25] [ENEMY] [Enemy10] Death animation component initialized
[00:20:25] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:20:25] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:20:25] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:20:25] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:20:25] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:20:25] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:20:25] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:20:25] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:20:25] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:20:25] [INFO] [ScoreManager] Level started with 10 enemies
[00:20:25] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:20:25] [ENEMY] [Enemy1] Registered as sound listener
[00:20:25] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:20:25] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:20:25] [ENEMY] [Enemy2] Registered as sound listener
[00:20:25] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:20:25] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:20:25] [ENEMY] [Enemy3] Registered as sound listener
[00:20:25] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:20:25] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:20:25] [ENEMY] [Enemy4] Registered as sound listener
[00:20:25] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:20:25] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:20:25] [ENEMY] [Enemy5] Registered as sound listener
[00:20:25] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:20:25] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:20:25] [ENEMY] [Enemy6] Registered as sound listener
[00:20:25] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:20:25] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:20:25] [ENEMY] [Enemy7] Registered as sound listener
[00:20:25] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:20:25] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:20:25] [ENEMY] [Enemy8] Registered as sound listener
[00:20:25] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:20:25] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:20:25] [ENEMY] [Enemy9] Registered as sound listener
[00:20:25] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:20:25] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:20:25] [ENEMY] [Enemy10] Registered as sound listener
[00:20:25] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:20:25] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:20:25] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:20:25] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:20:25] [INFO] [LastChance] Found player: Player
[00:20:25] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:20:25] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:20:25] [INFO] [LastChance] Connected to player Died signal (C#)
[00:20:25] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:20:25] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:20:25] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:20:25] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:20:25] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:20:25] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:20:25] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1219.6276, 1543.6412)
[00:20:25] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:20:25] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:20:25] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:20:25] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1105.6666)
[00:20:25] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:20:25] [INFO] [Player.Grenade] Step 1 complete! Drag: (55.865845, -30.651855)
[00:20:25] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:20:25] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:20:26] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:20:26] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:20:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:20:26] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:20:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:20:26] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:20:26] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:20:26] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:20:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13457608937082, bullet_pos=(41.69983, 702.3934)
[00:20:26] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:20:26] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:20:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13457608937082, bullet_pos=(510.9146, 442.7754)
[00:20:26] [INFO] [Bullet] Using shooter_position, distance=1105.09313964844
[00:20:26] [INFO] [Bullet] Distance to wall: 1105.09313964844 (75.2478239657611% of viewport)
[00:20:26] [INFO] [Bullet] Distance-based penetration chance: 58.8775387066121%
[00:20:26] [INFO] [Bullet] Starting wall penetration at (510.9146, 442.7754)
[00:20:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25.4617786407471
[00:20:26] [INFO] [Bullet] Body exited signal received for penetrating body
[00:20:26] [INFO] [Bullet] Exiting penetration at (546.2789, 423.2082) after traveling 35.4166717529297 pixels through wall
[00:20:26] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[00:20:27] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:20:27] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:20:27] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.005924, -236.2203) (236,2 px/s), Swing distance: 310,8
[00:20:27] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5707712
[00:20:27] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.005924, -236.2203), Swing: 310.8, Transfer: 1.00, Final speed: 111.4
[00:20:27] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:20:27] [INFO] [Player.Grenade] Thrown! Velocity: 236,2, Swing: 310,8
[00:20:27] [INFO] [Player.Grenade] State reset to IDLE
[00:20:27] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:20:27] [INFO] [FragGrenade] Wall impact detected! Body: Room1_WallBottom, triggering explosion
[00:20:27] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:20:27] [INFO] [GrenadeBase] EXPLODED at (483.9366, 679.3929)!
[00:20:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(483.9366, 679.3929), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:20:27] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:20:27] [ENEMY] [Enemy2] Hit taken, health: 1/2
[00:20:27] [ENEMY] [Enemy2] Hit taken, health: 0/2
[00:20:27] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:20:27] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:20:27] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[00:20:27] [INFO] [DeathAnim] Started - Angle: -123.0 deg, Index: 3
[00:20:27] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.544218, -0.838944)
[00:20:27] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 154.2
[00:20:27] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -6.4 degrees
[00:20:27] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 76.9 degrees
[00:20:27] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 197.1 degrees
[00:20:27] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 285.3 degrees
[00:20:27] [INFO] [Player.Grenade] Player rotation restored to 0
[00:20:27] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:20:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=9
[00:20:27] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[00:20:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:20:27] [INFO] [LastChance] Threat detected: Bullet
[00:20:27] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:27] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:20:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(685.5527, 761.8204), source=ENEMY (Enemy3), range=1469, listeners=9
[00:20:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:20:27] [INFO] [LastChance] Threat detected: Bullet
[00:20:27] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:27] [ENEMY] [Enemy10] FLANKING started: target=(415.8687, 979.1647), side=right, pos=(1026.766, 1435.67)
[00:20:27] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:20:27] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[00:20:27] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[00:20:27] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[00:20:27] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:20:27] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[00:20:27] [ENEMY] [Enemy2] Ragdoll activated
[00:20:27] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:20:27] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:20:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(619.4515, 777.4709), shooter_id=13455612447832, bullet_pos=(36.15549, 770.8768)
[00:20:28] [INFO] [Bullet] Using shooter_position, distance=583.333312988281
[00:20:28] [INFO] [Bullet] Distance to wall: 583.333312988281 (39.7202379367503% of viewport)
[00:20:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:20:28] [INFO] [Bullet] Starting wall penetration at (36.15549, 770.8768)
[00:20:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 42.5109100341797
[00:20:28] [INFO] [Bullet] Body exited signal received for penetrating body
[00:20:28] [INFO] [Bullet] Exiting penetration at (-10.50819, 770.3493) after traveling 41.6666717529297 pixels through wall
[00:20:28] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:20:28] [ENEMY] [Enemy5] Hit taken, health: 2/3
[00:20:28] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:20:28] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:20:28] [ENEMY] [Enemy1] Death animation component initialized
[00:20:28] [ENEMY] [Enemy2] Death animation component initialized
[00:20:28] [ENEMY] [Enemy3] Death animation component initialized
[00:20:28] [ENEMY] [Enemy4] Death animation component initialized
[00:20:28] [ENEMY] [Enemy5] Death animation component initialized
[00:20:28] [ENEMY] [Enemy6] Death animation component initialized
[00:20:28] [ENEMY] [Enemy7] Death animation component initialized
[00:20:28] [ENEMY] [Enemy8] Death animation component initialized
[00:20:28] [ENEMY] [Enemy9] Death animation component initialized
[00:20:28] [ENEMY] [Enemy10] Death animation component initialized
[00:20:28] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:20:28] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:20:28] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:20:28] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:20:28] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:20:28] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:20:28] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:20:28] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:20:28] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:20:28] [INFO] [ScoreManager] Level started with 10 enemies
[00:20:28] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:20:28] [ENEMY] [Enemy1] Registered as sound listener
[00:20:28] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:20:28] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:20:28] [ENEMY] [Enemy2] Registered as sound listener
[00:20:28] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:20:28] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:20:28] [ENEMY] [Enemy3] Registered as sound listener
[00:20:28] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:20:28] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:20:28] [ENEMY] [Enemy4] Registered as sound listener
[00:20:28] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:20:28] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:20:28] [ENEMY] [Enemy5] Registered as sound listener
[00:20:28] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:20:28] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:20:28] [ENEMY] [Enemy6] Registered as sound listener
[00:20:28] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:20:28] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:20:28] [ENEMY] [Enemy7] Registered as sound listener
[00:20:28] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:20:28] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:20:28] [ENEMY] [Enemy8] Registered as sound listener
[00:20:28] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:20:28] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:20:28] [ENEMY] [Enemy9] Registered as sound listener
[00:20:28] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:20:28] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:20:28] [ENEMY] [Enemy10] Registered as sound listener
[00:20:28] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:20:28] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:20:28] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:20:28] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:20:28] [INFO] [LastChance] Found player: Player
[00:20:28] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:20:28] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:20:28] [INFO] [LastChance] Connected to player Died signal (C#)
[00:20:28] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:20:28] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:20:28] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:20:28] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:20:28] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:20:28] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:20:28] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1153.8988, 1450.0024)
[00:20:29] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:20:29] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:20:29] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:20:29] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1050.6666)
[00:20:29] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:20:29] [INFO] [Player.Grenade] Step 1 complete! Drag: (122.31433, 22.92871)
[00:20:29] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:20:29] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:20:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:20:29] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:20:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:20:29] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:20:29] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:20:29] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:20:29] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:20:29] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:20:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13652191087631, bullet_pos=(41.69983, 702.3934)
[00:20:29] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:20:29] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:20:29] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:20:29] [INFO] [Bullet] Penetration failed (distance roll)
[00:20:30] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:20:30] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:20:30] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.008796242, -214.9528) (215,0 px/s), Swing distance: 335,7
[00:20:30] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5707554
[00:20:30] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.008796, -214.9528), Swing: 335.7, Transfer: 1.00, Final speed: 101.3
[00:20:30] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:20:30] [INFO] [Player.Grenade] Thrown! Velocity: 215,0, Swing: 335,7
[00:20:30] [INFO] [Player.Grenade] State reset to IDLE
[00:20:30] [INFO] [GrenadeBase] Grenade landed at (483.9378, 658.2012)
[00:20:30] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:20:30] [INFO] [GrenadeBase] EXPLODED at (483.9378, 658.2012)!
[00:20:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(483.9378, 658.2012), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:20:30] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:20:30] [ENEMY] [Enemy2] Hit taken, health: 2/3
[00:20:30] [ENEMY] [Enemy2] Hit taken, health: 1/3
[00:20:30] [ENEMY] [Enemy2] Hit taken, health: 0/3
[00:20:30] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:20:30] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:20:30] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[00:20:30] [INFO] [DeathAnim] Started - Angle: -127.8 deg, Index: 3
[00:20:30] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.612945, -0.790126)
[00:20:30] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 136.9
[00:20:30] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 18.4 degrees
[00:20:30] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 87.9 degrees
[00:20:30] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 174.8 degrees
[00:20:30] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 253.3 degrees
[00:20:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=9
[00:20:30] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[00:20:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:20:30] [INFO] [LastChance] Threat detected: Bullet
[00:20:30] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:30] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:20:30] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:20:30] [INFO] [Player.Grenade] Player rotation restored to 0
[00:20:30] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:20:30] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:20:30] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:20:30] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:20:30] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:20:30] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:20:30] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:20:30] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:20:30] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:20:30] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:20:30] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:20:30] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:20:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=9
[00:20:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:20:30] [INFO] [LastChance] Threat detected: Bullet
[00:20:30] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:31] [ENEMY] [Enemy10] FLANKING started: target=(412.95, 958.9464), side=right, pos=(1022.668, 1432.257)
[00:20:31] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:20:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=9
[00:20:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:20:32] [INFO] [LastChance] Threat detected: Bullet
[00:20:32] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:32] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:20:33] [INFO] [PauseMenu] Armory button pressed
[00:20:33] [INFO] [PauseMenu] Creating new armory menu instance
[00:20:33] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[00:20:33] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[00:20:33] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[00:20:33] [INFO] [PauseMenu] back_pressed signal exists on instance
[00:20:33] [INFO] [PauseMenu] back_pressed signal connected
[00:20:33] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[00:20:33] [INFO] [PauseMenu] _populate_weapon_grid method exists
[00:20:33] [INFO] [GrenadeManager] Grenade type changed from Frag Grenade to Flashbang
[00:20:33] [INFO] [GrenadeManager] Restarting level due to grenade type change
[00:20:33] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:20:33] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:20:33] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:20:33] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:20:33] [ENEMY] [Enemy1] Death animation component initialized
[00:20:33] [ENEMY] [Enemy2] Death animation component initialized
[00:20:33] [ENEMY] [Enemy3] Death animation component initialized
[00:20:33] [ENEMY] [Enemy4] Death animation component initialized
[00:20:33] [ENEMY] [Enemy5] Death animation component initialized
[00:20:33] [ENEMY] [Enemy6] Death animation component initialized
[00:20:33] [ENEMY] [Enemy7] Death animation component initialized
[00:20:33] [ENEMY] [Enemy8] Death animation component initialized
[00:20:33] [ENEMY] [Enemy9] Death animation component initialized
[00:20:33] [ENEMY] [Enemy10] Death animation component initialized
[00:20:33] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:20:33] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:20:33] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:20:33] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:20:33] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:20:33] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:20:33] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:20:33] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:20:33] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:20:33] [INFO] [ScoreManager] Level started with 10 enemies
[00:20:33] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:20:33] [ENEMY] [Enemy1] Registered as sound listener
[00:20:33] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:20:33] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:20:33] [ENEMY] [Enemy2] Registered as sound listener
[00:20:33] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:20:33] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:20:33] [ENEMY] [Enemy3] Registered as sound listener
[00:20:33] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:20:33] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:20:33] [ENEMY] [Enemy4] Registered as sound listener
[00:20:33] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:20:33] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:20:33] [ENEMY] [Enemy5] Registered as sound listener
[00:20:33] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:20:33] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:20:33] [ENEMY] [Enemy6] Registered as sound listener
[00:20:33] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:20:33] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:20:33] [ENEMY] [Enemy7] Registered as sound listener
[00:20:33] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:20:33] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:20:33] [ENEMY] [Enemy8] Registered as sound listener
[00:20:33] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:20:33] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:20:33] [ENEMY] [Enemy9] Registered as sound listener
[00:20:33] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:20:33] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:20:33] [ENEMY] [Enemy10] Registered as sound listener
[00:20:33] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:20:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=19
[00:20:33] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:20:33] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[00:20:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[00:20:33] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:20:33] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:20:33] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:20:33] [INFO] [LastChance] Found player: Player
[00:20:33] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:20:33] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:20:33] [INFO] [LastChance] Connected to player Died signal (C#)
[00:20:33] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:20:33] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:20:33] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:20:34] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:20:34] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:20:34] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:20:34] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:20:34] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (720.0443, 1157.6606)
[00:20:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=13887592206057, bullet_pos=(2475.0002, 1256)
[00:20:34] [INFO] [Bullet] Using shooter_position, distance=2025,0002
[00:20:34] [INFO] [Bullet] Distance to wall: 2025,0002 (137,886% of viewport)
[00:20:34] [INFO] [Bullet] Distance-based penetration chance: 22,4228%
[00:20:34] [INFO] [Bullet] Penetration failed (distance roll)
[00:20:34] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:20:34] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:20:34] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1133.1666)
[00:20:34] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:20:34] [INFO] [Player.Grenade] Step 1 complete! Drag: (557.50476, 52.232666)
[00:20:34] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:20:34] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:20:34] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:20:34] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:20:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=10
[00:20:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:20:35] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:20:35] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:20:35] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:20:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13886770122424, bullet_pos=(41.69983, 702.3934)
[00:20:35] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:20:35] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:20:35] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:20:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13886770122424, bullet_pos=(510.6245, 375.4185)
[00:20:35] [INFO] [Bullet] Using shooter_position, distance=1165.833984375
[00:20:35] [INFO] [Bullet] Distance to wall: 1165.833984375 (79.3837797757573% of viewport)
[00:20:35] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:20:35] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (325.7065, 3211.263) (3227,7 px/s), Swing distance: 570,5
[00:20:35] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,4697157
[00:20:35] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (325.7065, 3211.263), Swing: 570.5, Transfer: 1.00, Final speed: 1352.8
[00:20:35] [INFO] [Player.Grenade] Thrown! Velocity: 3227,7, Swing: 570,5
[00:20:35] [INFO] [Player.Grenade] State reset to IDLE
[00:20:36] [INFO] [Player.Grenade] Player rotation restored to 0
[00:20:36] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:20:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13886770122424, bullet_pos=(138.7003, 61.54454)
[00:20:36] [INFO] [Bullet] Using shooter_position, distance=1620.76232910156
[00:20:36] [INFO] [Bullet] Distance to wall: 1620.76232910156 (110.360687307651% of viewport)
[00:20:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:20:36] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:20:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:20:36] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:20:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13886770122424, bullet_pos=(65.6927, 140.2516)
[00:20:36] [INFO] [Bullet] Using shooter_position, distance=1596.69604492188
[00:20:36] [INFO] [Bullet] Distance to wall: 1596.69604492188 (108.721969763861% of viewport)
[00:20:36] [INFO] [LastChance] Threat detected: @Area2D@16216
[00:20:36] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:36] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:20:36] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:20:36] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:20:36] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:20:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:20:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:20:36] [INFO] [LastChance] Threat detected: @Area2D@16218
[00:20:36] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:36] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:20:36] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:20:36] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:20:36] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:20:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=13886770122424, bullet_pos=(292.5158, 438.5671)
[00:20:36] [INFO] [Bullet] Using shooter_position, distance=1222.04541015625
[00:20:36] [INFO] [Bullet] Distance to wall: 1222.04541015625 (83.2113191209003% of viewport)
[00:20:36] [INFO] [GrenadeBase] Collision detected with LobbyDivider_Right (type: StaticBody2D)
[00:20:36] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:20:36] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:20:36] [ENEMY] [Enemy1] Death animation component initialized
[00:20:36] [ENEMY] [Enemy2] Death animation component initialized
[00:20:36] [ENEMY] [Enemy3] Death animation component initialized
[00:20:36] [ENEMY] [Enemy4] Death animation component initialized
[00:20:36] [ENEMY] [Enemy5] Death animation component initialized
[00:20:36] [ENEMY] [Enemy6] Death animation component initialized
[00:20:36] [ENEMY] [Enemy7] Death animation component initialized
[00:20:36] [ENEMY] [Enemy8] Death animation component initialized
[00:20:36] [ENEMY] [Enemy9] Death animation component initialized
[00:20:36] [ENEMY] [Enemy10] Death animation component initialized
[00:20:36] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:20:36] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:20:36] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:20:36] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:20:36] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:20:36] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:20:36] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:20:36] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:20:36] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:20:36] [INFO] [ScoreManager] Level started with 10 enemies
[00:20:36] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:20:36] [ENEMY] [Enemy1] Registered as sound listener
[00:20:36] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:20:36] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:20:36] [ENEMY] [Enemy2] Registered as sound listener
[00:20:36] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:20:36] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:20:36] [ENEMY] [Enemy3] Registered as sound listener
[00:20:36] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:20:36] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:20:36] [ENEMY] [Enemy4] Registered as sound listener
[00:20:36] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:20:36] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:20:36] [ENEMY] [Enemy5] Registered as sound listener
[00:20:36] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:20:36] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:20:36] [ENEMY] [Enemy6] Registered as sound listener
[00:20:36] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:20:36] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:20:36] [ENEMY] [Enemy7] Registered as sound listener
[00:20:36] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:20:36] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:20:36] [ENEMY] [Enemy8] Registered as sound listener
[00:20:36] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:20:36] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:20:36] [ENEMY] [Enemy9] Registered as sound listener
[00:20:36] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:20:36] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:20:36] [ENEMY] [Enemy10] Registered as sound listener
[00:20:36] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:20:36] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:20:36] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:20:36] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:20:36] [INFO] [LastChance] Found player: Player
[00:20:36] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:20:36] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:20:36] [INFO] [LastChance] Connected to player Died signal (C#)
[00:20:36] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:20:36] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:20:36] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:20:37] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:20:37] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:20:37] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:20:37] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (938.78156, 1481.888)
[00:20:37] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:20:37] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:20:37] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1100.1666)
[00:20:37] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:20:37] [INFO] [Player.Grenade] Step 1 complete! Drag: (334.25555, 36.898193)
[00:20:37] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:20:37] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:20:37] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:20:37] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:20:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:20:37] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:20:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:20:37] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:20:37] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:20:37] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:20:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14061437715822, bullet_pos=(41.69983, 702.3934)
[00:20:38] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:20:38] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:20:38] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:20:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14061437715822, bullet_pos=(264.626, 467.6213)
[00:20:38] [INFO] [Bullet] Using shooter_position, distance=1215.37512207031
[00:20:38] [INFO] [Bullet] Distance to wall: 1215.37512207031 (82.7571269395506% of viewport)
[00:20:38] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:20:38] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:20:38] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3490.272, 272.52618) (3500,9 px/s), Swing distance: 586,8
[00:20:38] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,077923544
[00:20:38] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3490.272, 272.5262), Swing: 586.8, Transfer: 1.00, Final speed: 1352.8
[00:20:38] [INFO] [Player.Grenade] Thrown! Velocity: 3500,9, Swing: 586,8
[00:20:38] [INFO] [Player.Grenade] State reset to IDLE
[00:20:38] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[00:20:38] [INFO] [Player.Grenade] Player rotation restored to 0
[00:20:38] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:20:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:20:38] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[00:20:38] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[00:20:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:20:38] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:20:38] [INFO] [LastChance] Threat detected: Bullet
[00:20:38] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:38] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:20:38] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:20:38] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:20:38] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:20:38] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:20:38] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:20:38] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:20:38] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:20:38] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:20:38] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:20:38] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:20:38] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:20:38] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:20:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:20:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:20:39] [INFO] [LastChance] Threat detected: Bullet
[00:20:39] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:39] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:20:39] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:20:39] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:20:39] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:20:39] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:20:39] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:20:39] [INFO] [LastChance] Player died
[00:20:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[00:20:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:20:39] [INFO] [LastChance] Threat detected: Bullet
[00:20:39] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:39] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:20:39] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:20:39] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:20:39] [ENEMY] [Enemy10] FLANKING started: target=(656.2068, 778.3184), side=left, pos=(1026.786, 1435.646)
[00:20:39] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:20:40] [INFO] [GrenadeBase] Collision detected with Room2_WallBottom (type: StaticBody2D)
[00:20:40] [INFO] [GrenadeBase] Grenade landed at (650.7701, 989.7283)
[00:20:40] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:20:40] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:20:40] [ENEMY] [Enemy1] Death animation component initialized
[00:20:40] [ENEMY] [Enemy2] Death animation component initialized
[00:20:40] [ENEMY] [Enemy3] Death animation component initialized
[00:20:40] [ENEMY] [Enemy4] Death animation component initialized
[00:20:40] [ENEMY] [Enemy5] Death animation component initialized
[00:20:40] [ENEMY] [Enemy6] Death animation component initialized
[00:20:40] [ENEMY] [Enemy7] Death animation component initialized
[00:20:40] [ENEMY] [Enemy8] Death animation component initialized
[00:20:40] [ENEMY] [Enemy9] Death animation component initialized
[00:20:40] [ENEMY] [Enemy10] Death animation component initialized
[00:20:40] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:20:40] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:20:40] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:20:40] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:20:40] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:20:40] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:20:40] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:20:40] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:20:40] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:20:40] [INFO] [ScoreManager] Level started with 10 enemies
[00:20:40] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:20:40] [ENEMY] [Enemy1] Registered as sound listener
[00:20:40] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:20:40] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:20:40] [ENEMY] [Enemy2] Registered as sound listener
[00:20:40] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:20:40] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:20:40] [ENEMY] [Enemy3] Registered as sound listener
[00:20:40] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:20:40] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:20:40] [ENEMY] [Enemy4] Registered as sound listener
[00:20:40] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:20:40] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:20:40] [ENEMY] [Enemy5] Registered as sound listener
[00:20:40] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:20:40] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:20:40] [ENEMY] [Enemy6] Registered as sound listener
[00:20:40] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:20:40] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:20:40] [ENEMY] [Enemy7] Registered as sound listener
[00:20:40] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:20:40] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:20:40] [ENEMY] [Enemy8] Registered as sound listener
[00:20:40] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:20:40] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:20:40] [ENEMY] [Enemy9] Registered as sound listener
[00:20:40] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:20:40] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:20:40] [ENEMY] [Enemy10] Registered as sound listener
[00:20:40] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:20:40] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:20:40] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:20:40] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:20:40] [INFO] [LastChance] Found player: Player
[00:20:40] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:20:40] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:20:40] [INFO] [LastChance] Connected to player Died signal (C#)
[00:20:40] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:20:40] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:20:40] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:20:40] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:20:40] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:20:40] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1041.6615, 1604.6567)
[00:20:40] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:20:40] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:20:40] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:20:40] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:20:40] [INFO] [Player.Grenade] Step 1 complete! Drag: (235.88757, 4.675293)
[00:20:41] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:20:41] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:20:41] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:20:41] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:20:41] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:20:41] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:20:41] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:20:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:20:42] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:20:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:20:42] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:20:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14280162282237, bullet_pos=(41.69983, 702.3934)
[00:20:42] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:20:42] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:20:42] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:20:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14280162282237, bullet_pos=(305.785, 458.9601)
[00:20:42] [INFO] [Bullet] Using shooter_position, distance=1197.7421875
[00:20:42] [INFO] [Bullet] Distance to wall: 1197.7421875 (81.5564680005504% of viewport)
[00:20:42] [INFO] [Bullet] Distance-based penetration chance: 51.5174539993579%
[00:20:42] [INFO] [Bullet] Penetration failed (distance roll)
[00:20:42] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:20:42] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (901.8783, -240.43811) (933,4 px/s), Swing distance: 572,5
[00:20:42] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,26053742
[00:20:42] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (901.8783, -240.4381), Swing: 572.5, Transfer: 1.00, Final speed: 491.9
[00:20:42] [INFO] [Player.Grenade] Thrown! Velocity: 933,4, Swing: 572,5
[00:20:42] [INFO] [Player.Grenade] State reset to IDLE
[00:20:42] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[00:20:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:20:43] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:20:43] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:20:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:20:43] [INFO] [Player.Grenade] Player rotation restored to 0
[00:20:43] [INFO] [LastChance] Threat detected: Bullet
[00:20:43] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:43] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:20:43] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:20:43] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:20:43] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:20:43] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:20:43] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:20:43] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:20:43] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:20:43] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:20:43] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:20:43] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:20:43] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:20:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:20:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:20:43] [INFO] [LastChance] Threat detected: Bullet
[00:20:43] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:20:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:20:44] [INFO] [LastChance] Threat detected: Bullet
[00:20:44] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(620.2499, 776.2704), shooter_id=14278165793510, bullet_pos=(526.7759, 797.4047)
[00:20:44] [INFO] [Bullet] Using shooter_position, distance=95.8334426879883
[00:20:44] [INFO] [Bullet] Distance to wall: 95.8334426879883 (6.52547533478735% of viewport)
[00:20:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:20:44] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:20:45] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:20:46] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[00:20:46] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:20:46] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:20:46] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:20:46] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:20:46] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:20:46] [ENEMY] [Enemy1] Death animation component initialized
[00:20:46] [ENEMY] [Enemy2] Death animation component initialized
[00:20:46] [ENEMY] [Enemy3] Death animation component initialized
[00:20:46] [ENEMY] [Enemy4] Death animation component initialized
[00:20:46] [ENEMY] [Enemy5] Death animation component initialized
[00:20:46] [ENEMY] [Enemy6] Death animation component initialized
[00:20:46] [ENEMY] [Enemy7] Death animation component initialized
[00:20:46] [ENEMY] [Enemy8] Death animation component initialized
[00:20:46] [ENEMY] [Enemy9] Death animation component initialized
[00:20:46] [ENEMY] [Enemy10] Death animation component initialized
[00:20:46] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:20:46] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:20:46] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:20:46] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:20:46] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:20:46] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:20:46] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:20:46] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:20:46] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:20:46] [INFO] [ScoreManager] Level started with 10 enemies
[00:20:46] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:20:46] [ENEMY] [Enemy1] Registered as sound listener
[00:20:46] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:20:46] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:20:46] [ENEMY] [Enemy2] Registered as sound listener
[00:20:46] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:20:46] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:20:46] [ENEMY] [Enemy3] Registered as sound listener
[00:20:46] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:20:46] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:20:46] [ENEMY] [Enemy4] Registered as sound listener
[00:20:46] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:20:46] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:20:46] [ENEMY] [Enemy5] Registered as sound listener
[00:20:46] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:20:46] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:20:46] [ENEMY] [Enemy6] Registered as sound listener
[00:20:46] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:20:46] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:20:46] [ENEMY] [Enemy7] Registered as sound listener
[00:20:46] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:20:46] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:20:46] [ENEMY] [Enemy8] Registered as sound listener
[00:20:46] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:20:46] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:20:46] [ENEMY] [Enemy9] Registered as sound listener
[00:20:46] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:20:46] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:20:46] [ENEMY] [Enemy10] Registered as sound listener
[00:20:46] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:20:46] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:20:46] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:20:46] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:20:46] [INFO] [LastChance] Found player: Player
[00:20:46] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:20:46] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:20:46] [INFO] [LastChance] Connected to player Died signal (C#)
[00:20:46] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:20:46] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:20:46] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:20:46] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:20:46] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:20:46] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:20:46] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1129.308, 1493.009)
[00:20:46] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:20:46] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:20:46] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1127.6666)
[00:20:46] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:20:46] [INFO] [Player.Grenade] Step 1 complete! Drag: (143.09619, 18.22705)
[00:20:46] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:20:46] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:20:47] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:20:47] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:20:47] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:20:47] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:20:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:20:47] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:20:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:20:47] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:20:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14635453384614, bullet_pos=(41.69983, 702.3934)
[00:20:47] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:20:47] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:20:47] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:20:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14635453384614, bullet_pos=(508.8379, 439.0568)
[00:20:48] [INFO] [Bullet] Using shooter_position, distance=1109.34802246094
[00:20:48] [INFO] [Bullet] Distance to wall: 1109.34802246094 (75.5375467605038% of viewport)
[00:20:48] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:20:48] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (39.407307, 153.23007) (158,2 px/s), Swing distance: 331,4
[00:20:48] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,319074
[00:20:48] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (39.40731, 153.2301), Swing: 331.4, Transfer: 1.00, Final speed: 83.4
[00:20:48] [INFO] [Player.Grenade] Thrown! Velocity: 158,2, Swing: 331,4
[00:20:48] [INFO] [Player.Grenade] State reset to IDLE
[00:20:48] [INFO] [GrenadeBase] Grenade landed at (466.284, 815.9846)
[00:20:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14635453384614, bullet_pos=(253.3451, 270.5782)
[00:20:48] [INFO] [Bullet] Using shooter_position, distance=1382.90478515625
[00:20:48] [INFO] [Bullet] Distance to wall: 1382.90478515625 (94.1645297589584% of viewport)
[00:20:48] [INFO] [Player.Grenade] Player rotation restored to 0
[00:20:48] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:20:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14635453384614, bullet_pos=(51.40186, 391.3405)
[00:20:48] [INFO] [Bullet] Using shooter_position, distance=1411.1767578125
[00:20:48] [INFO] [Bullet] Distance to wall: 1411.1767578125 (96.0896203646961% of viewport)
[00:20:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:20:48] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:20:48] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:20:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:20:48] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:20:48] [INFO] [LastChance] Threat detected: @Area2D@16982
[00:20:48] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:48] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:20:48] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:20:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:20:48] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:20:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:20:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:20:48] [INFO] [LastChance] Threat detected: @Area2D@16983
[00:20:48] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:20:48] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:20:48] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:20:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:20:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:20:48] [INFO] [LastChance] Threat detected: @Area2D@16984
[00:20:48] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(620.2638, 775.8312), shooter_id=14633456897044, bullet_pos=(498.1707, 802.6318)
[00:20:48] [INFO] [Bullet] Using shooter_position, distance=124.999969482422
[00:20:48] [INFO] [Bullet] Distance to wall: 124.999969482422 (8.51147777673392% of viewport)
[00:20:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:20:48] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:20:48] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:20:48] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:20:48] [ENEMY] [Enemy1] Death animation component initialized
[00:20:48] [ENEMY] [Enemy2] Death animation component initialized
[00:20:48] [ENEMY] [Enemy3] Death animation component initialized
[00:20:48] [ENEMY] [Enemy4] Death animation component initialized
[00:20:48] [ENEMY] [Enemy5] Death animation component initialized
[00:20:48] [ENEMY] [Enemy6] Death animation component initialized
[00:20:48] [ENEMY] [Enemy7] Death animation component initialized
[00:20:48] [ENEMY] [Enemy8] Death animation component initialized
[00:20:48] [ENEMY] [Enemy9] Death animation component initialized
[00:20:48] [ENEMY] [Enemy10] Death animation component initialized
[00:20:48] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:20:48] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:20:48] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:20:48] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:20:48] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:20:48] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:20:48] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:20:48] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:20:48] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:20:48] [INFO] [ScoreManager] Level started with 10 enemies
[00:20:48] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:20:48] [ENEMY] [Enemy1] Registered as sound listener
[00:20:48] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:20:48] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:20:48] [ENEMY] [Enemy2] Registered as sound listener
[00:20:48] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:20:48] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:20:48] [ENEMY] [Enemy3] Registered as sound listener
[00:20:48] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:20:48] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:20:48] [ENEMY] [Enemy4] Registered as sound listener
[00:20:48] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:20:48] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:20:48] [ENEMY] [Enemy5] Registered as sound listener
[00:20:48] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:20:48] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:20:48] [ENEMY] [Enemy6] Registered as sound listener
[00:20:48] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:20:48] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:20:48] [ENEMY] [Enemy7] Registered as sound listener
[00:20:48] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:20:48] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:20:48] [ENEMY] [Enemy8] Registered as sound listener
[00:20:48] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:20:48] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:20:48] [ENEMY] [Enemy9] Registered as sound listener
[00:20:48] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:20:48] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:20:48] [ENEMY] [Enemy10] Registered as sound listener
[00:20:48] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:20:48] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:20:48] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:20:48] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:20:48] [INFO] [LastChance] Found player: Player
[00:20:48] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:20:48] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:20:48] [INFO] [LastChance] Connected to player Died signal (C#)
[00:20:48] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:20:48] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:20:48] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:20:49] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:20:49] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:20:49] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (970.39386, 1523.4124)
[00:20:49] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:20:49] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:20:49] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:20:49] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1166.1666)
[00:20:49] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:20:49] [INFO] [Player.Grenade] Step 1 complete! Drag: (292.98456, -17.105957)
[00:20:49] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:20:49] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:20:49] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:20:49] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:20:49] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:20:49] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:20:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:20:49] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:20:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:20:49] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:20:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14790206425222, bullet_pos=(41.69983, 702.3934)
[00:20:50] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:20:50] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:20:50] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:20:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14790206425222, bullet_pos=(513.2966, 447.1274)
[00:20:50] [INFO] [Bullet] Using shooter_position, distance=1100.13525390625
[00:20:50] [INFO] [Bullet] Distance to wall: 1100.13525390625 (74.9102324088275% of viewport)
[00:20:50] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:20:50] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1713.4602, 298.33203) (1739,2 px/s), Swing distance: 524,6
[00:20:50] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,17238282
[00:20:50] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1713.46, 298.332), Swing: 524.6, Transfer: 1.00, Final speed: 916.7
[00:20:50] [INFO] [Player.Grenade] Thrown! Velocity: 1739,2, Swing: 524,6
[00:20:50] [INFO] [Player.Grenade] State reset to IDLE
[00:20:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14790206425222, bullet_pos=(226.4216, 271.9225)
[00:20:50] [INFO] [Bullet] Using shooter_position, distance=1396.61962890625
[00:20:50] [INFO] [Bullet] Distance to wall: 1396.61962890625 (95.0983986892698% of viewport)
[00:20:50] [INFO] [Player.Grenade] Player rotation restored to 0
[00:20:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=14790206425222, bullet_pos=(63.20583, 357.1325)
[00:20:50] [INFO] [Bullet] Using shooter_position, distance=1428.74853515625
[00:20:50] [INFO] [Bullet] Distance to wall: 1428.74853515625 (97.2861149956814% of viewport)
[00:20:50] [INFO] [Bullet] Distance-based penetration chance: 33.1661991717051%
[00:20:50] [INFO] [Bullet] Starting wall penetration at (63.20583, 357.1325)
[00:20:50] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:20:50] [INFO] [Bullet] Exiting penetration at (36.09015, 371.2888) after traveling 25.5885467529297 pixels through wall
[00:20:50] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[00:20:50] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[00:20:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:20:50] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:20:50] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:20:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:20:50] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:20:50] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:20:50] [INFO] [LastChance] Threat detected: Bullet
[00:20:50] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:50] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:20:50] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:20:50] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:20:50] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:20:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:20:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:20:50] [INFO] [LastChance] Threat detected: Bullet
[00:20:50] [INFO] [LastChance] Not in hard mode - effect disabled
[00:20:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:20:51] [INFO] [GrenadeBase] Collision detected with Table1 (type: StaticBody2D)
[00:20:51] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:20:51] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:20:51] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:20:51] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:20:51] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:20:51] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:20:51] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:20:51] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:20:51] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:20:51] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:20:51] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:20:51] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:20:52] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:20:53] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:20:54] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[00:20:54] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:20:54] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:20:54] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:20:54] [ENEMY] [Enemy10] FLANKING started: target=(641.2357, 840.1396), side=left, pos=(1022.668, 1432.257)
[00:20:54] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:20:54] [INFO] [GrenadeBase] Grenade landed at (666.5034, 902.5341)
[00:20:56] [INFO] [PauseMenu] Armory button pressed
[00:20:56] [INFO] [PauseMenu] Creating new armory menu instance
[00:20:56] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[00:20:56] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[00:20:56] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[00:20:56] [INFO] [PauseMenu] back_pressed signal exists on instance
[00:20:56] [INFO] [PauseMenu] back_pressed signal connected
[00:20:56] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[00:20:56] [INFO] [PauseMenu] _populate_weapon_grid method exists
[00:20:57] [INFO] [GrenadeManager] Grenade type changed from Flashbang to Frag Grenade
[00:20:57] [INFO] [GrenadeManager] Restarting level due to grenade type change
[00:20:57] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:20:57] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:20:57] [ENEMY] [Enemy1] Death animation component initialized
[00:20:57] [ENEMY] [Enemy2] Death animation component initialized
[00:20:57] [ENEMY] [Enemy3] Death animation component initialized
[00:20:57] [ENEMY] [Enemy4] Death animation component initialized
[00:20:57] [ENEMY] [Enemy5] Death animation component initialized
[00:20:57] [ENEMY] [Enemy6] Death animation component initialized
[00:20:57] [ENEMY] [Enemy7] Death animation component initialized
[00:20:57] [ENEMY] [Enemy8] Death animation component initialized
[00:20:57] [ENEMY] [Enemy9] Death animation component initialized
[00:20:57] [ENEMY] [Enemy10] Death animation component initialized
[00:20:57] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:20:57] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:20:57] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:20:57] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:20:57] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:20:57] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:20:57] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:20:57] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:20:57] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:20:57] [INFO] [ScoreManager] Level started with 10 enemies
[00:20:57] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:20:57] [ENEMY] [Enemy1] Registered as sound listener
[00:20:57] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:20:57] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:20:57] [ENEMY] [Enemy2] Registered as sound listener
[00:20:57] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:20:57] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:20:57] [ENEMY] [Enemy3] Registered as sound listener
[00:20:57] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:20:57] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:20:57] [ENEMY] [Enemy4] Registered as sound listener
[00:20:57] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:20:57] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:20:57] [ENEMY] [Enemy5] Registered as sound listener
[00:20:57] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:20:57] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:20:57] [ENEMY] [Enemy6] Registered as sound listener
[00:20:57] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:20:57] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:20:57] [ENEMY] [Enemy7] Registered as sound listener
[00:20:57] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:20:57] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:20:57] [ENEMY] [Enemy8] Registered as sound listener
[00:20:57] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:20:57] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:20:57] [ENEMY] [Enemy9] Registered as sound listener
[00:20:57] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:20:57] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:20:57] [ENEMY] [Enemy10] Registered as sound listener
[00:20:57] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:20:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=20
[00:20:57] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:20:57] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[00:20:57] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[00:20:57] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:20:57] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:20:57] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:20:57] [INFO] [LastChance] Found player: Player
[00:20:57] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:20:57] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:20:57] [INFO] [LastChance] Connected to player Died signal (C#)
[00:20:57] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:20:57] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:20:57] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:20:58] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:20:58] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:20:58] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:20:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=15186534598628, bullet_pos=(2475.0002, 1256)
[00:20:58] [INFO] [Bullet] Using shooter_position, distance=2025,0002
[00:20:58] [INFO] [Bullet] Distance to wall: 2025,0002 (137,886% of viewport)
[00:20:58] [INFO] [Bullet] Distance-based penetration chance: 22,4228%
[00:20:58] [INFO] [Bullet] Penetration failed (distance roll)
[00:20:58] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (580.96826, 1175.453)
[00:20:58] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:20:58] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:20:58] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:20:58] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:20:58] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1144.1666)
[00:20:58] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:20:58] [INFO] [Player.Grenade] Step 1 complete! Drag: (473.1101, 35.94275)
[00:20:58] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:20:58] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:20:58] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:20:58] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:20:58] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:20:58] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:20:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=10
[00:20:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:20:59] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:20:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=15185712516072, bullet_pos=(41.69983, 702.3934)
[00:20:59] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:20:59] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:20:59] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:20:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=15185712516072, bullet_pos=(271.9619, 474.8119)
[00:20:59] [INFO] [Bullet] Using shooter_position, distance=1205.20361328125
[00:20:59] [INFO] [Bullet] Distance to wall: 1205.20361328125 (82.0645302023479% of viewport)
[00:20:59] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:20:59] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:20:59] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1189.1567, -24.176678) (1189,4 px/s), Swing distance: 428,0
[00:20:59] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,020328142
[00:20:59] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1189.157, -24.17668), Swing: 428.0, Transfer: 1.00, Final speed: 560.7
[00:20:59] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:20:59] [INFO] [Player.Grenade] Thrown! Velocity: 1189,4, Swing: 428,0
[00:20:59] [INFO] [Player.Grenade] State reset to IDLE
[00:20:59] [INFO] [Player.Grenade] Player rotation restored to 0
[00:21:00] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:21:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:00] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:21:00] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:00] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:21:00] [INFO] [LastChance] Threat detected: Bullet
[00:21:00] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:00] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:21:00] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:21:00] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:21:00] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:21:00] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:21:00] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:21:00] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:21:00] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:21:00] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:21:00] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:21:00] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:21:00] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:21:00] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:21:00] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[00:21:00] [INFO] [FragGrenade] Non-wall collision (body: Enemy3, type: CharacterBody2D) - not triggering explosion
[00:21:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:00] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:00] [INFO] [LastChance] Threat detected: Bullet
[00:21:00] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:00] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:21:00] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:21:00] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:21:00] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:21:00] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:21:00] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:21:00] [INFO] [LastChance] Player died
[00:21:01] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:21:01] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:21:01] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[00:21:01] [INFO] [GrenadeBase] Grenade landed at (660.0475, 714.0363)
[00:21:01] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:21:01] [INFO] [GrenadeBase] EXPLODED at (660.0475, 714.0363)!
[00:21:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(660.0475, 714.0363), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:21:01] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:21:01] [ENEMY] [Enemy3] Hit taken, health: 1/2
[00:21:01] [ENEMY] [Enemy3] Hit taken, health: 0/2
[00:21:01] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:21:01] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:21:01] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:21:01] [INFO] [DeathAnim] Started - Angle: 58.4 deg, Index: 15
[00:21:01] [ENEMY] [Enemy3] Death animation started with hit direction: (0.523424, 0.852073)
[00:21:01] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 46.6
[00:21:01] [ENEMY] [Enemy4] Hit taken, health: 2/3
[00:21:01] [ENEMY] [Enemy4] Hit taken, health: 1/3
[00:21:01] [ENEMY] [Enemy4] Hit taken, health: 0/3
[00:21:01] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[00:21:01] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:21:01] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[00:21:01] [INFO] [DeathAnim] Started - Angle: 124.1 deg, Index: 20
[00:21:01] [ENEMY] [Enemy4] Death animation started with hit direction: (-0.560814, 0.827942)
[00:21:01] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 178.5
[00:21:01] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 19.7 degrees
[00:21:01] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 86.7 degrees
[00:21:01] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 191.0 degrees
[00:21:01] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 265.9 degrees
[00:21:01] [ENEMY] [Enemy10] FLANKING started: target=(412.6137, 1134.875), side=right, pos=(1022.668, 1432.257)
[00:21:01] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:21:01] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:21:01] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:21:01] [ENEMY] [Enemy1] Death animation component initialized
[00:21:01] [ENEMY] [Enemy2] Death animation component initialized
[00:21:01] [ENEMY] [Enemy3] Death animation component initialized
[00:21:01] [ENEMY] [Enemy4] Death animation component initialized
[00:21:01] [ENEMY] [Enemy5] Death animation component initialized
[00:21:01] [ENEMY] [Enemy6] Death animation component initialized
[00:21:01] [ENEMY] [Enemy7] Death animation component initialized
[00:21:01] [ENEMY] [Enemy8] Death animation component initialized
[00:21:01] [ENEMY] [Enemy9] Death animation component initialized
[00:21:01] [ENEMY] [Enemy10] Death animation component initialized
[00:21:01] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:21:01] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:21:01] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:21:01] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:21:01] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:21:01] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:21:01] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:21:01] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:21:01] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:21:01] [INFO] [ScoreManager] Level started with 10 enemies
[00:21:01] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[00:21:01] [ENEMY] [Enemy1] Registered as sound listener
[00:21:01] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:21:01] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[00:21:01] [ENEMY] [Enemy2] Registered as sound listener
[00:21:01] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:21:01] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[00:21:01] [ENEMY] [Enemy3] Registered as sound listener
[00:21:01] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:21:01] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[00:21:01] [ENEMY] [Enemy4] Registered as sound listener
[00:21:01] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:21:01] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[00:21:01] [ENEMY] [Enemy5] Registered as sound listener
[00:21:01] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:21:01] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[00:21:01] [ENEMY] [Enemy6] Registered as sound listener
[00:21:01] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:21:01] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[00:21:01] [ENEMY] [Enemy7] Registered as sound listener
[00:21:01] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:21:01] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[00:21:01] [ENEMY] [Enemy8] Registered as sound listener
[00:21:01] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:21:01] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[00:21:01] [ENEMY] [Enemy9] Registered as sound listener
[00:21:01] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:21:01] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[00:21:01] [ENEMY] [Enemy10] Registered as sound listener
[00:21:01] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:21:01] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:21:01] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:21:01] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:21:01] [INFO] [LastChance] Found player: Player
[00:21:01] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:21:01] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:21:01] [INFO] [LastChance] Connected to player Died signal (C#)
[00:21:01] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:21:01] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:21:01] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:21:02] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:21:02] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:21:02] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1025.7434, 1313.709)
[00:21:02] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:21:02] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:21:02] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:21:02] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:21:02] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1144.1666)
[00:21:02] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:21:02] [INFO] [Player.Grenade] Step 1 complete! Drag: (253.13647, -15.485718)
[00:21:02] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:21:02] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:21:02] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:21:02] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:21:02] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:21:02] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:21:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=18
[00:21:02] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[00:21:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:21:03] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:21:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=15423697325381, bullet_pos=(41.69983, 702.3934)
[00:21:03] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:21:03] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:21:03] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:21:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=15423697325381, bullet_pos=(519.034, 387.8228)
[00:21:03] [INFO] [Bullet] Using shooter_position, distance=1151.03503417969
[00:21:03] [INFO] [Bullet] Distance to wall: 1151.03503417969 (78.3760920440887% of viewport)
[00:21:03] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:21:03] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.008796243, 462.09433) (462,1 px/s), Swing distance: 404,8
[00:21:03] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,5707773
[00:21:03] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.008796, 462.0943), Swing: 404.8, Transfer: 1.00, Final speed: 217.8
[00:21:03] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:21:03] [INFO] [Player.Grenade] Thrown! Velocity: 462,1, Swing: 404,8
[00:21:03] [INFO] [Player.Grenade] State reset to IDLE
[00:21:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=15423697325381, bullet_pos=(321.9289, 240.9091)
[00:21:03] [INFO] [Bullet] Using shooter_position, distance=1372.46459960938
[00:21:03] [INFO] [Bullet] Distance to wall: 1372.46459960938 (93.4536383272633% of viewport)
[00:21:03] [INFO] [Player.Grenade] Player rotation restored to 0
[00:21:03] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:21:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:04] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:21:04] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:21:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:04] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:21:04] [INFO] [LastChance] Threat detected: @Area2D@17803
[00:21:04] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:04] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:21:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=15423697325381, bullet_pos=(605.5156, 57.64197)
[00:21:04] [INFO] [Bullet] Using shooter_position, distance=1430.38793945313
[00:21:04] [INFO] [Bullet] Distance to wall: 1430.38793945313 (97.3977450488543% of viewport)
[00:21:04] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:21:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:21:04] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:21:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:04] [INFO] [GrenadeBase] Grenade landed at (450.0021, 851.389)
[00:21:04] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:21:04] [INFO] [GrenadeBase] EXPLODED at (450.0021, 851.389)!
[00:21:04] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450.0021, 851.389), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:21:04] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:21:04] [INFO] [FragGrenade] Player found in blast radius at distance 72.5
[00:21:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:21:04] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:21:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:21:04] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:21:04] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:21:04] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:21:04] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:21:04] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:21:04] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:21:04] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:21:04] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:21:04] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:21:04] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:21:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:21:04] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:21:04] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:21:04] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:21:04] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:21:04] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:21:04] [INFO] [LastChance] Player died
[00:21:04] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 72.5
[00:21:04] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -13.6 degrees
[00:21:04] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 72.6 degrees
[00:21:04] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 184.3 degrees
[00:21:04] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 258.9 degrees
[00:21:04] [INFO] [LastChance] Threat detected: @Area2D@17805
[00:21:04] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:04] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:21:04] [INFO] [LastChance] Threat detected: @Area2D@17810
[00:21:04] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:04] [ENEMY] [Enemy1] Hit taken, health: 1/2
[00:21:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(620.1942, 775.7096), shooter_id=15421700836363, bullet_pos=(498.048, 802.2672)
[00:21:04] [INFO] [Bullet] Using shooter_position, distance=124.999984741211
[00:21:04] [INFO] [Bullet] Distance to wall: 124.999984741211 (8.51147881573292% of viewport)
[00:21:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:21:04] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:21:04] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:21:04] [ENEMY] [Enemy1] Death animation component initialized
[00:21:04] [ENEMY] [Enemy2] Death animation component initialized
[00:21:04] [ENEMY] [Enemy3] Death animation component initialized
[00:21:04] [ENEMY] [Enemy4] Death animation component initialized
[00:21:04] [ENEMY] [Enemy5] Death animation component initialized
[00:21:04] [ENEMY] [Enemy6] Death animation component initialized
[00:21:04] [ENEMY] [Enemy7] Death animation component initialized
[00:21:04] [ENEMY] [Enemy8] Death animation component initialized
[00:21:04] [ENEMY] [Enemy9] Death animation component initialized
[00:21:04] [ENEMY] [Enemy10] Death animation component initialized
[00:21:04] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:21:04] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:21:04] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:21:04] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:21:04] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:21:04] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:21:04] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:21:04] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:21:04] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:21:04] [INFO] [ScoreManager] Level started with 10 enemies
[00:21:04] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:21:04] [ENEMY] [Enemy1] Registered as sound listener
[00:21:04] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:21:04] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:21:04] [ENEMY] [Enemy2] Registered as sound listener
[00:21:04] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:21:04] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:21:04] [ENEMY] [Enemy3] Registered as sound listener
[00:21:04] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:21:04] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:21:04] [ENEMY] [Enemy4] Registered as sound listener
[00:21:04] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:21:04] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:21:04] [ENEMY] [Enemy5] Registered as sound listener
[00:21:04] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:21:04] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:21:04] [ENEMY] [Enemy6] Registered as sound listener
[00:21:04] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:21:04] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:21:04] [ENEMY] [Enemy7] Registered as sound listener
[00:21:04] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:21:04] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:21:04] [ENEMY] [Enemy8] Registered as sound listener
[00:21:04] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:21:04] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:21:04] [ENEMY] [Enemy9] Registered as sound listener
[00:21:04] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:21:04] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:21:04] [ENEMY] [Enemy10] Registered as sound listener
[00:21:04] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:21:04] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:21:04] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:21:04] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:21:04] [INFO] [LastChance] Found player: Player
[00:21:04] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:21:04] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:21:04] [INFO] [LastChance] Connected to player Died signal (C#)
[00:21:04] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:21:04] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:21:04] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:21:04] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:21:04] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:21:04] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1205.644, 1335.3512)
[00:21:04] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:21:04] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:21:04] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:21:04] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:21:04] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1155.1666)
[00:21:04] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:21:04] [INFO] [Player.Grenade] Step 1 complete! Drag: (59.119507, -27.35144)
[00:21:04] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:21:04] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:21:05] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:21:05] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:21:05] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:21:05] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:21:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:21:05] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:21:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:21:05] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:21:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=15599438662092, bullet_pos=(41.69983, 702.3934)
[00:21:05] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:21:05] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:21:05] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:21:05] [INFO] [Bullet] Penetration failed (distance roll)
[00:21:05] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:21:06] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:21:06] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (306.60724, 589.0353) (664,1 px/s), Swing distance: 440,0
[00:21:06] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,0908643
[00:21:06] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (306.6072, 589.0353), Swing: 440.0, Transfer: 1.00, Final speed: 313.0
[00:21:06] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:21:06] [INFO] [Player.Grenade] Thrown! Velocity: 664,1, Swing: 440,0
[00:21:06] [INFO] [Player.Grenade] State reset to IDLE
[00:21:06] [INFO] [GrenadeBase] Collision detected with Room2_WallLeft (type: StaticBody2D)
[00:21:06] [INFO] [FragGrenade] Wall impact detected! Body: Room2_WallLeft, triggering explosion
[00:21:06] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:21:06] [INFO] [GrenadeBase] EXPLODED at (491.5856, 815.5486)!
[00:21:06] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(491.5856, 815.5486), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:21:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:21:06] [INFO] [FragGrenade] Player found in blast radius at distance 92.4
[00:21:06] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:21:06] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:21:06] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:21:06] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:21:06] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:21:06] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:21:06] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:21:06] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:21:06] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:21:06] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:21:06] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:21:06] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:21:06] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:21:06] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:21:06] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:21:06] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:21:06] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:21:06] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:21:06] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:21:06] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:21:06] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:21:06] [INFO] [LastChance] Player died
[00:21:06] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 92.4
[00:21:06] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -9.1 degrees
[00:21:06] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 99.6 degrees
[00:21:06] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 168.7 degrees
[00:21:06] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 255.1 degrees
[00:21:06] [INFO] [Player.Grenade] Player rotation restored to 0
[00:21:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:06] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:21:06] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:21:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:06] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:21:06] [INFO] [LastChance] Threat detected: Bullet
[00:21:06] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:06] [INFO] [LastChance] Threat detected: Bullet
[00:21:06] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:06] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:21:06] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:21:06] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:21:06] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:21:06] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:21:06] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[00:21:06] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[00:21:06] [ENEMY] [Enemy2] Hit taken, health: 1/2
[00:21:06] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:21:06] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:21:06] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:21:06] [ENEMY] [Enemy1] Death animation component initialized
[00:21:06] [ENEMY] [Enemy2] Death animation component initialized
[00:21:06] [ENEMY] [Enemy3] Death animation component initialized
[00:21:06] [ENEMY] [Enemy4] Death animation component initialized
[00:21:06] [ENEMY] [Enemy5] Death animation component initialized
[00:21:06] [ENEMY] [Enemy6] Death animation component initialized
[00:21:06] [ENEMY] [Enemy7] Death animation component initialized
[00:21:06] [ENEMY] [Enemy8] Death animation component initialized
[00:21:06] [ENEMY] [Enemy9] Death animation component initialized
[00:21:06] [ENEMY] [Enemy10] Death animation component initialized
[00:21:06] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:21:06] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:21:06] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:21:06] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:21:06] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:21:06] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:21:06] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:21:06] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:21:06] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:21:06] [INFO] [ScoreManager] Level started with 10 enemies
[00:21:06] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:21:06] [ENEMY] [Enemy1] Registered as sound listener
[00:21:06] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:21:06] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:21:06] [ENEMY] [Enemy2] Registered as sound listener
[00:21:06] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:21:06] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:21:06] [ENEMY] [Enemy3] Registered as sound listener
[00:21:06] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:21:06] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:21:06] [ENEMY] [Enemy4] Registered as sound listener
[00:21:06] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:21:06] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:21:06] [ENEMY] [Enemy5] Registered as sound listener
[00:21:06] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:21:06] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:21:06] [ENEMY] [Enemy6] Registered as sound listener
[00:21:06] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:21:06] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:21:06] [ENEMY] [Enemy7] Registered as sound listener
[00:21:06] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:21:06] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:21:06] [ENEMY] [Enemy8] Registered as sound listener
[00:21:06] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:21:06] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:21:06] [ENEMY] [Enemy9] Registered as sound listener
[00:21:06] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:21:06] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:21:06] [ENEMY] [Enemy10] Registered as sound listener
[00:21:06] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:21:06] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:21:06] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:21:06] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:21:06] [INFO] [LastChance] Found player: Player
[00:21:06] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:21:06] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:21:06] [INFO] [LastChance] Connected to player Died signal (C#)
[00:21:06] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:21:06] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:21:06] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:21:07] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:21:07] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:21:07] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:21:07] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1158.4933, 1256.414)
[00:21:07] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:21:07] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:21:07] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:21:07] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1116.6666)
[00:21:07] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:21:07] [INFO] [Player.Grenade] Step 1 complete! Drag: (111.64526, 73.82739)
[00:21:07] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:21:07] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:21:07] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:21:07] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:21:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:21:07] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:21:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:21:07] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:21:07] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:21:07] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:21:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=15756926389958, bullet_pos=(41.69983, 702.3934)
[00:21:08] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:21:08] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:21:08] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:21:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=15756926389958, bullet_pos=(509.0479, 439.4301)
[00:21:08] [INFO] [Bullet] Using shooter_position, distance=1108.92016601563
[00:21:08] [INFO] [Bullet] Distance to wall: 1108.92016601563 (75.5084132283838% of viewport)
[00:21:08] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:21:08] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3066.7048, 1038.6272) (3237,8 px/s), Swing distance: 577,3
[00:21:08] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,32655352
[00:21:08] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3066.705, 1038.627), Swing: 577.3, Transfer: 1.00, Final speed: 1186.5
[00:21:08] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:21:08] [INFO] [Player.Grenade] Thrown! Velocity: 3237,8, Swing: 577,3
[00:21:08] [INFO] [Player.Grenade] State reset to IDLE
[00:21:08] [ENEMY] [Enemy1] Hit taken, health: 2/3
[00:21:08] [INFO] [Player.Grenade] Player rotation restored to 0
[00:21:08] [INFO] [GrenadeBase] Collision detected with Table1 (type: StaticBody2D)
[00:21:08] [INFO] [FragGrenade] Wall impact detected! Body: Table1, triggering explosion
[00:21:08] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:21:08] [INFO] [GrenadeBase] EXPLODED at (666.0758, 811.0653)!
[00:21:08] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(666.0758, 811.0653), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:21:08] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:21:08] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:21:08] [ENEMY] [Enemy3] Hit taken, health: 1/3
[00:21:08] [ENEMY] [Enemy3] Hit taken, health: 0/3
[00:21:08] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:21:08] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:21:08] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:21:08] [INFO] [DeathAnim] Started - Angle: -72.2 deg, Index: 7
[00:21:08] [ENEMY] [Enemy3] Death animation started with hit direction: (0.305295, -0.952258)
[00:21:08] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 60.2
[00:21:08] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 8.3 degrees
[00:21:08] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 102.9 degrees
[00:21:08] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 196.6 degrees
[00:21:08] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 260.1 degrees
[00:21:08] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:21:09] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:21:09] [ENEMY] [Enemy1] Hit taken, health: 1/3
[00:21:09] [ENEMY] [Enemy3] Ragdoll activated
[00:21:09] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:21:09] [ENEMY] [Enemy10] FLANKING started: target=(412.5482, 1134.53), side=right, pos=(1022.668, 1432.257)
[00:21:09] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:21:09] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:21:09] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:21:09] [ENEMY] [Enemy1] Death animation component initialized
[00:21:09] [ENEMY] [Enemy2] Death animation component initialized
[00:21:09] [ENEMY] [Enemy3] Death animation component initialized
[00:21:09] [ENEMY] [Enemy4] Death animation component initialized
[00:21:09] [ENEMY] [Enemy5] Death animation component initialized
[00:21:09] [ENEMY] [Enemy6] Death animation component initialized
[00:21:09] [ENEMY] [Enemy7] Death animation component initialized
[00:21:09] [ENEMY] [Enemy8] Death animation component initialized
[00:21:09] [ENEMY] [Enemy9] Death animation component initialized
[00:21:09] [ENEMY] [Enemy10] Death animation component initialized
[00:21:09] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:21:09] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:21:09] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:21:09] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:21:09] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:21:09] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:21:09] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:21:09] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:21:09] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:21:09] [INFO] [ScoreManager] Level started with 10 enemies
[00:21:09] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:21:09] [ENEMY] [Enemy1] Registered as sound listener
[00:21:09] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:21:09] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:21:09] [ENEMY] [Enemy2] Registered as sound listener
[00:21:09] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:21:09] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:21:09] [ENEMY] [Enemy3] Registered as sound listener
[00:21:09] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:21:09] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:21:09] [ENEMY] [Enemy4] Registered as sound listener
[00:21:09] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:21:09] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:21:09] [ENEMY] [Enemy5] Registered as sound listener
[00:21:09] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:21:09] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:21:09] [ENEMY] [Enemy6] Registered as sound listener
[00:21:09] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:21:09] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:21:09] [ENEMY] [Enemy7] Registered as sound listener
[00:21:09] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:21:09] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:21:09] [ENEMY] [Enemy8] Registered as sound listener
[00:21:09] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:21:09] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:21:09] [ENEMY] [Enemy9] Registered as sound listener
[00:21:09] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:21:09] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:21:09] [ENEMY] [Enemy10] Registered as sound listener
[00:21:09] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:21:09] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:21:09] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:21:09] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:21:09] [INFO] [LastChance] Found player: Player
[00:21:09] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:21:09] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:21:09] [INFO] [LastChance] Connected to player Died signal (C#)
[00:21:09] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:21:09] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:21:09] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:21:10] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:21:10] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:21:10] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1043.2102, 1436.302)
[00:21:10] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:21:10] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:21:10] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:21:10] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:21:10] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1160.6666)
[00:21:10] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:21:10] [INFO] [Player.Grenade] Step 1 complete! Drag: (211.10852, 18.004395)
[00:21:10] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:21:10] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:21:10] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:21:10] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:21:10] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:21:10] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:21:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:21:10] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:21:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:21:10] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:21:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=15934462888149, bullet_pos=(41.69983, 702.3934)
[00:21:11] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:21:11] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:21:11] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:21:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=15934462888149, bullet_pos=(519.7391, 328.1895)
[00:21:11] [INFO] [Bullet] Using shooter_position, distance=1205.05456542969
[00:21:11] [INFO] [Bullet] Distance to wall: 1205.05456542969 (82.0543812600602% of viewport)
[00:21:11] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:21:11] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2192.9749, 1485.5472) (2648,8 px/s), Swing distance: 611,9
[00:21:11] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,5954048
[00:21:11] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2192.975, 1485.547), Swing: 611.9, Transfer: 1.00, Final speed: 1186.5
[00:21:11] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:21:11] [INFO] [Player.Grenade] Thrown! Velocity: 2648,8, Swing: 611,9
[00:21:11] [INFO] [Player.Grenade] State reset to IDLE
[00:21:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=15934462888149, bullet_pos=(269.7473, 60.52698)
[00:21:11] [INFO] [Bullet] Using shooter_position, distance=1555.50305175781
[00:21:11] [INFO] [Bullet] Distance to wall: 1555.50305175781 (105.917063112085% of viewport)
[00:21:11] [INFO] [Player.Grenade] Player rotation restored to 0
[00:21:11] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:21:11] [INFO] [GrenadeBase] Collision detected with Table1 (type: StaticBody2D)
[00:21:11] [INFO] [FragGrenade] Wall impact detected! Body: Table1, triggering explosion
[00:21:11] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:21:11] [INFO] [GrenadeBase] EXPLODED at (693.6025, 904.8184)!
[00:21:11] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(693.6025, 904.8184), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:21:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:21:11] [ENEMY] [Enemy4] Hit taken, health: 3/4
[00:21:11] [ENEMY] [Enemy4] Hit taken, health: 2/4
[00:21:11] [ENEMY] [Enemy4] Hit taken, health: 1/4
[00:21:11] [ENEMY] [Enemy4] Hit taken, health: 0/4
[00:21:11] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[00:21:11] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:21:11] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 9)
[00:21:11] [INFO] [DeathAnim] Started - Angle: -2.6 deg, Index: 11
[00:21:11] [ENEMY] [Enemy4] Death animation started with hit direction: (0.998976, -0.045241)
[00:21:11] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 106.5
[00:21:11] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -7.0 degrees
[00:21:11] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 77.7 degrees
[00:21:11] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 180.3 degrees
[00:21:11] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 289.7 degrees
[00:21:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=9
[00:21:11] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:21:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:21:11] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:21:11] [INFO] [LastChance] Threat detected: @Area2D@18621
[00:21:11] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:11] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:21:11] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:21:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=15934462888149, bullet_pos=(67.66678, 225.526)
[00:21:11] [INFO] [Bullet] Using shooter_position, distance=1527.3779296875
[00:21:11] [INFO] [Bullet] Distance to wall: 1527.3779296875 (104.001971832779% of viewport)
[00:21:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:21:11] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:21:11] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:21:11] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:21:11] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:21:11] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:21:11] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:21:11] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:21:11] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:21:11] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:21:11] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:21:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=9
[00:21:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:21:12] [INFO] [LastChance] Threat detected: @Area2D@18630
[00:21:12] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:12] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:21:12] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:21:12] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:21:12] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:21:12] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:21:12] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:21:12] [INFO] [LastChance] Player died
[00:21:12] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:21:12] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[00:21:12] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[00:21:12] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:21:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=15934462888149, bullet_pos=(329.4095, 428.5522)
[00:21:12] [INFO] [Bullet] Using shooter_position, distance=1209.17626953125
[00:21:12] [INFO] [Bullet] Distance to wall: 1209.17626953125 (82.3350356714811% of viewport)
[00:21:12] [ENEMY] [Enemy4] Ragdoll activated
[00:21:12] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:21:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=15934462888149, bullet_pos=(507.9018, 288.5429)
[00:21:13] [INFO] [Bullet] Using shooter_position, distance=1246.11853027344
[00:21:13] [INFO] [Bullet] Distance to wall: 1246.11853027344 (84.8505021362442% of viewport)
[00:21:13] [INFO] [Bullet] Distance-based penetration chance: 47.6744141743818%
[00:21:13] [INFO] [Bullet] Penetration failed (distance roll)
[00:21:13] [ENEMY] [Enemy10] FLANKING started: target=(411.2131, 1127.436), side=right, pos=(1022.668, 1432.257)
[00:21:13] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:21:13] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:21:13] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:21:13] [ENEMY] [Enemy1] Death animation component initialized
[00:21:13] [ENEMY] [Enemy2] Death animation component initialized
[00:21:13] [ENEMY] [Enemy3] Death animation component initialized
[00:21:13] [ENEMY] [Enemy4] Death animation component initialized
[00:21:13] [ENEMY] [Enemy5] Death animation component initialized
[00:21:13] [ENEMY] [Enemy6] Death animation component initialized
[00:21:13] [ENEMY] [Enemy7] Death animation component initialized
[00:21:13] [ENEMY] [Enemy8] Death animation component initialized
[00:21:13] [ENEMY] [Enemy9] Death animation component initialized
[00:21:13] [ENEMY] [Enemy10] Death animation component initialized
[00:21:13] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:21:13] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:21:13] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:21:13] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:21:13] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:21:13] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:21:13] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:21:13] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:21:13] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:21:13] [INFO] [ScoreManager] Level started with 10 enemies
[00:21:13] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:21:13] [ENEMY] [Enemy1] Registered as sound listener
[00:21:13] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:21:13] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:21:13] [ENEMY] [Enemy2] Registered as sound listener
[00:21:13] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:21:13] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:21:13] [ENEMY] [Enemy3] Registered as sound listener
[00:21:13] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:21:13] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:21:13] [ENEMY] [Enemy4] Registered as sound listener
[00:21:13] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:21:13] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:21:13] [ENEMY] [Enemy5] Registered as sound listener
[00:21:13] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:21:13] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:21:13] [ENEMY] [Enemy6] Registered as sound listener
[00:21:13] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:21:13] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:21:13] [ENEMY] [Enemy7] Registered as sound listener
[00:21:13] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:21:13] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:21:13] [ENEMY] [Enemy8] Registered as sound listener
[00:21:13] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:21:13] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:21:13] [ENEMY] [Enemy9] Registered as sound listener
[00:21:13] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:21:13] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:21:13] [ENEMY] [Enemy10] Registered as sound listener
[00:21:13] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:21:13] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:21:13] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:21:13] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:21:13] [INFO] [LastChance] Found player: Player
[00:21:13] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:21:13] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:21:13] [INFO] [LastChance] Connected to player Died signal (C#)
[00:21:13] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:21:13] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:21:13] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:21:13] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:21:13] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:21:13] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:21:13] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1062.054, 1457.5493)
[00:21:13] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:21:13] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:21:13] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:21:13] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1138.6666)
[00:21:13] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:21:13] [INFO] [Player.Grenade] Step 1 complete! Drag: (202.7096, 7.9472656)
[00:21:13] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:21:13] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:21:13] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:21:13] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:21:14] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:21:14] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:21:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:21:14] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:21:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:21:14] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:21:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=16135470714420, bullet_pos=(41.69983, 702.3934)
[00:21:14] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:21:14] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:21:14] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:21:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=16135470714420, bullet_pos=(524.3923, 396.1081)
[00:21:14] [INFO] [Bullet] Using shooter_position, distance=1141.26184082031
[00:21:14] [INFO] [Bullet] Distance to wall: 1141.26184082031 (77.7106173369309% of viewport)
[00:21:14] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:21:14] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1289.071, 1036.7991) (1654,3 px/s), Swing distance: 498,7
[00:21:14] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,6773571
[00:21:14] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1289.071, 1036.799), Swing: 498.7, Transfer: 1.00, Final speed: 779.8
[00:21:14] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:21:14] [INFO] [Player.Grenade] Thrown! Velocity: 1654,3, Swing: 498,7
[00:21:14] [INFO] [Player.Grenade] State reset to IDLE
[00:21:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=16135470714420, bullet_pos=(247.6564, 265.4223)
[00:21:15] [INFO] [Bullet] Using shooter_position, distance=1390.32739257813
[00:21:15] [INFO] [Bullet] Distance to wall: 1390.32739257813 (94.6699487472854% of viewport)
[00:21:15] [INFO] [Player.Grenade] Player rotation restored to 0
[00:21:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:15] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:21:15] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:21:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=16135470714420, bullet_pos=(54.97831, 400.4769)
[00:21:15] [INFO] [Bullet] Using shooter_position, distance=1402.0322265625
[00:21:15] [INFO] [Bullet] Distance to wall: 1402.0322265625 (95.4669524165733% of viewport)
[00:21:15] [INFO] [Bullet] Distance-based penetration chance: 35.2885555139978%
[00:21:15] [INFO] [Bullet] Starting wall penetration at (54.97831, 400.4769)
[00:21:15] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:21:15] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:21:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 2.52765083312988
[00:21:15] [INFO] [LastChance] Threat detected: @Area2D@18902
[00:21:15] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:15] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:21:15] [INFO] [Bullet] Max penetration distance exceeded: 51.1770858764648 >= 48
[00:21:15] [INFO] [Bullet] Body exited signal received for penetrating body
[00:21:15] [INFO] [Bullet] Exiting penetration at (8.97644, 432.7212) after traveling 51.1770858764648 pixels through wall
[00:21:15] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[00:21:15] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:21:15] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:21:15] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:21:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:15] [INFO] [LastChance] Threat detected: Bullet
[00:21:15] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:15] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:21:15] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:21:15] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:21:15] [ENEMY] [Enemy10] FLANKING started: target=(413.2498, 1138.218), side=right, pos=(1022.668, 1432.257)
[00:21:15] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:21:15] [INFO] [GrenadeBase] Collision detected with Room2_WallBottom (type: StaticBody2D)
[00:21:15] [INFO] [FragGrenade] Wall impact detected! Body: Room2_WallBottom, triggering explosion
[00:21:15] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:21:15] [INFO] [GrenadeBase] EXPLODED at (779.3257, 991.9182)!
[00:21:15] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(779.3257, 991.9182), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:21:15] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:21:15] [ENEMY] [Enemy4] Hit taken, health: 3/4
[00:21:15] [ENEMY] [Enemy4] Hit taken, health: 2/4
[00:21:15] [ENEMY] [Enemy4] Hit taken, health: 1/4
[00:21:15] [ENEMY] [Enemy4] Hit taken, health: 0/4
[00:21:15] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[00:21:15] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:21:15] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 9)
[00:21:15] [INFO] [DeathAnim] Started - Angle: -88.0 deg, Index: 6
[00:21:15] [ENEMY] [Enemy4] Death animation started with hit direction: (0.035651, -0.999364)
[00:21:15] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 93.9
[00:21:15] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 14.0 degrees
[00:21:15] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 78.0 degrees
[00:21:15] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 181.8 degrees
[00:21:15] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 282.2 degrees
[00:21:16] [ENEMY] [Enemy10] State: FLANKING -> RETREATING
[00:21:16] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[00:21:16] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[00:21:16] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[00:21:16] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[00:21:16] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[00:21:16] [ENEMY] [Enemy4] Ragdoll activated
[00:21:16] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:21:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=9
[00:21:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:21:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(619.1104, 775.0752), shooter_id=16133474223595, bullet_pos=(500.8784, 815.6488)
[00:21:16] [INFO] [Bullet] Using shooter_position, distance=125.000030517578
[00:21:16] [INFO] [Bullet] Distance to wall: 125.000030517578 (8.51148193272994% of viewport)
[00:21:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:21:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=9
[00:21:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:21:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:21:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:21:17] [ENEMY] [Enemy1] Death animation component initialized
[00:21:17] [ENEMY] [Enemy2] Death animation component initialized
[00:21:17] [ENEMY] [Enemy3] Death animation component initialized
[00:21:17] [ENEMY] [Enemy4] Death animation component initialized
[00:21:17] [ENEMY] [Enemy5] Death animation component initialized
[00:21:17] [ENEMY] [Enemy6] Death animation component initialized
[00:21:17] [ENEMY] [Enemy7] Death animation component initialized
[00:21:17] [ENEMY] [Enemy8] Death animation component initialized
[00:21:17] [ENEMY] [Enemy9] Death animation component initialized
[00:21:17] [ENEMY] [Enemy10] Death animation component initialized
[00:21:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:21:17] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:21:17] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:21:17] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:21:17] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:21:17] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:21:17] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:21:17] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:21:17] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:21:17] [INFO] [ScoreManager] Level started with 10 enemies
[00:21:17] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:21:17] [ENEMY] [Enemy1] Registered as sound listener
[00:21:17] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:21:17] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:21:17] [ENEMY] [Enemy2] Registered as sound listener
[00:21:17] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:21:17] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:21:17] [ENEMY] [Enemy3] Registered as sound listener
[00:21:17] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:21:17] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:21:17] [ENEMY] [Enemy4] Registered as sound listener
[00:21:17] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:21:17] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:21:17] [ENEMY] [Enemy5] Registered as sound listener
[00:21:17] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:21:17] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:21:17] [ENEMY] [Enemy6] Registered as sound listener
[00:21:17] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:21:17] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:21:17] [ENEMY] [Enemy7] Registered as sound listener
[00:21:17] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:21:17] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:21:17] [ENEMY] [Enemy8] Registered as sound listener
[00:21:17] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:21:17] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:21:17] [ENEMY] [Enemy9] Registered as sound listener
[00:21:17] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:21:17] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:21:17] [ENEMY] [Enemy10] Registered as sound listener
[00:21:17] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:21:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:21:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:21:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:21:17] [INFO] [LastChance] Found player: Player
[00:21:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:21:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:21:17] [INFO] [LastChance] Connected to player Died signal (C#)
[00:21:17] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:21:17] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:21:17] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:21:17] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:21:17] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:21:17] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:21:17] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1115.0695, 1473.0474)
[00:21:17] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:21:17] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:21:17] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:21:17] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1111.1666)
[00:21:17] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:21:17] [INFO] [Player.Grenade] Step 1 complete! Drag: (153.19458, -34.036255)
[00:21:17] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:21:17] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:21:17] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:21:17] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:21:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:21:17] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:21:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:21:17] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:21:17] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:21:18] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:21:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=16378287359394, bullet_pos=(41.69983, 702.3934)
[00:21:18] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:21:18] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:21:18] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:21:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=16378287359394, bullet_pos=(521.6823, 391.8785)
[00:21:18] [INFO] [Bullet] Using shooter_position, distance=1146.24011230469
[00:21:18] [INFO] [Bullet] Distance to wall: 1146.24011230469 (78.0495969965361% of viewport)
[00:21:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=16378287359394, bullet_pos=(270.8156, 276.955)
[00:21:18] [INFO] [Bullet] Using shooter_position, distance=1368.09533691406
[00:21:18] [INFO] [Bullet] Distance to wall: 1368.09533691406 (93.1561271959739% of viewport)
[00:21:18] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:21:18] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (559.57965, 1249.5686) (1369,1 px/s), Swing distance: 475,9
[00:21:18] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,1497582
[00:21:18] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (559.5797, 1249.569), Swing: 475.9, Transfer: 1.00, Final speed: 645.4
[00:21:18] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:21:18] [INFO] [Player.Grenade] Thrown! Velocity: 1369,1, Swing: 475,9
[00:21:18] [INFO] [Player.Grenade] State reset to IDLE
[00:21:18] [INFO] [GrenadeBase] Collision detected with Room2_WallLeft (type: StaticBody2D)
[00:21:18] [INFO] [FragGrenade] Wall impact detected! Body: Room2_WallLeft, triggering explosion
[00:21:18] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:21:18] [INFO] [GrenadeBase] EXPLODED at (491.2833, 835.0087)!
[00:21:18] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(491.2833, 835.0087), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:21:18] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:21:18] [INFO] [FragGrenade] Player found in blast radius at distance 114.7
[00:21:18] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:21:18] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:21:18] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:21:18] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:21:18] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:21:18] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:21:18] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:21:18] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:21:18] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:21:18] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:21:18] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:21:18] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:21:18] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:21:18] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:21:18] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:21:18] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:21:18] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:21:18] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:21:18] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:21:18] [INFO] [LastChance] Player died
[00:21:18] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 114.7
[00:21:18] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 16.8 degrees
[00:21:18] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 73.4 degrees
[00:21:18] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 164.8 degrees
[00:21:18] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 282.3 degrees
[00:21:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=16378287359394, bullet_pos=(49.09743, 355.731)
[00:21:18] [INFO] [Bullet] Using shooter_position, distance=1439.14147949219
[00:21:18] [INFO] [Bullet] Distance to wall: 1439.14147949219 (97.9937896864548% of viewport)
[00:21:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:18] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:21:18] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:21:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:19] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:21:19] [INFO] [LastChance] Threat detected: @Area2D@19195
[00:21:19] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:19] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:21:19] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:21:19] [INFO] [Player.Grenade] Player rotation restored to 0
[00:21:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:19] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:21:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=16378287359394, bullet_pos=(233.6703, 434.6889)
[00:21:19] [INFO] [Bullet] Using shooter_position, distance=1260.3603515625
[00:21:19] [INFO] [Bullet] Distance to wall: 1260.3603515625 (85.8202539362165% of viewport)
[00:21:19] [INFO] [LastChance] Threat detected: @Area2D@19198
[00:21:19] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:19] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[00:21:19] [INFO] [LastChance] Threat detected: @Area2D@19201
[00:21:19] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:19] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[00:21:19] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:21:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=16378287359394, bullet_pos=(57.91119, 546.6025)
[00:21:19] [INFO] [Bullet] Using shooter_position, distance=1296.27770996094
[00:21:19] [INFO] [Bullet] Distance to wall: 1296.27770996094 (88.2659329157644% of viewport)
[00:21:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:19] [INFO] [LastChance] Threat detected: @Area2D@19204
[00:21:19] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(619.8854, 774.6948), shooter_id=16376290871435, bullet_pos=(497.3384, 799.3368)
[00:21:19] [INFO] [Bullet] Using shooter_position, distance=125.000007629395
[00:21:19] [INFO] [Bullet] Distance to wall: 125.000007629395 (8.51148037423143% of viewport)
[00:21:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:21:19] [INFO] [Bullet] Starting wall penetration at (497.3384, 799.3368)
[00:21:19] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:21:19] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:21:19] [INFO] [Bullet] Exiting penetration at (451.5875, 808.5364) after traveling 41.6666717529297 pixels through wall
[00:21:19] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:21:19] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:21:19] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:21:19] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:21:19] [ENEMY] [Enemy1] Death animation component initialized
[00:21:19] [ENEMY] [Enemy2] Death animation component initialized
[00:21:19] [ENEMY] [Enemy3] Death animation component initialized
[00:21:19] [ENEMY] [Enemy4] Death animation component initialized
[00:21:19] [ENEMY] [Enemy5] Death animation component initialized
[00:21:19] [ENEMY] [Enemy6] Death animation component initialized
[00:21:19] [ENEMY] [Enemy7] Death animation component initialized
[00:21:19] [ENEMY] [Enemy8] Death animation component initialized
[00:21:19] [ENEMY] [Enemy9] Death animation component initialized
[00:21:19] [ENEMY] [Enemy10] Death animation component initialized
[00:21:19] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:21:19] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:21:19] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:21:19] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:21:19] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:21:19] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:21:19] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:21:19] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:21:19] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:21:19] [INFO] [ScoreManager] Level started with 10 enemies
[00:21:19] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:21:19] [ENEMY] [Enemy1] Registered as sound listener
[00:21:19] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:21:19] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:21:19] [ENEMY] [Enemy2] Registered as sound listener
[00:21:19] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:21:19] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:21:19] [ENEMY] [Enemy3] Registered as sound listener
[00:21:19] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:21:19] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:21:19] [ENEMY] [Enemy4] Registered as sound listener
[00:21:19] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:21:19] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:21:19] [ENEMY] [Enemy5] Registered as sound listener
[00:21:19] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:21:19] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:21:19] [ENEMY] [Enemy6] Registered as sound listener
[00:21:19] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:21:19] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:21:19] [ENEMY] [Enemy7] Registered as sound listener
[00:21:19] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:21:19] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:21:19] [ENEMY] [Enemy8] Registered as sound listener
[00:21:19] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:21:19] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:21:19] [ENEMY] [Enemy9] Registered as sound listener
[00:21:19] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:21:19] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:21:19] [ENEMY] [Enemy10] Registered as sound listener
[00:21:19] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:21:19] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:21:19] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:21:19] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:21:19] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:21:19] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:21:19] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:21:19] [INFO] [LastChance] Found player: Player
[00:21:19] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:21:19] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:21:19] [INFO] [LastChance] Connected to player Died signal (C#)
[00:21:19] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:21:19] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:21:19] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:21:19] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1077.0392, 1493.8706)
[00:21:20] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:21:20] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:21:20] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:21:20] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1105.6666)
[00:21:20] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:21:20] [INFO] [Player.Grenade] Step 1 complete! Drag: (192.20288, -8.265259)
[00:21:20] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:21:20] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:21:20] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:21:20] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:21:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:21:20] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:21:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:21:20] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:21:20] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:21:20] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:21:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=16539331856448, bullet_pos=(41.69983, 702.3934)
[00:21:20] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:21:20] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:21:20] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:21:20] [INFO] [Bullet] Starting wall penetration at (41.69983, 702.3934)
[00:21:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.508674621582
[00:21:20] [INFO] [Bullet] Body exited signal received for penetrating body
[00:21:20] [INFO] [Bullet] Exiting penetration at (4.46851, 674.2579) after traveling 41.6666717529297 pixels through wall
[00:21:20] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:21:20] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:21:21] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:21:21] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.094714195, 188.46228) (188,5 px/s), Swing distance: 443,6
[00:21:21] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,5702938
[00:21:21] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.094714, 188.4623), Swing: 443.6, Transfer: 1.00, Final speed: 88.8
[00:21:21] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:21:21] [INFO] [Player.Grenade] Thrown! Velocity: 188,5, Swing: 443,6
[00:21:21] [INFO] [Player.Grenade] State reset to IDLE
[00:21:21] [INFO] [GrenadeBase] Grenade landed at (450.0336, 795.177)
[00:21:21] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:21:21] [INFO] [GrenadeBase] EXPLODED at (450.0336, 795.177)!
[00:21:21] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450.0336, 795.177), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:21:21] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:21:21] [INFO] [FragGrenade] Player found in blast radius at distance 57.8
[00:21:21] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:21:21] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:21:21] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:21:21] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:21:21] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:21:21] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:21:21] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:21:21] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:21:21] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:21:21] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:21:21] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:21:21] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:21:21] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:21:21] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:21:21] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:21:21] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:21:21] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:21:21] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:21:21] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:21:21] [INFO] [LastChance] Player died
[00:21:21] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 57.8
[00:21:21] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 17.5 degrees
[00:21:21] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 101.0 degrees
[00:21:21] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 197.6 degrees
[00:21:21] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 254.6 degrees
[00:21:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:21] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:21:21] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:21:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:21] [INFO] [LastChance] Threat detected: Bullet
[00:21:21] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:21] [INFO] [Player.Grenade] Player rotation restored to 0
[00:21:21] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:21:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:21] [INFO] [LastChance] Threat detected: Bullet
[00:21:21] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:21] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[00:21:21] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[00:21:21] [INFO] [LastChance] Threat detected: Bullet
[00:21:21] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:21] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:21:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(620.37, 776.1386), shooter_id=16537335367253, bullet_pos=(498.4067, 803.524)
[00:21:21] [INFO] [Bullet] Using shooter_position, distance=124.999992370605
[00:21:21] [INFO] [Bullet] Distance to wall: 124.999992370605 (8.51147933523242% of viewport)
[00:21:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:21:21] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:21:21] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:21:21] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:21:21] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:21:21] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:21:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(620.37, 776.1386), shooter_id=16537335367253, bullet_pos=(187.9898, 711.5706)
[00:21:21] [INFO] [Bullet] Using shooter_position, distance=437.174621582031
[00:21:21] [INFO] [Bullet] Distance to wall: 437.174621582031 (29.7680238767641% of viewport)
[00:21:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:21:21] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:21:21] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:21:21] [ENEMY] [Enemy1] Death animation component initialized
[00:21:21] [ENEMY] [Enemy2] Death animation component initialized
[00:21:21] [ENEMY] [Enemy3] Death animation component initialized
[00:21:21] [ENEMY] [Enemy4] Death animation component initialized
[00:21:21] [ENEMY] [Enemy5] Death animation component initialized
[00:21:21] [ENEMY] [Enemy6] Death animation component initialized
[00:21:21] [ENEMY] [Enemy7] Death animation component initialized
[00:21:21] [ENEMY] [Enemy8] Death animation component initialized
[00:21:21] [ENEMY] [Enemy9] Death animation component initialized
[00:21:21] [ENEMY] [Enemy10] Death animation component initialized
[00:21:21] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:21:21] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:21:21] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:21:21] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:21:21] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:21:21] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:21:21] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:21:21] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:21:21] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:21:21] [INFO] [ScoreManager] Level started with 10 enemies
[00:21:21] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:21:21] [ENEMY] [Enemy1] Registered as sound listener
[00:21:21] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:21:21] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:21:21] [ENEMY] [Enemy2] Registered as sound listener
[00:21:21] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:21:21] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:21:21] [ENEMY] [Enemy3] Registered as sound listener
[00:21:21] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:21:21] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:21:21] [ENEMY] [Enemy4] Registered as sound listener
[00:21:21] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:21:21] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:21:21] [ENEMY] [Enemy5] Registered as sound listener
[00:21:21] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:21:21] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:21:21] [ENEMY] [Enemy6] Registered as sound listener
[00:21:21] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:21:21] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:21:21] [ENEMY] [Enemy7] Registered as sound listener
[00:21:21] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:21:21] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:21:21] [ENEMY] [Enemy8] Registered as sound listener
[00:21:21] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:21:21] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:21:21] [ENEMY] [Enemy9] Registered as sound listener
[00:21:21] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:21:21] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:21:21] [ENEMY] [Enemy10] Registered as sound listener
[00:21:21] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:21:21] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:21:21] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:21:21] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:21:21] [INFO] [LastChance] Found player: Player
[00:21:21] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:21:21] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:21:21] [INFO] [LastChance] Connected to player Died signal (C#)
[00:21:21] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:21:21] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:21:21] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:21:22] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:21:22] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:21:22] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:21:22] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1201.7422, 1458.8175)
[00:21:22] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:21:22] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:21:22] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:21:22] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1116.6666)
[00:21:22] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:21:22] [INFO] [Player.Grenade] Step 1 complete! Drag: (65.454956, -21.711548)
[00:21:22] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:21:22] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:21:22] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:21:22] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:21:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:21:22] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:21:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:21:22] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:21:22] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:21:22] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:21:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=16697675222385, bullet_pos=(41.69983, 702.3934)
[00:21:23] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:21:23] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:21:23] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:21:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=16697675222385, bullet_pos=(502.7008, 364.3391)
[00:21:23] [INFO] [Bullet] Using shooter_position, distance=1179.232421875
[00:21:23] [INFO] [Bullet] Distance to wall: 1179.232421875 (80.2961040226864% of viewport)
[00:21:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=16697675222385, bullet_pos=(342.5213, 270.5352)
[00:21:23] [INFO] [Bullet] Using shooter_position, distance=1336.52136230469
[00:21:23] [INFO] [Bullet] Distance to wall: 1336.52136230469 (91.0061972054017% of viewport)
[00:21:23] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:21:23] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.11336382, 366.79462) (366,8 px/s), Swing distance: 422,9
[00:21:23] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,5704873
[00:21:23] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.113364, 366.7946), Swing: 422.9, Transfer: 1.00, Final speed: 172.9
[00:21:23] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:21:23] [INFO] [Player.Grenade] Thrown! Velocity: 366,8, Swing: 422,9
[00:21:23] [INFO] [Player.Grenade] State reset to IDLE
[00:21:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:23] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:21:23] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:21:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:23] [INFO] [Player.Grenade] Player rotation restored to 0
[00:21:23] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:21:23] [INFO] [LastChance] Threat detected: @Area2D@19728
[00:21:23] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:23] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:21:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=16697675222385, bullet_pos=(672.2216, 64.41582)
[00:21:23] [INFO] [Bullet] Using shooter_position, distance=1406.59448242188
[00:21:23] [INFO] [Bullet] Distance to wall: 1406.59448242188 (95.7776048072869% of viewport)
[00:21:23] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:21:23] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:21:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:21:23] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:21:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:24] [INFO] [GrenadeBase] Grenade landed at (450.0284, 819.9304)
[00:21:24] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:21:24] [INFO] [GrenadeBase] EXPLODED at (450.0284, 819.9304)!
[00:21:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450.0284, 819.9304), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:21:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:21:24] [INFO] [FragGrenade] Player found in blast radius at distance 41.0
[00:21:24] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:21:24] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:21:24] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:21:24] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:21:24] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:21:24] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:21:24] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:21:24] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:21:24] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:21:24] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:21:24] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:21:24] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:21:24] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:21:24] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:21:24] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:21:24] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:21:24] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:21:24] [INFO] [LastChance] Player died
[00:21:24] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 41.0
[00:21:24] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -8.7 degrees
[00:21:24] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 73.3 degrees
[00:21:24] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 196.5 degrees
[00:21:24] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 278.3 degrees
[00:21:24] [INFO] [LastChance] Threat detected: @Area2D@19730
[00:21:24] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:24] [INFO] [LastChance] Threat detected: @Area2D@19739
[00:21:24] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(620.37, 776.1386), shooter_id=16695678733315, bullet_pos=(498.4067, 803.524)
[00:21:24] [INFO] [Bullet] Using shooter_position, distance=124.999992370605
[00:21:24] [INFO] [Bullet] Distance to wall: 124.999992370605 (8.51147933523242% of viewport)
[00:21:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:21:24] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:21:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=16697675222385, bullet_pos=(989.1609, 219.8557)
[00:21:24] [INFO] [Bullet] Using shooter_position, distance=1211.1591796875
[00:21:24] [INFO] [Bullet] Distance to wall: 1211.1591796875 (82.4700556702704% of viewport)
[00:21:24] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:21:24] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[00:21:24] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[00:21:24] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[00:21:24] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:21:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(620.37, 776.1386), shooter_id=16695678733315, bullet_pos=(35.57439, 754.5462)
[00:21:24] [INFO] [Bullet] Using shooter_position, distance=585.194091796875
[00:21:24] [INFO] [Bullet] Distance to wall: 585.194091796875 (39.846941787498% of viewport)
[00:21:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:21:24] [ENEMY] [Enemy10] FLANKING started: target=(404.1541, 1088.187), side=right, pos=(1022.668, 1432.257)
[00:21:24] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:21:24] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:21:24] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:21:24] [ENEMY] [Enemy1] Death animation component initialized
[00:21:24] [ENEMY] [Enemy2] Death animation component initialized
[00:21:24] [ENEMY] [Enemy3] Death animation component initialized
[00:21:24] [ENEMY] [Enemy4] Death animation component initialized
[00:21:24] [ENEMY] [Enemy5] Death animation component initialized
[00:21:24] [ENEMY] [Enemy6] Death animation component initialized
[00:21:24] [ENEMY] [Enemy7] Death animation component initialized
[00:21:24] [ENEMY] [Enemy8] Death animation component initialized
[00:21:24] [ENEMY] [Enemy9] Death animation component initialized
[00:21:24] [ENEMY] [Enemy10] Death animation component initialized
[00:21:24] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:21:24] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:21:24] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:21:24] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:21:24] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:21:24] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:21:24] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:21:24] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:21:24] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:21:24] [INFO] [ScoreManager] Level started with 10 enemies
[00:21:24] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:21:24] [ENEMY] [Enemy1] Registered as sound listener
[00:21:24] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:21:24] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:21:24] [ENEMY] [Enemy2] Registered as sound listener
[00:21:24] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:21:24] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:21:24] [ENEMY] [Enemy3] Registered as sound listener
[00:21:24] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:21:24] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:21:24] [ENEMY] [Enemy4] Registered as sound listener
[00:21:24] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:21:24] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:21:24] [ENEMY] [Enemy5] Registered as sound listener
[00:21:24] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:21:24] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:21:24] [ENEMY] [Enemy6] Registered as sound listener
[00:21:24] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:21:24] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:21:24] [ENEMY] [Enemy7] Registered as sound listener
[00:21:24] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:21:24] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:21:24] [ENEMY] [Enemy8] Registered as sound listener
[00:21:24] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:21:24] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:21:24] [ENEMY] [Enemy9] Registered as sound listener
[00:21:24] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:21:24] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:21:24] [ENEMY] [Enemy10] Registered as sound listener
[00:21:24] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:21:24] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:21:24] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:21:24] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:21:24] [INFO] [LastChance] Found player: Player
[00:21:24] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:21:24] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:21:24] [INFO] [LastChance] Connected to player Died signal (C#)
[00:21:24] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:21:24] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:21:24] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:21:24] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:21:24] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:21:24] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1159.6567, 1542.7808)
[00:21:24] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:21:24] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:21:24] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:21:24] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1204.6666)
[00:21:24] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:21:24] [INFO] [Player.Grenade] Step 1 complete! Drag: (68.829346, -79.423584)
[00:21:24] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:21:24] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:21:24] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:21:25] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:21:25] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:21:25] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:21:25] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:21:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:21:25] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:21:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:21:25] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:21:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=16866688895662, bullet_pos=(41.69983, 702.3934)
[00:21:25] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:21:25] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:21:25] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:21:25] [INFO] [Bullet] Starting wall penetration at (41.69983, 702.3934)
[00:21:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.508674621582
[00:21:25] [INFO] [Bullet] Body exited signal received for penetrating body
[00:21:25] [INFO] [Bullet] Exiting penetration at (4.46851, 674.2579) after traveling 41.6666717529297 pixels through wall
[00:21:25] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:21:25] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:21:26] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:21:26] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.13248219, 1249.2045) (1249,2 px/s), Swing distance: 659,4
[00:21:26] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,5706903
[00:21:26] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.132482, 1249.204), Swing: 659.4, Transfer: 1.00, Final speed: 588.9
[00:21:26] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:21:26] [INFO] [Player.Grenade] Thrown! Velocity: 1249,2, Swing: 659,4
[00:21:26] [INFO] [Player.Grenade] State reset to IDLE
[00:21:26] [INFO] [Player.Grenade] Player rotation restored to 0
[00:21:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:26] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:21:26] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:21:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:26] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:21:26] [INFO] [LastChance] Threat detected: Bullet
[00:21:26] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:26] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:21:26] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:21:26] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:21:26] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:21:26] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:21:26] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:21:26] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:21:26] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:21:26] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:21:26] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:21:26] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:21:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:26] [INFO] [LastChance] Threat detected: Bullet
[00:21:26] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:27] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:21:27] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:21:27] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:21:27] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:21:27] [ENEMY] [Enemy1] Death animation component initialized
[00:21:27] [ENEMY] [Enemy2] Death animation component initialized
[00:21:27] [ENEMY] [Enemy3] Death animation component initialized
[00:21:27] [ENEMY] [Enemy4] Death animation component initialized
[00:21:27] [ENEMY] [Enemy5] Death animation component initialized
[00:21:27] [ENEMY] [Enemy6] Death animation component initialized
[00:21:27] [ENEMY] [Enemy7] Death animation component initialized
[00:21:27] [ENEMY] [Enemy8] Death animation component initialized
[00:21:27] [ENEMY] [Enemy9] Death animation component initialized
[00:21:27] [ENEMY] [Enemy10] Death animation component initialized
[00:21:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:21:27] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:21:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:21:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:21:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:21:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:21:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:21:27] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:21:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:21:27] [INFO] [ScoreManager] Level started with 10 enemies
[00:21:27] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:21:27] [ENEMY] [Enemy1] Registered as sound listener
[00:21:27] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:21:27] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:21:27] [ENEMY] [Enemy2] Registered as sound listener
[00:21:27] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:21:27] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:21:27] [ENEMY] [Enemy3] Registered as sound listener
[00:21:27] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:21:27] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:21:27] [ENEMY] [Enemy4] Registered as sound listener
[00:21:27] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:21:27] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:21:27] [ENEMY] [Enemy5] Registered as sound listener
[00:21:27] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:21:27] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:21:27] [ENEMY] [Enemy6] Registered as sound listener
[00:21:27] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:21:27] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:21:27] [ENEMY] [Enemy7] Registered as sound listener
[00:21:27] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:21:27] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:21:27] [ENEMY] [Enemy8] Registered as sound listener
[00:21:27] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:21:27] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:21:27] [ENEMY] [Enemy9] Registered as sound listener
[00:21:27] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:21:27] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:21:27] [ENEMY] [Enemy10] Registered as sound listener
[00:21:27] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:21:27] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:21:27] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:21:27] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:21:27] [INFO] [LastChance] Found player: Player
[00:21:27] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:21:27] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:21:27] [INFO] [LastChance] Connected to player Died signal (C#)
[00:21:27] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:21:27] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:21:27] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:21:27] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:21:27] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:21:27] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:21:27] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1125.9392, 1371.0247)
[00:21:27] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:21:27] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:21:27] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:21:27] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1116.6666)
[00:21:27] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:21:27] [INFO] [Player.Grenade] Step 1 complete! Drag: (141.25793, 86.786255)
[00:21:27] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:21:27] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:21:27] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:21:27] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:21:28] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:21:28] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:21:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:21:28] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:21:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:21:28] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:21:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=17039477442829, bullet_pos=(41.69983, 702.3934)
[00:21:28] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:21:28] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:21:28] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:21:28] [INFO] [Bullet] Starting wall penetration at (41.69983, 702.3934)
[00:21:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.508674621582
[00:21:28] [INFO] [Bullet] Body exited signal received for penetrating body
[00:21:28] [INFO] [Bullet] Exiting penetration at (4.46851, 674.2579) after traveling 41.6666717529297 pixels through wall
[00:21:28] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:21:28] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:21:29] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:21:29] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (369.5532, 1008.37274) (1074,0 px/s), Swing distance: 484,7
[00:21:29] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,2195119
[00:21:29] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (369.5532, 1008.373), Swing: 484.7, Transfer: 1.00, Final speed: 506.3
[00:21:29] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:21:29] [INFO] [Player.Grenade] Thrown! Velocity: 1074,0, Swing: 484,7
[00:21:29] [INFO] [Player.Grenade] State reset to IDLE
[00:21:29] [INFO] [GrenadeBase] Collision detected with Room2_WallLeft (type: StaticBody2D)
[00:21:29] [INFO] [FragGrenade] Wall impact detected! Body: Room2_WallLeft, triggering explosion
[00:21:29] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:21:29] [INFO] [GrenadeBase] EXPLODED at (491.6293, 851.358)!
[00:21:29] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(491.6293, 851.358), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:21:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:21:29] [INFO] [FragGrenade] Player found in blast radius at distance 127.0
[00:21:29] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:21:29] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:21:29] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:21:29] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:21:29] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:21:29] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:21:29] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:21:29] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:21:29] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:21:29] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:21:29] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:21:29] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:21:29] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:21:29] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:21:29] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:21:29] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:21:29] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:21:29] [INFO] [LastChance] Player died
[00:21:29] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 127.0
[00:21:29] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -16.1 degrees
[00:21:29] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 95.5 degrees
[00:21:29] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 172.7 degrees
[00:21:29] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 262.6 degrees
[00:21:29] [INFO] [Player.Grenade] Player rotation restored to 0
[00:21:29] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:21:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:29] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:21:29] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:21:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:29] [INFO] [LastChance] Threat detected: Bullet
[00:21:29] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:29] [INFO] [LastChance] Threat detected: Bullet
[00:21:29] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:29] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:21:29] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:21:29] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:21:29] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:21:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(675.2643, 760.1685), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:29] [INFO] [LastChance] Threat detected: Bullet
[00:21:29] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:29] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[00:21:29] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[00:21:29] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:21:29] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:21:29] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:21:29] [ENEMY] [Enemy1] Death animation component initialized
[00:21:29] [ENEMY] [Enemy2] Death animation component initialized
[00:21:29] [ENEMY] [Enemy3] Death animation component initialized
[00:21:29] [ENEMY] [Enemy4] Death animation component initialized
[00:21:29] [ENEMY] [Enemy5] Death animation component initialized
[00:21:29] [ENEMY] [Enemy6] Death animation component initialized
[00:21:29] [ENEMY] [Enemy7] Death animation component initialized
[00:21:29] [ENEMY] [Enemy8] Death animation component initialized
[00:21:29] [ENEMY] [Enemy9] Death animation component initialized
[00:21:29] [ENEMY] [Enemy10] Death animation component initialized
[00:21:29] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:21:29] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:21:29] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:21:29] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:21:29] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:21:29] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:21:29] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:21:29] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:21:29] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:21:29] [INFO] [ScoreManager] Level started with 10 enemies
[00:21:29] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:21:29] [ENEMY] [Enemy1] Registered as sound listener
[00:21:29] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:21:29] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:21:29] [ENEMY] [Enemy2] Registered as sound listener
[00:21:29] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:21:29] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:21:29] [ENEMY] [Enemy3] Registered as sound listener
[00:21:29] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:21:29] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:21:29] [ENEMY] [Enemy4] Registered as sound listener
[00:21:29] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:21:29] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:21:29] [ENEMY] [Enemy5] Registered as sound listener
[00:21:29] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:21:29] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:21:29] [ENEMY] [Enemy6] Registered as sound listener
[00:21:29] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:21:29] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:21:29] [ENEMY] [Enemy7] Registered as sound listener
[00:21:29] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:21:29] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:21:29] [ENEMY] [Enemy8] Registered as sound listener
[00:21:29] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:21:29] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:21:29] [ENEMY] [Enemy9] Registered as sound listener
[00:21:29] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:21:29] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:21:29] [ENEMY] [Enemy10] Registered as sound listener
[00:21:29] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:21:29] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:21:29] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:21:29] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:21:29] [INFO] [LastChance] Found player: Player
[00:21:29] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:21:29] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:21:29] [INFO] [LastChance] Connected to player Died signal (C#)
[00:21:29] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:21:29] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:21:29] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:21:29] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:21:29] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:21:30] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1130.7596, 1541.0726)
[00:21:30] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:21:30] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:21:30] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:21:30] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:21:30] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1160.6666)
[00:21:30] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:21:30] [INFO] [Player.Grenade] Step 1 complete! Drag: (123.55908, -34.00183)
[00:21:30] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:21:30] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:21:30] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:21:30] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:21:30] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:21:30] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:21:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:21:30] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:21:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:21:30] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:21:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=17196445076578, bullet_pos=(41.69983, 702.3934)
[00:21:31] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:21:31] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:21:31] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:21:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=17196445076578, bullet_pos=(517.5804, 455.2062)
[00:21:31] [INFO] [Bullet] Using shooter_position, distance=1090.99353027344
[00:21:31] [INFO] [Bullet] Distance to wall: 1090.99353027344 (74.2877556365218% of viewport)
[00:21:31] [ENEMY] [Enemy1] Hit taken, health: 2/3
[00:21:31] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:21:31] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.122479215, 316.0172) (316,0 px/s), Swing distance: 408,9
[00:21:31] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,5704087
[00:21:31] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.122479, 316.0172), Swing: 408.9, Transfer: 1.00, Final speed: 149.0
[00:21:31] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:21:31] [INFO] [Player.Grenade] Thrown! Velocity: 316,0, Swing: 408,9
[00:21:31] [INFO] [Player.Grenade] State reset to IDLE
[00:21:31] [INFO] [Player.Grenade] Player rotation restored to 0
[00:21:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:31] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:21:31] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:21:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:31] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:21:31] [INFO] [LastChance] Threat detected: Bullet
[00:21:31] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:31] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:21:31] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:21:31] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:21:31] [INFO] [GrenadeBase] Grenade landed at (450.0325, 811.8107)
[00:21:31] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:21:31] [INFO] [GrenadeBase] EXPLODED at (450.0325, 811.8107)!
[00:21:31] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450.0325, 811.8107), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:21:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:21:31] [INFO] [FragGrenade] Player found in blast radius at distance 57.7
[00:21:31] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:21:31] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:21:31] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:21:31] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:21:31] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:21:31] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:21:31] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:21:31] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:21:31] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:21:31] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:21:31] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:21:31] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:21:31] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:21:31] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:21:31] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:21:31] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:21:31] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:21:31] [INFO] [LastChance] Player died
[00:21:31] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 57.7
[00:21:31] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 12.7 degrees
[00:21:31] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 99.5 degrees
[00:21:31] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 162.9 degrees
[00:21:31] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 269.6 degrees
[00:21:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:31] [INFO] [LastChance] Threat detected: Bullet
[00:21:31] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:31] [INFO] [LastChance] Threat detected: Bullet
[00:21:31] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(619.8854, 774.6947), shooter_id=17194448587405, bullet_pos=(497.3384, 799.3363)
[00:21:31] [INFO] [Bullet] Using shooter_position, distance=124.999931335449
[00:21:31] [INFO] [Bullet] Distance to wall: 124.999931335449 (8.5114751792364% of viewport)
[00:21:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:21:31] [INFO] [Bullet] Starting wall penetration at (497.3384, 799.3363)
[00:21:31] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:21:31] [INFO] [Bullet] Exiting penetration at (451.5875, 808.5359) after traveling 41.6666679382324 pixels through wall
[00:21:31] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:21:31] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:21:32] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[00:21:32] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:21:32] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[00:21:32] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:21:32] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:21:32] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:21:32] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:21:32] [ENEMY] [Enemy1] Death animation component initialized
[00:21:32] [ENEMY] [Enemy2] Death animation component initialized
[00:21:32] [ENEMY] [Enemy3] Death animation component initialized
[00:21:32] [ENEMY] [Enemy4] Death animation component initialized
[00:21:32] [ENEMY] [Enemy5] Death animation component initialized
[00:21:32] [ENEMY] [Enemy6] Death animation component initialized
[00:21:32] [ENEMY] [Enemy7] Death animation component initialized
[00:21:32] [ENEMY] [Enemy8] Death animation component initialized
[00:21:32] [ENEMY] [Enemy9] Death animation component initialized
[00:21:32] [ENEMY] [Enemy10] Death animation component initialized
[00:21:32] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:21:32] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:21:32] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:21:32] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:21:32] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:21:32] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:21:32] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:21:32] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:21:32] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:21:32] [INFO] [ScoreManager] Level started with 10 enemies
[00:21:32] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:21:32] [ENEMY] [Enemy1] Registered as sound listener
[00:21:32] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:21:32] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:21:32] [ENEMY] [Enemy2] Registered as sound listener
[00:21:32] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:21:32] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:21:32] [ENEMY] [Enemy3] Registered as sound listener
[00:21:32] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:21:32] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:21:32] [ENEMY] [Enemy4] Registered as sound listener
[00:21:32] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:21:32] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:21:32] [ENEMY] [Enemy5] Registered as sound listener
[00:21:32] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:21:32] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:21:32] [ENEMY] [Enemy6] Registered as sound listener
[00:21:32] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:21:32] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:21:32] [ENEMY] [Enemy7] Registered as sound listener
[00:21:32] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:21:32] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:21:32] [ENEMY] [Enemy8] Registered as sound listener
[00:21:32] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:21:32] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:21:32] [ENEMY] [Enemy9] Registered as sound listener
[00:21:32] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:21:32] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:21:32] [ENEMY] [Enemy10] Registered as sound listener
[00:21:32] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:21:32] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:21:32] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:21:32] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:21:32] [INFO] [LastChance] Found player: Player
[00:21:32] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:21:32] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:21:32] [INFO] [LastChance] Connected to player Died signal (C#)
[00:21:32] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:21:32] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:21:32] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:21:32] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1157.0267, 1507.5443)
[00:21:32] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:21:32] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:21:32] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:21:32] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1235)
[00:21:32] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:21:32] [INFO] [Player.Grenade] Step 1 complete! Drag: (43.38147, -16.652222)
[00:21:32] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:21:32] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:21:32] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:21:32] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:21:32] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:21:32] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:21:32] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:21:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:21:33] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:21:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:21:33] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:21:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=17361499328176, bullet_pos=(41.69983, 702.3934)
[00:21:33] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:21:33] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:21:33] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:21:33] [INFO] [Bullet] Starting wall penetration at (41.69983, 702.3934)
[00:21:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.508674621582
[00:21:33] [INFO] [Bullet] Body exited signal received for penetrating body
[00:21:33] [INFO] [Bullet] Exiting penetration at (4.46851, 674.2579) after traveling 41.6666717529297 pixels through wall
[00:21:33] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:21:33] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:21:34] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:21:34] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (776.70575, 610.0595) (987,6 px/s), Swing distance: 547,6
[00:21:34] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,6658026
[00:21:34] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (776.7057, 610.0595), Swing: 547.6, Transfer: 1.00, Final speed: 465.6
[00:21:34] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:21:34] [INFO] [Player.Grenade] Thrown! Velocity: 987,6, Swing: 547,6
[00:21:34] [INFO] [Player.Grenade] State reset to IDLE
[00:21:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:34] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:21:34] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:21:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:34] [INFO] [Player.Grenade] Player rotation restored to 0
[00:21:34] [INFO] [LastChance] Threat detected: Bullet
[00:21:34] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:34] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:21:34] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:21:34] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:21:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:34] [INFO] [LastChance] Threat detected: Bullet
[00:21:34] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:34] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:21:34] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:21:34] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:21:34] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:21:34] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:21:34] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:21:34] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:21:34] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:21:34] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:21:34] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:21:34] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:21:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:34] [INFO] [LastChance] Threat detected: Bullet
[00:21:34] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:35] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:21:35] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:21:35] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:21:35] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:21:35] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:21:35] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:21:35] [INFO] [LastChance] Player died
[00:21:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:35] [INFO] [LastChance] Threat detected: Bullet
[00:21:35] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:35] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:21:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:35] [INFO] [LastChance] Threat detected: Bullet
[00:21:35] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:35] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:21:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(619.7318, 774.2133), shooter_id=17359502837472, bullet_pos=(497.0046, 797.942)
[00:21:35] [INFO] [Bullet] Using shooter_position, distance=125.000030517578
[00:21:35] [INFO] [Bullet] Distance to wall: 125.000030517578 (8.51148193272994% of viewport)
[00:21:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:21:35] [INFO] [Bullet] Starting wall penetration at (497.0046, 797.942)
[00:21:35] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:21:35] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:21:35] [INFO] [Bullet] Exiting penetration at (451.1865, 806.8007) after traveling 41.6666641235352 pixels through wall
[00:21:35] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:21:35] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:21:35] [ENEMY] [Enemy10] FLANKING started: target=(643.6689, 798.6641), side=left, pos=(1022.668, 1432.257)
[00:21:35] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:21:35] [INFO] [GrenadeBase] Grenade landed at (635.0457, 873.3557)
[00:21:35] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:21:35] [INFO] [GrenadeBase] EXPLODED at (635.0457, 873.3557)!
[00:21:35] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(635.0457, 873.3557), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:21:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:21:35] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:21:35] [ENEMY] [Enemy3] Hit taken, health: 1/3
[00:21:35] [ENEMY] [Enemy3] Hit taken, health: 0/3
[00:21:35] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:21:35] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:21:35] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:21:35] [INFO] [DeathAnim] Started - Angle: -67.6 deg, Index: 7
[00:21:35] [ENEMY] [Enemy3] Death animation started with hit direction: (0.381786, -0.924251)
[00:21:35] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 129.4
[00:21:35] [ENEMY] [Enemy4] Hit taken, health: 2/3
[00:21:35] [ENEMY] [Enemy4] Hit taken, health: 1/3
[00:21:35] [ENEMY] [Enemy4] Hit taken, health: 0/3
[00:21:35] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[00:21:35] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:21:35] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[00:21:35] [INFO] [DeathAnim] Started - Angle: 34.7 deg, Index: 14
[00:21:35] [ENEMY] [Enemy4] Death animation started with hit direction: (0.822476, 0.568799)
[00:21:35] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 71.6
[00:21:35] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 18.7 degrees
[00:21:35] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 109.5 degrees
[00:21:35] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 179.0 degrees
[00:21:35] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 280.6 degrees
[00:21:35] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:21:35] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:21:35] [ENEMY] [Enemy1] Death animation component initialized
[00:21:35] [ENEMY] [Enemy2] Death animation component initialized
[00:21:35] [ENEMY] [Enemy3] Death animation component initialized
[00:21:35] [ENEMY] [Enemy4] Death animation component initialized
[00:21:35] [ENEMY] [Enemy5] Death animation component initialized
[00:21:35] [ENEMY] [Enemy6] Death animation component initialized
[00:21:35] [ENEMY] [Enemy7] Death animation component initialized
[00:21:35] [ENEMY] [Enemy8] Death animation component initialized
[00:21:35] [ENEMY] [Enemy9] Death animation component initialized
[00:21:35] [ENEMY] [Enemy10] Death animation component initialized
[00:21:35] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:21:35] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:21:35] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:21:35] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:21:35] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:21:35] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:21:35] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:21:35] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:21:35] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:21:35] [INFO] [ScoreManager] Level started with 10 enemies
[00:21:35] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[00:21:35] [ENEMY] [Enemy1] Registered as sound listener
[00:21:35] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:21:35] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[00:21:35] [ENEMY] [Enemy2] Registered as sound listener
[00:21:35] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:21:35] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[00:21:35] [ENEMY] [Enemy3] Registered as sound listener
[00:21:35] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:21:35] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[00:21:35] [ENEMY] [Enemy4] Registered as sound listener
[00:21:35] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:21:35] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[00:21:35] [ENEMY] [Enemy5] Registered as sound listener
[00:21:35] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:21:35] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[00:21:35] [ENEMY] [Enemy6] Registered as sound listener
[00:21:35] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:21:35] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[00:21:35] [ENEMY] [Enemy7] Registered as sound listener
[00:21:35] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:21:35] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[00:21:35] [ENEMY] [Enemy8] Registered as sound listener
[00:21:35] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:21:35] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[00:21:35] [ENEMY] [Enemy9] Registered as sound listener
[00:21:35] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:21:35] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[00:21:35] [ENEMY] [Enemy10] Registered as sound listener
[00:21:35] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:21:35] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:21:35] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:21:35] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:21:35] [INFO] [LastChance] Found player: Player
[00:21:35] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:21:35] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:21:35] [INFO] [LastChance] Connected to player Died signal (C#)
[00:21:35] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:21:35] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:21:35] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:21:36] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:21:36] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:21:36] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1253.7012, 1445.9465)
[00:21:36] [INFO] [Player.Grenade] Step 1 failed: drag not far enough right (24,239258 < 30)
[00:21:36] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:21:36] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1251.8236, 1429.6345)
[00:21:36] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:21:37] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:21:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.369, 1465.505), source=ENEMY (Enemy10), range=1469, listeners=18
[00:21:37] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[00:21:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:21:37] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:21:37] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:21:37] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:21:37] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (751.55554, 1092.2786)
[00:21:37] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (844.41656, 1085.448)
[00:21:37] [INFO] [Player.Grenade] Step 1 failed: drag not far enough right (0 < 30)
[00:21:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.689, 1430.961), shooter_id=17575291389347, bullet_pos=(41.45994, 702.7222)
[00:21:37] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[00:21:37] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[00:21:37] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:21:37] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1214.5248, 1100.5836)
[00:21:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.689, 1430.961), shooter_id=17575291389347, bullet_pos=(265.0521, 468.5844)
[00:21:37] [INFO] [Bullet] Using shooter_position, distance=1214.37719726563
[00:21:37] [INFO] [Bullet] Distance to wall: 1214.37719726563 (82.6891764045775% of viewport)
[00:21:37] [ENEMY] [Enemy2] Hit taken, health: 2/3
[00:21:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4559, 753.7891), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:38] [ENEMY] [Enemy2] Heard gunshot at (684.4559, 753.7891), source_type=1, intensity=0.02, distance=350
[00:21:38] [ENEMY] [Enemy4] Heard gunshot at (684.4559, 753.7891), source_type=1, intensity=0.07, distance=186
[00:21:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:38] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:21:38] [INFO] [LastChance] Threat detected: Bullet
[00:21:38] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:38] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:21:38] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:21:38] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:21:38] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:21:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4559, 753.7891), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:38] [INFO] [LastChance] Threat detected: Bullet
[00:21:38] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:38] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:21:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4559, 753.7891), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:38] [INFO] [LastChance] Threat detected: @Area2D@21050
[00:21:38] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:38] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:21:38] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:21:38] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:21:38] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:21:38] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:21:38] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:21:38] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:21:38] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:21:38] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:21:38] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:21:38] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:21:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4559, 753.7891), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.5785, 759.8506), shooter_id=17573294902661, bullet_pos=(66.75916, 745.7537)
[00:21:38] [INFO] [Bullet] Using shooter_position, distance=550
[00:21:38] [INFO] [Bullet] Distance to wall: 550 (37.4505113608205% of viewport)
[00:21:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:21:38] [INFO] [LastChance] Threat detected: @Area2D@21051
[00:21:38] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:39] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:21:39] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:21:39] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:21:39] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:21:39] [ENEMY] [Enemy1] Death animation component initialized
[00:21:39] [ENEMY] [Enemy2] Death animation component initialized
[00:21:39] [ENEMY] [Enemy3] Death animation component initialized
[00:21:39] [ENEMY] [Enemy4] Death animation component initialized
[00:21:39] [ENEMY] [Enemy5] Death animation component initialized
[00:21:39] [ENEMY] [Enemy6] Death animation component initialized
[00:21:39] [ENEMY] [Enemy7] Death animation component initialized
[00:21:39] [ENEMY] [Enemy8] Death animation component initialized
[00:21:39] [ENEMY] [Enemy9] Death animation component initialized
[00:21:39] [ENEMY] [Enemy10] Death animation component initialized
[00:21:39] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:21:39] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:21:39] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:21:39] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:21:39] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:21:39] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:21:39] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:21:39] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:21:39] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:21:39] [INFO] [ScoreManager] Level started with 10 enemies
[00:21:39] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:21:39] [ENEMY] [Enemy1] Registered as sound listener
[00:21:39] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:21:39] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:21:39] [ENEMY] [Enemy2] Registered as sound listener
[00:21:39] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:21:39] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:21:39] [ENEMY] [Enemy3] Registered as sound listener
[00:21:39] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:21:39] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:21:39] [ENEMY] [Enemy4] Registered as sound listener
[00:21:39] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:21:39] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:21:39] [ENEMY] [Enemy5] Registered as sound listener
[00:21:39] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:21:39] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:21:39] [ENEMY] [Enemy6] Registered as sound listener
[00:21:39] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:21:39] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:21:39] [ENEMY] [Enemy7] Registered as sound listener
[00:21:39] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:21:39] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:21:39] [ENEMY] [Enemy8] Registered as sound listener
[00:21:39] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:21:39] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:21:39] [ENEMY] [Enemy9] Registered as sound listener
[00:21:39] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:21:39] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:21:39] [ENEMY] [Enemy10] Registered as sound listener
[00:21:39] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:21:39] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:21:39] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:21:39] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:21:39] [INFO] [LastChance] Found player: Player
[00:21:39] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:21:39] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:21:39] [INFO] [LastChance] Connected to player Died signal (C#)
[00:21:39] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:21:39] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:21:39] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:21:39] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:21:39] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:21:39] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:21:39] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1072.3628, 1558.4028)
[00:21:39] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:21:39] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:21:39] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:21:39] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1133.1666)
[00:21:39] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:21:39] [INFO] [Player.Grenade] Step 1 complete! Drag: (198.59753, -11.218262)
[00:21:39] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:21:39] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:21:39] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:21:39] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:21:40] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:21:40] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:21:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:21:40] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:21:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:21:40] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:21:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=17782389345804, bullet_pos=(41.69983, 702.3934)
[00:21:40] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:21:40] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:21:40] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:21:40] [INFO] [Bullet] Penetration failed (distance roll)
[00:21:40] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:21:41] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:21:41] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (385.167, -100.709435) (398,1 px/s), Swing distance: 393,4
[00:21:41] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,25574404
[00:21:41] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (385.167, -100.7094), Swing: 393.4, Transfer: 1.00, Final speed: 187.7
[00:21:41] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:21:41] [INFO] [Player.Grenade] Thrown! Velocity: 398,1, Swing: 393,4
[00:21:41] [INFO] [Player.Grenade] State reset to IDLE
[00:21:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:41] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:21:41] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:21:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:41] [INFO] [LastChance] Threat detected: Bullet
[00:21:41] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:41] [INFO] [Player.Grenade] Player rotation restored to 0
[00:21:41] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:21:41] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:21:41] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:21:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:41] [INFO] [LastChance] Threat detected: Bullet
[00:21:41] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:41] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:21:41] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:21:41] [INFO] [GrenadeBase] Grenade landed at (544.3179, 703.3538)
[00:21:41] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:21:41] [INFO] [GrenadeBase] EXPLODED at (544.3179, 703.3538)!
[00:21:41] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(544.3179, 703.3538), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:21:41] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:21:41] [ENEMY] [Enemy2] Hit taken, health: 1/2
[00:21:41] [ENEMY] [Enemy2] Hit taken, health: 0/2
[00:21:41] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:21:41] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:21:41] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[00:21:41] [INFO] [DeathAnim] Started - Angle: -133.3 deg, Index: 3
[00:21:41] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.685327, -0.728236)
[00:21:41] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 210.6
[00:21:41] [ENEMY] [Enemy3] Hit taken, health: 3/4
[00:21:41] [ENEMY] [Enemy3] Hit taken, health: 2/4
[00:21:41] [ENEMY] [Enemy3] Hit taken, health: 1/4
[00:21:41] [ENEMY] [Enemy3] Hit taken, health: 0/4
[00:21:41] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:21:41] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:21:41] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 8)
[00:21:41] [INFO] [DeathAnim] Started - Angle: 19.8 deg, Index: 13
[00:21:41] [ENEMY] [Enemy3] Death animation started with hit direction: (0.940978, 0.338467)
[00:21:41] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 148.9
[00:21:41] [INFO] [FragGrenade] Player found in blast radius at distance 124.4
[00:21:41] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:21:41] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:21:41] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:21:41] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:21:41] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:21:41] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:21:41] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:21:41] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:21:41] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:21:41] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:21:41] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:21:41] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:21:41] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:21:41] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:21:41] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:21:41] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:21:41] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:21:41] [INFO] [LastChance] Player died
[00:21:41] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 124.4
[00:21:41] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -9.7 degrees
[00:21:41] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 74.3 degrees
[00:21:41] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 177.1 degrees
[00:21:41] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 277.5 degrees
[00:21:41] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:21:41] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:21:41] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[00:21:41] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[00:21:41] [ENEMY] [Enemy10] FLANKING started: target=(640.5479, 850.1435), side=left, pos=(1022.668, 1432.257)
[00:21:41] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:21:41] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:21:41] [ENEMY] [Enemy2] Ragdoll activated
[00:21:41] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:21:41] [ENEMY] [Enemy3] Ragdoll activated
[00:21:41] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:21:42] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:21:42] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:21:42] [ENEMY] [Enemy1] Death animation component initialized
[00:21:42] [ENEMY] [Enemy2] Death animation component initialized
[00:21:42] [ENEMY] [Enemy3] Death animation component initialized
[00:21:42] [ENEMY] [Enemy4] Death animation component initialized
[00:21:42] [ENEMY] [Enemy5] Death animation component initialized
[00:21:42] [ENEMY] [Enemy6] Death animation component initialized
[00:21:42] [ENEMY] [Enemy7] Death animation component initialized
[00:21:42] [ENEMY] [Enemy8] Death animation component initialized
[00:21:42] [ENEMY] [Enemy9] Death animation component initialized
[00:21:42] [ENEMY] [Enemy10] Death animation component initialized
[00:21:42] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:21:42] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:21:42] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:21:42] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:21:42] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:21:42] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:21:42] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:21:42] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:21:42] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:21:42] [INFO] [ScoreManager] Level started with 10 enemies
[00:21:42] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[00:21:42] [ENEMY] [Enemy1] Registered as sound listener
[00:21:42] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:21:42] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[00:21:42] [ENEMY] [Enemy2] Registered as sound listener
[00:21:42] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:21:42] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[00:21:42] [ENEMY] [Enemy3] Registered as sound listener
[00:21:42] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:21:42] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[00:21:42] [ENEMY] [Enemy4] Registered as sound listener
[00:21:42] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:21:42] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[00:21:42] [ENEMY] [Enemy5] Registered as sound listener
[00:21:42] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:21:42] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[00:21:42] [ENEMY] [Enemy6] Registered as sound listener
[00:21:42] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:21:42] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[00:21:42] [ENEMY] [Enemy7] Registered as sound listener
[00:21:42] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:21:42] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[00:21:42] [ENEMY] [Enemy8] Registered as sound listener
[00:21:42] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:21:42] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[00:21:42] [ENEMY] [Enemy9] Registered as sound listener
[00:21:42] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:21:42] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[00:21:42] [ENEMY] [Enemy10] Registered as sound listener
[00:21:42] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:21:42] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:21:42] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:21:42] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:21:42] [INFO] [LastChance] Found player: Player
[00:21:42] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:21:42] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:21:42] [INFO] [LastChance] Connected to player Died signal (C#)
[00:21:42] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:21:42] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:21:42] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:21:42] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:21:42] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:21:42] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:21:42] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1140.9749, 1502.3955)
[00:21:42] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:21:42] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:21:42] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:21:42] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1133.1666)
[00:21:42] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:21:42] [INFO] [Player.Grenade] Step 1 complete! Drag: (132.06226, 15.401367)
[00:21:42] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:21:42] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:21:42] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:21:42] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:21:42] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:21:42] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:21:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=18
[00:21:43] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[00:21:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:21:43] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:21:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=17952644532812, bullet_pos=(41.69983, 702.3934)
[00:21:43] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:21:43] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:21:43] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:21:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=17952644532812, bullet_pos=(505.3203, 432.9121)
[00:21:43] [INFO] [Bullet] Using shooter_position, distance=1116.41748046875
[00:21:43] [INFO] [Bullet] Distance to wall: 1116.41748046875 (76.0189191558427% of viewport)
[00:21:43] [INFO] [Bullet] Distance-based penetration chance: 57.9779276515168%
[00:21:43] [INFO] [Bullet] Starting wall penetration at (505.3203, 432.9121)
[00:21:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18.8106555938721
[00:21:43] [INFO] [Bullet] Body exited signal received for penetrating body
[00:21:43] [INFO] [Bullet] Exiting penetration at (540.2629, 412.6016) after traveling 35.4166679382324 pixels through wall
[00:21:43] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[00:21:43] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:21:43] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (550.20746, 387.96393) (673,2 px/s), Swing distance: 424,5
[00:21:43] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,61415595
[00:21:43] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (550.2075, 387.9639), Swing: 424.5, Transfer: 1.00, Final speed: 317.4
[00:21:43] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:21:43] [INFO] [Player.Grenade] Thrown! Velocity: 673,2, Swing: 424,5
[00:21:43] [INFO] [Player.Grenade] State reset to IDLE
[00:21:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:44] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:21:44] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:21:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:44] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:21:44] [INFO] [Player.Grenade] Player rotation restored to 0
[00:21:44] [INFO] [LastChance] Threat detected: Bullet
[00:21:44] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:44] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:21:44] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:21:44] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:21:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:21:44] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:21:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:44] [INFO] [LastChance] Threat detected: Bullet
[00:21:44] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:21:44] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:21:44] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:21:44] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:21:44] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:21:44] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:21:44] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:21:44] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:21:44] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:21:44] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:21:44] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:21:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:44] [INFO] [LastChance] Threat detected: Bullet
[00:21:44] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:45] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:21:45] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:21:45] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:21:45] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:21:45] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:21:45] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:21:45] [INFO] [LastChance] Player died
[00:21:45] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:21:45] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:21:45] [INFO] [GrenadeBase] Grenade landed at (576.7546, 817.3907)
[00:21:45] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:21:45] [INFO] [GrenadeBase] EXPLODED at (576.7546, 817.3907)!
[00:21:45] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(576.7546, 817.3907), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:21:45] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:21:45] [ENEMY] [Enemy3] Hit taken, health: 1/2
[00:21:45] [ENEMY] [Enemy3] Hit taken, health: 0/2
[00:21:45] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:21:45] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:21:45] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:21:45] [INFO] [DeathAnim] Started - Angle: -30.6 deg, Index: 9
[00:21:45] [ENEMY] [Enemy3] Death animation started with hit direction: (0.860944, -0.5087)
[00:21:45] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 125.1
[00:21:45] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 17.1 degrees
[00:21:45] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 91.8 degrees
[00:21:45] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 198.5 degrees
[00:21:45] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 260.7 degrees
[00:21:45] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:21:45] [ENEMY] [Enemy10] FLANKING started: target=(640.5159, 850.5927), side=left, pos=(1022.668, 1432.257)
[00:21:45] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:21:45] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[00:21:45] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[00:21:45] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:21:45] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[00:21:45] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:21:45] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:21:45] [ENEMY] [Enemy1] Death animation component initialized
[00:21:45] [ENEMY] [Enemy2] Death animation component initialized
[00:21:45] [ENEMY] [Enemy3] Death animation component initialized
[00:21:45] [ENEMY] [Enemy4] Death animation component initialized
[00:21:45] [ENEMY] [Enemy5] Death animation component initialized
[00:21:45] [ENEMY] [Enemy6] Death animation component initialized
[00:21:45] [ENEMY] [Enemy7] Death animation component initialized
[00:21:45] [ENEMY] [Enemy8] Death animation component initialized
[00:21:45] [ENEMY] [Enemy9] Death animation component initialized
[00:21:45] [ENEMY] [Enemy10] Death animation component initialized
[00:21:45] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:21:45] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:21:45] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:21:45] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:21:45] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:21:45] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:21:45] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:21:45] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:21:45] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:21:45] [INFO] [ScoreManager] Level started with 10 enemies
[00:21:45] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:21:45] [ENEMY] [Enemy1] Registered as sound listener
[00:21:45] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:21:45] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:21:45] [ENEMY] [Enemy2] Registered as sound listener
[00:21:45] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:21:45] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:21:45] [ENEMY] [Enemy3] Registered as sound listener
[00:21:45] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:21:45] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:21:45] [ENEMY] [Enemy4] Registered as sound listener
[00:21:45] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:21:45] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:21:45] [ENEMY] [Enemy5] Registered as sound listener
[00:21:45] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:21:45] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:21:45] [ENEMY] [Enemy6] Registered as sound listener
[00:21:45] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:21:45] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:21:45] [ENEMY] [Enemy7] Registered as sound listener
[00:21:45] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:21:45] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:21:45] [ENEMY] [Enemy8] Registered as sound listener
[00:21:45] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:21:45] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:21:45] [ENEMY] [Enemy9] Registered as sound listener
[00:21:45] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:21:45] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:21:45] [ENEMY] [Enemy10] Registered as sound listener
[00:21:45] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:21:45] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:21:45] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:21:45] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:21:45] [INFO] [LastChance] Found player: Player
[00:21:45] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:21:45] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:21:45] [INFO] [LastChance] Connected to player Died signal (C#)
[00:21:45] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:21:45] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:21:45] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:21:48] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:21:48] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:21:48] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (893.8618, 1561.243)
[00:21:48] [INFO] [Player.Grenade] Step 1 failed: drag not far enough right (-0,6680298 < 30)
[00:21:48] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1082.9225, 1551.2245)
[00:21:49] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:21:49] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:21:49] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:21:49] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:21:49] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1194.4882, 1564.5825)
[00:21:49] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:21:49] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:21:49] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:21:49] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:21:49] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:21:49] [INFO] [Player.Grenade] Step 1 complete! Drag: (85.511475, -38.070435)
[00:21:50] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:21:50] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:21:50] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:21:50] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:21:50] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:21:50] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:21:50] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:21:51] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:21:51] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:21:52] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:21:52] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2225.2227, -280.75735) (2242,9 px/s), Swing distance: 715,8
[00:21:52] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,12550728
[00:21:52] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2225.223, -280.7574), Swing: 715.8, Transfer: 1.00, Final speed: 1057.3
[00:21:52] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:21:52] [INFO] [Player.Grenade] Thrown! Velocity: 2242,9, Swing: 715,8
[00:21:52] [INFO] [Player.Grenade] State reset to IDLE
[00:21:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=19
[00:21:52] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:21:52] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:21:52] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:21:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:52] [INFO] [Player.Grenade] Player rotation restored to 0
[00:21:52] [INFO] [LastChance] Threat detected: Bullet
[00:21:52] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:52] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:21:52] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:21:52] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:21:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:52] [INFO] [LastChance] Threat detected: Bullet
[00:21:52] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:52] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:21:52] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:21:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:52] [INFO] [LastChance] Threat detected: Bullet
[00:21:52] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:52] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:21:52] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:21:52] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:21:52] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:21:52] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:21:52] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:21:52] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:21:52] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:21:52] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:21:52] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:21:52] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:21:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:52] [INFO] [LastChance] Threat detected: Bullet
[00:21:52] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:53] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:21:53] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:21:53] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:21:53] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:21:53] [ENEMY] [Enemy1] Death animation component initialized
[00:21:53] [ENEMY] [Enemy2] Death animation component initialized
[00:21:53] [ENEMY] [Enemy3] Death animation component initialized
[00:21:53] [ENEMY] [Enemy4] Death animation component initialized
[00:21:53] [ENEMY] [Enemy5] Death animation component initialized
[00:21:53] [ENEMY] [Enemy6] Death animation component initialized
[00:21:53] [ENEMY] [Enemy7] Death animation component initialized
[00:21:53] [ENEMY] [Enemy8] Death animation component initialized
[00:21:53] [ENEMY] [Enemy9] Death animation component initialized
[00:21:53] [ENEMY] [Enemy10] Death animation component initialized
[00:21:53] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:21:53] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:21:53] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:21:53] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:21:53] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:21:53] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:21:53] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:21:53] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:21:53] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:21:53] [INFO] [ScoreManager] Level started with 10 enemies
[00:21:53] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:21:53] [ENEMY] [Enemy1] Registered as sound listener
[00:21:53] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:21:53] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:21:53] [ENEMY] [Enemy2] Registered as sound listener
[00:21:53] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:21:53] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:21:53] [ENEMY] [Enemy3] Registered as sound listener
[00:21:53] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:21:53] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:21:53] [ENEMY] [Enemy4] Registered as sound listener
[00:21:53] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:21:53] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:21:53] [ENEMY] [Enemy5] Registered as sound listener
[00:21:53] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:21:53] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:21:53] [ENEMY] [Enemy6] Registered as sound listener
[00:21:53] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:21:53] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:21:53] [ENEMY] [Enemy7] Registered as sound listener
[00:21:53] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:21:53] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:21:53] [ENEMY] [Enemy8] Registered as sound listener
[00:21:53] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:21:53] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:21:53] [ENEMY] [Enemy9] Registered as sound listener
[00:21:53] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:21:53] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:21:53] [ENEMY] [Enemy10] Registered as sound listener
[00:21:53] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:21:53] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:21:53] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:21:53] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:21:53] [INFO] [LastChance] Found player: Player
[00:21:53] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:21:53] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:21:53] [INFO] [LastChance] Connected to player Died signal (C#)
[00:21:53] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:21:53] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:21:53] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:21:53] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:21:53] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:21:53] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:21:53] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (962.65356, 1297.514)
[00:21:53] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:21:53] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:21:53] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:21:53] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1017.6666)
[00:21:53] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:21:53] [INFO] [Player.Grenade] Step 1 complete! Drag: (316.22632, -25.314697)
[00:21:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:21:54] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:21:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:21:54] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:21:54] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:21:54] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:21:54] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:21:54] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:21:54] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:21:54] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:21:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=18591000825245, bullet_pos=(41.69983, 702.3934)
[00:21:54] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:21:54] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:21:54] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:21:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=18591000825245, bullet_pos=(508.0599, 437.6816)
[00:21:54] [INFO] [Bullet] Using shooter_position, distance=1110.92602539063
[00:21:54] [INFO] [Bullet] Distance to wall: 1110.92602539063 (75.6449958816777% of viewport)
[00:21:54] [ENEMY] [Enemy1] Hit taken, health: 3/4
[00:21:55] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:21:55] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (977.0726, 2319.0134) (2516,4 px/s), Swing distance: 441,4
[00:21:55] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,1720374
[00:21:55] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (977.0726, 2319.013), Swing: 441.4, Transfer: 1.00, Final speed: 1186.3
[00:21:55] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:21:55] [INFO] [Player.Grenade] Thrown! Velocity: 2516,4, Swing: 441,4
[00:21:55] [INFO] [Player.Grenade] State reset to IDLE
[00:21:55] [INFO] [GrenadeBase] Collision detected with Room2_WallLeft (type: StaticBody2D)
[00:21:55] [INFO] [FragGrenade] Wall impact detected! Body: Room2_WallLeft, triggering explosion
[00:21:55] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:21:55] [INFO] [GrenadeBase] EXPLODED at (490.0455, 849.2421)!
[00:21:55] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(490.0455, 849.2421), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:21:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:21:55] [INFO] [FragGrenade] Player found in blast radius at distance 127.7
[00:21:55] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:21:55] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:21:55] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:21:55] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:21:55] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:21:55] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:21:55] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:21:55] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:21:55] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:21:55] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:21:55] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:21:55] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:21:55] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:21:55] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:21:55] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:21:55] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:21:55] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:21:55] [INFO] [LastChance] Player died
[00:21:55] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 127.7
[00:21:55] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -11.2 degrees
[00:21:55] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 104.9 degrees
[00:21:55] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 197.8 degrees
[00:21:55] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 277.7 degrees
[00:21:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:55] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:21:55] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:21:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:55] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:21:55] [INFO] [LastChance] Threat detected: Bullet
[00:21:55] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:55] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:21:55] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:21:55] [INFO] [Player.Grenade] Player rotation restored to 0
[00:21:55] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:21:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:55] [INFO] [LastChance] Threat detected: Bullet
[00:21:55] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:55] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:21:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(678.8083, 749.1105), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:55] [INFO] [LastChance] Threat detected: Bullet
[00:21:55] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(662.4704, 728.7138), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:55] [INFO] [LastChance] Threat detected: @Area2D@22130
[00:21:55] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:55] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:21:55] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[00:21:55] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[00:21:55] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:21:55] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:21:55] [ENEMY] [Enemy1] Death animation component initialized
[00:21:55] [ENEMY] [Enemy2] Death animation component initialized
[00:21:55] [ENEMY] [Enemy3] Death animation component initialized
[00:21:55] [ENEMY] [Enemy4] Death animation component initialized
[00:21:55] [ENEMY] [Enemy5] Death animation component initialized
[00:21:55] [ENEMY] [Enemy6] Death animation component initialized
[00:21:55] [ENEMY] [Enemy7] Death animation component initialized
[00:21:55] [ENEMY] [Enemy8] Death animation component initialized
[00:21:55] [ENEMY] [Enemy9] Death animation component initialized
[00:21:55] [ENEMY] [Enemy10] Death animation component initialized
[00:21:55] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:21:55] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:21:55] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:21:55] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:21:55] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:21:55] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:21:55] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:21:55] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:21:55] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:21:55] [INFO] [ScoreManager] Level started with 10 enemies
[00:21:55] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:21:55] [ENEMY] [Enemy1] Registered as sound listener
[00:21:55] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:21:55] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:21:55] [ENEMY] [Enemy2] Registered as sound listener
[00:21:55] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:21:55] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:21:55] [ENEMY] [Enemy3] Registered as sound listener
[00:21:55] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:21:55] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:21:55] [ENEMY] [Enemy4] Registered as sound listener
[00:21:55] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:21:55] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:21:55] [ENEMY] [Enemy5] Registered as sound listener
[00:21:55] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:21:55] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:21:55] [ENEMY] [Enemy6] Registered as sound listener
[00:21:55] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:21:55] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:21:55] [ENEMY] [Enemy7] Registered as sound listener
[00:21:55] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:21:55] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:21:55] [ENEMY] [Enemy8] Registered as sound listener
[00:21:55] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:21:55] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:21:55] [ENEMY] [Enemy9] Registered as sound listener
[00:21:55] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:21:55] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:21:55] [ENEMY] [Enemy10] Registered as sound listener
[00:21:55] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:21:55] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:21:55] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:21:55] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:21:55] [INFO] [LastChance] Found player: Player
[00:21:55] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:21:55] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:21:55] [INFO] [LastChance] Connected to player Died signal (C#)
[00:21:55] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:21:55] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:21:55] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:21:56] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:21:56] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:21:56] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (811.15186, 1532.3828)
[00:21:56] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:21:56] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:21:56] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:21:56] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:21:56] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1144.1666)
[00:21:56] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:21:56] [INFO] [Player.Grenade] Step 1 complete! Drag: (459.80847, -9.7438965)
[00:21:56] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:21:56] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:21:56] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:21:56] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:21:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:21:56] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:21:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:21:56] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:21:56] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:21:56] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:21:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=18759259522500, bullet_pos=(41.69983, 702.3934)
[00:21:57] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:21:57] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:21:57] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:21:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=18759259522500, bullet_pos=(316.5512, 471.1846)
[00:21:57] [INFO] [Bullet] Using shooter_position, distance=1181.53173828125
[00:21:57] [INFO] [Bullet] Distance to wall: 1181.53173828125 (80.452668704858% of viewport)
[00:21:57] [ENEMY] [Enemy2] Hit taken, health: 2/3
[00:21:57] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:21:57] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2401.1404, 475.01498) (2447,7 px/s), Swing distance: 514,7
[00:21:57] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,19530709
[00:21:57] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2401.14, 475.015), Swing: 514.7, Transfer: 1.00, Final speed: 1153.8
[00:21:57] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:21:57] [INFO] [Player.Grenade] Thrown! Velocity: 2447,7, Swing: 514,7
[00:21:57] [INFO] [Player.Grenade] State reset to IDLE
[00:21:57] [ENEMY] [Enemy1] State: IDLE -> COMBAT
[00:21:57] [ENEMY] [Enemy2] State: IDLE -> COMBAT
[00:21:57] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:21:57] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[00:21:57] [INFO] [FragGrenade] Non-wall collision (body: Enemy3, type: CharacterBody2D) - not triggering explosion
[00:21:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.9592, 546.2017), source=ENEMY (Enemy2), range=1469, listeners=10
[00:21:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[00:21:57] [INFO] [LastChance] Threat detected: Bullet
[00:21:57] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:57] [INFO] [Player.Grenade] Player rotation restored to 0
[00:21:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(383.5715, 541.1372), source=ENEMY (Enemy2), range=1469, listeners=10
[00:21:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[00:21:57] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:21:57] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:21:57] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:21:57] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:21:57] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:21:57] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:21:57] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:21:57] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:21:57] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:21:57] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:21:57] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:21:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.6893, 752.7327), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:57] [ENEMY] [Enemy4] Heard gunshot at (689.6893, 752.7327), source_type=1, intensity=0.07, distance=184
[00:21:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:57] [INFO] [LastChance] Threat detected: @Area2D@22387
[00:21:57] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:57] [INFO] [LastChance] Threat detected: @Area2D@22386
[00:21:57] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:57] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:21:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(421.6665, 597.5232), shooter_id=18756977823522, bullet_pos=(498.1257, 685.6433)
[00:21:58] [INFO] [Bullet] Using shooter_position, distance=116.666893005371
[00:21:58] [INFO] [Bullet] Distance to wall: 116.666893005371 (7.94406327623505% of viewport)
[00:21:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:21:58] [INFO] [Bullet] Starting wall penetration at (498.1257, 685.6433)
[00:21:58] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:21:58] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:21:58] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:21:58] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:21:58] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:21:58] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:21:58] [INFO] [LastChance] Player died
[00:21:58] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:21:58] [INFO] [Bullet] Exiting penetration at (504.1332, 692.567) after traveling 4.16666650772095 pixels through wall
[00:21:58] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:21:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.6893, 752.7327), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:58] [INFO] [LastChance] Threat detected: Bullet
[00:21:58] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:58] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:21:58] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:21:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.6893, 752.7327), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:58] [INFO] [LastChance] Threat detected: Bullet
[00:21:58] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:58] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:21:58] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[00:21:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.6893, 752.7327), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:58] [INFO] [LastChance] Threat detected: Bullet
[00:21:58] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.6893, 752.7327), source=ENEMY (Enemy3), range=1469, listeners=10
[00:21:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:21:58] [INFO] [LastChance] Threat detected: Bullet
[00:21:58] [INFO] [LastChance] Not in hard mode - effect disabled
[00:21:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:21:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(783.3514, 804.1631), source=ENEMY (Enemy4), range=1469, listeners=10
[00:21:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[00:21:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(715.489, 807.5335), shooter_id=18757548248594, bullet_pos=(715.489, 807.5335)
[00:21:58] [INFO] [Bullet] Using shooter_position, distance=0
[00:21:58] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[00:21:58] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[00:21:58] [INFO] [Bullet] Starting wall penetration at (715.489, 807.5335)
[00:21:58] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:21:58] [INFO] [Bullet] Exiting penetration at (668.9221, 804.483) after traveling 41.6666717529297 pixels through wall
[00:21:58] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:21:58] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:21:58] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:21:58] [ENEMY] [Enemy1] Death animation component initialized
[00:21:58] [ENEMY] [Enemy2] Death animation component initialized
[00:21:58] [ENEMY] [Enemy3] Death animation component initialized
[00:21:58] [ENEMY] [Enemy4] Death animation component initialized
[00:21:58] [ENEMY] [Enemy5] Death animation component initialized
[00:21:58] [ENEMY] [Enemy6] Death animation component initialized
[00:21:58] [ENEMY] [Enemy7] Death animation component initialized
[00:21:58] [ENEMY] [Enemy8] Death animation component initialized
[00:21:58] [ENEMY] [Enemy9] Death animation component initialized
[00:21:58] [ENEMY] [Enemy10] Death animation component initialized
[00:21:58] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:21:58] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:21:58] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:21:58] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:21:58] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:21:58] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:21:58] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:21:58] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:21:58] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:21:58] [INFO] [ScoreManager] Level started with 10 enemies
[00:21:58] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:21:58] [ENEMY] [Enemy1] Registered as sound listener
[00:21:58] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:21:58] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:21:58] [ENEMY] [Enemy2] Registered as sound listener
[00:21:58] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:21:58] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:21:58] [ENEMY] [Enemy3] Registered as sound listener
[00:21:58] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:21:58] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:21:58] [ENEMY] [Enemy4] Registered as sound listener
[00:21:58] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:21:58] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:21:58] [ENEMY] [Enemy5] Registered as sound listener
[00:21:58] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:21:58] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:21:58] [ENEMY] [Enemy6] Registered as sound listener
[00:21:58] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:21:58] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:21:58] [ENEMY] [Enemy7] Registered as sound listener
[00:21:58] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:21:58] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:21:58] [ENEMY] [Enemy8] Registered as sound listener
[00:21:58] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:21:58] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:21:58] [ENEMY] [Enemy9] Registered as sound listener
[00:21:58] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:21:58] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:21:58] [ENEMY] [Enemy10] Registered as sound listener
[00:21:58] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:21:58] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:21:58] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:21:58] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:21:58] [INFO] [LastChance] Found player: Player
[00:21:58] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:21:58] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:21:58] [INFO] [LastChance] Connected to player Died signal (C#)
[00:21:58] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:21:58] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:21:58] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:21:59] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:21:59] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:21:59] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:21:59] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (804.4587, 1442.3813)
[00:21:59] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:21:59] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:21:59] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:21:59] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1050.6666)
[00:21:59] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:21:59] [INFO] [Player.Grenade] Step 1 complete! Drag: (474.4212, -53.605957)
[00:21:59] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:21:59] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:21:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=20
[00:21:59] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:21:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:21:59] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:21:59] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:21:59] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:21:59] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:21:59] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:22:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=18951325093699, bullet_pos=(41.69983, 702.3934)
[00:22:00] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:22:00] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:22:00] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:22:00] [INFO] [Bullet] Starting wall penetration at (41.69983, 702.3934)
[00:22:00] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.508674621582
[00:22:00] [INFO] [Bullet] Body exited signal received for penetrating body
[00:22:00] [INFO] [Bullet] Exiting penetration at (4.46851, 674.2579) after traveling 41.6666717529297 pixels through wall
[00:22:00] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:22:00] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:22:00] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:22:00] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (723.122, 881.1951) (1139,9 px/s), Swing distance: 327,1
[00:22:00] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,883611
[00:22:00] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (723.122, 881.1951), Swing: 327.1, Transfer: 1.00, Final speed: 537.4
[00:22:00] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:22:00] [INFO] [Player.Grenade] Thrown! Velocity: 1139,9, Swing: 327,1
[00:22:00] [INFO] [Player.Grenade] State reset to IDLE
[00:22:00] [INFO] [GrenadeBase] Collision detected with Room2_WallLeft (type: StaticBody2D)
[00:22:00] [INFO] [FragGrenade] Wall impact detected! Body: Room2_WallLeft, triggering explosion
[00:22:00] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:22:00] [INFO] [GrenadeBase] EXPLODED at (489.2043, 798.2803)!
[00:22:00] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(489.2043, 798.2803), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:22:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:22:00] [ENEMY] [Enemy3] Hit taken, health: 1/2
[00:22:00] [ENEMY] [Enemy3] Hit taken, health: 0/2
[00:22:00] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:22:00] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:22:00] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:22:00] [INFO] [DeathAnim] Started - Angle: -12.8 deg, Index: 11
[00:22:00] [ENEMY] [Enemy3] Death animation started with hit direction: (0.974973, -0.222325)
[00:22:00] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 200.3
[00:22:00] [INFO] [FragGrenade] Player found in blast radius at distance 69.0
[00:22:00] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:22:00] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:22:00] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:22:00] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:22:00] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:22:00] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:22:00] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:22:00] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:22:00] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:22:00] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:22:00] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:22:00] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:22:00] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:22:00] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:22:00] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:22:00] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:22:00] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:22:00] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:22:00] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:22:00] [INFO] [LastChance] Player died
[00:22:00] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 69.0
[00:22:00] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -7.3 degrees
[00:22:00] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 96.0 degrees
[00:22:00] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 171.4 degrees
[00:22:00] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 260.6 degrees
[00:22:00] [INFO] [Player.Grenade] Player rotation restored to 0
[00:22:00] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:22:01] [ENEMY] [Enemy3] Ragdoll activated
[00:22:01] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:22:01] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:22:01] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:22:01] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:22:01] [ENEMY] [Enemy1] Death animation component initialized
[00:22:01] [ENEMY] [Enemy2] Death animation component initialized
[00:22:01] [ENEMY] [Enemy3] Death animation component initialized
[00:22:01] [ENEMY] [Enemy4] Death animation component initialized
[00:22:01] [ENEMY] [Enemy5] Death animation component initialized
[00:22:01] [ENEMY] [Enemy6] Death animation component initialized
[00:22:01] [ENEMY] [Enemy7] Death animation component initialized
[00:22:01] [ENEMY] [Enemy8] Death animation component initialized
[00:22:01] [ENEMY] [Enemy9] Death animation component initialized
[00:22:01] [ENEMY] [Enemy10] Death animation component initialized
[00:22:01] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:22:01] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:22:01] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:22:01] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:22:01] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:22:01] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:22:01] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:22:01] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:22:01] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:22:01] [INFO] [ScoreManager] Level started with 10 enemies
[00:22:01] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:22:01] [ENEMY] [Enemy1] Registered as sound listener
[00:22:01] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:22:01] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:22:01] [ENEMY] [Enemy2] Registered as sound listener
[00:22:01] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:22:01] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:22:01] [ENEMY] [Enemy3] Registered as sound listener
[00:22:01] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:22:01] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:22:01] [ENEMY] [Enemy4] Registered as sound listener
[00:22:01] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:22:01] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:22:01] [ENEMY] [Enemy5] Registered as sound listener
[00:22:01] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:22:01] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:22:01] [ENEMY] [Enemy6] Registered as sound listener
[00:22:01] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:22:01] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:22:01] [ENEMY] [Enemy7] Registered as sound listener
[00:22:01] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:22:01] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:22:01] [ENEMY] [Enemy8] Registered as sound listener
[00:22:01] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:22:01] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:22:01] [ENEMY] [Enemy9] Registered as sound listener
[00:22:01] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:22:01] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:22:01] [ENEMY] [Enemy10] Registered as sound listener
[00:22:01] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:22:01] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:22:01] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:22:01] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:22:01] [INFO] [LastChance] Found player: Player
[00:22:01] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:22:01] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:22:01] [INFO] [LastChance] Connected to player Died signal (C#)
[00:22:01] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:22:01] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:22:01] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:22:01] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:22:01] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:22:01] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (854.03937, 1512.4431)
[00:22:01] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:22:01] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:22:01] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:22:01] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:22:01] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1155.1666)
[00:22:01] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:22:01] [INFO] [Player.Grenade] Step 1 complete! Drag: (413.15778, 23.311768)
[00:22:01] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:22:01] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:22:01] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:22:01] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:22:01] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:22:01] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:22:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:22:02] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:22:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:22:02] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:22:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=19101749612454, bullet_pos=(41.69983, 702.3934)
[00:22:02] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:22:02] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:22:02] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:22:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=19101749612454, bullet_pos=(513.7632, 447.9913)
[00:22:02] [INFO] [Bullet] Using shooter_position, distance=1099.15380859375
[00:22:02] [INFO] [Bullet] Distance to wall: 1099.15380859375 (74.8434039927806% of viewport)
[00:22:02] [INFO] [Bullet] Distance-based penetration chance: 59.3493620084226%
[00:22:02] [INFO] [Bullet] Starting wall penetration at (513.7632, 447.9913)
[00:22:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28.7880153656006
[00:22:02] [INFO] [Bullet] Body exited signal received for penetrating body
[00:22:02] [INFO] [Bullet] Exiting penetration at (549.3422, 428.8173) after traveling 35.4166717529297 pixels through wall
[00:22:02] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[00:22:02] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:22:02] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (492.75375, 324.3145) (589,9 px/s), Swing distance: 472,7
[00:22:02] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,5820955
[00:22:02] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (492.7538, 324.3145), Swing: 472.7, Transfer: 1.00, Final speed: 278.1
[00:22:02] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:22:02] [INFO] [Player.Grenade] Thrown! Velocity: 589,9, Swing: 472,7
[00:22:02] [INFO] [Player.Grenade] State reset to IDLE
[00:22:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:22:03] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:22:03] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:22:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:22:03] [INFO] [Player.Grenade] Player rotation restored to 0
[00:22:03] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:22:03] [INFO] [LastChance] Threat detected: Bullet
[00:22:03] [INFO] [LastChance] Not in hard mode - effect disabled
[00:22:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:22:03] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:22:03] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:22:03] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:22:03] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:22:03] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:22:03] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:22:03] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:22:03] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:22:03] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:22:03] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:22:03] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:22:03] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:22:03] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:22:03] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:22:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:22:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:22:03] [INFO] [LastChance] Threat detected: Bullet
[00:22:03] [INFO] [LastChance] Not in hard mode - effect disabled
[00:22:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:22:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:22:04] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:22:04] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:22:04] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:22:04] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:22:04] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:22:04] [INFO] [LastChance] Player died
[00:22:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:22:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:22:04] [INFO] [LastChance] Threat detected: Bullet
[00:22:04] [INFO] [LastChance] Not in hard mode - effect disabled
[00:22:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:22:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(619.8102, 774.4604), shooter_id=19099753123550, bullet_pos=(497.1746, 798.6578)
[00:22:04] [INFO] [Bullet] Using shooter_position, distance=125.000038146973
[00:22:04] [INFO] [Bullet] Distance to wall: 125.000038146973 (8.51148245222944% of viewport)
[00:22:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:22:04] [INFO] [Bullet] Starting wall penetration at (497.1746, 798.6578)
[00:22:04] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:22:04] [INFO] [Bullet] Exiting penetration at (451.3906, 807.6915) after traveling 41.6666679382324 pixels through wall
[00:22:04] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:22:04] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:22:04] [INFO] [GrenadeBase] Grenade landed at (563.54, 802.7414)
[00:22:04] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:22:04] [INFO] [GrenadeBase] EXPLODED at (563.54, 802.7414)!
[00:22:04] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(563.54, 802.7414), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:22:04] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:22:04] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:22:04] [ENEMY] [Enemy3] Hit taken, health: 1/3
[00:22:04] [ENEMY] [Enemy3] Hit taken, health: 0/3
[00:22:04] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:22:04] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:22:04] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:22:04] [INFO] [DeathAnim] Started - Angle: -22.1 deg, Index: 10
[00:22:04] [ENEMY] [Enemy3] Death animation started with hit direction: (0.92683, -0.375482)
[00:22:04] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 130.5
[00:22:04] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -13.0 degrees
[00:22:04] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 99.8 degrees
[00:22:04] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 164.6 degrees
[00:22:04] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 269.5 degrees
[00:22:04] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:22:04] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:22:04] [ENEMY] [Enemy10] FLANKING started: target=(410.3021, 1122.538), side=right, pos=(1022.668, 1432.257)
[00:22:04] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:22:04] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:22:04] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:22:04] [ENEMY] [Enemy1] Death animation component initialized
[00:22:04] [ENEMY] [Enemy2] Death animation component initialized
[00:22:04] [ENEMY] [Enemy3] Death animation component initialized
[00:22:04] [ENEMY] [Enemy4] Death animation component initialized
[00:22:04] [ENEMY] [Enemy5] Death animation component initialized
[00:22:04] [ENEMY] [Enemy6] Death animation component initialized
[00:22:04] [ENEMY] [Enemy7] Death animation component initialized
[00:22:04] [ENEMY] [Enemy8] Death animation component initialized
[00:22:04] [ENEMY] [Enemy9] Death animation component initialized
[00:22:04] [ENEMY] [Enemy10] Death animation component initialized
[00:22:04] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:22:04] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:22:04] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:22:04] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:22:04] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:22:04] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:22:04] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:22:04] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:22:04] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:22:04] [INFO] [ScoreManager] Level started with 10 enemies
[00:22:04] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:22:04] [ENEMY] [Enemy1] Registered as sound listener
[00:22:04] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:22:04] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:22:04] [ENEMY] [Enemy2] Registered as sound listener
[00:22:04] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:22:04] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:22:04] [ENEMY] [Enemy3] Registered as sound listener
[00:22:04] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:22:04] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:22:04] [ENEMY] [Enemy4] Registered as sound listener
[00:22:04] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:22:04] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:22:04] [ENEMY] [Enemy5] Registered as sound listener
[00:22:04] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:22:04] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:22:04] [ENEMY] [Enemy6] Registered as sound listener
[00:22:04] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:22:04] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:22:04] [ENEMY] [Enemy7] Registered as sound listener
[00:22:04] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:22:04] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:22:04] [ENEMY] [Enemy8] Registered as sound listener
[00:22:04] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:22:04] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:22:04] [ENEMY] [Enemy9] Registered as sound listener
[00:22:04] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:22:04] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:22:04] [ENEMY] [Enemy10] Registered as sound listener
[00:22:04] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:22:04] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:22:04] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:22:04] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:22:04] [INFO] [LastChance] Found player: Player
[00:22:04] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:22:04] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:22:04] [INFO] [LastChance] Connected to player Died signal (C#)
[00:22:04] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:22:04] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:22:04] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:22:05] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:22:05] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:22:05] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:22:05] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (802.6476, 1463.7878)
[00:22:05] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:22:05] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:22:05] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:22:05] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1135.3888)
[00:22:05] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:22:05] [INFO] [Player.Grenade] Step 1 complete! Drag: (423.85095, 31.915283)
[00:22:05] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:22:05] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:22:05] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:22:05] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:22:06] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:22:06] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:22:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.217, 1465.751), source=ENEMY (Enemy10), range=1469, listeners=19
[00:22:06] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:22:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:22:06] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:22:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.482, 1431.3), shooter_id=19319417212546, bullet_pos=(40.09949, 704.5914)
[00:22:06] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[00:22:06] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[00:22:06] [INFO] [Bullet] Distance-based penetration chance: 50.6760656778783%
[00:22:06] [INFO] [Bullet] Starting wall penetration at (40.09949, 704.5914)
[00:22:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36.5288276672363
[00:22:06] [INFO] [Bullet] Body exited signal received for penetrating body
[00:22:06] [INFO] [Bullet] Exiting penetration at (2.815739, 676.5254) after traveling 41.6666641235352 pixels through wall
[00:22:06] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:22:06] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:22:07] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:22:07] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1452.0491, 847.9916) (1681,5 px/s), Swing distance: 515,0
[00:22:07] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,5285691
[00:22:07] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1452.049, 847.9916), Swing: 515.0, Transfer: 1.00, Final speed: 792.7
[00:22:07] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:22:07] [INFO] [Player.Grenade] Thrown! Velocity: 1681,5, Swing: 515,0
[00:22:07] [INFO] [Player.Grenade] State reset to IDLE
[00:22:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4805, 753.8885), source=ENEMY (Enemy3), range=1469, listeners=10
[00:22:07] [ENEMY] [Enemy2] Heard gunshot at (684.4805, 753.8885), source_type=1, intensity=0.02, distance=350
[00:22:07] [ENEMY] [Enemy4] Heard gunshot at (684.4805, 753.8885), source_type=1, intensity=0.07, distance=186
[00:22:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:22:07] [INFO] [LastChance] Threat detected: Bullet
[00:22:07] [INFO] [LastChance] Not in hard mode - effect disabled
[00:22:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:22:07] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:22:07] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:22:07] [INFO] [Player.Grenade] Player rotation restored to 0
[00:22:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4805, 753.8885), source=ENEMY (Enemy3), range=1469, listeners=10
[00:22:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:22:07] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:22:07] [INFO] [LastChance] Threat detected: Bullet
[00:22:07] [INFO] [LastChance] Not in hard mode - effect disabled
[00:22:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:22:07] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:22:07] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:22:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4805, 753.8885), source=ENEMY (Enemy3), range=1469, listeners=10
[00:22:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:22:07] [INFO] [GrenadeBase] Collision detected with Table1 (type: StaticBody2D)
[00:22:07] [INFO] [FragGrenade] Wall impact detected! Body: Table1, triggering explosion
[00:22:07] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:22:07] [INFO] [GrenadeBase] EXPLODED at (670.8396, 864.3442)!
[00:22:07] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(670.8396, 864.3442), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:22:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:22:07] [ENEMY] [Enemy3] Hit taken, health: 2/3
[00:22:07] [ENEMY] [Enemy3] Hit taken, health: 1/3
[00:22:07] [ENEMY] [Enemy3] Hit taken, health: 0/3
[00:22:07] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:22:07] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:22:07] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:22:07] [INFO] [DeathAnim] Started - Angle: -83.0 deg, Index: 6
[00:22:07] [ENEMY] [Enemy3] Death animation started with hit direction: (0.122565, -0.99246)
[00:22:07] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 111.3
[00:22:07] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 11.4 degrees
[00:22:07] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 82.6 degrees
[00:22:07] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 198.7 degrees
[00:22:07] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 272.6 degrees
[00:22:07] [INFO] [LastChance] Threat detected: Bullet
[00:22:07] [INFO] [LastChance] Not in hard mode - effect disabled
[00:22:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:22:07] [ENEMY] [Enemy4] Hit taken, health: 1/2
[00:22:07] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:22:07] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[00:22:07] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[00:22:07] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:22:07] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:22:07] [ENEMY] [Enemy10] FLANKING started: target=(640.5815, 850.2476), side=left, pos=(1022.431, 1432.621)
[00:22:07] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:22:07] [ENEMY] [Enemy3] Ragdoll activated
[00:22:07] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:22:07] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[00:22:08] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:22:08] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:22:08] [ENEMY] [Enemy1] Death animation component initialized
[00:22:08] [ENEMY] [Enemy2] Death animation component initialized
[00:22:08] [ENEMY] [Enemy3] Death animation component initialized
[00:22:08] [ENEMY] [Enemy4] Death animation component initialized
[00:22:08] [ENEMY] [Enemy5] Death animation component initialized
[00:22:08] [ENEMY] [Enemy6] Death animation component initialized
[00:22:08] [ENEMY] [Enemy7] Death animation component initialized
[00:22:08] [ENEMY] [Enemy8] Death animation component initialized
[00:22:08] [ENEMY] [Enemy9] Death animation component initialized
[00:22:08] [ENEMY] [Enemy10] Death animation component initialized
[00:22:08] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:22:08] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:22:08] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:22:08] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:22:08] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:22:08] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:22:08] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:22:08] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:22:08] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:22:08] [INFO] [ScoreManager] Level started with 10 enemies
[00:22:08] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:22:08] [ENEMY] [Enemy1] Registered as sound listener
[00:22:08] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:22:08] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:22:08] [ENEMY] [Enemy2] Registered as sound listener
[00:22:08] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:22:08] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:22:08] [ENEMY] [Enemy3] Registered as sound listener
[00:22:08] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:22:08] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:22:08] [ENEMY] [Enemy4] Registered as sound listener
[00:22:08] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:22:08] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:22:08] [ENEMY] [Enemy5] Registered as sound listener
[00:22:08] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:22:08] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:22:08] [ENEMY] [Enemy6] Registered as sound listener
[00:22:08] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:22:08] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:22:08] [ENEMY] [Enemy7] Registered as sound listener
[00:22:08] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:22:08] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:22:08] [ENEMY] [Enemy8] Registered as sound listener
[00:22:08] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:22:08] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:22:08] [ENEMY] [Enemy9] Registered as sound listener
[00:22:08] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:22:08] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:22:08] [ENEMY] [Enemy10] Registered as sound listener
[00:22:08] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:22:08] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:22:08] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:22:08] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:22:08] [INFO] [LastChance] Found player: Player
[00:22:08] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:22:08] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:22:08] [INFO] [LastChance] Connected to player Died signal (C#)
[00:22:08] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:22:08] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:22:08] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:22:08] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:22:08] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:22:08] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (913.4038, 1535.453)
[00:22:08] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:22:08] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:22:08] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:22:08] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:22:08] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1144.1666)
[00:22:08] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:22:08] [INFO] [Player.Grenade] Step 1 complete! Drag: (217.87988, 9.894531)
[00:22:08] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:22:08] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:22:09] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:22:09] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:22:09] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:22:09] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:22:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:22:09] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:22:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:22:09] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:22:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=19552519849372, bullet_pos=(41.69983, 702.3934)
[00:22:09] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:22:09] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:22:09] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:22:09] [INFO] [Bullet] Starting wall penetration at (41.69983, 702.3934)
[00:22:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.508674621582
[00:22:09] [INFO] [Bullet] Body exited signal received for penetrating body
[00:22:09] [INFO] [Bullet] Exiting penetration at (4.46851, 674.2579) after traveling 41.6666717529297 pixels through wall
[00:22:09] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:22:09] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:22:10] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:22:10] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.072793394, -135.31628) (135,3 px/s), Swing distance: 389,7
[00:22:10] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5702584
[00:22:10] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.072793, -135.3163), Swing: 389.7, Transfer: 1.00, Final speed: 63.8
[00:22:10] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:22:10] [INFO] [Player.Grenade] Thrown! Velocity: 135,3, Swing: 389,7
[00:22:10] [INFO] [Player.Grenade] State reset to IDLE
[00:22:10] [INFO] [GrenadeBase] Grenade landed at (450.0333, 666.1746)
[00:22:10] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:22:10] [INFO] [GrenadeBase] EXPLODED at (450.0333, 666.1746)!
[00:22:10] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450.0333, 666.1746), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:22:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:22:10] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:22:10] [ENEMY] [Enemy2] Hit taken, health: 2/4
[00:22:10] [ENEMY] [Enemy2] Hit taken, health: 1/4
[00:22:10] [ENEMY] [Enemy2] Hit taken, health: 0/4
[00:22:10] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:22:10] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:22:10] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[00:22:10] [INFO] [DeathAnim] Started - Angle: -113.3 deg, Index: 4
[00:22:10] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.395549, -0.918445)
[00:22:10] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 126.5
[00:22:10] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -17.4 degrees
[00:22:10] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 105.7 degrees
[00:22:10] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 198.6 degrees
[00:22:10] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 267.3 degrees
[00:22:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=9
[00:22:10] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:22:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:22:10] [INFO] [LastChance] Threat detected: Bullet
[00:22:10] [INFO] [LastChance] Not in hard mode - effect disabled
[00:22:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:22:10] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:22:10] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:22:10] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:22:10] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:22:10] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:22:10] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:22:10] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:22:10] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:22:10] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:22:10] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:22:10] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:22:10] [INFO] [Player.Grenade] Player rotation restored to 0
[00:22:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=9
[00:22:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:22:10] [INFO] [LastChance] Threat detected: Bullet
[00:22:10] [INFO] [LastChance] Not in hard mode - effect disabled
[00:22:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:22:10] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:22:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:22:11] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:22:11] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:22:11] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:22:11] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:22:11] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:22:11] [INFO] [LastChance] Player died
[00:22:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=9
[00:22:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[00:22:11] [INFO] [LastChance] Threat detected: Bullet
[00:22:11] [INFO] [LastChance] Not in hard mode - effect disabled
[00:22:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:22:11] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:22:11] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:22:11] [ENEMY] [Enemy2] Ragdoll activated
[00:22:11] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:22:11] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:22:11] [ENEMY] [Enemy10] FLANKING started: target=(641.0114, 843.4705), side=left, pos=(1022.668, 1432.257)
[00:22:11] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:22:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:22:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:22:11] [ENEMY] [Enemy1] Death animation component initialized
[00:22:11] [ENEMY] [Enemy2] Death animation component initialized
[00:22:11] [ENEMY] [Enemy3] Death animation component initialized
[00:22:11] [ENEMY] [Enemy4] Death animation component initialized
[00:22:11] [ENEMY] [Enemy5] Death animation component initialized
[00:22:11] [ENEMY] [Enemy6] Death animation component initialized
[00:22:11] [ENEMY] [Enemy7] Death animation component initialized
[00:22:11] [ENEMY] [Enemy8] Death animation component initialized
[00:22:11] [ENEMY] [Enemy9] Death animation component initialized
[00:22:11] [ENEMY] [Enemy10] Death animation component initialized
[00:22:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:22:11] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:22:11] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:22:11] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:22:11] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:22:11] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:22:11] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:22:11] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:22:11] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:22:11] [INFO] [ScoreManager] Level started with 10 enemies
[00:22:11] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:22:11] [ENEMY] [Enemy1] Registered as sound listener
[00:22:11] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:22:11] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:22:11] [ENEMY] [Enemy2] Registered as sound listener
[00:22:11] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:22:11] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:22:11] [ENEMY] [Enemy3] Registered as sound listener
[00:22:11] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:22:11] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:22:11] [ENEMY] [Enemy4] Registered as sound listener
[00:22:11] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:22:11] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:22:11] [ENEMY] [Enemy5] Registered as sound listener
[00:22:11] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:22:11] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:22:11] [ENEMY] [Enemy6] Registered as sound listener
[00:22:11] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:22:11] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:22:11] [ENEMY] [Enemy7] Registered as sound listener
[00:22:11] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:22:11] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:22:11] [ENEMY] [Enemy8] Registered as sound listener
[00:22:11] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:22:11] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:22:11] [ENEMY] [Enemy9] Registered as sound listener
[00:22:11] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:22:11] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:22:11] [ENEMY] [Enemy10] Registered as sound listener
[00:22:11] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:22:11] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:22:11] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:22:11] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:22:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:22:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:22:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:22:11] [INFO] [LastChance] Found player: Player
[00:22:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:22:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:22:11] [INFO] [LastChance] Connected to player Died signal (C#)
[00:22:12] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:22:12] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:22:12] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:22:12] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (959.6451, 1453.0664)
[00:22:12] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:22:12] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:22:12] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:22:12] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1078.1666)
[00:22:12] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:22:12] [INFO] [Player.Grenade] Step 1 complete! Drag: (313.39203, 45.69287)
[00:22:12] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:22:12] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:22:12] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:22:12] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:22:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:22:12] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:22:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:22:12] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:22:12] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:22:12] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:22:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=19752319714976, bullet_pos=(41.69983, 702.3934)
[00:22:13] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:22:13] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:22:13] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:22:13] [INFO] [Bullet] Starting wall penetration at (41.69983, 702.3934)
[00:22:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.508674621582
[00:22:13] [INFO] [Bullet] Body exited signal received for penetrating body
[00:22:13] [INFO] [Bullet] Exiting penetration at (4.46851, 674.2579) after traveling 41.6666717529297 pixels through wall
[00:22:13] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[00:22:13] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:22:13] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:22:13] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2302.4333, 480.8304) (2352,1 px/s), Swing distance: 589,8
[00:22:13] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,20587686
[00:22:13] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2302.433, 480.8304), Swing: 589.8, Transfer: 1.00, Final speed: 1108.8
[00:22:13] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:22:13] [INFO] [Player.Grenade] Thrown! Velocity: 2352,1, Swing: 589,8
[00:22:13] [INFO] [Player.Grenade] State reset to IDLE
[00:22:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:22:13] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:22:13] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:22:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:22:13] [INFO] [LastChance] Threat detected: Bullet
[00:22:13] [INFO] [LastChance] Not in hard mode - effect disabled
[00:22:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:22:13] [INFO] [Player.Grenade] Player rotation restored to 0
[00:22:13] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[00:22:13] [INFO] [FragGrenade] Non-wall collision (body: Enemy3, type: CharacterBody2D) - not triggering explosion
[00:22:13] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:22:13] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:22:13] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:22:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:22:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:22:13] [INFO] [GrenadeBase] Collision detected with Table1 (type: StaticBody2D)
[00:22:13] [INFO] [FragGrenade] Wall impact detected! Body: Table1, triggering explosion
[00:22:13] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:22:13] [INFO] [GrenadeBase] EXPLODED at (691.3295, 800.6961)!
[00:22:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(691.3295, 800.6961), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:22:13] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:22:13] [ENEMY] [Enemy3] Hit taken, health: 1/2
[00:22:13] [ENEMY] [Enemy3] Hit taken, health: 0/2
[00:22:13] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:22:13] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:22:13] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:22:13] [INFO] [DeathAnim] Started - Angle: -98.3 deg, Index: 5
[00:22:13] [ENEMY] [Enemy3] Death animation started with hit direction: (-0.145048, -0.989425)
[00:22:13] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 47.4
[00:22:13] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -6.7 degrees
[00:22:13] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 100.6 degrees
[00:22:13] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 174.3 degrees
[00:22:13] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 258.0 degrees
[00:22:13] [INFO] [LastChance] Threat detected: Bullet
[00:22:13] [INFO] [LastChance] Not in hard mode - effect disabled
[00:22:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:22:14] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:22:14] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:22:14] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:22:14] [ENEMY] [Enemy2] Hit taken, health: 2/3
[00:22:14] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[00:22:14] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:22:14] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:22:14] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:22:14] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:22:14] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:22:14] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:22:14] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:22:14] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:22:14] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:22:14] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:22:14] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:22:14] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:22:14] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[00:22:14] [ENEMY] [Enemy10] FLANKING started: target=(642.8943, 813.0854), side=left, pos=(1022.668, 1432.257)
[00:22:14] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:22:14] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:22:14] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:22:14] [ENEMY] [Enemy3] Ragdoll activated
[00:22:14] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:22:15] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:22:15] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:22:15] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:22:15] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:22:15] [ENEMY] [Enemy1] Death animation component initialized
[00:22:15] [ENEMY] [Enemy2] Death animation component initialized
[00:22:15] [ENEMY] [Enemy3] Death animation component initialized
[00:22:15] [ENEMY] [Enemy4] Death animation component initialized
[00:22:15] [ENEMY] [Enemy5] Death animation component initialized
[00:22:15] [ENEMY] [Enemy6] Death animation component initialized
[00:22:15] [ENEMY] [Enemy7] Death animation component initialized
[00:22:15] [ENEMY] [Enemy8] Death animation component initialized
[00:22:15] [ENEMY] [Enemy9] Death animation component initialized
[00:22:15] [ENEMY] [Enemy10] Death animation component initialized
[00:22:15] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:22:15] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:22:15] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:22:15] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:22:15] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:22:15] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:22:15] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:22:15] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:22:15] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:22:15] [INFO] [ScoreManager] Level started with 10 enemies
[00:22:15] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:22:15] [ENEMY] [Enemy1] Registered as sound listener
[00:22:15] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:22:15] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:22:15] [ENEMY] [Enemy2] Registered as sound listener
[00:22:15] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:22:15] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:22:15] [ENEMY] [Enemy3] Registered as sound listener
[00:22:15] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:22:15] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:22:15] [ENEMY] [Enemy4] Registered as sound listener
[00:22:15] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:22:15] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:22:15] [ENEMY] [Enemy5] Registered as sound listener
[00:22:15] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:22:15] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:22:15] [ENEMY] [Enemy6] Registered as sound listener
[00:22:15] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:22:15] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:22:15] [ENEMY] [Enemy7] Registered as sound listener
[00:22:15] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:22:15] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:22:15] [ENEMY] [Enemy8] Registered as sound listener
[00:22:15] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:22:15] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:22:15] [ENEMY] [Enemy9] Registered as sound listener
[00:22:15] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:22:15] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:22:15] [ENEMY] [Enemy10] Registered as sound listener
[00:22:15] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:22:15] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:22:15] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:22:15] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:22:15] [INFO] [LastChance] Found player: Player
[00:22:15] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:22:15] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:22:15] [INFO] [LastChance] Connected to player Died signal (C#)
[00:22:15] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:22:15] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:22:15] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:22:15] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:22:15] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:22:15] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:22:15] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (880.58093, 1467.7041)
[00:22:15] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:22:15] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:22:15] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:22:15] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1111.1666)
[00:22:15] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:22:15] [INFO] [Player.Grenade] Step 1 complete! Drag: (332.90234, -3.9804688)
[00:22:15] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:22:15] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:22:15] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:22:15] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:22:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:22:15] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:22:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:22:15] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:22:15] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:22:16] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:22:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=19941818370089, bullet_pos=(41.69983, 702.3934)
[00:22:16] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:22:16] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:22:16] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[00:22:16] [INFO] [Bullet] Penetration failed (distance roll)
[00:22:16] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:22:16] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:22:16] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1477.6749, 594.1327) (1592,6 px/s), Swing distance: 484,9
[00:22:16] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,38229188
[00:22:16] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1477.675, 594.1327), Swing: 484.9, Transfer: 1.00, Final speed: 750.8
[00:22:16] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:22:16] [INFO] [Player.Grenade] Thrown! Velocity: 1592,6, Swing: 484,9
[00:22:16] [INFO] [Player.Grenade] State reset to IDLE
[00:22:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:22:16] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:22:16] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:22:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:22:16] [INFO] [LastChance] Threat detected: Bullet
[00:22:16] [INFO] [LastChance] Not in hard mode - effect disabled
[00:22:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:22:17] [INFO] [Player.Grenade] Player rotation restored to 0
[00:22:17] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:22:17] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:22:17] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:22:17] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:22:17] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:22:17] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:22:17] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:22:17] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:22:17] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:22:17] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:22:17] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:22:17] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:22:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:22:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:22:17] [INFO] [LastChance] Threat detected: Bullet
[00:22:17] [INFO] [LastChance] Not in hard mode - effect disabled
[00:22:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:22:17] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:22:17] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:22:17] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:22:17] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:22:17] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:22:17] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:22:17] [INFO] [LastChance] Player died
[00:22:17] [INFO] [GrenadeBase] Collision detected with Table1 (type: StaticBody2D)
[00:22:17] [INFO] [FragGrenade] Wall impact detected! Body: Table1, triggering explosion
[00:22:17] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:22:17] [INFO] [GrenadeBase] EXPLODED at (670.4286, 821.0972)!
[00:22:17] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(670.4286, 821.0972), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:22:17] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:22:17] [ENEMY] [Enemy3] Hit taken, health: 1/2
[00:22:17] [ENEMY] [Enemy3] Hit taken, health: 0/2
[00:22:17] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:22:17] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:22:17] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:22:17] [INFO] [DeathAnim] Started - Angle: -78.2 deg, Index: 6
[00:22:17] [ENEMY] [Enemy3] Death animation started with hit direction: (0.203828, -0.979007)
[00:22:17] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 68.8
[00:22:17] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 1.2 degrees
[00:22:17] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 99.0 degrees
[00:22:17] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 189.8 degrees
[00:22:17] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 284.6 degrees
[00:22:18] [ENEMY] [Enemy4] Hit taken, health: 3/4
[00:22:18] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:22:18] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[00:22:18] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[00:22:18] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:22:18] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[00:22:18] [ENEMY] [Enemy10] FLANKING started: target=(641.5652, 835.1183), side=left, pos=(1022.668, 1432.257)
[00:22:18] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[00:22:18] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:22:18] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:22:18] [ENEMY] [Enemy1] Death animation component initialized
[00:22:18] [ENEMY] [Enemy2] Death animation component initialized
[00:22:18] [ENEMY] [Enemy3] Death animation component initialized
[00:22:18] [ENEMY] [Enemy4] Death animation component initialized
[00:22:18] [ENEMY] [Enemy5] Death animation component initialized
[00:22:18] [ENEMY] [Enemy6] Death animation component initialized
[00:22:18] [ENEMY] [Enemy7] Death animation component initialized
[00:22:18] [ENEMY] [Enemy8] Death animation component initialized
[00:22:18] [ENEMY] [Enemy9] Death animation component initialized
[00:22:18] [ENEMY] [Enemy10] Death animation component initialized
[00:22:18] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:22:18] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:22:18] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:22:18] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:22:18] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:22:18] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:22:18] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:22:18] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:22:18] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:22:18] [INFO] [ScoreManager] Level started with 10 enemies
[00:22:18] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:22:18] [ENEMY] [Enemy1] Registered as sound listener
[00:22:18] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:22:18] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:22:18] [ENEMY] [Enemy2] Registered as sound listener
[00:22:18] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:22:18] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:22:18] [ENEMY] [Enemy3] Registered as sound listener
[00:22:18] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:22:18] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:22:18] [ENEMY] [Enemy4] Registered as sound listener
[00:22:18] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:22:18] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:22:18] [ENEMY] [Enemy5] Registered as sound listener
[00:22:18] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:22:18] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:22:18] [ENEMY] [Enemy6] Registered as sound listener
[00:22:18] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:22:18] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:22:18] [ENEMY] [Enemy7] Registered as sound listener
[00:22:18] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:22:18] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:22:18] [ENEMY] [Enemy8] Registered as sound listener
[00:22:18] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:22:18] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:22:18] [ENEMY] [Enemy9] Registered as sound listener
[00:22:18] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:22:18] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:22:18] [ENEMY] [Enemy10] Registered as sound listener
[00:22:18] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:22:18] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:22:18] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:22:18] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:22:18] [INFO] [LastChance] Found player: Player
[00:22:18] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:22:18] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:22:18] [INFO] [LastChance] Connected to player Died signal (C#)
[00:22:18] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:22:18] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:22:18] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:22:19] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:22:19] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:22:19] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:22:19] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1066.5308, 1389.0071)
[00:22:19] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:22:19] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:22:19] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:22:19] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1103.9442)
[00:22:19] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:22:19] [INFO] [Player.Grenade] Step 1 complete! Drag: (212.80469, 34.108154)
[00:22:19] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:22:19] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:22:19] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:22:19] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:22:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.534, 1465.239), source=ENEMY (Enemy10), range=1469, listeners=19
[00:22:19] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:22:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:22:19] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:22:19] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:22:19] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:22:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.913, 1430.594), shooter_id=20148496895938, bullet_pos=(42.94077, 700.6946)
[00:22:20] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[00:22:20] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[00:22:20] [INFO] [Bullet] Distance-based penetration chance: 50.6760947698504%
[00:22:20] [INFO] [Bullet] Penetration failed (distance roll)
[00:22:20] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:22:20] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:22:20] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (885.18054, 1170.2555) (1467,3 px/s), Swing distance: 512,8
[00:22:20] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,9232122
[00:22:20] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (885.1805, 1170.255), Swing: 512.8, Transfer: 1.00, Final speed: 691.7
[00:22:20] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:22:20] [INFO] [Player.Grenade] Thrown! Velocity: 1467,3, Swing: 512,8
[00:22:20] [INFO] [Player.Grenade] State reset to IDLE
[00:22:20] [INFO] [GrenadeBase] Collision detected with Room2_WallLeft (type: StaticBody2D)
[00:22:20] [INFO] [FragGrenade] Wall impact detected! Body: Room2_WallLeft, triggering explosion
[00:22:20] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:22:20] [INFO] [GrenadeBase] EXPLODED at (503.2057, 788.6907)!
[00:22:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(503.2057, 788.6907), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:22:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:22:20] [ENEMY] [Enemy3] Hit taken, health: 3/4
[00:22:20] [ENEMY] [Enemy3] Hit taken, health: 2/4
[00:22:20] [ENEMY] [Enemy3] Hit taken, health: 1/4
[00:22:20] [ENEMY] [Enemy3] Hit taken, health: 0/4
[00:22:20] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:22:20] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:22:20] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[00:22:20] [INFO] [DeathAnim] Started - Angle: -10.8 deg, Index: 11
[00:22:20] [ENEMY] [Enemy3] Death animation started with hit direction: (0.98216, -0.188047)
[00:22:20] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 184.6
[00:22:20] [INFO] [FragGrenade] Player found in blast radius at distance 80.4
[00:22:20] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:22:20] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:22:20] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:22:20] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:22:20] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:22:20] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:22:20] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:22:20] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:22:20] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:22:20] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:22:20] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:22:20] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:22:20] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:22:20] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:22:20] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:22:20] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:22:20] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:22:20] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:22:20] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:22:20] [INFO] [LastChance] Player died
[00:22:20] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 80.4
[00:22:20] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -15.4 degrees
[00:22:20] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 77.1 degrees
[00:22:20] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 195.2 degrees
[00:22:20] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 254.4 degrees
[00:22:20] [INFO] [Player.Grenade] Player rotation restored to 0
[00:22:21] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:22:21] [ENEMY] [Enemy2] Hit taken, health: 3/4
[00:22:21] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:22:21] [ENEMY] [Enemy3] Ragdoll activated
[00:22:21] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:22:21] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:22:21] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:22:21] [ENEMY] [Enemy1] Death animation component initialized
[00:22:21] [ENEMY] [Enemy2] Death animation component initialized
[00:22:21] [ENEMY] [Enemy3] Death animation component initialized
[00:22:21] [ENEMY] [Enemy4] Death animation component initialized
[00:22:21] [ENEMY] [Enemy5] Death animation component initialized
[00:22:21] [ENEMY] [Enemy6] Death animation component initialized
[00:22:21] [ENEMY] [Enemy7] Death animation component initialized
[00:22:21] [ENEMY] [Enemy8] Death animation component initialized
[00:22:21] [ENEMY] [Enemy9] Death animation component initialized
[00:22:21] [ENEMY] [Enemy10] Death animation component initialized
[00:22:21] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:22:21] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:22:21] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:22:21] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:22:21] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:22:21] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:22:21] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:22:21] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:22:21] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:22:21] [INFO] [ScoreManager] Level started with 10 enemies
[00:22:21] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[00:22:21] [ENEMY] [Enemy1] Registered as sound listener
[00:22:21] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:22:21] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[00:22:21] [ENEMY] [Enemy2] Registered as sound listener
[00:22:21] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:22:21] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[00:22:21] [ENEMY] [Enemy3] Registered as sound listener
[00:22:21] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:22:21] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[00:22:21] [ENEMY] [Enemy4] Registered as sound listener
[00:22:21] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:22:21] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[00:22:21] [ENEMY] [Enemy5] Registered as sound listener
[00:22:21] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:22:21] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[00:22:21] [ENEMY] [Enemy6] Registered as sound listener
[00:22:21] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:22:21] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[00:22:21] [ENEMY] [Enemy7] Registered as sound listener
[00:22:21] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:22:21] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[00:22:21] [ENEMY] [Enemy8] Registered as sound listener
[00:22:21] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:22:21] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[00:22:21] [ENEMY] [Enemy9] Registered as sound listener
[00:22:21] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:22:21] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[00:22:21] [ENEMY] [Enemy10] Registered as sound listener
[00:22:21] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:22:21] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:22:21] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:22:21] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:22:21] [INFO] [LastChance] Found player: Player
[00:22:21] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:22:21] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:22:21] [INFO] [LastChance] Connected to player Died signal (C#)
[00:22:21] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:22:21] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:22:21] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:22:21] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:22:21] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:22:21] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:22:22] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1153.4972, 1409.7219)
[00:22:22] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:22:22] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:22:22] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:22:22] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1083.6666)
[00:22:22] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:22:22] [INFO] [Player.Grenade] Step 1 complete! Drag: (123.58594, 50.69287)
[00:22:22] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:22:22] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:22:22] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:22:22] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:22:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[00:22:22] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[00:22:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:22:22] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:22:22] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:22:22] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[00:22:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=20324154345126, bullet_pos=(41.69983, 702.3934)
[00:22:22] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[00:22:22] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[00:22:22] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:22:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=20324154345126, bullet_pos=(517.8497, 386.0327)
[00:22:23] [INFO] [Bullet] Using shooter_position, distance=1153.15795898438
[00:22:23] [INFO] [Bullet] Distance to wall: 1153.15795898438 (78.5206458977543% of viewport)
[00:22:23] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:22:23] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.033928365, 222.17566) (222,2 px/s), Swing distance: 337,4
[00:22:23] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,5706437
[00:22:23] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.033928, 222.1757), Swing: 337.4, Transfer: 1.00, Final speed: 104.7
[00:22:23] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:22:23] [INFO] [Player.Grenade] Thrown! Velocity: 222,2, Swing: 337,4
[00:22:23] [INFO] [Player.Grenade] State reset to IDLE
[00:22:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=20324154345126, bullet_pos=(163.1987, 52.76544)
[00:22:23] [INFO] [Bullet] Using shooter_position, distance=1615.27404785156
[00:22:23] [INFO] [Bullet] Distance to wall: 1615.27404785156 (109.986980145279% of viewport)
[00:22:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:22:23] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[00:22:23] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[00:22:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:22:23] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[00:22:23] [INFO] [LastChance] Threat detected: @Area2D@24557
[00:22:23] [INFO] [LastChance] Not in hard mode - effect disabled
[00:22:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:22:23] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[00:22:23] [INFO] [GrenadeBase] Grenade landed at (450.0109, 799.0695)
[00:22:23] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:22:23] [INFO] [GrenadeBase] EXPLODED at (450.0109, 799.0695)!
[00:22:23] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450.0109, 799.0695), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:22:23] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[00:22:23] [INFO] [FragGrenade] Player found in blast radius at distance 59.0
[00:22:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:22:23] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:22:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:22:23] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:22:23] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:22:23] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:22:23] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:22:23] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:22:23] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:22:23] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:22:23] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:22:23] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:22:23] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:22:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:22:23] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:22:23] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:22:23] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:22:23] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:22:23] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:22:23] [INFO] [LastChance] Player died
[00:22:23] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 59.0
[00:22:23] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 9.4 degrees
[00:22:23] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 78.1 degrees
[00:22:23] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 185.4 degrees
[00:22:23] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 287.3 degrees
[00:22:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=20324154345126, bullet_pos=(66.48253, 143.9781)
[00:22:23] [INFO] [Bullet] Using shooter_position, distance=1593.21948242188
[00:22:23] [INFO] [Bullet] Distance to wall: 1593.21948242188 (108.485244230402% of viewport)
[00:22:23] [INFO] [Bullet] Distance-based penetration chance: 28.3029511539197%
[00:22:23] [INFO] [Bullet] Penetration failed (distance roll)
[00:22:23] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[00:22:23] [INFO] [Player.Grenade] Player rotation restored to 0
[00:22:23] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:22:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:22:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:22:23] [INFO] [LastChance] Threat detected: Bullet
[00:22:23] [INFO] [LastChance] Not in hard mode - effect disabled
[00:22:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:22:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[00:22:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:22:23] [INFO] [LastChance] Threat detected: Bullet
[00:22:23] [INFO] [LastChance] Not in hard mode - effect disabled
[00:22:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:22:23] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[00:22:23] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[00:22:23] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[00:22:23] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[00:22:23] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[00:22:23] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[00:22:23] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:22:24] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:22:24] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:22:24] [ENEMY] [Enemy1] Death animation component initialized
[00:22:24] [ENEMY] [Enemy2] Death animation component initialized
[00:22:24] [ENEMY] [Enemy3] Death animation component initialized
[00:22:24] [ENEMY] [Enemy4] Death animation component initialized
[00:22:24] [ENEMY] [Enemy5] Death animation component initialized
[00:22:24] [ENEMY] [Enemy6] Death animation component initialized
[00:22:24] [ENEMY] [Enemy7] Death animation component initialized
[00:22:24] [ENEMY] [Enemy8] Death animation component initialized
[00:22:24] [ENEMY] [Enemy9] Death animation component initialized
[00:22:24] [ENEMY] [Enemy10] Death animation component initialized
[00:22:24] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:22:24] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:22:24] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:22:24] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:22:24] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:22:24] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:22:24] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:22:24] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:22:24] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:22:24] [INFO] [ScoreManager] Level started with 10 enemies
[00:22:24] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:22:24] [ENEMY] [Enemy1] Registered as sound listener
[00:22:24] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:22:24] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:22:24] [ENEMY] [Enemy2] Registered as sound listener
[00:22:24] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:22:24] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:22:24] [ENEMY] [Enemy3] Registered as sound listener
[00:22:24] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:22:24] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:22:24] [ENEMY] [Enemy4] Registered as sound listener
[00:22:24] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:22:24] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:22:24] [ENEMY] [Enemy5] Registered as sound listener
[00:22:24] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:22:24] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:22:24] [ENEMY] [Enemy6] Registered as sound listener
[00:22:24] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:22:24] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:22:24] [ENEMY] [Enemy7] Registered as sound listener
[00:22:24] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:22:24] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:22:24] [ENEMY] [Enemy8] Registered as sound listener
[00:22:24] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:22:24] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:22:24] [ENEMY] [Enemy9] Registered as sound listener
[00:22:24] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:22:24] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:22:24] [ENEMY] [Enemy10] Registered as sound listener
[00:22:24] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:22:24] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:22:24] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:22:24] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:22:24] [INFO] [LastChance] Found player: Player
[00:22:24] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:22:24] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:22:24] [INFO] [LastChance] Connected to player Died signal (C#)
[00:22:24] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:22:24] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:22:24] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:22:25] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:22:25] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:22:25] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1048.4218, 1393.5992)
[00:22:25] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:22:25] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:22:25] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:22:25] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:22:25] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:22:25] [INFO] [Player.Grenade] Step 1 complete! Drag: (231.21692, 0)
[00:22:25] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:22:25] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:22:25] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:22:25] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:22:25] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:22:25] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:22:26] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[00:22:26] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:22:26] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1855.4844, -267.16162) (1874,6 px/s), Swing distance: 203,0
[00:22:26] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,14300202
[00:22:26] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1855.484, -267.1616), Swing: 203.0, Transfer: 0.82, Final speed: 724.8
[00:22:26] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:22:26] [INFO] [Player.Grenade] Thrown! Velocity: 1874,6, Swing: 203,0
[00:22:26] [INFO] [Player.Grenade] State reset to IDLE
[00:22:26] [INFO] [Player.Grenade] Player rotation restored to 0
[00:22:26] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:22:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.438, 1488.254), source=ENEMY (Enemy10), range=1469, listeners=20
[00:22:27] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:22:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:22:27] [INFO] [LastChance] Threat detected: Bullet
[00:22:27] [INFO] [LastChance] Not in hard mode - effect disabled
[00:22:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:22:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:22:27] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:22:27] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:22:27] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:22:27] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:22:27] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:22:27] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:22:27] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:22:27] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:22:27] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:22:27] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:22:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1039.943, 1460.081), source=ENEMY (Enemy10), range=1469, listeners=10
[00:22:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:22:27] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:22:27] [INFO] [LastChance] Threat detected: @Area2D@24823
[00:22:27] [INFO] [LastChance] Not in hard mode - effect disabled
[00:22:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:22:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:22:27] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:22:27] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:22:27] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:22:27] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:22:27] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:22:27] [INFO] [LastChance] Player died
[00:22:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1012.345, 1428.956), source=ENEMY (Enemy10), range=1469, listeners=10
[00:22:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:22:28] [INFO] [LastChance] Threat detected: Bullet
[00:22:28] [INFO] [LastChance] Not in hard mode - effect disabled
[00:22:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:22:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1012.345, 1428.956), source=ENEMY (Enemy10), range=1469, listeners=10
[00:22:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:22:28] [INFO] [LastChance] Threat detected: Bullet
[00:22:28] [INFO] [LastChance] Not in hard mode - effect disabled
[00:22:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:22:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1012.345, 1428.956), source=ENEMY (Enemy10), range=1469, listeners=10
[00:22:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:22:28] [INFO] [LastChance] Threat detected: Bullet
[00:22:28] [INFO] [LastChance] Not in hard mode - effect disabled
[00:22:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:22:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1012.345, 1428.956), source=ENEMY (Enemy10), range=1469, listeners=10
[00:22:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:22:28] [INFO] [LastChance] Threat detected: @Area2D@24824
[00:22:28] [INFO] [LastChance] Not in hard mode - effect disabled
[00:22:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:22:28] [INFO] [GrenadeBase] Grenade landed at (1147.119, 1193.372)
[00:22:28] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:22:28] [INFO] [GrenadeBase] EXPLODED at (1147.119, 1193.372)!
[00:22:28] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1147.119, 1193.372), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[00:22:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[00:22:28] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 0.8 degrees
[00:22:28] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 72.6 degrees
[00:22:28] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 178.9 degrees
[00:22:28] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 255.0 degrees
[00:22:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1012.345, 1428.956), source=ENEMY (Enemy10), range=1469, listeners=10
[00:22:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[00:22:28] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:22:28] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:22:28] [ENEMY] [Enemy1] Death animation component initialized
[00:22:28] [ENEMY] [Enemy2] Death animation component initialized
[00:22:28] [ENEMY] [Enemy3] Death animation component initialized
[00:22:28] [ENEMY] [Enemy4] Death animation component initialized
[00:22:28] [ENEMY] [Enemy5] Death animation component initialized
[00:22:28] [ENEMY] [Enemy6] Death animation component initialized
[00:22:28] [ENEMY] [Enemy7] Death animation component initialized
[00:22:28] [ENEMY] [Enemy8] Death animation component initialized
[00:22:28] [ENEMY] [Enemy9] Death animation component initialized
[00:22:28] [ENEMY] [Enemy10] Death animation component initialized
[00:22:28] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:22:28] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:22:28] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:22:28] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:22:28] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:22:28] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:22:28] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:22:28] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:22:28] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:22:28] [INFO] [ScoreManager] Level started with 10 enemies
[00:22:28] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:22:28] [ENEMY] [Enemy1] Registered as sound listener
[00:22:28] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:22:28] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:22:28] [ENEMY] [Enemy2] Registered as sound listener
[00:22:28] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:22:28] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:22:28] [ENEMY] [Enemy3] Registered as sound listener
[00:22:28] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:22:28] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:22:28] [ENEMY] [Enemy4] Registered as sound listener
[00:22:28] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:22:28] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:22:28] [ENEMY] [Enemy5] Registered as sound listener
[00:22:28] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:22:28] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:22:28] [ENEMY] [Enemy6] Registered as sound listener
[00:22:28] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:22:28] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:22:28] [ENEMY] [Enemy7] Registered as sound listener
[00:22:28] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:22:28] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:22:28] [ENEMY] [Enemy8] Registered as sound listener
[00:22:28] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:22:28] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:22:28] [ENEMY] [Enemy9] Registered as sound listener
[00:22:28] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:22:28] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:22:28] [ENEMY] [Enemy10] Registered as sound listener
[00:22:28] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:22:28] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:22:28] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:22:28] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:22:28] [INFO] [LastChance] Found player: Player
[00:22:28] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:22:28] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:22:28] [INFO] [LastChance] Connected to player Died signal (C#)
[00:22:28] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:22:28] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:22:28] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:22:29] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:22:29] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:22:29] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1015.32605, 1337.6008)
[00:22:29] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:22:29] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:22:29] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:22:29] [INFO] [Player.Grenade] Timer started, grenade created at (245.64027, 1168.8977)
[00:22:29] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:22:29] [INFO] [Player.Grenade] Step 1 complete! Drag: (264.1621, 58.649902)
[00:22:29] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:22:29] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:22:29] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:22:29] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:22:29] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:22:29] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:22:30] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:22:30] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (345.84274, -0.94317263) (345,8 px/s), Swing distance: 244,6
[00:22:30] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,0027271651
[00:22:30] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (345.8427, -0.943173), Swing: 244.6, Transfer: 0.99, Final speed: 161.2
[00:22:30] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:22:30] [INFO] [Player.Grenade] Thrown! Velocity: 345,8, Swing: 244,6
[00:22:30] [INFO] [Player.Grenade] State reset to IDLE
[00:22:30] [INFO] [Player.Grenade] Player rotation restored to 0
[00:22:30] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:22:30] [INFO] [GrenadeBase] Grenade landed at (333.8397, 1168.657)
[00:22:30] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:22:30] [INFO] [GrenadeBase] EXPLODED at (333.8397, 1168.657)!
[00:22:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(333.8397, 1168.657), source=NEUTRAL (FragGrenade), range=2937, listeners=20
[00:22:30] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:22:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=10
[00:22:30] [INFO] [FragGrenade] Player found in blast radius at distance 88.2
[00:22:30] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:22:30] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:22:30] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:22:30] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:22:30] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:22:30] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:22:30] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:22:30] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:22:30] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:22:30] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:22:30] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:22:30] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:22:30] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:22:30] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:22:30] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:22:30] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:22:30] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:22:30] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:22:30] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:22:30] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:22:30] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:22:30] [INFO] [LastChance] Player died
[00:22:30] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 88.2
[00:22:30] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -5.3 degrees
[00:22:30] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 107.3 degrees
[00:22:30] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 175.0 degrees
[00:22:30] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 267.8 degrees
[00:22:31] [ENEMY] [Enemy1] Hit taken, health: 2/3
[00:22:31] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:22:31] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:22:31] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:22:31] [ENEMY] [Enemy1] Death animation component initialized
[00:22:31] [ENEMY] [Enemy2] Death animation component initialized
[00:22:31] [ENEMY] [Enemy3] Death animation component initialized
[00:22:31] [ENEMY] [Enemy4] Death animation component initialized
[00:22:31] [ENEMY] [Enemy5] Death animation component initialized
[00:22:31] [ENEMY] [Enemy6] Death animation component initialized
[00:22:31] [ENEMY] [Enemy7] Death animation component initialized
[00:22:31] [ENEMY] [Enemy8] Death animation component initialized
[00:22:31] [ENEMY] [Enemy9] Death animation component initialized
[00:22:31] [ENEMY] [Enemy10] Death animation component initialized
[00:22:31] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:22:31] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:22:31] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:22:31] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:22:31] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:22:31] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:22:31] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:22:31] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:22:31] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:22:31] [INFO] [ScoreManager] Level started with 10 enemies
[00:22:31] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:22:31] [ENEMY] [Enemy1] Registered as sound listener
[00:22:31] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:22:31] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:22:31] [ENEMY] [Enemy2] Registered as sound listener
[00:22:31] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:22:31] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:22:31] [ENEMY] [Enemy3] Registered as sound listener
[00:22:31] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:22:31] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:22:31] [ENEMY] [Enemy4] Registered as sound listener
[00:22:31] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:22:31] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:22:31] [ENEMY] [Enemy5] Registered as sound listener
[00:22:31] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:22:31] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:22:31] [ENEMY] [Enemy6] Registered as sound listener
[00:22:31] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:22:31] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:22:31] [ENEMY] [Enemy7] Registered as sound listener
[00:22:31] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:22:31] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:22:31] [ENEMY] [Enemy8] Registered as sound listener
[00:22:31] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:22:31] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:22:31] [ENEMY] [Enemy9] Registered as sound listener
[00:22:31] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:22:31] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:22:31] [ENEMY] [Enemy10] Registered as sound listener
[00:22:31] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:22:31] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:22:31] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:22:31] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:22:31] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:22:31] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:22:31] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:22:31] [INFO] [LastChance] Found player: Player
[00:22:31] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:22:31] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:22:31] [INFO] [LastChance] Connected to player Died signal (C#)
[00:22:31] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:22:31] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:22:31] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (819.6344, 1304.1002)
[00:22:31] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:22:31] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:22:31] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:22:31] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:22:31] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:22:31] [INFO] [Player.Grenade] Step 1 complete! Drag: (319.61633, 46.753296)
[00:22:31] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:22:31] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:22:32] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:22:32] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:22:32] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:22:32] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:22:33] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:22:33] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (7946.0874, 0) (7946,1 px/s), Swing distance: 1578,2
[00:22:33] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0
[00:22:33] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (7946.087, 0), Swing: 1578.2, Transfer: 1.00, Final speed: 1186.5
[00:22:33] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:22:33] [INFO] [Player.Grenade] Thrown! Velocity: 7946,1, Swing: 1578,2
[00:22:33] [INFO] [Player.Grenade] State reset to IDLE
[00:22:33] [INFO] [Player.Grenade] Player rotation restored to 0
[00:22:33] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:22:33] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:22:34] [INFO] [GrenadeBase] Grenade landed at (1171.123, 1250)
[00:22:34] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:22:34] [INFO] [GrenadeBase] EXPLODED at (1171.123, 1250)!
[00:22:34] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1171.123, 1250), source=NEUTRAL (FragGrenade), range=2937, listeners=20
[00:22:34] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:22:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[00:22:34] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 2.0 degrees
[00:22:34] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 105.6 degrees
[00:22:34] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 173.0 degrees
[00:22:34] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 267.6 degrees
[00:22:34] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:22:34] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:22:34] [ENEMY] [Enemy1] Death animation component initialized
[00:22:34] [ENEMY] [Enemy2] Death animation component initialized
[00:22:34] [ENEMY] [Enemy3] Death animation component initialized
[00:22:34] [ENEMY] [Enemy4] Death animation component initialized
[00:22:34] [ENEMY] [Enemy5] Death animation component initialized
[00:22:34] [ENEMY] [Enemy6] Death animation component initialized
[00:22:34] [ENEMY] [Enemy7] Death animation component initialized
[00:22:34] [ENEMY] [Enemy8] Death animation component initialized
[00:22:34] [ENEMY] [Enemy9] Death animation component initialized
[00:22:34] [ENEMY] [Enemy10] Death animation component initialized
[00:22:34] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:22:34] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:22:34] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:22:34] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:22:34] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:22:34] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:22:34] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:22:34] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:22:34] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:22:34] [INFO] [ScoreManager] Level started with 10 enemies
[00:22:34] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:22:34] [ENEMY] [Enemy1] Registered as sound listener
[00:22:34] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:22:34] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:22:34] [ENEMY] [Enemy2] Registered as sound listener
[00:22:34] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:22:34] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:22:34] [ENEMY] [Enemy3] Registered as sound listener
[00:22:34] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:22:34] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:22:34] [ENEMY] [Enemy4] Registered as sound listener
[00:22:34] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:22:34] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:22:34] [ENEMY] [Enemy5] Registered as sound listener
[00:22:34] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:22:34] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:22:34] [ENEMY] [Enemy6] Registered as sound listener
[00:22:34] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:22:34] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:22:34] [ENEMY] [Enemy7] Registered as sound listener
[00:22:34] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:22:34] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:22:34] [ENEMY] [Enemy8] Registered as sound listener
[00:22:34] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:22:34] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:22:34] [ENEMY] [Enemy9] Registered as sound listener
[00:22:34] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:22:34] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:22:34] [ENEMY] [Enemy10] Registered as sound listener
[00:22:34] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:22:34] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:22:34] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:22:34] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:22:34] [INFO] [LastChance] Found player: Player
[00:22:34] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:22:34] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:22:34] [INFO] [LastChance] Connected to player Died signal (C#)
[00:22:34] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:22:34] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:22:34] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:22:34] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:22:34] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:22:34] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1098.3306, 1376.2338)
[00:22:35] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:22:35] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:22:35] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:22:35] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:22:35] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:22:35] [INFO] [Player.Grenade] Step 1 complete! Drag: (161.88843, 72.13367)
[00:22:35] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:22:35] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:22:35] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:22:35] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:22:35] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:22:35] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:22:35] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:22:35] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2145.8518, 0) (2145,9 px/s), Swing distance: 238,5
[00:22:35] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0
[00:22:35] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2145.852, 0), Swing: 238.5, Transfer: 0.96, Final speed: 974.9
[00:22:35] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:22:35] [INFO] [Player.Grenade] Thrown! Velocity: 2145,9, Swing: 238,5
[00:22:35] [INFO] [Player.Grenade] State reset to IDLE
[00:22:36] [INFO] [Player.Grenade] Player rotation restored to 0
[00:22:36] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:22:36] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:22:37] [INFO] [GrenadeBase] Grenade landed at (1018.642, 1250)
[00:22:37] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:22:37] [INFO] [GrenadeBase] EXPLODED at (1018.642, 1250)!
[00:22:37] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1018.642, 1250), source=NEUTRAL (FragGrenade), range=2937, listeners=20
[00:22:37] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:22:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[00:22:37] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -11.4 degrees
[00:22:37] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 86.3 degrees
[00:22:37] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 191.2 degrees
[00:22:37] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 275.9 degrees
[00:22:37] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:22:37] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:22:37] [ENEMY] [Enemy1] Death animation component initialized
[00:22:37] [ENEMY] [Enemy2] Death animation component initialized
[00:22:37] [ENEMY] [Enemy3] Death animation component initialized
[00:22:37] [ENEMY] [Enemy4] Death animation component initialized
[00:22:37] [ENEMY] [Enemy5] Death animation component initialized
[00:22:37] [ENEMY] [Enemy6] Death animation component initialized
[00:22:37] [ENEMY] [Enemy7] Death animation component initialized
[00:22:37] [ENEMY] [Enemy8] Death animation component initialized
[00:22:37] [ENEMY] [Enemy9] Death animation component initialized
[00:22:37] [ENEMY] [Enemy10] Death animation component initialized
[00:22:37] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:22:37] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:22:37] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:22:37] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:22:37] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:22:37] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:22:37] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:22:37] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:22:37] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:22:37] [INFO] [ScoreManager] Level started with 10 enemies
[00:22:37] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:22:37] [ENEMY] [Enemy1] Registered as sound listener
[00:22:37] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:22:37] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:22:37] [ENEMY] [Enemy2] Registered as sound listener
[00:22:37] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:22:37] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:22:37] [ENEMY] [Enemy3] Registered as sound listener
[00:22:37] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:22:37] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:22:37] [ENEMY] [Enemy4] Registered as sound listener
[00:22:37] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:22:37] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:22:37] [ENEMY] [Enemy5] Registered as sound listener
[00:22:37] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:22:37] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:22:37] [ENEMY] [Enemy6] Registered as sound listener
[00:22:37] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:22:37] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:22:37] [ENEMY] [Enemy7] Registered as sound listener
[00:22:37] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:22:37] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:22:37] [ENEMY] [Enemy8] Registered as sound listener
[00:22:37] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:22:37] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:22:37] [ENEMY] [Enemy9] Registered as sound listener
[00:22:37] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:22:37] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:22:37] [ENEMY] [Enemy10] Registered as sound listener
[00:22:37] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:22:37] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:22:37] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:22:37] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:22:37] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:22:37] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:22:37] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:22:37] [INFO] [LastChance] Found player: Player
[00:22:37] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:22:37] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:22:37] [INFO] [LastChance] Connected to player Died signal (C#)
[00:22:37] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:22:37] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:22:37] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1024.8442, 1357.5325)
[00:22:38] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:22:38] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:22:38] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:22:38] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:22:38] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:22:38] [INFO] [Player.Grenade] Step 1 complete! Drag: (239.91931, 103.525024)
[00:22:38] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:22:38] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:22:38] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:22:38] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:22:38] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:22:38] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:22:38] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:22:38] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (750.01697, 8.349608) (750,1 px/s), Swing distance: 70,3
[00:22:38] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,011132099
[00:22:38] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (750.017, 8.349608), Swing: 70.3, Transfer: 0.28, Final speed: 100.4
[00:22:38] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:22:38] [INFO] [Player.Grenade] Thrown! Velocity: 750,1, Swing: 70,3
[00:22:38] [INFO] [Player.Grenade] State reset to IDLE
[00:22:38] [INFO] [GrenadeBase] Grenade landed at (519.6872, 1250.776)
[00:22:38] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:22:38] [INFO] [GrenadeBase] EXPLODED at (519.6872, 1250.776)!
[00:22:38] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(519.6872, 1250.776), source=NEUTRAL (FragGrenade), range=2937, listeners=20
[00:22:38] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:22:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[00:22:38] [INFO] [FragGrenade] Player found in blast radius at distance 69.7
[00:22:38] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:22:38] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:22:38] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:22:38] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:22:38] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:22:38] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:22:38] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:22:38] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:22:38] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:22:38] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:22:38] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:22:38] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:22:38] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:22:38] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:22:38] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:22:38] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:22:38] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:22:38] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:22:38] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:22:38] [INFO] [LastChance] Player died
[00:22:38] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 69.7
[00:22:38] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 5.5 degrees
[00:22:38] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 96.8 degrees
[00:22:38] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 165.9 degrees
[00:22:38] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 275.8 degrees
[00:22:38] [INFO] [Player.Grenade] Player rotation restored to 0
[00:22:38] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:22:39] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:22:39] [ENEMY] [Enemy8] Hit taken, health: 1/2
[00:22:39] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:22:39] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:22:39] [ENEMY] [Enemy1] Death animation component initialized
[00:22:39] [ENEMY] [Enemy2] Death animation component initialized
[00:22:39] [ENEMY] [Enemy3] Death animation component initialized
[00:22:39] [ENEMY] [Enemy4] Death animation component initialized
[00:22:39] [ENEMY] [Enemy5] Death animation component initialized
[00:22:39] [ENEMY] [Enemy6] Death animation component initialized
[00:22:39] [ENEMY] [Enemy7] Death animation component initialized
[00:22:39] [ENEMY] [Enemy8] Death animation component initialized
[00:22:39] [ENEMY] [Enemy9] Death animation component initialized
[00:22:39] [ENEMY] [Enemy10] Death animation component initialized
[00:22:39] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:22:39] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:22:39] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:22:39] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:22:39] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:22:39] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:22:39] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:22:39] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:22:39] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:22:39] [INFO] [ScoreManager] Level started with 10 enemies
[00:22:39] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:22:39] [ENEMY] [Enemy1] Registered as sound listener
[00:22:39] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:22:39] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:22:39] [ENEMY] [Enemy2] Registered as sound listener
[00:22:39] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:22:39] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:22:39] [ENEMY] [Enemy3] Registered as sound listener
[00:22:39] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:22:39] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:22:39] [ENEMY] [Enemy4] Registered as sound listener
[00:22:39] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:22:39] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:22:39] [ENEMY] [Enemy5] Registered as sound listener
[00:22:39] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:22:39] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:22:39] [ENEMY] [Enemy6] Registered as sound listener
[00:22:39] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:22:39] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:22:39] [ENEMY] [Enemy7] Registered as sound listener
[00:22:39] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:22:39] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:22:39] [ENEMY] [Enemy8] Registered as sound listener
[00:22:39] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:22:39] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:22:39] [ENEMY] [Enemy9] Registered as sound listener
[00:22:39] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:22:39] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:22:39] [ENEMY] [Enemy10] Registered as sound listener
[00:22:39] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:22:39] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:22:39] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:22:39] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:22:39] [INFO] [LastChance] Found player: Player
[00:22:39] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:22:39] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:22:39] [INFO] [LastChance] Connected to player Died signal (C#)
[00:22:39] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:22:39] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:22:39] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:22:39] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:22:39] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:22:39] [ENEMY] [Enemy1] Death animation component initialized
[00:22:39] [ENEMY] [Enemy2] Death animation component initialized
[00:22:39] [ENEMY] [Enemy3] Death animation component initialized
[00:22:39] [ENEMY] [Enemy4] Death animation component initialized
[00:22:39] [ENEMY] [Enemy5] Death animation component initialized
[00:22:39] [ENEMY] [Enemy6] Death animation component initialized
[00:22:39] [ENEMY] [Enemy7] Death animation component initialized
[00:22:39] [ENEMY] [Enemy8] Death animation component initialized
[00:22:39] [ENEMY] [Enemy9] Death animation component initialized
[00:22:39] [ENEMY] [Enemy10] Death animation component initialized
[00:22:39] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:22:39] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:22:39] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:22:39] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:22:39] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:22:39] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:22:39] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:22:39] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:22:39] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:22:39] [INFO] [ScoreManager] Level started with 10 enemies
[00:22:39] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[00:22:39] [ENEMY] [Enemy1] Registered as sound listener
[00:22:39] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:22:39] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[00:22:39] [ENEMY] [Enemy2] Registered as sound listener
[00:22:39] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:22:39] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[00:22:39] [ENEMY] [Enemy3] Registered as sound listener
[00:22:39] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:22:39] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[00:22:39] [ENEMY] [Enemy4] Registered as sound listener
[00:22:39] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:22:39] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[00:22:39] [ENEMY] [Enemy5] Registered as sound listener
[00:22:39] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:22:39] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[00:22:39] [ENEMY] [Enemy6] Registered as sound listener
[00:22:39] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:22:39] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[00:22:39] [ENEMY] [Enemy7] Registered as sound listener
[00:22:39] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:22:39] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[00:22:39] [ENEMY] [Enemy8] Registered as sound listener
[00:22:39] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:22:39] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[00:22:39] [ENEMY] [Enemy9] Registered as sound listener
[00:22:39] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:22:39] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[00:22:39] [ENEMY] [Enemy10] Registered as sound listener
[00:22:39] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:22:39] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:22:39] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:22:39] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:22:39] [INFO] [LastChance] Found player: Player
[00:22:39] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:22:39] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:22:39] [INFO] [LastChance] Connected to player Died signal (C#)
[00:22:39] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:22:39] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:22:39] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:22:39] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:22:39] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:22:39] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (919.6194, 1431.6697)
[00:22:39] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:22:39] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:22:39] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:22:39] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:22:39] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:22:39] [INFO] [Player.Grenade] Step 1 complete! Drag: (334.69934, 78.812744)
[00:22:39] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:22:39] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:22:40] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:22:40] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:22:40] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:22:40] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:22:40] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:22:40] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2028.249, 0) (2028,2 px/s), Swing distance: 278,3
[00:22:40] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0
[00:22:40] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2028.249, 0), Swing: 278.3, Transfer: 1.00, Final speed: 956.1
[00:22:40] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:22:40] [INFO] [Player.Grenade] Thrown! Velocity: 2028,2, Swing: 278,3
[00:22:40] [INFO] [Player.Grenade] State reset to IDLE
[00:22:41] [INFO] [Player.Grenade] Player rotation restored to 0
[00:22:41] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:22:41] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:22:42] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:22:42] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:22:42] [ENEMY] [Enemy1] Death animation component initialized
[00:22:42] [ENEMY] [Enemy2] Death animation component initialized
[00:22:42] [ENEMY] [Enemy3] Death animation component initialized
[00:22:42] [ENEMY] [Enemy4] Death animation component initialized
[00:22:42] [ENEMY] [Enemy5] Death animation component initialized
[00:22:42] [ENEMY] [Enemy6] Death animation component initialized
[00:22:42] [ENEMY] [Enemy7] Death animation component initialized
[00:22:42] [ENEMY] [Enemy8] Death animation component initialized
[00:22:42] [ENEMY] [Enemy9] Death animation component initialized
[00:22:42] [ENEMY] [Enemy10] Death animation component initialized
[00:22:42] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:22:42] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:22:42] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:22:42] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:22:42] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:22:42] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:22:42] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:22:42] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:22:42] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:22:42] [INFO] [ScoreManager] Level started with 10 enemies
[00:22:42] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 31)
[00:22:42] [ENEMY] [Enemy1] Registered as sound listener
[00:22:42] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:22:42] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 32)
[00:22:42] [ENEMY] [Enemy2] Registered as sound listener
[00:22:42] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:22:42] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 33)
[00:22:42] [ENEMY] [Enemy3] Registered as sound listener
[00:22:42] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:22:42] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 34)
[00:22:42] [ENEMY] [Enemy4] Registered as sound listener
[00:22:42] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:22:42] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 35)
[00:22:42] [ENEMY] [Enemy5] Registered as sound listener
[00:22:42] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:22:42] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 36)
[00:22:42] [ENEMY] [Enemy6] Registered as sound listener
[00:22:42] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:22:42] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 37)
[00:22:42] [ENEMY] [Enemy7] Registered as sound listener
[00:22:42] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:22:42] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 38)
[00:22:42] [ENEMY] [Enemy8] Registered as sound listener
[00:22:42] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:22:42] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 39)
[00:22:42] [ENEMY] [Enemy9] Registered as sound listener
[00:22:42] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:22:42] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 40)
[00:22:42] [ENEMY] [Enemy10] Registered as sound listener
[00:22:42] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:22:42] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:22:42] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:22:42] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:22:42] [INFO] [LastChance] Found player: Player
[00:22:42] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:22:42] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:22:42] [INFO] [LastChance] Connected to player Died signal (C#)
[00:22:42] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:22:42] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:22:42] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:22:42] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:22:42] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:22:42] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (931.33514, 1286.0668)
[00:22:42] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:22:42] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:22:42] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:22:42] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:22:42] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:22:42] [INFO] [Player.Grenade] Step 1 complete! Drag: (325.12372, 60.11133)
[00:22:42] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:22:42] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:22:42] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:22:42] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:22:42] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:22:42] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:22:43] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:22:43] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0.4155776, -991.5409) (991,5 px/s), Swing distance: 130,6
[00:22:43] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5703772
[00:22:43] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0.415578, -991.5409), Swing: 130.6, Transfer: 0.53, Final speed: 246.7
[00:22:43] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:22:43] [INFO] [Player.Grenade] Thrown! Velocity: 991,5, Swing: 130,6
[00:22:43] [INFO] [Player.Grenade] State reset to IDLE
[00:22:43] [INFO] [Player.Grenade] Player rotation restored to 0
[00:22:43] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:22:44] [INFO] [GrenadeBase] Grenade landed at (450.051, 1128.192)
[00:22:44] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:22:44] [INFO] [GrenadeBase] EXPLODED at (450.051, 1128.192)!
[00:22:44] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450.051, 1128.192), source=NEUTRAL (FragGrenade), range=2937, listeners=40
[00:22:44] [INFO] [SoundPropagation] Cleaned up 30 invalid listeners
[00:22:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[00:22:44] [INFO] [FragGrenade] Player found in blast radius at distance 121.8
[00:22:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:22:44] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:22:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:22:44] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:22:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:22:44] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:22:44] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:22:44] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:22:44] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:22:44] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:22:44] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:22:44] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:22:44] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:22:44] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:22:44] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:22:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:22:44] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:22:44] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:22:44] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:22:44] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:22:44] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:22:44] [INFO] [LastChance] Player died
[00:22:44] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 121.8
[00:22:44] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -4.6 degrees
[00:22:44] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 93.7 degrees
[00:22:44] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 186.7 degrees
[00:22:44] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 253.2 degrees
[00:22:44] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:22:44] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:22:44] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:22:44] [ENEMY] [Enemy1] Death animation component initialized
[00:22:44] [ENEMY] [Enemy2] Death animation component initialized
[00:22:44] [ENEMY] [Enemy3] Death animation component initialized
[00:22:44] [ENEMY] [Enemy4] Death animation component initialized
[00:22:44] [ENEMY] [Enemy5] Death animation component initialized
[00:22:44] [ENEMY] [Enemy6] Death animation component initialized
[00:22:44] [ENEMY] [Enemy7] Death animation component initialized
[00:22:44] [ENEMY] [Enemy8] Death animation component initialized
[00:22:44] [ENEMY] [Enemy9] Death animation component initialized
[00:22:44] [ENEMY] [Enemy10] Death animation component initialized
[00:22:44] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:22:44] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:22:44] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:22:44] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:22:44] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:22:44] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:22:44] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:22:44] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:22:44] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:22:44] [INFO] [ScoreManager] Level started with 10 enemies
[00:22:44] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:22:44] [ENEMY] [Enemy1] Registered as sound listener
[00:22:44] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:22:44] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:22:44] [ENEMY] [Enemy2] Registered as sound listener
[00:22:44] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:22:44] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:22:44] [ENEMY] [Enemy3] Registered as sound listener
[00:22:44] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:22:44] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:22:44] [ENEMY] [Enemy4] Registered as sound listener
[00:22:44] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:22:44] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:22:44] [ENEMY] [Enemy5] Registered as sound listener
[00:22:44] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:22:44] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:22:44] [ENEMY] [Enemy6] Registered as sound listener
[00:22:44] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:22:44] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:22:44] [ENEMY] [Enemy7] Registered as sound listener
[00:22:44] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:22:44] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:22:44] [ENEMY] [Enemy8] Registered as sound listener
[00:22:44] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:22:44] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:22:44] [ENEMY] [Enemy9] Registered as sound listener
[00:22:44] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[00:22:44] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:22:44] [ENEMY] [Enemy10] Registered as sound listener
[00:22:44] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:22:44] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:22:44] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:22:44] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:22:44] [INFO] [LastChance] Found player: Player
[00:22:44] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:22:44] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:22:44] [INFO] [LastChance] Connected to player Died signal (C#)
[00:22:44] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:22:44] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:22:44] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:22:44] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:22:44] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:22:44] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1047.5583, 1299.4248)
[00:22:44] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:22:44] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:22:44] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:22:44] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:22:44] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:22:44] [INFO] [Player.Grenade] Step 1 complete! Drag: (212.66064, 76.14111)
[00:22:44] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:22:44] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:22:44] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:22:44] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:22:45] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:22:45] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:22:45] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:22:45] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (715.90985, -277.47485) (767,8 px/s), Swing distance: 76,7
[00:22:45] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,3697569
[00:22:45] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (715.9099, -277.4749), Swing: 76.7, Transfer: 0.31, Final speed: 112.2
[00:22:45] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:22:45] [INFO] [Player.Grenade] Thrown! Velocity: 767,8, Swing: 76,7
[00:22:45] [INFO] [Player.Grenade] State reset to IDLE
[00:22:45] [INFO] [Player.Grenade] Player rotation restored to 0
[00:22:45] [INFO] [GrenadeBase] Grenade landed at (518.0096, 1223.641)
[00:22:45] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:22:45] [INFO] [GrenadeBase] EXPLODED at (518.0096, 1223.641)!
[00:22:45] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(518.0096, 1223.641), source=NEUTRAL (FragGrenade), range=2937, listeners=20
[00:22:45] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:22:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[00:22:45] [INFO] [FragGrenade] Player found in blast radius at distance 72.9
[00:22:45] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[00:22:45] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[00:22:45] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:22:45] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:22:45] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:22:45] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:22:45] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:22:45] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:22:45] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:22:45] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:22:45] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:22:45] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:22:45] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:22:45] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:22:45] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:22:45] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:22:45] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:22:45] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:22:45] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:22:45] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:22:45] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:22:45] [INFO] [LastChance] Player died
[00:22:45] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 72.9
[00:22:45] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -7.9 degrees
[00:22:45] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 96.7 degrees
[00:22:45] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 168.8 degrees
[00:22:45] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 271.0 degrees
[00:22:45] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:22:45] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:22:46] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:22:46] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:22:46] [ENEMY] [Enemy1] Death animation component initialized
[00:22:46] [ENEMY] [Enemy2] Death animation component initialized
[00:22:46] [ENEMY] [Enemy3] Death animation component initialized
[00:22:46] [ENEMY] [Enemy4] Death animation component initialized
[00:22:46] [ENEMY] [Enemy5] Death animation component initialized
[00:22:46] [ENEMY] [Enemy6] Death animation component initialized
[00:22:46] [ENEMY] [Enemy7] Death animation component initialized
[00:22:46] [ENEMY] [Enemy8] Death animation component initialized
[00:22:46] [ENEMY] [Enemy9] Death animation component initialized
[00:22:46] [ENEMY] [Enemy10] Death animation component initialized
[00:22:46] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:22:46] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:22:46] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:22:46] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:22:46] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:22:46] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:22:46] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:22:46] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:22:46] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:22:46] [INFO] [ScoreManager] Level started with 10 enemies
[00:22:46] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:22:46] [ENEMY] [Enemy1] Registered as sound listener
[00:22:46] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[00:22:46] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:22:46] [ENEMY] [Enemy2] Registered as sound listener
[00:22:46] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[00:22:46] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:22:46] [ENEMY] [Enemy3] Registered as sound listener
[00:22:46] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:22:46] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:22:46] [ENEMY] [Enemy4] Registered as sound listener
[00:22:46] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:22:46] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:22:46] [ENEMY] [Enemy5] Registered as sound listener
[00:22:46] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:22:46] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:22:46] [ENEMY] [Enemy6] Registered as sound listener
[00:22:46] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:22:46] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:22:46] [ENEMY] [Enemy7] Registered as sound listener
[00:22:46] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:22:46] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:22:46] [ENEMY] [Enemy8] Registered as sound listener
[00:22:46] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:22:46] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:22:46] [ENEMY] [Enemy9] Registered as sound listener
[00:22:46] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:22:46] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:22:46] [ENEMY] [Enemy10] Registered as sound listener
[00:22:46] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[00:22:46] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:22:46] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:22:46] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:22:46] [INFO] [LastChance] Found player: Player
[00:22:46] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:22:46] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:22:46] [INFO] [LastChance] Connected to player Died signal (C#)
[00:22:46] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:22:46] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:22:46] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:22:46] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:22:46] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:22:46] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (999.11847, 1322.8015)
[00:22:46] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:22:46] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:22:46] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:22:46] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:22:46] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:22:46] [INFO] [Player.Grenade] Step 1 complete! Drag: (257.3404, 92.170654)
[00:22:46] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:22:46] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:22:46] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:22:46] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:22:46] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:22:46] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:22:46] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:22:46] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2712.0063, -158.6273) (2716,6 px/s), Swing distance: 230,7
[00:22:46] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,05842419
[00:22:46] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2712.006, -158.6273), Swing: 230.7, Transfer: 0.93, Final speed: 1186.5
[00:22:46] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:22:46] [INFO] [Player.Grenade] Thrown! Velocity: 2716,6, Swing: 230,7
[00:22:46] [INFO] [Player.Grenade] State reset to IDLE
[00:22:47] [INFO] [Player.Grenade] Player rotation restored to 0
[00:22:47] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:22:47] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:22:48] [INFO] [GrenadeBase] Grenade landed at (1169.893, 1207.892)
[00:22:48] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:22:48] [INFO] [GrenadeBase] EXPLODED at (1169.893, 1207.892)!
[00:22:48] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1169.893, 1207.892), source=NEUTRAL (FragGrenade), range=2937, listeners=20
[00:22:48] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:22:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[00:22:48] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -3.9 degrees
[00:22:48] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 106.9 degrees
[00:22:48] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 189.3 degrees
[00:22:48] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 260.1 degrees
[00:22:49] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:22:49] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:22:49] [ENEMY] [Enemy1] Death animation component initialized
[00:22:49] [ENEMY] [Enemy2] Death animation component initialized
[00:22:49] [ENEMY] [Enemy3] Death animation component initialized
[00:22:49] [ENEMY] [Enemy4] Death animation component initialized
[00:22:49] [ENEMY] [Enemy5] Death animation component initialized
[00:22:49] [ENEMY] [Enemy6] Death animation component initialized
[00:22:49] [ENEMY] [Enemy7] Death animation component initialized
[00:22:49] [ENEMY] [Enemy8] Death animation component initialized
[00:22:49] [ENEMY] [Enemy9] Death animation component initialized
[00:22:49] [ENEMY] [Enemy10] Death animation component initialized
[00:22:49] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:22:49] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:22:49] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:22:49] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:22:49] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:22:49] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:22:49] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:22:49] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:22:49] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:22:49] [INFO] [ScoreManager] Level started with 10 enemies
[00:22:49] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:22:49] [ENEMY] [Enemy1] Registered as sound listener
[00:22:49] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:22:49] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:22:49] [ENEMY] [Enemy2] Registered as sound listener
[00:22:49] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:22:49] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:22:49] [ENEMY] [Enemy3] Registered as sound listener
[00:22:49] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:22:49] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:22:49] [ENEMY] [Enemy4] Registered as sound listener
[00:22:49] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:22:49] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:22:49] [ENEMY] [Enemy5] Registered as sound listener
[00:22:49] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:22:49] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:22:49] [ENEMY] [Enemy6] Registered as sound listener
[00:22:49] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:22:49] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:22:49] [ENEMY] [Enemy7] Registered as sound listener
[00:22:49] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:22:49] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:22:49] [ENEMY] [Enemy8] Registered as sound listener
[00:22:49] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:22:49] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:22:49] [ENEMY] [Enemy9] Registered as sound listener
[00:22:49] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[00:22:49] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:22:49] [ENEMY] [Enemy10] Registered as sound listener
[00:22:49] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:22:49] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:22:49] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:22:49] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:22:49] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:22:49] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:22:49] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:22:49] [INFO] [LastChance] Found player: Player
[00:22:49] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:22:49] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:22:49] [INFO] [LastChance] Connected to player Died signal (C#)
[00:22:49] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:22:49] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:22:49] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (735.5749, 1357.5325)
[00:22:49] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:22:49] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:22:49] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:22:49] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:22:49] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:22:49] [INFO] [Player.Grenade] Step 1 complete! Drag: (526.29254, 44.081665)
[00:22:49] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:22:49] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:22:49] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:22:49] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:22:49] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:22:49] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:22:50] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:22:50] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1943.6237, 124.4126) (1947,6 px/s), Swing distance: 276,6
[00:22:50] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,06392343
[00:22:50] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1943.624, 124.4126), Swing: 276.6, Transfer: 1.00, Final speed: 918.1
[00:22:50] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:22:50] [INFO] [Player.Grenade] Thrown! Velocity: 1947,6, Swing: 276,6
[00:22:50] [INFO] [Player.Grenade] State reset to IDLE
[00:22:50] [INFO] [Player.Grenade] Player rotation restored to 0
[00:22:50] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:22:50] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:22:51] [INFO] [GrenadeBase] Grenade landed at (977.2286, 1283.749)
[00:22:51] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:22:51] [INFO] [GrenadeBase] EXPLODED at (977.2286, 1283.749)!
[00:22:51] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(977.2286, 1283.749), source=NEUTRAL (FragGrenade), range=2937, listeners=20
[00:22:51] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:22:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[00:22:51] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -9.0 degrees
[00:22:51] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 83.7 degrees
[00:22:51] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 199.5 degrees
[00:22:51] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 253.7 degrees
[00:22:51] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:22:51] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:22:51] [ENEMY] [Enemy1] Death animation component initialized
[00:22:51] [ENEMY] [Enemy2] Death animation component initialized
[00:22:51] [ENEMY] [Enemy3] Death animation component initialized
[00:22:51] [ENEMY] [Enemy4] Death animation component initialized
[00:22:51] [ENEMY] [Enemy5] Death animation component initialized
[00:22:51] [ENEMY] [Enemy6] Death animation component initialized
[00:22:51] [ENEMY] [Enemy7] Death animation component initialized
[00:22:51] [ENEMY] [Enemy8] Death animation component initialized
[00:22:51] [ENEMY] [Enemy9] Death animation component initialized
[00:22:51] [ENEMY] [Enemy10] Death animation component initialized
[00:22:51] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:22:51] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:22:51] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:22:51] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:22:51] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:22:51] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:22:51] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:22:51] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:22:51] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:22:51] [INFO] [ScoreManager] Level started with 10 enemies
[00:22:51] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:22:51] [ENEMY] [Enemy1] Registered as sound listener
[00:22:51] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:22:51] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:22:51] [ENEMY] [Enemy2] Registered as sound listener
[00:22:51] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:22:51] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:22:51] [ENEMY] [Enemy3] Registered as sound listener
[00:22:51] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:22:51] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:22:51] [ENEMY] [Enemy4] Registered as sound listener
[00:22:51] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:22:51] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:22:51] [ENEMY] [Enemy5] Registered as sound listener
[00:22:51] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:22:51] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:22:51] [ENEMY] [Enemy6] Registered as sound listener
[00:22:51] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[00:22:51] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:22:51] [ENEMY] [Enemy7] Registered as sound listener
[00:22:51] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[00:22:51] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:22:51] [ENEMY] [Enemy8] Registered as sound listener
[00:22:51] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:22:51] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:22:51] [ENEMY] [Enemy9] Registered as sound listener
[00:22:51] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:22:51] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:22:51] [ENEMY] [Enemy10] Registered as sound listener
[00:22:51] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:22:51] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:22:51] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:22:51] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:22:51] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:22:51] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:22:51] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:22:51] [INFO] [LastChance] Found player: Player
[00:22:51] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:22:51] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:22:51] [INFO] [LastChance] Connected to player Died signal (C#)
[00:22:51] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:22:51] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:22:52] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (711.7429, 1497.7922)
[00:22:52] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:22:52] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:22:52] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:22:52] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:22:52] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:22:52] [INFO] [Player.Grenade] Step 1 complete! Drag: (307.6454, 13.358032)
[00:22:52] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:22:52] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:22:52] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:22:52] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:22:52] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:22:52] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:22:53] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:22:53] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (749.7435, -275.5096) (798,8 px/s), Swing distance: 66,4
[00:22:53] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,35215434
[00:22:53] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (749.7435, -275.5096), Swing: 66.4, Transfer: 0.27, Final speed: 101.1
[00:22:53] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:22:53] [INFO] [Player.Grenade] Thrown! Velocity: 798,8, Swing: 66,4
[00:22:53] [INFO] [Player.Grenade] State reset to IDLE
[00:22:53] [INFO] [GrenadeBase] Grenade landed at (515.4935, 1225.933)
[00:22:53] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:22:53] [INFO] [GrenadeBase] EXPLODED at (515.4935, 1225.933)!
[00:22:53] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(515.4935, 1225.933), source=NEUTRAL (FragGrenade), range=2937, listeners=20
[00:22:53] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:22:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[00:22:53] [INFO] [FragGrenade] Player found in blast radius at distance 69.8
[00:22:53] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:22:53] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:22:53] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:22:53] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:22:53] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:22:53] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:22:53] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:22:53] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:22:53] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:22:53] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:22:53] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:22:53] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:22:53] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:22:53] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:22:53] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:22:53] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:22:53] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:22:53] [INFO] [LastChance] Player died
[00:22:53] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 69.8
[00:22:53] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -4.5 degrees
[00:22:53] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 97.7 degrees
[00:22:53] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 190.8 degrees
[00:22:53] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 275.4 degrees
[00:22:53] [INFO] [Player.Grenade] Player rotation restored to 0
[00:22:53] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:22:53] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:22:53] [ENEMY] [Enemy4] Hit taken, health: 2/3
[00:22:54] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:22:54] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:22:54] [ENEMY] [Enemy1] Death animation component initialized
[00:22:54] [ENEMY] [Enemy2] Death animation component initialized
[00:22:54] [ENEMY] [Enemy3] Death animation component initialized
[00:22:54] [ENEMY] [Enemy4] Death animation component initialized
[00:22:54] [ENEMY] [Enemy5] Death animation component initialized
[00:22:54] [ENEMY] [Enemy6] Death animation component initialized
[00:22:54] [ENEMY] [Enemy7] Death animation component initialized
[00:22:54] [ENEMY] [Enemy8] Death animation component initialized
[00:22:54] [ENEMY] [Enemy9] Death animation component initialized
[00:22:54] [ENEMY] [Enemy10] Death animation component initialized
[00:22:54] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:22:54] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:22:54] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:22:54] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:22:54] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:22:54] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:22:54] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:22:54] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:22:54] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:22:54] [INFO] [ScoreManager] Level started with 10 enemies
[00:22:54] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:22:54] [ENEMY] [Enemy1] Registered as sound listener
[00:22:54] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:22:54] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:22:54] [ENEMY] [Enemy2] Registered as sound listener
[00:22:54] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[00:22:54] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:22:54] [ENEMY] [Enemy3] Registered as sound listener
[00:22:54] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:22:54] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:22:54] [ENEMY] [Enemy4] Registered as sound listener
[00:22:54] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[00:22:54] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:22:54] [ENEMY] [Enemy5] Registered as sound listener
[00:22:54] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[00:22:54] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:22:54] [ENEMY] [Enemy6] Registered as sound listener
[00:22:54] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[00:22:54] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:22:54] [ENEMY] [Enemy7] Registered as sound listener
[00:22:54] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:22:54] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:22:54] [ENEMY] [Enemy8] Registered as sound listener
[00:22:54] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:22:54] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:22:54] [ENEMY] [Enemy9] Registered as sound listener
[00:22:54] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:22:54] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:22:54] [ENEMY] [Enemy10] Registered as sound listener
[00:22:54] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:22:54] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:22:54] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:22:54] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:22:54] [INFO] [LastChance] Found player: Player
[00:22:54] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:22:54] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:22:54] [INFO] [LastChance] Connected to player Died signal (C#)
[00:22:54] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:22:54] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:22:54] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:22:56] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:22:56] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:22:56] [ENEMY] [Enemy1] Death animation component initialized
[00:22:56] [ENEMY] [Enemy2] Death animation component initialized
[00:22:56] [ENEMY] [Enemy3] Death animation component initialized
[00:22:56] [ENEMY] [Enemy4] Death animation component initialized
[00:22:56] [ENEMY] [Enemy5] Death animation component initialized
[00:22:56] [ENEMY] [Enemy6] Death animation component initialized
[00:22:56] [ENEMY] [Enemy7] Death animation component initialized
[00:22:56] [ENEMY] [Enemy8] Death animation component initialized
[00:22:56] [ENEMY] [Enemy9] Death animation component initialized
[00:22:56] [ENEMY] [Enemy10] Death animation component initialized
[00:22:56] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:22:56] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:22:56] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:22:56] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:22:56] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:22:56] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:22:56] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:22:56] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:22:56] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:22:56] [INFO] [ScoreManager] Level started with 10 enemies
[00:22:56] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[00:22:56] [ENEMY] [Enemy1] Registered as sound listener
[00:22:56] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[00:22:56] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[00:22:56] [ENEMY] [Enemy2] Registered as sound listener
[00:22:56] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:22:56] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[00:22:56] [ENEMY] [Enemy3] Registered as sound listener
[00:22:56] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[00:22:56] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[00:22:56] [ENEMY] [Enemy4] Registered as sound listener
[00:22:56] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:22:56] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[00:22:56] [ENEMY] [Enemy5] Registered as sound listener
[00:22:56] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[00:22:56] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[00:22:56] [ENEMY] [Enemy6] Registered as sound listener
[00:22:56] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:22:56] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[00:22:56] [ENEMY] [Enemy7] Registered as sound listener
[00:22:56] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:22:56] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[00:22:56] [ENEMY] [Enemy8] Registered as sound listener
[00:22:56] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[00:22:56] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[00:22:56] [ENEMY] [Enemy9] Registered as sound listener
[00:22:56] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:22:56] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[00:22:56] [ENEMY] [Enemy10] Registered as sound listener
[00:22:56] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[00:22:56] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:22:56] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:22:56] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:22:56] [INFO] [LastChance] Found player: Player
[00:22:56] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:22:56] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:22:56] [INFO] [LastChance] Connected to player Died signal (C#)
[00:22:56] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:22:56] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:22:56] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:22:56] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:22:56] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:22:57] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (856.8718, 1352.8572)
[00:22:57] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:22:57] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:22:57] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:22:57] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:22:57] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:22:57] [INFO] [Player.Grenade] Step 1 complete! Drag: (419.94617, -9.350708)
[00:22:57] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:22:57] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:22:57] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:22:57] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:22:57] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:22:57] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:22:58] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:22:58] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (7789.4126, 939.97675) (7845,9 px/s), Swing distance: 727,0
[00:22:58] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,12009295
[00:22:58] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (7789.413, 939.9767), Swing: 727.0, Transfer: 1.00, Final speed: 1186.5
[00:22:58] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:22:58] [INFO] [Player.Grenade] Thrown! Velocity: 7845,9, Swing: 727,0
[00:22:58] [INFO] [Player.Grenade] State reset to IDLE
[00:22:58] [INFO] [Player.Grenade] Player rotation restored to 0
[00:22:58] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:22:58] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:22:59] [INFO] [GrenadeBase] Grenade landed at (1165.928, 1336.394)
[00:22:59] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:22:59] [INFO] [GrenadeBase] EXPLODED at (1165.928, 1336.394)!
[00:22:59] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1165.928, 1336.394), source=NEUTRAL (FragGrenade), range=2937, listeners=30
[00:22:59] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[00:22:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[00:22:59] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -13.0 degrees
[00:22:59] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 106.3 degrees
[00:22:59] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 173.8 degrees
[00:22:59] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 252.1 degrees
[00:23:00] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:23:00] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:23:00] [ENEMY] [Enemy1] Death animation component initialized
[00:23:00] [ENEMY] [Enemy2] Death animation component initialized
[00:23:00] [ENEMY] [Enemy3] Death animation component initialized
[00:23:00] [ENEMY] [Enemy4] Death animation component initialized
[00:23:00] [ENEMY] [Enemy5] Death animation component initialized
[00:23:00] [ENEMY] [Enemy6] Death animation component initialized
[00:23:00] [ENEMY] [Enemy7] Death animation component initialized
[00:23:00] [ENEMY] [Enemy8] Death animation component initialized
[00:23:00] [ENEMY] [Enemy9] Death animation component initialized
[00:23:00] [ENEMY] [Enemy10] Death animation component initialized
[00:23:00] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:23:00] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:23:00] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:23:00] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:23:00] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:23:00] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:23:00] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:23:00] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:23:00] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:23:00] [INFO] [ScoreManager] Level started with 10 enemies
[00:23:00] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:23:00] [ENEMY] [Enemy1] Registered as sound listener
[00:23:00] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:23:00] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:23:00] [ENEMY] [Enemy2] Registered as sound listener
[00:23:00] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:23:00] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:23:00] [ENEMY] [Enemy3] Registered as sound listener
[00:23:00] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[00:23:00] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:23:00] [ENEMY] [Enemy4] Registered as sound listener
[00:23:00] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[00:23:00] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:23:00] [ENEMY] [Enemy5] Registered as sound listener
[00:23:00] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:23:00] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:23:00] [ENEMY] [Enemy6] Registered as sound listener
[00:23:00] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:23:00] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:23:00] [ENEMY] [Enemy7] Registered as sound listener
[00:23:00] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[00:23:00] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:23:00] [ENEMY] [Enemy8] Registered as sound listener
[00:23:00] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[00:23:00] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:23:00] [ENEMY] [Enemy9] Registered as sound listener
[00:23:00] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:23:00] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:23:00] [ENEMY] [Enemy10] Registered as sound listener
[00:23:00] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:23:00] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:23:00] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:23:00] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:23:00] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:23:00] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:23:00] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:23:00] [INFO] [LastChance] Found player: Player
[00:23:00] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:23:00] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:23:00] [INFO] [LastChance] Connected to player Died signal (C#)
[00:23:01] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:01] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:01] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1014.0574, 1321.4657)
[00:23:01] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:01] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:01] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:01] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:23:01] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:01] [INFO] [Player.Grenade] Step 1 complete! Drag: (265.07983, -9.350708)
[00:23:01] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:01] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:02] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:02] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:02] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:02] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:02] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:02] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (7315.2905, -57.95144) (7315,5 px/s), Swing distance: 610,3
[00:23:02] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,007921794
[00:23:02] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (7315.291, -57.95144), Swing: 610.3, Transfer: 1.00, Final speed: 1186.5
[00:23:02] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:02] [INFO] [Player.Grenade] Thrown! Velocity: 7315,5, Swing: 610,3
[00:23:02] [INFO] [Player.Grenade] State reset to IDLE
[00:23:02] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:02] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:03] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:23:04] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:23:04] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:23:04] [ENEMY] [Enemy1] Death animation component initialized
[00:23:04] [ENEMY] [Enemy2] Death animation component initialized
[00:23:04] [ENEMY] [Enemy3] Death animation component initialized
[00:23:04] [ENEMY] [Enemy4] Death animation component initialized
[00:23:04] [ENEMY] [Enemy5] Death animation component initialized
[00:23:04] [ENEMY] [Enemy6] Death animation component initialized
[00:23:04] [ENEMY] [Enemy7] Death animation component initialized
[00:23:04] [ENEMY] [Enemy8] Death animation component initialized
[00:23:04] [ENEMY] [Enemy9] Death animation component initialized
[00:23:04] [ENEMY] [Enemy10] Death animation component initialized
[00:23:04] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:23:04] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:23:04] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:23:04] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:23:04] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:23:04] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:23:04] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:23:04] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:23:04] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:23:04] [INFO] [ScoreManager] Level started with 10 enemies
[00:23:04] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[00:23:04] [ENEMY] [Enemy1] Registered as sound listener
[00:23:04] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[00:23:04] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[00:23:04] [ENEMY] [Enemy2] Registered as sound listener
[00:23:04] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[00:23:04] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[00:23:04] [ENEMY] [Enemy3] Registered as sound listener
[00:23:04] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[00:23:04] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[00:23:04] [ENEMY] [Enemy4] Registered as sound listener
[00:23:04] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[00:23:04] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[00:23:04] [ENEMY] [Enemy5] Registered as sound listener
[00:23:04] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[00:23:04] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[00:23:04] [ENEMY] [Enemy6] Registered as sound listener
[00:23:04] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[00:23:04] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[00:23:04] [ENEMY] [Enemy7] Registered as sound listener
[00:23:04] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[00:23:04] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[00:23:04] [ENEMY] [Enemy8] Registered as sound listener
[00:23:04] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[00:23:04] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[00:23:04] [ENEMY] [Enemy9] Registered as sound listener
[00:23:04] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[00:23:04] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[00:23:04] [ENEMY] [Enemy10] Registered as sound listener
[00:23:04] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[00:23:04] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:23:04] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:23:04] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:23:04] [INFO] [LastChance] Found player: Player
[00:23:04] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:23:04] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:23:04] [INFO] [LastChance] Connected to player Died signal (C#)
[00:23:04] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:23:04] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:23:04] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:23:04] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:04] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:04] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (663.36334, 1272.7087)
[00:23:04] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:04] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:04] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:04] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:23:04] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:04] [INFO] [Player.Grenade] Step 1 complete! Drag: (613.45465, 92.83862)
[00:23:04] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:04] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:05] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:05] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:05] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:05] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:05] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:05] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3446.44, -183.6746) (3451,3 px/s), Swing distance: 300,0
[00:23:05] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,05324364
[00:23:05] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3446.44, -183.6746), Swing: 300.0, Transfer: 1.00, Final speed: 1186.5
[00:23:05] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:05] [INFO] [Player.Grenade] Thrown! Velocity: 3451,3, Swing: 300,0
[00:23:05] [INFO] [Player.Grenade] State reset to IDLE
[00:23:05] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:05] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:06] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:23:07] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:23:07] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:23:07] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[00:23:07] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[00:23:07] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:23:07] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:23:07] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:23:07] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:23:07] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:23:07] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 2/4
[00:23:07] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:23:07] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:23:07] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:23:07] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:23:07] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:23:07] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:23:07] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:23:07] [INFO] [LastChance] Found player: Player
[00:23:07] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:23:07] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:23:07] [INFO] [LastChance] Connected to player Died signal (C#)
[00:23:08] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:08] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:08] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (568.3021, 372.02228)
[00:23:08] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:08] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:08] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:08] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:23:08] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:08] [INFO] [Player.Grenade] Step 1 complete! Drag: (699.01917, 58.775513)
[00:23:08] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:08] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:08] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:08] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:08] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:08] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:08] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:08] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3895.6108, 990.06885) (4019,5 px/s), Swing distance: 386,0
[00:23:08] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,24888057
[00:23:08] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3895.611, 990.0688), Swing: 386.0, Transfer: 1.00, Final speed: 1186.5
[00:23:08] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:08] [INFO] [Player.Grenade] Thrown! Velocity: 4019,5, Swing: 386,0
[00:23:08] [INFO] [Player.Grenade] State reset to IDLE
[00:23:09] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:09] [INFO] [GrenadeBase] Collision detected with Obstacle2 (type: StaticBody2D)
[00:23:09] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle2, triggering explosion
[00:23:09] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:09] [INFO] [GrenadeBase] EXPLODED at (390.9484, 413.4694)!
[00:23:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(390.9484, 413.4694), source=NEUTRAL (FragGrenade), range=2937, listeners=30
[00:23:09] [INFO] [SoundPropagation] Cleaned up 30 invalid listeners
[00:23:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:09] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -17.2 degrees
[00:23:09] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 102.4 degrees
[00:23:09] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 193.3 degrees
[00:23:09] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 264.6 degrees
[00:23:09] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:09] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:23:09] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[00:23:09] [INFO] [PenultimateHit] Starting penultimate hit effect:
[00:23:09] [INFO] [PenultimateHit]   - Time scale: 0.10
[00:23:09] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[00:23:09] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[00:23:09] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[00:23:09] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[00:23:09] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[00:23:09] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[00:23:09] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:23:09] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:09] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:10] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (752.6615, 433.4694)
[00:23:10] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:10] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:10] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:10] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:23:10] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:10] [INFO] [Player.Grenade] Step 1 complete! Drag: (527.10803, 46.753265)
[00:23:10] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:10] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:10] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:10] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:10] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:10] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, 0) (0,0 px/s), Swing distance: 0,0
[00:23:10] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,017453019
[00:23:10] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, 0), Swing: 0.0, Transfer: 0.00, Final speed: 0.0
[00:23:10] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:10] [INFO] [Player.Grenade] Thrown! Velocity: 0,0, Swing: 0,0
[00:23:10] [INFO] [Player.Grenade] State reset to IDLE
[00:23:11] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:11] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:12] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (728.7576, 364.00742)
[00:23:12] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:12] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:12] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:12] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:23:12] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:12] [INFO] [Player.Grenade] Step 1 complete! Drag: (551.15436, -4.007416)
[00:23:12] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[00:23:12] [INFO] [PenultimateHit] Ending penultimate hit effect
[00:23:12] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[00:23:12] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[00:23:12] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:12] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:12] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:12] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:12] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:12] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:12] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:12] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:12] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (4755.023, 15.715475) (4755,0 px/s), Swing distance: 404,9
[00:23:12] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,003305014
[00:23:12] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (4755.023, 15.71548), Swing: 404.9, Transfer: 1.00, Final speed: 1186.5
[00:23:12] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:12] [INFO] [Player.Grenade] Thrown! Velocity: 4755,0, Swing: 404,9
[00:23:12] [INFO] [Player.Grenade] State reset to IDLE
[00:23:13] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:13] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:13] [INFO] [GrenadeBase] Collision detected with Obstacle3 (type: StaticBody2D)
[00:23:13] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle3, triggering explosion
[00:23:13] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:13] [INFO] [GrenadeBase] EXPLODED at (474.3774, 361.1364)!
[00:23:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(474.3774, 361.1364), source=NEUTRAL (@RigidBody2D@28695), range=2937, listeners=0
[00:23:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:13] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 1.5 degrees
[00:23:13] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 83.0 degrees
[00:23:13] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 166.6 degrees
[00:23:13] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 255.3 degrees
[00:23:13] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[00:23:13] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[00:23:13] [INFO] [PenultimateHit] Player died - ending penultimate effect
[00:23:13] [INFO] [LastChance] Player died
[00:23:13] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:23:13] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:13] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:13] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1051.5237, 241.78108)
[00:23:13] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:13] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:13] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:13] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:23:13] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:13] [INFO] [Player.Grenade] Step 1 complete! Drag: (228.47595, 85.49165)
[00:23:13] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:13] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:13] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:13] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:14] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:14] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:14] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:14] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3921.896, 0) (3921,9 px/s), Swing distance: 326,0
[00:23:14] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0
[00:23:14] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3921.896, 0), Swing: 326.0, Transfer: 1.00, Final speed: 1186.5
[00:23:14] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:14] [INFO] [Player.Grenade] Thrown! Velocity: 3921,9, Swing: 326,0
[00:23:14] [INFO] [Player.Grenade] State reset to IDLE
[00:23:14] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:14] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:14] [INFO] [GrenadeBase] Collision detected with Obstacle3 (type: StaticBody2D)
[00:23:14] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle3, triggering explosion
[00:23:14] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:14] [INFO] [GrenadeBase] EXPLODED at (474.3777, 360)!
[00:23:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(474.3777, 360), source=NEUTRAL (@RigidBody2D@28708), range=2937, listeners=0
[00:23:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:14] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 7.7 degrees
[00:23:14] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 109.9 degrees
[00:23:14] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 188.3 degrees
[00:23:14] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 277.8 degrees
[00:23:14] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:14] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:15] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1117.6615, 308.57144)
[00:23:15] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:15] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:15] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:15] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:23:15] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:15] [INFO] [Player.Grenade] Step 1 complete! Drag: (162.33813, 31.391449)
[00:23:15] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:15] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:15] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:15] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:15] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:15] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:15] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:15] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3238.1187, 1531.3217) (3581,9 px/s), Swing distance: 402,8
[00:23:15] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,44173738
[00:23:15] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3238.119, 1531.322), Swing: 402.8, Transfer: 1.00, Final speed: 1186.5
[00:23:15] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:15] [INFO] [Player.Grenade] Thrown! Velocity: 3581,9, Swing: 402,8
[00:23:15] [INFO] [Player.Grenade] State reset to IDLE
[00:23:16] [INFO] [GrenadeBase] Collision detected with Obstacle2 (type: StaticBody2D)
[00:23:16] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle2, triggering explosion
[00:23:16] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:16] [INFO] [GrenadeBase] EXPLODED at (289.9109, 437.3599)!
[00:23:16] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(289.9109, 437.3599), source=NEUTRAL (@RigidBody2D@28726), range=2937, listeners=0
[00:23:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:16] [INFO] [FragGrenade] Player found in blast radius at distance 159.9
[00:23:16] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 159.9
[00:23:16] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 19.9 degrees
[00:23:16] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 107.2 degrees
[00:23:16] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 165.2 degrees
[00:23:16] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 274.2 degrees
[00:23:16] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:16] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:16] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:23:16] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:16] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:16] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (548.47565, 364.00742)
[00:23:16] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:16] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:16] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:16] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:23:16] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:16] [INFO] [Player.Grenade] Step 1 complete! Drag: (585.88727, 56.77182)
[00:23:16] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:16] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:16] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:16] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:17] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:17] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:17] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:17] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2875.1062, 15.715475) (2875,1 px/s), Swing distance: 260,5
[00:23:17] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,005465996
[00:23:17] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2875.106, 15.71548), Swing: 260.5, Transfer: 1.00, Final speed: 1186.5
[00:23:17] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:17] [INFO] [Player.Grenade] Thrown! Velocity: 2875,1, Swing: 260,5
[00:23:17] [INFO] [Player.Grenade] State reset to IDLE
[00:23:17] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:17] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:17] [INFO] [GrenadeBase] Collision detected with Obstacle3 (type: StaticBody2D)
[00:23:17] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle3, triggering explosion
[00:23:17] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:17] [INFO] [GrenadeBase] EXPLODED at (474.3768, 361.8793)!
[00:23:17] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(474.3768, 361.8793), source=NEUTRAL (@RigidBody2D@28742), range=2937, listeners=0
[00:23:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:17] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 7.2 degrees
[00:23:17] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 93.6 degrees
[00:23:17] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 161.2 degrees
[00:23:17] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 281.7 degrees
[00:23:18] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:18] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:18] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1072.2335, 366.67905)
[00:23:18] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:18] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:18] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:18] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:23:18] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:18] [INFO] [Player.Grenade] Step 1 complete! Drag: (207.76611, 48.08905)
[00:23:18] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:18] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:18] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:18] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:18] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:18] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:20] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:20] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2886.404, -387.97357) (2912,4 px/s), Swing distance: 354,7
[00:23:20] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,13361333
[00:23:20] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2886.404, -387.9736), Swing: 354.7, Transfer: 1.00, Final speed: 1186.5
[00:23:20] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:20] [INFO] [Player.Grenade] Thrown! Velocity: 2912,4, Swing: 354,7
[00:23:20] [INFO] [Player.Grenade] State reset to IDLE
[00:23:20] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:20] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:20] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:23:21] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:21] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:21] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1005.4276, 277.17996)
[00:23:21] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:21] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:21] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:21] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:23:21] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:21] [INFO] [Player.Grenade] Step 1 complete! Drag: (274.57202, -0.6679077)
[00:23:21] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:21] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:21] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:21] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:21] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:21] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:21] [INFO] [GrenadeBase] Grenade landed at (864.6952, 263.9348)
[00:23:21] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:21] [INFO] [GrenadeBase] EXPLODED at (864.6952, 263.9348)!
[00:23:21] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(864.6952, 263.9348), source=NEUTRAL (@RigidBody2D@28755), range=2937, listeners=0
[00:23:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:21] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -17.1 degrees
[00:23:21] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 79.6 degrees
[00:23:21] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 182.2 degrees
[00:23:21] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 270.9 degrees
[00:23:22] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:22] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3673.83, -1092.2186) (3832,7 px/s), Swing distance: 380,7
[00:23:22] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,28897512
[00:23:22] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3673.83, -1092.219), Swing: 380.7, Transfer: 1.00, Final speed: 1186.5
[00:23:22] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:22] [INFO] [Player.Grenade] Thrown! Velocity: 3832,7, Swing: 380,7
[00:23:22] [INFO] [Player.Grenade] State reset to IDLE
[00:23:22] [INFO] [GrenadeBase] Collision detected with Obstacle1 (type: StaticBody2D)
[00:23:22] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle1, triggering explosion
[00:23:22] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:22] [INFO] [GrenadeBase] EXPLODED at (358.1354, 306.8567)!
[00:23:22] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(358.1354, 306.8567), source=NEUTRAL (@RigidBody2D@28759), range=2937, listeners=0
[00:23:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:22] [INFO] [FragGrenade] Player found in blast radius at distance 214.8
[00:23:22] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 214.8
[00:23:22] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -18.6 degrees
[00:23:22] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 73.6 degrees
[00:23:22] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 193.3 degrees
[00:23:22] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 250.6 degrees
[00:23:22] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:22] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:22] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:22] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:22] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1098.2878, 147.60667)
[00:23:22] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:22] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:22] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:22] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:23:22] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:22] [INFO] [Player.Grenade] Step 1 complete! Drag: (181.71179, 72.13359)
[00:23:22] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:22] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:23] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:23] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:23] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:23] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:23] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:23] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3005.28, 1735.6217) (3470,5 px/s), Swing distance: 352,1
[00:23:23] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,52372915
[00:23:23] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3005.28, 1735.622), Swing: 352.1, Transfer: 1.00, Final speed: 1186.5
[00:23:23] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:23] [INFO] [Player.Grenade] Thrown! Velocity: 3470,5, Swing: 352,1
[00:23:23] [INFO] [Player.Grenade] State reset to IDLE
[00:23:23] [INFO] [GrenadeBase] Collision detected with Obstacle2 (type: StaticBody2D)
[00:23:23] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle2, triggering explosion
[00:23:23] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:23] [INFO] [GrenadeBase] EXPLODED at (288.8809, 450.4975)!
[00:23:23] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(288.8809, 450.4975), source=NEUTRAL (@RigidBody2D@28776), range=2937, listeners=0
[00:23:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:23] [INFO] [FragGrenade] Player found in blast radius at distance 165.8
[00:23:23] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 165.8
[00:23:23] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -9.0 degrees
[00:23:23] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 103.8 degrees
[00:23:23] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 165.2 degrees
[00:23:23] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 261.5 degrees
[00:23:23] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:23] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:23] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:23:23] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:23] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:24] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1141.0436, 284.52692)
[00:23:24] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:24] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:24] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:24] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:23:24] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:24] [INFO] [Player.Grenade] Step 1 complete! Drag: (138.95605, 96.84601)
[00:23:24] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:24] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:24] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:24] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:24] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:24] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:24] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:24] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2364.2378, 2237.4766) (3255,1 px/s), Swing distance: 346,1
[00:23:24] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,75785863
[00:23:24] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2364.238, 2237.477), Swing: 346.1, Transfer: 1.00, Final speed: 1186.5
[00:23:24] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:24] [INFO] [Player.Grenade] Thrown! Velocity: 3255,1, Swing: 346,1
[00:23:24] [INFO] [Player.Grenade] State reset to IDLE
[00:23:24] [INFO] [GrenadeBase] Collision detected with Obstacle2 (type: StaticBody2D)
[00:23:24] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle2, triggering explosion
[00:23:24] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:24] [INFO] [GrenadeBase] EXPLODED at (290.171, 506.9541)!
[00:23:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(290.171, 506.9541), source=NEUTRAL (@RigidBody2D@28788), range=2937, listeners=0
[00:23:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:24] [INFO] [FragGrenade] Player found in blast radius at distance 203.1
[00:23:24] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 203.1
[00:23:24] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -10.6 degrees
[00:23:24] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 108.7 degrees
[00:23:24] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 166.7 degrees
[00:23:24] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 260.4 degrees
[00:23:24] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:25] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:25] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:25] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:25] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1181.1271, 508.2746)
[00:23:25] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:25] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:25] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:25] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:23:25] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:25] [INFO] [Player.Grenade] Step 1 complete! Drag: (98.87256, 50.76068)
[00:23:25] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:25] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:25] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:25] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:25] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:25] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:26] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:26] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3944.4922, 1603.9506) (4258,1 px/s), Swing distance: 417,7
[00:23:26] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,38620916
[00:23:26] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3944.492, 1603.951), Swing: 417.7, Transfer: 1.00, Final speed: 1186.5
[00:23:26] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:26] [INFO] [Player.Grenade] Thrown! Velocity: 4258,1, Swing: 417,7
[00:23:26] [INFO] [Player.Grenade] State reset to IDLE
[00:23:26] [INFO] [GrenadeBase] Collision detected with Obstacle2 (type: StaticBody2D)
[00:23:26] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle2, triggering explosion
[00:23:26] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:26] [INFO] [GrenadeBase] EXPLODED at (320.1512, 413.6364)!
[00:23:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(320.1512, 413.6364), source=NEUTRAL (@RigidBody2D@28801), range=2937, listeners=0
[00:23:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:26] [INFO] [FragGrenade] Player found in blast radius at distance 178.4
[00:23:26] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 178.4
[00:23:26] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 2.7 degrees
[00:23:26] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 90.0 degrees
[00:23:26] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 185.2 degrees
[00:23:26] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 273.0 degrees
[00:23:26] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:26] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:26] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:26] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:26] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1155.0728, 593.0983)
[00:23:26] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:26] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:26] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:26] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:23:26] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:26] [INFO] [Player.Grenade] Step 1 complete! Drag: (124.92688, 70.79779)
[00:23:26] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:26] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:27] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:27] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:27] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:27] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:27] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:27] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (4100.699, 1376.0775) (4325,4 px/s), Swing distance: 419,2
[00:23:27] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,3237635
[00:23:27] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (4100.699, 1376.078), Swing: 419.2, Transfer: 1.00, Final speed: 1186.5
[00:23:27] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:27] [INFO] [Player.Grenade] Thrown! Velocity: 4325,4, Swing: 419,2
[00:23:27] [INFO] [Player.Grenade] State reset to IDLE
[00:23:27] [INFO] [GrenadeBase] Collision detected with Obstacle2 (type: StaticBody2D)
[00:23:27] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle2, triggering explosion
[00:23:27] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:27] [INFO] [GrenadeBase] EXPLODED at (340.2937, 413.1749)!
[00:23:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(340.2937, 413.1749), source=NEUTRAL (@RigidBody2D@28820), range=2937, listeners=0
[00:23:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:27] [INFO] [FragGrenade] Player found in blast radius at distance 197.6
[00:23:27] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 197.6
[00:23:27] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -18.4 degrees
[00:23:27] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 91.3 degrees
[00:23:27] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 171.4 degrees
[00:23:27] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 265.3 degrees
[00:23:27] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:27] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:27] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:27] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:28] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1124.342, 683.2653)
[00:23:28] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:28] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:28] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:28] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:23:28] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:28] [INFO] [Player.Grenade] Step 1 complete! Drag: (155.6576, -2.0037231)
[00:23:28] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:28] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:28] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:28] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:28] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:28] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:28] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:28] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (709.8114, 860.90753) (1115,8 px/s), Swing distance: 320,7
[00:23:28] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,8812986
[00:23:28] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (709.8114, 860.9075), Swing: 320.7, Transfer: 1.00, Final speed: 526.0
[00:23:28] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:28] [INFO] [Player.Grenade] Thrown! Velocity: 1115,8, Swing: 320,7
[00:23:28] [INFO] [Player.Grenade] State reset to IDLE
[00:23:29] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:29] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:29] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:29] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:29] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1249.937, 687.27277)
[00:23:29] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:29] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:29] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:29] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:23:29] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:29] [INFO] [Player.Grenade] Step 1 complete! Drag: (30.062622, 7.346924)
[00:23:29] [INFO] [GrenadeBase] Grenade landed at (322.0961, 568.7298)
[00:23:29] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:29] [INFO] [GrenadeBase] EXPLODED at (322.0961, 568.7298)!
[00:23:29] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(322.0961, 568.7298), source=NEUTRAL (@RigidBody2D@28836), range=2937, listeners=0
[00:23:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:29] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 9.4 degrees
[00:23:29] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 108.5 degrees
[00:23:29] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 183.9 degrees
[00:23:29] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 271.9 degrees
[00:23:29] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:29] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:30] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:30] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:30] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:30] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:30] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:30] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2534.6907, 1033.2858) (2737,2 px/s), Swing distance: 287,8
[00:23:30] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,3870902
[00:23:30] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2534.691, 1033.286), Swing: 287.8, Transfer: 1.00, Final speed: 1186.5
[00:23:30] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:30] [INFO] [Player.Grenade] Thrown! Velocity: 2737,2, Swing: 287,8
[00:23:30] [INFO] [Player.Grenade] State reset to IDLE
[00:23:30] [INFO] [GrenadeBase] Collision detected with Obstacle2 (type: StaticBody2D)
[00:23:30] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle2, triggering explosion
[00:23:30] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:30] [INFO] [GrenadeBase] EXPLODED at (320.0834, 413.6585)!
[00:23:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(320.0834, 413.6585), source=NEUTRAL (@RigidBody2D@28839), range=2937, listeners=0
[00:23:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:30] [INFO] [FragGrenade] Player found in blast radius at distance 178.3
[00:23:30] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 178.3
[00:23:30] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -8.1 degrees
[00:23:30] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 105.1 degrees
[00:23:30] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 172.0 degrees
[00:23:30] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 257.9 degrees
[00:23:30] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:30] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:30] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:30] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:31] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1269.9788, 675.9184)
[00:23:31] [INFO] [Player.Grenade] Step 1 failed: drag not far enough right (10,020874 < 30)
[00:23:31] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (979.37335, 589.75885)
[00:23:31] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:31] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:31] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:31] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:23:31] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:31] [INFO] [Player.Grenade] Step 1 complete! Drag: (300.62628, -24.712463)
[00:23:32] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:32] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:32] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:32] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:33] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:33] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:33] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:33] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2357.8525, -2655.8982) (3551,5 px/s), Swing distance: 380,6
[00:23:33] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,84477395
[00:23:33] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2357.853, -2655.898), Swing: 380.6, Transfer: 1.00, Final speed: 1186.5
[00:23:33] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:33] [INFO] [Player.Grenade] Thrown! Velocity: 3551,5, Swing: 380,6
[00:23:33] [INFO] [Player.Grenade] State reset to IDLE
[00:23:33] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:34] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:34] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:23:34] [INFO] [FragGrenade] Wall impact detected! Body: WallTop, triggering explosion
[00:23:34] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:34] [INFO] [GrenadeBase] EXPLODED at (410.9898, 75.47437)!
[00:23:34] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(410.9898, 75.47437), source=NEUTRAL (@RigidBody2D@28866), range=2937, listeners=0
[00:23:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:34] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 16.6 degrees
[00:23:34] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 106.8 degrees
[00:23:34] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 185.8 degrees
[00:23:34] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 260.6 degrees
[00:23:34] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:34] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:34] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1151.0645, 279.8516)
[00:23:34] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:34] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:34] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:34] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:23:34] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:34] [INFO] [Player.Grenade] Step 1 complete! Drag: (128.93518, -8.68277)
[00:23:34] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:34] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:34] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:34] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:34] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:34] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:35] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:35] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2553.3582, -530.8851) (2608,0 px/s), Swing distance: 218,2
[00:23:35] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,20499578
[00:23:35] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2553.358, -530.8851), Swing: 218.2, Transfer: 0.88, Final speed: 1083.7
[00:23:35] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:35] [INFO] [Player.Grenade] Thrown! Velocity: 2608,0, Swing: 218,2
[00:23:35] [INFO] [Player.Grenade] State reset to IDLE
[00:23:35] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:35] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:35] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:35] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:35] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1267.9746, 177.66234)
[00:23:36] [INFO] [Player.Grenade] Step 1 failed: drag not far enough right (12,025024 < 30)
[00:23:36] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (800.3337, 78.144714)
[00:23:36] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:36] [INFO] [GrenadeBase] Grenade landed at (782.5851, 228.4752)
[00:23:36] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:36] [INFO] [GrenadeBase] EXPLODED at (782.5851, 228.4752)!
[00:23:36] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(782.5851, 228.4752), source=NEUTRAL (@RigidBody2D@28874), range=2937, listeners=0
[00:23:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:36] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 14.7 degrees
[00:23:36] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 108.1 degrees
[00:23:36] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 178.6 degrees
[00:23:36] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 277.2 degrees
[00:23:36] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:23:36] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:36] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:37] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (553.82007, 88.83118)
[00:23:37] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:37] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:37] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:37] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:23:37] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:37] [INFO] [Player.Grenade] Step 1 complete! Drag: (726.17957, 4.007416)
[00:23:37] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:37] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:37] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:37] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:38] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:38] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:38] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:38] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (10444.799, -585.3978) (10461,2 px/s), Swing distance: 997,4
[00:23:38] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,055988252
[00:23:38] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (10444.8, -585.3978), Swing: 997.4, Transfer: 1.00, Final speed: 1186.5
[00:23:38] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:38] [INFO] [Player.Grenade] Thrown! Velocity: 10461,2, Swing: 997,4
[00:23:38] [INFO] [Player.Grenade] State reset to IDLE
[00:23:38] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:38] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:39] [INFO] [GrenadeBase] Collision detected with Obstacle3 (type: StaticBody2D)
[00:23:39] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle3, triggering explosion
[00:23:39] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:39] [INFO] [GrenadeBase] EXPLODED at (474.281, 340.7599)!
[00:23:39] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(474.281, 340.7599), source=NEUTRAL (@RigidBody2D@28885), range=2937, listeners=0
[00:23:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:39] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -19.9 degrees
[00:23:39] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 94.3 degrees
[00:23:39] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 198.3 degrees
[00:23:39] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 265.2 degrees
[00:23:39] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:39] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:39] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (982.7136, 181.66975)
[00:23:39] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:39] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:39] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:39] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:23:39] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:39] [INFO] [Player.Grenade] Step 1 complete! Drag: (297.286, -34.06308)
[00:23:39] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:39] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:39] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:39] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:39] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:39] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:40] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:40] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (6393.712, -1442.377) (6554,4 px/s), Swing distance: 563,2
[00:23:40] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,22187884
[00:23:40] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (6393.712, -1442.377), Swing: 563.2, Transfer: 1.00, Final speed: 1186.5
[00:23:40] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:40] [INFO] [Player.Grenade] Thrown! Velocity: 6554,4, Swing: 563,2
[00:23:40] [INFO] [Player.Grenade] State reset to IDLE
[00:23:40] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:40] [INFO] [GrenadeBase] Collision detected with Obstacle1 (type: StaticBody2D)
[00:23:40] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle1, triggering explosion
[00:23:40] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:40] [INFO] [GrenadeBase] EXPLODED at (407.3682, 306.8913)!
[00:23:40] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(407.3682, 306.8913), source=NEUTRAL (@RigidBody2D@28893), range=2937, listeners=0
[00:23:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:40] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -16.2 degrees
[00:23:40] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 81.5 degrees
[00:23:40] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 183.2 degrees
[00:23:40] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 276.9 degrees
[00:23:40] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:40] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:40] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:40] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (939.9579, 42.077923)
[00:23:40] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:40] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:40] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:40] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:23:40] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:40] [INFO] [Player.Grenade] Step 1 complete! Drag: (340.04175, -20.70501)
[00:23:40] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:40] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:41] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:41] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:41] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:41] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:41] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:41] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2405.009, 1509.1672) (2839,3 px/s), Swing distance: 483,2
[00:23:41] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,5604022
[00:23:41] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2405.009, 1509.167), Swing: 483.2, Transfer: 1.00, Final speed: 1186.5
[00:23:41] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:41] [INFO] [Player.Grenade] Thrown! Velocity: 2839,3, Swing: 483,2
[00:23:41] [INFO] [Player.Grenade] State reset to IDLE
[00:23:41] [INFO] [GrenadeBase] Collision detected with Obstacle2 (type: StaticBody2D)
[00:23:41] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle2, triggering explosion
[00:23:41] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:41] [INFO] [GrenadeBase] EXPLODED at (291.3592, 465.0105)!
[00:23:41] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(291.3592, 465.0105), source=NEUTRAL (@RigidBody2D@28911), range=2937, listeners=0
[00:23:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:41] [INFO] [FragGrenade] Player found in blast radius at distance 176.1
[00:23:41] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 176.1
[00:23:41] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 8.5 degrees
[00:23:41] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 79.9 degrees
[00:23:41] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 183.5 degrees
[00:23:41] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 278.5 degrees
[00:23:41] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:41] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:41] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:41] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:42] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1047.5154, 189.0167)
[00:23:42] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:42] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:42] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:42] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:23:42] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:42] [INFO] [Player.Grenade] Step 1 complete! Drag: (232.48425, 46.75325)
[00:23:42] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:42] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:42] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:42] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:42] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:42] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:42] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:42] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (4445.5356, 1000.3817) (4556,7 px/s), Swing distance: 421,2
[00:23:42] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,2213436
[00:23:42] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (4445.536, 1000.382), Swing: 421.2, Transfer: 1.00, Final speed: 1186.5
[00:23:42] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:42] [INFO] [Player.Grenade] Thrown! Velocity: 4556,7, Swing: 421,2
[00:23:42] [INFO] [Player.Grenade] State reset to IDLE
[00:23:43] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:43] [INFO] [GrenadeBase] Collision detected with Obstacle2 (type: StaticBody2D)
[00:23:43] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle2, triggering explosion
[00:23:43] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:43] [INFO] [GrenadeBase] EXPLODED at (407.4026, 413.0858)!
[00:23:43] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(407.4026, 413.0858), source=NEUTRAL (@RigidBody2D@28929), range=2937, listeners=0
[00:23:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:43] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 1.3 degrees
[00:23:43] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 83.3 degrees
[00:23:43] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 195.1 degrees
[00:23:43] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 250.5 degrees
[00:23:43] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:43] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:43] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:43] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (911.8994, 300.55658)
[00:23:43] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:43] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:43] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:43] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:23:43] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:43] [INFO] [Player.Grenade] Step 1 complete! Drag: (368.10022, 36.73471)
[00:23:43] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:43] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:43] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:43] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:44] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:44] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:44] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:44] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3469.483, 0) (3469,5 px/s), Swing distance: 289,3
[00:23:44] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0
[00:23:44] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3469.483, 0), Swing: 289.3, Transfer: 1.00, Final speed: 1186.5
[00:23:44] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:44] [INFO] [Player.Grenade] Thrown! Velocity: 3469,5, Swing: 289,3
[00:23:44] [INFO] [Player.Grenade] State reset to IDLE
[00:23:44] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:44] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:44] [INFO] [GrenadeBase] Collision detected with Obstacle3 (type: StaticBody2D)
[00:23:44] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle3, triggering explosion
[00:23:44] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:44] [INFO] [GrenadeBase] EXPLODED at (474.3777, 360)!
[00:23:44] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(474.3777, 360), source=NEUTRAL (@RigidBody2D@28938), range=2937, listeners=0
[00:23:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:44] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 2.0 degrees
[00:23:44] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 91.7 degrees
[00:23:44] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 174.4 degrees
[00:23:44] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 280.6 degrees
[00:23:44] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:44] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:45] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1133.695, 278.51578)
[00:23:45] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:45] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:45] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:45] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:23:45] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:45] [INFO] [Player.Grenade] Step 1 complete! Drag: (146.30469, -30.055664)
[00:23:45] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:45] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:45] [INFO] [Player.Grenade] RMB released before G - back to waiting for RMB
[00:23:46] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:46] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:46] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:46] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:46] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:46] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:48] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:48] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1854.3518, -2351.7297) (2994,9 px/s), Swing distance: 357,7
[00:23:48] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,90310365
[00:23:48] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1854.352, -2351.73), Swing: 357.7, Transfer: 1.00, Final speed: 1186.5
[00:23:48] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:48] [INFO] [Player.Grenade] Thrown! Velocity: 2994,9, Swing: 357,7
[00:23:48] [INFO] [Player.Grenade] State reset to IDLE
[00:23:48] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:49] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:49] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:23:49] [INFO] [FragGrenade] Wall impact detected! Body: WallTop, triggering explosion
[00:23:49] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:49] [INFO] [GrenadeBase] EXPLODED at (658.0508, 74.32028)!
[00:23:49] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(658.0508, 74.32028), source=NEUTRAL (@RigidBody2D@28953), range=2937, listeners=0
[00:23:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:49] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -17.5 degrees
[00:23:49] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 81.9 degrees
[00:23:49] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 180.1 degrees
[00:23:49] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 265.0 degrees
[00:23:49] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:23:49] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:49] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:49] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (893.1938, 219.5619)
[00:23:49] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:49] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:49] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:49] [INFO] [Player.Grenade] Timer started, grenade created at (387.0343, 405.93375)
[00:23:49] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:49] [INFO] [Player.Grenade] Step 1 complete! Drag: (386.80585, -1.3249512)
[00:23:49] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:49] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:49] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:49] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:50] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:50] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:50] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:50] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (4731.916, -3289.4211) (5762,9 px/s), Swing distance: 641,1
[00:23:50] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,6074677
[00:23:50] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (4731.916, -3289.421), Swing: 641.1, Transfer: 1.00, Final speed: 1186.5
[00:23:50] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:50] [INFO] [Player.Grenade] Thrown! Velocity: 5762,9, Swing: 641,1
[00:23:50] [INFO] [Player.Grenade] State reset to IDLE
[00:23:50] [INFO] [GrenadeBase] Collision detected with Obstacle3 (type: StaticBody2D)
[00:23:50] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle3, triggering explosion
[00:23:50] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:50] [INFO] [GrenadeBase] EXPLODED at (473.1704, 332.434)!
[00:23:50] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(473.1704, 332.434), source=NEUTRAL (@RigidBody2D@28964), range=2937, listeners=0
[00:23:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:50] [INFO] [FragGrenade] Player found in blast radius at distance 113.2
[00:23:50] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 113.2
[00:23:50] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 4.8 degrees
[00:23:50] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 80.5 degrees
[00:23:50] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 190.2 degrees
[00:23:50] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 279.5 degrees
[00:23:50] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:50] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:50] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:50] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:50] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1014.7804, 169.49576)
[00:23:51] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:51] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:51] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:51] [INFO] [Player.Grenade] Timer started, grenade created at (387.0343, 405.93375)
[00:23:51] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:51] [INFO] [Player.Grenade] Step 1 complete! Drag: (265.21924, -94.842316)
[00:23:51] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:51] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:51] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:51] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:51] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:51] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:51] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:51] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3695.9343, -1532.249) (4001,0 px/s), Swing distance: 367,6
[00:23:51] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,3930092
[00:23:51] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3695.934, -1532.249), Swing: 367.6, Transfer: 1.00, Final speed: 1186.5
[00:23:51] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:51] [INFO] [Player.Grenade] Thrown! Velocity: 4001,0, Swing: 367,6
[00:23:51] [INFO] [Player.Grenade] State reset to IDLE
[00:23:51] [INFO] [GrenadeBase] Collision detected with Obstacle3 (type: StaticBody2D)
[00:23:51] [INFO] [FragGrenade] Wall impact detected! Body: Obstacle3, triggering explosion
[00:23:51] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:51] [INFO] [GrenadeBase] EXPLODED at (474.8112, 356.6194)!
[00:23:51] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(474.8112, 356.6194), source=NEUTRAL (@RigidBody2D@28980), range=2937, listeners=0
[00:23:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:51] [INFO] [FragGrenade] Player found in blast radius at distance 100.7
[00:23:51] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 100.7
[00:23:51] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 6.4 degrees
[00:23:51] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 90.3 degrees
[00:23:51] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 164.9 degrees
[00:23:51] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 266.9 degrees
[00:23:51] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:52] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:52] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:52] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:52] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:52] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:23:54] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:54] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:54] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (823.7157, 68.971924)
[00:23:54] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:54] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:54] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:54] [INFO] [Player.Grenade] Timer started, grenade created at (469.9349, 351.4865)
[00:23:54] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:54] [INFO] [Player.Grenade] Step 1 complete! Drag: (456.28394, -10.070831)
[00:23:54] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:54] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:54] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:54] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:54] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:54] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:54] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:54] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1760.5299, -2384.8738) (2964,3 px/s), Swing distance: 361,0
[00:23:54] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,9348857
[00:23:54] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1760.53, -2384.874), Swing: 361.0, Transfer: 1.00, Final speed: 1186.5
[00:23:54] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:54] [INFO] [Player.Grenade] Thrown! Velocity: 2964,3, Swing: 361,0
[00:23:54] [INFO] [Player.Grenade] State reset to IDLE
[00:23:54] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:54] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:55] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:23:55] [INFO] [FragGrenade] Wall impact detected! Body: WallTop, triggering explosion
[00:23:55] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:55] [INFO] [GrenadeBase] EXPLODED at (681.7275, 75.79349)!
[00:23:55] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(681.7275, 75.79349), source=NEUTRAL (@RigidBody2D@28994), range=2937, listeners=0
[00:23:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:55] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 5.3 degrees
[00:23:55] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 101.6 degrees
[00:23:55] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 180.5 degrees
[00:23:55] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 276.7 degrees
[00:23:55] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:23:55] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:55] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:55] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1145.0519, 322.5977)
[00:23:55] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:55] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:55] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:55] [INFO] [Player.Grenade] Timer started, grenade created at (469.9349, 351.4865)
[00:23:55] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:55] [INFO] [Player.Grenade] Step 1 complete! Drag: (134.94775, -126.901764)
[00:23:55] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:55] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:55] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:55] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:56] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:56] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:56] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:56] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1375.4144, -5048.073) (5232,1 px/s), Swing distance: 445,0
[00:23:56] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,30479
[00:23:56] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1375.414, -5048.073), Swing: 445.0, Transfer: 1.00, Final speed: 1186.5
[00:23:56] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:56] [INFO] [Player.Grenade] Thrown! Velocity: 5232,1, Swing: 445,0
[00:23:56] [INFO] [Player.Grenade] State reset to IDLE
[00:23:56] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:56] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:56] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:23:56] [INFO] [FragGrenade] Wall impact detected! Body: WallTop, triggering explosion
[00:23:56] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:56] [INFO] [GrenadeBase] EXPLODED at (549.732, 76.37355)!
[00:23:56] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(549.732, 76.37355), source=NEUTRAL (@RigidBody2D@29002), range=2937, listeners=0
[00:23:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:56] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 7.0 degrees
[00:23:56] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 94.6 degrees
[00:23:56] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 166.4 degrees
[00:23:56] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 256.7 degrees
[00:23:56] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:56] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:56] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1078.2461, 323.2655)
[00:23:57] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:57] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:57] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:57] [INFO] [Player.Grenade] Timer started, grenade created at (469.9349, 351.4865)
[00:23:57] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:57] [INFO] [Player.Grenade] Step 1 complete! Drag: (201.75354, -323.26532)
[00:23:57] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:57] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:57] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:57] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:58] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:58] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:23:58] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:23:58] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (621.3921, -2681.436) (2752,5 px/s), Swing distance: 454,7
[00:23:58] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,3430773
[00:23:58] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (621.3921, -2681.436), Swing: 454.7, Transfer: 1.00, Final speed: 1186.5
[00:23:58] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:23:58] [INFO] [Player.Grenade] Thrown! Velocity: 2752,5, Swing: 454,7
[00:23:58] [INFO] [Player.Grenade] State reset to IDLE
[00:23:59] [INFO] [Player.Grenade] Player rotation restored to 0
[00:23:59] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:23:59] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:23:59] [INFO] [FragGrenade] Wall impact detected! Body: WallTop, triggering explosion
[00:23:59] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:23:59] [INFO] [GrenadeBase] EXPLODED at (538.463, 75.87627)!
[00:23:59] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(538.463, 75.87627), source=NEUTRAL (@RigidBody2D@29015), range=2937, listeners=0
[00:23:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:23:59] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -19.4 degrees
[00:23:59] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 86.0 degrees
[00:23:59] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 168.3 degrees
[00:23:59] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 254.9 degrees
[00:23:59] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:23:59] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:23:59] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1192.484, 251.13191)
[00:23:59] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:23:59] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:23:59] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:23:59] [INFO] [Player.Grenade] Timer started, grenade created at (469.9349, 351.4865)
[00:23:59] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:23:59] [INFO] [Player.Grenade] Step 1 complete! Drag: (87.515625, -2.003708)
[00:23:59] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:23:59] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:23:59] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:23:59] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:23:59] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:23:59] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:00] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:00] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1078.7181, -4413.074) (4543,0 px/s), Swing distance: 395,6
[00:24:00] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,3310603
[00:24:00] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1078.718, -4413.074), Swing: 395.6, Transfer: 1.00, Final speed: 1186.5
[00:24:00] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:00] [INFO] [Player.Grenade] Thrown! Velocity: 4543,0, Swing: 395,6
[00:24:00] [INFO] [Player.Grenade] State reset to IDLE
[00:24:00] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:00] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:00] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:24:00] [INFO] [FragGrenade] Wall impact detected! Body: WallTop, triggering explosion
[00:24:00] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:00] [INFO] [GrenadeBase] EXPLODED at (542.0115, 76.02422)!
[00:24:00] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(542.0115, 76.02422), source=NEUTRAL (@RigidBody2D@29028), range=2937, listeners=0
[00:24:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:00] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -8.5 degrees
[00:24:00] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 98.2 degrees
[00:24:00] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 179.4 degrees
[00:24:00] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 258.9 degrees
[00:24:00] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:00] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:01] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (994.73865, 260.48257)
[00:24:01] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:01] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:01] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:01] [INFO] [Player.Grenade] Timer started, grenade created at (469.9349, 351.4865)
[00:24:01] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:01] [INFO] [Player.Grenade] Step 1 complete! Drag: (285.261, 56.10388)
[00:24:01] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:01] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:01] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:01] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:01] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:01] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:01] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:01] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (159.64677, -5514.624) (5516,9 px/s), Swing distance: 559,7
[00:24:01] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5418547
[00:24:01] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (159.6468, -5514.624), Swing: 559.7, Transfer: 1.00, Final speed: 1186.5
[00:24:01] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:01] [INFO] [Player.Grenade] Thrown! Velocity: 5516,9, Swing: 559,7
[00:24:01] [INFO] [Player.Grenade] State reset to IDLE
[00:24:02] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:02] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:02] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:24:02] [INFO] [FragGrenade] Wall impact detected! Body: WallTop, triggering explosion
[00:24:02] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:02] [INFO] [GrenadeBase] EXPLODED at (478.3111, 77.52544)!
[00:24:02] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(478.3111, 77.52544), source=NEUTRAL (@RigidBody2D@29041), range=2937, listeners=0
[00:24:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:02] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -17.8 degrees
[00:24:02] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 89.6 degrees
[00:24:02] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 196.3 degrees
[00:24:02] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 267.6 degrees
[00:24:02] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:02] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:02] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1027.4736, 464.86105)
[00:24:03] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:03] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:03] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:03] [INFO] [Player.Grenade] Timer started, grenade created at (469.9349, 351.4865)
[00:24:03] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:03] [INFO] [Player.Grenade] Step 1 complete! Drag: (252.526, 59.44339)
[00:24:03] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:03] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:03] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:03] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:03] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:03] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:04] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:04] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3173.2773, -740.5866) (3258,6 px/s), Swing distance: 287,8
[00:24:04] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,22927833
[00:24:04] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3173.277, -740.5866), Swing: 287.8, Transfer: 1.00, Final speed: 1186.5
[00:24:04] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:04] [INFO] [Player.Grenade] Thrown! Velocity: 3258,6, Swing: 287,8
[00:24:04] [INFO] [Player.Grenade] State reset to IDLE
[00:24:04] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:04] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:05] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:05] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:05] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:05] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1010.104, 670.16125)
[00:24:05] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:05] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:05] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:05] [INFO] [Player.Grenade] Timer started, grenade created at (469.9349, 339.43103)
[00:24:05] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:05] [INFO] [Player.Grenade] Step 1 complete! Drag: (269.89563, 53.28418)
[00:24:05] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:05] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:06] [INFO] [GrenadeBase] Grenade landed at (1172.186, 126.2047)
[00:24:06] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:06] [INFO] [GrenadeBase] EXPLODED at (1172.186, 126.2047)!
[00:24:06] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1172.186, 126.2047), source=NEUTRAL (@RigidBody2D@29054), range=2937, listeners=0
[00:24:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:06] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -15.0 degrees
[00:24:06] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 71.1 degrees
[00:24:06] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 175.8 degrees
[00:24:06] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 269.1 degrees
[00:24:06] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:06] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:06] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:06] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:06] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:06] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2656.5137, -0.34924674) (2656,5 px/s), Swing distance: 241,8
[00:24:06] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,00013146807
[00:24:06] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2656.514, -0.349247), Swing: 241.8, Transfer: 0.98, Final speed: 1186.5
[00:24:06] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:06] [INFO] [Player.Grenade] Thrown! Velocity: 2656,5, Swing: 241,8
[00:24:06] [INFO] [Player.Grenade] State reset to IDLE
[00:24:06] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:06] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:07] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:07] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:07] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:07] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (945.30237, 681.9303)
[00:24:07] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:07] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:07] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:07] [INFO] [Player.Grenade] Timer started, grenade created at (469.9349, 357.04214)
[00:24:07] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:07] [INFO] [Player.Grenade] Step 1 complete! Drag: (334.69727, -0.00024414062)
[00:24:07] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:07] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:07] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:07] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:08] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:08] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:08] [INFO] [GrenadeBase] Grenade landed at (1191.058, 294.9475)
[00:24:08] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:08] [INFO] [GrenadeBase] EXPLODED at (1191.058, 294.9475)!
[00:24:08] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1191.058, 294.9475), source=NEUTRAL (@RigidBody2D@29056), range=2937, listeners=0
[00:24:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:08] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 2.7 degrees
[00:24:08] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 99.0 degrees
[00:24:08] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 168.2 degrees
[00:24:08] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 270.7 degrees
[00:24:08] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:08] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1676.5325, -102.640976) (1679,7 px/s), Swing distance: 142,3
[00:24:08] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,06114586
[00:24:08] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1676.532, -102.641), Swing: 142.3, Transfer: 0.57, Final speed: 455.2
[00:24:08] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:08] [INFO] [Player.Grenade] Thrown! Velocity: 1679,7, Swing: 142,3
[00:24:08] [INFO] [Player.Grenade] State reset to IDLE
[00:24:08] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:08] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:08] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:09] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:09] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:09] [INFO] [GrenadeBase] Grenade landed at (698.5575, 265.0453)
[00:24:09] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:09] [INFO] [GrenadeBase] EXPLODED at (698.5575, 265.0453)!
[00:24:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(698.5575, 265.0453), source=NEUTRAL (@RigidBody2D@29066), range=2937, listeners=0
[00:24:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:09] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 4.2 degrees
[00:24:09] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 72.0 degrees
[00:24:09] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 182.5 degrees
[00:24:09] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 259.9 degrees
[00:24:09] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:09] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:09] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:09] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:09] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (955.32324, 626.22327)
[00:24:09] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:09] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:09] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:09] [INFO] [Player.Grenade] Timer started, grenade created at (469.9349, 377.7088)
[00:24:09] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:09] [INFO] [Player.Grenade] Step 1 complete! Drag: (324.6764, 39.348145)
[00:24:10] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:10] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:10] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:10] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:10] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:10] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:10] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:10] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1249.6624, -9.453852) (1249,7 px/s), Swing distance: 122,6
[00:24:10] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,0075649805
[00:24:10] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1249.662, -9.453852), Swing: 122.6, Transfer: 0.50, Final speed: 291.8
[00:24:10] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:10] [INFO] [Player.Grenade] Thrown! Velocity: 1249,7, Swing: 122,6
[00:24:10] [INFO] [Player.Grenade] State reset to IDLE
[00:24:10] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:11] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:11] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:11] [INFO] [GrenadeBase] Grenade landed at (612.6823, 268.7955)
[00:24:11] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:11] [INFO] [GrenadeBase] EXPLODED at (612.6823, 268.7955)!
[00:24:11] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(612.6823, 268.7955), source=NEUTRAL (@RigidBody2D@29080), range=2937, listeners=0
[00:24:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:11] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 18.4 degrees
[00:24:11] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 88.4 degrees
[00:24:11] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 173.7 degrees
[00:24:11] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 279.2 degrees
[00:24:13] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:13] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:13] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (855.11444, 532.74945)
[00:24:13] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:13] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:13] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:13] [INFO] [Player.Grenade] Timer started, grenade created at (469.9349, 347.26434)
[00:24:13] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:13] [INFO] [Player.Grenade] Step 1 complete! Drag: (424.8852, 100.05902)
[00:24:13] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:13] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:13] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:13] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:13] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:13] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:13] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:13] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (851.77356, -182.81549) (871,2 px/s), Swing distance: 77,3
[00:24:13] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,21142174
[00:24:13] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (851.7736, -182.8155), Swing: 77.3, Transfer: 0.31, Final speed: 128.2
[00:24:13] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:13] [INFO] [Player.Grenade] Thrown! Velocity: 871,2, Swing: 77,3
[00:24:13] [INFO] [Player.Grenade] State reset to IDLE
[00:24:13] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:13] [INFO] [GrenadeBase] Grenade landed at (545.4252, 286.1731)
[00:24:13] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:13] [INFO] [GrenadeBase] EXPLODED at (545.4252, 286.1731)!
[00:24:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(545.4252, 286.1731), source=NEUTRAL (@RigidBody2D@29093), range=2937, listeners=0
[00:24:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:13] [INFO] [FragGrenade] Player found in blast radius at distance 75.5
[00:24:13] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 75.5
[00:24:13] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 16.9 degrees
[00:24:13] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 101.6 degrees
[00:24:13] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 185.5 degrees
[00:24:13] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 263.5 degrees
[00:24:13] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:14] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:14] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:14] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:14] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1026.8055, 534.2778)
[00:24:15] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:15] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:15] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:15] [INFO] [Player.Grenade] Timer started, grenade created at (469.9349, 377.3199)
[00:24:15] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:15] [INFO] [Player.Grenade] Step 1 complete! Drag: (253.19409, 116.01874)
[00:24:15] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:15] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:15] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:15] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:15] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:15] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:15] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:15] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (4054.9617, 104.49204) (4056,3 px/s), Swing distance: 346,6
[00:24:15] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,025763232
[00:24:15] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (4054.962, 104.492), Swing: 346.6, Transfer: 1.00, Final speed: 1186.5
[00:24:15] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:15] [INFO] [Player.Grenade] Thrown! Velocity: 4056,3, Swing: 346,6
[00:24:15] [INFO] [Player.Grenade] State reset to IDLE
[00:24:15] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:15] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:16] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:17] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:17] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:17] [INFO] [GrenadeBase] Grenade landed at (1190.818, 294.2296)
[00:24:17] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:17] [INFO] [GrenadeBase] EXPLODED at (1190.818, 294.2296)!
[00:24:17] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1190.818, 294.2296), source=NEUTRAL (@RigidBody2D@29109), range=2937, listeners=0
[00:24:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:17] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 3.4 degrees
[00:24:17] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 86.3 degrees
[00:24:17] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 179.8 degrees
[00:24:17] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 276.6 degrees
[00:24:17] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1054.864, 526.6276)
[00:24:17] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:17] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:17] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:17] [INFO] [Player.Grenade] Timer started, grenade created at (469.9349, 364.31985)
[00:24:17] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:17] [INFO] [Player.Grenade] Step 1 complete! Drag: (225.13562, 58.81189)
[00:24:17] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:17] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:17] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:17] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:17] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:17] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:17] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:17] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1613.6548, -169.12662) (1622,5 px/s), Swing distance: 153,2
[00:24:17] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,104428396
[00:24:17] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1613.655, -169.1266), Swing: 153.2, Transfer: 0.62, Final speed: 473.4
[00:24:17] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:17] [INFO] [Player.Grenade] Thrown! Velocity: 1622,5, Swing: 153,2
[00:24:17] [INFO] [Player.Grenade] State reset to IDLE
[00:24:18] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:18] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:18] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:18] [INFO] [GrenadeBase] Grenade landed at (707.8319, 254.5527)
[00:24:18] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:18] [INFO] [GrenadeBase] EXPLODED at (707.8319, 254.5527)!
[00:24:18] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(707.8319, 254.5527), source=NEUTRAL (@RigidBody2D@29115), range=2937, listeners=0
[00:24:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:18] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -9.5 degrees
[00:24:18] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 74.3 degrees
[00:24:18] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 199.2 degrees
[00:24:18] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 252.9 degrees
[00:24:19] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:19] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:19] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1058.2042, 509.86636)
[00:24:19] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:19] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:19] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:19] [INFO] [Player.Grenade] Timer started, grenade created at (469.9349, 396.76434)
[00:24:19] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:19] [INFO] [Player.Grenade] Step 1 complete! Drag: (221.79541, 27.631195)
[00:24:19] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:19] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:19] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:19] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:19] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:19] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:20] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:20] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (578.16425, -94.13478) (585,8 px/s), Swing distance: 83,6
[00:24:20] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,16140042
[00:24:20] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (578.1642, -94.13478), Swing: 83.6, Transfer: 0.34, Final speed: 93.3
[00:24:20] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:20] [INFO] [Player.Grenade] Thrown! Velocity: 585,8, Swing: 83,6
[00:24:20] [INFO] [Player.Grenade] State reset to IDLE
[00:24:20] [INFO] [GrenadeBase] Grenade landed at (537.1043, 248.4947)
[00:24:20] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:20] [INFO] [GrenadeBase] EXPLODED at (537.1043, 248.4947)!
[00:24:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(537.1043, 248.4947), source=NEUTRAL (@RigidBody2D@29128), range=2937, listeners=0
[00:24:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:20] [INFO] [FragGrenade] Player found in blast radius at distance 67.2
[00:24:20] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 67.2
[00:24:20] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -15.6 degrees
[00:24:20] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 96.0 degrees
[00:24:20] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 192.1 degrees
[00:24:20] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 270.5 degrees
[00:24:20] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:20] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:20] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:21] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:21] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:21] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (877.8284, 476.44983)
[00:24:21] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:21] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:21] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:21] [INFO] [Player.Grenade] Timer started, grenade created at (469.9349, 375.93097)
[00:24:21] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:21] [INFO] [Player.Grenade] Step 1 complete! Drag: (402.1712, 87.62634)
[00:24:21] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:21] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:21] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:21] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:21] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:21] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:22] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:22] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2687.9524, -596.8854) (2753,4 px/s), Swing distance: 282,0
[00:24:22] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,21851389
[00:24:22] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2687.952, -596.8854), Swing: 282.0, Transfer: 1.00, Final speed: 1186.5
[00:24:22] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:22] [INFO] [Player.Grenade] Thrown! Velocity: 2753,4, Swing: 282,0
[00:24:22] [INFO] [Player.Grenade] State reset to IDLE
[00:24:22] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:22] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:22] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:23] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:23] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:23] [INFO] [GrenadeBase] Grenade landed at (1173.909, 105.0511)
[00:24:23] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:23] [INFO] [GrenadeBase] EXPLODED at (1173.909, 105.0511)!
[00:24:23] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1173.909, 105.0511), source=NEUTRAL (@RigidBody2D@29139), range=2937, listeners=0
[00:24:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:23] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -7.7 degrees
[00:24:23] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 73.6 degrees
[00:24:23] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 180.3 degrees
[00:24:23] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 275.1 degrees
[00:24:23] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (939.2898, 448.89478)
[00:24:23] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:23] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:23] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:23] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 373.9309)
[00:24:23] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:23] [INFO] [Player.Grenade] Step 1 complete! Drag: (340.70984, 25.53003)
[00:24:23] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:23] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:23] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:23] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:24] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:24] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:24] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:24] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (704.4083, -14.92249) (704,6 px/s), Swing distance: 68,6
[00:24:24] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,021181263
[00:24:24] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (704.4083, -14.92249), Swing: 68.6, Transfer: 0.28, Final speed: 92.0
[00:24:24] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:24] [INFO] [Player.Grenade] Thrown! Velocity: 704,6, Swing: 68,6
[00:24:24] [INFO] [Player.Grenade] State reset to IDLE
[00:24:24] [INFO] [GrenadeBase] Grenade landed at (537.8286, 270.8257)
[00:24:24] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:24] [INFO] [GrenadeBase] EXPLODED at (537.8286, 270.8257)!
[00:24:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(537.8286, 270.8257), source=NEUTRAL (@RigidBody2D@29146), range=2937, listeners=0
[00:24:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:24] [INFO] [FragGrenade] Player found in blast radius at distance 70.6
[00:24:24] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 70.6
[00:24:24] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 4.6 degrees
[00:24:24] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 93.4 degrees
[00:24:24] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 187.0 degrees
[00:24:24] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 283.8 degrees
[00:24:24] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:24] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:25] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:25] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:25] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:25] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1017.45264, 364.68494)
[00:24:25] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:25] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:25] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:25] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 358.76422)
[00:24:25] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:25] [INFO] [Player.Grenade] Step 1 complete! Drag: (262.547, 93.50311)
[00:24:25] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:25] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:25] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:25] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:26] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:26] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:26] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:26] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (4374.8003, -320.20096) (4386,5 px/s), Swing distance: 371,0
[00:24:26] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,073061846
[00:24:26] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (4374.8, -320.201), Swing: 371.0, Transfer: 1.00, Final speed: 1186.5
[00:24:26] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:26] [INFO] [Player.Grenade] Thrown! Velocity: 4386,5, Swing: 371,0
[00:24:26] [INFO] [Player.Grenade] State reset to IDLE
[00:24:26] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:26] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:27] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:27] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:27] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:27] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1057.5363, 328.60873)
[00:24:27] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:27] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:27] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:27] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 364.26422)
[00:24:27] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:27] [INFO] [Player.Grenade] Step 1 complete! Drag: (222.46338, 90.4317)
[00:24:27] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:27] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:27] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:27] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:28] [INFO] [GrenadeBase] Grenade landed at (1189.124, 188.2912)
[00:24:28] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:28] [INFO] [GrenadeBase] EXPLODED at (1189.124, 188.2912)!
[00:24:28] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1189.124, 188.2912), source=NEUTRAL (@RigidBody2D@29160), range=2937, listeners=0
[00:24:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:28] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 11.5 degrees
[00:24:28] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 78.9 degrees
[00:24:28] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 167.8 degrees
[00:24:28] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 285.1 degrees
[00:24:28] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:28] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:28] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:28] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2615.7422, -2.8903737) (2615,7 px/s), Swing distance: 215,7
[00:24:28] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,0011049913
[00:24:28] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2615.742, -2.890374), Swing: 215.7, Transfer: 0.87, Final speed: 1074.6
[00:24:28] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:28] [INFO] [Player.Grenade] Thrown! Velocity: 2615,7, Swing: 215,7
[00:24:28] [INFO] [Player.Grenade] State reset to IDLE
[00:24:28] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:28] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:29] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:29] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:29] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:29] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1014.7804, 272.12534)
[00:24:29] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:29] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:29] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:29] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 379.48642)
[00:24:29] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:29] [INFO] [Player.Grenade] Step 1 complete! Drag: (265.21924, 8.131744)
[00:24:29] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:29] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:29] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:29] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:29] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:29] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:29] [INFO] [GrenadeBase] Grenade landed at (1109.74, 252.5571)
[00:24:29] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:29] [INFO] [GrenadeBase] EXPLODED at (1109.74, 252.5571)!
[00:24:29] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1109.74, 252.5571), source=NEUTRAL (@RigidBody2D@29161), range=2937, listeners=0
[00:24:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:29] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 2.0 degrees
[00:24:29] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 94.0 degrees
[00:24:29] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 174.4 degrees
[00:24:29] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 254.6 degrees
[00:24:30] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:30] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2122.0674, 34.07727) (2122,3 px/s), Swing distance: 198,1
[00:24:30] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,016057145
[00:24:30] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2122.067, 34.07727), Swing: 198.1, Transfer: 0.80, Final speed: 800.8
[00:24:30] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:30] [INFO] [Player.Grenade] Thrown! Velocity: 2122,3, Swing: 198,1
[00:24:30] [INFO] [Player.Grenade] State reset to IDLE
[00:24:30] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:30] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:30] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:31] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:31] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:31] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (945.30237, 303.58698)
[00:24:31] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:31] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:31] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:31] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 372.15317)
[00:24:31] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:31] [INFO] [Player.Grenade] Step 1 complete! Drag: (334.69727, 34.335144)
[00:24:31] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:31] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:31] [INFO] [GrenadeBase] Grenade landed at (917.0684, 283.8336)
[00:24:31] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:31] [INFO] [GrenadeBase] EXPLODED at (917.0684, 283.8336)!
[00:24:31] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(917.0684, 283.8336), source=NEUTRAL (@RigidBody2D@29172), range=2937, listeners=0
[00:24:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:31] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 9.2 degrees
[00:24:31] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 101.0 degrees
[00:24:31] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 172.4 degrees
[00:24:31] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 270.8 degrees
[00:24:31] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:31] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:31] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:31] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:32] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:32] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1174.0139, 299.9068) (1211,7 px/s), Swing distance: 132,2
[00:24:32] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,2501054
[00:24:32] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1174.014, 299.9068), Swing: 132.2, Transfer: 0.53, Final speed: 305.2
[00:24:32] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:32] [INFO] [Player.Grenade] Thrown! Velocity: 1211,7, Swing: 132,2
[00:24:32] [INFO] [Player.Grenade] State reset to IDLE
[00:24:32] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:32] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:32] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:32] [INFO] [GrenadeBase] Grenade landed at (614.238, 320.0185)
[00:24:32] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:32] [INFO] [GrenadeBase] EXPLODED at (614.238, 320.0185)!
[00:24:32] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(614.238, 320.0185), source=NEUTRAL (@RigidBody2D@29179), range=2937, listeners=0
[00:24:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:32] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -11.4 degrees
[00:24:32] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 92.8 degrees
[00:24:32] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 174.7 degrees
[00:24:32] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 259.7 degrees
[00:24:32] [INFO] [GrenadeBase] Collision detected with Obstacle3 (type: StaticBody2D)
[00:24:32] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:32] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:32] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (768.26685, 347.7107)
[00:24:33] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:33] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:33] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:33] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 398.37537)
[00:24:33] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:33] [INFO] [Player.Grenade] Step 1 complete! Drag: (363.42383, 50.802826)
[00:24:33] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:33] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:33] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:33] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:33] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:33] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:33] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:33] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3120.226, -84.24431) (3121,4 px/s), Swing distance: 292,5
[00:24:33] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,026992867
[00:24:33] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3120.226, -84.24431), Swing: 292.5, Transfer: 1.00, Final speed: 1186.5
[00:24:33] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:33] [INFO] [Player.Grenade] Thrown! Velocity: 3121,4, Swing: 292,5
[00:24:33] [INFO] [Player.Grenade] State reset to IDLE
[00:24:33] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:33] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:34] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:34] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:34] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:34] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (865.8034, 332.779)
[00:24:34] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:34] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:34] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:34] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 373.5976)
[00:24:34] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:34] [INFO] [Player.Grenade] Step 1 complete! Drag: (414.19623, 25.532745)
[00:24:34] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:34] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:34] [INFO] [GrenadeBase] Grenade landed at (469.9254, 375.0976)
[00:24:34] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:34] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:35] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:35] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:35] [INFO] [GrenadeBase] Grenade landed at (1190.785, 259.3569)
[00:24:35] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:35] [INFO] [GrenadeBase] EXPLODED at (1190.785, 259.3569)!
[00:24:35] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1190.785, 259.3569), source=NEUTRAL (@RigidBody2D@29205), range=2937, listeners=0
[00:24:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:35] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -18.8 degrees
[00:24:35] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 109.4 degrees
[00:24:35] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 199.6 degrees
[00:24:35] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 271.9 degrees
[00:24:35] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:35] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (974.5792, -486.20264) (1089,1 px/s), Swing distance: 123,6
[00:24:35] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,46275496
[00:24:35] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (974.5792, -486.2026), Swing: 123.6, Transfer: 0.50, Final speed: 256.4
[00:24:35] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:35] [INFO] [Player.Grenade] Thrown! Velocity: 1089,1, Swing: 123,6
[00:24:35] [INFO] [Player.Grenade] State reset to IDLE
[00:24:35] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:35] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:36] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:36] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:36] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:36] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1181.795, 332.1964)
[00:24:36] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:36] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:36] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:36] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 397.65314)
[00:24:36] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:36] [INFO] [Player.Grenade] Step 1 complete! Drag: (98.20459, 41.21219)
[00:24:36] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:36] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:37] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:37] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:37] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:37] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:37] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:37] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2061.6467, 250.67374) (2076,8 px/s), Swing distance: 223,5
[00:24:37] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,12099515
[00:24:37] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2061.647, 250.6737), Swing: 223.5, Transfer: 0.90, Final speed: 884.0
[00:24:37] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:37] [INFO] [Player.Grenade] Thrown! Velocity: 2076,8, Swing: 223,5
[00:24:37] [INFO] [Player.Grenade] State reset to IDLE
[00:24:37] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:37] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:38] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:38] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:38] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:38] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (844.42554, 290.0896)
[00:24:38] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:38] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:38] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:38] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 360.87537)
[00:24:38] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:38] [INFO] [Player.Grenade] Step 1 complete! Drag: (340.70984, 32.920074)
[00:24:38] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:38] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:38] [INFO] [GrenadeBase] Grenade landed at (971.2458, 303.6081)
[00:24:38] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:38] [INFO] [GrenadeBase] EXPLODED at (971.2458, 303.6081)!
[00:24:38] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(971.2458, 303.6081), source=NEUTRAL (@RigidBody2D@29215), range=2937, listeners=0
[00:24:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:38] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -16.2 degrees
[00:24:38] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 94.2 degrees
[00:24:38] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 166.8 degrees
[00:24:38] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 255.0 degrees
[00:24:39] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:39] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:39] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:39] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:39] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:39] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1697.6533, -24.23338) (1697,8 px/s), Swing distance: 144,9
[00:24:39] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,014273664
[00:24:39] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1697.653, -24.23338), Swing: 144.9, Transfer: 0.59, Final speed: 468.7
[00:24:39] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:39] [INFO] [Player.Grenade] Thrown! Velocity: 1697,8, Swing: 144,9
[00:24:39] [INFO] [Player.Grenade] State reset to IDLE
[00:24:39] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:39] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:40] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:40] [INFO] [GrenadeBase] Grenade landed at (706.6812, 264.3291)
[00:24:40] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:40] [INFO] [GrenadeBase] EXPLODED at (706.6812, 264.3291)!
[00:24:40] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(706.6812, 264.3291), source=NEUTRAL (@RigidBody2D@29216), range=2937, listeners=0
[00:24:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:40] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -7.3 degrees
[00:24:40] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 97.0 degrees
[00:24:40] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 191.6 degrees
[00:24:40] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 272.0 degrees
[00:24:40] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:40] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:40] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (815.03094, 258.64392)
[00:24:40] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:40] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:40] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:40] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 380.3198)
[00:24:40] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:40] [INFO] [Player.Grenade] Step 1 complete! Drag: (430.22968, 55.018097)
[00:24:40] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:40] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:40] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:40] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:40] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:40] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:41] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:41] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1265.3809, -36.772266) (1265,9 px/s), Swing distance: 127,8
[00:24:41] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,02905206
[00:24:41] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1265.381, -36.77227), Swing: 127.8, Transfer: 0.52, Final speed: 308.1
[00:24:41] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:41] [INFO] [Player.Grenade] Thrown! Velocity: 1265,9, Swing: 127,8
[00:24:41] [INFO] [Player.Grenade] State reset to IDLE
[00:24:41] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:41] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:41] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:41] [INFO] [GrenadeBase] Grenade landed at (619.9821, 236.1258)
[00:24:41] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:41] [INFO] [GrenadeBase] EXPLODED at (619.9821, 236.1258)!
[00:24:41] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(619.9821, 236.1258), source=NEUTRAL (@RigidBody2D@29232), range=2937, listeners=0
[00:24:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:41] [INFO] [FragGrenade] Player found in blast radius at distance 164.2
[00:24:41] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 164.2
[00:24:41] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -15.7 degrees
[00:24:41] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 77.2 degrees
[00:24:41] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 199.3 degrees
[00:24:41] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 284.0 degrees
[00:24:42] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:42] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:42] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1027.4736, 268.96094)
[00:24:42] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:42] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:42] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:42] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 342.59756)
[00:24:42] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:42] [INFO] [Player.Grenade] Step 1 complete! Drag: (252.526, 85.291016)
[00:24:42] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:42] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:43] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:43] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:43] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:43] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:43] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:43] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (627.28674, -623.87024) (884,7 px/s), Swing distance: 93,3
[00:24:43] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,7826675
[00:24:43] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (627.2867, -623.8702), Swing: 93.3, Transfer: 0.38, Final speed: 157.1
[00:24:43] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:43] [INFO] [Player.Grenade] Thrown! Velocity: 884,7, Swing: 93,3
[00:24:43] [INFO] [Player.Grenade] State reset to IDLE
[00:24:43] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:43] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:43] [INFO] [GrenadeBase] Grenade landed at (531.2171, 204.9729)
[00:24:43] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:43] [INFO] [GrenadeBase] EXPLODED at (531.2171, 204.9729)!
[00:24:43] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(531.2171, 204.9729), source=NEUTRAL (@RigidBody2D@29246), range=2937, listeners=0
[00:24:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:43] [INFO] [FragGrenade] Player found in blast radius at distance 66.4
[00:24:43] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 66.4
[00:24:43] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 17.1 degrees
[00:24:43] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 72.5 degrees
[00:24:43] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 196.5 degrees
[00:24:43] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 255.3 degrees
[00:24:44] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:44] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:44] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:44] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1014.7804, 291.32788)
[00:24:44] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:44] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:44] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:44] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 368.59753)
[00:24:44] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:44] [INFO] [Player.Grenade] Step 1 complete! Drag: (265.21924, 70.935486)
[00:24:44] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:44] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:44] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:44] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:45] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:45] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:45] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:45] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2169.2239, -3.594499) (2169,2 px/s), Swing distance: 191,2
[00:24:45] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,0016570423
[00:24:45] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2169.224, -3.594499), Swing: 191.2, Transfer: 0.77, Final speed: 790.0
[00:24:45] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:45] [INFO] [Player.Grenade] Thrown! Velocity: 2169,2, Swing: 191,2
[00:24:45] [INFO] [Player.Grenade] State reset to IDLE
[00:24:45] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:45] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:46] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:46] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:46] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:46] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1218.5383, 304.57114)
[00:24:46] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:46] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:46] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:46] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 357.8198)
[00:24:46] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:46] [INFO] [Player.Grenade] Step 1 complete! Drag: (61.461304, 33.393097)
[00:24:46] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:46] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:46] [INFO] [GrenadeBase] Grenade landed at (910.298, 220.5344)
[00:24:46] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:46] [INFO] [GrenadeBase] EXPLODED at (910.298, 220.5344)!
[00:24:46] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(910.298, 220.5344), source=NEUTRAL (@RigidBody2D@29260), range=2937, listeners=0
[00:24:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:46] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -5.7 degrees
[00:24:46] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 92.8 degrees
[00:24:46] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 189.7 degrees
[00:24:46] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 272.6 degrees
[00:24:46] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:46] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:46] [INFO] [GrenadeBase] Grenade landed at (469.9254, 358.3753)
[00:24:46] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:46] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:47] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:47] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1194.6447, -1.0011561) (1194,6 px/s), Swing distance: 102,4
[00:24:47] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,00083803653
[00:24:47] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1194.645, -1.001156), Swing: 102.4, Transfer: 0.41, Final speed: 233.0
[00:24:47] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:47] [INFO] [Player.Grenade] Thrown! Velocity: 1194,6, Swing: 102,4
[00:24:47] [INFO] [Player.Grenade] State reset to IDLE
[00:24:47] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:47] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:47] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:48] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:48] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:48] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1062.8807, 286.5315)
[00:24:48] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:48] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:48] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:48] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 356.2087)
[00:24:48] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:48] [INFO] [Player.Grenade] Step 1 complete! Drag: (217.1189, 60.77893)
[00:24:48] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:48] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:48] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:48] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:48] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:48] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:49] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:49] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1548.3225, -7.8577375) (1548,3 px/s), Swing distance: 131,6
[00:24:49] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,0050749574
[00:24:49] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1548.323, -7.857738), Swing: 131.6, Transfer: 0.53, Final speed: 388.1
[00:24:49] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:49] [INFO] [Player.Grenade] Thrown! Velocity: 1548,3, Swing: 131,6
[00:24:49] [INFO] [Player.Grenade] State reset to IDLE
[00:24:49] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:49] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:49] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:49] [INFO] [GrenadeBase] Grenade landed at (661.0932, 241.1829)
[00:24:49] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:49] [INFO] [GrenadeBase] EXPLODED at (661.0932, 241.1829)!
[00:24:49] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(661.0932, 241.1829), source=NEUTRAL (@RigidBody2D@29275), range=2937, listeners=0
[00:24:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:49] [INFO] [FragGrenade] Player found in blast radius at distance 202.3
[00:24:49] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 202.3
[00:24:49] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -15.2 degrees
[00:24:49] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 107.9 degrees
[00:24:49] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 196.5 degrees
[00:24:49] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 257.7 degrees
[00:24:49] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:49] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:50] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1185.1354, 285.86288)
[00:24:50] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:50] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:50] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:50] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 359.1531)
[00:24:50] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:50] [INFO] [Player.Grenade] Step 1 complete! Drag: (94.86426, 28.051971)
[00:24:50] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:50] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:50] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:50] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:50] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:50] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:50] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:50] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (558.025, -102.149864) (567,3 px/s), Swing distance: 56,1
[00:24:50] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,18105151
[00:24:50] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (558.025, -102.1499), Swing: 56.1, Transfer: 0.23, Final speed: 60.6
[00:24:50] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:50] [INFO] [Player.Grenade] Thrown! Velocity: 567,3, Swing: 56,1
[00:24:50] [INFO] [Player.Grenade] State reset to IDLE
[00:24:50] [INFO] [GrenadeBase] Grenade landed at (530.6545, 228.4807)
[00:24:50] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:50] [INFO] [GrenadeBase] EXPLODED at (530.6545, 228.4807)!
[00:24:50] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(530.6545, 228.4807), source=NEUTRAL (@RigidBody2D@29284), range=2937, listeners=0
[00:24:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:50] [INFO] [FragGrenade] Player found in blast radius at distance 60.8
[00:24:50] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 60.8
[00:24:50] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 6.9 degrees
[00:24:50] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 70.1 degrees
[00:24:50] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 177.7 degrees
[00:24:50] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 257.7 degrees
[00:24:51] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:51] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:51] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:51] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:51] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:51] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (994.0706, 257.81094)
[00:24:51] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:51] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:51] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:51] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 335.1531)
[00:24:51] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:51] [INFO] [Player.Grenade] Step 1 complete! Drag: (285.92902, 54.768097)
[00:24:51] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:51] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:52] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:52] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:52] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:52] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:52] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:52] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (759.4252, -225.41736) (792,2 px/s), Swing distance: 75,9
[00:24:52] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,2885426
[00:24:52] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (759.4252, -225.4174), Swing: 75.9, Transfer: 0.31, Final speed: 114.6
[00:24:52] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:52] [INFO] [Player.Grenade] Thrown! Velocity: 792,2, Swing: 75,9
[00:24:52] [INFO] [Player.Grenade] State reset to IDLE
[00:24:52] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:52] [INFO] [GrenadeBase] Grenade landed at (540.1914, 237.5185)
[00:24:52] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:52] [INFO] [GrenadeBase] EXPLODED at (540.1914, 237.5185)!
[00:24:52] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(540.1914, 237.5185), source=NEUTRAL (@RigidBody2D@29298), range=2937, listeners=0
[00:24:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:52] [INFO] [FragGrenade] Player found in blast radius at distance 71.5
[00:24:52] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 71.5
[00:24:52] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 11.7 degrees
[00:24:52] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 91.1 degrees
[00:24:52] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 180.4 degrees
[00:24:52] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 262.7 degrees
[00:24:52] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:53] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:53] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:53] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:53] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1065.553, 259.14676)
[00:24:53] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:53] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:53] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:53] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 344.8753)
[00:24:53] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:53] [INFO] [Player.Grenade] Step 1 complete! Drag: (214.44666, 36.066772)
[00:24:53] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:53] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:53] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:53] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:53] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:53] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:54] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:54] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (589.46313, -110.00761) (599,6 px/s), Swing distance: 53,4
[00:24:54] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,18450098
[00:24:54] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (589.4631, -110.0076), Swing: 53.4, Transfer: 0.22, Final speed: 61.0
[00:24:54] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:54] [INFO] [Player.Grenade] Thrown! Velocity: 599,6, Swing: 53,4
[00:24:54] [INFO] [Player.Grenade] State reset to IDLE
[00:24:54] [INFO] [GrenadeBase] Grenade landed at (530.6265, 243.6026)
[00:24:54] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:24:54] [INFO] [GrenadeBase] EXPLODED at (530.6265, 243.6026)!
[00:24:54] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(530.6265, 243.6026), source=NEUTRAL (@RigidBody2D@29313), range=2937, listeners=0
[00:24:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:24:54] [INFO] [FragGrenade] Player found in blast radius at distance 60.8
[00:24:54] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 60.8
[00:24:54] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 6.8 degrees
[00:24:54] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 97.9 degrees
[00:24:54] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 180.3 degrees
[00:24:54] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 251.3 degrees
[00:24:54] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:54] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:54] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:54] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:54] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:54] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1133.0269, 247.79239)
[00:24:55] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:55] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:55] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:55] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 363.70865)
[00:24:55] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:55] [INFO] [Player.Grenade] Step 1 complete! Drag: (146.97278, 36.925415)
[00:24:55] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:55] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:55] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:55] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:55] [INFO] [GrenadeBase] Grenade landed at (469.9254, 364.2642)
[00:24:55] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:55] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:55] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:55] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (447.9908, -858.85315) (968,7 px/s), Swing distance: 108,7
[00:24:55] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,0900065
[00:24:55] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (447.9908, -858.8531), Swing: 108.7, Transfer: 0.44, Final speed: 200.6
[00:24:55] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:55] [INFO] [Player.Grenade] Thrown! Velocity: 968,7, Swing: 108,7
[00:24:55] [INFO] [Player.Grenade] State reset to IDLE
[00:24:56] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:56] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:56] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:56] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:56] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:56] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1161.0853, 195.03812)
[00:24:56] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:56] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:56] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:56] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 366.59753)
[00:24:56] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:56] [INFO] [Player.Grenade] Step 1 complete! Drag: (118.91431, 68.83984)
[00:24:56] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:56] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:57] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:57] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:57] [INFO] [GrenadeBase] Grenade landed at (469.9254, 367.1531)
[00:24:57] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:57] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:57] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:57] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2340.987, -6.899531) (2341,0 px/s), Swing distance: 213,2
[00:24:57] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,0029472655
[00:24:57] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2340.987, -6.899531), Swing: 213.2, Transfer: 0.86, Final speed: 950.5
[00:24:57] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:57] [INFO] [Player.Grenade] Thrown! Velocity: 2341,0, Swing: 213,2
[00:24:57] [INFO] [Player.Grenade] State reset to IDLE
[00:24:57] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:57] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:58] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:58] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:58] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:58] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1183.1312, 150.2995)
[00:24:58] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:24:58] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:24:58] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:24:58] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 333.43082)
[00:24:58] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:24:58] [INFO] [Player.Grenade] Step 1 complete! Drag: (96.86841, 59.435913)
[00:24:58] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:24:58] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:24:58] [INFO] [GrenadeBase] Grenade landed at (469.9254, 334.9308)
[00:24:58] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:24:58] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:24:58] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:24:58] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:24:59] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:24:59] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1446.1497, -501.91235) (1530,8 px/s), Swing distance: 164,6
[00:24:59] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,33406046
[00:24:59] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1446.15, -501.9124), Swing: 164.6, Transfer: 0.66, Final speed: 479.9
[00:24:59] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:24:59] [INFO] [Player.Grenade] Thrown! Velocity: 1530,8, Swing: 164,6
[00:24:59] [INFO] [Player.Grenade] State reset to IDLE
[00:24:59] [INFO] [Player.Grenade] Player rotation restored to 0
[00:24:59] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:24:59] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:24:59] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:24:59] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:24:59] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1191.148, 128.20831)
[00:25:00] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:00] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:25:00] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:25:00] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 380.7642)
[00:25:00] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:00] [INFO] [Player.Grenade] Step 1 complete! Drag: (88.851685, 95.35155)
[00:25:00] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:00] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:00] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:00] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:00] [INFO] [GrenadeBase] Grenade landed at (469.9254, 382.3197)
[00:25:00] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:00] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:00] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:00] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (707.3558, -339.26666) (784,5 px/s), Swing distance: 179,3
[00:25:00] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,44721648
[00:25:00] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (707.3558, -339.2667), Swing: 179.3, Transfer: 0.72, Final speed: 267.8
[00:25:00] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:25:00] [INFO] [Player.Grenade] Thrown! Velocity: 784,5, Swing: 179,3
[00:25:00] [INFO] [Player.Grenade] State reset to IDLE
[00:25:01] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:01] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:01] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:01] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:01] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:01] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1219.2064, 195.87257)
[00:25:01] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:01] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:25:01] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:25:01] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 410.26416)
[00:25:01] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:01] [INFO] [Player.Grenade] Step 1 complete! Drag: (60.793213, 46.213715)
[00:25:01] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:01] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:02] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:02] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:02] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:02] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:02] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:02] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (314.37985, 269.8684) (414,3 px/s), Swing distance: 103,7
[00:25:02] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,7093592
[00:25:02] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (314.3799, 269.8684), Swing: 103.7, Transfer: 0.42, Final speed: 81.9
[00:25:02] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:25:02] [INFO] [Player.Grenade] Thrown! Velocity: 414,3, Swing: 103,7
[00:25:02] [INFO] [Player.Grenade] State reset to IDLE
[00:25:02] [INFO] [GrenadeBase] Grenade landed at (519.5027, 298.0442)
[00:25:02] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:25:02] [INFO] [GrenadeBase] EXPLODED at (519.5027, 298.0442)!
[00:25:02] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(519.5027, 298.0442), source=NEUTRAL (@RigidBody2D@29327), range=2937, listeners=0
[00:25:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:25:02] [INFO] [FragGrenade] Player found in blast radius at distance 77.0
[00:25:02] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 77.0
[00:25:02] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 16.3 degrees
[00:25:02] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 92.8 degrees
[00:25:02] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 179.2 degrees
[00:25:02] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 267.5 degrees
[00:25:02] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:02] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:03] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:03] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:03] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:03] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1059.5404, 134.4399)
[00:25:03] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:03] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:25:03] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:25:03] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 338.09747)
[00:25:03] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:03] [INFO] [Player.Grenade] Step 1 complete! Drag: (220.45923, 67.38046)
[00:25:03] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:03] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:03] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:03] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:03] [INFO] [GrenadeBase] Grenade landed at (469.9254, 338.653)
[00:25:03] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:03] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:04] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:04] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (306.51996, -102.170425) (323,1 px/s), Swing distance: 65,5
[00:25:04] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,32174206
[00:25:04] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (306.52, -102.1704), Swing: 65.5, Transfer: 0.26, Final speed: 40.3
[00:25:04] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:25:04] [INFO] [Player.Grenade] Thrown! Velocity: 323,1, Swing: 65,5
[00:25:04] [INFO] [Player.Grenade] State reset to IDLE
[00:25:04] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:04] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:04] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:04] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:04] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:04] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1199.1647, 154.2859)
[00:25:05] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:05] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:25:05] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:25:05] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 349.20862)
[00:25:05] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:05] [INFO] [Player.Grenade] Step 1 complete! Drag: (80.83496, 60.77922)
[00:25:05] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:05] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:05] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:05] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:05] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:05] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:05] [INFO] [GrenadeBase] Grenade landed at (469.9254, 349.7086)
[00:25:05] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:05] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, -62.86154) (62,9 px/s), Swing distance: 98,0
[00:25:05] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5707964
[00:25:05] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, -62.86154), Swing: 98.0, Transfer: 0.40, Final speed: 11.7
[00:25:05] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:25:05] [INFO] [Player.Grenade] Thrown! Velocity: 62,9, Swing: 98,0
[00:25:05] [INFO] [Player.Grenade] State reset to IDLE
[00:25:06] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:06] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:06] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:06] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:06] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:06] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1247.9329, 160.29703)
[00:25:06] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:06] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:25:06] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:25:06] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 314.31976)
[00:25:06] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:06] [INFO] [Player.Grenade] Step 1 complete! Drag: (32.066772, 86.82747)
[00:25:06] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:06] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:06] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:06] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:07] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:07] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:07] [INFO] [GrenadeBase] Grenade landed at (469.9254, 314.7086)
[00:25:07] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:07] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (683.77606, -78.576836) (688,3 px/s), Swing distance: 62,8
[00:25:07] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,114414155
[00:25:07] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (683.7761, -78.57684), Swing: 62.8, Transfer: 0.25, Final speed: 82.4
[00:25:07] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:25:07] [INFO] [Player.Grenade] Thrown! Velocity: 688,3, Swing: 62,8
[00:25:07] [INFO] [Player.Grenade] State reset to IDLE
[00:25:07] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:07] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:07] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:08] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:08] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:08] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1180.459, 230.52148)
[00:25:08] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:08] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:25:08] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:25:08] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 378.31982)
[00:25:08] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:08] [INFO] [Player.Grenade] Step 1 complete! Drag: (99.54065, 78.64569)
[00:25:08] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:08] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:08] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:08] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:08] [INFO] [GrenadeBase] Grenade landed at (469.9254, 379.8754)
[00:25:08] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:08] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:09] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:09] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (606.16376, -627.9728) (872,8 px/s), Swing distance: 114,5
[00:25:09] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,8030678
[00:25:09] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (606.1638, -627.9728), Swing: 114.5, Transfer: 0.46, Final speed: 190.4
[00:25:09] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:25:09] [INFO] [Player.Grenade] Thrown! Velocity: 872,8, Swing: 114,5
[00:25:09] [INFO] [Player.Grenade] State reset to IDLE
[00:25:09] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:09] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:09] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:09] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:09] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:09] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1243.9246, 218.43994)
[00:25:10] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:10] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:25:10] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:25:10] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 368.65317)
[00:25:10] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:10] [INFO] [Player.Grenade] Step 1 complete! Drag: (36.075073, 43.98819)
[00:25:10] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:10] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:10] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:10] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:10] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:10] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:10] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:10] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (526.58685, -172.9527) (554,3 px/s), Swing distance: 113,5
[00:25:10] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,31734097
[00:25:10] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (526.5869, -172.9527), Swing: 113.5, Transfer: 0.46, Final speed: 119.8
[00:25:10] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:25:10] [INFO] [Player.Grenade] Thrown! Velocity: 554,3, Swing: 113,5
[00:25:10] [INFO] [Player.Grenade] State reset to IDLE
[00:25:11] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:11] [INFO] [GrenadeBase] Grenade landed at (541.1322, 215.9326)
[00:25:11] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:25:11] [INFO] [GrenadeBase] EXPLODED at (541.1322, 215.9326)!
[00:25:11] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(541.1322, 215.9326), source=NEUTRAL (@RigidBody2D@29347), range=2937, listeners=0
[00:25:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:25:11] [INFO] [FragGrenade] Player found in blast radius at distance 71.5
[00:25:11] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 71.5
[00:25:11] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -17.7 degrees
[00:25:11] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 78.0 degrees
[00:25:11] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 197.0 degrees
[00:25:11] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 258.0 degrees
[00:25:11] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:11] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:11] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:11] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:11] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1185.8035, 201.39162)
[00:25:11] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:11] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:25:11] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:25:11] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 372.59756)
[00:25:11] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:11] [INFO] [Player.Grenade] Step 1 complete! Drag: (94.19617, 21.778427)
[00:25:11] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:11] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:12] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:12] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:12] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:12] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:12] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:12] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (809.5286, -556.76886) (982,5 px/s), Swing distance: 112,6
[00:25:12] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,6024701
[00:25:12] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (809.5286, -556.7689), Swing: 112.6, Transfer: 0.45, Final speed: 210.7
[00:25:12] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:25:12] [INFO] [Player.Grenade] Thrown! Velocity: 982,5, Swing: 112,6
[00:25:12] [INFO] [Player.Grenade] State reset to IDLE
[00:25:12] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:12] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:13] [INFO] [GrenadeBase] Grenade landed at (557.8112, 188.7081)
[00:25:13] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:25:13] [INFO] [GrenadeBase] EXPLODED at (557.8112, 188.7081)!
[00:25:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(557.8112, 188.7081), source=NEUTRAL (@RigidBody2D@29358), range=2937, listeners=0
[00:25:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:25:13] [INFO] [FragGrenade] Player found in blast radius at distance 100.0
[00:25:13] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 100.0
[00:25:13] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 5.4 degrees
[00:25:13] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 100.3 degrees
[00:25:13] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 198.3 degrees
[00:25:13] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 262.9 degrees
[00:25:13] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:13] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:13] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:13] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1200.5007, 162.98903)
[00:25:13] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:13] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:25:13] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:25:13] [INFO] [Player.Grenade] Timer started, grenade created at (469.92545, 374.8198)
[00:25:13] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:13] [INFO] [Player.Grenade] Step 1 complete! Drag: (79.4989, 37.842804)
[00:25:13] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:13] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:13] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:13] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:13] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:13] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:14] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:14] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (974.5792, -562.16486) (1125,1 px/s), Swing distance: 149,5
[00:25:14] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,5232072
[00:25:14] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (974.5792, -562.1649), Swing: 149.5, Transfer: 0.60, Final speed: 320.3
[00:25:14] [INFO] [FragGrenade] Grenade thrown (velocity-based) - impact detection enabled
[00:25:14] [INFO] [Player.Grenade] Thrown! Velocity: 1125,1, Swing: 149,5
[00:25:14] [INFO] [Player.Grenade] State reset to IDLE
[00:25:14] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:14] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:14] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:14] [INFO] [GrenadeBase] Grenade landed at (605.0657, 155.256)
[00:25:14] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:25:14] [INFO] [GrenadeBase] EXPLODED at (605.0657, 155.256)!
[00:25:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(605.0657, 155.256), source=NEUTRAL (@RigidBody2D@29368), range=2937, listeners=0
[00:25:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:25:14] [INFO] [FragGrenade] Player found in blast radius at distance 143.9
[00:25:14] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 143.9
[00:25:14] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 9.0 degrees
[00:25:14] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 77.0 degrees
[00:25:14] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 178.8 degrees
[00:25:14] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 282.1 degrees
[00:25:16] [INFO] [PauseMenu] Armory button pressed
[00:25:16] [INFO] [PauseMenu] Creating new armory menu instance
[00:25:16] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[00:25:16] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[00:25:16] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[00:25:16] [INFO] [PauseMenu] back_pressed signal exists on instance
[00:25:16] [INFO] [PauseMenu] back_pressed signal connected
[00:25:16] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[00:25:16] [INFO] [PauseMenu] _populate_weapon_grid method exists
[00:25:17] [INFO] [GrenadeManager] Grenade type changed from Frag Grenade to Flashbang
[00:25:17] [INFO] [GrenadeManager] Restarting level due to grenade type change
[00:25:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:25:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:25:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:25:17] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[00:25:17] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:25:17] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:25:17] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:25:17] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:25:17] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[00:25:17] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[00:25:17] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:25:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 366), source=PLAYER (AssaultRifle), range=1469, listeners=0
[00:25:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:25:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:25:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:25:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:25:17] [INFO] [LastChance] Found player: Player
[00:25:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:25:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:25:17] [INFO] [LastChance] Connected to player Died signal (C#)
[00:25:17] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:25:17] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:25:17] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:25:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 366), shooter_id=23399669698839, bullet_pos=(508.33328, 366)
[00:25:17] [INFO] [Bullet] Using shooter_position, distance=358,33328
[00:25:17] [INFO] [Bullet] Distance to wall: 358,33328 (24,399572% of viewport)
[00:25:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:25:17] [INFO] [Bullet] Starting wall penetration at (508.33328, 366)
[00:25:17] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:25:17] [INFO] [Bullet] Exiting penetration at (554.99994, 366) after traveling 41,666668 pixels through wall
[00:25:17] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:25:17] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:17] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:17] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (692.78436, 276.51205)
[00:25:17] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:17] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:25:17] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[00:25:17] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:17] [INFO] [Player.Grenade] Step 1 complete! Drag: (442.48798, 8.014862)
[00:25:17] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:17] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:18] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:18] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:18] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:18] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:19] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:19] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (408.6992, -1185.5287) (1254,0 px/s), Swing distance: 111,0
[00:25:19] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,2388151
[00:25:19] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (408.6992, -1185.529), Swing: 111.0, Transfer: 0.69, Final speed: 453.0
[00:25:19] [INFO] [Player.Grenade] Thrown! Velocity: 1254,0, Swing: 111,0
[00:25:19] [INFO] [Player.Grenade] State reset to IDLE
[00:25:19] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:20] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:20] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:20] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:20] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:20] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (982.04553, 345.7796)
[00:25:20] [INFO] [GrenadeBase] Grenade landed at (542.6398, 100.6434)
[00:25:20] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:20] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:25:20] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 425.80515)
[00:25:20] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:20] [INFO] [Player.Grenade] Step 1 complete! Drag: (297.9541, -2.2792664)
[00:25:20] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:20] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:20] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:20] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:20] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:20] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:21] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:21] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (911.70294, 20.969385) (911,9 px/s), Swing distance: 130,8
[00:25:21] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,022996183
[00:25:21] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (911.7029, 20.96939), Swing: 130.8, Transfer: 0.81, Final speed: 388.2
[00:25:21] [INFO] [Player.Grenade] Thrown! Velocity: 911,9, Swing: 130,8
[00:25:21] [INFO] [Player.Grenade] State reset to IDLE
[00:25:21] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:21] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:21] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:21] [INFO] [GrenadeBase] EXPLODED at (543.7986, 97.28209)!
[00:25:21] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(543.7986, 97.28209), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:25:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:25:22] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:22] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:22] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1279.9996, 300.92612)
[00:25:22] [INFO] [GrenadeBase] Grenade landed at (656.5827, 288.0462)
[00:25:22] [INFO] [Player.Grenade] Step 1 failed: drag not far enough right (0 < 30)
[00:25:22] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1249.269, 345.4362)
[00:25:22] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:22] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:23] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:23] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:23] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1009.436, 256.47513)
[00:25:23] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:23] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:25:23] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 317.083)
[00:25:23] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:23] [INFO] [Player.Grenade] Step 1 complete! Drag: (213.11066, 16.697601)
[00:25:23] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:23] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:23] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:23] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:23] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:23] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:23] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:23] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (542.30524, -1133.4716) (1256,5 px/s), Swing distance: 151,1
[00:25:23] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,12454
[00:25:23] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (542.3052, -1133.472), Swing: 151.1, Transfer: 0.93, Final speed: 617.9
[00:25:23] [INFO] [Player.Grenade] Thrown! Velocity: 1256,5, Swing: 151,1
[00:25:23] [INFO] [Player.Grenade] State reset to IDLE
[00:25:24] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:24] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:24] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:25:24] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:24] [INFO] [GrenadeBase] Grenade landed at (585.81, 86.8491)
[00:25:24] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:24] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:24] [INFO] [GrenadeBase] EXPLODED at (660.0574, 288.1261)!
[00:25:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(660.0574, 288.1261), source=NEUTRAL (@RigidBody2D@29418), range=2937, listeners=0
[00:25:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:25:24] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1255.9496, 224.27429)
[00:25:24] [INFO] [Player.Grenade] Step 1 failed: drag not far enough right (0 < 30)
[00:25:24] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1175.1145, 212.17534)
[00:25:24] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:25] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:26] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:26] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:26] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (787.64056, 123.70672)
[00:25:26] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:26] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:25:26] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 308.97174)
[00:25:26] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:26] [INFO] [Player.Grenade] Step 1 complete! Drag: (394.82257, 18.658775)
[00:25:26] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:26] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:26] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:26] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:26] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:26] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:27] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:27] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, 62.85954) (62,9 px/s), Swing distance: 53,4
[00:25:27] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,5707964
[00:25:27] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, 62.85954), Swing: 53.4, Transfer: 0.33, Final speed: 10.9
[00:25:27] [INFO] [Player.Grenade] Thrown! Velocity: 62,9, Swing: 53,4
[00:25:27] [INFO] [Player.Grenade] State reset to IDLE
[00:25:27] [INFO] [GrenadeBase] Grenade landed at (469.7716, 308.3051)
[00:25:27] [INFO] [GrenadeBase] EXPLODED at (587.973, 89.61211)!
[00:25:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(587.973, 89.61211), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:25:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:25:27] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:27] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:27] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:28] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:28] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:28] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1024.1333, 193.93729)
[00:25:28] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:28] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:25:28] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 410.0273)
[00:25:28] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:28] [INFO] [Player.Grenade] Step 1 complete! Drag: (255.86633, 6.1766357)
[00:25:28] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:28] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:28] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:28] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:28] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:28] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:29] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:29] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (833.1068, 16.650457) (833,3 px/s), Swing distance: 115,4
[00:25:29] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,019983321
[00:25:29] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (833.1068, 16.65046), Swing: 115.4, Transfer: 0.71, Final speed: 312.8
[00:25:29] [INFO] [Player.Grenade] Thrown! Velocity: 833,3, Swing: 115,4
[00:25:29] [INFO] [Player.Grenade] State reset to IDLE
[00:25:29] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:29] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:29] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:29] [INFO] [GrenadeBase] Grenade landed at (618.439, 246.9986)
[00:25:29] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:29] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:29] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1056.2001, 141.53148)
[00:25:30] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:30] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:25:30] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 390.9717)
[00:25:30] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:30] [INFO] [Player.Grenade] Step 1 complete! Drag: (223.79956, 72.95206)
[00:25:30] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:30] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:30] [INFO] [GrenadeBase] EXPLODED at (469.7716, 308.4156)!
[00:25:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(469.7716, 308.4156), source=NEUTRAL (@RigidBody2D@29421), range=2937, listeners=0
[00:25:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:25:30] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:30] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:30] [INFO] [GrenadeBase] Grenade landed at (469.7716, 391.5273)
[00:25:30] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:30] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:30] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:30] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (573.74335, -455.27496) (732,4 px/s), Swing distance: 112,1
[00:25:30] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,6707752
[00:25:30] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (573.7433, -455.275), Swing: 112.1, Transfer: 0.69, Final speed: 267.0
[00:25:30] [INFO] [Player.Grenade] Thrown! Velocity: 732,4, Swing: 112,1
[00:25:30] [INFO] [Player.Grenade] State reset to IDLE
[00:25:31] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:31] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:31] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:31] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:31] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:31] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1224.5508, 119.28584)
[00:25:31] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:31] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:25:31] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 412.41614)
[00:25:31] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:31] [INFO] [Player.Grenade] Step 1 complete! Drag: (55.448853, 43.07283)
[00:25:31] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:31] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:32] [INFO] [GrenadeBase] Grenade landed at (469.7716, 411.305)
[00:25:32] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:32] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:32] [INFO] [GrenadeBase] EXPLODED at (622.239, 247.0745)!
[00:25:32] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(622.239, 247.0745), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:25:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:25:32] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:32] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:32] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:32] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (468.62247, 271.24026) (541,5 px/s), Swing distance: 89,2
[00:25:32] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,52468795
[00:25:32] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (468.6225, 271.2403), Swing: 89.2, Transfer: 0.55, Final speed: 157.1
[00:25:32] [INFO] [Player.Grenade] Thrown! Velocity: 541,5, Swing: 89,2
[00:25:32] [INFO] [Player.Grenade] State reset to IDLE
[00:25:32] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:33] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:33] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:33] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:33] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:33] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1051.5237, 60.182983)
[00:25:33] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:33] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:25:33] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 376.74948)
[00:25:33] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:33] [INFO] [Player.Grenade] Step 1 complete! Drag: (215.11487, 21.42765)
[00:25:33] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:33] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:34] [INFO] [GrenadeBase] EXPLODED at (572.756, 145.8074)!
[00:25:34] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(572.756, 145.8074), source=NEUTRAL (@RigidBody2D@29423), range=2937, listeners=0
[00:25:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:25:34] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:34] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:34] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:34] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:34] [INFO] [GrenadeBase] Grenade landed at (469.7716, 379.6384)
[00:25:34] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:34] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, 88.88097) (88,9 px/s), Swing distance: 55,5
[00:25:34] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,5707964
[00:25:34] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, 88.88097), Swing: 55.5, Transfer: 0.34, Final speed: 16.1
[00:25:34] [INFO] [Player.Grenade] Thrown! Velocity: 88,9, Swing: 55,5
[00:25:34] [INFO] [Player.Grenade] State reset to IDLE
[00:25:35] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:35] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:35] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:35] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:35] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:35] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1256.6177, 77.57847)
[00:25:35] [INFO] [Player.Grenade] Step 1 failed: drag not far enough right (23,381958 < 30)
[00:25:35] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1189.1438, 83.828705)
[00:25:35] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:35] [INFO] [GrenadeBase] EXPLODED at (546.6891, 271.4362)!
[00:25:35] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(546.6891, 271.4362), source=NEUTRAL (@RigidBody2D@29425), range=2937, listeners=0
[00:25:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:25:36] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:37] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:37] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:37] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1106.9725, 71.4883)
[00:25:37] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:37] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:25:37] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 229.13834)
[00:25:37] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:37] [INFO] [Player.Grenade] Step 1 complete! Drag: (173.0271, 42.069893)
[00:25:37] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:37] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:37] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:37] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:37] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:37] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:37] [INFO] [GrenadeBase] EXPLODED at (469.7716, 311.8718)!
[00:25:37] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(469.7716, 311.8718), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:25:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:25:39] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:39] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, -1190.4978) (1190,5 px/s), Swing distance: 159,1
[00:25:39] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5707964
[00:25:39] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, -1190.498), Swing: 159.1, Transfer: 0.98, Final speed: 616.3
[00:25:39] [INFO] [Player.Grenade] Thrown! Velocity: 1190,5, Swing: 159,1
[00:25:39] [INFO] [Player.Grenade] State reset to IDLE
[00:25:40] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:40] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:40] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:25:40] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:40] [INFO] [GrenadeBase] Grenade landed at (469.7723, 96.40108)
[00:25:40] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:40] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:40] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1190.4799, 6.017632)
[00:25:40] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:40] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:25:40] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 350.36063)
[00:25:40] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:40] [INFO] [Player.Grenade] Step 1 complete! Drag: (89.519775, 42.743538)
[00:25:40] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:40] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:40] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:40] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:41] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:41] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:41] [INFO] [GrenadeBase] EXPLODED at (469.7724, 100.2815)!
[00:25:41] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(469.7724, 100.2815), source=NEUTRAL (@RigidBody2D@29429), range=2937, listeners=0
[00:25:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:25:41] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:41] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, -31.430752) (31,4 px/s), Swing distance: 63,8
[00:25:41] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5707964
[00:25:41] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, -31.43075), Swing: 63.8, Transfer: 0.39, Final speed: 6.5
[00:25:41] [INFO] [Player.Grenade] Thrown! Velocity: 31,4, Swing: 63,8
[00:25:41] [INFO] [Player.Grenade] State reset to IDLE
[00:25:41] [INFO] [GrenadeBase] Grenade landed at (469.7716, 180.6939)
[00:25:41] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:41] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:42] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:42] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:42] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:42] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1205.8452, 7.2180147)
[00:25:42] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:42] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:25:42] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 378.86063)
[00:25:42] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:42] [INFO] [Player.Grenade] Step 1 complete! Drag: (74.15442, 50.28402)
[00:25:42] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:42] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:42] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:42] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:42] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:42] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:43] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:43] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, -12.466766) (12,5 px/s), Swing distance: 63,0
[00:25:43] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5707964
[00:25:43] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, -12.46677), Swing: 63.0, Transfer: 0.39, Final speed: 2.6
[00:25:43] [INFO] [Player.Grenade] Thrown! Velocity: 12,5, Swing: 63,0
[00:25:43] [INFO] [Player.Grenade] State reset to IDLE
[00:25:43] [INFO] [GrenadeBase] Grenade landed at (469.7716, 190.7495)
[00:25:43] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:43] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:43] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:44] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:44] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:44] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1160.4172, 9.377321)
[00:25:44] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:44] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:25:44] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 357.58286)
[00:25:44] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:44] [INFO] [Player.Grenade] Step 1 complete! Drag: (119.5824, 39.398468)
[00:25:44] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:44] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:44] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:44] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:44] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:44] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:44] [INFO] [GrenadeBase] EXPLODED at (469.7716, 180.669)!
[00:25:44] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(469.7716, 180.669), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:25:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:25:44] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:44] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (481.88525, -7.481021) (481,9 px/s), Swing distance: 61,9
[00:25:44] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,015523239
[00:25:44] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (481.8853, -7.481021), Swing: 61.9, Transfer: 0.38, Final speed: 97.1
[00:25:44] [INFO] [Player.Grenade] Thrown! Velocity: 481,9, Swing: 61,9
[00:25:44] [INFO] [Player.Grenade] State reset to IDLE
[00:25:44] [INFO] [GrenadeBase] Grenade landed at (538.0812, 294.9668)
[00:25:44] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:45] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:45] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:45] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:45] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:45] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1184.4673, 64.07364)
[00:25:45] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:45] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:25:45] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 371.5273)
[00:25:45] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:45] [INFO] [Player.Grenade] Step 1 complete! Drag: (95.53235, 87.68913)
[00:25:45] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:45] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:46] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:46] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:46] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:46] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:46] [INFO] [GrenadeBase] EXPLODED at (469.7716, 190.7495)!
[00:25:46] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(469.7716, 190.7495), source=NEUTRAL (@RigidBody2D@29432), range=2937, listeners=0
[00:25:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:25:46] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:46] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (809.42676, -122.284996) (818,6 px/s), Swing distance: 153,4
[00:25:46] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,14994216
[00:25:46] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (809.4268, -122.285), Swing: 153.4, Transfer: 0.95, Final speed: 408.7
[00:25:46] [INFO] [Player.Grenade] Thrown! Velocity: 818,6, Swing: 153,4
[00:25:46] [INFO] [Player.Grenade] State reset to IDLE
[00:25:46] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:46] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:47] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:47] [INFO] [GrenadeBase] Grenade landed at (664.7378, 248.9059)
[00:25:47] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:47] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:47] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1264.6344, 46.238384)
[00:25:47] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:48] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:48] [INFO] [GrenadeBase] EXPLODED at (541.798, 294.9091)!
[00:25:48] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(541.798, 294.9091), source=NEUTRAL (@RigidBody2D@29433), range=2937, listeners=0
[00:25:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:25:49] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:49] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:49] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1179.7909, 42.943752)
[00:25:49] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:49] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:25:49] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 401.0273)
[00:25:49] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:49] [INFO] [Player.Grenade] Step 1 complete! Drag: (100.20874, 32.845882)
[00:25:49] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:49] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:49] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:49] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:49] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:49] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:49] [INFO] [GrenadeBase] EXPLODED at (668.714, 248.3052)!
[00:25:49] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(668.714, 248.3052), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:25:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:25:50] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:50] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (78.594604, -533.653) (539,4 px/s), Swing distance: 103,4
[00:25:50] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,4245709
[00:25:50] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (78.5946, -533.653), Swing: 103.4, Transfer: 0.64, Final speed: 181.5
[00:25:50] [INFO] [Player.Grenade] Thrown! Velocity: 539,4, Swing: 103,4
[00:25:50] [INFO] [Player.Grenade] State reset to IDLE
[00:25:50] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:50] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:50] [INFO] [GrenadeBase] Grenade landed at (483.3588, 152.6602)
[00:25:50] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:51] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:51] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:51] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1225.2189, 16.543285)
[00:25:51] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:51] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:25:51] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 386.63843)
[00:25:51] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:51] [INFO] [Player.Grenade] Step 1 complete! Drag: (54.78076, 64.07521)
[00:25:51] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:51] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:51] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:51] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:51] [INFO] [GrenadeBase] Grenade landed at (469.7716, 388.1384)
[00:25:51] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:51] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:52] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:52] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, 790.89246) (790,9 px/s), Swing distance: 280,3
[00:25:52] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,5707964
[00:25:52] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, 790.8925), Swing: 280.3, Transfer: 1.00, Final speed: 416.8
[00:25:52] [INFO] [Player.Grenade] Thrown! Velocity: 790,9, Swing: 280,3
[00:25:52] [INFO] [Player.Grenade] State reset to IDLE
[00:25:52] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:52] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:52] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:52] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:52] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:52] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1245.9287, 159.00279)
[00:25:52] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:52] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:25:52] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 364.13846)
[00:25:52] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:52] [INFO] [Player.Grenade] Step 1 complete! Drag: (34.070923, 60.356003)
[00:25:52] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:52] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:52] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:52] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:53] [INFO] [GrenadeBase] Grenade landed at (469.7716, 364.694)
[00:25:53] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:53] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:53] [INFO] [GrenadeBase] EXPLODED at (483.9301, 148.7811)!
[00:25:53] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(483.9301, 148.7811), source=NEUTRAL (@RigidBody2D@29437), range=2937, listeners=0
[00:25:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:25:53] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:53] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, 13.786001) (13,8 px/s), Swing distance: 105,1
[00:25:53] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,5707964
[00:25:53] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, 13.786), Swing: 105.1, Transfer: 0.65, Final speed: 4.7
[00:25:53] [INFO] [Player.Grenade] Thrown! Velocity: 13,8, Swing: 105,1
[00:25:53] [INFO] [Player.Grenade] State reset to IDLE
[00:25:53] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:53] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:54] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:54] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:54] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:54] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1201.8368, 266.49838)
[00:25:54] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:54] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:55] [INFO] [GrenadeBase] EXPLODED at (469.7716, 430.6911)!
[00:25:55] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(469.7716, 430.6911), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:25:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:25:55] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:55] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:55] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1134.3629, 264.27496)
[00:25:56] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:56] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:25:56] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 386.58286)
[00:25:56] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:56] [INFO] [Player.Grenade] Step 1 complete! Drag: (145.63672, 77.89212)
[00:25:56] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:56] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:56] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:56] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:56] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:56] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:56] [INFO] [GrenadeBase] EXPLODED at (469.7716, 285.9718)!
[00:25:56] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(469.7716, 285.9718), source=NEUTRAL (@RigidBody2D@29439), range=2937, listeners=0
[00:25:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:25:57] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:57] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, -385.76193) (385,8 px/s), Swing distance: 96,6
[00:25:57] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5707964
[00:25:57] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, -385.7619), Swing: 96.6, Transfer: 0.60, Final speed: 121.2
[00:25:57] [INFO] [Player.Grenade] Thrown! Velocity: 385,8, Swing: 96,6
[00:25:57] [INFO] [Player.Grenade] State reset to IDLE
[00:25:57] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:57] [INFO] [GrenadeBase] Grenade landed at (469.7716, 170.911)
[00:25:57] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:57] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:57] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:57] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:57] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1230.5634, 247.18736)
[00:25:57] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:25:57] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:25:57] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 370.30508)
[00:25:57] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:25:57] [INFO] [Player.Grenade] Step 1 complete! Drag: (49.43628, 65.61116)
[00:25:57] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:25:57] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:25:58] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:25:58] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:25:58] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:25:58] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:25:58] [INFO] [GrenadeBase] Grenade landed at (469.7716, 370.8051)
[00:25:58] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:25:58] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, 281.10004) (281,1 px/s), Swing distance: 125,4
[00:25:58] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,5707964
[00:25:58] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, 281.1), Swing: 125.4, Transfer: 0.77, Final speed: 114.7
[00:25:58] [INFO] [Player.Grenade] Thrown! Velocity: 281,1, Swing: 125,4
[00:25:58] [INFO] [Player.Grenade] State reset to IDLE
[00:25:58] [INFO] [Player.Grenade] Player rotation restored to 0
[00:25:59] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:25:59] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:25:59] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:25:59] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:25:59] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1265.3024, 434.8135)
[00:26:00] [INFO] [GrenadeBase] EXPLODED at (469.7716, 167.6299)!
[00:26:00] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(469.7716, 167.6299), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:26:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:26:00] [INFO] [Player.Grenade] Step 1 failed: drag not far enough right (14,697266 < 30)
[00:26:00] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1198.4966, 422.7831)
[00:26:00] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:26:00] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:26:00] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 350.194)
[00:26:00] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:26:00] [INFO] [Player.Grenade] Step 1 complete! Drag: (81.50305, 4.6753235)
[00:26:00] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:26:00] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:26:01] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:26:01] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:26:01] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:26:01] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:26:01] [INFO] [GrenadeBase] EXPLODED at (469.7716, 282.1781)!
[00:26:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(469.7716, 282.1781), source=NEUTRAL (@RigidBody2D@29443), range=2937, listeners=0
[00:26:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:26:02] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:26:02] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (503.00864, -1227.2727) (1326,4 px/s), Swing distance: 176,1
[00:26:02] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,1818199
[00:26:02] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (503.0086, -1227.273), Swing: 176.1, Transfer: 1.00, Final speed: 699.1
[00:26:02] [INFO] [Player.Grenade] Thrown! Velocity: 1326,4, Swing: 176,1
[00:26:02] [INFO] [Player.Grenade] State reset to IDLE
[00:26:02] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:26:02] [INFO] [Player.Grenade] Player rotation restored to 0
[00:26:02] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:26:02] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:26:02] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:26:02] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:26:02] [INFO] [GrenadeBase] Grenade landed at (558.2623, 126.4834)
[00:26:02] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1071.5654, 348.6458)
[00:26:02] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:26:02] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:26:02] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 187.13843)
[00:26:02] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:26:02] [INFO] [Player.Grenade] Step 1 complete! Drag: (208.4342, 57.439728)
[00:26:03] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:26:03] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:26:03] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:26:03] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:26:03] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:26:03] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:26:04] [INFO] [GrenadeBase] EXPLODED at (560.1699, 129.3281)!
[00:26:04] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(560.1699, 129.3281), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:26:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:26:06] [INFO] [GrenadeBase] EXPLODED at (469.7716, 187.1384)!
[00:26:06] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(469.7716, 187.1384), source=NEUTRAL (@RigidBody2D@29446), range=2937, listeners=0
[00:26:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:26:07] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:26:07] [INFO] [Player.Grenade] State reset to IDLE
[00:26:07] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:26:08] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:26:08] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:26:08] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (948.64264, 520.29706)
[00:26:08] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:26:08] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:26:08] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 187.13843)
[00:26:08] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:26:08] [INFO] [Player.Grenade] Step 1 complete! Drag: (331.357, 56.10388)
[00:26:08] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:26:08] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:26:08] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:26:08] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:26:08] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:26:08] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:26:08] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:26:08] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2460.0269, -47.146423) (2460,5 px/s), Swing distance: 201,3
[00:26:08] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,019162657
[00:26:08] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2460.027, -47.14642), Swing: 201.3, Transfer: 1.00, Final speed: 1296.8
[00:26:08] [INFO] [Player.Grenade] Thrown! Velocity: 2460,5, Swing: 201,3
[00:26:08] [INFO] [Player.Grenade] State reset to IDLE
[00:26:09] [INFO] [Player.Grenade] Player rotation restored to 0
[00:26:09] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:26:09] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:26:09] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:26:09] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:26:09] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (682.7554, 475.54752)
[00:26:09] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:26:09] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:26:09] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 187.13843)
[00:26:09] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:26:09] [INFO] [Player.Grenade] Step 1 complete! Drag: (516.4093, 59.44339)
[00:26:09] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:26:09] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:26:09] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:26:09] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:26:09] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:26:09] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:26:09] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:26:09] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (492.26044, -145.46205) (513,3 px/s), Swing distance: 186,4
[00:26:09] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,28732157
[00:26:09] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (492.2604, -145.4621), Swing: 186.4, Transfer: 1.00, Final speed: 270.5
[00:26:09] [INFO] [Player.Grenade] Thrown! Velocity: 513,3, Swing: 186,4
[00:26:09] [INFO] [Player.Grenade] State reset to IDLE
[00:26:10] [INFO] [Player.Grenade] Player rotation restored to 0
[00:26:10] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:26:10] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:26:10] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:26:10] [INFO] [GrenadeBase] Grenade landed at (1257.742, 172.037)
[00:26:10] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (416.20004, 426.79053)
[00:26:10] [INFO] [GrenadeBase] Grenade landed at (593.7633, 150.4991)
[00:26:10] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:26:10] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:26:10] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 187.13843)
[00:26:10] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:26:10] [INFO] [Player.Grenade] Step 1 complete! Drag: (605.261, -5.3432007)
[00:26:10] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:26:10] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:26:11] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:26:11] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:26:11] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:26:11] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, 0) (0,0 px/s), Swing distance: 0,0
[00:26:11] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0
[00:26:11] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, 0), Swing: 0.0, Transfer: 0.00, Final speed: 0.0
[00:26:11] [INFO] [Player.Grenade] Thrown! Velocity: 0,0, Swing: 0,0
[00:26:11] [INFO] [Player.Grenade] State reset to IDLE
[00:26:11] [INFO] [Player.Grenade] Player rotation restored to 0
[00:26:11] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:26:11] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:26:11] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:26:11] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (893.8618, 328.60873)
[00:26:11] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:26:11] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:26:11] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 187.13843)
[00:26:11] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:26:11] [INFO] [Player.Grenade] Step 1 complete! Drag: (386.13782, -10.686462)
[00:26:11] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:26:11] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:26:11] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:26:11] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:26:12] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:26:12] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:26:12] [INFO] [GrenadeBase] EXPLODED at (1261.203, 171.9707)!
[00:26:12] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1261.203, 171.9707), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:26:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:26:12] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:26:12] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (258.5208, 64.107574) (266,4 px/s), Swing distance: 369,3
[00:26:12] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,24307506
[00:26:12] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (258.5208, 64.10757), Swing: 369.3, Transfer: 1.00, Final speed: 140.4
[00:26:12] [INFO] [Player.Grenade] Thrown! Velocity: 266,4, Swing: 369,3
[00:26:12] [INFO] [Player.Grenade] State reset to IDLE
[00:26:12] [INFO] [Player.Grenade] Player rotation restored to 0
[00:26:12] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:26:12] [INFO] [GrenadeBase] Grenade landed at (547.2834, 206.3597)
[00:26:12] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:26:12] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:26:12] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (919.91614, 323.9334)
[00:26:12] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:26:12] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:26:12] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 187.13843)
[00:26:12] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:26:12] [INFO] [Player.Grenade] Step 1 complete! Drag: (360.0835, -20.705017)
[00:26:13] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:26:13] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:26:13] [INFO] [GrenadeBase] EXPLODED at (597.344, 149.441)!
[00:26:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(597.344, 149.441), source=NEUTRAL (@RigidBody2D@29449), range=2937, listeners=0
[00:26:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:26:13] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:26:13] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:26:13] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:26:13] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:26:13] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:26:13] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (899.4771, -745.9346) (1168,5 px/s), Swing distance: 172,7
[00:26:13] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,69235206
[00:26:13] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (899.4771, -745.9346), Swing: 172.7, Transfer: 1.00, Final speed: 615.9
[00:26:13] [INFO] [Player.Grenade] Thrown! Velocity: 1168,5, Swing: 172,7
[00:26:13] [INFO] [Player.Grenade] State reset to IDLE
[00:26:13] [INFO] [Player.Grenade] Player rotation restored to 0
[00:26:13] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:26:14] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:26:14] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:26:14] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:26:14] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (951.3149, 284.5271)
[00:26:14] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:26:14] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:26:14] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 187.13843)
[00:26:14] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:26:14] [INFO] [Player.Grenade] Step 1 complete! Drag: (328.68475, 1.3357849)
[00:26:14] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:26:14] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:26:14] [INFO] [GrenadeBase] Grenade landed at (659.0215, 95.33604)
[00:26:14] [INFO] [GrenadeBase] EXPLODED at (529.7716, 187.1384)!
[00:26:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(529.7716, 187.1384), source=NEUTRAL (@RigidBody2D@29450), range=2937, listeners=0
[00:26:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:26:14] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:26:14] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:26:15] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:26:15] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, 0) (0,0 px/s), Swing distance: 0,0
[00:26:15] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,028394926
[00:26:15] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, 0), Swing: 0.0, Transfer: 0.00, Final speed: 0.0
[00:26:15] [INFO] [Player.Grenade] Thrown! Velocity: 0,0, Swing: 0,0
[00:26:15] [INFO] [Player.Grenade] State reset to IDLE
[00:26:15] [INFO] [Player.Grenade] Player rotation restored to 0
[00:26:15] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:26:15] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:26:15] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:26:15] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (276.57584, 216.40092)
[00:26:15] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:26:15] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:26:15] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 187.13843)
[00:26:15] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:26:15] [INFO] [Player.Grenade] Step 1 complete! Drag: (847.09827, -22.040817)
[00:26:15] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:26:15] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:26:15] [INFO] [GrenadeBase] EXPLODED at (550.9388, 207.2662)!
[00:26:15] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(550.9388, 207.2662), source=NEUTRAL (@RigidBody2D@29451), range=2937, listeners=0
[00:26:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:26:16] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:26:16] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:26:16] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:26:16] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, 0) (0,0 px/s), Swing distance: 0,0
[00:26:16] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,06376722
[00:26:16] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, 0), Swing: 0.0, Transfer: 0.00, Final speed: 0.0
[00:26:16] [INFO] [Player.Grenade] Thrown! Velocity: 0,0, Swing: 0,0
[00:26:16] [INFO] [Player.Grenade] State reset to IDLE
[00:26:16] [INFO] [Player.Grenade] Player rotation restored to 0
[00:26:16] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:26:16] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:26:16] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:26:16] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (746.22095, 249.1282)
[00:26:16] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:26:16] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:26:16] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 187.13843)
[00:26:16] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:26:16] [INFO] [Player.Grenade] Step 1 complete! Drag: (533.7787, -10.018555)
[00:26:16] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:26:16] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:26:17] [INFO] [GrenadeBase] EXPLODED at (662.4385, 97.068)!
[00:26:17] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(662.4385, 97.068), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:26:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:26:17] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:26:17] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:26:17] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:26:17] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, 0) (0,0 px/s), Swing distance: 0,0
[00:26:17] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,7690675
[00:26:17] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, 0), Swing: 0.0, Transfer: 0.00, Final speed: 0.0
[00:26:17] [INFO] [Player.Grenade] Thrown! Velocity: 0,0, Swing: 0,0
[00:26:17] [INFO] [Player.Grenade] State reset to IDLE
[00:26:17] [INFO] [Player.Grenade] Player rotation restored to 0
[00:26:17] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:26:17] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:26:17] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:26:17] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (893.8618, 186.34526)
[00:26:17] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:26:17] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:26:17] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 187.13843)
[00:26:17] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:26:17] [INFO] [Player.Grenade] Step 1 complete! Drag: (386.13782, 8.014847)
[00:26:17] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:26:17] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:26:18] [INFO] [GrenadeBase] EXPLODED at (529.7474, 185.435)!
[00:26:18] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(529.7474, 185.435), source=NEUTRAL (@RigidBody2D@29454), range=2937, listeners=0
[00:26:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:26:18] [INFO] [Player.Grenade] RMB released before G - back to waiting for RMB
[00:26:18] [INFO] [Player.Grenade] G released - dropping grenade at feet
[00:26:18] [INFO] [Player.Grenade] Grenade dropped at feet at (469.77164, 187.13843) (unfrozen)
[00:26:18] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:26:18] [INFO] [Player.Grenade] State reset to IDLE
[00:26:18] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:26:18] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:26:18] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:26:18] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (432.90152, 175.65881)
[00:26:19] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:26:19] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:26:19] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 187.13843)
[00:26:19] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:26:19] [INFO] [Player.Grenade] Step 1 complete! Drag: (708.81006, -83.48794)
[00:26:19] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:26:19] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:26:19] [INFO] [GrenadeBase] EXPLODED at (529.6497, 183.315)!
[00:26:19] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(529.6497, 183.315), source=NEUTRAL (@RigidBody2D@29456), range=2937, listeners=0
[00:26:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:26:19] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:26:19] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:26:19] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:26:19] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:26:20] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:26:20] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, 56.47711) (56,5 px/s), Swing distance: 273,9
[00:26:20] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 1,5707964
[00:26:20] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, 56.47711), Swing: 273.9, Transfer: 1.00, Final speed: 29.8
[00:26:20] [INFO] [Player.Grenade] Thrown! Velocity: 56,5, Swing: 273,9
[00:26:20] [INFO] [Player.Grenade] State reset to IDLE
[00:26:20] [INFO] [Player.Grenade] Player rotation restored to 0
[00:26:20] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:26:20] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:26:20] [INFO] [GrenadeBase] EXPLODED at (512.8852, 145.4105)!
[00:26:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(512.8852, 145.4105), source=NEUTRAL (@RigidBody2D@29458), range=2937, listeners=0
[00:26:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:26:21] [INFO] [GrenadeBase] EXPLODED at (469.7716, 187.1384)!
[00:26:21] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(469.7716, 187.1384), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:26:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:26:22] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:26:22] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:26:22] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1191.8159, 116.88331)
[00:26:22] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:26:22] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:26:22] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 187.13843)
[00:26:22] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:26:22] [INFO] [Player.Grenade] Step 1 complete! Drag: (86.84766, -16.029686)
[00:26:23] [INFO] [GrenadeBase] EXPLODED at (469.7716, 248.2883)!
[00:26:23] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(469.7716, 248.2883), source=NEUTRAL (@RigidBody2D@29461), range=2937, listeners=0
[00:26:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:26:23] [INFO] [Player.Grenade] G released - dropping grenade at feet
[00:26:23] [INFO] [Player.Grenade] Grenade dropped at feet at (469.77164, 187.13843) (unfrozen)
[00:26:23] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:26:23] [INFO] [Player.Grenade] State reset to IDLE
[00:26:23] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:26:24] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:26:24] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:26:25] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1107.6406, 165.64026)
[00:26:25] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:26:25] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:26:25] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 219.86075)
[00:26:25] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:26:25] [INFO] [Player.Grenade] Step 1 complete! Drag: (172.35901, -0.6679077)
[00:26:25] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:26:25] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:26:25] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:26:25] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:26:25] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:26:25] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:26:25] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:26:25] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (377.25613, -900.1964) (976,1 px/s), Swing distance: 93,4
[00:26:25] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,1739489
[00:26:25] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (377.2561, -900.1964), Swing: 93.4, Transfer: 0.58, Final speed: 296.6
[00:26:25] [INFO] [Player.Grenade] Thrown! Velocity: 976,1, Swing: 93,4
[00:26:25] [INFO] [Player.Grenade] State reset to IDLE
[00:26:25] [INFO] [Player.Grenade] Player rotation restored to 0
[00:26:25] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:26:26] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:26:26] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:26:26] [INFO] [GrenadeBase] Grenade landed at (524.4638, 89.35616)
[00:26:26] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1131.6907, 169.64767)
[00:26:26] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:26:26] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:26:26] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 219.86075)
[00:26:26] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:26:26] [INFO] [Player.Grenade] Step 1 complete! Drag: (148.30896, 4.007431)
[00:26:26] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:26:26] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:26:26] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:26:26] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:26:26] [INFO] [GrenadeBase] EXPLODED at (469.7716, 187.1384)!
[00:26:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(469.7716, 187.1384), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:26:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:26:26] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:26:26] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:26:26] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:26:26] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3902.2468, -3330.6772) (5130,4 px/s), Swing distance: 571,2
[00:26:26] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,70653874
[00:26:26] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3902.247, -3330.677), Swing: 571.2, Transfer: 1.00, Final speed: 1352.8
[00:26:26] [INFO] [Player.Grenade] Thrown! Velocity: 5130,4, Swing: 571,2
[00:26:26] [INFO] [Player.Grenade] State reset to IDLE
[00:26:27] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:26:27] [INFO] [Player.Grenade] Player rotation restored to 0
[00:26:27] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:26:27] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:26:27] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:26:27] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1038.1625, 273.84064)
[00:26:27] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:26:27] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:26:27] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 219.86075)
[00:26:27] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:26:27] [INFO] [Player.Grenade] Step 1 complete! Drag: (241.83716, -87.49538)
[00:26:27] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:26:27] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:26:28] [INFO] [GrenadeBase] Grenade landed at (892.2239, 194.4315)
[00:26:28] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:26:28] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:26:28] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:26:28] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:26:28] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:26:28] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3950.8782, -4196.9873) (5764,0 px/s), Swing distance: 586,3
[00:26:28] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,8155943
[00:26:28] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3950.878, -4196.987), Swing: 586.3, Transfer: 1.00, Final speed: 1352.8
[00:26:28] [INFO] [Player.Grenade] Thrown! Velocity: 5764,0, Swing: 586,3
[00:26:28] [INFO] [Player.Grenade] State reset to IDLE
[00:26:28] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:26:28] [INFO] [Player.Grenade] Player rotation restored to 0
[00:26:28] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:26:28] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:26:28] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:26:29] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (608.6009, 426.79053)
[00:26:29] [INFO] [GrenadeBase] EXPLODED at (525.7675, 86.24549)!
[00:26:29] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(525.7675, 86.24549), source=NEUTRAL (@RigidBody2D@29466), range=2937, listeners=0
[00:26:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:26:29] [INFO] [GrenadeBase] Grenade landed at (834.8666, 217.6135)
[00:26:29] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:26:30] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:26:30] [INFO] [GrenadeBase] EXPLODED at (895.4372, 196.1078)!
[00:26:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(895.4372, 196.1078), source=NEUTRAL (@RigidBody2D@29467), range=2937, listeners=0
[00:26:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:26:30] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:26:30] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:26:30] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1184.4673, 310.57532)
[00:26:30] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:26:30] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:26:30] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 219.86075)
[00:26:30] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:26:30] [INFO] [Player.Grenade] Step 1 complete! Drag: (95.53235, -14.693878)
[00:26:30] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:26:30] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:26:31] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:26:31] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:26:31] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:26:31] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, 0) (0,0 px/s), Swing distance: 0,0
[00:26:31] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,7386634
[00:26:31] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, 0), Swing: 0.0, Transfer: 0.00, Final speed: 0.0
[00:26:31] [INFO] [Player.Grenade] Thrown! Velocity: 0,0, Swing: 0,0
[00:26:31] [INFO] [Player.Grenade] State reset to IDLE
[00:26:31] [INFO] [Player.Grenade] Player rotation restored to 0
[00:26:31] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:26:31] [INFO] [GrenadeBase] EXPLODED at (837.8407, 219.5445)!
[00:26:31] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(837.8407, 219.5445), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:26:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:26:31] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:26:31] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:26:31] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (766.2627, 407.42133)
[00:26:32] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:26:32] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:26:32] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 219.86075)
[00:26:32] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:26:32] [INFO] [Player.Grenade] Step 1 complete! Drag: (513.73694, -140.92764)
[00:26:32] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:26:32] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:26:32] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:26:32] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:26:32] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:26:32] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:26:32] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:26:32] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1208.1051, -2939.5754) (3178,1 px/s), Swing distance: 530,8
[00:26:32] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,1808609
[00:26:32] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1208.105, -2939.575), Swing: 530.8, Transfer: 1.00, Final speed: 1352.8
[00:26:32] [INFO] [Player.Grenade] Thrown! Velocity: 3178,1, Swing: 530,8
[00:26:32] [INFO] [Player.Grenade] State reset to IDLE
[00:26:32] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:26:32] [INFO] [Player.Grenade] Player rotation restored to 0
[00:26:33] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:26:33] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:26:33] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:26:33] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (879.83264, 363.3397)
[00:26:33] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:26:33] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:26:33] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 219.86075)
[00:26:33] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:26:33] [INFO] [Player.Grenade] Step 1 complete! Drag: (400.167, -92.83859)
[00:26:33] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:26:33] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:26:33] [INFO] [GrenadeBase] Grenade landed at (655.0498, 252.7114)
[00:26:33] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:26:33] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:26:34] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:26:34] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (0, 0) (0,0 px/s), Swing distance: 0,0
[00:26:34] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,1552972
[00:26:34] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (0, 0), Swing: 0.0, Transfer: 0.00, Final speed: 0.0
[00:26:34] [INFO] [Player.Grenade] Thrown! Velocity: 0,0, Swing: 0,0
[00:26:34] [INFO] [Player.Grenade] State reset to IDLE
[00:26:34] [INFO] [Player.Grenade] Player rotation restored to 0
[00:26:34] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:26:34] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:26:34] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:26:34] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (998.079, 459.51782)
[00:26:34] [INFO] [GrenadeBase] EXPLODED at (514.1338, 179.4627)!
[00:26:34] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(514.1338, 179.4627), source=NEUTRAL (@RigidBody2D@29471), range=2937, listeners=0
[00:26:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:26:35] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:26:35] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:26:35] [INFO] [Player.Grenade] Timer started, grenade created at (469.77164, 219.86075)
[00:26:35] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:26:35] [INFO] [Player.Grenade] Step 1 complete! Drag: (281.92065, -132.91281)
[00:26:36] [INFO] [GrenadeBase] EXPLODED at (657.0146, 255.6335)!
[00:26:36] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(657.0146, 255.6335), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=0
[00:26:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:26:36] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:26:36] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[00:26:36] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[00:26:36] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[00:26:36] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[00:26:36] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[00:26:36] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:26:36] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3033.7708, -6338.372) (7027,0 px/s), Swing distance: 960,1
[00:26:36] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,1243858
[00:26:36] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3033.771, -6338.372), Swing: 960.1, Transfer: 1.00, Final speed: 1352.8
[00:26:36] [INFO] [Player.Grenade] Thrown! Velocity: 7027,0, Swing: 960,1
[00:26:36] [INFO] [Player.Grenade] State reset to IDLE
[00:26:36] [INFO] [GrenadeBase] Collision detected with WallTop (type: StaticBody2D)
[00:26:36] [INFO] [Player.Grenade] Player rotation restored to 0
[00:26:36] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:26:37] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:26:37] [INFO] [GrenadeBase] EXPLODED at (493.9904, 164.9659)!
[00:26:37] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(493.9904, 164.9659), source=NEUTRAL (@RigidBody2D@29473), range=2937, listeners=0
[00:26:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[00:26:37] [INFO] [GrenadeBase] Grenade landed at (682.0853, 251.3641)
[00:26:39] [INFO] ------------------------------------------------------------
[00:26:39] [INFO] GAME LOG ENDED: 2026-01-24T00:26:39
[00:26:39] [INFO] ============================================================
