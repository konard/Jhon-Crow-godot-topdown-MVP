[20:04:22] [INFO] ============================================================
[20:04:22] [INFO] GAME LOG STARTED
[20:04:22] [INFO] ============================================================
[20:04:22] [INFO] Timestamp: 2026-01-24T20:04:22
[20:04:22] [INFO] Log file: I:/Загрузки/godot exe/game_log_20260124_200422.txt
[20:04:22] [INFO] Executable: I:/Загрузки/godot exe/Godot-Top-Down-Template.exe
[20:04:22] [INFO] OS: Windows
[20:04:22] [INFO] Debug build: false
[20:04:22] [INFO] Engine version: 4.3-stable (official)
[20:04:22] [INFO] Project: Godot Top-Down Template
[20:04:22] [INFO] ------------------------------------------------------------
[20:04:22] [INFO] [GameManager] GameManager ready
[20:04:22] [INFO] [ScoreManager] ScoreManager ready
[20:04:22] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[20:04:22] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[20:04:22] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[20:04:22] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:04:22] [INFO] [PenultimateHit] Saturation shader loaded successfully
[20:04:22] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[20:04:22] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[20:04:22] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[20:04:22] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[20:04:22] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[20:04:22] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:04:22] [INFO] [LastChance] Last chance shader loaded successfully
[20:04:22] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[20:04:22] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[20:04:22] [INFO] [LastChance]   Sepia intensity: 0.70
[20:04:22] [INFO] [LastChance]   Brightness: 0.60
[20:04:22] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[20:04:22] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[20:04:22] [ENEMY] [Enemy1] Death animation component initialized
[20:04:22] [ENEMY] [Enemy2] Death animation component initialized
[20:04:22] [ENEMY] [Enemy3] Death animation component initialized
[20:04:22] [ENEMY] [Enemy4] Death animation component initialized
[20:04:22] [ENEMY] [Enemy5] Death animation component initialized
[20:04:22] [ENEMY] [Enemy6] Death animation component initialized
[20:04:22] [ENEMY] [Enemy7] Death animation component initialized
[20:04:22] [ENEMY] [Enemy8] Death animation component initialized
[20:04:22] [ENEMY] [Enemy9] Death animation component initialized
[20:04:22] [ENEMY] [Enemy10] Death animation component initialized
[20:04:22] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:04:22] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:04:22] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:04:22] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:04:22] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:04:22] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:04:22] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[20:04:22] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[20:04:22] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:04:22] [INFO] [ScoreManager] Level started with 10 enemies
[20:04:22] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[20:04:22] [ENEMY] [Enemy1] Registered as sound listener
[20:04:22] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:04:22] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[20:04:22] [ENEMY] [Enemy2] Registered as sound listener
[20:04:22] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[20:04:22] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[20:04:22] [ENEMY] [Enemy3] Registered as sound listener
[20:04:22] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[20:04:22] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[20:04:22] [ENEMY] [Enemy4] Registered as sound listener
[20:04:22] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[20:04:22] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[20:04:22] [ENEMY] [Enemy5] Registered as sound listener
[20:04:22] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[20:04:22] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[20:04:22] [ENEMY] [Enemy6] Registered as sound listener
[20:04:22] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[20:04:22] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[20:04:22] [ENEMY] [Enemy7] Registered as sound listener
[20:04:22] [ENEMY] [Enemy7] Enemy spawned at (1606.114, 893.8859), health: 2, behavior: PATROL, player_found: yes
[20:04:22] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[20:04:22] [ENEMY] [Enemy8] Registered as sound listener
[20:04:22] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[20:04:22] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[20:04:22] [ENEMY] [Enemy9] Registered as sound listener
[20:04:22] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[20:04:22] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[20:04:22] [ENEMY] [Enemy10] Registered as sound listener
[20:04:22] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[20:04:22] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:04:22] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:04:22] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:04:22] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:04:22] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:04:22] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:04:22] [INFO] [LastChance] Found player: Player
[20:04:22] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:04:22] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:04:22] [INFO] [LastChance] Connected to player Died signal (C#)
[20:04:24] [INFO] [Player.Debug] Debug mode toggled: ON
[20:04:24] [INFO] [GameManager] Debug mode toggled: ON
[20:04:25] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:25] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1149.797, 1574.921), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[20:04:25] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:26] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:04:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1092.58, 1538.086), shooter_id=44744836747, bullet_pos=(61.58937, 692.606)
[20:04:26] [INFO] [Bullet] Using shooter_position, distance=1333.33361816406
[20:04:26] [INFO] [Bullet] Distance to wall: 1333.33361816406 (90.789137845122% of viewport)
[20:04:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1092.58, 1538.086), shooter_id=44744836747, bullet_pos=(336.5628, 461.5426)
[20:04:26] [INFO] [Bullet] Using shooter_position, distance=1315.48791503906
[20:04:26] [INFO] [Bullet] Distance to wall: 1315.48791503906 (89.5739911039863% of viewport)
[20:04:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1092.58, 1538.086), shooter_id=44744836747, bullet_pos=(503.1206, 598.6467)
[20:04:26] [INFO] [Bullet] Using shooter_position, distance=1109.05786132813
[20:04:26] [INFO] [Bullet] Distance to wall: 1109.05786132813 (75.5177891554113% of viewport)
[20:04:26] [INFO] [Bullet] Distance-based penetration chance: 58.5625793186868%
[20:04:26] [INFO] [Bullet] Starting wall penetration at (503.1206, 598.6467)
[20:04:26] [ENEMY] [Enemy4] Memory: high confidence (0.83) - transitioning to PURSUING
[20:04:26] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[20:04:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32.9746513366699
[20:04:26] [INFO] [Bullet] Body exited signal received for penetrating body
[20:04:26] [INFO] [Bullet] Exiting penetration at (530.2234, 620.9567) after traveling 30.1041698455811 pixels through wall
[20:04:26] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[20:04:26] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[20:04:26] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:04:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(714.063, 914.0652), source=ENEMY (Enemy4), range=1469, listeners=10
[20:04:26] [ENEMY] [Enemy2] Heard gunshot at (714.063, 914.0652), source_type=1, intensity=0.01, distance=481
[20:04:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:04:26] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[20:04:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[20:04:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:04:26] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[20:04:26] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[20:04:26] [INFO] [LastChance] Threat detected: @Area2D@289
[20:04:26] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:04:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:04:26] [INFO] [LastChance] Threat detected: Bullet
[20:04:26] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:04:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:04:26] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:04:26] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[20:04:26] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[20:04:26] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:04:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(678.4795, 914.0657), source=ENEMY (Enemy4), range=1469, listeners=10
[20:04:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:04:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[20:04:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:04:26] [INFO] [LastChance] Threat detected: @Area2D@291
[20:04:26] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[20:04:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:04:26] [INFO] [LastChance] Threat detected: Bullet
[20:04:26] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[20:04:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:04:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(621.497, 876.869), shooter_id=43033560613, bullet_pos=(525.3463, 796.9938)
[20:04:26] [INFO] [Bullet] Using shooter_position, distance=125.000007629395
[20:04:26] [INFO] [Bullet] Distance to wall: 125.000007629395 (8.51148037423143% of viewport)
[20:04:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:04:26] [INFO] [Bullet] Starting wall penetration at (525.3463, 796.9938)
[20:04:26] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:04:26] [INFO] [Bullet] Exiting penetration at (489.4501, 767.1738) after traveling 41.6666679382324 pixels through wall
[20:04:26] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:04:27] [ENEMY] [Enemy1] Memory: medium confidence (0.61) - transitioning to PURSUING
[20:04:27] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[20:04:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:04:27] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:04:27] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:04:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(649.0701, 895.6607), source=ENEMY (Enemy4), range=1469, listeners=10
[20:04:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:04:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[20:04:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:04:27] [INFO] [LastChance] Threat detected: Bullet
[20:04:27] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:04:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:04:27] [INFO] [LastChance] Threat detected: @Area2D@296
[20:04:27] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:04:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:04:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:04:27] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[20:04:27] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:04:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(592.1711, 858.3365), shooter_id=43033560613, bullet_pos=(400.2281, 698.1558)
[20:04:27] [INFO] [Bullet] Using shooter_position, distance=249.999923706055
[20:04:27] [INFO] [Bullet] Distance to wall: 249.999923706055 (17.0229545144688% of viewport)
[20:04:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:04:27] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:04:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[20:04:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:04:27] [INFO] [LastChance] Threat detected: @Area2D@299
[20:04:27] [INFO] [LastChance] Triggering last chance effect!
[20:04:27] [INFO] [LastChance] Starting last chance effect:
[20:04:27] [INFO] [LastChance]   - Time will be frozen (except player)
[20:04:27] [INFO] [LastChance]   - Duration: 6.0 real seconds
[20:04:27] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:04:27] [INFO] [LastChance]   - Brightness: 0.60
[20:04:27] [INFO] [LastChance] Pushed bullet Bullet from distance 125.7 to 200.0
[20:04:27] [INFO] [LastChance] Pushed bullet @Area2D@299 from distance 145.6 to 200.0
[20:04:27] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[20:04:27] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:04:27] [INFO] [LastChance] Skipping player node: Player
[20:04:27] [INFO] [LastChance] Froze existing bullet casing: Casing
[20:04:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@288
[20:04:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@290
[20:04:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@292
[20:04:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@293
[20:04:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@295
[20:04:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@297
[20:04:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@300
[20:04:27] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:04:27] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:04:27] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:04:27] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:04:27] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:04:27] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:04:27] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:04:27] [INFO] [LastChance] Ending last chance effect
[20:04:27] [INFO] [LastChance] All process modes restored
[20:04:27] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:04:27] [ENEMY] [Enemy1] Death animation component initialized
[20:04:27] [ENEMY] [Enemy2] Death animation component initialized
[20:04:27] [ENEMY] [Enemy3] Death animation component initialized
[20:04:27] [ENEMY] [Enemy4] Death animation component initialized
[20:04:27] [ENEMY] [Enemy5] Death animation component initialized
[20:04:27] [ENEMY] [Enemy6] Death animation component initialized
[20:04:27] [ENEMY] [Enemy7] Death animation component initialized
[20:04:27] [ENEMY] [Enemy8] Death animation component initialized
[20:04:27] [ENEMY] [Enemy9] Death animation component initialized
[20:04:27] [ENEMY] [Enemy10] Death animation component initialized
[20:04:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:04:27] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:04:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:04:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:04:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:04:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:04:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:04:27] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[20:04:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:04:27] [INFO] [ScoreManager] Level started with 10 enemies
[20:04:27] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:04:27] [ENEMY] [Enemy1] Registered as sound listener
[20:04:27] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:04:27] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:04:27] [ENEMY] [Enemy2] Registered as sound listener
[20:04:27] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[20:04:27] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:04:27] [ENEMY] [Enemy3] Registered as sound listener
[20:04:27] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[20:04:27] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:04:27] [ENEMY] [Enemy4] Registered as sound listener
[20:04:27] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[20:04:27] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:04:27] [ENEMY] [Enemy5] Registered as sound listener
[20:04:27] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[20:04:27] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:04:27] [ENEMY] [Enemy6] Registered as sound listener
[20:04:27] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[20:04:27] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:04:27] [ENEMY] [Enemy7] Registered as sound listener
[20:04:27] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[20:04:27] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:04:27] [ENEMY] [Enemy8] Registered as sound listener
[20:04:27] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[20:04:27] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:04:27] [ENEMY] [Enemy9] Registered as sound listener
[20:04:27] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[20:04:27] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:04:27] [ENEMY] [Enemy10] Registered as sound listener
[20:04:27] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[20:04:27] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:04:27] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:04:27] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:04:27] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:04:27] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:04:27] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:04:27] [INFO] [LastChance] Found player: Player
[20:04:27] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:04:27] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:04:27] [INFO] [LastChance] Connected to player Died signal (C#)
[20:04:28] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:28] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=20
[20:04:28] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:04:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[20:04:28] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:04:28] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:04:28] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.229, 1475.031), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:04:28] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=338111236920, bullet_pos=(53.14801, 921.1365)
[20:04:29] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[20:04:29] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[20:04:29] [INFO] [Bullet] Distance-based penetration chance: 50.6760850725264%
[20:04:29] [INFO] [Bullet] Penetration failed (distance roll)
[20:04:29] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:04:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=338111236920, bullet_pos=(46.85162, 857.2495)
[20:04:29] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[20:04:29] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[20:04:29] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[20:04:29] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[20:04:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=338111236920, bullet_pos=(43.06916, 793.3154)
[20:04:29] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[20:04:29] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[20:04:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=338111236920, bullet_pos=(250.2699, 706.957)
[20:04:29] [INFO] [Bullet] Using shooter_position, distance=1137.611328125
[20:04:29] [INFO] [Bullet] Distance to wall: 1137.611328125 (77.4620472148061% of viewport)
[20:04:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=338111236920, bullet_pos=(165.2206, 712.1358)
[20:04:29] [INFO] [Bullet] Using shooter_position, distance=1159.87524414063
[20:04:29] [INFO] [Bullet] Distance to wall: 1159.87524414063 (78.9780381960416% of viewport)
[20:04:29] [INFO] [LastChance] Threat detected: @Area2D@553
[20:04:29] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:04:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:04:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.046, 1441.444), shooter_id=338111236920, bullet_pos=(42.43303, 728.5292)
[20:04:29] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[20:04:29] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[20:04:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.046, 1441.444), shooter_id=338111236920, bullet_pos=(108.7537, 691.7561)
[20:04:29] [INFO] [Bullet] Using shooter_position, distance=1178.49304199219
[20:04:29] [INFO] [Bullet] Distance to wall: 1178.49304199219 (80.245758286866% of viewport)
[20:04:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=338111236920, bullet_pos=(499.5774, 884.4597)
[20:04:29] [INFO] [Bullet] Using shooter_position, distance=835.52099609375
[20:04:29] [INFO] [Bullet] Distance to wall: 835.52099609375 (56.8921610116601% of viewport)
[20:04:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.046, 1441.444), shooter_id=338111236920, bullet_pos=(49.85631, 663.77)
[20:04:29] [INFO] [Bullet] Using shooter_position, distance=1241.84118652344
[20:04:29] [INFO] [Bullet] Distance to wall: 1241.84118652344 (84.559249934965% of viewport)
[20:04:29] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[20:04:29] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[20:04:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=338111236920, bullet_pos=(518.8015, 1000.978)
[20:04:29] [INFO] [Bullet] Using shooter_position, distance=703.488952636719
[20:04:29] [INFO] [Bullet] Distance to wall: 703.488952636719 (47.9018563871511% of viewport)
[20:04:29] [INFO] [Bullet] Distance-based penetration chance: 90.7811675483237%
[20:04:29] [INFO] [Bullet] Starting wall penetration at (518.8015, 1000.978)
[20:04:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=338111236920, bullet_pos=(522.6736, 1004.142)
[20:04:29] [INFO] [Bullet] Using shooter_position, distance=698.4921875
[20:04:29] [INFO] [Bullet] Distance to wall: 698.4921875 (47.5616174607511% of viewport)
[20:04:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=338111236920, bullet_pos=(518.3596, 1006.669)
[20:04:29] [INFO] [Bullet] Using shooter_position, distance=700.080627441406
[20:04:29] [INFO] [Bullet] Distance to wall: 700.080627441406 (47.6697772572449% of viewport)
[20:04:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6.60575914382935
[20:04:29] [INFO] [Bullet] Body exited signal received for penetrating body
[20:04:29] [INFO] [Bullet] Exiting penetration at (493.9796, 995.6605) after traveling 21.7502613067627 pixels through wall
[20:04:29] [INFO] [Bullet] Damage multiplier after penetration: 0.05625
[20:04:29] [ENEMY] [Enemy3] Memory: medium confidence (0.75) - transitioning to PURSUING
[20:04:29] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[20:04:30] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:04:30] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:04:30] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:04:30] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:04:30] [ENEMY] [Enemy1] Death animation component initialized
[20:04:30] [ENEMY] [Enemy2] Death animation component initialized
[20:04:30] [ENEMY] [Enemy3] Death animation component initialized
[20:04:30] [ENEMY] [Enemy4] Death animation component initialized
[20:04:30] [ENEMY] [Enemy5] Death animation component initialized
[20:04:30] [ENEMY] [Enemy6] Death animation component initialized
[20:04:30] [ENEMY] [Enemy7] Death animation component initialized
[20:04:30] [ENEMY] [Enemy8] Death animation component initialized
[20:04:30] [ENEMY] [Enemy9] Death animation component initialized
[20:04:30] [ENEMY] [Enemy10] Death animation component initialized
[20:04:30] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:04:30] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:04:30] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:04:30] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:04:30] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:04:30] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:04:30] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:04:30] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[20:04:30] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:04:30] [INFO] [ScoreManager] Level started with 10 enemies
[20:04:30] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:04:30] [ENEMY] [Enemy1] Registered as sound listener
[20:04:30] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[20:04:30] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:04:30] [ENEMY] [Enemy2] Registered as sound listener
[20:04:30] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[20:04:30] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:04:30] [ENEMY] [Enemy3] Registered as sound listener
[20:04:30] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[20:04:30] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:04:30] [ENEMY] [Enemy4] Registered as sound listener
[20:04:30] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[20:04:30] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:04:30] [ENEMY] [Enemy5] Registered as sound listener
[20:04:30] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[20:04:30] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:04:30] [ENEMY] [Enemy6] Registered as sound listener
[20:04:30] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[20:04:30] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:04:30] [ENEMY] [Enemy7] Registered as sound listener
[20:04:30] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[20:04:30] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:04:30] [ENEMY] [Enemy8] Registered as sound listener
[20:04:30] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[20:04:30] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:04:30] [ENEMY] [Enemy9] Registered as sound listener
[20:04:30] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[20:04:30] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:04:30] [ENEMY] [Enemy10] Registered as sound listener
[20:04:30] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[20:04:30] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:04:30] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:04:30] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:04:30] [INFO] [LastChance] Found player: Player
[20:04:30] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:04:30] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:04:30] [INFO] [LastChance] Connected to player Died signal (C#)
[20:04:30] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:04:30] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:04:30] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:04:30] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:31] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=20
[20:04:31] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:04:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[20:04:31] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:04:31] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:04:31] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:04:31] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.351, 1452.649), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:04:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=497410901558, bullet_pos=(53.14801, 921.1365)
[20:04:31] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[20:04:31] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[20:04:31] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1018.029, 1429.542), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:04:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=497410901558, bullet_pos=(46.85162, 857.2495)
[20:04:31] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[20:04:31] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[20:04:31] [INFO] [Bullet] Distance-based penetration chance: 50.676007493934%
[20:04:31] [INFO] [Bullet] Starting wall penetration at (46.85162, 857.2495)
[20:04:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.2577056884766
[20:04:31] [INFO] [Bullet] Body exited signal received for penetrating body
[20:04:31] [INFO] [Bullet] Exiting penetration at (7.040176, 832.9015) after traveling 41.6666679382324 pixels through wall
[20:04:31] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:04:31] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(984.0015, 1424.066), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:04:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=497410901558, bullet_pos=(464.5112, 703.4368)
[20:04:31] [INFO] [Bullet] Using shooter_position, distance=1031.52172851563
[20:04:31] [INFO] [Bullet] Distance to wall: 1031.52172851563 (70.238211295832% of viewport)
[20:04:31] [INFO] [LastChance] Threat detected: @Area2D@828
[20:04:31] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:04:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:04:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=497410901558, bullet_pos=(43.06916, 793.3154)
[20:04:31] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[20:04:31] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[20:04:31] [INFO] [LastChance] Threat detected: @Area2D@830
[20:04:31] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:04:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:04:31] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(953.0217, 1407.841), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:04:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=497410901558, bullet_pos=(241.5201, 704.3013)
[20:04:31] [INFO] [Bullet] Using shooter_position, distance=1108.32141113281
[20:04:31] [INFO] [Bullet] Distance to wall: 1108.32141113281 (75.4676429074% of viewport)
[20:04:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018, 1441.525), shooter_id=497410901558, bullet_pos=(41.46295, 729.8748)
[20:04:31] [INFO] [Bullet] Using shooter_position, distance=1208.333984375
[20:04:31] [INFO] [Bullet] Distance to wall: 1208.333984375 (82.2776829263662% of viewport)
[20:04:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=497410901558, bullet_pos=(715.6924, 817.6717)
[20:04:31] [INFO] [Bullet] Using shooter_position, distance=795.262268066406
[20:04:31] [INFO] [Bullet] Distance to wall: 795.262268066406 (54.1508701910051% of viewport)
[20:04:31] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[20:04:31] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[20:04:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018, 1441.525), shooter_id=497410901558, bullet_pos=(106.9999, 691.7224)
[20:04:31] [INFO] [Bullet] Using shooter_position, distance=1179.8837890625
[20:04:31] [INFO] [Bullet] Distance to wall: 1179.8837890625 (80.3404568122419% of viewport)
[20:04:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018, 1441.525), shooter_id=497410901558, bullet_pos=(48.57948, 662.7537)
[20:04:31] [INFO] [Bullet] Using shooter_position, distance=1243.48754882813
[20:04:31] [INFO] [Bullet] Distance to wall: 1243.48754882813 (84.6713537716845% of viewport)
[20:04:31] [INFO] [LastChance] Threat detected: @Area2D@833
[20:04:31] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[20:04:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:04:31] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(935.8309, 1396.273), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:04:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.1606, 1417.372), shooter_id=497410901558, bullet_pos=(67.4097, 702.1895)
[20:04:31] [INFO] [Bullet] Using shooter_position, distance=1166.66650390625
[20:04:31] [INFO] [Bullet] Distance to wall: 1166.66650390625 (79.4404675615086% of viewport)
[20:04:31] [INFO] [Bullet] Distance-based penetration chance: 53.98612117824%
[20:04:31] [INFO] [Bullet] Starting wall penetration at (67.4097, 702.1895)
[20:04:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 1.84834325313568
[20:04:31] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:04:31] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:04:31] [INFO] [Bullet] Max penetration distance exceeded: 83.3333435058594 >= 48
[20:04:31] [INFO] [Bullet] Body exited signal received for penetrating body
[20:04:31] [INFO] [Bullet] Exiting penetration at (-2.379993, 648.0399) after traveling 83.3333435058594 pixels through wall
[20:04:31] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:04:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=497410901558, bullet_pos=(514.062, 843.5223)
[20:04:32] [INFO] [Bullet] Using shooter_position, distance=819.091003417969
[20:04:32] [INFO] [Bullet] Distance to wall: 819.091003417969 (55.7734125982736% of viewport)
[20:04:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=497410901558, bullet_pos=(916.0229, 694.2522)
[20:04:32] [INFO] [Bullet] Using shooter_position, distance=837.201110839844
[20:04:32] [INFO] [Bullet] Distance to wall: 837.201110839844 (57.0065631141802% of viewport)
[20:04:32] [INFO] [LastChance] Threat detected: @Area2D@837
[20:04:32] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:04:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:04:32] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:32] [INFO] [LastChance] Threat detected: @Area2D@844
[20:04:32] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:04:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:04:32] [ENEMY] [Enemy2] Hit taken, health: 1/2
[20:04:32] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:04:32] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(0.945864, -0.324564), lethal=false
[20:04:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:04:32] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:04:32] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[20:04:32] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:04:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(896.848, 1369.434), shooter_id=497410901558, bullet_pos=(141.4896, 714.1217)
[20:04:32] [INFO] [Bullet] Using shooter_position, distance=1000.00036621094
[20:04:32] [INFO] [Bullet] Distance to wall: 1000.00036621094 (68.0918637738315% of viewport)
[20:04:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(896.848, 1369.434), shooter_id=497410901558, bullet_pos=(49.97726, 777.3835)
[20:04:32] [INFO] [Bullet] Using shooter_position, distance=1033.30249023438
[20:04:32] [INFO] [Bullet] Distance to wall: 1033.30249023438 (70.3594666357937% of viewport)
[20:04:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(879.8081, 1357.646), shooter_id=497410901558, bullet_pos=(127.0216, 699.381)
[20:04:32] [INFO] [Bullet] Using shooter_position, distance=1000.00006103516
[20:04:32] [INFO] [Bullet] Distance to wall: 1000.00006103516 (68.0918429938514% of viewport)
[20:04:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(879.8081, 1357.646), shooter_id=497410901558, bullet_pos=(49.75686, 779.4231)
[20:04:32] [INFO] [Bullet] Using shooter_position, distance=1011.59613037109
[20:04:32] [INFO] [Bullet] Distance to wall: 1011.59613037109 (68.8814406782267% of viewport)
[20:04:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(896.848, 1369.434), shooter_id=497410901558, bullet_pos=(515.3058, 1002.153)
[20:04:32] [INFO] [Bullet] Using shooter_position, distance=529.594116210938
[20:04:32] [INFO] [Bullet] Distance to wall: 529.594116210938 (36.0610372105116% of viewport)
[20:04:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:04:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(896.848, 1369.434), shooter_id=497410901558, bullet_pos=(510.6784, 1004.047)
[20:04:32] [INFO] [Bullet] Using shooter_position, distance=531.634094238281
[20:04:32] [INFO] [Bullet] Distance to wall: 531.634094238281 (36.1999430655823% of viewport)
[20:04:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:04:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(896.848, 1369.434), shooter_id=497410901558, bullet_pos=(514.9835, 1006.59)
[20:04:32] [INFO] [Bullet] Using shooter_position, distance=526.760437011719
[20:04:32] [INFO] [Bullet] Distance to wall: 526.760437011719 (35.8680867831602% of viewport)
[20:04:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:04:33] [ENEMY] [Enemy10] FLANKING started: target=(402.9224, 1038.622), side=right, pos=(905.7347, 1372.27)
[20:04:33] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[20:04:33] [ENEMY] [Enemy3] Memory: medium confidence (0.74) - transitioning to PURSUING
[20:04:33] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[20:04:33] [ENEMY] [Enemy4] Memory: medium confidence (0.74) - transitioning to PURSUING
[20:04:33] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[20:04:33] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[20:04:33] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[20:04:33] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[20:04:34] [ENEMY] [Enemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[20:04:34] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[20:04:34] [ENEMY] [Enemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[20:04:34] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[20:04:34] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[20:04:34] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[20:04:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[20:04:34] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[20:04:34] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:04:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(632.6969, 772.9714), shooter_id=495414413257, bullet_pos=(518.8547, 824.5945)
[20:04:34] [INFO] [Bullet] Using shooter_position, distance=124.999931335449
[20:04:34] [INFO] [Bullet] Distance to wall: 124.999931335449 (8.5114751792364% of viewport)
[20:04:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:04:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[20:04:34] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[20:04:34] [INFO] [LastChance] Threat detected: @Area2D@859
[20:04:34] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:04:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:04:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(632.2969, 771.7643), shooter_id=495414413257, bullet_pos=(509.8798, 797.0437)
[20:04:34] [INFO] [Bullet] Using shooter_position, distance=125.000045776367
[20:04:34] [INFO] [Bullet] Distance to wall: 125.000045776367 (8.51148297172894% of viewport)
[20:04:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:04:34] [INFO] [Bullet] Starting wall penetration at (509.8798, 797.0437)
[20:04:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[20:04:34] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[20:04:34] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:04:34] [INFO] [Bullet] Exiting penetration at (464.1773, 806.4813) after traveling 41.6666679382324 pixels through wall
[20:04:34] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:04:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(632.6969, 772.9714), shooter_id=495414413257, bullet_pos=(693.4207, 876.3741)
[20:04:34] [INFO] [Bullet] Using shooter_position, distance=119.914482116699
[20:04:34] [INFO] [Bullet] Distance to wall: 119.914482116699 (8.16519759061518% of viewport)
[20:04:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:04:34] [INFO] [LastChance] Threat detected: @Area2D@861
[20:04:34] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:04:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:04:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[20:04:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=1, below_threshold=4
[20:04:34] [ENEMY] [Enemy4] Hit taken, health: 2/3
[20:04:34] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:04:34] [INFO] [ImpactEffects] spawn_blood_effect called at (582.5665, 948.0795), dir=(-0.931219, 0.36446), lethal=false
[20:04:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:04:34] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:04:34] [INFO] [ImpactEffects] Wall found for blood splatter at (524, 971.0012) (dist=62 px)
[20:04:34] [INFO] [ImpactEffects] Blood effect spawned at (582.5665, 948.0795) (scale=1)
[20:04:34] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[20:04:34] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[20:04:34] [INFO] [LastChance] Threat detected: @Area2D@863
[20:04:34] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:04:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:04:34] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[20:04:34] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[20:04:34] [ENEMY] [Enemy3] State: IN_COVER -> COMBAT
[20:04:34] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[20:04:34] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:04:34] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:04:34] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:04:34] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:04:34] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:04:34] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:04:34] [ENEMY] [Enemy1] Death animation component initialized
[20:04:34] [ENEMY] [Enemy2] Death animation component initialized
[20:04:34] [ENEMY] [Enemy3] Death animation component initialized
[20:04:34] [ENEMY] [Enemy4] Death animation component initialized
[20:04:34] [ENEMY] [Enemy5] Death animation component initialized
[20:04:34] [ENEMY] [Enemy6] Death animation component initialized
[20:04:34] [ENEMY] [Enemy7] Death animation component initialized
[20:04:34] [ENEMY] [Enemy8] Death animation component initialized
[20:04:34] [ENEMY] [Enemy9] Death animation component initialized
[20:04:34] [ENEMY] [Enemy10] Death animation component initialized
[20:04:34] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:04:34] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:04:34] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:04:34] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:04:34] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:04:34] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:04:34] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:04:34] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[20:04:34] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:04:34] [INFO] [ScoreManager] Level started with 10 enemies
[20:04:34] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:04:34] [ENEMY] [Enemy1] Registered as sound listener
[20:04:34] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[20:04:34] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:04:34] [ENEMY] [Enemy2] Registered as sound listener
[20:04:34] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[20:04:34] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:04:34] [ENEMY] [Enemy3] Registered as sound listener
[20:04:34] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[20:04:34] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:04:34] [ENEMY] [Enemy4] Registered as sound listener
[20:04:34] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[20:04:34] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:04:34] [ENEMY] [Enemy5] Registered as sound listener
[20:04:34] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[20:04:34] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:04:34] [ENEMY] [Enemy6] Registered as sound listener
[20:04:34] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[20:04:34] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:04:34] [ENEMY] [Enemy7] Registered as sound listener
[20:04:34] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[20:04:34] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:04:34] [ENEMY] [Enemy8] Registered as sound listener
[20:04:34] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[20:04:34] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:04:34] [ENEMY] [Enemy9] Registered as sound listener
[20:04:34] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[20:04:34] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:04:34] [ENEMY] [Enemy10] Registered as sound listener
[20:04:34] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[20:04:34] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:04:34] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:04:34] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:04:34] [INFO] [LastChance] Found player: Player
[20:04:34] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:04:34] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:04:34] [INFO] [LastChance] Connected to player Died signal (C#)
[20:04:34] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:04:34] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:04:34] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:04:35] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:04:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.004, 1519.036), source=ENEMY (Enemy10), range=1469, listeners=20
[20:04:35] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:04:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:04:35] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.385, 1499.191), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:04:35] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.581, 1478.104), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:04:36] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.653, 1455.791), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:04:36] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:04:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=769117916124, bullet_pos=(47.54776, 866.3744)
[20:04:36] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[20:04:36] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[20:04:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.68, 1468.442), shooter_id=769117916124, bullet_pos=(43.43921, 802.4684)
[20:04:36] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[20:04:36] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[20:04:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=769117916124, bullet_pos=(367.4058, 702.999)
[20:04:36] [INFO] [Bullet] Using shooter_position, distance=1063.62377929688
[20:04:36] [INFO] [Bullet] Distance to wall: 1063.62377929688 (72.4240989639935% of viewport)
[20:04:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.68, 1468.442), shooter_id=769117916124, bullet_pos=(192.611, 698.0552)
[20:04:36] [INFO] [Bullet] Using shooter_position, distance=1153.904296875
[20:04:36] [INFO] [Bullet] Distance to wall: 1153.904296875 (78.5714654171214% of viewport)
[20:04:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.171, 1444.922), shooter_id=769117916124, bullet_pos=(41.71271, 738.6843)
[20:04:36] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[20:04:36] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[20:04:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.171, 1444.922), shooter_id=769117916124, bullet_pos=(102.9855, 694.0038)
[20:04:36] [INFO] [Bullet] Using shooter_position, distance=1186.92028808594
[20:04:36] [INFO] [Bullet] Distance to wall: 1186.92028808594 (80.8195849697286% of viewport)
[20:04:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.171, 1444.922), shooter_id=769117916124, bullet_pos=(54.08939, 650.8611)
[20:04:36] [INFO] [Bullet] Using shooter_position, distance=1252.08410644531
[20:04:36] [INFO] [Bullet] Distance to wall: 1252.08410644531 (85.2567091875144% of viewport)
[20:04:36] [INFO] [LastChance] Threat detected: @Area2D@1117
[20:04:36] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:04:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:04:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6203, 1420.255), shooter_id=769117916124, bullet_pos=(42.25559, 675.2892)
[20:04:36] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[20:04:36] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[20:04:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=769117916124, bullet_pos=(688.8862, 878.468)
[20:04:36] [INFO] [Bullet] Using shooter_position, distance=727.657531738281
[20:04:36] [INFO] [Bullet] Distance to wall: 727.657531738281 (49.5475393802747% of viewport)
[20:04:36] [INFO] [Bullet] Distance-based penetration chance: 88.8612040563462%
[20:04:36] [INFO] [Bullet] Starting wall penetration at (688.8862, 878.468)
[20:04:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11.0338048934937
[20:04:36] [INFO] [Bullet] Body exited signal received for penetrating body
[20:04:36] [INFO] [Bullet] Exiting penetration at (719.6993, 895.2863) after traveling 30.1041698455811 pixels through wall
[20:04:36] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[20:04:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.68, 1468.442), shooter_id=769117916124, bullet_pos=(519.3166, 863.5924)
[20:04:36] [INFO] [Bullet] Using shooter_position, distance=805.7626953125
[20:04:36] [INFO] [Bullet] Distance to wall: 805.7626953125 (54.8658635907747% of viewport)
[20:04:36] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:04:36] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:04:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.171, 1444.922), shooter_id=769117916124, bullet_pos=(222.2348, 451.3911)
[20:04:36] [INFO] [Bullet] Using shooter_position, distance=1275.53967285156
[20:04:36] [INFO] [Bullet] Distance to wall: 1275.53967285156 (86.8538418350994% of viewport)
[20:04:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6203, 1420.255), shooter_id=769117916124, bullet_pos=(284.5767, 460.5927)
[20:04:36] [INFO] [Bullet] Using shooter_position, distance=1193.18676757813
[20:04:36] [INFO] [Bullet] Distance to wall: 1193.18676757813 (81.2462810813913% of viewport)
[20:04:36] [ENEMY] [Enemy2] Hit taken, health: 3/4
[20:04:36] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:04:36] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(0.819112, 0.573634), lethal=false
[20:04:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:04:36] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:04:36] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[20:04:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.171, 1444.922), shooter_id=769117916124, bullet_pos=(59.08385, 300.0994)
[20:04:36] [INFO] [Bullet] Using shooter_position, distance=1496.04663085938
[20:04:36] [INFO] [Bullet] Distance to wall: 1496.04663085938 (101.868566082393% of viewport)
[20:04:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.171, 1444.922), shooter_id=769117916124, bullet_pos=(245.4964, 64.02068)
[20:04:37] [INFO] [Bullet] Using shooter_position, distance=1584.33325195313
[20:04:37] [INFO] [Bullet] Distance to wall: 1584.33325195313 (107.880164457448% of viewport)
[20:04:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.171, 1444.922), shooter_id=769117916124, bullet_pos=(507.1021, 320.6082)
[20:04:37] [INFO] [Bullet] Using shooter_position, distance=1236.68005371094
[20:04:37] [INFO] [Bullet] Distance to wall: 1236.68005371094 (84.2078189112755% of viewport)
[20:04:37] [ENEMY] [Enemy10] FLANKING started: target=(679.2902, 798.9174), side=left, pos=(1022.62, 1432.324)
[20:04:37] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[20:04:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.171, 1444.922), shooter_id=769117916124, bullet_pos=(237.9002, 692.5622)
[20:04:38] [INFO] [Bullet] Using shooter_position, distance=1086.79614257813
[20:04:38] [INFO] [Bullet] Distance to wall: 1086.79614257813 (74.0019477900326% of viewport)
[20:04:38] [ENEMY] [Enemy3] Memory: medium confidence (0.69) - transitioning to PURSUING
[20:04:38] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[20:04:38] [ENEMY] [Enemy4] Memory: medium confidence (0.69) - transitioning to PURSUING
[20:04:38] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[20:04:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.171, 1444.922), shooter_id=769117916124, bullet_pos=(62.17529, 477.802)
[20:04:38] [INFO] [Bullet] Using shooter_position, distance=1362.68579101563
[20:04:38] [INFO] [Bullet] Distance to wall: 1362.68579101563 (92.7877812684715% of viewport)
[20:04:38] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[20:04:38] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:04:38] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:04:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.171, 1444.922), shooter_id=769117916124, bullet_pos=(245.9642, 272.9422)
[20:04:38] [INFO] [Bullet] Using shooter_position, distance=1405.71472167969
[20:04:38] [INFO] [Bullet] Distance to wall: 1405.71472167969 (95.7177002806141% of viewport)
[20:04:39] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[20:04:39] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[20:04:39] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:39] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[20:04:39] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.8824, 1074.843), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[20:04:39] [INFO] [LastChance] Threat detected: Bullet
[20:04:39] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:04:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:04:39] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.8824, 1074.843), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[20:04:39] [INFO] [LastChance] Threat detected: @Area2D@1145
[20:04:39] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:04:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:04:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(494.7845, 1012.422), shooter_id=769117916124, bullet_pos=(397.9686, 693.4583)
[20:04:39] [INFO] [Bullet] Using shooter_position, distance=333.333557128906
[20:04:39] [INFO] [Bullet] Distance to wall: 333.333557128906 (22.6972948512706% of viewport)
[20:04:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:04:39] [INFO] [Bullet] Starting wall penetration at (397.9686, 693.4583)
[20:04:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40.9625129699707
[20:04:39] [INFO] [Bullet] Body exited signal received for penetrating body
[20:04:39] [INFO] [Bullet] Exiting penetration at (384.4144, 648.8033) after traveling 41.6666679382324 pixels through wall
[20:04:39] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:04:40] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[20:04:40] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.8824, 1074.843), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[20:04:40] [INFO] [LastChance] Threat detected: Bullet
[20:04:40] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:04:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:04:40] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[20:04:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(494.7845, 1012.422), shooter_id=769117916124, bullet_pos=(397.9686, 693.4583)
[20:04:40] [INFO] [Bullet] Using shooter_position, distance=333.333557128906
[20:04:40] [INFO] [Bullet] Distance to wall: 333.333557128906 (22.6972948512706% of viewport)
[20:04:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:04:40] [INFO] [Bullet] Starting wall penetration at (397.9686, 693.4583)
[20:04:40] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[20:04:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40.9625129699707
[20:04:40] [INFO] [Bullet] Body exited signal received for penetrating body
[20:04:40] [INFO] [Bullet] Exiting penetration at (384.4144, 648.8033) after traveling 41.6666679382324 pixels through wall
[20:04:40] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:04:40] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.8824, 1074.843), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[20:04:40] [INFO] [LastChance] Threat detected: @Area2D@1149
[20:04:40] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:04:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:04:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(494.7845, 1012.422), shooter_id=769117916124, bullet_pos=(397.9686, 693.4583)
[20:04:40] [INFO] [Bullet] Using shooter_position, distance=333.333557128906
[20:04:40] [INFO] [Bullet] Distance to wall: 333.333557128906 (22.6972948512706% of viewport)
[20:04:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:04:40] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.8824, 1074.843), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[20:04:40] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:04:40] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:04:40] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:04:40] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:04:40] [ENEMY] [Enemy1] Death animation component initialized
[20:04:40] [ENEMY] [Enemy2] Death animation component initialized
[20:04:40] [ENEMY] [Enemy3] Death animation component initialized
[20:04:40] [ENEMY] [Enemy4] Death animation component initialized
[20:04:40] [ENEMY] [Enemy5] Death animation component initialized
[20:04:40] [ENEMY] [Enemy6] Death animation component initialized
[20:04:40] [ENEMY] [Enemy7] Death animation component initialized
[20:04:40] [ENEMY] [Enemy8] Death animation component initialized
[20:04:40] [ENEMY] [Enemy9] Death animation component initialized
[20:04:40] [ENEMY] [Enemy10] Death animation component initialized
[20:04:40] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:04:40] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:04:40] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:04:40] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:04:40] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:04:40] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:04:40] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:04:40] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[20:04:40] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:04:40] [INFO] [ScoreManager] Level started with 10 enemies
[20:04:40] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:04:40] [ENEMY] [Enemy1] Registered as sound listener
[20:04:40] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:04:40] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:04:40] [ENEMY] [Enemy2] Registered as sound listener
[20:04:40] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[20:04:40] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:04:40] [ENEMY] [Enemy3] Registered as sound listener
[20:04:40] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[20:04:40] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:04:40] [ENEMY] [Enemy4] Registered as sound listener
[20:04:40] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[20:04:40] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:04:40] [ENEMY] [Enemy5] Registered as sound listener
[20:04:40] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[20:04:40] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:04:40] [ENEMY] [Enemy6] Registered as sound listener
[20:04:40] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[20:04:40] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:04:40] [ENEMY] [Enemy7] Registered as sound listener
[20:04:40] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[20:04:40] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:04:40] [ENEMY] [Enemy8] Registered as sound listener
[20:04:40] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[20:04:40] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:04:40] [ENEMY] [Enemy9] Registered as sound listener
[20:04:40] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[20:04:40] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:04:40] [ENEMY] [Enemy10] Registered as sound listener
[20:04:40] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[20:04:40] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:04:40] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:04:40] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:04:40] [INFO] [LastChance] Found player: Player
[20:04:40] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:04:40] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:04:40] [INFO] [LastChance] Connected to player Died signal (C#)
[20:04:40] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:04:40] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:04:40] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:04:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(871.9995, 1688.259), source=PLAYER (AssaultRifle), range=1469, listeners=20
[20:04:45] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:04:45] [ENEMY] [Enemy10] Heard gunshot at (871.9995, 1688.259), source_type=0, intensity=0.03, distance=300
[20:04:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=7
[20:04:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(871.9995, 1688.259), shooter_id=1083053180257, bullet_pos=(898.8997, 1653.8619)
[20:04:45] [INFO] [Bullet] Using shooter_position, distance=43,666706
[20:04:45] [INFO] [Bullet] Distance to wall: 43,666706 (2,9733465% of viewport)
[20:04:45] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:04:45] [INFO] [Bullet] Starting wall penetration at (898.8997, 1653.8619)
[20:04:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,40125
[20:04:45] [INFO] [Bullet] Body exited signal received for penetrating body
[20:04:45] [INFO] [Bullet] Exiting penetration at (927.6481, 1617.1017) after traveling 41,666668 pixels through wall
[20:04:45] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:04:45] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:04:46] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:04:46] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[20:04:46] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[20:04:46] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[20:04:46] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[20:04:46] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[20:04:46] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[20:04:46] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[20:04:46] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[20:04:46] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[20:04:46] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[20:04:46] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(871.9995, 1682.259), source=PLAYER (Player), range=900, listeners=10
[20:04:46] [ENEMY] [Enemy10] Heard player RELOAD at (871.9995, 1682.259), intensity=0.04, distance=243
[20:04:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=1
[20:04:46] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1450), can_see=false
[20:04:46] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1227), can_see=false
[20:04:46] [ENEMY] [Enemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=948), can_see=false
[20:04:46] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=786), can_see=false
[20:04:46] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1569), can_see=false
[20:04:46] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1637), can_see=false
[20:04:46] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1077), can_see=false
[20:04:46] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1054), can_see=false
[20:04:46] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1235), can_see=false
[20:04:46] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=true (dist=243), can_see=false
[20:04:46] [ENEMY] [Enemy10] Pursuing vulnerability sound at (871.9995, 1682.259), distance=243
[20:04:46] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:04:46] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:04:46] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[20:04:46] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[20:04:46] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[20:04:46] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[20:04:46] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[20:04:46] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[20:04:46] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[20:04:46] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[20:04:46] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[20:04:46] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[20:04:46] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:04:46] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:04:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:04:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:04:47] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:04:47] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:04:47] [ENEMY] [Enemy1] Death animation component initialized
[20:04:47] [ENEMY] [Enemy2] Death animation component initialized
[20:04:47] [ENEMY] [Enemy3] Death animation component initialized
[20:04:47] [ENEMY] [Enemy4] Death animation component initialized
[20:04:47] [ENEMY] [Enemy5] Death animation component initialized
[20:04:47] [ENEMY] [Enemy6] Death animation component initialized
[20:04:47] [ENEMY] [Enemy7] Death animation component initialized
[20:04:47] [ENEMY] [Enemy8] Death animation component initialized
[20:04:47] [ENEMY] [Enemy9] Death animation component initialized
[20:04:47] [ENEMY] [Enemy10] Death animation component initialized
[20:04:47] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:04:47] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:04:47] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:04:47] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:04:47] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:04:47] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:04:47] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:04:47] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[20:04:47] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:04:47] [INFO] [ScoreManager] Level started with 10 enemies
[20:04:47] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:04:47] [ENEMY] [Enemy1] Registered as sound listener
[20:04:47] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[20:04:47] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:04:47] [ENEMY] [Enemy2] Registered as sound listener
[20:04:47] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[20:04:47] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:04:47] [ENEMY] [Enemy3] Registered as sound listener
[20:04:47] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[20:04:47] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:04:47] [ENEMY] [Enemy4] Registered as sound listener
[20:04:47] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[20:04:47] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:04:47] [ENEMY] [Enemy5] Registered as sound listener
[20:04:47] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[20:04:47] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:04:47] [ENEMY] [Enemy6] Registered as sound listener
[20:04:47] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[20:04:47] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:04:47] [ENEMY] [Enemy7] Registered as sound listener
[20:04:47] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[20:04:47] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:04:47] [ENEMY] [Enemy8] Registered as sound listener
[20:04:47] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[20:04:47] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:04:47] [ENEMY] [Enemy9] Registered as sound listener
[20:04:47] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[20:04:47] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:04:47] [ENEMY] [Enemy10] Registered as sound listener
[20:04:47] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[20:04:47] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:04:47] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:04:47] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:04:47] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:04:47] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:04:47] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:04:47] [INFO] [LastChance] Found player: Player
[20:04:47] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:04:47] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:04:47] [INFO] [LastChance] Connected to player Died signal (C#)
[20:04:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(871.9349, 1612.217), source=PLAYER (AssaultRifle), range=1469, listeners=20
[20:04:50] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:04:50] [ENEMY] [Enemy10] Heard gunshot at (871.9349, 1612.217), source_type=0, intensity=0.03, distance=289
[20:04:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=7
[20:04:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(871.93494, 1612.2172), shooter_id=1453057903107, bullet_pos=(901.4533, 1580.0388)
[20:04:50] [INFO] [Bullet] Using shooter_position, distance=43,666695
[20:04:50] [INFO] [Bullet] Distance to wall: 43,666695 (2,9733458% of viewport)
[20:04:50] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:04:50] [INFO] [Bullet] Starting wall penetration at (901.4533, 1580.0388)
[20:04:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,06488
[20:04:50] [INFO] [Bullet] Body exited signal received for penetrating body
[20:04:50] [INFO] [Bullet] Exiting penetration at (932.99963, 1545.6498) after traveling 41,666668 pixels through wall
[20:04:50] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:04:50] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:04:54] [ENEMY] [Enemy10] FLANKING started: target=(975.593, 1435.176), side=left, pos=(954.4304, 1607.971)
[20:04:54] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[20:04:55] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(888.3582, 1375.927), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:55] [ENEMY] [Enemy4] Heard gunshot at (888.3582, 1375.927), source_type=1, intensity=0.01, distance=484
[20:04:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[20:04:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(891.3297, 1443.911), shooter_id=1452235819493, bullet_pos=(891.3297, 1443.911)
[20:04:55] [INFO] [Bullet] Using shooter_position, distance=0
[20:04:55] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[20:04:55] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:04:55] [INFO] [Bullet] Starting wall penetration at (891.3297, 1443.911)
[20:04:55] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[20:04:55] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:04:55] [INFO] [Bullet] Exiting penetration at (888.0101, 1490.459) after traveling 41.6666679382324 pixels through wall
[20:04:55] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:04:55] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(872.3446, 1376.521), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[20:04:55] [INFO] [LastChance] Threat detected: Bullet
[20:04:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:04:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:04:55] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:04:55] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[20:04:55] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:04:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(807.791, 960.4827), source=ENEMY (Enemy4), range=1469, listeners=10
[20:04:55] [ENEMY] [Enemy3] Heard gunshot at (807.791, 960.4827), source_type=1, intensity=0.04, distance=236
[20:04:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[20:04:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(794.8723, 1027.294), shooter_id=1450524543248, bullet_pos=(794.8723, 1027.294)
[20:04:55] [INFO] [Bullet] Using shooter_position, distance=0
[20:04:55] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[20:04:55] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:04:55] [INFO] [Bullet] Starting wall penetration at (794.8723, 1027.294)
[20:04:55] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(872.3446, 1376.521), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[20:04:55] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:04:55] [INFO] [Bullet] Exiting penetration at (780.8193, 1071.794) after traveling 41.6666679382324 pixels through wall
[20:04:55] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:04:55] [INFO] [LastChance] Threat detected: @Area2D@1662
[20:04:55] [INFO] [LastChance] Triggering last chance effect!
[20:04:55] [INFO] [LastChance] Starting last chance effect:
[20:04:55] [INFO] [LastChance]   - Time will be frozen (except player)
[20:04:55] [INFO] [LastChance]   - Duration: 6.0 real seconds
[20:04:55] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:04:55] [INFO] [LastChance]   - Brightness: 0.60
[20:04:55] [INFO] [LastChance] Pushed bullet @Area2D@1662 from distance 120.7 to 200.0
[20:04:55] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[20:04:55] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:04:55] [INFO] [LastChance] Skipping player node: Player
[20:04:55] [INFO] [LastChance] Froze existing bullet casing: Casing
[20:04:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1658
[20:04:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1659
[20:04:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1660
[20:04:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1663
[20:04:55] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:04:55] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:04:55] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:04:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:04:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:04:56] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:04:56] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:04:56] [INFO] [LastChance] Ending last chance effect
[20:04:56] [INFO] [LastChance] All process modes restored
[20:04:56] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:04:56] [ENEMY] [Enemy1] Death animation component initialized
[20:04:56] [ENEMY] [Enemy2] Death animation component initialized
[20:04:56] [ENEMY] [Enemy3] Death animation component initialized
[20:04:56] [ENEMY] [Enemy4] Death animation component initialized
[20:04:56] [ENEMY] [Enemy5] Death animation component initialized
[20:04:56] [ENEMY] [Enemy6] Death animation component initialized
[20:04:56] [ENEMY] [Enemy7] Death animation component initialized
[20:04:56] [ENEMY] [Enemy8] Death animation component initialized
[20:04:56] [ENEMY] [Enemy9] Death animation component initialized
[20:04:56] [ENEMY] [Enemy10] Death animation component initialized
[20:04:56] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:04:56] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:04:56] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:04:56] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:04:56] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:04:56] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:04:56] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:04:56] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[20:04:56] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:04:56] [INFO] [ScoreManager] Level started with 10 enemies
[20:04:56] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:04:56] [ENEMY] [Enemy1] Registered as sound listener
[20:04:56] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[20:04:56] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:04:56] [ENEMY] [Enemy2] Registered as sound listener
[20:04:56] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[20:04:56] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:04:56] [ENEMY] [Enemy3] Registered as sound listener
[20:04:56] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[20:04:56] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:04:56] [ENEMY] [Enemy4] Registered as sound listener
[20:04:56] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[20:04:56] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:04:56] [ENEMY] [Enemy5] Registered as sound listener
[20:04:56] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[20:04:56] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:04:56] [ENEMY] [Enemy6] Registered as sound listener
[20:04:56] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[20:04:56] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:04:56] [ENEMY] [Enemy7] Registered as sound listener
[20:04:56] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[20:04:56] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:04:56] [ENEMY] [Enemy8] Registered as sound listener
[20:04:56] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[20:04:56] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:04:56] [ENEMY] [Enemy9] Registered as sound listener
[20:04:56] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[20:04:56] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:04:56] [ENEMY] [Enemy10] Registered as sound listener
[20:04:56] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[20:04:56] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:04:56] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:04:56] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:04:56] [INFO] [LastChance] Found player: Player
[20:04:56] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:04:56] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:04:56] [INFO] [LastChance] Connected to player Died signal (C#)
[20:04:56] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:04:56] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:04:56] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:04:56] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:04:56] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:57] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.817, 1534.847), source=ENEMY (Enemy10), range=1469, listeners=20
[20:04:57] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:04:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[20:04:57] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.612, 1515.969), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:04:57] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1108.198, 1495.801), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:04:57] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.623, 1474.384), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:04:57] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:04:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.928, 1451.761), source=ENEMY (Enemy10), range=1469, listeners=10
[20:04:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:04:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1109.107, 1508.427), shooter_id=1914448120222, bullet_pos=(56.67553, 914.7452)
[20:04:57] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[20:04:57] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[20:04:57] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[20:04:57] [INFO] [Bullet] Penetration failed (distance roll)
[20:04:57] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:04:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1078.025, 1487.026), shooter_id=1914448120222, bullet_pos=(50.55502, 851.1218)
[20:04:57] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[20:04:57] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[20:04:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1078.025, 1487.026), shooter_id=1914448120222, bullet_pos=(220.5028, 715.387)
[20:04:57] [INFO] [Bullet] Using shooter_position, distance=1153.5908203125
[20:04:57] [INFO] [Bullet] Distance to wall: 1153.5908203125 (78.5501202215482% of viewport)
[20:04:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.832, 1464.392), shooter_id=1914448120222, bullet_pos=(46.90708, 787.4733)
[20:04:57] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[20:04:57] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[20:04:57] [INFO] [Bullet] Distance-based penetration chance: 50.6760656778783%
[20:04:57] [INFO] [Bullet] Penetration failed (distance roll)
[20:04:57] [ENEMY] [Enemy4] Memory: high confidence (0.88) - transitioning to PURSUING
[20:04:57] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[20:04:57] [INFO] [LastChance] Threat detected: @Area2D@1916
[20:04:57] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:04:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:04:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.566, 1440.578), shooter_id=1914448120222, bullet_pos=(45.611, 724.0382)
[20:04:57] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[20:04:57] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[20:04:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.566, 1440.578), shooter_id=1914448120222, bullet_pos=(111.4007, 686.3234)
[20:04:57] [INFO] [Bullet] Using shooter_position, distance=1179.76623535156
[20:04:57] [INFO] [Bullet] Distance to wall: 1179.76623535156 (80.332452363902% of viewport)
[20:04:57] [INFO] [Bullet] Distance-based penetration chance: 52.9454722421144%
[20:04:57] [INFO] [Bullet] Starting wall penetration at (111.4007, 686.3234)
[20:04:57] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:04:57] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[20:04:57] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:04:57] [INFO] [Bullet] Raycast backward hit penetrating body at distance 43.7878723144531
[20:04:57] [INFO] [Bullet] Body exited signal received for penetrating body
[20:04:57] [INFO] [Bullet] Exiting penetration at (146.4645, 666.2226) after traveling 35.4166679382324 pixels through wall
[20:04:57] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[20:04:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(990.2599, 1415.637), shooter_id=1914448120222, bullet_pos=(111.6047, 713.0774)
[20:04:58] [INFO] [Bullet] Using shooter_position, distance=1125
[20:04:58] [INFO] [Bullet] Distance to wall: 1125 (76.6033186925873% of viewport)
[20:04:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(990.2599, 1415.637), shooter_id=1914448120222, bullet_pos=(57.36647, 766.0766)
[20:04:58] [INFO] [Bullet] Using shooter_position, distance=1136.75805664063
[20:04:58] [INFO] [Bullet] Distance to wall: 1136.75805664063 (77.4039463904072% of viewport)
[20:04:58] [INFO] [Bullet] Distance-based penetration chance: 56.362062544525%
[20:04:58] [INFO] [Bullet] Starting wall penetration at (57.36647, 766.0766)
[20:04:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4.95041656494141
[20:04:58] [INFO] [Bullet] Max penetration distance exceeded: 70.8333435058594 >= 48
[20:04:58] [INFO] [Bullet] Body exited signal received for penetrating body
[20:04:58] [INFO] [Bullet] Exiting penetration at (3.128273, 819.0758) after traveling 70.8333435058594 pixels through wall
[20:04:58] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[20:04:58] [ENEMY] [Enemy3] Memory: medium confidence (0.74) - transitioning to PURSUING
[20:04:58] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[20:04:59] [ENEMY] [Enemy10] FLANKING started: target=(431.0453, 1078.108), side=right, pos=(1027.256, 1434.917)
[20:04:59] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[20:05:00] [ENEMY] [Enemy4] FLANKING started: target=(439.6794, 1080.27), side=right, pos=(565.1336, 960.3762)
[20:05:00] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[20:05:01] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:05:01] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[20:05:01] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:05:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(518.3636, 1122.493), source=ENEMY (Enemy10), range=1469, listeners=10
[20:05:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[20:05:01] [INFO] [LastChance] Threat detected: Bullet
[20:05:01] [INFO] [LastChance] Triggering last chance effect!
[20:05:01] [INFO] [LastChance] Starting last chance effect:
[20:05:01] [INFO] [LastChance]   - Time will be frozen (except player)
[20:05:01] [INFO] [LastChance]   - Duration: 6.0 real seconds
[20:05:01] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:05:01] [INFO] [LastChance]   - Brightness: 0.60
[20:05:01] [INFO] [LastChance] Pushed bullet Bullet from distance 130.7 to 200.0
[20:05:01] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[20:05:01] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:05:01] [INFO] [LastChance] Skipping player node: Player
[20:05:01] [INFO] [LastChance] Froze existing bullet casing: Casing
[20:05:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1917
[20:05:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1919
[20:05:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1921
[20:05:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1923
[20:05:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1931
[20:05:01] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:05:01] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:05:01] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:05:01] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:05:01] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:05:01] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:05:01] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:05:01] [INFO] [LastChance] Ending last chance effect
[20:05:01] [INFO] [LastChance] All process modes restored
[20:05:01] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:05:01] [ENEMY] [Enemy1] Death animation component initialized
[20:05:01] [ENEMY] [Enemy2] Death animation component initialized
[20:05:01] [ENEMY] [Enemy3] Death animation component initialized
[20:05:01] [ENEMY] [Enemy4] Death animation component initialized
[20:05:01] [ENEMY] [Enemy5] Death animation component initialized
[20:05:01] [ENEMY] [Enemy6] Death animation component initialized
[20:05:01] [ENEMY] [Enemy7] Death animation component initialized
[20:05:01] [ENEMY] [Enemy8] Death animation component initialized
[20:05:01] [ENEMY] [Enemy9] Death animation component initialized
[20:05:01] [ENEMY] [Enemy10] Death animation component initialized
[20:05:01] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:05:01] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:05:01] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:05:01] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:05:01] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:05:01] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:05:01] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:05:01] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[20:05:01] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:05:01] [INFO] [ScoreManager] Level started with 10 enemies
[20:05:01] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:05:01] [ENEMY] [Enemy1] Registered as sound listener
[20:05:01] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:05:01] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:05:01] [ENEMY] [Enemy2] Registered as sound listener
[20:05:01] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[20:05:01] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:05:01] [ENEMY] [Enemy3] Registered as sound listener
[20:05:01] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[20:05:01] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:05:01] [ENEMY] [Enemy4] Registered as sound listener
[20:05:01] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[20:05:01] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:05:01] [ENEMY] [Enemy5] Registered as sound listener
[20:05:01] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[20:05:01] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:05:01] [ENEMY] [Enemy6] Registered as sound listener
[20:05:01] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[20:05:01] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:05:01] [ENEMY] [Enemy7] Registered as sound listener
[20:05:01] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[20:05:01] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:05:01] [ENEMY] [Enemy8] Registered as sound listener
[20:05:01] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[20:05:01] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:05:01] [ENEMY] [Enemy9] Registered as sound listener
[20:05:01] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[20:05:01] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:05:01] [ENEMY] [Enemy10] Registered as sound listener
[20:05:01] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[20:05:01] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:05:01] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:05:01] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:05:01] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:05:01] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:05:01] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:05:01] [INFO] [LastChance] Found player: Player
[20:05:01] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:05:01] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:05:01] [INFO] [LastChance] Connected to player Died signal (C#)
[20:05:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(569.046, 1274.333), source=PLAYER (AssaultRifle), range=1469, listeners=20
[20:05:03] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:05:03] [ENEMY] [Enemy4] Heard gunshot at (569.046, 1274.333), source_type=0, intensity=0.01, distance=440
[20:05:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=7
[20:05:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(569.04596, 1274.3335), shooter_id=2192949906325, bullet_pos=(1169.2468, 1024.8154)
[20:05:03] [INFO] [Bullet] Using shooter_position, distance=650,0003
[20:05:03] [INFO] [Bullet] Distance to wall: 650,0003 (44,25972% of viewport)
[20:05:03] [ENEMY] [Enemy3] Memory: medium confidence (0.60) - transitioning to PURSUING
[20:05:03] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[20:05:03] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[20:05:05] [ENEMY] [Enemy4] FLANKING started: target=(68.48396, 1366.5), side=left, pos=(683.3415, 967.3883)
[20:05:05] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[20:05:06] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:05:06] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[20:05:06] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[20:05:06] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[20:05:06] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[20:05:06] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[20:05:06] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[20:05:06] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[20:05:06] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[20:05:06] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[20:05:06] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[20:05:06] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(143.935, 1777.224), source=PLAYER (Player), range=900, listeners=10
[20:05:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=1
[20:05:06] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1436), can_see=false
[20:05:06] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1254), can_see=false
[20:05:06] [ENEMY] [Enemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=903), can_see=false
[20:05:06] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=813), can_see=false
[20:05:06] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=2111), can_see=false
[20:05:06] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=2241), can_see=false
[20:05:06] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1710), can_see=false
[20:05:06] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1786), can_see=false
[20:05:06] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1969), can_see=false
[20:05:06] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1030), can_see=false
[20:05:07] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:05:07] [INFO] [Player.Reload.Anim] LeftArm: pos=(6.1173058, 3.0234623), target=(12, 6), base=(24, 6)
[20:05:07] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9999936, 6.5), target=(-2, 8), base=(-2, 6)
[20:05:07] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:05:07] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[20:05:07] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[20:05:07] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[20:05:07] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[20:05:07] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[20:05:07] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[20:05:07] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[20:05:07] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[20:05:07] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[20:05:07] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[20:05:07] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:05:07] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:05:10] [ENEMY] [Enemy4] FLANKING timeout (5.0s), target=(50.36881, 1600.46), pos=(290.6883, 1553.318)
[20:05:10] [ENEMY] [Enemy4] State: FLANKING -> PURSUING
[20:05:12] [ENEMY] [Enemy4] FLANKING started: target=(343.6464, 1787.964), side=right, pos=(356.7805, 1450.448)
[20:05:12] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[20:05:14] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:05:14] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[20:05:14] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:05:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(322.8244, 1914.065), source=ENEMY (Enemy4), range=1469, listeners=10
[20:05:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=3
[20:05:14] [INFO] [LastChance] Threat detected: Bullet
[20:05:14] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:05:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:05:14] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:05:14] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:05:14] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:05:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(322.8244, 1914.065), source=ENEMY (Enemy4), range=1469, listeners=10
[20:05:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=3
[20:05:14] [INFO] [LastChance] Threat detected: Bullet
[20:05:14] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:05:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:05:14] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:05:14] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[20:05:14] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:05:14] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:05:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(322.8244, 1914.065), source=ENEMY (Enemy4), range=1469, listeners=10
[20:05:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=3
[20:05:14] [INFO] [LastChance] Threat detected: Bullet
[20:05:14] [INFO] [LastChance] Triggering last chance effect!
[20:05:14] [INFO] [LastChance] Starting last chance effect:
[20:05:14] [INFO] [LastChance]   - Time will be frozen (except player)
[20:05:14] [INFO] [LastChance]   - Duration: 6.0 real seconds
[20:05:14] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:05:14] [INFO] [LastChance]   - Brightness: 0.60
[20:05:14] [INFO] [LastChance] Pushed bullet Bullet from distance 116.2 to 200.0
[20:05:14] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[20:05:14] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:05:14] [INFO] [LastChance] Skipping player node: Player
[20:05:14] [INFO] [LastChance] Froze existing bullet casing: Casing
[20:05:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2184
[20:05:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2185
[20:05:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2186
[20:05:14] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:05:14] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:05:14] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:05:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:05:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:05:15] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:05:15] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:05:15] [INFO] [LastChance] Ending last chance effect
[20:05:15] [INFO] [LastChance] All process modes restored
[20:05:15] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:05:15] [ENEMY] [Enemy1] Death animation component initialized
[20:05:15] [ENEMY] [Enemy2] Death animation component initialized
[20:05:15] [ENEMY] [Enemy3] Death animation component initialized
[20:05:15] [ENEMY] [Enemy4] Death animation component initialized
[20:05:15] [ENEMY] [Enemy5] Death animation component initialized
[20:05:15] [ENEMY] [Enemy6] Death animation component initialized
[20:05:15] [ENEMY] [Enemy7] Death animation component initialized
[20:05:15] [ENEMY] [Enemy8] Death animation component initialized
[20:05:15] [ENEMY] [Enemy9] Death animation component initialized
[20:05:15] [ENEMY] [Enemy10] Death animation component initialized
[20:05:15] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:05:15] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:05:15] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:05:15] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:05:15] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:05:15] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:05:15] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:05:15] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[20:05:15] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:05:15] [INFO] [ScoreManager] Level started with 10 enemies
[20:05:15] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:05:15] [ENEMY] [Enemy1] Registered as sound listener
[20:05:15] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[20:05:15] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:05:15] [ENEMY] [Enemy2] Registered as sound listener
[20:05:15] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[20:05:15] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:05:15] [ENEMY] [Enemy3] Registered as sound listener
[20:05:15] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[20:05:15] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:05:15] [ENEMY] [Enemy4] Registered as sound listener
[20:05:15] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[20:05:15] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:05:15] [ENEMY] [Enemy5] Registered as sound listener
[20:05:15] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[20:05:15] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:05:15] [ENEMY] [Enemy6] Registered as sound listener
[20:05:15] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[20:05:15] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:05:15] [ENEMY] [Enemy7] Registered as sound listener
[20:05:15] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[20:05:15] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:05:15] [ENEMY] [Enemy8] Registered as sound listener
[20:05:15] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[20:05:15] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:05:15] [ENEMY] [Enemy9] Registered as sound listener
[20:05:15] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[20:05:15] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:05:15] [ENEMY] [Enemy10] Registered as sound listener
[20:05:15] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[20:05:15] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:05:15] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:05:15] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:05:15] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:05:15] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:05:15] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:05:15] [INFO] [LastChance] Found player: Player
[20:05:15] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:05:15] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:05:15] [INFO] [LastChance] Connected to player Died signal (C#)
[20:05:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:05:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:05:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1154.505, 1576.047), source=ENEMY (Enemy10), range=1469, listeners=20
[20:05:17] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:05:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[20:05:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:05:18] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:05:18] [ENEMY] [Enemy4] Memory: high confidence (0.87) - transitioning to PURSUING
[20:05:18] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[20:05:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1097.026, 1539.622), shooter_id=2883365898370, bullet_pos=(60.02847, 701.5204)
[20:05:18] [INFO] [Bullet] Using shooter_position, distance=1333.33374023438
[20:05:18] [INFO] [Bullet] Distance to wall: 1333.33374023438 (90.789146157114% of viewport)
[20:05:18] [INFO] [Bullet] Distance-based penetration chance: 40.7459961500336%
[20:05:18] [INFO] [Bullet] Penetration failed (distance roll)
[20:05:18] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[20:05:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(454.6194, 789.0801), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:18] [ENEMY] [Enemy1] Heard gunshot at (454.6194, 789.0801), source_type=0, intensity=0.01, distance=466
[20:05:18] [ENEMY] [Enemy2] Heard gunshot at (454.6194, 789.0801), source_type=0, intensity=0.04, distance=245
[20:05:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:05:18] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:05:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[20:05:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:05:18] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[20:05:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(471.2922, 762.2814), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:05:18] [INFO] [LastChance] Threat detected: @Area2D@2440
[20:05:18] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:05:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:05:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(454.6194, 789.0801), shooter_id=2884187982065, bullet_pos=(937.788, 776.47327)
[20:05:18] [INFO] [Bullet] Using shooter_position, distance=483,3331
[20:05:18] [INFO] [Bullet] Distance to wall: 483,3331 (32,91104% of viewport)
[20:05:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:05:18] [INFO] [Bullet] Starting wall penetration at (937.788, 776.47327)
[20:05:18] [ENEMY] [Enemy3] Hit taken, health: 3/4
[20:05:18] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:05:18] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[20:05:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:05:18] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:05:18] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[20:05:18] [INFO] [Bullet] Raycast backward hit penetrating body at distance 48,45527
[20:05:18] [INFO] [Bullet] Body exited signal received for penetrating body
[20:05:18] [INFO] [Bullet] Exiting penetration at (984.4388, 775.25604) after traveling 41,666668 pixels through wall
[20:05:18] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:05:18] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:05:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(680.1449, 914.0656), source=ENEMY (Enemy4), range=1469, listeners=10
[20:05:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:05:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[20:05:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:05:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(496.2779, 748.6196), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:05:18] [INFO] [LastChance] Threat detected: @Area2D@2445
[20:05:18] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:05:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:05:18] [INFO] [LastChance] Threat detected: Bullet
[20:05:18] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:05:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:05:18] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:05:18] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:05:18] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[20:05:18] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:05:18] [ENEMY] [Enemy3] Hit taken, health: 2/4
[20:05:18] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:05:18] [INFO] [ImpactEffects] spawn_blood_effect called at (690.5371, 755.7302), dir=(1, 0), lethal=false
[20:05:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:05:18] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:05:18] [INFO] [ImpactEffects] Blood effect spawned at (690.5371, 755.7302) (scale=1)
[20:05:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(692.5667, 756.3875), source=ENEMY (Enemy3), range=1469, listeners=10
[20:05:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:05:18] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:05:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(669.9515, 912.8566), source=ENEMY (Enemy4), range=1469, listeners=10
[20:05:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:05:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(624.4065, 875.0293), shooter_id=2881654622255, bullet_pos=(424.9545, 698.0264)
[20:05:18] [INFO] [Bullet] Using shooter_position, distance=266.666748046875
[20:05:18] [INFO] [Bullet] Distance to wall: 266.666748046875 (18.1578292314228% of viewport)
[20:05:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:05:18] [INFO] [LastChance] Threat detected: Bullet
[20:05:18] [INFO] [LastChance] Triggering last chance effect!
[20:05:18] [INFO] [LastChance] Starting last chance effect:
[20:05:18] [INFO] [LastChance]   - Time will be frozen (except player)
[20:05:18] [INFO] [LastChance]   - Duration: 6.0 real seconds
[20:05:18] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:05:18] [INFO] [LastChance]   - Brightness: 0.60
[20:05:18] [INFO] [LastChance] Pushed bullet @Area2D@2445 from distance 105.7 to 200.0
[20:05:18] [INFO] [LastChance] Pushed bullet Bullet from distance 106.4 to 200.0
[20:05:18] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[20:05:18] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:05:18] [INFO] [LastChance] Skipping player node: Player
[20:05:18] [INFO] [LastChance] Froze existing bullet casing: Casing
[20:05:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2439
[20:05:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2441
[20:05:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2443
[20:05:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2446
[20:05:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2447
[20:05:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2449
[20:05:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2452
[20:05:18] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:05:18] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:05:18] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:05:18] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2454
[20:05:18] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2454
[20:05:18] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2455
[20:05:18] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2455
[20:05:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(522.7833, 748.0418), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[20:05:19] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2462
[20:05:19] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2462
[20:05:19] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2463
[20:05:19] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2463
[20:05:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(571.1809, 943.8807), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[20:05:19] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2464
[20:05:19] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2464
[20:05:19] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2465
[20:05:19] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2465
[20:05:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(578.9797, 968.0511), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[20:05:20] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2466
[20:05:20] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2466
[20:05:20] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2467
[20:05:20] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2467
[20:05:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(584.8457, 979.3289), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[20:05:20] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2468
[20:05:20] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2468
[20:05:20] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2469
[20:05:20] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2469
[20:05:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(589.002, 977.0608), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[20:05:21] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2470
[20:05:21] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2470
[20:05:21] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2471
[20:05:21] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2471
[20:05:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(485.1363, 667.3419), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:21] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:05:21] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2472
[20:05:21] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2472
[20:05:21] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2473
[20:05:21] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2473
[20:05:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450.6987, 671.8381), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:21] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:05:22] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2474
[20:05:22] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2474
[20:05:22] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2475
[20:05:22] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2475
[20:05:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(415.939, 677.9336), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:22] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:05:22] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2476
[20:05:22] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2476
[20:05:22] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2477
[20:05:22] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2477
[20:05:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(377.439, 677.9336), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:22] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:05:23] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2478
[20:05:23] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2478
[20:05:23] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2479
[20:05:23] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2479
[20:05:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(119.8775, 391.9209), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[20:05:23] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2480
[20:05:23] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2480
[20:05:23] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2481
[20:05:23] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2481
[20:05:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(119.8775, 353.4209), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[20:05:23] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2482
[20:05:23] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2482
[20:05:23] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2483
[20:05:23] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2483
[20:05:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(119.8775, 314.9209), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=2
[20:05:23] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2484
[20:05:23] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2484
[20:05:23] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2485
[20:05:23] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2485
[20:05:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(120.1854, 276.5484), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=2
[20:05:24] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:05:24] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[20:05:24] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[20:05:24] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[20:05:24] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[20:05:24] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[20:05:24] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[20:05:24] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[20:05:24] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[20:05:24] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[20:05:24] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[20:05:24] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(327.6248, 207.739), source=PLAYER (Player), range=900, listeners=10
[20:05:24] [ENEMY] [Enemy1] Heard player RELOAD at (327.6248, 207.739), intensity=0.06, distance=204
[20:05:24] [ENEMY] [Enemy2] Heard player RELOAD at (327.6248, 207.739), intensity=0.02, distance=350
[20:05:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=2
[20:05:24] [INFO] [LastChance] Effect duration expired after 6.02 real seconds
[20:05:24] [INFO] [LastChance] Ending last chance effect
[20:05:24] [INFO] [LastChance] All process modes restored
[20:05:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@2454
[20:05:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@2462
[20:05:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@2464
[20:05:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@2466
[20:05:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@2468
[20:05:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@2470
[20:05:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@2472
[20:05:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@2474
[20:05:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@2476
[20:05:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@2478
[20:05:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@2480
[20:05:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@2482
[20:05:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@2484
[20:05:24] [INFO] [LastChance] Unfroze bullet casing: Casing
[20:05:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2439
[20:05:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2441
[20:05:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2443
[20:05:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2446
[20:05:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2447
[20:05:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2449
[20:05:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2452
[20:05:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2455
[20:05:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2463
[20:05:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2465
[20:05:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2467
[20:05:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2469
[20:05:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2471
[20:05:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2473
[20:05:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2475
[20:05:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2477
[20:05:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2479
[20:05:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2481
[20:05:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2483
[20:05:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2485
[20:05:24] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:05:24] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[20:05:24] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=true (dist=203), can_see=false
[20:05:24] [ENEMY] [Enemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=660), can_see=false
[20:05:24] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[20:05:24] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=783), can_see=false
[20:05:24] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1379), can_see=false
[20:05:24] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1640), can_see=false
[20:05:24] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1502), can_see=false
[20:05:24] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=2003), can_see=false
[20:05:24] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2223), can_see=false
[20:05:24] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1461), can_see=false
[20:05:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(624.4065, 875.0293), shooter_id=2881654622255, bullet_pos=(309.8898, 692.068)
[20:05:24] [INFO] [Bullet] Using shooter_position, distance=363.862060546875
[20:05:24] [INFO] [Bullet] Distance to wall: 363.862060546875 (24.7760367859678% of viewport)
[20:05:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:05:24] [INFO] [Bullet] Starting wall penetration at (309.8898, 692.068)
[20:05:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.9568, 763.301), shooter_id=2881369410029, bullet_pos=(67.13978, 777.4838)
[20:05:24] [INFO] [Bullet] Using shooter_position, distance=550
[20:05:24] [INFO] [Bullet] Distance to wall: 550 (37.4505113608205% of viewport)
[20:05:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:05:24] [INFO] [Bullet] Starting wall penetration at (67.13978, 777.4838)
[20:05:24] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[20:05:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11.5151968002319
[20:05:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13.0550346374512
[20:05:25] [INFO] [Bullet] Body exited signal received for penetrating body
[20:05:25] [INFO] [Bullet] Exiting penetration at (20.48863, 778.6871) after traveling 41.6666641235352 pixels through wall
[20:05:25] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:05:25] [INFO] [Bullet] Body exited signal received for penetrating body
[20:05:25] [INFO] [Bullet] Exiting penetration at (282.201, 721.5101) after traveling 35.4166717529297 pixels through wall
[20:05:25] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[20:05:25] [ENEMY] [Enemy4] Hit taken, health: 3/4
[20:05:25] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:05:25] [INFO] [ImpactEffects] spawn_blood_effect called at (669.9515, 912.8566), dir=(1, 0), lethal=false
[20:05:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:05:25] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:05:25] [INFO] [ImpactEffects] Blood effect spawned at (669.9515, 912.8566) (scale=1)
[20:05:25] [ENEMY] [Enemy4] Hit taken, health: 2/4
[20:05:25] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:05:25] [INFO] [ImpactEffects] spawn_blood_effect called at (669.9515, 912.8566), dir=(1, 0), lethal=false
[20:05:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:05:25] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:05:25] [INFO] [ImpactEffects] Blood effect spawned at (669.9515, 912.8566) (scale=1)
[20:05:25] [ENEMY] [Enemy4] Hit taken, health: 1/4
[20:05:25] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:05:25] [INFO] [ImpactEffects] spawn_blood_effect called at (669.9515, 912.8566), dir=(1, 0), lethal=false
[20:05:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:05:25] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:05:25] [INFO] [ImpactEffects] Blood effect spawned at (669.9515, 912.8566) (scale=1)
[20:05:25] [ENEMY] [Enemy4] Hit taken, health: 0/4
[20:05:25] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:05:25] [INFO] [ImpactEffects] spawn_blood_effect called at (669.9515, 912.8566), dir=(1, 0), lethal=true
[20:05:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:05:25] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:05:25] [INFO] [ImpactEffects] Blood effect spawned at (669.9515, 912.8566) (scale=1.5)
[20:05:25] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[20:05:25] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:05:25] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 9)
[20:05:25] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:05:25] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[20:05:25] [ENEMY] [Enemy2] Hit taken, health: 2/3
[20:05:25] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:05:25] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=false
[20:05:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:05:25] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:05:25] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[20:05:25] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[20:05:25] [ENEMY] [Enemy2] Hit taken, health: 1/3
[20:05:25] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:05:25] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=false
[20:05:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:05:25] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:05:25] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[20:05:25] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[20:05:25] [ENEMY] [Enemy3] Hit taken, health: 1/4
[20:05:25] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:05:25] [INFO] [ImpactEffects] spawn_blood_effect called at (696.1813, 759.5457), dir=(1, 0), lethal=false
[20:05:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:05:25] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:05:25] [INFO] [ImpactEffects] Blood effect spawned at (696.1813, 759.5457) (scale=1)
[20:05:25] [ENEMY] [Enemy2] Hit taken, health: 0/3
[20:05:25] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:05:25] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=true
[20:05:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:05:25] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:05:25] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[20:05:25] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1.5)
[20:05:25] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[20:05:25] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[20:05:25] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[20:05:25] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:05:25] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[20:05:25] [ENEMY] [Enemy1] Hit taken, health: 1/2
[20:05:25] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[20:05:25] [INFO] [ImpactEffects] spawn_blood_effect called at (263.0755, 401.9334), dir=(1, 0), lethal=false
[20:05:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:05:25] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:05:25] [INFO] [ImpactEffects] Blood effect spawned at (263.0755, 401.9334) (scale=1)
[20:05:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(619.0829, 867.6572), shooter_id=2881654622255, bullet_pos=(469.1268, 699.9128)
[20:05:25] [INFO] [Bullet] Using shooter_position, distance=224.999984741211
[20:05:25] [INFO] [Bullet] Distance to wall: 224.999984741211 (15.3206626995185% of viewport)
[20:05:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:05:25] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:05:25] [INFO] [LastChance] Threat detected: @Area2D@2476
[20:05:25] [INFO] [LastChance] Effect already used this life
[20:05:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:05:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.87748, 314.92087), shooter_id=2884187982065, bullet_pos=(498.38504, 375.5545)
[20:05:25] [INFO] [Bullet] Using shooter_position, distance=383,3333
[20:05:25] [INFO] [Bullet] Distance to wall: 383,3333 (26,101871% of viewport)
[20:05:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:05:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.87748, 353.42087), shooter_id=2884187982065, bullet_pos=(503.1993, 356.40366)
[20:05:25] [INFO] [Bullet] Using shooter_position, distance=383,33344
[20:05:25] [INFO] [Bullet] Distance to wall: 383,33344 (26,10188% of viewport)
[20:05:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:05:25] [INFO] [Bullet] Starting wall penetration at (503.1993, 356.40366)
[20:05:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,532026
[20:05:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(120.18544, 276.54843), shooter_id=2884187982065, bullet_pos=(501.7723, 443.88806)
[20:05:25] [INFO] [Bullet] Using shooter_position, distance=416,66663
[20:05:25] [INFO] [Bullet] Distance to wall: 416,66663 (28,371597% of viewport)
[20:05:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:05:25] [INFO] [Bullet] Body exited signal received for penetrating body
[20:05:25] [INFO] [Bullet] Exiting penetration at (541.5315, 356.70193) after traveling 33,333336 pixels through wall
[20:05:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:05:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(377.43896, 677.9336), shooter_id=2884187982065, bullet_pos=(341.64792, 229.3593)
[20:05:25] [INFO] [Bullet] Using shooter_position, distance=449,99988
[20:05:25] [INFO] [Bullet] Distance to wall: 449,99988 (30,641321% of viewport)
[20:05:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:05:25] [INFO] [Bullet] Starting wall penetration at (341.64792, 229.3593)
[20:05:25] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:05:25] [INFO] [Player.Reload.Anim] LeftArm: pos=(9.977073, 4.965414), target=(12, 6), base=(24, 6)
[20:05:25] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.0042746, 7.4757123), target=(-2, 8), base=(-2, 6)
[20:05:25] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:05:25] [INFO] [Bullet] Exiting penetration at (338.59906, 191.1474) after traveling 33,333332 pixels through wall
[20:05:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:05:25] [ENEMY] [Enemy1] Pursuing vulnerability sound at (327.6248, 207.739), distance=205
[20:05:25] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:05:25] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[20:05:25] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[20:05:25] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[20:05:25] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[20:05:25] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[20:05:25] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[20:05:25] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[20:05:25] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[20:05:25] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[20:05:25] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[20:05:25] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:05:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(624.5435, 758.2462), shooter_id=2881369410029, bullet_pos=(62.04184, 839.8358)
[20:05:25] [INFO] [Bullet] Using shooter_position, distance=568.388061523438
[20:05:25] [INFO] [Bullet] Distance to wall: 568.388061523438 (38.702588282615% of viewport)
[20:05:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:05:25] [INFO] [Bullet] Starting wall penetration at (62.04184, 839.8358)
[20:05:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8.13594532012939
[20:05:25] [INFO] [Bullet] Body exited signal received for penetrating body
[20:05:25] [INFO] [Bullet] Exiting penetration at (23.90597, 843.7216) after traveling 33.3333396911621 pixels through wall
[20:05:25] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:05:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(619.0829, 867.6572), shooter_id=2881654622255, bullet_pos=(58.78425, 1248.406)
[20:05:25] [INFO] [Bullet] Using shooter_position, distance=677.424438476563
[20:05:25] [INFO] [Bullet] Distance to wall: 677.424438476563 (46.1270756895708% of viewport)
[20:05:25] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:05:25] [ENEMY] [Enemy4] Ragdoll activated
[20:05:25] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:05:25] [ENEMY] [Enemy2] Ragdoll activated
[20:05:25] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:05:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(619.0829, 867.6572), shooter_id=2881654622255, bullet_pos=(322.569, 1598.691)
[20:05:25] [INFO] [Bullet] Using shooter_position, distance=788.879516601563
[20:05:25] [INFO] [Bullet] Distance to wall: 788.879516601563 (53.7162569069189% of viewport)
[20:05:25] [INFO] [Bullet] Distance-based penetration chance: 83.9977002752613%
[20:05:25] [INFO] [Bullet] Penetration failed (distance roll)
[20:05:25] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[20:05:25] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[20:05:26] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[20:05:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(189.2723, 227.816), source=ENEMY (Enemy1), range=1469, listeners=8
[20:05:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[20:05:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(257.3005, 226.1526), shooter_id=2880798983753, bullet_pos=(257.3005, 226.1526)
[20:05:26] [INFO] [Bullet] Using shooter_position, distance=0
[20:05:26] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[20:05:26] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:05:26] [INFO] [Bullet] Starting wall penetration at (257.3005, 226.1526)
[20:05:26] [INFO] [LastChance] Threat detected: Bullet
[20:05:26] [INFO] [LastChance] Effect already used this life
[20:05:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:05:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37.2344207763672
[20:05:26] [INFO] [Bullet] Body exited signal received for penetrating body
[20:05:26] [INFO] [Bullet] Exiting penetration at (295.2624, 220.8291) after traveling 33.3333320617676 pixels through wall
[20:05:26] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:05:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(187.1659, 231.5251), source=ENEMY (Enemy1), range=1469, listeners=8
[20:05:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[20:05:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(255.1356, 228.2515), shooter_id=2880798983753, bullet_pos=(255.1356, 228.2515)
[20:05:26] [INFO] [Bullet] Using shooter_position, distance=0
[20:05:26] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[20:05:26] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:05:26] [INFO] [Bullet] Starting wall penetration at (255.1356, 228.2515)
[20:05:26] [INFO] [LastChance] Threat detected: @Area2D@2560
[20:05:26] [INFO] [LastChance] Effect already used this life
[20:05:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:05:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32.9589080810547
[20:05:26] [INFO] [Bullet] Body exited signal received for penetrating body
[20:05:26] [INFO] [Bullet] Exiting penetration at (289.9429, 212.1923) after traveling 33.3333320617676 pixels through wall
[20:05:26] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:05:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(330.1931, 214.3536), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:05:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=4
[20:05:26] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[20:05:26] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[20:05:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(344.6999, 214.3536), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:05:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=4
[20:05:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(330.19315, 214.35356), shooter_id=2884187982065, bullet_pos=(60.974182, 102.14576)
[20:05:26] [INFO] [Bullet] Using shooter_position, distance=291,66666
[20:05:26] [INFO] [Bullet] Distance to wall: 291,66666 (19,86012% of viewport)
[20:05:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:05:26] [INFO] [Bullet] Starting wall penetration at (60.974182, 102.14576)
[20:05:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6,943249
[20:05:26] [INFO] [Bullet] Body exited signal received for penetrating body
[20:05:26] [INFO] [Bullet] Exiting penetration at (25.59112, 87.398445) after traveling 33,333332 pixels through wall
[20:05:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:05:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(372.8599, 214.3536), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:05:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=4
[20:05:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(344.69986, 214.35356), shooter_id=2884187982065, bullet_pos=(39.06426, 103.84605)
[20:05:26] [INFO] [Bullet] Using shooter_position, distance=325,00006
[20:05:26] [INFO] [Bullet] Distance to wall: 325,00006 (22,129852% of viewport)
[20:05:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:05:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(344.69986, 214.35356), shooter_id=2884187982065, bullet_pos=(238.13464, 62.428146)
[20:05:26] [INFO] [Bullet] Using shooter_position, distance=185,57338
[20:05:26] [INFO] [Bullet] Distance to wall: 185,57338 (12,636033% of viewport)
[20:05:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:05:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(372.8599, 214.35356), shooter_id=2884187982065, bullet_pos=(52.28104, 160.92867)
[20:05:26] [INFO] [Bullet] Using shooter_position, distance=325,00003
[20:05:26] [INFO] [Bullet] Distance to wall: 325,00003 (22,12985% of viewport)
[20:05:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:05:26] [INFO] [Bullet] Starting wall penetration at (52.28104, 160.92867)
[20:05:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,772594
[20:05:26] [INFO] [Bullet] Body exited signal received for penetrating body
[20:05:26] [INFO] [Bullet] Exiting penetration at (14.469181, 154.62727) after traveling 33,333332 pixels through wall
[20:05:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:05:26] [ENEMY] [Enemy4] Death animation completed
[20:05:26] [ENEMY] [Enemy2] Death animation completed
[20:05:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(344.69986, 214.35356), shooter_id=2884187982065, bullet_pos=(1360.2307, 443.6426)
[20:05:27] [INFO] [Bullet] Using shooter_position, distance=1041,0939
[20:05:27] [INFO] [Bullet] Distance to wall: 1041,0939 (70,89% of viewport)
[20:05:27] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:05:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(696.1813, 759.5457), source=ENEMY (Enemy3), range=1469, listeners=8
[20:05:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=6
[20:05:27] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:05:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(696.1813, 759.5457), source=ENEMY (Enemy3), range=1469, listeners=8
[20:05:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=6
[20:05:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(696.1813, 759.5457), source=ENEMY (Enemy3), range=1469, listeners=8
[20:05:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=6
[20:05:27] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:05:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(696.1813, 759.5457), source=ENEMY (Enemy3), range=1469, listeners=8
[20:05:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=6
[20:05:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(670.2926, 696.3712), shooter_id=2881369410029, bullet_pos=(521.6738, 361.1745)
[20:05:27] [INFO] [Bullet] Using shooter_position, distance=366.666564941406
[20:05:27] [INFO] [Bullet] Distance to wall: 366.666564941406 (24.9670006472203% of viewport)
[20:05:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:05:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(696.1813, 759.5457), source=ENEMY (Enemy3), range=1469, listeners=8
[20:05:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=6
[20:05:27] [INFO] [LastChance] Threat detected: Bullet
[20:05:27] [INFO] [LastChance] Effect already used this life
[20:05:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:05:27] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:05:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(696.1813, 759.5457), source=ENEMY (Enemy3), range=1469, listeners=8
[20:05:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=6
[20:05:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(696.1813, 759.5457), source=ENEMY (Enemy3), range=1469, listeners=8
[20:05:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=6
[20:05:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[20:05:27] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[20:05:27] [INFO] [PenultimateHit] Player died - ending penultimate effect
[20:05:27] [INFO] [LastChance] Player died
[20:05:27] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[20:05:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(672.5865, 695.4708), shooter_id=2881369410029, bullet_pos=(525.6536, 217.5473)
[20:05:27] [INFO] [Bullet] Using shooter_position, distance=500.000213623047
[20:05:27] [INFO] [Bullet] Distance to wall: 500.000213623047 (34.0459339649138% of viewport)
[20:05:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:05:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(670.7302, 696.4359), shooter_id=2881369410029, bullet_pos=(493.9003, 53.64828)
[20:05:27] [INFO] [Bullet] Using shooter_position, distance=666.666870117188
[20:05:27] [INFO] [Bullet] Distance to wall: 666.666870117188 (45.394573078557% of viewport)
[20:05:27] [INFO] [LastChance] Threat detected: @Area2D@2577
[20:05:27] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:05:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:05:27] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:05:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(676.0693, 759.6813), source=ENEMY (Enemy3), range=1469, listeners=8
[20:05:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=6
[20:05:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(672.5865, 695.4708), shooter_id=2881369410029, bullet_pos=(597.7476, 58.08736)
[20:05:27] [INFO] [Bullet] Using shooter_position, distance=641.762084960938
[20:05:27] [INFO] [Bullet] Distance to wall: 641.762084960938 (43.6987604614062% of viewport)
[20:05:27] [INFO] [LastChance] Threat detected: @Area2D@2578
[20:05:27] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:05:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:05:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(673.708, 695.3152), shooter_id=2881369410029, bullet_pos=(527.1174, 44.96484)
[20:05:27] [INFO] [Bullet] Using shooter_position, distance=666.666625976563
[20:05:27] [INFO] [Bullet] Distance to wall: 666.666625976563 (45.3945564545729% of viewport)
[20:05:27] [INFO] [Bullet] Distance-based penetration chance: 93.7063508029982%
[20:05:27] [INFO] [Bullet] Starting wall penetration at (527.1174, 44.96484)
[20:05:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25.0432281494141
[20:05:28] [INFO] [Bullet] Body exited signal received for penetrating body
[20:05:28] [INFO] [Bullet] Exiting penetration at (518.6885, 7.569691) after traveling 33.3333320617676 pixels through wall
[20:05:28] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:05:28] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:05:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.707, 757.5821), source=ENEMY (Enemy3), range=1469, listeners=8
[20:05:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=6
[20:05:28] [INFO] [LastChance] Threat detected: Bullet
[20:05:28] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:05:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:05:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(676.4852, 694.3782), shooter_id=2881369410029, bullet_pos=(723.6455, 62.80327)
[20:05:28] [INFO] [Bullet] Using shooter_position, distance=633.333251953125
[20:05:28] [INFO] [Bullet] Distance to wall: 633.333251953125 (43.1248257226471% of viewport)
[20:05:28] [INFO] [Bullet] Distance-based penetration chance: 96.3543699902451%
[20:05:28] [INFO] [Bullet] Starting wall penetration at (723.6455, 62.80327)
[20:05:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(676.2356, 694.4859), shooter_id=2881369410029, bullet_pos=(555.176, 38.90284)
[20:05:28] [INFO] [Bullet] Using shooter_position, distance=666.666748046875
[20:05:28] [INFO] [Bullet] Distance to wall: 666.666748046875 (45.394564766565% of viewport)
[20:05:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15.7776479721069
[20:05:28] [INFO] [Bullet] Body exited signal received for penetrating body
[20:05:28] [INFO] [Bullet] Exiting penetration at (727.1205, 16.26616) after traveling 41.666675567627 pixels through wall
[20:05:28] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:05:28] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:05:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(605.4498, 755.1968), source=ENEMY (Enemy3), range=1469, listeners=8
[20:05:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=5
[20:05:28] [INFO] [LastChance] Threat detected: @Area2D@2586
[20:05:28] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:05:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:05:28] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:05:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(568.1927, 752.8115), source=ENEMY (Enemy3), range=1469, listeners=8
[20:05:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=5
[20:05:28] [INFO] [LastChance] Threat detected: Bullet
[20:05:28] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:05:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:05:28] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:05:28] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:05:28] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:05:28] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:05:28] [ENEMY] [Enemy1] Death animation component initialized
[20:05:28] [ENEMY] [Enemy2] Death animation component initialized
[20:05:28] [ENEMY] [Enemy3] Death animation component initialized
[20:05:28] [ENEMY] [Enemy4] Death animation component initialized
[20:05:28] [ENEMY] [Enemy5] Death animation component initialized
[20:05:28] [ENEMY] [Enemy6] Death animation component initialized
[20:05:28] [ENEMY] [Enemy7] Death animation component initialized
[20:05:28] [ENEMY] [Enemy8] Death animation component initialized
[20:05:28] [ENEMY] [Enemy9] Death animation component initialized
[20:05:28] [ENEMY] [Enemy10] Death animation component initialized
[20:05:28] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:05:28] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:05:28] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:05:28] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:05:28] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:05:28] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:05:28] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:05:28] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[20:05:28] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:05:28] [INFO] [ScoreManager] Level started with 10 enemies
[20:05:28] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[20:05:28] [ENEMY] [Enemy1] Registered as sound listener
[20:05:28] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:05:28] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[20:05:28] [ENEMY] [Enemy2] Registered as sound listener
[20:05:28] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[20:05:28] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[20:05:28] [ENEMY] [Enemy3] Registered as sound listener
[20:05:28] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[20:05:28] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[20:05:28] [ENEMY] [Enemy4] Registered as sound listener
[20:05:28] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[20:05:28] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[20:05:28] [ENEMY] [Enemy5] Registered as sound listener
[20:05:28] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[20:05:28] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[20:05:28] [ENEMY] [Enemy6] Registered as sound listener
[20:05:28] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[20:05:28] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[20:05:28] [ENEMY] [Enemy7] Registered as sound listener
[20:05:28] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[20:05:28] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[20:05:28] [ENEMY] [Enemy8] Registered as sound listener
[20:05:28] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[20:05:28] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[20:05:28] [ENEMY] [Enemy9] Registered as sound listener
[20:05:28] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[20:05:28] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[20:05:28] [ENEMY] [Enemy10] Registered as sound listener
[20:05:28] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[20:05:28] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:05:28] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:05:28] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:05:28] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:05:28] [ENEMY] [Enemy1] Death animation component initialized
[20:05:28] [ENEMY] [Enemy2] Death animation component initialized
[20:05:28] [ENEMY] [Enemy3] Death animation component initialized
[20:05:28] [ENEMY] [Enemy4] Death animation component initialized
[20:05:28] [ENEMY] [Enemy5] Death animation component initialized
[20:05:28] [ENEMY] [Enemy6] Death animation component initialized
[20:05:28] [ENEMY] [Enemy7] Death animation component initialized
[20:05:28] [ENEMY] [Enemy8] Death animation component initialized
[20:05:28] [ENEMY] [Enemy9] Death animation component initialized
[20:05:28] [ENEMY] [Enemy10] Death animation component initialized
[20:05:28] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:05:28] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:05:28] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:05:28] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:05:28] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:05:28] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:05:28] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:05:28] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[20:05:28] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:05:28] [INFO] [ScoreManager] Level started with 10 enemies
[20:05:28] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 19)
[20:05:28] [ENEMY] [Enemy1] Registered as sound listener
[20:05:28] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[20:05:28] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 20)
[20:05:28] [ENEMY] [Enemy2] Registered as sound listener
[20:05:28] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[20:05:28] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 21)
[20:05:28] [ENEMY] [Enemy3] Registered as sound listener
[20:05:28] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[20:05:28] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 22)
[20:05:28] [ENEMY] [Enemy4] Registered as sound listener
[20:05:28] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[20:05:28] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 23)
[20:05:28] [ENEMY] [Enemy5] Registered as sound listener
[20:05:28] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[20:05:28] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 24)
[20:05:28] [ENEMY] [Enemy6] Registered as sound listener
[20:05:28] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[20:05:28] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 25)
[20:05:28] [ENEMY] [Enemy7] Registered as sound listener
[20:05:28] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[20:05:28] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 26)
[20:05:28] [ENEMY] [Enemy8] Registered as sound listener
[20:05:28] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[20:05:28] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 27)
[20:05:28] [ENEMY] [Enemy9] Registered as sound listener
[20:05:28] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[20:05:28] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 28)
[20:05:28] [ENEMY] [Enemy10] Registered as sound listener
[20:05:28] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[20:05:28] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:05:28] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:05:28] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:05:28] [INFO] [LastChance] Found player: Player
[20:05:28] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:05:28] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:05:28] [INFO] [LastChance] Connected to player Died signal (C#)
[20:05:28] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:05:28] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:05:28] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:05:29] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:05:29] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:05:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=28
[20:05:29] [INFO] [SoundPropagation] Cleaned up 18 invalid listeners
[20:05:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[20:05:29] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:05:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[20:05:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:05:30] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:05:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[20:05:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:05:30] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:05:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[20:05:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:05:30] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:05:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.429, 1452.547), source=ENEMY (Enemy10), range=1469, listeners=10
[20:05:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:05:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=3335344097651, bullet_pos=(53.14801, 921.1365)
[20:05:30] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[20:05:30] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[20:05:30] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:05:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=3335344097651, bullet_pos=(46.85162, 857.2495)
[20:05:30] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[20:05:30] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[20:05:30] [INFO] [Bullet] Distance-based penetration chance: 50.676007493934%
[20:05:30] [INFO] [Bullet] Starting wall penetration at (46.85162, 857.2495)
[20:05:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.2577056884766
[20:05:30] [INFO] [Bullet] Body exited signal received for penetrating body
[20:05:30] [INFO] [Bullet] Exiting penetration at (7.040176, 832.9015) after traveling 41.6666679382324 pixels through wall
[20:05:30] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:05:30] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[20:05:30] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[20:05:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=3335344097651, bullet_pos=(387.1895, 711.1072)
[20:05:30] [INFO] [Bullet] Using shooter_position, distance=1075.80859375
[20:05:30] [INFO] [Bullet] Distance to wall: 1075.80859375 (73.2537853860049% of viewport)
[20:05:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=3335344097651, bullet_pos=(43.06916, 793.3154)
[20:05:30] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[20:05:30] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[20:05:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=3335344097651, bullet_pos=(162.8077, 708.6172)
[20:05:30] [INFO] [Bullet] Using shooter_position, distance=1163.99536132813
[20:05:30] [INFO] [Bullet] Distance to wall: 1163.99536132813 (79.258584551566% of viewport)
[20:05:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=3335344097651, bullet_pos=(41.67921, 729.5751)
[20:05:30] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[20:05:30] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[20:05:30] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[20:05:30] [INFO] [Bullet] Starting wall penetration at (41.67921, 729.5751)
[20:05:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.6874122619629
[20:05:30] [INFO] [Bullet] Body exited signal received for penetrating body
[20:05:30] [INFO] [Bullet] Exiting penetration at (3.972645, 702.0798) after traveling 41.6666679382324 pixels through wall
[20:05:30] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:05:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=3335344097651, bullet_pos=(679.9943, 876.2112)
[20:05:30] [INFO] [Bullet] Using shooter_position, distance=764.383544921875
[20:05:30] [INFO] [Bullet] Distance to wall: 764.383544921875 (52.0482811511289% of viewport)
[20:05:30] [INFO] [Bullet] Distance-based penetration chance: 85.9436719903496%
[20:05:30] [INFO] [Bullet] Penetration failed (distance roll)
[20:05:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6275, 1416.637), shooter_id=3335344097651, bullet_pos=(43.10027, 665.5332)
[20:05:30] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[20:05:30] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[20:05:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=3335344097651, bullet_pos=(502.0667, 1014.154)
[20:05:30] [INFO] [Bullet] Using shooter_position, distance=707.678527832031
[20:05:30] [INFO] [Bullet] Distance to wall: 707.678527832031 (48.1871322661494% of viewport)
[20:05:30] [INFO] [Bullet] Distance-based penetration chance: 90.4483456894923%
[20:05:30] [INFO] [Bullet] Starting wall penetration at (502.0667, 1014.154)
[20:05:30] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:05:30] [INFO] [Bullet] Exiting penetration at (528.1516, 1037.646) after traveling 30.1041698455811 pixels through wall
[20:05:30] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[20:05:30] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[20:05:30] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:05:30] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:05:31] [ENEMY] [Enemy3] Memory: medium confidence (0.75) - transitioning to PURSUING
[20:05:31] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[20:05:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6275, 1416.637), shooter_id=3335344097651, bullet_pos=(503.2048, 390.092)
[20:05:31] [INFO] [Bullet] Using shooter_position, distance=1135.95812988281
[20:05:31] [INFO] [Bullet] Distance to wall: 1135.95812988281 (77.3494779065321% of viewport)
[20:05:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6275, 1416.637), shooter_id=3335344097651, bullet_pos=(321.3664, 274.0149)
[20:05:31] [INFO] [Bullet] Using shooter_position, distance=1323.69079589844
[20:05:31] [INFO] [Bullet] Distance to wall: 1323.69079589844 (90.132540345469% of viewport)
[20:05:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6275, 1416.637), shooter_id=3335344097651, bullet_pos=(60.39125, 392.1645)
[20:05:31] [INFO] [Bullet] Using shooter_position, distance=1383.12084960938
[20:05:31] [INFO] [Bullet] Distance to wall: 1383.12084960938 (94.1792419848792% of viewport)
[20:05:31] [INFO] [Bullet] Distance-based penetration chance: 36.7908843509743%
[20:05:31] [INFO] [Bullet] Starting wall penetration at (60.39125, 392.1645)
[20:05:31] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:05:31] [INFO] [Bullet] Exiting penetration at (32.52538, 404.78) after traveling 25.5885467529297 pixels through wall
[20:05:31] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[20:05:33] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[20:05:33] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[20:05:33] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[20:05:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(934.0873, 1390.387), source=ENEMY (Enemy10), range=1469, listeners=10
[20:05:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:05:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(344.1421, 989.6176), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:33] [ENEMY] [Enemy2] Heard gunshot at (344.1421, 989.6176), source_type=0, intensity=0.01, distance=443
[20:05:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[20:05:33] [ENEMY] [Enemy1] Memory: medium confidence (0.63) - transitioning to PURSUING
[20:05:33] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[20:05:33] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[20:05:33] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[20:05:33] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[20:05:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(930.9202, 1385.111), source=ENEMY (Enemy10), range=1469, listeners=10
[20:05:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:05:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(316.9184, 1016.841), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[20:05:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(917.371, 1376.249), source=ENEMY (Enemy10), range=1469, listeners=10
[20:05:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:05:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(289.6947, 1044.065), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[20:05:33] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[20:05:33] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[20:05:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(380.4536, 649.3506), source=ENEMY (Enemy2), range=1469, listeners=10
[20:05:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[20:05:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(880.6016, 1377.012), source=ENEMY (Enemy10), range=1469, listeners=10
[20:05:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:05:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(262.471, 1071.288), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[20:05:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(344.14212, 989.6176), shooter_id=3336166180801, bullet_pos=(1198.4774, 1385.6582)
[20:05:33] [INFO] [Bullet] Using shooter_position, distance=941,6671
[20:05:33] [INFO] [Bullet] Distance to wall: 941,6671 (64,11984% of viewport)
[20:05:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(874.3035, 1358.019), shooter_id=3335344097651, bullet_pos=(55.34698, 784.1638)
[20:05:33] [INFO] [Bullet] Using shooter_position, distance=999.999938964844
[20:05:33] [INFO] [Bullet] Distance to wall: 999.999938964844 (68.0918346818594% of viewport)
[20:05:33] [INFO] [Bullet] Distance-based penetration chance: 67.226192871164%
[20:05:33] [INFO] [Bullet] Starting wall penetration at (55.34698, 784.1638)
[20:05:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18.1584415435791
[20:05:34] [INFO] [Bullet] Body exited signal received for penetrating body
[20:05:34] [INFO] [Bullet] Exiting penetration at (17.129, 757.3839) after traveling 41.6666679382324 pixels through wall
[20:05:34] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:05:34] [INFO] [LastChance] Threat detected: @Area2D@3127
[20:05:34] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:05:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(239.1365, 1094.622), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:34] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[20:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(858.7775, 1353.078), source=ENEMY (Enemy10), range=1469, listeners=10
[20:05:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[20:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(316.91843, 1016.8413), shooter_id=3336166180801, bullet_pos=(1141.5724, 1377.3203)
[20:05:34] [INFO] [Bullet] Using shooter_position, distance=899,9996
[20:05:34] [INFO] [Bullet] Distance to wall: 899,9996 (61,282627% of viewport)
[20:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(869.4048, 1356.159), shooter_id=3335344097651, bullet_pos=(54.84803, 851.2822)
[20:05:34] [INFO] [Bullet] Using shooter_position, distance=958.333740234375
[20:05:34] [INFO] [Bullet] Distance to wall: 958.333740234375 (65.2547065929183% of viewport)
[20:05:34] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[20:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(215.802, 1117.957), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:34] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[20:05:34] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[20:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(289.69473, 1044.0648), shooter_id=3336166180801, bullet_pos=(1126.344, 1375.7561)
[20:05:34] [INFO] [Bullet] Using shooter_position, distance=900,0007
[20:05:34] [INFO] [Bullet] Distance to wall: 900,0007 (61,2827% of viewport)
[20:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(819.122, 1337.349), source=ENEMY (Enemy10), range=1469, listeners=10
[20:05:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[20:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(854.3897, 1350.607), shooter_id=3335344097651, bullet_pos=(50.64313, 909.847)
[20:05:34] [INFO] [Bullet] Using shooter_position, distance=916.666748046875
[20:05:34] [INFO] [Bullet] Distance to wall: 916.666748046875 (62.4175244760288% of viewport)
[20:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(869.4048, 1356.159), shooter_id=3335344097651, bullet_pos=(303.4043, 705.1455)
[20:05:34] [INFO] [Bullet] Using shooter_position, distance=862.656005859375
[20:05:34] [INFO] [Bullet] Distance to wall: 862.656005859375 (58.7398337234846% of viewport)
[20:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(188.5784, 1145.18), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=5
[20:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(262.47104, 1071.2881), shooter_id=3336166180801, bullet_pos=(1105.7612, 1385.7115)
[20:05:34] [INFO] [Bullet] Using shooter_position, distance=900,00024
[20:05:34] [INFO] [Bullet] Distance to wall: 900,00024 (61,28267% of viewport)
[20:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(816.9245, 1353.063), shooter_id=3335344097651, bullet_pos=(38.65204, 953.1656)
[20:05:34] [INFO] [Bullet] Using shooter_position, distance=875.000366210938
[20:05:34] [INFO] [Bullet] Distance to wall: 875.000366210938 (59.5803839190996% of viewport)
[20:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(370.3628, 716.6468), shooter_id=3333062396943, bullet_pos=(131.4162, 1601.623)
[20:05:34] [INFO] [Bullet] Using shooter_position, distance=916.667053222656
[20:05:34] [INFO] [Bullet] Distance to wall: 916.667053222656 (62.4175452560089% of viewport)
[20:05:34] [INFO] [Bullet] Distance-based penetration chance: 73.8461972013229%
[20:05:34] [INFO] [Bullet] Penetration failed (distance roll)
[20:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(843.4383, 1346.923), source=ENEMY (Enemy10), range=1469, listeners=10
[20:05:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[20:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(161.3548, 1172.403), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[20:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(793.5961, 1333.74), shooter_id=3335344097651, bullet_pos=(65.47063, 1022.984)
[20:05:34] [INFO] [Bullet] Using shooter_position, distance=791.666625976563
[20:05:34] [INFO] [Bullet] Distance to wall: 791.666625976563 (53.9060363093049% of viewport)
[20:05:34] [INFO] [Bullet] Distance-based penetration chance: 83.7762909724777%
[20:05:34] [INFO] [Bullet] Penetration failed (distance roll)
[20:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(239.13652, 1094.6223), shooter_id=3336166180801, bullet_pos=(1048.0134, 1381.7725)
[20:05:34] [INFO] [Bullet] Using shooter_position, distance=858,33386
[20:05:34] [INFO] [Bullet] Distance to wall: 858,33386 (58,44553% of viewport)
[20:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(869.4048, 1356.159), shooter_id=3335344097651, bullet_pos=(519.4009, 876.8631)
[20:05:34] [INFO] [Bullet] Using shooter_position, distance=593.487548828125
[20:05:34] [INFO] [Bullet] Distance to wall: 593.487548828125 (40.4116585270785% of viewport)
[20:05:34] [INFO] [Bullet] Distance-based penetration chance: 99.5197317184084%
[20:05:34] [INFO] [Bullet] Starting wall penetration at (519.4009, 876.8631)
[20:05:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.2288703918457
[20:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(854.3897, 1350.607), shooter_id=3335344097651, bullet_pos=(429.9975, 707.3864)
[20:05:34] [INFO] [Bullet] Using shooter_position, distance=770.611145019531
[20:05:34] [INFO] [Bullet] Distance to wall: 770.611145019531 (52.4723298933251% of viewport)
[20:05:34] [INFO] [Bullet] Body exited signal received for penetrating body
[20:05:34] [INFO] [Bullet] Exiting penetration at (546.8796, 898.7086) after traveling 30.1041698455811 pixels through wall
[20:05:34] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[20:05:34] [ENEMY] [Enemy10] Hit taken, health: 1/2
[20:05:34] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[20:05:34] [INFO] [ImpactEffects] spawn_blood_effect called at (867.7546, 1356.498), dir=(1, 0), lethal=false
[20:05:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:05:34] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:05:34] [INFO] [ImpactEffects] Blood effect spawned at (867.7546, 1356.498) (scale=1)
[20:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(867.7546, 1356.498), source=ENEMY (Enemy10), range=1469, listeners=10
[20:05:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[20:05:34] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[20:05:34] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[20:05:34] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(137.2425, 1196.516), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:05:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[20:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(752.9363, 1322.059), shooter_id=3335344097651, bullet_pos=(53.35776, 1051.707)
[20:05:34] [INFO] [Bullet] Using shooter_position, distance=750.000183105469
[20:05:34] [INFO] [Bullet] Distance to wall: 750.000183105469 (51.0688915963796% of viewport)
[20:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(816.9245, 1353.063), shooter_id=3335344097651, bullet_pos=(390.4755, 705.9404)
[20:05:34] [INFO] [Bullet] Using shooter_position, distance=775.000671386719
[20:05:34] [INFO] [Bullet] Distance to wall: 775.000671386719 (52.7712208152942% of viewport)
[20:05:34] [INFO] [Bullet] Distance-based penetration chance: 85.1002423821568%
[20:05:34] [INFO] [Bullet] Starting wall penetration at (390.4755, 705.9404)
[20:05:34] [INFO] [Bullet] Body exited signal received for penetrating body
[20:05:34] [INFO] [Bullet] Exiting penetration at (417.7486, 686.7756) after traveling 0 pixels through wall
[20:05:34] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[20:05:34] [INFO] [LastChance] Threat detected: @Area2D@3150
[20:05:34] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:05:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:05:34] [ENEMY] [Enemy10] Hit taken, health: 0/2
[20:05:34] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[20:05:34] [INFO] [ImpactEffects] spawn_blood_effect called at (896.2396, 1367.713), dir=(1, 0), lethal=true
[20:05:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:05:34] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:05:34] [INFO] [ImpactEffects] Blood effect spawned at (896.2396, 1367.713) (scale=1.5)
[20:05:34] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[20:05:34] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:05:34] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[20:05:34] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:05:34] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[20:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(854.3897, 1350.607), shooter_id=3335344097651, bullet_pos=(680.5664, 883.1041)
[20:05:34] [INFO] [Bullet] Using shooter_position, distance=498.772033691406
[20:05:34] [INFO] [Bullet] Distance to wall: 498.772033691406 (33.9623049349446% of viewport)
[20:05:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:05:34] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:05:34] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[20:05:34] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:05:34] [ENEMY] [Enemy4] Hit taken, health: 2/3
[20:05:34] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:05:34] [INFO] [ImpactEffects] spawn_blood_effect called at (667.8087, 913.8911), dir=(-0.787825, 0.615899), lethal=false
[20:05:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:05:34] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:05:34] [INFO] [ImpactEffects] Blood effect spawned at (667.8087, 913.8911) (scale=1)
[20:05:34] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[20:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(112.3524, 1221.406), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:05:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=4
[20:05:34] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[20:05:34] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[20:05:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(262.47104, 1071.2881), shooter_id=3336166180801, bullet_pos=(1768.2731, 1211.6309)
[20:05:34] [INFO] [Bullet] Using shooter_position, distance=1512,3279
[20:05:34] [INFO] [Bullet] Distance to wall: 1512,3279 (102,977196% of viewport)
[20:05:34] [INFO] [LastChance] Threat detected: @Area2D@3157
[20:05:34] [INFO] [LastChance] Triggering last chance effect!
[20:05:34] [INFO] [LastChance] Starting last chance effect:
[20:05:34] [INFO] [LastChance]   - Time will be frozen (except player)
[20:05:34] [INFO] [LastChance]   - Duration: 6.0 real seconds
[20:05:34] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:05:34] [INFO] [LastChance]   - Brightness: 0.60
[20:05:34] [INFO] [LastChance] Pushed bullet @Area2D@3157 from distance 147.4 to 200.0
[20:05:34] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[20:05:34] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:05:34] [INFO] [LastChance] Skipping player node: Player
[20:05:34] [INFO] [LastChance] Froze existing bullet casing: Casing
[20:05:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3098
[20:05:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3100
[20:05:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3102
[20:05:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3104
[20:05:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3116
[20:05:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3118
[20:05:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3120
[20:05:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3122
[20:05:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3124
[20:05:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3126
[20:05:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3128
[20:05:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3130
[20:05:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3132
[20:05:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3134
[20:05:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3136
[20:05:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3140
[20:05:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3146
[20:05:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3152
[20:05:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3159
[20:05:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3166
[20:05:34] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:05:34] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:05:34] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:05:34] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3168
[20:05:34] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3168
[20:05:34] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3169
[20:05:34] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3169
[20:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(84.35098, 1249.408), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:05:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=4
[20:05:34] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3170
[20:05:34] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3170
[20:05:34] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3171
[20:05:34] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3171
[20:05:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06496, 1274.298), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:05:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=4
[20:05:36] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:05:36] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[20:05:36] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[20:05:36] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[20:05:36] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[20:05:36] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[20:05:36] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[20:05:36] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[20:05:36] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[20:05:36] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[20:05:36] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[20:05:36] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(80.06498, 1676.401), source=PLAYER (Player), range=900, listeners=9
[20:05:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=0, below_threshold=1
[20:05:36] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:05:36] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:05:36] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[20:05:36] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[20:05:36] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[20:05:36] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[20:05:36] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[20:05:36] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[20:05:36] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[20:05:36] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[20:05:36] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[20:05:36] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[20:05:36] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:05:37] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:05:38] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[20:05:40] [INFO] [LastChance] Effect duration expired after 6.01 real seconds
[20:05:40] [INFO] [LastChance] Ending last chance effect
[20:05:40] [INFO] [LastChance] All process modes restored
[20:05:40] [INFO] [LastChance] Unfroze player bullet: @Area2D@3168
[20:05:40] [INFO] [LastChance] Unfroze player bullet: @Area2D@3170
[20:05:40] [INFO] [LastChance] Unfroze bullet casing: Casing
[20:05:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3098
[20:05:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3100
[20:05:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3102
[20:05:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3104
[20:05:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3116
[20:05:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3118
[20:05:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3120
[20:05:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3122
[20:05:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3124
[20:05:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3126
[20:05:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3128
[20:05:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3130
[20:05:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3132
[20:05:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3134
[20:05:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3136
[20:05:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3140
[20:05:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3146
[20:05:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3152
[20:05:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3159
[20:05:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3166
[20:05:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3169
[20:05:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3171
[20:05:40] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:05:40] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[20:05:40] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[20:05:40] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:05:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(800.37, 1347.346), shooter_id=3335344097651, bullet_pos=(50.90744, 1196.28)
[20:05:40] [INFO] [Bullet] Using shooter_position, distance=764.535827636719
[20:05:40] [INFO] [Bullet] Distance to wall: 764.535827636719 (52.0586503612059% of viewport)
[20:05:40] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:05:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(137.24252, 1196.5155), shooter_id=3336166180801, bullet_pos=(897.3946, 1417.6605)
[20:05:40] [INFO] [Bullet] Using shooter_position, distance=791,6668
[20:05:40] [INFO] [Bullet] Distance to wall: 791,6668 (53,90605% of viewport)
[20:05:40] [INFO] [Bullet] Distance-based penetration chance: 83,77627%
[20:05:40] [INFO] [Bullet] Starting wall penetration at (897.3946, 1417.6605)
[20:05:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,45574
[20:05:40] [INFO] [Bullet] Body exited signal received for penetrating body
[20:05:40] [INFO] [Bullet] Exiting penetration at (942.20355, 1430.6964) after traveling 41,666668 pixels through wall
[20:05:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:05:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(239.13652, 1094.6223), shooter_id=3336166180801, bullet_pos=(2016.2023, 1214.6904)
[20:05:40] [INFO] [Bullet] Using shooter_position, distance=1781,1173
[20:05:40] [INFO] [Bullet] Distance to wall: 1781,1173 (121,279564% of viewport)
[20:05:40] [INFO] [Bullet] Distance-based penetration chance: 25,74409%
[20:05:40] [INFO] [Bullet] Penetration failed (distance roll)
[20:05:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(112.35239, 1221.4061), shooter_id=3336166180801, bullet_pos=(908.332, 1404.0555)
[20:05:40] [INFO] [Bullet] Using shooter_position, distance=816,6666
[20:05:40] [INFO] [Bullet] Distance to wall: 816,6666 (55,608334% of viewport)
[20:05:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(262.47104, 1071.2881), shooter_id=3336166180801, bullet_pos=(2272.0427, 1372.4381)
[20:05:40] [INFO] [Bullet] Using shooter_position, distance=2032,0112
[20:05:40] [INFO] [Bullet] Distance to wall: 2032,0112 (138,36339% of viewport)
[20:05:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(112.35239, 1221.4061), shooter_id=3336166180801, bullet_pos=(984.01117, 1399.2233)
[20:05:41] [INFO] [Bullet] Using shooter_position, distance=889,61115
[20:05:41] [INFO] [Bullet] Distance to wall: 889,61115 (60,57526% of viewport)
[20:05:41] [INFO] [Bullet] Distance-based penetration chance: 75,99554%
[20:05:41] [INFO] [Bullet] Starting wall penetration at (984.01117, 1399.2233)
[20:05:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,370847
[20:05:41] [INFO] [Bullet] Body exited signal received for penetrating body
[20:05:41] [INFO] [Bullet] Exiting penetration at (1024.3457, 1396.6478) after traveling 35,416668 pixels through wall
[20:05:41] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[20:05:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(112.35239, 1221.4061), shooter_id=3336166180801, bullet_pos=(1024.3457, 1396.6478)
[20:05:41] [INFO] [Bullet] Using shooter_position, distance=928,67725
[20:05:41] [INFO] [Bullet] Distance to wall: 928,67725 (63,235344% of viewport)
[20:05:41] [INFO] [Bullet] Distance-based penetration chance: 72,892105%
[20:05:41] [INFO] [Bullet] Penetration failed (distance roll)
[20:05:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(161.35484, 1172.4031), shooter_id=3336166180801, bullet_pos=(1683.1027, 1638.9681)
[20:05:41] [INFO] [Bullet] Using shooter_position, distance=1591,6656
[20:05:41] [INFO] [Bullet] Distance to wall: 1591,6656 (108,37945% of viewport)
[20:05:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1274.2985), shooter_id=3336166180801, bullet_pos=(1012.96497, 1402.4911)
[20:05:41] [INFO] [Bullet] Using shooter_position, distance=941,6665
[20:05:41] [INFO] [Bullet] Distance to wall: 941,6665 (64,119804% of viewport)
[20:05:41] [INFO] [Bullet] Distance-based penetration chance: 71,86023%
[20:05:41] [INFO] [Bullet] Starting wall penetration at (1012.96497, 1402.4911)
[20:05:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1274.2985), shooter_id=3336166180801, bullet_pos=(1017.9184, 1403.1718)
[20:05:41] [INFO] [Bullet] Using shooter_position, distance=946,6665
[20:05:41] [INFO] [Bullet] Distance to wall: 946,6665 (64,460266% of viewport)
[20:05:41] [INFO] [Bullet] Distance-based penetration chance: 71,46303%
[20:05:41] [INFO] [Bullet] Already penetrating, cannot start new penetration
[20:05:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(84.35098, 1249.4081), shooter_id=3336166180801, bullet_pos=(1014.2363, 1397.8999)
[20:05:41] [INFO] [Bullet] Using shooter_position, distance=941,66693
[20:05:41] [INFO] [Bullet] Distance to wall: 941,66693 (64,119835% of viewport)
[20:05:41] [INFO] [Bullet] Distance-based penetration chance: 71,86019%
[20:05:41] [INFO] [Bullet] Starting wall penetration at (1014.2363, 1397.8999)
[20:05:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(84.35098, 1249.4081), shooter_id=3336166180801, bullet_pos=(1019.17377, 1398.6884)
[20:05:41] [INFO] [Bullet] Using shooter_position, distance=946,6669
[20:05:41] [INFO] [Bullet] Distance to wall: 946,6669 (64,46029% of viewport)
[20:05:41] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:05:41] [INFO] [Bullet] Exiting penetration at (978.83417, 1401.1831) after traveling 35,416668 pixels through wall
[20:05:41] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[20:05:41] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:05:41] [INFO] [Bullet] Exiting penetration at (1059.1971, 1408.844) after traveling 41,66667 pixels through wall
[20:05:41] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:05:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(262.47104, 1071.2881), shooter_id=3336166180801, bullet_pos=(2031.3231, 1473.0118)
[20:05:41] [INFO] [Bullet] Using shooter_position, distance=1813,8962
[20:05:41] [INFO] [Bullet] Distance to wall: 1813,8962 (123,51153% of viewport)
[20:05:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(161.35484, 1172.4031), shooter_id=3336166180801, bullet_pos=(1507.1096, 1685.6667)
[20:05:41] [INFO] [Bullet] Using shooter_position, distance=1440,3109
[20:05:41] [INFO] [Bullet] Distance to wall: 1440,3109 (98,073425% of viewport)
[20:05:41] [INFO] [Bullet] Distance-based penetration chance: 32,247673%
[20:05:41] [INFO] [Bullet] Starting wall penetration at (1507.1096, 1685.6667)
[20:05:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,645731
[20:05:41] [INFO] [Bullet] Body exited signal received for penetrating body
[20:05:41] [INFO] [Bullet] Exiting penetration at (1468.0448, 1696.0323) after traveling 35,416668 pixels through wall
[20:05:41] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[20:05:43] [ENEMY] [Enemy3] State: SUPPRESSED -> IN_COVER
[20:05:43] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[20:05:43] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[20:05:43] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[20:05:43] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[20:05:43] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[20:05:44] [ENEMY] [Enemy3] FLANKING started: target=(33.32249, 1605.246), side=left, pos=(548.0665, 957.9107)
[20:05:44] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[20:05:44] [ENEMY] [Enemy2] FLANKING started: target=(-2.48262, 1635.656), side=left, pos=(398.0049, 663.9334)
[20:05:44] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[20:05:45] [ENEMY] [Enemy1] FLANKING started: target=(-0.929367, 1634.005), side=left, pos=(415.8194, 645.0359)
[20:05:45] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[20:05:46] [ENEMY] [Enemy4] FLANKING started: target=(51.3543, 1450.761), side=left, pos=(563.6213, 966.9404)
[20:05:46] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[20:05:49] [ENEMY] [Enemy3] FLANKING timeout (5.0s), target=(-51.41092, 1585.39), pos=(117.7845, 1559.872)
[20:05:49] [ENEMY] [Enemy3] State: FLANKING -> PURSUING
[20:05:49] [ENEMY] [Enemy2] FLANKING timeout (5.0s), target=(-53.99922, 1599.756), pos=(112.0635, 1562.603)
[20:05:49] [ENEMY] [Enemy2] State: FLANKING -> PURSUING
[20:05:50] [ENEMY] [Enemy1] FLANKING timeout (5.0s), target=(-51.61064, 1586.316), pos=(117.4268, 1559.854)
[20:05:50] [ENEMY] [Enemy1] State: FLANKING -> PURSUING
[20:05:51] [ENEMY] [Enemy4] FLANKING timeout (5.0s), target=(-55.53896, 1614.363), pos=(116.7649, 1563.934)
[20:05:51] [ENEMY] [Enemy4] State: FLANKING -> PURSUING
[20:05:56] [ENEMY] [Enemy2] FLANKING started: target=(310.2514, 1516.842), side=right, pos=(105.0815, 1037.351)
[20:05:56] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[20:05:56] [ENEMY] [Enemy3] FLANKING started: target=(73.1882, 1440.965), side=left, pos=(377.724, 1342.102)
[20:05:56] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[20:05:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(143.9948, 1634.012), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:05:58] [ENEMY] [Enemy3] Heard gunshot at (143.9948, 1634.012), source_type=0, intensity=0.41, distance=78
[20:05:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:05:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(143.9948, 1634.012), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:05:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:05:58] [ENEMY] [Enemy1] FLANKING started: target=(309.8109, 1516.186), side=right, pos=(106.8587, 1096.35)
[20:05:58] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[20:05:58] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:05:58] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[20:05:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(143.9948, 1634.012), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:05:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:05:58] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[20:05:58] [ENEMY] [Enemy2] Hit taken, health: 2/3
[20:05:58] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:05:58] [INFO] [ImpactEffects] spawn_blood_effect called at (536.0657, 1604.286), dir=(1, 0), lethal=false
[20:05:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:05:58] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:05:58] [INFO] [ImpactEffects] Blood effect spawned at (536.0657, 1604.286) (scale=1)
[20:05:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(143.9948, 1634.0116), shooter_id=3336166180801, bullet_pos=(910.0868, 1604.3273)
[20:05:58] [INFO] [Bullet] Using shooter_position, distance=766,6669
[20:05:58] [INFO] [Bullet] Distance to wall: 766,6669 (52,20376% of viewport)
[20:05:58] [INFO] [Bullet] Distance-based penetration chance: 85,76228%
[20:05:58] [INFO] [Bullet] Starting wall penetration at (910.0868, 1604.3273)
[20:05:58] [ENEMY] [Enemy2] State: FLANKING -> COMBAT
[20:05:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,418724
[20:05:58] [INFO] [Bullet] Body exited signal received for penetrating body
[20:05:58] [INFO] [Bullet] Exiting penetration at (948.3914, 1602.843) after traveling 33,333336 pixels through wall
[20:05:58] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:05:58] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[20:05:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(143.9948, 1634.012), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:05:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:05:59] [ENEMY] [Enemy2] Hit taken, health: 1/3
[20:05:59] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:05:59] [INFO] [ImpactEffects] spawn_blood_effect called at (536.1455, 1609.225), dir=(1, 0), lethal=false
[20:05:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:05:59] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:05:59] [INFO] [ImpactEffects] Blood effect spawned at (536.1455, 1609.225) (scale=1)
[20:05:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(143.9948, 1634.012), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:05:59] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=1
[20:05:59] [ENEMY] [Enemy2] Hit taken, health: 0/3
[20:05:59] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:05:59] [INFO] [ImpactEffects] spawn_blood_effect called at (541.7872, 1597.895), dir=(1, 0), lethal=true
[20:05:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:05:59] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:05:59] [INFO] [ImpactEffects] Blood effect spawned at (541.7872, 1597.895) (scale=1.5)
[20:05:59] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[20:05:59] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:05:59] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[20:05:59] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:05:59] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[20:05:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(143.9948, 1634.012), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:05:59] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=1
[20:05:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(143.9948, 1634.012), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:05:59] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=1
[20:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(143.9948, 1634.0116), shooter_id=3336166180801, bullet_pos=(901.7597, 1604.6494)
[20:05:59] [INFO] [Bullet] Using shooter_position, distance=758,33356
[20:05:59] [INFO] [Bullet] Distance to wall: 758,33356 (51,636326% of viewport)
[20:05:59] [INFO] [Bullet] Distance-based penetration chance: 86,42429%
[20:05:59] [INFO] [Bullet] Starting wall penetration at (901.7597, 1604.6494)
[20:05:59] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,08539
[20:05:59] [INFO] [Bullet] Body exited signal received for penetrating body
[20:05:59] [INFO] [Bullet] Exiting penetration at (940.06433, 1603.1652) after traveling 33,333336 pixels through wall
[20:05:59] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:05:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(143.9948, 1634.012), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:05:59] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=1
[20:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(143.9948, 1634.0116), shooter_id=3336166180801, bullet_pos=(901.7597, 1604.6494)
[20:05:59] [INFO] [Bullet] Using shooter_position, distance=758,33356
[20:05:59] [INFO] [Bullet] Distance to wall: 758,33356 (51,636326% of viewport)
[20:05:59] [INFO] [Bullet] Distance-based penetration chance: 86,42429%
[20:05:59] [INFO] [Bullet] Penetration failed (distance roll)
[20:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(143.9948, 1634.0116), shooter_id=3336166180801, bullet_pos=(901.7597, 1604.6494)
[20:05:59] [INFO] [Bullet] Using shooter_position, distance=758,33356
[20:05:59] [INFO] [Bullet] Distance to wall: 758,33356 (51,636326% of viewport)
[20:05:59] [INFO] [Bullet] Distance-based penetration chance: 86,42429%
[20:05:59] [INFO] [Bullet] Starting wall penetration at (901.7597, 1604.6494)
[20:05:59] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,08539
[20:05:59] [INFO] [Bullet] Body exited signal received for penetrating body
[20:05:59] [INFO] [Bullet] Exiting penetration at (940.06433, 1603.1652) after traveling 33,333336 pixels through wall
[20:05:59] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:05:59] [ENEMY] [Enemy2] Ragdoll activated
[20:05:59] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(143.9948, 1634.0116), shooter_id=3336166180801, bullet_pos=(901.7597, 1604.6494)
[20:05:59] [INFO] [Bullet] Using shooter_position, distance=758,33356
[20:05:59] [INFO] [Bullet] Distance to wall: 758,33356 (51,636326% of viewport)
[20:05:59] [INFO] [Bullet] Distance-based penetration chance: 86,42429%
[20:05:59] [INFO] [Bullet] Penetration failed (distance roll)
[20:06:00] [ENEMY] [Enemy4] FLANKING started: target=(-34.53192, 1537.855), side=left, pos=(106.8982, 965.7453)
[20:06:00] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[20:06:00] [ENEMY] [Enemy2] Death animation completed
[20:06:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(143.9948, 1634.012), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:06:01] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=0
[20:06:01] [ENEMY] [Enemy1] State: FLANKING -> COMBAT
[20:06:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(143.9948, 1634.012), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:06:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=0
[20:06:02] [ENEMY] [Enemy1] Hit taken, health: 1/2
[20:06:02] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:02] [INFO] [ImpactEffects] spawn_blood_effect called at (535.8876, 1614.938), dir=(1, 0), lethal=false
[20:06:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:02] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:02] [INFO] [ImpactEffects] Blood effect spawned at (535.8876, 1614.938) (scale=1)
[20:06:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(143.9948, 1634.012), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:06:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=0
[20:06:02] [ENEMY] [Enemy1] Hit taken, health: 0/2
[20:06:02] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:02] [INFO] [ImpactEffects] spawn_blood_effect called at (535.7196, 1616.077), dir=(1, 0), lethal=true
[20:06:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:02] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:06:02] [INFO] [ImpactEffects] Blood effect spawned at (535.7196, 1616.077) (scale=1.5)
[20:06:02] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[20:06:02] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[20:06:02] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 7)
[20:06:02] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:06:02] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[20:06:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(143.9948, 1634.012), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:06:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[20:06:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(143.9948, 1634.012), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:06:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[20:06:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(143.9948, 1634.0116), shooter_id=3336166180801, bullet_pos=(901.7597, 1604.6494)
[20:06:02] [INFO] [Bullet] Using shooter_position, distance=758,33356
[20:06:02] [INFO] [Bullet] Distance to wall: 758,33356 (51,636326% of viewport)
[20:06:02] [INFO] [Bullet] Distance-based penetration chance: 86,42429%
[20:06:02] [INFO] [Bullet] Starting wall penetration at (901.7597, 1604.6494)
[20:06:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,08539
[20:06:02] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:02] [INFO] [Bullet] Exiting penetration at (940.06433, 1603.1652) after traveling 33,333336 pixels through wall
[20:06:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(143.9948, 1634.012), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:06:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[20:06:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(143.9948, 1634.0116), shooter_id=3336166180801, bullet_pos=(901.7597, 1604.6494)
[20:06:02] [INFO] [Bullet] Using shooter_position, distance=758,33356
[20:06:02] [INFO] [Bullet] Distance to wall: 758,33356 (51,636326% of viewport)
[20:06:02] [INFO] [Bullet] Distance-based penetration chance: 86,42429%
[20:06:02] [INFO] [Bullet] Starting wall penetration at (901.7597, 1604.6494)
[20:06:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,08539
[20:06:02] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:02] [INFO] [Bullet] Exiting penetration at (940.06433, 1603.1652) after traveling 33,333336 pixels through wall
[20:06:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(143.9948, 1634.0116), shooter_id=3336166180801, bullet_pos=(901.7597, 1604.6494)
[20:06:02] [INFO] [Bullet] Using shooter_position, distance=758,33356
[20:06:02] [INFO] [Bullet] Distance to wall: 758,33356 (51,636326% of viewport)
[20:06:02] [INFO] [Bullet] Distance-based penetration chance: 86,42429%
[20:06:02] [INFO] [Bullet] Starting wall penetration at (901.7597, 1604.6494)
[20:06:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,08539
[20:06:02] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:02] [INFO] [Bullet] Exiting penetration at (940.06433, 1603.1652) after traveling 33,333336 pixels through wall
[20:06:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:02] [ENEMY] [Enemy1] Ragdoll activated
[20:06:02] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:06:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(143.9948, 1634.0116), shooter_id=3336166180801, bullet_pos=(901.7597, 1604.6494)
[20:06:02] [INFO] [Bullet] Using shooter_position, distance=758,33356
[20:06:02] [INFO] [Bullet] Distance to wall: 758,33356 (51,636326% of viewport)
[20:06:02] [INFO] [Bullet] Distance-based penetration chance: 86,42429%
[20:06:02] [INFO] [Bullet] Starting wall penetration at (901.7597, 1604.6494)
[20:06:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,08539
[20:06:02] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:02] [INFO] [Bullet] Exiting penetration at (940.06433, 1603.1652) after traveling 33,333336 pixels through wall
[20:06:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:04] [ENEMY] [Enemy1] Death animation completed
[20:06:05] [ENEMY] [Enemy3] State: SUPPRESSED -> IN_COVER
[20:06:05] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[20:06:05] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[20:06:06] [ENEMY] [Enemy4] FLANKING timeout (5.0s), target=(94.14682, 1598.751), pos=(248.6513, 1530.578)
[20:06:06] [ENEMY] [Enemy4] State: FLANKING -> PURSUING
[20:06:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(237.6614, 1634.066), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:06:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[20:06:08] [ENEMY] [Enemy3] Hit taken, health: 3/4
[20:06:08] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:08] [INFO] [ImpactEffects] spawn_blood_effect called at (536.0656, 1608.082), dir=(1, 0), lethal=false
[20:06:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:08] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:08] [INFO] [ImpactEffects] Blood effect spawned at (536.0656, 1608.082) (scale=1)
[20:06:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(237.6614, 1634.066), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:06:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[20:06:08] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[20:06:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(237.6614, 1634.066), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:06:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[20:06:08] [ENEMY] [Enemy3] Hit taken, health: 2/4
[20:06:08] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:08] [INFO] [ImpactEffects] spawn_blood_effect called at (535.7604, 1615.834), dir=(1, 0), lethal=false
[20:06:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:08] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:08] [INFO] [ImpactEffects] Blood effect spawned at (535.7604, 1615.834) (scale=1)
[20:06:09] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:06:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(237.6614, 1634.066), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:06:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[20:06:09] [ENEMY] [Enemy3] Hit taken, health: 1/4
[20:06:09] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:09] [INFO] [ImpactEffects] spawn_blood_effect called at (536.1023, 1610.94), dir=(1, 0), lethal=false
[20:06:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:09] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:09] [INFO] [ImpactEffects] Blood effect spawned at (536.1023, 1610.94) (scale=1)
[20:06:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(237.6614, 1634.066), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:06:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[20:06:09] [ENEMY] [Enemy3] Hit taken, health: 0/4
[20:06:09] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:09] [INFO] [ImpactEffects] spawn_blood_effect called at (536.0664, 1594.292), dir=(1, 0), lethal=true
[20:06:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:09] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:06:09] [INFO] [ImpactEffects] Blood effect spawned at (536.0664, 1594.292) (scale=1.5)
[20:06:09] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[20:06:09] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:06:09] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 6)
[20:06:09] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:06:09] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[20:06:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(237.66144, 1634.0662), shooter_id=3336166180801, bullet_pos=(895.3603, 1605.1667)
[20:06:09] [INFO] [Bullet] Using shooter_position, distance=658,3335
[20:06:09] [INFO] [Bullet] Distance to wall: 658,3335 (44,82714% of viewport)
[20:06:09] [ENEMY] [Enemy3] Ragdoll activated
[20:06:09] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:06:10] [ENEMY] [Enemy3] Death animation completed
[20:06:12] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:06:12] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[20:06:12] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[20:06:12] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[20:06:12] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[20:06:12] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[20:06:12] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[20:06:12] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(237.6614, 1628.066), source=PLAYER (Player), range=900, listeners=6
[20:06:12] [ENEMY] [Enemy4] Heard player RELOAD at (237.6614, 1628.066), intensity=0.11, distance=152
[20:06:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[20:06:12] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=true (dist=152), can_see=false
[20:06:12] [ENEMY] [Enemy4] Pursuing vulnerability sound at (237.6614, 1628.066), distance=152
[20:06:12] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1942), can_see=false
[20:06:12] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=2078), can_see=false
[20:06:12] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1555), can_see=false
[20:06:12] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1672), can_see=false
[20:06:12] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1864), can_see=false
[20:06:12] [INFO] [Player.Reload.Anim] LeftArm: pos=(4.788008, 2.1576016), target=(4, 2), base=(24, 6)
[20:06:12] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.0000002, 6), target=(-2, 6), base=(-2, 6)
[20:06:12] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:06:12] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:06:12] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[20:06:12] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[20:06:12] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[20:06:12] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[20:06:12] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[20:06:12] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[20:06:12] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:06:12] [INFO] [ScoreManager] Combo ended at 1. Max combo: 2
[20:06:12] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:06:13] [ENEMY] [Enemy4] Pursuing vulnerability sound at (237.6614, 1628.066), distance=201
[20:06:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(237.6614, 1634.066), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:06:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[20:06:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(237.6614, 1634.066), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:06:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[20:06:13] [ENEMY] [Enemy4] Hit taken, health: 1/3
[20:06:13] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:13] [INFO] [ImpactEffects] spawn_blood_effect called at (536.0656, 1610.567), dir=(1, 0), lethal=false
[20:06:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:13] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:13] [INFO] [ImpactEffects] Blood effect spawned at (536.0656, 1610.567) (scale=1)
[20:06:13] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[20:06:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(237.6614, 1634.066), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:06:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[20:06:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(237.66144, 1634.0662), shooter_id=3336166180801, bullet_pos=(912.0109, 1604.4347)
[20:06:14] [INFO] [Bullet] Using shooter_position, distance=675,0002
[20:06:14] [INFO] [Bullet] Distance to wall: 675,0002 (45,962006% of viewport)
[20:06:14] [INFO] [Bullet] Distance-based penetration chance: 93,04433%
[20:06:14] [INFO] [Bullet] Starting wall penetration at (912.0109, 1604.4347)
[20:06:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,344276
[20:06:14] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:14] [INFO] [Bullet] Exiting penetration at (950.3073, 1602.752) after traveling 33,333332 pixels through wall
[20:06:14] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:14] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[20:06:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(237.6614, 1634.066), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:06:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[20:06:14] [ENEMY] [Enemy4] Hit taken, health: 0/3
[20:06:14] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:14] [INFO] [ImpactEffects] spawn_blood_effect called at (536.9589, 1606.132), dir=(1, 0), lethal=true
[20:06:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:14] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:06:14] [INFO] [ImpactEffects] Blood effect spawned at (536.9589, 1606.132) (scale=1.5)
[20:06:14] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[20:06:14] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:06:14] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 5)
[20:06:14] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:06:14] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[20:06:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(237.6614, 1634.066), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:06:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[20:06:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(237.6614, 1634.066), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:06:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[20:06:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(237.66144, 1634.0662), shooter_id=3336166180801, bullet_pos=(895.3603, 1605.1667)
[20:06:14] [INFO] [Bullet] Using shooter_position, distance=658,3335
[20:06:14] [INFO] [Bullet] Distance to wall: 658,3335 (44,82714% of viewport)
[20:06:14] [INFO] [Bullet] Distance-based penetration chance: 94,36834%
[20:06:14] [INFO] [Bullet] Starting wall penetration at (895.3603, 1605.1667)
[20:06:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,677576
[20:06:14] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:14] [INFO] [Bullet] Exiting penetration at (933.6567, 1603.484) after traveling 33,333332 pixels through wall
[20:06:14] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(237.66144, 1634.0662), shooter_id=3336166180801, bullet_pos=(895.3603, 1605.1667)
[20:06:14] [INFO] [Bullet] Using shooter_position, distance=658,3335
[20:06:14] [INFO] [Bullet] Distance to wall: 658,3335 (44,82714% of viewport)
[20:06:14] [INFO] [Bullet] Distance-based penetration chance: 94,36834%
[20:06:14] [INFO] [Bullet] Starting wall penetration at (895.3603, 1605.1667)
[20:06:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,677576
[20:06:14] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:14] [INFO] [Bullet] Exiting penetration at (933.6567, 1603.484) after traveling 33,333332 pixels through wall
[20:06:14] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(237.66144, 1634.0662), shooter_id=3336166180801, bullet_pos=(895.3603, 1605.1667)
[20:06:14] [INFO] [Bullet] Using shooter_position, distance=658,3335
[20:06:14] [INFO] [Bullet] Distance to wall: 658,3335 (44,82714% of viewport)
[20:06:14] [ENEMY] [Enemy4] Ragdoll activated
[20:06:14] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:06:15] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:06:15] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[20:06:15] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[20:06:15] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[20:06:15] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[20:06:15] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[20:06:15] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[20:06:15] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(237.6614, 1628.066), source=PLAYER (Player), range=900, listeners=5
[20:06:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[20:06:15] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1942), can_see=false
[20:06:15] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=2078), can_see=false
[20:06:15] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1555), can_see=false
[20:06:15] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1672), can_see=false
[20:06:15] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1864), can_see=false
[20:06:15] [INFO] [Player.Reload.Anim] LeftArm: pos=(17.33333, 4.666666), target=(4, 2), base=(24, 6)
[20:06:15] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.0000002, 6.0000005), target=(-2, 6), base=(-2, 6)
[20:06:15] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:06:15] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:06:15] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[20:06:15] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[20:06:15] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[20:06:15] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[20:06:15] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[20:06:15] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[20:06:15] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:06:15] [ENEMY] [Enemy4] Death animation completed
[20:06:16] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:06:17] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:06:17] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:06:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:06:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:06:17] [ENEMY] [Enemy1] Death animation component initialized
[20:06:17] [ENEMY] [Enemy2] Death animation component initialized
[20:06:17] [ENEMY] [Enemy3] Death animation component initialized
[20:06:17] [ENEMY] [Enemy4] Death animation component initialized
[20:06:17] [ENEMY] [Enemy5] Death animation component initialized
[20:06:17] [ENEMY] [Enemy6] Death animation component initialized
[20:06:17] [ENEMY] [Enemy7] Death animation component initialized
[20:06:17] [ENEMY] [Enemy8] Death animation component initialized
[20:06:17] [ENEMY] [Enemy9] Death animation component initialized
[20:06:17] [ENEMY] [Enemy10] Death animation component initialized
[20:06:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:06:17] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:06:17] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:06:17] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:06:17] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:06:17] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:06:17] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:06:17] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[20:06:17] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:06:17] [INFO] [ScoreManager] Level started with 10 enemies
[20:06:17] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[20:06:17] [ENEMY] [Enemy1] Registered as sound listener
[20:06:17] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:06:17] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[20:06:17] [ENEMY] [Enemy2] Registered as sound listener
[20:06:17] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[20:06:17] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[20:06:17] [ENEMY] [Enemy3] Registered as sound listener
[20:06:17] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[20:06:17] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[20:06:17] [ENEMY] [Enemy4] Registered as sound listener
[20:06:17] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[20:06:17] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 10)
[20:06:17] [ENEMY] [Enemy5] Registered as sound listener
[20:06:17] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[20:06:17] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 11)
[20:06:17] [ENEMY] [Enemy6] Registered as sound listener
[20:06:17] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[20:06:17] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 12)
[20:06:17] [ENEMY] [Enemy7] Registered as sound listener
[20:06:17] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[20:06:17] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 13)
[20:06:17] [ENEMY] [Enemy8] Registered as sound listener
[20:06:17] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[20:06:17] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 14)
[20:06:17] [ENEMY] [Enemy9] Registered as sound listener
[20:06:17] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[20:06:17] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 15)
[20:06:17] [ENEMY] [Enemy10] Registered as sound listener
[20:06:17] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[20:06:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:06:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:06:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:06:17] [INFO] [LastChance] Found player: Player
[20:06:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:06:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:06:17] [INFO] [LastChance] Connected to player Died signal (C#)
[20:06:17] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:06:17] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:06:17] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:06:20] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:06:20] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:06:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1167.071, 1532.414), source=ENEMY (Enemy10), range=1469, listeners=15
[20:06:20] [INFO] [SoundPropagation] Cleaned up 5 invalid listeners
[20:06:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:20] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:06:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1134.873, 1513.524), source=ENEMY (Enemy10), range=1469, listeners=10
[20:06:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:20] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:06:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1103.472, 1493.337), source=ENEMY (Enemy10), range=1469, listeners=10
[20:06:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:20] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:06:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1072.916, 1471.892), source=ENEMY (Enemy10), range=1469, listeners=10
[20:06:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:20] [ENEMY] [Enemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[20:06:20] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[20:06:20] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:06:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1043.246, 1449.237), source=ENEMY (Enemy10), range=1469, listeners=10
[20:06:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1104.368, 1505.978), shooter_id=5314132839514, bullet_pos=(52.08938, 912.0261)
[20:06:20] [INFO] [Bullet] Using shooter_position, distance=1208.33276367188
[20:06:20] [INFO] [Bullet] Distance to wall: 1208.33276367188 (82.2775998064458% of viewport)
[20:06:20] [INFO] [Bullet] Distance-based penetration chance: 50.6761335591466%
[20:06:20] [INFO] [Bullet] Starting wall penetration at (52.08938, 912.0261)
[20:06:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23.5979900360107
[20:06:20] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:20] [INFO] [Bullet] Exiting penetration at (11.44968, 889.0872) after traveling 41.6666641235352 pixels through wall
[20:06:20] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:06:20] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:06:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1073.301, 1484.549), shooter_id=5314132839514, bullet_pos=(46.15853, 848.117)
[20:06:20] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[20:06:20] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[20:06:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1043.13, 1461.881), shooter_id=5314132839514, bullet_pos=(42.72502, 784.1941)
[20:06:21] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[20:06:21] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[20:06:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1073.301, 1484.549), shooter_id=5314132839514, bullet_pos=(377.4717, 709.4365)
[20:06:21] [INFO] [Bullet] Using shooter_position, distance=1041.623046875
[20:06:21] [INFO] [Bullet] Distance to wall: 1041.623046875 (70.9260286376084% of viewport)
[20:06:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1043.13, 1461.881), shooter_id=5314132839514, bullet_pos=(158.7099, 694.4243)
[20:06:21] [INFO] [Bullet] Using shooter_position, distance=1170.97778320313
[20:06:21] [INFO] [Bullet] Distance to wall: 1170.97778320313 (79.7340304965764% of viewport)
[20:06:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1013.893, 1438.026), shooter_id=5314132839514, bullet_pos=(41.66534, 720.5002)
[20:06:21] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[20:06:21] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[20:06:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(985.6232, 1413.04), shooter_id=5314132839514, bullet_pos=(107.848, 709.3818)
[20:06:21] [INFO] [Bullet] Using shooter_position, distance=1124.99987792969
[20:06:21] [INFO] [Bullet] Distance to wall: 1124.99987792969 (76.6033103805953% of viewport)
[20:06:21] [INFO] [Bullet] Distance-based penetration chance: 57.2961378893055%
[20:06:21] [INFO] [Bullet] Starting wall penetration at (107.848, 709.3818)
[20:06:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36.6082229614258
[20:06:21] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:21] [INFO] [Bullet] Exiting penetration at (71.43664, 680.1929) after traveling 41.6666679382324 pixels through wall
[20:06:21] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:06:21] [ENEMY] [Enemy3] Memory: medium confidence (0.76) - transitioning to PURSUING
[20:06:21] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[20:06:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1073.301, 1484.549), shooter_id=5314132839514, bullet_pos=(694.3312, 893.119)
[20:06:21] [INFO] [Bullet] Using shooter_position, distance=702.43017578125
[20:06:21] [INFO] [Bullet] Distance to wall: 702.43017578125 (47.8297623241433% of viewport)
[20:06:21] [ENEMY] [Enemy4] Hit taken, health: 3/4
[20:06:21] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:21] [INFO] [ImpactEffects] spawn_blood_effect called at (630.5067, 914.2631), dir=(-0.816965, 0.576688), lethal=false
[20:06:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:21] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:21] [INFO] [ImpactEffects] Blood effect spawned at (630.5067, 914.2631) (scale=1)
[20:06:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1043.13, 1461.881), shooter_id=5314132839514, bullet_pos=(514.5072, 980.5324)
[20:06:21] [INFO] [Bullet] Using shooter_position, distance=714.939697265625
[20:06:21] [INFO] [Bullet] Distance to wall: 714.939697265625 (48.6815586449961% of viewport)
[20:06:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1013.893, 1438.026), shooter_id=5314132839514, bullet_pos=(522.9031, 411.9341)
[20:06:21] [INFO] [Bullet] Using shooter_position, distance=1137.51318359375
[20:06:21] [INFO] [Bullet] Distance to wall: 1137.51318359375 (77.4553643732014% of viewport)
[20:06:21] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[20:06:21] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:06:21] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:06:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1013.893, 1438.026), shooter_id=5314132839514, bullet_pos=(218.7924, 268.7187)
[20:06:21] [INFO] [Bullet] Using shooter_position, distance=1414.0244140625
[20:06:21] [INFO] [Bullet] Distance to wall: 1414.0244140625 (96.2835225151367% of viewport)
[20:06:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1013.893, 1438.026), shooter_id=5314132839514, bullet_pos=(66.77752, 313.7036)
[20:06:21] [INFO] [Bullet] Using shooter_position, distance=1470.07788085938
[20:06:21] [INFO] [Bullet] Distance to wall: 1470.07788085938 (100.100306142573% of viewport)
[20:06:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1043.13, 1461.881), shooter_id=5314132839514, bullet_pos=(57.16687, 1272.068)
[20:06:21] [INFO] [Bullet] Using shooter_position, distance=1004.06781005859
[20:06:21] [INFO] [Bullet] Distance to wall: 1004.06781005859 (68.3688235047882% of viewport)
[20:06:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1043.13, 1461.881), shooter_id=5314132839514, bullet_pos=(242.743, 1394.823)
[20:06:21] [INFO] [Bullet] Using shooter_position, distance=803.190979003906
[20:06:21] [INFO] [Bullet] Distance to wall: 803.190979003906 (54.6907506983533% of viewport)
[20:06:21] [ENEMY] [Enemy1] Hit taken, health: 2/3
[20:06:21] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:21] [INFO] [ImpactEffects] spawn_blood_effect called at (300, 350), dir=(0.98767, 0.156548), lethal=false
[20:06:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:21] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:21] [INFO] [ImpactEffects] Blood effect spawned at (300, 350) (scale=1)
[20:06:22] [ENEMY] [Enemy10] FLANKING started: target=(643.6902, 798.437), side=left, pos=(1022.593, 1432.37)
[20:06:22] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[20:06:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1043.13, 1461.881), shooter_id=5314132839514, bullet_pos=(758.7994, 1027.244)
[20:06:22] [INFO] [Bullet] Using shooter_position, distance=519.378356933594
[20:06:22] [INFO] [Bullet] Distance to wall: 519.378356933594 (35.3654273761924% of viewport)
[20:06:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:22] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:06:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1043.13, 1461.881), shooter_id=5314132839514, bullet_pos=(1380.579, 1374.454)
[20:06:23] [INFO] [Bullet] Using shooter_position, distance=348.590606689453
[20:06:23] [INFO] [Bullet] Distance to wall: 348.590606689453 (23.7361754110885% of viewport)
[20:06:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:23] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:06:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(506.4092, 748.3612), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:23] [ENEMY] [Enemy1] Heard gunshot at (506.4092, 748.3612), source_type=0, intensity=0.01, distance=449
[20:06:23] [ENEMY] [Enemy2] Heard gunshot at (506.4092, 748.3612), source_type=0, intensity=0.05, distance=225
[20:06:23] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=3, self=0, below_threshold=2
[20:06:23] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[20:06:23] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[20:06:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(591.2829, 941.931), source=ENEMY (Enemy4), range=1469, listeners=10
[20:06:23] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[20:06:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(506.4092, 748.3612), shooter_id=5314954923079, bullet_pos=(506.33273, 815.02783)
[20:06:23] [INFO] [Bullet] Using shooter_position, distance=66,66667
[20:06:23] [INFO] [Bullet] Distance to wall: 66,66667 (4,5394564% of viewport)
[20:06:23] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:06:23] [INFO] [Bullet] Starting wall penetration at (506.33273, 815.02783)
[20:06:23] [INFO] [LastChance] Threat detected: @Area2D@3640
[20:06:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:06:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:23] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[20:06:23] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[20:06:23] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:06:23] [INFO] [Bullet] Exiting penetration at (506.2792, 861.69446) after traveling 41,666668 pixels through wall
[20:06:23] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:23] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[20:06:23] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:06:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(557.3899, 882.075), shooter_id=5312421562005, bullet_pos=(513.6755, 811.1278)
[20:06:23] [INFO] [Bullet] Using shooter_position, distance=83.3333206176758
[20:06:23] [INFO] [Bullet] Distance to wall: 83.3333206176758 (5.67431903732211% of viewport)
[20:06:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:23] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[20:06:23] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:06:23] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[20:06:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(591.2829, 941.931), source=ENEMY (Enemy4), range=1469, listeners=10
[20:06:23] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[20:06:23] [INFO] [LastChance] Threat detected: Bullet
[20:06:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:06:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:23] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[20:06:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(591.2829, 941.931), source=ENEMY (Enemy4), range=1469, listeners=10
[20:06:23] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[20:06:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.7762, 738.3834), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:23] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=2, self=0, below_threshold=3
[20:06:23] [INFO] [LastChance] Threat detected: @Area2D@3643
[20:06:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:06:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(300, 350), source=ENEMY (Enemy1), range=1469, listeners=10
[20:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[20:06:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[20:06:23] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[20:06:23] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[20:06:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(563.1377, 879.1852), shooter_id=5312421562005, bullet_pos=(486.4227, 685.4908)
[20:06:23] [INFO] [Bullet] Using shooter_position, distance=208.333236694336
[20:06:23] [INFO] [Bullet] Distance to wall: 208.333236694336 (14.1857931775595% of viewport)
[20:06:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:23] [INFO] [LastChance] Threat detected: @Area2D@3648
[20:06:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:06:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:23] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:06:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[20:06:23] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[20:06:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.77625, 738.38336), shooter_id=5314954923079, bullet_pos=(525.0749, 929.40576)
[20:06:23] [INFO] [Bullet] Using shooter_position, distance=191,66661
[20:06:23] [INFO] [Bullet] Distance to wall: 191,66661 (13,050932% of viewport)
[20:06:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:23] [INFO] [Bullet] Starting wall penetration at (525.0749, 929.40576)
[20:06:23] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:06:23] [INFO] [Bullet] Exiting penetration at (521.25195, 975.9156) after traveling 41,66667 pixels through wall
[20:06:23] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:23] [INFO] [LastChance] Threat detected: @Area2D@3650
[20:06:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:06:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(300, 350), source=ENEMY (Enemy1), range=1469, listeners=10
[20:06:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[20:06:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[20:06:23] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[20:06:23] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[20:06:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[20:06:23] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[20:06:23] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:06:23] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:06:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(628.4166, 938.0731), source=ENEMY (Enemy4), range=1469, listeners=10
[20:06:23] [ENEMY] [Enemy3] Heard gunshot at (628.4166, 938.0731), source_type=1, intensity=0.36, distance=83
[20:06:23] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[20:06:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(579.196, 738.1898), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:23] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=2, self=0, below_threshold=3
[20:06:23] [INFO] [LastChance] Threat detected: @Area2D@3655
[20:06:23] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[20:06:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:23] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:06:23] [INFO] [LastChance] Threat detected: @Area2D@3647
[20:06:23] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[20:06:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:23] [INFO] [LastChance] Threat detected: @Area2D@3654
[20:06:23] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[20:06:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:24] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[20:06:24] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:06:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[20:06:24] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[20:06:24] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:06:24] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:06:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[20:06:24] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[20:06:24] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:06:24] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[20:06:24] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:06:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(579.19604, 738.1898), shooter_id=5314954923079, bullet_pos=(526.90796, 965.589)
[20:06:24] [INFO] [Bullet] Using shooter_position, distance=233,3333
[20:06:24] [INFO] [Bullet] Distance to wall: 233,3333 (15,888093% of viewport)
[20:06:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:24] [ENEMY] [Enemy3] Hit taken, health: 3/4
[20:06:24] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:24] [INFO] [ImpactEffects] spawn_blood_effect called at (548.0665, 957.9107), dir=(1, 0), lethal=false
[20:06:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:24] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:24] [INFO] [ImpactEffects] Blood effect spawned at (548.0665, 957.9107) (scale=1)
[20:06:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(612.196, 738.1898), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:24] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=2, self=0, below_threshold=3
[20:06:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.255, 606.2775), shooter_id=5311851137418, bullet_pos=(683.2287, 890.2015)
[20:06:24] [INFO] [Bullet] Using shooter_position, distance=374.999969482422
[20:06:24] [INFO] [Bullet] Distance to wall: 374.999969482422 (25.5344374861978% of viewport)
[20:06:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:24] [INFO] [LastChance] Threat detected: @Area2D@3659
[20:06:24] [INFO] [LastChance] Triggering last chance effect!
[20:06:24] [INFO] [LastChance] Starting last chance effect:
[20:06:24] [INFO] [LastChance]   - Time will be frozen (except player)
[20:06:24] [INFO] [LastChance]   - Duration: 6.0 real seconds
[20:06:24] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:06:24] [INFO] [LastChance]   - Brightness: 0.60
[20:06:24] [INFO] [LastChance] Pushed bullet @Area2D@3653 from distance 137.4 to 200.0
[20:06:24] [INFO] [LastChance] Pushed bullet @Area2D@3655 from distance 123.0 to 200.0
[20:06:24] [INFO] [LastChance] Pushed bullet @Area2D@3659 from distance 129.9 to 200.0
[20:06:24] [INFO] [LastChance] Pushed bullet @Area2D@3663 from distance 30.7 to 200.0
[20:06:24] [INFO] [LastChance] Pushed 4 threatening bullets away from player
[20:06:24] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:06:24] [INFO] [LastChance] Skipping player node: Player
[20:06:24] [INFO] [LastChance] Froze existing bullet casing: Casing
[20:06:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3612
[20:06:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3614
[20:06:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3616
[20:06:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3618
[20:06:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3639
[20:06:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3644
[20:06:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3646
[20:06:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3651
[20:06:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3656
[20:06:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3658
[20:06:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3660
[20:06:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3664
[20:06:24] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:06:24] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:06:24] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:06:24] [INFO] [LastChance] Freezing newly fired player bullet: Bullet
[20:06:24] [INFO] [LastChance] Registered frozen player bullet: Bullet
[20:06:24] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3666
[20:06:24] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3666
[20:06:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(647.3962, 738.1898), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[20:06:24] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3667
[20:06:24] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3667
[20:06:24] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3668
[20:06:24] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3668
[20:06:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(682.5964, 738.1898), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[20:06:24] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3670
[20:06:24] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3670
[20:06:24] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3671
[20:06:24] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3671
[20:06:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(717.7966, 738.1898), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[20:06:24] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:06:24] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:06:24] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:06:24] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:06:24] [INFO] [LastChance] Ending last chance effect
[20:06:24] [INFO] [LastChance] All process modes restored
[20:06:24] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:06:24] [ENEMY] [Enemy1] Death animation component initialized
[20:06:24] [ENEMY] [Enemy2] Death animation component initialized
[20:06:24] [ENEMY] [Enemy3] Death animation component initialized
[20:06:24] [ENEMY] [Enemy4] Death animation component initialized
[20:06:24] [ENEMY] [Enemy5] Death animation component initialized
[20:06:24] [ENEMY] [Enemy6] Death animation component initialized
[20:06:24] [ENEMY] [Enemy7] Death animation component initialized
[20:06:24] [ENEMY] [Enemy8] Death animation component initialized
[20:06:24] [ENEMY] [Enemy9] Death animation component initialized
[20:06:24] [ENEMY] [Enemy10] Death animation component initialized
[20:06:24] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:06:24] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:06:24] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:06:24] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:06:24] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:06:24] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:06:24] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:06:24] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[20:06:24] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:06:24] [INFO] [ScoreManager] Level started with 10 enemies
[20:06:24] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:06:24] [ENEMY] [Enemy1] Registered as sound listener
[20:06:24] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:06:24] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:06:24] [ENEMY] [Enemy2] Registered as sound listener
[20:06:24] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[20:06:24] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:06:24] [ENEMY] [Enemy3] Registered as sound listener
[20:06:24] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[20:06:24] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:06:24] [ENEMY] [Enemy4] Registered as sound listener
[20:06:24] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[20:06:24] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:06:24] [ENEMY] [Enemy5] Registered as sound listener
[20:06:24] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[20:06:24] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:06:24] [ENEMY] [Enemy6] Registered as sound listener
[20:06:24] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[20:06:24] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:06:24] [ENEMY] [Enemy7] Registered as sound listener
[20:06:24] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[20:06:24] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:06:24] [ENEMY] [Enemy8] Registered as sound listener
[20:06:24] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[20:06:24] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:06:24] [ENEMY] [Enemy9] Registered as sound listener
[20:06:24] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[20:06:24] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:06:24] [ENEMY] [Enemy10] Registered as sound listener
[20:06:24] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[20:06:24] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:06:24] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:06:24] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:06:24] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:06:24] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:06:24] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:06:24] [INFO] [LastChance] Found player: Player
[20:06:24] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:06:24] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:06:24] [INFO] [LastChance] Connected to player Died signal (C#)
[20:06:25] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:06:25] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:06:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1157.778, 1527.178), source=ENEMY (Enemy10), range=1469, listeners=20
[20:06:25] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:06:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:25] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:06:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1125.755, 1507.993), source=ENEMY (Enemy10), range=1469, listeners=10
[20:06:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:25] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:06:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1094.511, 1487.563), source=ENEMY (Enemy10), range=1469, listeners=10
[20:06:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:25] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:06:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.088, 1465.929), source=ENEMY (Enemy10), range=1469, listeners=10
[20:06:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:26] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:06:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1034.521, 1443.14), source=ENEMY (Enemy10), range=1469, listeners=10
[20:06:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1095.337, 1500.128), shooter_id=5654777433461, bullet_pos=(48.93664, 895.882)
[20:06:26] [INFO] [Bullet] Using shooter_position, distance=1208.33251953125
[20:06:26] [INFO] [Bullet] Distance to wall: 1208.33251953125 (82.2775831824616% of viewport)
[20:06:26] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:06:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1064.427, 1478.506), shooter_id=5654777433461, bullet_pos=(42.618, 833.5435)
[20:06:26] [INFO] [Bullet] Using shooter_position, distance=1208.33374023438
[20:06:26] [INFO] [Bullet] Distance to wall: 1208.33374023438 (82.2776663023821% of viewport)
[20:06:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1095.337, 1500.128), shooter_id=5654777433461, bullet_pos=(391.7223, 700.449)
[20:06:26] [INFO] [Bullet] Using shooter_position, distance=1065.15759277344
[20:06:26] [INFO] [Bullet] Distance to wall: 1065.15759277344 (72.5285391440469% of viewport)
[20:06:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1064.427, 1478.506), shooter_id=5654777433461, bullet_pos=(177.6823, 711.429)
[20:06:26] [INFO] [Bullet] Using shooter_position, distance=1172.48608398438
[20:06:26] [INFO] [Bullet] Distance to wall: 1172.48608398438 (79.8367334702923% of viewport)
[20:06:26] [INFO] [Bullet] Distance-based penetration chance: 53.5238109513257%
[20:06:26] [INFO] [Bullet] Starting wall penetration at (177.6823, 711.429)
[20:06:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 5.48208284378052
[20:06:26] [INFO] [Bullet] Max penetration distance exceeded: 70.8333358764648 >= 48
[20:06:26] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:26] [INFO] [Bullet] Exiting penetration at (233.9333, 660.5712) after traveling 70.8333358764648 pixels through wall
[20:06:26] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[20:06:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1034.385, 1455.697), shooter_id=5654777433461, bullet_pos=(38.62862, 771.1979)
[20:06:26] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[20:06:26] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[20:06:26] [INFO] [LastChance] Threat detected: @Area2D@3931
[20:06:26] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:06:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1034.385, 1455.697), shooter_id=5654777433461, bullet_pos=(119.2911, 694.5811)
[20:06:26] [INFO] [Bullet] Using shooter_position, distance=1190.24938964844
[20:06:26] [INFO] [Bullet] Distance to wall: 1190.24938964844 (81.0462696167972% of viewport)
[20:06:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.246, 1431.75), shooter_id=5654777433461, bullet_pos=(36.85435, 709.0549)
[20:06:26] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[20:06:26] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[20:06:26] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[20:06:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(976.9562, 1406.85), shooter_id=5654777433461, bullet_pos=(100.3243, 701.7688)
[20:06:26] [INFO] [Bullet] Using shooter_position, distance=1124.99938964844
[20:06:26] [INFO] [Bullet] Distance to wall: 1124.99938964844 (76.6032771326271% of viewport)
[20:06:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1095.337, 1500.128), shooter_id=5654777433461, bullet_pos=(776.4701, 998.465)
[20:06:26] [INFO] [Bullet] Using shooter_position, distance=594.425903320313
[20:06:26] [INFO] [Bullet] Distance to wall: 594.425903320313 (40.4755528099333% of viewport)
[20:06:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(976.9562, 1406.85), shooter_id=5654777433461, bullet_pos=(42.17833, 750.4488)
[20:06:26] [INFO] [Bullet] Using shooter_position, distance=1142.22277832031
[20:06:26] [INFO] [Bullet] Distance to wall: 1142.22277832031 (77.7760493383142% of viewport)
[20:06:26] [INFO] [Bullet] Distance-based penetration chance: 55.9279424386335%
[20:06:26] [INFO] [Bullet] Starting wall penetration at (42.17833, 750.4488)
[20:06:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27.1422233581543
[20:06:26] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:26] [INFO] [Bullet] Exiting penetration at (11.18844, 776.3936) after traveling 35.4166717529297 pixels through wall
[20:06:26] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[20:06:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.246, 1431.75), shooter_id=5654777433461, bullet_pos=(307.3486, 472.7637)
[20:06:26] [INFO] [Bullet] Using shooter_position, distance=1186.05017089844
[20:06:26] [INFO] [Bullet] Distance to wall: 1186.05017089844 (80.7603370904273% of viewport)
[20:06:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1095.337, 1500.128), shooter_id=5654777433461, bullet_pos=(908.0558, 910.0493)
[20:06:26] [INFO] [Bullet] Using shooter_position, distance=619.0859375
[20:06:26] [INFO] [Bullet] Distance to wall: 619.0859375 (42.1546998830326% of viewport)
[20:06:26] [INFO] [Bullet] Distance-based penetration chance: 97.4861834697953%
[20:06:26] [INFO] [Bullet] Starting wall penetration at (908.0558, 910.0493)
[20:06:26] [ENEMY] [Enemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[20:06:26] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[20:06:26] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:06:26] [INFO] [Bullet] Exiting penetration at (933.4452, 892.9896) after traveling 25.5885429382324 pixels through wall
[20:06:26] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[20:06:26] [ENEMY] [Enemy2] Hit taken, health: 2/3
[20:06:26] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:26] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(0.66077, 0.750588), lethal=false
[20:06:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:26] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:26] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[20:06:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.7039, 763.0908), source=ENEMY (Enemy3), range=1469, listeners=10
[20:06:26] [ENEMY] [Enemy2] Heard gunshot at (637.7039, 763.0908), source_type=1, intensity=0.02, distance=319
[20:06:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:06:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(357.1566, 785.2685), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:26] [ENEMY] [Enemy1] Heard gunshot at (357.1566, 785.2685), source_type=0, intensity=0.01, distance=439
[20:06:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:06:26] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[20:06:26] [INFO] [LastChance] Threat detected: Bullet
[20:06:26] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:06:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:26] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:06:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(357.1566, 785.2685), shooter_id=5655599517094, bullet_pos=(506.6326, 797.7958)
[20:06:26] [INFO] [Bullet] Using shooter_position, distance=150,00005
[20:06:26] [INFO] [Bullet] Distance to wall: 150,00005 (10,2137785% of viewport)
[20:06:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:26] [INFO] [Bullet] Starting wall penetration at (506.6326, 797.7958)
[20:06:26] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:06:26] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:06:26] [INFO] [Bullet] Exiting penetration at (553.1362, 801.6932) after traveling 41,666668 pixels through wall
[20:06:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(605.735, 764.3331), source=ENEMY (Enemy3), range=1469, listeners=10
[20:06:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[20:06:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(381.0171, 763.1127), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:06:26] [INFO] [LastChance] Threat detected: @Area2D@3948
[20:06:26] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:06:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:26] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[20:06:26] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[20:06:26] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:06:26] [ENEMY] [Enemy3] Hit taken, health: 2/3
[20:06:26] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:26] [INFO] [ImpactEffects] spawn_blood_effect called at (605.735, 764.3331), dir=(1, 0), lethal=false
[20:06:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:26] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:26] [INFO] [ImpactEffects] Blood effect spawned at (605.735, 764.3331) (scale=1)
[20:06:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(570.7274, 775.7476), shooter_id=5652780942967, bullet_pos=(30.46799, 814.7666)
[20:06:26] [INFO] [Bullet] Using shooter_position, distance=541.666625976563
[20:06:26] [INFO] [Bullet] Distance to wall: 541.666625976563 (36.883076599841% of viewport)
[20:06:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:26] [INFO] [Bullet] Starting wall penetration at (30.46799, 814.7666)
[20:06:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(605.735, 764.3331), source=ENEMY (Enemy3), range=1469, listeners=10
[20:06:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[20:06:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(412.8032, 754.6164), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:06:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39.8693389892578
[20:06:26] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:26] [INFO] [Bullet] Exiting penetration at (-7.765755, 817.528) after traveling 33.3333320617676 pixels through wall
[20:06:26] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:06:26] [INFO] [LastChance] Threat detected: @Area2D@3954
[20:06:26] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:06:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:06:27] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:06:27] [ENEMY] [Enemy3] Hit taken, health: 1/3
[20:06:27] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:27] [INFO] [ImpactEffects] spawn_blood_effect called at (605.735, 764.3331), dir=(1, 0), lethal=false
[20:06:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:27] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:27] [INFO] [ImpactEffects] Blood effect spawned at (605.735, 764.3331) (scale=1)
[20:06:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(537.8935, 770.6838), shooter_id=5652780942967, bullet_pos=(54.67068, 760.3512)
[20:06:27] [INFO] [Bullet] Using shooter_position, distance=483.333251953125
[20:06:27] [INFO] [Bullet] Distance to wall: 483.333251953125 (32.9110498969688% of viewport)
[20:06:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:27] [INFO] [Bullet] Starting wall penetration at (54.67068, 760.3512)
[20:06:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15.6574745178223
[20:06:27] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:27] [INFO] [Bullet] Exiting penetration at (16.3461, 759.5317) after traveling 33.3333358764648 pixels through wall
[20:06:27] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:06:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(605.735, 764.3331), source=ENEMY (Enemy3), range=1469, listeners=10
[20:06:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:06:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(447.8883, 754.4426), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:27] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:06:27] [INFO] [LastChance] Threat detected: Bullet
[20:06:27] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:06:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:06:27] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[20:06:27] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:06:27] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:06:27] [ENEMY] [Enemy3] Hit taken, health: 0/3
[20:06:27] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:27] [INFO] [ImpactEffects] spawn_blood_effect called at (605.1046, 766.3712), dir=(1, 0), lethal=true
[20:06:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:27] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:06:27] [INFO] [ImpactEffects] Blood effect spawned at (605.1046, 766.3712) (scale=1.5)
[20:06:27] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[20:06:27] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:06:27] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[20:06:27] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:06:27] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[20:06:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(483.0883, 754.4426), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[20:06:27] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:06:27] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:06:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[20:06:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[20:06:27] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:06:27] [INFO] [LastChance] Threat detected: @Area2D@3973
[20:06:27] [INFO] [LastChance] Triggering last chance effect!
[20:06:27] [INFO] [LastChance] Starting last chance effect:
[20:06:27] [INFO] [LastChance]   - Time will be frozen (except player)
[20:06:27] [INFO] [LastChance]   - Duration: 6.0 real seconds
[20:06:27] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:06:27] [INFO] [LastChance]   - Brightness: 0.60
[20:06:27] [INFO] [LastChance] Pushed bullet @Area2D@3973 from distance 134.1 to 200.0
[20:06:27] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[20:06:27] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:06:27] [INFO] [LastChance] Skipping player node: Player
[20:06:27] [INFO] [LastChance] Froze existing bullet casing: Casing
[20:06:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3926
[20:06:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3928
[20:06:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3930
[20:06:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3932
[20:06:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3944
[20:06:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3946
[20:06:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3949
[20:06:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3951
[20:06:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3955
[20:06:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3957
[20:06:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3960
[20:06:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3962
[20:06:27] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3965
[20:06:27] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:06:27] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:06:27] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:06:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3978
[20:06:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3978
[20:06:28] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3979
[20:06:28] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3979
[20:06:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(581.8323, 893.0524), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[20:06:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3980
[20:06:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3980
[20:06:28] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3981
[20:06:28] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3981
[20:06:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(581.8323, 928.0748), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[20:06:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3982
[20:06:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3982
[20:06:28] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3983
[20:06:28] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3983
[20:06:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(581.8323, 955.4525), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[20:06:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3984
[20:06:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3984
[20:06:28] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3985
[20:06:28] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3985
[20:06:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(581.8323, 971.4525), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[20:06:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3986
[20:06:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3986
[20:06:28] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3987
[20:06:28] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3987
[20:06:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(581.8323, 975.7192), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[20:06:29] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3988
[20:06:29] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3988
[20:06:29] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3989
[20:06:29] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3989
[20:06:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(552.0033, 689.2667), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[20:06:30] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3990
[20:06:30] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3990
[20:06:30] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3991
[20:06:30] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3991
[20:06:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(523.7609, 673.9621), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[20:06:30] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3992
[20:06:30] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3992
[20:06:30] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3993
[20:06:30] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3993
[20:06:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(490.071, 670.6403), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[20:06:30] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3994
[20:06:30] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3994
[20:06:30] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3995
[20:06:30] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3995
[20:06:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.571, 670.6403), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[20:06:30] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3996
[20:06:30] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3996
[20:06:30] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3997
[20:06:30] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3997
[20:06:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(413.071, 670.6403), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[20:06:30] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3998
[20:06:30] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3998
[20:06:30] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3999
[20:06:30] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3999
[20:06:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(374.571, 670.6403), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[20:06:30] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[20:06:31] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4000
[20:06:31] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4000
[20:06:31] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4001
[20:06:31] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4001
[20:06:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.45371, 494.76), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:06:31] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4002
[20:06:31] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4002
[20:06:31] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4003
[20:06:31] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4003
[20:06:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07415, 458.663), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:06:31] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4004
[20:06:31] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4004
[20:06:31] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4005
[20:06:31] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4005
[20:06:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07576, 420.163), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:06:32] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4006
[20:06:32] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4006
[20:06:32] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4007
[20:06:32] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4007
[20:06:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07576, 381.663), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:06:32] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4008
[20:06:32] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4008
[20:06:32] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4009
[20:06:32] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4009
[20:06:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07576, 343.163), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:06:32] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4010
[20:06:32] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4010
[20:06:32] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4011
[20:06:32] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4011
[20:06:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07576, 304.663), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:06:33] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:06:33] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[20:06:33] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[20:06:33] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[20:06:33] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[20:06:33] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[20:06:33] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[20:06:33] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[20:06:33] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[20:06:33] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[20:06:33] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(298.3335, 193.014), source=PLAYER (Player), range=900, listeners=9
[20:06:33] [ENEMY] [Enemy1] Heard player RELOAD at (298.3335, 193.014), intensity=0.05, distance=220
[20:06:33] [ENEMY] [Enemy2] Heard player RELOAD at (298.3335, 193.014), intensity=0.02, distance=371
[20:06:33] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[20:06:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[20:06:33] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:06:33] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:06:33] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[20:06:33] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[20:06:33] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[20:06:33] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[20:06:33] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[20:06:33] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[20:06:33] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[20:06:33] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[20:06:33] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[20:06:33] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:06:33] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[20:06:33] [INFO] [LastChance] Ending last chance effect
[20:06:33] [INFO] [LastChance] All process modes restored
[20:06:33] [INFO] [LastChance] Unfroze player bullet: @Area2D@3978
[20:06:33] [INFO] [LastChance] Unfroze player bullet: @Area2D@3980
[20:06:33] [INFO] [LastChance] Unfroze player bullet: @Area2D@3982
[20:06:33] [INFO] [LastChance] Unfroze player bullet: @Area2D@3984
[20:06:33] [INFO] [LastChance] Unfroze player bullet: @Area2D@3986
[20:06:33] [INFO] [LastChance] Unfroze player bullet: @Area2D@3988
[20:06:33] [INFO] [LastChance] Unfroze player bullet: @Area2D@3990
[20:06:33] [INFO] [LastChance] Unfroze player bullet: @Area2D@3992
[20:06:33] [INFO] [LastChance] Unfroze player bullet: @Area2D@3994
[20:06:33] [INFO] [LastChance] Unfroze player bullet: @Area2D@3996
[20:06:33] [INFO] [LastChance] Unfroze player bullet: @Area2D@3998
[20:06:33] [INFO] [LastChance] Unfroze player bullet: @Area2D@4000
[20:06:33] [INFO] [LastChance] Unfroze player bullet: @Area2D@4002
[20:06:33] [INFO] [LastChance] Unfroze player bullet: @Area2D@4004
[20:06:33] [INFO] [LastChance] Unfroze player bullet: @Area2D@4006
[20:06:33] [INFO] [LastChance] Unfroze player bullet: @Area2D@4008
[20:06:33] [INFO] [LastChance] Unfroze player bullet: @Area2D@4010
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: Casing
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3926
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3928
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3930
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3932
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3944
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3946
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3949
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3951
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3955
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3957
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3960
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3962
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3965
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3979
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3981
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3983
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3985
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3987
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3989
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3991
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3993
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3995
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3997
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3999
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4001
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4003
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4005
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4007
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4009
[20:06:33] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4011
[20:06:33] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:06:33] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[20:06:33] [ENEMY] [Enemy1] Pursuing vulnerability sound at (298.3335, 193.014), distance=220
[20:06:33] [ENEMY] [Enemy2] Pursuing vulnerability sound at (298.3335, 193.014), distance=371
[20:06:33] [INFO] [Player.Reload.Anim] LeftArm: pos=(14.669713, 5.8323803), target=(24, 6), base=(24, 6)
[20:06:33] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.0009875, 7.4155297), target=(-2, 6), base=(-2, 6)
[20:06:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(581.83234, 893.05237), shooter_id=5655599517094, bullet_pos=(687.177, 867.78156)
[20:06:33] [INFO] [Bullet] Using shooter_position, distance=108,33334
[20:06:33] [INFO] [Bullet] Distance to wall: 108,33334 (7,3766165% of viewport)
[20:06:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:33] [ENEMY] [Enemy2] Hit taken, health: 1/3
[20:06:33] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:33] [INFO] [ImpactEffects] spawn_blood_effect called at (398.9025, 539.3899), dir=(1, 0), lethal=false
[20:06:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:33] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:33] [INFO] [ImpactEffects] Blood effect spawned at (398.9025, 539.3899) (scale=1)
[20:06:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.45371, 494.76), shooter_id=5655599517094, bullet_pos=(224.07793, 451.49243)
[20:06:33] [INFO] [Bullet] Using shooter_position, distance=149,99998
[20:06:33] [INFO] [Bullet] Distance to wall: 149,99998 (10,213776% of viewport)
[20:06:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:33] [INFO] [Bullet] Starting wall penetration at (224.07793, 451.49243)
[20:06:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(581.83234, 971.4525), shooter_id=5655599517094, bullet_pos=(701.4952, 881.0047)
[20:06:33] [INFO] [Bullet] Using shooter_position, distance=150
[20:06:33] [INFO] [Bullet] Distance to wall: 150 (10,213776% of viewport)
[20:06:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(581.83234, 955.4525), shooter_id=5655599517094, bullet_pos=(695.6019, 857.6952)
[20:06:33] [INFO] [Bullet] Using shooter_position, distance=150,00005
[20:06:33] [INFO] [Bullet] Distance to wall: 150,00005 (10,2137785% of viewport)
[20:06:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(581.83234, 928.07477), shooter_id=5655599517094, bullet_pos=(699.673, 835.2653)
[20:06:33] [INFO] [Bullet] Using shooter_position, distance=150,00003
[20:06:33] [INFO] [Bullet] Distance to wall: 150,00003 (10,2137785% of viewport)
[20:06:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:33] [INFO] [Bullet] Starting wall penetration at (699.673, 835.2653)
[20:06:33] [ENEMY] [Enemy2] Hit taken, health: 0/3
[20:06:33] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:33] [INFO] [ImpactEffects] spawn_blood_effect called at (398.3537, 534.0848), dir=(1, 0), lethal=true
[20:06:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:33] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:06:33] [INFO] [ImpactEffects] Blood effect spawned at (398.3537, 534.0848) (scale=1.5)
[20:06:33] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[20:06:33] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:06:33] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[20:06:33] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:06:33] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[20:06:33] [ENEMY] [Enemy1] Hit taken, health: 2/3
[20:06:33] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:33] [INFO] [ImpactEffects] spawn_blood_effect called at (229.9633, 386.2306), dir=(1, 0), lethal=false
[20:06:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:33] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:33] [INFO] [ImpactEffects] Blood effect spawned at (229.9633, 386.2306) (scale=1)
[20:06:33] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:06:33] [INFO] [Bullet] Exiting penetration at (729.78784, 811.54736) after traveling 33,333336 pixels through wall
[20:06:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:33] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:06:33] [INFO] [Bullet] Exiting penetration at (260.7819, 440.43515) after traveling 33,333332 pixels through wall
[20:06:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(581.83234, 975.7192), shooter_id=5655599517094, bullet_pos=(737.0303, 878.1245)
[20:06:33] [INFO] [Bullet] Using shooter_position, distance=183,33334
[20:06:33] [INFO] [Bullet] Distance to wall: 183,33334 (12,483505% of viewport)
[20:06:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(483.08826, 754.4426), shooter_id=5655599517094, bullet_pos=(1364.3695, 814.62067)
[20:06:33] [INFO] [Bullet] Using shooter_position, distance=883,33344
[20:06:33] [INFO] [Bullet] Distance to wall: 883,33344 (60,147797% of viewport)
[20:06:33] [INFO] [Bullet] Distance-based penetration chance: 76,49423%
[20:06:33] [INFO] [Bullet] Penetration failed (distance roll)
[20:06:33] [ENEMY] [Enemy4] Hit taken, health: 2/3
[20:06:33] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:33] [INFO] [ImpactEffects] spawn_blood_effect called at (781.9708, 907.7712), dir=(1, 0), lethal=false
[20:06:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:33] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:33] [INFO] [ImpactEffects] Blood effect spawned at (781.9708, 907.7712) (scale=1)
[20:06:33] [ENEMY] [Enemy4] Hit taken, health: 1/3
[20:06:33] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:33] [INFO] [ImpactEffects] spawn_blood_effect called at (781.9708, 907.7712), dir=(1, 0), lethal=false
[20:06:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:33] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:33] [INFO] [ImpactEffects] Blood effect spawned at (781.9708, 907.7712) (scale=1)
[20:06:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(523.7609, 673.9621), shooter_id=5655599517094, bullet_pos=(343.09085, 455.70502)
[20:06:33] [INFO] [Bullet] Using shooter_position, distance=283,33344
[20:06:33] [INFO] [Bullet] Distance to wall: 283,33344 (19,292696% of viewport)
[20:06:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:33] [INFO] [Bullet] Starting wall penetration at (343.09085, 455.70502)
[20:06:33] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:06:33] [INFO] [Bullet] Exiting penetration at (318.64725, 426.17612) after traveling 33,333332 pixels through wall
[20:06:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(552.0033, 689.26666), shooter_id=5655599517094, bullet_pos=(330.87436, 462.59564)
[20:06:33] [INFO] [Bullet] Using shooter_position, distance=316,66663
[20:06:33] [INFO] [Bullet] Distance to wall: 316,66663 (21,562414% of viewport)
[20:06:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(581.83234, 893.05237), shooter_id=5655599517094, bullet_pos=(512.8507, 815.2017)
[20:06:33] [INFO] [Bullet] Using shooter_position, distance=104,01532
[20:06:33] [INFO] [Bullet] Distance to wall: 104,01532 (7,082595% of viewport)
[20:06:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:33] [INFO] [Bullet] Starting wall penetration at (512.8507, 815.2017)
[20:06:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,9108
[20:06:33] [INFO] [LastChance] Threat detected: @Area2D@3994
[20:06:33] [INFO] [LastChance] Effect already used this life
[20:06:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:33] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:33] [INFO] [Bullet] Exiting penetration at (480.9374, 805.5761) after traveling 28,33333 pixels through wall
[20:06:33] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[20:06:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.7635, 609.4496), shooter_id=5652495731219, bullet_pos=(695.528, 856.5205)
[20:06:33] [INFO] [Bullet] Using shooter_position, distance=359.950897216797
[20:06:33] [INFO] [Bullet] Distance to wall: 359.950897216797 (24.5097184828276% of viewport)
[20:06:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.07576, 304.66296), shooter_id=5655599517094, bullet_pos=(496.72235, 308.7588)
[20:06:33] [INFO] [Bullet] Using shooter_position, distance=416,66675
[20:06:33] [INFO] [Bullet] Distance to wall: 416,66675 (28,371605% of viewport)
[20:06:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:33] [INFO] [Bullet] Starting wall penetration at (496.72235, 308.7588)
[20:06:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11,054367
[20:06:33] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:33] [INFO] [Bullet] Exiting penetration at (535.05383, 309.13562) after traveling 33,333336 pixels through wall
[20:06:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.07576, 381.66296), shooter_id=5655599517094, bullet_pos=(523.78735, 306.6961)
[20:06:33] [INFO] [Bullet] Using shooter_position, distance=450,00003
[20:06:33] [INFO] [Bullet] Distance to wall: 450,00003 (30,641329% of viewport)
[20:06:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:33] [INFO] [Bullet] Starting wall penetration at (523.78735, 306.6961)
[20:06:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(451.571, 670.6403), shooter_id=5655599517094, bullet_pos=(291.94977, 249.90161)
[20:06:33] [INFO] [Bullet] Using shooter_position, distance=450
[20:06:33] [INFO] [Bullet] Distance to wall: 450 (30,641329% of viewport)
[20:06:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:33] [INFO] [Bullet] Starting wall penetration at (291.94977, 249.90161)
[20:06:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,769441
[20:06:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,117687
[20:06:33] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:33] [INFO] [Bullet] Exiting penetration at (561.585, 300.31003) after traveling 33,333336 pixels through wall
[20:06:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:33] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:33] [INFO] [Bullet] Exiting penetration at (278.35242, 214.0609) after traveling 33,333332 pixels through wall
[20:06:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:33] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:06:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(552.0033, 689.26666), shooter_id=5655599517094, bullet_pos=(498.82062, 303.0227)
[20:06:33] [INFO] [Bullet] Using shooter_position, distance=389,88815
[20:06:33] [INFO] [Bullet] Distance to wall: 389,88815 (26,5482% of viewport)
[20:06:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.7635, 609.4496), shooter_id=5652495731219, bullet_pos=(570.8035, 1017.108)
[20:06:33] [INFO] [Bullet] Using shooter_position, distance=430.075592041016
[20:06:33] [INFO] [Bullet] Distance to wall: 430.075592041016 (29.2846379013521% of viewport)
[20:06:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:33] [ENEMY] [Enemy10] FLANKING started: target=(505.4901, 200.0629), side=left, pos=(1003.559, 1424.075)
[20:06:33] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[20:06:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.7635, 609.4496), shooter_id=5652495731219, bullet_pos=(519.3464, 959.4904)
[20:06:33] [INFO] [Bullet] Using shooter_position, distance=360.351226806641
[20:06:33] [INFO] [Bullet] Distance to wall: 360.351226806641 (24.5369776607413% of viewport)
[20:06:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:33] [INFO] [Bullet] Starting wall penetration at (519.3464, 959.4904)
[20:06:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 0.03953086584806
[20:06:33] [INFO] [Bullet] Max penetration distance exceeded: 48.1666641235352 >= 48
[20:06:33] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:33] [INFO] [Bullet] Exiting penetration at (483.9315, 919.8359) after traveling 48.1666641235352 pixels through wall
[20:06:33] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[20:06:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(581.83234, 955.4525), shooter_id=5655599517094, bullet_pos=(285.85156, 459.06335)
[20:06:33] [INFO] [Bullet] Using shooter_position, distance=577,9332
[20:06:33] [INFO] [Bullet] Distance to wall: 577,9332 (39,352535% of viewport)
[20:06:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:33] [INFO] [Bullet] Starting wall penetration at (285.85156, 459.06335)
[20:06:33] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:06:33] [INFO] [Bullet] Exiting penetration at (261.9594, 435.81952) after traveling 28,333334 pixels through wall
[20:06:33] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[20:06:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.07576, 343.16296), shooter_id=5655599517094, bullet_pos=(993.1903, 262.54285)
[20:06:34] [INFO] [Bullet] Using shooter_position, distance=916,6667
[20:06:34] [INFO] [Bullet] Distance to wall: 916,6667 (62,417526% of viewport)
[20:06:34] [INFO] [Bullet] Distance-based penetration chance: 73,84622%
[20:06:34] [INFO] [Bullet] Starting wall penetration at (993.1903, 262.54285)
[20:06:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7,4038115
[20:06:34] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:34] [INFO] [Bullet] Exiting penetration at (1031.3751, 259.17145) after traveling 33,333336 pixels through wall
[20:06:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(552.0033, 689.26666), shooter_id=5655599517094, bullet_pos=(302.30457, 52.905975)
[20:06:34] [INFO] [Bullet] Using shooter_position, distance=683,5967
[20:06:34] [INFO] [Bullet] Distance to wall: 683,5967 (46,547356% of viewport)
[20:06:34] [INFO] [Bullet] Distance-based penetration chance: 92,36142%
[20:06:34] [INFO] [Bullet] Penetration failed (distance roll)
[20:06:34] [ENEMY] [Enemy2] Ragdoll activated
[20:06:34] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:06:34] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[20:06:34] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[20:06:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(188.5165, 233.8112), source=ENEMY (Enemy1), range=1469, listeners=8
[20:06:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=2
[20:06:34] [INFO] [LastChance] Threat detected: Bullet
[20:06:34] [INFO] [LastChance] Effect already used this life
[20:06:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:34] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[20:06:34] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[20:06:34] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[20:06:34] [INFO] [PenultimateHit] Player died - ending penultimate effect
[20:06:34] [INFO] [LastChance] Player died
[20:06:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(182.7161, 233.5239), source=ENEMY (Enemy1), range=1469, listeners=8
[20:06:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=2
[20:06:34] [INFO] [LastChance] Threat detected: Bullet
[20:06:34] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:06:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:34] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[20:06:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(181.3541, 237.567), source=ENEMY (Enemy1), range=1469, listeners=8
[20:06:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=2
[20:06:34] [INFO] [LastChance] Threat detected: @Area2D@4060
[20:06:34] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:06:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(179.3044, 245.8411), source=ENEMY (Enemy1), range=1469, listeners=8
[20:06:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=2
[20:06:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(243.6477, 223.6931), shooter_id=5652210519099, bullet_pos=(243.6477, 223.6931)
[20:06:34] [INFO] [Bullet] Using shooter_position, distance=0
[20:06:34] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[20:06:34] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:06:34] [INFO] [Bullet] Starting wall penetration at (243.6477, 223.6931)
[20:06:34] [INFO] [LastChance] Threat detected: Bullet
[20:06:34] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:06:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 42.5271301269531
[20:06:34] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:34] [INFO] [Bullet] Exiting penetration at (275.6603, 202.6066) after traveling 33.3333320617676 pixels through wall
[20:06:34] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:06:34] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[20:06:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(178.5972, 254.334), source=ENEMY (Enemy1), range=1469, listeners=8
[20:06:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=2
[20:06:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(241.3374, 227.985), shooter_id=5652210519099, bullet_pos=(241.3374, 227.985)
[20:06:34] [INFO] [Bullet] Using shooter_position, distance=0
[20:06:34] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[20:06:34] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:06:34] [INFO] [Bullet] Starting wall penetration at (241.3374, 227.985)
[20:06:34] [INFO] [LastChance] Threat detected: Bullet
[20:06:34] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:06:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.2850379943848
[20:06:34] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:34] [INFO] [Bullet] Exiting penetration at (274.7461, 209.1888) after traveling 33.3333320617676 pixels through wall
[20:06:34] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:06:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(277.0844, 204.9235), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:06:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=3
[20:06:34] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[20:06:34] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[20:06:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(277.08438, 204.9235), shooter_id=5655599517094, bullet_pos=(56.51967, 160.46892)
[20:06:34] [INFO] [Bullet] Using shooter_position, distance=225,00002
[20:06:34] [INFO] [Bullet] Distance to wall: 225,00002 (15,320664% of viewport)
[20:06:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:34] [INFO] [Bullet] Starting wall penetration at (56.51967, 160.46892)
[20:06:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,320601
[20:06:34] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:34] [INFO] [Bullet] Exiting penetration at (18.941975, 152.89517) after traveling 33,333336 pixels through wall
[20:06:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(277.0844, 204.9235), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:06:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=3
[20:06:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(277.08438, 204.9235), shooter_id=5655599517094, bullet_pos=(54.19604, 174.16988)
[20:06:34] [INFO] [Bullet] Using shooter_position, distance=224,99998
[20:06:34] [INFO] [Bullet] Distance to wall: 224,99998 (15,320663% of viewport)
[20:06:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:34] [INFO] [Bullet] Starting wall penetration at (54.19604, 174.16988)
[20:06:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,927005
[20:06:34] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:34] [INFO] [Bullet] Exiting penetration at (16.22247, 168.93037) after traveling 33,333332 pixels through wall
[20:06:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(277.0844, 204.9235), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:06:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=3
[20:06:34] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:06:34] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:06:34] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:06:34] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:06:34] [ENEMY] [Enemy1] Death animation component initialized
[20:06:34] [ENEMY] [Enemy2] Death animation component initialized
[20:06:34] [ENEMY] [Enemy3] Death animation component initialized
[20:06:34] [ENEMY] [Enemy4] Death animation component initialized
[20:06:34] [ENEMY] [Enemy5] Death animation component initialized
[20:06:34] [ENEMY] [Enemy6] Death animation component initialized
[20:06:34] [ENEMY] [Enemy7] Death animation component initialized
[20:06:34] [ENEMY] [Enemy8] Death animation component initialized
[20:06:34] [ENEMY] [Enemy9] Death animation component initialized
[20:06:34] [ENEMY] [Enemy10] Death animation component initialized
[20:06:35] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:06:35] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:06:35] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:06:35] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:06:35] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:06:35] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:06:35] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:06:35] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[20:06:35] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:06:35] [INFO] [ScoreManager] Level started with 10 enemies
[20:06:35] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[20:06:35] [ENEMY] [Enemy1] Registered as sound listener
[20:06:35] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:06:35] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[20:06:35] [ENEMY] [Enemy2] Registered as sound listener
[20:06:35] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[20:06:35] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[20:06:35] [ENEMY] [Enemy3] Registered as sound listener
[20:06:35] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[20:06:35] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[20:06:35] [ENEMY] [Enemy4] Registered as sound listener
[20:06:35] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[20:06:35] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[20:06:35] [ENEMY] [Enemy5] Registered as sound listener
[20:06:35] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[20:06:35] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[20:06:35] [ENEMY] [Enemy6] Registered as sound listener
[20:06:35] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[20:06:35] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[20:06:35] [ENEMY] [Enemy7] Registered as sound listener
[20:06:35] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[20:06:35] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[20:06:35] [ENEMY] [Enemy8] Registered as sound listener
[20:06:35] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[20:06:35] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[20:06:35] [ENEMY] [Enemy9] Registered as sound listener
[20:06:35] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[20:06:35] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[20:06:35] [ENEMY] [Enemy10] Registered as sound listener
[20:06:35] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[20:06:35] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:06:35] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:06:35] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:06:35] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:06:35] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:06:35] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:06:35] [INFO] [LastChance] Found player: Player
[20:06:35] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:06:35] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:06:35] [INFO] [LastChance] Connected to player Died signal (C#)
[20:06:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(608.3223, 1179.508), source=PLAYER (AssaultRifle), range=1469, listeners=18
[20:06:37] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[20:06:37] [ENEMY] [Enemy3] Heard gunshot at (608.3223, 1179.508), source_type=0, intensity=0.01, distance=439
[20:06:37] [ENEMY] [Enemy4] Heard gunshot at (608.3223, 1179.508), source_type=0, intensity=0.02, distance=339
[20:06:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[20:06:37] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:06:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(616.0168, 1146.297), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[20:06:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1135.314, 1555.58), source=ENEMY (Enemy10), range=1469, listeners=10
[20:06:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(609.9849, 1120.507), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[20:06:37] [ENEMY] [Enemy10] Hit taken, health: 2/3
[20:06:37] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:37] [INFO] [ImpactEffects] spawn_blood_effect called at (1127.139, 1548.729), dir=(1, 0), lethal=false
[20:06:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:37] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:37] [INFO] [ImpactEffects] Blood effect spawned at (1127.139, 1548.729) (scale=1)
[20:06:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1110.018, 1534.285), source=ENEMY (Enemy10), range=1469, listeners=10
[20:06:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(594.7397, 1106.403), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[20:06:37] [ENEMY] [Enemy10] Hit taken, health: 1/3
[20:06:37] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:37] [INFO] [ImpactEffects] spawn_blood_effect called at (1103.493, 1528.786), dir=(1, 0), lethal=false
[20:06:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:37] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:37] [INFO] [ImpactEffects] Blood effect spawned at (1103.493, 1528.786) (scale=1)
[20:06:37] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[20:06:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(568.3803, 1099.62), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[20:06:37] [INFO] [LastChance] Threat detected: @Area2D@4326
[20:06:37] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:06:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:37] [ENEMY] [Enemy10] Hit taken, health: 0/3
[20:06:37] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:37] [INFO] [ImpactEffects] spawn_blood_effect called at (1083.198, 1506.031), dir=(1, 0), lethal=true
[20:06:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:37] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:06:37] [INFO] [ImpactEffects] Blood effect spawned at (1083.198, 1506.031) (scale=1.5)
[20:06:37] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[20:06:37] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:06:37] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[20:06:37] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:06:37] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[20:06:37] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[20:06:37] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[20:06:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[20:06:37] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[20:06:37] [INFO] [LastChance] Threat detected: Bullet
[20:06:37] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[20:06:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(568.3803, 1099.62), shooter_id=5958528929527, bullet_pos=(996.55945, 1403.4073)
[20:06:38] [INFO] [Bullet] Using shooter_position, distance=524,99915
[20:06:38] [INFO] [Bullet] Distance to wall: 524,99915 (35,748158% of viewport)
[20:06:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(568.3803, 1099.62), shooter_id=5958528929527, bullet_pos=(898.2684, 1469.2985)
[20:06:38] [INFO] [Bullet] Using shooter_position, distance=495,46777
[20:06:38] [INFO] [Bullet] Distance to wall: 495,46777 (33,737312% of viewport)
[20:06:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:38] [INFO] [Bullet] Starting wall penetration at (898.2684, 1469.2985)
[20:06:38] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,9712
[20:06:38] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:38] [INFO] [Bullet] Exiting penetration at (870.58075, 1487.8594) after traveling 28,333334 pixels through wall
[20:06:38] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[20:06:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1053.318, 1496.666), shooter_id=5957706845894, bullet_pos=(110.5355, 701.5106)
[20:06:38] [INFO] [Bullet] Using shooter_position, distance=1233.33325195313
[20:06:38] [INFO] [Bullet] Distance to wall: 1233.33325195313 (83.9799290253603% of viewport)
[20:06:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1053.318, 1496.666), shooter_id=5957706845894, bullet_pos=(50.83216, 768.8569)
[20:06:38] [INFO] [Bullet] Using shooter_position, distance=1238.82360839844
[20:06:38] [INFO] [Bullet] Distance to wall: 1238.82360839844 (84.3537774915969% of viewport)
[20:06:38] [INFO] [Bullet] Distance-based penetration chance: 48.2539262598036%
[20:06:38] [INFO] [Bullet] Penetration failed (distance roll)
[20:06:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(594.73975, 1106.4033), shooter_id=5958528929527, bullet_pos=(1819.3591, 2070.1025)
[20:06:38] [INFO] [Bullet] Using shooter_position, distance=1558,3352
[20:06:38] [INFO] [Bullet] Distance to wall: 1558,3352 (106,10992% of viewport)
[20:06:38] [ENEMY] [Enemy10] Ragdoll activated
[20:06:38] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:06:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(594.73975, 1106.4033), shooter_id=5958528929527, bullet_pos=(2467.1357, 1603.4952)
[20:06:38] [INFO] [Bullet] Using shooter_position, distance=1937,2576
[20:06:38] [INFO] [Bullet] Distance to wall: 1937,2576 (131,91144% of viewport)
[20:06:38] [INFO] [Bullet] Distance-based penetration chance: 23,617714%
[20:06:38] [INFO] [Bullet] Penetration failed (distance roll)
[20:06:39] [ENEMY] [Enemy10] Death animation completed
[20:06:41] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[20:06:41] [ENEMY] [Enemy3] FLANKING started: target=(208.4382, 1209.501), side=right, pos=(646.4368, 956.8373)
[20:06:41] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[20:06:42] [ENEMY] [Enemy3] State: FLANKING -> COMBAT
[20:06:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(474.696, 788.5324), source=ENEMY (Enemy3), range=1469, listeners=9
[20:06:42] [ENEMY] [Enemy1] Heard gunshot at (474.696, 788.5324), source_type=1, intensity=0.01, distance=472
[20:06:42] [ENEMY] [Enemy2] Heard gunshot at (474.696, 788.5324), source_type=1, intensity=0.04, distance=250
[20:06:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=2
[20:06:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.02174, 1062.174), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:06:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(448.3425, 813.9355), source=ENEMY (Enemy3), range=1469, listeners=9
[20:06:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=2
[20:06:42] [INFO] [LastChance] Threat detected: Bullet
[20:06:42] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[20:06:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.02174, 1062.174), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:06:42] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:06:42] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:06:42] [ENEMY] [Enemy3] Hit taken, health: 2/3
[20:06:42] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:42] [INFO] [ImpactEffects] spawn_blood_effect called at (430.4576, 832.9698), dir=(1, 0), lethal=false
[20:06:42] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:42] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:42] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 832.9698) (dist=69 px)
[20:06:42] [INFO] [ImpactEffects] Blood effect spawned at (430.4576, 832.9698) (scale=1)
[20:06:42] [INFO] [LastChance] Threat detected: @Area2D@4367
[20:06:42] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:06:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(422.3606, 838.1271), source=ENEMY (Enemy3), range=1469, listeners=9
[20:06:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=2
[20:06:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.02174, 1062.174), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:06:43] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:06:43] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[20:06:43] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:06:43] [ENEMY] [Enemy3] Hit taken, health: 1/3
[20:06:43] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:43] [INFO] [ImpactEffects] spawn_blood_effect called at (400.7684, 851.8798), dir=(1, 0), lethal=false
[20:06:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:43] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:43] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 851.8798) (dist=99 px)
[20:06:43] [INFO] [ImpactEffects] Blood effect spawned at (400.7684, 851.8798) (scale=1)
[20:06:43] [INFO] [LastChance] Threat detected: Bullet
[20:06:43] [INFO] [LastChance] Triggering last chance effect!
[20:06:43] [INFO] [LastChance] Starting last chance effect:
[20:06:43] [INFO] [LastChance]   - Time will be frozen (except player)
[20:06:43] [INFO] [LastChance]   - Duration: 6.0 real seconds
[20:06:43] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:06:43] [INFO] [LastChance]   - Brightness: 0.60
[20:06:43] [INFO] [LastChance] Pushed bullet Bullet from distance 138.5 to 200.0
[20:06:43] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[20:06:43] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:06:43] [INFO] [LastChance] Skipping player node: Player
[20:06:43] [INFO] [LastChance] Froze existing bullet casing: Casing
[20:06:43] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4325
[20:06:43] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4327
[20:06:43] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4329
[20:06:43] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4330
[20:06:43] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4332
[20:06:43] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4335
[20:06:43] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4364
[20:06:43] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4366
[20:06:43] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4368
[20:06:43] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4370
[20:06:43] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4372
[20:06:43] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4374
[20:06:43] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:06:43] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:06:43] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:06:43] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4377
[20:06:43] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4377
[20:06:43] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4378
[20:06:43] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4378
[20:06:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.02174, 1062.174), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:06:43] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:06:43] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:06:43] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:06:43] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:06:43] [INFO] [LastChance] Ending last chance effect
[20:06:43] [INFO] [LastChance] All process modes restored
[20:06:43] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:06:43] [ENEMY] [Enemy1] Death animation component initialized
[20:06:43] [ENEMY] [Enemy2] Death animation component initialized
[20:06:43] [ENEMY] [Enemy3] Death animation component initialized
[20:06:43] [ENEMY] [Enemy4] Death animation component initialized
[20:06:43] [ENEMY] [Enemy5] Death animation component initialized
[20:06:43] [ENEMY] [Enemy6] Death animation component initialized
[20:06:43] [ENEMY] [Enemy7] Death animation component initialized
[20:06:43] [ENEMY] [Enemy8] Death animation component initialized
[20:06:43] [ENEMY] [Enemy9] Death animation component initialized
[20:06:43] [ENEMY] [Enemy10] Death animation component initialized
[20:06:43] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:06:43] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:06:43] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:06:43] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:06:43] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:06:43] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:06:43] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:06:43] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[20:06:43] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:06:43] [INFO] [ScoreManager] Level started with 10 enemies
[20:06:43] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[20:06:43] [ENEMY] [Enemy1] Registered as sound listener
[20:06:43] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:06:43] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[20:06:43] [ENEMY] [Enemy2] Registered as sound listener
[20:06:43] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[20:06:43] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[20:06:43] [ENEMY] [Enemy3] Registered as sound listener
[20:06:43] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[20:06:43] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[20:06:43] [ENEMY] [Enemy4] Registered as sound listener
[20:06:43] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[20:06:43] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[20:06:43] [ENEMY] [Enemy5] Registered as sound listener
[20:06:43] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[20:06:43] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[20:06:43] [ENEMY] [Enemy6] Registered as sound listener
[20:06:43] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[20:06:43] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[20:06:43] [ENEMY] [Enemy7] Registered as sound listener
[20:06:43] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[20:06:43] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[20:06:43] [ENEMY] [Enemy8] Registered as sound listener
[20:06:43] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[20:06:43] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[20:06:43] [ENEMY] [Enemy9] Registered as sound listener
[20:06:43] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[20:06:43] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[20:06:43] [ENEMY] [Enemy10] Registered as sound listener
[20:06:43] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[20:06:43] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:06:43] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:06:43] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:06:43] [INFO] [LastChance] Found player: Player
[20:06:43] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:06:43] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:06:43] [INFO] [LastChance] Connected to player Died signal (C#)
[20:06:43] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:06:43] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:06:43] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:06:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(449.692, 1177.794), source=PLAYER (AssaultRifle), range=1469, listeners=19
[20:06:44] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[20:06:44] [ENEMY] [Enemy3] Heard gunshot at (449.692, 1177.794), source_type=0, intensity=0.01, distance=496
[20:06:44] [ENEMY] [Enemy4] Heard gunshot at (449.692, 1177.794), source_type=0, intensity=0.01, distance=447
[20:06:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[20:06:44] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:06:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(438.9135, 1143.759), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[20:06:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.632, 1519.7), source=ENEMY (Enemy10), range=1469, listeners=10
[20:06:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(415.7938, 1119.226), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[20:06:45] [ENEMY] [Enemy10] Hit taken, health: 2/3
[20:06:45] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:45] [INFO] [ImpactEffects] spawn_blood_effect called at (1125.005, 1509.301), dir=(1, 0), lethal=false
[20:06:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:45] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:45] [INFO] [ImpactEffects] Blood effect spawned at (1125.005, 1509.301) (scale=1)
[20:06:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1080.788, 1493.58), shooter_id=6401078330783, bullet_pos=(906.1199, 1396.158)
[20:06:45] [INFO] [Bullet] Using shooter_position, distance=199.999923706055
[20:06:45] [INFO] [Bullet] Distance to wall: 199.999923706055 (13.6183625725761% of viewport)
[20:06:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:45] [INFO] [Bullet] Starting wall penetration at (906.1199, 1396.158)
[20:06:45] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:06:45] [INFO] [Bullet] Exiting penetration at (872.6418, 1377.486) after traveling 33.3333358764648 pixels through wall
[20:06:45] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:06:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.886, 1502.561), source=ENEMY (Enemy10), range=1469, listeners=10
[20:06:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(387.106, 1108.839), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[20:06:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1049.96, 1476.686), shooter_id=6401078330783, bullet_pos=(904.0994, 1396.048)
[20:06:45] [INFO] [Bullet] Using shooter_position, distance=166.666915893555
[20:06:45] [INFO] [Bullet] Distance to wall: 166.666915893555 (11.3486567766263% of viewport)
[20:06:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(355.9681, 1110.612), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[20:06:45] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[20:06:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(415.79376, 1119.2261), shooter_id=6401900416380, bullet_pos=(985.91125, 1375.3335)
[20:06:45] [INFO] [Bullet] Using shooter_position, distance=625
[20:06:45] [INFO] [Bullet] Distance to wall: 625 (42,5574% of viewport)
[20:06:45] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[20:06:45] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[20:06:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(415.79376, 1119.2261), shooter_id=6401900416380, bullet_pos=(906.01404, 1416.7633)
[20:06:45] [INFO] [Bullet] Using shooter_position, distance=573,44946
[20:06:45] [INFO] [Bullet] Distance to wall: 573,44946 (39,04723% of viewport)
[20:06:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.714, 1474.374), source=ENEMY (Enemy10), range=1469, listeners=10
[20:06:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.91345, 1143.7589), shooter_id=6401900416380, bullet_pos=(1507.5535, 1651.9781)
[20:06:45] [INFO] [Bullet] Using shooter_position, distance=1183,3335
[20:06:45] [INFO] [Bullet] Distance to wall: 1183,3335 (80,575356% of viewport)
[20:06:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1085.392, 1466.97), source=ENEMY (Enemy10), range=1469, listeners=10
[20:06:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(387.106, 1108.8386), shooter_id=6401900416380, bullet_pos=(1025.9752, 1373.8849)
[20:06:45] [INFO] [Bullet] Using shooter_position, distance=691,6672
[20:06:45] [INFO] [Bullet] Distance to wall: 691,6672 (47,09689% of viewport)
[20:06:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1020.403, 1446.795), shooter_id=6401078330783, bullet_pos=(893.5964, 1405.589)
[20:06:45] [INFO] [Bullet] Using shooter_position, distance=133.333419799805
[20:06:45] [INFO] [Bullet] Distance to wall: 133.333419799805 (9.07891773270842% of viewport)
[20:06:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:45] [INFO] [Bullet] Starting wall penetration at (893.5964, 1405.589)
[20:06:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1093.07, 1459.566), source=ENEMY (Enemy10), range=1469, listeners=10
[20:06:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32.4488792419434
[20:06:45] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:45] [INFO] [Bullet] Exiting penetration at (857.1396, 1393.742) after traveling 33.3333282470703 pixels through wall
[20:06:45] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:06:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1098.245, 1450.371), source=ENEMY (Enemy10), range=1469, listeners=10
[20:06:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(355.9681, 1110.6116), shooter_id=6401900416380, bullet_pos=(1065.7474, 1377.6019)
[20:06:45] [INFO] [Bullet] Using shooter_position, distance=758,33405
[20:06:45] [INFO] [Bullet] Distance to wall: 758,33405 (51,63636% of viewport)
[20:06:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1013.475, 1451.924), shooter_id=6401078330783, bullet_pos=(41.80723, 1215.572)
[20:06:45] [INFO] [Bullet] Using shooter_position, distance=1000.00012207031
[20:06:45] [INFO] [Bullet] Distance to wall: 1000.00012207031 (68.0918471498475% of viewport)
[20:06:46] [INFO] [LastChance] Threat detected: @Area2D@4647
[20:06:46] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:06:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:46] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[20:06:46] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[20:06:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1027.401, 1441.726), shooter_id=6401078330783, bullet_pos=(63.38617, 911.9378)
[20:06:46] [INFO] [Bullet] Using shooter_position, distance=1100.00048828125
[20:06:46] [INFO] [Bullet] Distance to wall: 1100.00048828125 (74.9010559696091% of viewport)
[20:06:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1031.982, 1434.882), shooter_id=6401078330783, bullet_pos=(65.76941, 781.0131)
[20:06:46] [INFO] [Bullet] Using shooter_position, distance=1166.66711425781
[20:06:46] [INFO] [Bullet] Distance to wall: 1166.66711425781 (79.4405091214688% of viewport)
[20:06:46] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[20:06:46] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:06:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1031.982, 1434.882), shooter_id=6401078330783, bullet_pos=(164.3589, 715.5691)
[20:06:46] [INFO] [Bullet] Using shooter_position, distance=1127.0234375
[20:06:46] [INFO] [Bullet] Distance to wall: 1127.0234375 (76.7410982727358% of viewport)
[20:06:46] [INFO] [Bullet] Distance-based penetration chance: 57.1353853484749%
[20:06:46] [INFO] [Bullet] Penetration failed (distance roll)
[20:06:46] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:06:46] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:06:46] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:06:46] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:06:46] [ENEMY] [Enemy1] Death animation component initialized
[20:06:46] [ENEMY] [Enemy2] Death animation component initialized
[20:06:46] [ENEMY] [Enemy3] Death animation component initialized
[20:06:46] [ENEMY] [Enemy4] Death animation component initialized
[20:06:46] [ENEMY] [Enemy5] Death animation component initialized
[20:06:46] [ENEMY] [Enemy6] Death animation component initialized
[20:06:46] [ENEMY] [Enemy7] Death animation component initialized
[20:06:46] [ENEMY] [Enemy8] Death animation component initialized
[20:06:46] [ENEMY] [Enemy9] Death animation component initialized
[20:06:46] [ENEMY] [Enemy10] Death animation component initialized
[20:06:46] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:06:46] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:06:46] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:06:46] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:06:46] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:06:46] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:06:46] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:06:46] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[20:06:46] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:06:46] [INFO] [ScoreManager] Level started with 10 enemies
[20:06:46] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:06:46] [ENEMY] [Enemy1] Registered as sound listener
[20:06:46] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:06:46] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:06:46] [ENEMY] [Enemy2] Registered as sound listener
[20:06:46] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[20:06:46] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:06:46] [ENEMY] [Enemy3] Registered as sound listener
[20:06:46] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[20:06:46] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:06:46] [ENEMY] [Enemy4] Registered as sound listener
[20:06:46] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[20:06:46] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:06:46] [ENEMY] [Enemy5] Registered as sound listener
[20:06:46] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[20:06:46] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:06:46] [ENEMY] [Enemy6] Registered as sound listener
[20:06:46] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[20:06:46] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:06:46] [ENEMY] [Enemy7] Registered as sound listener
[20:06:46] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[20:06:46] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:06:46] [ENEMY] [Enemy8] Registered as sound listener
[20:06:46] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[20:06:46] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:06:46] [ENEMY] [Enemy9] Registered as sound listener
[20:06:46] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[20:06:46] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:06:46] [ENEMY] [Enemy10] Registered as sound listener
[20:06:46] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[20:06:46] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:06:46] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:06:46] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:06:46] [INFO] [LastChance] Found player: Player
[20:06:46] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:06:46] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:06:46] [INFO] [LastChance] Connected to player Died signal (C#)
[20:06:46] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:06:46] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:06:46] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:06:47] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:06:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(449.0761, 1123.049), source=PLAYER (AssaultRifle), range=1469, listeners=20
[20:06:47] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:06:47] [ENEMY] [Enemy3] Heard gunshot at (449.0761, 1123.049), source_type=0, intensity=0.01, distance=450
[20:06:47] [ENEMY] [Enemy4] Heard gunshot at (449.0761, 1123.049), source_type=0, intensity=0.01, distance=416
[20:06:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[20:06:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.986, 1519.066), source=ENEMY (Enemy10), range=1469, listeners=10
[20:06:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(437.1163, 1091.216), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[20:06:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.107, 1499.638), source=ENEMY (Enemy10), range=1469, listeners=10
[20:06:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(414.5493, 1071.654), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[20:06:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(449.07614, 1123.0493), shooter_id=6586667896010, bullet_pos=(993.1712, 1395.1329)
[20:06:47] [INFO] [Bullet] Using shooter_position, distance=608,33295
[20:06:47] [INFO] [Bullet] Distance to wall: 608,33295 (41,42251% of viewport)
[20:06:47] [INFO] [Bullet] Distance-based penetration chance: 98,3404%
[20:06:47] [INFO] [Bullet] Starting wall penetration at (993.1712, 1395.1329)
[20:06:47] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:06:47] [INFO] [Bullet] Exiting penetration at (1034.91, 1416.0051) after traveling 41,666668 pixels through wall
[20:06:47] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1080.4, 1479.929), source=ENEMY (Enemy10), range=1469, listeners=10
[20:06:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:47] [INFO] [LastChance] Threat detected: @Area2D@4913
[20:06:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:06:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(386.3071, 1066.325), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[20:06:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(437.11633, 1091.2158), shooter_id=6586667896010, bullet_pos=(1014.23737, 1390.2666)
[20:06:47] [INFO] [Bullet] Using shooter_position, distance=650,00006
[20:06:47] [INFO] [Bullet] Distance to wall: 650,00006 (44,2597% of viewport)
[20:06:47] [INFO] [Bullet] Distance-based penetration chance: 95,03035%
[20:06:47] [INFO] [Bullet] Starting wall penetration at (1014.23737, 1390.2666)
[20:06:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(437.11633, 1091.2158), shooter_id=6586667896010, bullet_pos=(1018.67676, 1392.567)
[20:06:47] [INFO] [Bullet] Using shooter_position, distance=655,00006
[20:06:47] [INFO] [Bullet] Distance to wall: 655,00006 (44,60016% of viewport)
[20:06:47] [INFO] [Bullet] Distance-based penetration chance: 94,63315%
[20:06:47] [INFO] [Bullet] Already penetrating, cannot start new penetration
[20:06:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,51081
[20:06:47] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:47] [INFO] [Bullet] Exiting penetration at (1055.6718, 1411.7369) after traveling 41,666668 pixels through wall
[20:06:47] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:47] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[20:06:47] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[20:06:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1048.49, 1460.55), source=ENEMY (Enemy10), range=1469, listeners=10
[20:06:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:47] [INFO] [LastChance] Threat detected: @Area2D@4917
[20:06:47] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[20:06:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.5757, 1077.322), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[20:06:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(414.54935, 1071.6538), shooter_id=6586667896010, bullet_pos=(1035.5944, 1376.1296)
[20:06:47] [INFO] [Bullet] Using shooter_position, distance=691,66644
[20:06:47] [INFO] [Bullet] Distance to wall: 691,66644 (47,096844% of viewport)
[20:06:47] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[20:06:47] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[20:06:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1016.057, 1442.066), source=ENEMY (Enemy10), range=1469, listeners=10
[20:06:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:47] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[20:06:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(386.3071, 1066.3252), shooter_id=6586667896010, bullet_pos=(1092.3986, 1385.7947)
[20:06:47] [INFO] [Bullet] Using shooter_position, distance=775,00055
[20:06:47] [INFO] [Bullet] Distance to wall: 775,00055 (52,771217% of viewport)
[20:06:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1050.555, 1470.599), shooter_id=6585845811588, bullet_pos=(59.42337, 855.1558)
[20:06:47] [INFO] [Bullet] Using shooter_position, distance=1166.66723632813
[20:06:47] [INFO] [Bullet] Distance to wall: 1166.66723632813 (79.4405174334609% of viewport)
[20:06:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.79, 1451.063), shooter_id=6585845811588, bullet_pos=(61.50607, 860.1047)
[20:06:47] [INFO] [Bullet] Using shooter_position, distance=1124.99975585938
[20:06:47] [INFO] [Bullet] Distance to wall: 1124.99975585938 (76.6033020686032% of viewport)
[20:06:47] [INFO] [Bullet] Distance-based penetration chance: 57.2961475866296%
[20:06:47] [INFO] [Bullet] Penetration failed (distance roll)
[20:06:48] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[20:06:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.5757, 1077.3219), shooter_id=6586667896010, bullet_pos=(1117.5516, 1378.8202)
[20:06:48] [INFO] [Bullet] Using shooter_position, distance=816,6675
[20:06:48] [INFO] [Bullet] Distance to wall: 816,6675 (55,60839% of viewport)
[20:06:48] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:06:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1050.555, 1470.599), shooter_id=6585845811588, bullet_pos=(390.5244, 715.9696)
[20:06:48] [INFO] [Bullet] Using shooter_position, distance=1002.54968261719
[20:06:48] [INFO] [Bullet] Distance to wall: 1002.54968261719 (68.2654514157126% of viewport)
[20:06:48] [INFO] [Bullet] Distance-based penetration chance: 67.0236400150019%
[20:06:48] [INFO] [Bullet] Penetration failed (distance roll)
[20:06:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(986.3248, 1432.948), shooter_id=6585845811588, bullet_pos=(53.14636, 882.686)
[20:06:48] [INFO] [Bullet] Using shooter_position, distance=1083.33312988281
[20:06:48] [INFO] [Bullet] Distance to wall: 1083.33312988281 (73.76614488769% of viewport)
[20:06:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(952.9041, 1416.859), shooter_id=6585845811588, bullet_pos=(36.14202, 922.2721)
[20:06:48] [INFO] [Bullet] Using shooter_position, distance=1041.66625976563
[20:06:48] [INFO] [Bullet] Distance to wall: 1041.66625976563 (70.9289710827926% of viewport)
[20:06:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(986.3248, 1432.948), shooter_id=6585845811588, bullet_pos=(288.3178, 715.861)
[20:06:48] [INFO] [Bullet] Using shooter_position, distance=1000.71392822266
[20:06:48] [INFO] [Bullet] Distance to wall: 1000.71392822266 (68.1404515233343% of viewport)
[20:06:48] [INFO] [Bullet] Distance-based penetration chance: 67.1694732227766%
[20:06:48] [INFO] [Bullet] Penetration failed (distance roll)
[20:06:48] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:06:48] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:06:48] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:06:48] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:06:48] [ENEMY] [Enemy1] Death animation component initialized
[20:06:48] [ENEMY] [Enemy2] Death animation component initialized
[20:06:48] [ENEMY] [Enemy3] Death animation component initialized
[20:06:48] [ENEMY] [Enemy4] Death animation component initialized
[20:06:48] [ENEMY] [Enemy5] Death animation component initialized
[20:06:48] [ENEMY] [Enemy6] Death animation component initialized
[20:06:48] [ENEMY] [Enemy7] Death animation component initialized
[20:06:48] [ENEMY] [Enemy8] Death animation component initialized
[20:06:48] [ENEMY] [Enemy9] Death animation component initialized
[20:06:48] [ENEMY] [Enemy10] Death animation component initialized
[20:06:48] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:06:48] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:06:48] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:06:48] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:06:48] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:06:48] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:06:48] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:06:48] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[20:06:48] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:06:48] [INFO] [ScoreManager] Level started with 10 enemies
[20:06:48] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:06:48] [ENEMY] [Enemy1] Registered as sound listener
[20:06:48] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[20:06:48] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:06:48] [ENEMY] [Enemy2] Registered as sound listener
[20:06:48] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[20:06:48] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:06:48] [ENEMY] [Enemy3] Registered as sound listener
[20:06:48] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[20:06:48] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:06:48] [ENEMY] [Enemy4] Registered as sound listener
[20:06:48] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[20:06:48] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:06:48] [ENEMY] [Enemy5] Registered as sound listener
[20:06:48] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[20:06:48] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:06:48] [ENEMY] [Enemy6] Registered as sound listener
[20:06:48] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[20:06:48] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:06:48] [ENEMY] [Enemy7] Registered as sound listener
[20:06:48] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[20:06:48] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:06:48] [ENEMY] [Enemy8] Registered as sound listener
[20:06:48] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[20:06:48] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:06:48] [ENEMY] [Enemy9] Registered as sound listener
[20:06:48] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[20:06:48] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:06:48] [ENEMY] [Enemy10] Registered as sound listener
[20:06:48] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[20:06:48] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:06:48] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:06:48] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:06:48] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:06:48] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:06:48] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:06:48] [INFO] [LastChance] Found player: Player
[20:06:48] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:06:48] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:06:48] [INFO] [LastChance] Connected to player Died signal (C#)
[20:06:49] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:06:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.641, 1519.698), source=ENEMY (Enemy10), range=1469, listeners=20
[20:06:49] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:06:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.094, 1499.748), source=ENEMY (Enemy10), range=1469, listeners=10
[20:06:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.107, 1477.524), source=ENEMY (Enemy10), range=1469, listeners=10
[20:06:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:06:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(724.5526, 1185.311), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:49] [ENEMY] [Enemy3] Heard gunshot at (724.5526, 1185.311), source_type=0, intensity=0.01, distance=436
[20:06:49] [ENEMY] [Enemy4] Heard gunshot at (724.5526, 1185.311), source_type=0, intensity=0.03, distance=295
[20:06:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[20:06:49] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:06:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(745.3091, 1155.409), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[20:06:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(751.2735, 1119.661), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[20:06:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(724.5526, 1185.3107), shooter_id=6710987065372, bullet_pos=(1147.636, 1622.4266)
[20:06:49] [INFO] [Bullet] Using shooter_position, distance=608,33374
[20:06:49] [INFO] [Bullet] Distance to wall: 608,33374 (41,422565% of viewport)
[20:06:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.465, 1491.887), shooter_id=6710164981869, bullet_pos=(42.20208, 875.4427)
[20:06:49] [INFO] [Bullet] Using shooter_position, distance=1208.33410644531
[20:06:49] [INFO] [Bullet] Distance to wall: 1208.33410644531 (82.2776912383582% of viewport)
[20:06:49] [INFO] [Bullet] Distance-based penetration chance: 50.6760268885821%
[20:06:49] [INFO] [Bullet] Penetration failed (distance roll)
[20:06:49] [ENEMY] [Enemy1] Memory: medium confidence (0.60) - transitioning to PURSUING
[20:06:49] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[20:06:49] [ENEMY] [Enemy2] Memory: medium confidence (0.60) - transitioning to PURSUING
[20:06:49] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[20:06:49] [ENEMY] [Enemy10] Hit taken, health: 2/3
[20:06:49] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:49] [INFO] [ImpactEffects] spawn_blood_effect called at (1061.798, 1460.246), dir=(1, 0), lethal=false
[20:06:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:49] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:49] [INFO] [ImpactEffects] Blood effect spawned at (1061.798, 1460.246) (scale=1)
[20:06:49] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[20:06:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(753.2772, 1092.961), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[20:06:49] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[20:06:49] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:06:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(751.2735, 1119.661), shooter_id=6710987065372, bullet_pos=(996.61346, 1380.8337)
[20:06:50] [INFO] [Bullet] Using shooter_position, distance=358,3335
[20:06:50] [INFO] [Bullet] Distance to wall: 358,3335 (24,399588% of viewport)
[20:06:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(751.2735, 1119.661), shooter_id=6710987065372, bullet_pos=(1000.52234, 1377.716)
[20:06:50] [INFO] [Bullet] Using shooter_position, distance=358,77197
[20:06:50] [INFO] [Bullet] Distance to wall: 358,77197 (24,429443% of viewport)
[20:06:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.979, 1467.685), shooter_id=6710164981869, bullet_pos=(57.9288, 780.7121)
[20:06:50] [INFO] [Bullet] Using shooter_position, distance=1208.33276367188
[20:06:50] [INFO] [Bullet] Distance to wall: 1208.33276367188 (82.2775998064458% of viewport)
[20:06:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.979, 1467.685), shooter_id=6710164981869, bullet_pos=(147.8201, 703.7553)
[20:06:50] [INFO] [Bullet] Using shooter_position, distance=1183.67749023438
[20:06:50] [INFO] [Bullet] Distance to wall: 1183.67749023438 (80.5987769010362% of viewport)
[20:06:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(761.7382, 1076.415), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[20:06:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1024.692, 1440.83), shooter_id=6710164981869, bullet_pos=(132.9486, 714.6797)
[20:06:50] [INFO] [Bullet] Using shooter_position, distance=1150.00036621094
[20:06:50] [INFO] [Bullet] Distance to wall: 1150.00036621094 (78.3056395995099% of viewport)
[20:06:50] [INFO] [Bullet] Distance-based penetration chance: 55.3100871339052%
[20:06:50] [INFO] [Bullet] Penetration failed (distance roll)
[20:06:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(753.2772, 1092.9614), shooter_id=6710987065372, bullet_pos=(1011.9278, 1387.0743)
[20:06:50] [INFO] [Bullet] Using shooter_position, distance=391,66635
[20:06:50] [INFO] [Bullet] Distance to wall: 391,66635 (26,669281% of viewport)
[20:06:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(753.2772, 1092.9614), shooter_id=6710987065372, bullet_pos=(1014.7734, 1382.963)
[20:06:50] [INFO] [Bullet] Using shooter_position, distance=390,48834
[20:06:50] [INFO] [Bullet] Distance to wall: 390,48834 (26,58907% of viewport)
[20:06:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:50] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[20:06:50] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[20:06:50] [ENEMY] [Enemy10] Hit taken, health: 1/3
[20:06:50] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:50] [INFO] [ImpactEffects] spawn_blood_effect called at (1061.798, 1460.246), dir=(1, 0), lethal=false
[20:06:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:50] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:50] [INFO] [ImpactEffects] Blood effect spawned at (1061.798, 1460.246) (scale=1)
[20:06:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(724.5526, 1185.3107), shooter_id=6710987065372, bullet_pos=(1711.7891, 1185.8765)
[20:06:50] [INFO] [Bullet] Using shooter_position, distance=987,23663
[20:06:50] [INFO] [Bullet] Distance to wall: 987,23663 (67,22276% of viewport)
[20:06:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(761.7382, 1076.4146), shooter_id=6710987065372, bullet_pos=(1014.7218, 1375.417)
[20:06:50] [INFO] [Bullet] Using shooter_position, distance=391,66714
[20:06:50] [INFO] [Bullet] Distance to wall: 391,66714 (26,669338% of viewport)
[20:06:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:50] [INFO] [Bullet] Starting wall penetration at (1014.7218, 1375.417)
[20:06:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(761.7382, 1076.4146), shooter_id=6710987065372, bullet_pos=(1017.95135, 1379.234)
[20:06:50] [INFO] [Bullet] Using shooter_position, distance=396,6671
[20:06:50] [INFO] [Bullet] Distance to wall: 396,6671 (27,009794% of viewport)
[20:06:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,622742
[20:06:50] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:50] [INFO] [Bullet] Exiting penetration at (1042.1875, 1356.3491) after traveling 28,333332 pixels through wall
[20:06:50] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[20:06:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.979, 1467.685), shooter_id=6710164981869, bullet_pos=(501.5011, 962.9693)
[20:06:50] [INFO] [Bullet] Using shooter_position, distance=746.836120605469
[20:06:50] [INFO] [Bullet] Distance to wall: 746.836120605469 (50.8534447625567% of viewport)
[20:06:50] [INFO] [Bullet] Distance-based penetration chance: 87.3376477770172%
[20:06:50] [INFO] [Bullet] Starting wall penetration at (501.5011, 962.9693)
[20:06:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 1.18881738185883
[20:06:50] [INFO] [Bullet] Max penetration distance exceeded: 48.1666679382324 >= 48
[20:06:50] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:50] [INFO] [Bullet] Exiting penetration at (544.3838, 994.3981) after traveling 48.1666679382324 pixels through wall
[20:06:50] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[20:06:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(724.5526, 1185.3107), shooter_id=6710987065372, bullet_pos=(1367.9827, 1001.05804)
[20:06:50] [INFO] [Bullet] Using shooter_position, distance=669,2916
[20:06:50] [INFO] [Bullet] Distance to wall: 669,2916 (45,5733% of viewport)
[20:06:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(724.5526, 1185.3107), shooter_id=6710987065372, bullet_pos=(1372.6378, 999.2332)
[20:06:50] [INFO] [Bullet] Using shooter_position, distance=674,2694
[20:06:50] [INFO] [Bullet] Distance to wall: 674,2694 (45,912247% of viewport)
[20:06:50] [INFO] [Bullet] Distance-based penetration chance: 93,10239%
[20:06:50] [INFO] [Bullet] Penetration failed (distance roll)
[20:06:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(724.5526, 1185.3107), shooter_id=6710987065372, bullet_pos=(1372.6378, 999.2332)
[20:06:50] [INFO] [Bullet] Using shooter_position, distance=674,2694
[20:06:50] [INFO] [Bullet] Distance to wall: 674,2694 (45,912247% of viewport)
[20:06:50] [INFO] [Bullet] Distance-based penetration chance: 93,10239%
[20:06:50] [INFO] [Bullet] Starting wall penetration at (1372.6378, 999.2332)
[20:06:50] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:06:50] [INFO] [Bullet] Exiting penetration at (1396.3518, 989.93726) after traveling 20,470835 pixels through wall
[20:06:50] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[20:06:50] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[20:06:50] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[20:06:50] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:06:50] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[20:06:50] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[20:06:50] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:06:50] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[20:06:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(777.1456, 1241.785), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:51] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[20:06:51] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[20:06:51] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:06:51] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[20:06:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(788.9713, 1272.087), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:06:51] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[20:06:51] [ENEMY] [Enemy10] Hit taken, health: 0/3
[20:06:51] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:51] [INFO] [ImpactEffects] spawn_blood_effect called at (1077.105, 1438.903), dir=(1, 0), lethal=true
[20:06:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:51] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:06:51] [INFO] [ImpactEffects] Blood effect spawned at (1077.105, 1438.903) (scale=1.5)
[20:06:51] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[20:06:51] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:06:51] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[20:06:51] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:06:51] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[20:06:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(812.0594, 1297.724), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[20:06:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(839.2355, 1317.095), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[20:06:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(788.97125, 1272.087), shooter_id=6710987065372, bullet_pos=(1254.029, 1637.8601)
[20:06:51] [INFO] [Bullet] Using shooter_position, distance=591,666
[20:06:51] [INFO] [Bullet] Distance to wall: 591,666 (40,28763% of viewport)
[20:06:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(839.2355, 1317.0955), shooter_id=6710987065372, bullet_pos=(985.0046, 1378.9081)
[20:06:51] [INFO] [Bullet] Using shooter_position, distance=158,3333
[20:06:51] [INFO] [Bullet] Distance to wall: 158,3333 (10,781205% of viewport)
[20:06:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:51] [INFO] [Bullet] Starting wall penetration at (985.0046, 1378.9081)
[20:06:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9,011098
[20:06:51] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:51] [INFO] [Bullet] Exiting penetration at (1020.296, 1393.8733) after traveling 33,333336 pixels through wall
[20:06:51] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(839.2355, 1317.0955), shooter_id=6710987065372, bullet_pos=(1020.296, 1393.8733)
[20:06:51] [INFO] [Bullet] Using shooter_position, distance=196,66661
[20:06:51] [INFO] [Bullet] Distance to wall: 196,66661 (13,391392% of viewport)
[20:06:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:51] [INFO] [Bullet] Starting wall penetration at (1020.296, 1393.8733)
[20:06:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,639915
[20:06:51] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:51] [INFO] [Bullet] Exiting penetration at (1055.5875, 1408.8385) after traveling 33,333336 pixels through wall
[20:06:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(788.97125, 1272.087), shooter_id=6710987065372, bullet_pos=(1486.3064, 1422.6271)
[20:06:51] [INFO] [Bullet] Using shooter_position, distance=713,39935
[20:06:51] [INFO] [Bullet] Distance to wall: 713,39935 (48,576675% of viewport)
[20:06:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(812.05945, 1297.7239), shooter_id=6710987065372, bullet_pos=(1495.754, 1759.445)
[20:06:51] [INFO] [Bullet] Using shooter_position, distance=824,99976
[20:06:51] [INFO] [Bullet] Distance to wall: 824,99976 (56,17575% of viewport)
[20:06:51] [INFO] [Bullet] Distance-based penetration chance: 81,128296%
[20:06:51] [INFO] [Bullet] Starting wall penetration at (1495.754, 1759.445)
[20:06:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,729626
[20:06:51] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:51] [INFO] [Bullet] Exiting penetration at (1527.5216, 1780.8987) after traveling 33,333336 pixels through wall
[20:06:51] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:51] [ENEMY] [Enemy10] Ragdoll activated
[20:06:51] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:06:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(788.97125, 1272.087), shooter_id=6710987065372, bullet_pos=(1141.1992, 1014.0362)
[20:06:51] [INFO] [Bullet] Using shooter_position, distance=436,64032
[20:06:51] [INFO] [Bullet] Distance to wall: 436,64032 (29,731644% of viewport)
[20:06:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:52] [ENEMY] [Enemy2] FLANKING started: target=(1056.39, 1182.164), side=right, pos=(449.2026, 648.6913)
[20:06:52] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[20:06:53] [ENEMY] [Enemy10] Death animation completed
[20:06:53] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:06:53] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[20:06:53] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[20:06:53] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[20:06:53] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[20:06:53] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[20:06:53] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[20:06:53] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[20:06:53] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[20:06:53] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[20:06:53] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[20:06:53] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(951.7925, 1420.804), source=PLAYER (Player), range=900, listeners=9
[20:06:53] [ENEMY] [Enemy4] Heard player RELOAD at (951.7925, 1420.804), intensity=0.01, distance=492
[20:06:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=3
[20:06:53] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=937), can_see=false
[20:06:53] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=814), can_see=false
[20:06:53] [ENEMY] [Enemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=553), can_see=false
[20:06:53] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=492), can_see=false
[20:06:53] [ENEMY] [Enemy4] Pursuing vulnerability sound at (951.7925, 1420.804), distance=492
[20:06:53] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1306), can_see=false
[20:06:53] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1392), can_see=false
[20:06:53] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=841), can_see=false
[20:06:53] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=949), can_see=false
[20:06:53] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1155), can_see=false
[20:06:53] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:06:53] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:06:53] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[20:06:53] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[20:06:53] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[20:06:53] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[20:06:53] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[20:06:53] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[20:06:53] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[20:06:53] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[20:06:53] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[20:06:53] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[20:06:53] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:06:53] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:06:54] [ENEMY] [Enemy4] Pursuing vulnerability sound at (951.7925, 1420.804), distance=703
[20:06:54] [ENEMY] [Enemy3] FLANKING started: target=(829.7388, 1730.473), side=left, pos=(652.5012, 955.5386)
[20:06:54] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[20:06:54] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[20:06:55] [ENEMY] [Enemy4] Pursuing vulnerability sound at (951.7925, 1420.804), distance=679
[20:06:56] [ENEMY] [Enemy4] Pursuing vulnerability sound at (728.4417, 1175.422), distance=61
[20:06:56] [ENEMY] [Enemy4] FLANKING started: target=(1023.014, 1741.318), side=left, pos=(686.7957, 1157.989)
[20:06:56] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[20:06:57] [ENEMY] [Enemy2] FLANKING timeout (5.0s), target=(1398.892, 1771.663), pos=(1330.027, 1614.121)
[20:06:57] [ENEMY] [Enemy2] State: FLANKING -> PURSUING
[20:06:57] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:06:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1216.321, 1696.008), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:57] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[20:06:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1216.3207, 1696.0077), shooter_id=6710987065372, bullet_pos=(1490.2834, 1672.1439)
[20:06:57] [INFO] [Bullet] Using shooter_position, distance=275,00015
[20:06:57] [INFO] [Bullet] Distance to wall: 275,00015 (18,725267% of viewport)
[20:06:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1216.321, 1696.008), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:57] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[20:06:58] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[20:06:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1216.3207, 1696.0077), shooter_id=6710987065372, bullet_pos=(1490.3971, 1673.4838)
[20:06:58] [INFO] [Bullet] Using shooter_position, distance=275,0004
[20:06:58] [INFO] [Bullet] Distance to wall: 275,0004 (18,725283% of viewport)
[20:06:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:58] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[20:06:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1216.321, 1696.008), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[20:06:58] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:06:58] [INFO] [LastChance] Threat detected: @Area2D@5262
[20:06:58] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:06:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1216.3207, 1696.0077), shooter_id=6710987065372, bullet_pos=(1488.8639, 1659.329)
[20:06:58] [INFO] [Bullet] Using shooter_position, distance=275,00024
[20:06:58] [INFO] [Bullet] Distance to wall: 275,00024 (18,725273% of viewport)
[20:06:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:58] [INFO] [Bullet] Starting wall penetration at (1488.8639, 1659.329)
[20:06:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1216.321, 1696.008), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[20:06:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,322035
[20:06:58] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:58] [INFO] [Bullet] Exiting penetration at (1535.1136, 1653.1047) after traveling 41,666668 pixels through wall
[20:06:58] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:58] [ENEMY] [Enemy2] Hit taken, health: 1/2
[20:06:58] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:58] [INFO] [ImpactEffects] spawn_blood_effect called at (1299.607, 1634.903), dir=(1, 0), lethal=false
[20:06:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:58] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:58] [INFO] [ImpactEffects] Blood effect spawned at (1299.607, 1634.903) (scale=1)
[20:06:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1216.321, 1699.6), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:06:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[20:06:58] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[20:06:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1216.3207, 1699.6003), shooter_id=6710987065372, bullet_pos=(1263.9552, 1665.9294)
[20:06:58] [INFO] [Bullet] Using shooter_position, distance=58,333324
[20:06:58] [INFO] [Bullet] Distance to wall: 58,333324 (3,9720232% of viewport)
[20:06:58] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:06:58] [INFO] [Bullet] Starting wall penetration at (1263.9552, 1665.9294)
[20:06:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 43,176918
[20:06:58] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:58] [INFO] [Bullet] Exiting penetration at (1295.2579, 1643.8029) after traveling 33,333332 pixels through wall
[20:06:58] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:58] [ENEMY] [Enemy2] Hit taken, health: 0/2
[20:06:58] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:58] [INFO] [ImpactEffects] spawn_blood_effect called at (1301.699, 1631.184), dir=(1, 0), lethal=true
[20:06:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:58] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:06:58] [INFO] [ImpactEffects] Blood effect spawned at (1301.699, 1631.184) (scale=1.5)
[20:06:58] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[20:06:58] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:06:58] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[20:06:58] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:06:58] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[20:06:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1222.789, 1712.7), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:06:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[20:06:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1222.7894, 1712.7003), shooter_id=6710987065372, bullet_pos=(1262.6165, 1670.0789)
[20:06:58] [INFO] [Bullet] Using shooter_position, distance=58,33336
[20:06:58] [INFO] [Bullet] Distance to wall: 58,33336 (3,9720259% of viewport)
[20:06:58] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:06:58] [INFO] [Bullet] Starting wall penetration at (1262.6165, 1670.0789)
[20:06:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 42,1655
[20:06:58] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:58] [INFO] [Bullet] Exiting penetration at (1288.7885, 1642.0704) after traveling 33,333336 pixels through wall
[20:06:58] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:06:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1240.758, 1733.16), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:06:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[20:06:58] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:06:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1265.592, 1758.015), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:06:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[20:06:58] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[20:06:58] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:06:58] [ENEMY] [Enemy6] State: IDLE -> COMBAT
[20:06:58] [ENEMY] [Enemy3] State: FLANKING -> COMBAT
[20:06:58] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:06:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(960.454, 1544.873), source=ENEMY (Enemy4), range=1469, listeners=8
[20:06:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=5
[20:06:58] [ENEMY] [Enemy3] Hit taken, health: 3/4
[20:06:58] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:58] [INFO] [ImpactEffects] spawn_blood_effect called at (1005.274, 1575.277), dir=(0.820248, 0.572008), lethal=false
[20:06:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:58] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:58] [INFO] [ImpactEffects] Blood effect spawned at (1005.274, 1575.277) (scale=1)
[20:06:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1290.482, 1782.905), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:06:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[20:06:58] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[20:06:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1946.17, 457.6254), source=ENEMY (Enemy6), range=1469, listeners=8
[20:06:58] [ENEMY] [Enemy5] Heard gunshot at (1946.17, 457.6254), source_type=1, intensity=0.03, distance=269
[20:06:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=6
[20:06:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1265.5917, 1758.0145), shooter_id=6710987065372, bullet_pos=(1397.7161, 1389.3053)
[20:06:58] [INFO] [Bullet] Using shooter_position, distance=391,66742
[20:06:58] [INFO] [Bullet] Distance to wall: 391,66742 (26,669355% of viewport)
[20:06:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1265.5917, 1758.0145), shooter_id=6710987065372, bullet_pos=(1399.4746, 1393.9858)
[20:06:58] [INFO] [Bullet] Using shooter_position, distance=387,86792
[20:06:58] [INFO] [Bullet] Distance to wall: 387,86792 (26,410639% of viewport)
[20:06:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:58] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:06:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1026.125, 1590.129), source=ENEMY (Enemy3), range=1469, listeners=8
[20:06:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=6
[20:06:58] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:06:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(988.9203, 1563.1), source=ENEMY (Enemy4), range=1469, listeners=8
[20:06:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=6
[20:06:58] [ENEMY] [Enemy2] Ragdoll activated
[20:06:58] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:06:58] [ENEMY] [Enemy3] Hit taken, health: 2/4
[20:06:58] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:58] [INFO] [ImpactEffects] spawn_blood_effect called at (1033.024, 1595.152), dir=(0.806526, 0.591198), lethal=false
[20:06:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:58] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:58] [INFO] [ImpactEffects] Blood effect spawned at (1033.024, 1595.152) (scale=1)
[20:06:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1290.4823, 1782.9052), shooter_id=6710987065372, bullet_pos=(1346.6233, 1395.2828)
[20:06:59] [INFO] [Bullet] Using shooter_position, distance=391,66678
[20:06:59] [INFO] [Bullet] Distance to wall: 391,66678 (26,669312% of viewport)
[20:06:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:59] [INFO] [LastChance] Threat detected: @Area2D@5293
[20:06:59] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:06:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:59] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1053.369, 1610.688), source=ENEMY (Enemy3), range=1469, listeners=8
[20:06:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=6
[20:06:59] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:06:59] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1016.107, 1583.734), source=ENEMY (Enemy4), range=1469, listeners=8
[20:06:59] [ENEMY] [Enemy3] Heard gunshot at (1016.107, 1583.734), source_type=1, intensity=0.84, distance=55
[20:06:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=6
[20:06:59] [ENEMY] [Enemy7] Memory: high confidence (0.89) - transitioning to PURSUING
[20:06:59] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[20:06:59] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[20:06:59] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[20:06:59] [ENEMY] [Enemy3] Hit taken, health: 1/4
[20:06:59] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:59] [INFO] [ImpactEffects] spawn_blood_effect called at (1060.068, 1615.974), dir=(0.779548, 0.626343), lethal=false
[20:06:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:59] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:59] [INFO] [ImpactEffects] Blood effect spawned at (1060.068, 1615.974) (scale=1)
[20:06:59] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:06:59] [INFO] [LastChance] Threat detected: @Area2D@5313
[20:06:59] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[20:06:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:59] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[20:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1614.296, 909.4295), source=ENEMY (Enemy7), range=1469, listeners=8
[20:06:59] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=5
[20:06:59] [ENEMY] [Enemy7] FLANKING started: target=(1514.972, 1805.059), side=right, pos=(1614.296, 913.353)
[20:06:59] [ENEMY] [Enemy7] State: PURSUING -> FLANKING
[20:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1062.169, 1610.176), source=ENEMY (Enemy3), range=1469, listeners=8
[20:06:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=6
[20:06:59] [ENEMY] [Enemy7] State: FLANKING -> COMBAT
[20:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1042.103, 1605.843), source=ENEMY (Enemy4), range=1469, listeners=8
[20:06:59] [ENEMY] [Enemy3] Heard gunshot at (1042.103, 1605.843), source_type=1, intensity=1.00, distance=19
[20:06:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=6
[20:06:59] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:06:59] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[20:06:59] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[20:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1614.066, 933.5037), source=ENEMY (Enemy7), range=1469, listeners=8
[20:06:59] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=5
[20:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1059.962, 1593.256), source=ENEMY (Enemy3), range=1469, listeners=8
[20:06:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=6
[20:06:59] [INFO] [LastChance] Threat detected: @Area2D@5322
[20:06:59] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[20:06:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1066.534, 1629.672), source=ENEMY (Enemy4), range=1469, listeners=8
[20:06:59] [ENEMY] [Enemy3] Heard gunshot at (1066.534, 1629.672), source_type=1, intensity=1.00, distance=43
[20:06:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=6
[20:06:59] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1325.241, 1909.308), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:06:59] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[20:06:59] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[20:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2072.598, 1561.876), source=ENEMY (Enemy9), range=1469, listeners=8
[20:06:59] [ENEMY] [Enemy8] Heard gunshot at (2072.598, 1561.876), source_type=1, intensity=0.06, distance=206
[20:06:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=5
[20:06:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1101.238, 1659.053), shooter_id=6708168494386, bullet_pos=(1621.423, 2076.009)
[20:06:59] [INFO] [Bullet] Using shooter_position, distance=666.667175292969
[20:06:59] [INFO] [Bullet] Distance to wall: 666.667175292969 (45.3945938585371% of viewport)
[20:06:59] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[20:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1614.066, 949.1467), source=ENEMY (Enemy7), range=1469, listeners=8
[20:06:59] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=5
[20:06:59] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[20:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1067.514, 1585.373), source=ENEMY (Enemy3), range=1469, listeners=8
[20:06:59] [ENEMY] [Enemy4] Heard gunshot at (1067.514, 1585.373), source_type=1, intensity=0.59, distance=65
[20:06:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=6
[20:06:59] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[20:06:59] [ENEMY] [Enemy6] State: COMBAT -> RETREATING
[20:06:59] [INFO] [LastChance] Threat detected: @Area2D@5328
[20:06:59] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[20:06:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:06:59] [ENEMY] [Enemy4] Hit taken, health: 1/2
[20:06:59] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:59] [INFO] [ImpactEffects] spawn_blood_effect called at (1087.013, 1651.411), dir=(0.71774, 0.696311), lethal=false
[20:06:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:59] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:06:59] [INFO] [ImpactEffects] Blood effect spawned at (1087.013, 1651.411) (scale=1)
[20:06:59] [ENEMY] [Enemy6] State: RETREATING -> IN_COVER
[20:06:59] [ENEMY] [Enemy5] State: COMBAT -> PURSUING
[20:06:59] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[20:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1343.374, 1936.997), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:06:59] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[20:06:59] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[20:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2038.882, 1565.127), source=ENEMY (Enemy9), range=1469, listeners=8
[20:06:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=5
[20:06:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1086.487, 1657.336), shooter_id=6708453707426, bullet_pos=(1527.777, 2063.863)
[20:06:59] [INFO] [Bullet] Using shooter_position, distance=600.000915527344
[20:06:59] [INFO] [Bullet] Distance to wall: 600.000915527344 (40.8551656426536% of viewport)
[20:06:59] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:06:59] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:06:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1240.7578, 1733.1603), shooter_id=6710987065372, bullet_pos=(2248.524, 54.03042)
[20:06:59] [INFO] [Bullet] Using shooter_position, distance=1958,3334
[20:06:59] [INFO] [Bullet] Distance to wall: 1958,3334 (133,34653% of viewport)
[20:06:59] [ENEMY] [Enemy4] Hit taken, health: 0/2
[20:06:59] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:06:59] [INFO] [ImpactEffects] spawn_blood_effect called at (1081.661, 1637.47), dir=(1, 0), lethal=true
[20:06:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:06:59] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:06:59] [INFO] [ImpactEffects] Wall found for blood splatter at (1140, 1637.47) (dist=58 px)
[20:06:59] [INFO] [ImpactEffects] Blood effect spawned at (1081.661, 1637.47) (scale=1.5)
[20:06:59] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[20:06:59] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[20:06:59] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 7)
[20:06:59] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:06:59] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[20:06:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1106.027, 1662.206), shooter_id=6708168494386, bullet_pos=(1721.122, 2061.501)
[20:06:59] [INFO] [Bullet] Using shooter_position, distance=733.333801269531
[20:06:59] [INFO] [Bullet] Distance to wall: 733.333801269531 (49.9340470103968% of viewport)
[20:06:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1602.304, 1016.171), shooter_id=6709309343075, bullet_pos=(1488.463, 1399.629)
[20:06:59] [INFO] [Bullet] Using shooter_position, distance=400
[20:06:59] [INFO] [Bullet] Distance to wall: 400 (27.2367355351422% of viewport)
[20:06:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:06:59] [INFO] [Bullet] Starting wall penetration at (1488.463, 1399.629)
[20:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1368.265, 1961.888), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:06:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[20:06:59] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36.7080001831055
[20:06:59] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:59] [INFO] [Bullet] Exiting penetration at (1477.553, 1436.377) after traveling 33.3333320617676 pixels through wall
[20:06:59] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:06:59] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[20:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2005.431, 1564.065), source=ENEMY (Enemy9), range=1469, listeners=7
[20:06:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=4
[20:06:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1098.978, 1649.008), shooter_id=6708168494386, bullet_pos=(1652.148, 2077.965)
[20:06:59] [INFO] [Bullet] Using shooter_position, distance=700.000732421875
[20:06:59] [INFO] [Bullet] Distance to wall: 700.000732421875 (47.6643370584511% of viewport)
[20:06:59] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[20:06:59] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[20:06:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1923.068, 521.6326), shooter_id=6709024131790, bullet_pos=(1151.618, 2073.83)
[20:06:59] [INFO] [Bullet] Using shooter_position, distance=1733.33569335938
[20:06:59] [INFO] [Bullet] Distance to wall: 1733.33569335938 (118.026014684129% of viewport)
[20:06:59] [INFO] [Bullet] Distance-based penetration chance: 26.3947970631742%
[20:06:59] [INFO] [Bullet] Starting wall penetration at (1151.618, 2073.83)
[20:06:59] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13.5765085220337
[20:06:59] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:59] [INFO] [Bullet] Exiting penetration at (1134.557, 2108.158) after traveling 33.3333320617676 pixels through wall
[20:06:59] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:06:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1601.413, 976.2474), shooter_id=6709309343075, bullet_pos=(1250.691, 2088.95)
[20:06:59] [INFO] [Bullet] Using shooter_position, distance=1166.66748046875
[20:06:59] [INFO] [Bullet] Distance to wall: 1166.66748046875 (79.440534057445% of viewport)
[20:06:59] [INFO] [Bullet] Distance-based penetration chance: 53.9860435996476%
[20:06:59] [INFO] [Bullet] Starting wall penetration at (1250.691, 2088.95)
[20:06:59] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30.9414501190186
[20:06:59] [INFO] [Bullet] Body exited signal received for penetrating body
[20:06:59] [INFO] [Bullet] Exiting penetration at (1239.167, 2125.51) after traveling 33.3333320617676 pixels through wall
[20:06:59] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1391.875, 1986.778), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:06:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[20:06:59] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[20:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1972.385, 1564.065), source=ENEMY (Enemy9), range=1469, listeners=7
[20:06:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=4
[20:06:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1343.3741, 1936.9971), shooter_id=6710987065372, bullet_pos=(906.94226, 1489.6132)
[20:06:59] [INFO] [Bullet] Using shooter_position, distance=625,0001
[20:06:59] [INFO] [Bullet] Distance to wall: 625,0001 (42,55741% of viewport)
[20:06:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1240.7578, 1733.1603), shooter_id=6710987065372, bullet_pos=(2461.6853, 459.77844)
[20:06:59] [INFO] [Bullet] Using shooter_position, distance=1764,1329
[20:06:59] [INFO] [Bullet] Distance to wall: 1764,1329 (120,12306% of viewport)
[20:06:59] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[20:06:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1601.435, 1000.37), shooter_id=6709309343075, bullet_pos=(1264.805, 2082.555)
[20:06:59] [INFO] [Bullet] Using shooter_position, distance=1133.33325195313
[20:06:59] [INFO] [Bullet] Distance to wall: 1133.33325195313 (77.1707451415748% of viewport)
[20:06:59] [INFO] [Bullet] Distance-based penetration chance: 56.6341306681628%
[20:06:59] [INFO] [Bullet] Penetration failed (distance roll)
[20:06:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1343.3741, 1936.9971), shooter_id=6710987065372, bullet_pos=(1020.56555, 1396.8721)
[20:06:59] [INFO] [Bullet] Using shooter_position, distance=629,2379
[20:06:59] [INFO] [Bullet] Distance to wall: 629,2379 (42,845966% of viewport)
[20:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1404.302, 2010.239), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:06:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=5
[20:06:59] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[20:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1949.152, 1575.396), source=ENEMY (Enemy9), range=1469, listeners=7
[20:06:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=4
[20:06:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1368.2648, 1961.8877), shooter_id=6710987065372, bullet_pos=(899.0364, 1500.1206)
[20:06:59] [INFO] [Bullet] Using shooter_position, distance=658,33435
[20:06:59] [INFO] [Bullet] Distance to wall: 658,33435 (44,827198% of viewport)
[20:06:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2014.352, 1597.062), shooter_id=6709879769909, bullet_pos=(983.5024, 2068.007)
[20:06:59] [INFO] [Bullet] Using shooter_position, distance=1133.3310546875
[20:06:59] [INFO] [Bullet] Distance to wall: 1133.3310546875 (77.1705955257179% of viewport)
[20:07:00] [ENEMY] [Enemy3] Hit taken, health: 0/4
[20:07:00] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:07:00] [INFO] [ImpactEffects] spawn_blood_effect called at (1101.563, 1587.761), dir=(1, 0), lethal=true
[20:07:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:07:00] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:07:00] [INFO] [ImpactEffects] Blood effect spawned at (1101.563, 1587.761) (scale=1.5)
[20:07:00] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[20:07:00] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[20:07:00] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 6)
[20:07:00] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:07:00] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[20:07:00] [ENEMY] [Enemy8] State: COMBAT -> PURSUING
[20:07:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1982.687, 1603.502), shooter_id=6709879769909, bullet_pos=(1097.672, 2069.062)
[20:07:00] [INFO] [Bullet] Using shooter_position, distance=999.998718261719
[20:07:00] [INFO] [Bullet] Distance to wall: 999.998718261719 (68.0917515619389% of viewport)
[20:07:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1368.2648, 1961.8877), shooter_id=6710987065372, bullet_pos=(993.0659, 1387.5614)
[20:07:00] [INFO] [Bullet] Using shooter_position, distance=686,02106
[20:07:00] [INFO] [Bullet] Distance to wall: 686,02106 (46,712437% of viewport)
[20:07:00] [INFO] [Bullet] Distance-based penetration chance: 92,16882%
[20:07:00] [INFO] [Bullet] Starting wall penetration at (993.0659, 1387.5614)
[20:07:00] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[20:07:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1929.036, 1601.605), source=ENEMY (Enemy9), range=1469, listeners=6
[20:07:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=4
[20:07:00] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:07:00] [INFO] [Bullet] Exiting penetration at (1014.4363, 1361.9797) after traveling 28,333336 pixels through wall
[20:07:00] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[20:07:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1106.027, 1662.206), shooter_id=6708168494386, bullet_pos=(2463.114, 1636.684)
[20:07:00] [INFO] [Bullet] Using shooter_position, distance=1357.3271484375
[20:07:00] [INFO] [Bullet] Distance to wall: 1357.3271484375 (92.4229014416521% of viewport)
[20:07:00] [INFO] [LastChance] Threat detected: @Area2D@5367
[20:07:00] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:07:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1951.934, 1606.12), shooter_id=6709879769909, bullet_pos=(1213.685, 2060.102)
[20:07:00] [INFO] [Bullet] Using shooter_position, distance=866.665832519531
[20:07:00] [INFO] [Bullet] Distance to wall: 866.665832519531 (59.0128701941957% of viewport)
[20:07:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1404.3025, 2010.2391), shooter_id=6710987065372, bullet_pos=(1162.4198, 1660.7861)
[20:07:00] [INFO] [Bullet] Using shooter_position, distance=424,99957
[20:07:00] [INFO] [Bullet] Distance to wall: 424,99957 (28,939003% of viewport)
[20:07:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:00] [ENEMY] [Enemy2] Death animation completed
[20:07:00] [ENEMY] [Enemy4] Ragdoll activated
[20:07:00] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:07:00] [INFO] [LastChance] Threat detected: @Area2D@5377
[20:07:00] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:07:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:00] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[20:07:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1902.446, 1623.008), source=ENEMY (Enemy9), range=1469, listeners=6
[20:07:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=4
[20:07:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1922.018, 1609.822), shooter_id=6709879769909, bullet_pos=(1272.126, 2076.34)
[20:07:00] [INFO] [Bullet] Using shooter_position, distance=799.999450683594
[20:07:00] [INFO] [Bullet] Distance to wall: 799.999450683594 (54.4734336663201% of viewport)
[20:07:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2014.352, 1597.062), shooter_id=6709879769909, bullet_pos=(525.9734, 1902.142)
[20:07:00] [INFO] [Bullet] Using shooter_position, distance=1519.32336425781
[20:07:00] [INFO] [Bullet] Distance to wall: 1519.32336425781 (103.453521661631% of viewport)
[20:07:00] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:07:00] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[20:07:00] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:07:00] [INFO] [LastChance] Threat detected: @Area2D@5387
[20:07:00] [INFO] [LastChance] Triggering last chance effect!
[20:07:00] [INFO] [LastChance] Starting last chance effect:
[20:07:00] [INFO] [LastChance]   - Time will be frozen (except player)
[20:07:00] [INFO] [LastChance]   - Duration: 6.0 real seconds
[20:07:00] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:07:00] [INFO] [LastChance]   - Brightness: 0.60
[20:07:00] [INFO] [LastChance] Pushed bullet @Area2D@5387 from distance 144.6 to 200.0
[20:07:00] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[20:07:00] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:07:00] [INFO] [LastChance] Skipping player node: Player
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: Casing
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5194
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5196
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5198
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5200
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5202
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5204
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5210
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5229
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5231
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5233
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5235
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5261
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5263
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5265
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5268
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5269
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5272
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5274
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5277
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5280
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5283
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5285
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5294
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5296
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5314
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5316
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5320
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5323
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5326
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5329
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5332
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5334
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5338
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5345
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5347
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5357
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5359
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5366
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5368
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5376
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5378
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5388
[20:07:00] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5407
[20:07:00] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:07:00] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:07:00] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:07:01] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:07:01] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:07:01] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:07:01] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:07:01] [INFO] [LastChance] Ending last chance effect
[20:07:01] [INFO] [LastChance] All process modes restored
[20:07:01] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:07:01] [ENEMY] [Enemy1] Death animation component initialized
[20:07:01] [ENEMY] [Enemy2] Death animation component initialized
[20:07:01] [ENEMY] [Enemy3] Death animation component initialized
[20:07:01] [ENEMY] [Enemy4] Death animation component initialized
[20:07:01] [ENEMY] [Enemy5] Death animation component initialized
[20:07:01] [ENEMY] [Enemy6] Death animation component initialized
[20:07:01] [ENEMY] [Enemy7] Death animation component initialized
[20:07:01] [ENEMY] [Enemy8] Death animation component initialized
[20:07:01] [ENEMY] [Enemy9] Death animation component initialized
[20:07:01] [ENEMY] [Enemy10] Death animation component initialized
[20:07:01] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:07:01] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:07:01] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:07:01] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:07:01] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:07:01] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:07:01] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:07:01] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[20:07:01] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:07:01] [INFO] [ScoreManager] Level started with 10 enemies
[20:07:01] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 7)
[20:07:01] [ENEMY] [Enemy1] Registered as sound listener
[20:07:01] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[20:07:01] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 8)
[20:07:01] [ENEMY] [Enemy2] Registered as sound listener
[20:07:01] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[20:07:01] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 9)
[20:07:01] [ENEMY] [Enemy3] Registered as sound listener
[20:07:01] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[20:07:01] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 10)
[20:07:01] [ENEMY] [Enemy4] Registered as sound listener
[20:07:01] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[20:07:01] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 11)
[20:07:01] [ENEMY] [Enemy5] Registered as sound listener
[20:07:01] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[20:07:01] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 12)
[20:07:01] [ENEMY] [Enemy6] Registered as sound listener
[20:07:01] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[20:07:01] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 13)
[20:07:01] [ENEMY] [Enemy7] Registered as sound listener
[20:07:01] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[20:07:01] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 14)
[20:07:01] [ENEMY] [Enemy8] Registered as sound listener
[20:07:01] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[20:07:01] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 15)
[20:07:01] [ENEMY] [Enemy9] Registered as sound listener
[20:07:01] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[20:07:01] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 16)
[20:07:01] [ENEMY] [Enemy10] Registered as sound listener
[20:07:01] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[20:07:01] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:07:01] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:07:01] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:07:01] [INFO] [LastChance] Found player: Player
[20:07:01] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:07:01] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:07:01] [INFO] [LastChance] Connected to player Died signal (C#)
[20:07:01] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:07:01] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:07:01] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:07:01] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:01] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=16
[20:07:01] [INFO] [SoundPropagation] Cleaned up 6 invalid listeners
[20:07:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[20:07:01] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[20:07:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:01] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[20:07:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:01] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[20:07:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:02] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.403, 1452.58), source=ENEMY (Enemy10), range=1469, listeners=10
[20:07:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=7390447537690, bullet_pos=(53.14801, 921.1365)
[20:07:02] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[20:07:02] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[20:07:02] [ENEMY] [Enemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[20:07:02] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[20:07:02] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=7390447537690, bullet_pos=(46.85162, 857.2495)
[20:07:02] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[20:07:02] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[20:07:02] [INFO] [Bullet] Distance-based penetration chance: 50.676007493934%
[20:07:02] [INFO] [Bullet] Starting wall penetration at (46.85162, 857.2495)
[20:07:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.2577056884766
[20:07:02] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:02] [INFO] [Bullet] Exiting penetration at (7.040176, 832.9015) after traveling 41.6666679382324 pixels through wall
[20:07:02] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:07:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=7390447537690, bullet_pos=(422.9684, 701.7446)
[20:07:02] [INFO] [Bullet] Using shooter_position, distance=1059.2587890625
[20:07:02] [INFO] [Bullet] Distance to wall: 1059.2587890625 (72.1268787524256% of viewport)
[20:07:02] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=7390447537690, bullet_pos=(43.06916, 793.3154)
[20:07:02] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[20:07:02] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[20:07:02] [INFO] [LastChance] Threat detected: @Area2D@5673
[20:07:02] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:07:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=7390447537690, bullet_pos=(149.3334, 692.2261)
[20:07:02] [INFO] [Bullet] Using shooter_position, distance=1184.89489746094
[20:07:02] [INFO] [Bullet] Distance to wall: 1184.89489746094 (80.6816723977074% of viewport)
[20:07:02] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=7390447537690, bullet_pos=(41.67921, 729.5751)
[20:07:02] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[20:07:02] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[20:07:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=7390447537690, bullet_pos=(693.5356, 844.7654)
[20:07:02] [INFO] [Bullet] Using shooter_position, distance=783.346923828125
[20:07:02] [INFO] [Bullet] Distance to wall: 783.346923828125 (53.3395324914345% of viewport)
[20:07:02] [INFO] [Bullet] Distance-based penetration chance: 84.4372120933264%
[20:07:02] [INFO] [Bullet] Starting wall penetration at (693.5356, 844.7654)
[20:07:02] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:07:02] [INFO] [Bullet] Exiting penetration at (724.5707, 861.1704) after traveling 30.1041679382324 pixels through wall
[20:07:02] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[20:07:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=7390447537690, bullet_pos=(106.788, 690.6966)
[20:07:02] [INFO] [Bullet] Using shooter_position, distance=1180.69592285156
[20:07:02] [INFO] [Bullet] Distance to wall: 1180.69592285156 (80.3957564953216% of viewport)
[20:07:02] [INFO] [LastChance] Threat detected: @Area2D@5669
[20:07:02] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:07:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=7390447537690, bullet_pos=(54.72297, 651.4365)
[20:07:02] [INFO] [Bullet] Using shooter_position, distance=1245.84692382813
[20:07:02] [INFO] [Bullet] Distance to wall: 1245.84692382813 (84.8320079539426% of viewport)
[20:07:02] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:02] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:07:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.3735, 1417.039), shooter_id=7390447537690, bullet_pos=(38.07487, 671.9886)
[20:07:02] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[20:07:02] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[20:07:02] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[20:07:02] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:07:02] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[20:07:02] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:07:02] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:07:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(348.0741, 809.9368), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:02] [ENEMY] [Enemy1] Heard gunshot at (348.0741, 809.9368), source_type=0, intensity=0.01, distance=462
[20:07:02] [ENEMY] [Enemy2] Heard gunshot at (348.0741, 809.9368), source_type=0, intensity=0.04, distance=265
[20:07:02] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:07:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(348.07407, 809.9368), shooter_id=7391269621084, bullet_pos=(497.7073, 799.45325)
[20:07:02] [INFO] [Bullet] Using shooter_position, distance=150,00005
[20:07:02] [INFO] [Bullet] Distance to wall: 150,00005 (10,2137785% of viewport)
[20:07:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:02] [INFO] [Bullet] Starting wall penetration at (497.7073, 799.45325)
[20:07:02] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:07:02] [INFO] [Bullet] Exiting penetration at (544.2598, 796.1917) after traveling 41,666668 pixels through wall
[20:07:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.3735, 1417.039), shooter_id=7390447537690, bullet_pos=(522.9534, 369.1758)
[20:07:02] [INFO] [Bullet] Using shooter_position, distance=1146.98120117188
[20:07:02] [INFO] [Bullet] Distance to wall: 1146.98120117188 (78.1000591002451% of viewport)
[20:07:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(365.1776, 778.742), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:02] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:07:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=7390447537690, bullet_pos=(513.9352, 414.4206)
[20:07:02] [INFO] [Bullet] Using shooter_position, distance=1144.115234375
[20:07:02] [INFO] [Bullet] Distance to wall: 1144.115234375 (77.9049101509977% of viewport)
[20:07:02] [INFO] [Bullet] Distance-based penetration chance: 55.777604823836%
[20:07:02] [INFO] [Bullet] Penetration failed (distance roll)
[20:07:02] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[20:07:02] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[20:07:02] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:07:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.3735, 1417.039), shooter_id=7390447537690, bullet_pos=(342.33, 251.217)
[20:07:02] [INFO] [Bullet] Using shooter_position, distance=1333.34436035156
[20:07:02] [INFO] [Bullet] Distance to wall: 1333.34436035156 (90.789869300422% of viewport)
[20:07:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.5347, 759.2941), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:02] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:07:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(365.17755, 778.742), shooter_id=7391269621084, bullet_pos=(929.8324, 731.03577)
[20:07:03] [INFO] [Bullet] Using shooter_position, distance=566,66656
[20:07:03] [INFO] [Bullet] Distance to wall: 566,66656 (38,58537% of viewport)
[20:07:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:03] [INFO] [Bullet] Starting wall penetration at (929.8324, 731.03577)
[20:07:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(427.9465, 753.9042), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:03] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:07:03] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40,47707
[20:07:03] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:03] [INFO] [Bullet] Exiting penetration at (976.3334, 727.107) after traveling 41,66667 pixels through wall
[20:07:03] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:03] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:07:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(392.53473, 759.2941), shooter_id=7391269621084, bullet_pos=(917.5126, 764.15137)
[20:07:03] [INFO] [Bullet] Using shooter_position, distance=525,0003
[20:07:03] [INFO] [Bullet] Distance to wall: 525,0003 (35,748238% of viewport)
[20:07:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:03] [INFO] [Bullet] Starting wall penetration at (917.5126, 764.15137)
[20:07:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.3735, 1417.039), shooter_id=7390447537690, bullet_pos=(622.1715, 62.28033)
[20:07:03] [INFO] [Bullet] Using shooter_position, distance=1403.6416015625
[20:07:03] [INFO] [Bullet] Distance to wall: 1403.6416015625 (95.576537719703% of viewport)
[20:07:03] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,178452
[20:07:03] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:03] [INFO] [Bullet] Exiting penetration at (964.17725, 764.5831) after traveling 41,666668 pixels through wall
[20:07:03] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(466.4465, 753.9042), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:03] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:07:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(646.4754, 914.1066), source=ENEMY (Enemy4), range=1469, listeners=10
[20:07:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:07:03] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:07:03] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:07:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(595.2115, 808.163), source=ENEMY (Enemy3), range=1469, listeners=10
[20:07:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:07:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(591.8188, 872.8099), shooter_id=7388736261752, bullet_pos=(520.7838, 829.2383)
[20:07:03] [INFO] [Bullet] Using shooter_position, distance=83.3333969116211
[20:07:03] [INFO] [Bullet] Distance to wall: 83.3333969116211 (5.67432423231714% of viewport)
[20:07:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:03] [INFO] [Bullet] Starting wall penetration at (520.7838, 829.2383)
[20:07:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(427.9465, 753.90424), shooter_id=7391269621084, bullet_pos=(911.1497, 765.1254)
[20:07:03] [INFO] [Bullet] Using shooter_position, distance=483,3335
[20:07:03] [INFO] [Bullet] Distance to wall: 483,3335 (32,911068% of viewport)
[20:07:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:03] [INFO] [Bullet] Starting wall penetration at (911.1497, 765.1254)
[20:07:03] [INFO] [LastChance] Threat detected: @Area2D@5699
[20:07:03] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:07:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:03] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:07:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(646.4754, 914.1066), source=ENEMY (Enemy4), range=1469, listeners=10
[20:07:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:07:03] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,809711
[20:07:03] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22.2845249176025
[20:07:03] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:07:03] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[20:07:03] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:07:03] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:03] [INFO] [Bullet] Exiting penetration at (957.80383, 766.20886) after traveling 41,666668 pixels through wall
[20:07:03] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:03] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:03] [INFO] [Bullet] Exiting penetration at (481.0042, 804.8383) after traveling 41.6666717529297 pixels through wall
[20:07:03] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:07:03] [INFO] [LastChance] Threat detected: @Area2D@5703
[20:07:03] [INFO] [LastChance] Triggering last chance effect!
[20:07:03] [INFO] [LastChance] Starting last chance effect:
[20:07:03] [INFO] [LastChance]   - Time will be frozen (except player)
[20:07:03] [INFO] [LastChance]   - Duration: 6.0 real seconds
[20:07:03] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:07:03] [INFO] [LastChance]   - Brightness: 0.60
[20:07:03] [INFO] [LastChance] Pushed bullet @Area2D@5703 from distance 113.6 to 200.0
[20:07:03] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[20:07:03] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:07:03] [INFO] [LastChance] Skipping player node: Player
[20:07:03] [INFO] [LastChance] Froze existing bullet casing: Casing
[20:07:03] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5668
[20:07:03] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5670
[20:07:03] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5672
[20:07:03] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5674
[20:07:03] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5684
[20:07:03] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5687
[20:07:03] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5691
[20:07:03] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5694
[20:07:03] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5697
[20:07:03] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5700
[20:07:03] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5704
[20:07:03] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:07:03] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:07:03] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:07:03] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:07:03] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:07:03] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:07:03] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:07:03] [INFO] [LastChance] Ending last chance effect
[20:07:03] [INFO] [LastChance] All process modes restored
[20:07:03] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:07:03] [ENEMY] [Enemy1] Death animation component initialized
[20:07:03] [ENEMY] [Enemy2] Death animation component initialized
[20:07:03] [ENEMY] [Enemy3] Death animation component initialized
[20:07:03] [ENEMY] [Enemy4] Death animation component initialized
[20:07:03] [ENEMY] [Enemy5] Death animation component initialized
[20:07:03] [ENEMY] [Enemy6] Death animation component initialized
[20:07:03] [ENEMY] [Enemy7] Death animation component initialized
[20:07:03] [ENEMY] [Enemy8] Death animation component initialized
[20:07:03] [ENEMY] [Enemy9] Death animation component initialized
[20:07:03] [ENEMY] [Enemy10] Death animation component initialized
[20:07:03] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:07:03] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:07:03] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:07:03] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:07:03] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:07:03] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:07:03] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:07:03] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[20:07:03] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:07:03] [INFO] [ScoreManager] Level started with 10 enemies
[20:07:03] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:07:03] [ENEMY] [Enemy1] Registered as sound listener
[20:07:03] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:07:03] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:07:03] [ENEMY] [Enemy2] Registered as sound listener
[20:07:03] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[20:07:03] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:07:03] [ENEMY] [Enemy3] Registered as sound listener
[20:07:03] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[20:07:03] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:07:03] [ENEMY] [Enemy4] Registered as sound listener
[20:07:03] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[20:07:03] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:07:03] [ENEMY] [Enemy5] Registered as sound listener
[20:07:03] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[20:07:03] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:07:03] [ENEMY] [Enemy6] Registered as sound listener
[20:07:03] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[20:07:03] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:07:03] [ENEMY] [Enemy7] Registered as sound listener
[20:07:03] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[20:07:03] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:07:03] [ENEMY] [Enemy8] Registered as sound listener
[20:07:03] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[20:07:03] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:07:03] [ENEMY] [Enemy9] Registered as sound listener
[20:07:03] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[20:07:03] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:07:03] [ENEMY] [Enemy10] Registered as sound listener
[20:07:03] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[20:07:03] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:07:03] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:07:03] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:07:03] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:07:03] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:07:03] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:07:03] [INFO] [LastChance] Found player: Player
[20:07:03] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:07:03] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:07:03] [INFO] [LastChance] Connected to player Died signal (C#)
[20:07:04] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:07:04] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1110.656, 1502.2), source=ENEMY (Enemy10), range=1469, listeners=20
[20:07:04] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:07:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:04] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.297, 1483.583), source=ENEMY (Enemy10), range=1469, listeners=10
[20:07:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:04] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1046.57, 1463.911), source=ENEMY (Enemy10), range=1469, listeners=10
[20:07:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:04] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1015.64, 1443.01), source=ENEMY (Enemy10), range=1469, listeners=10
[20:07:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.902, 1475.884), shooter_id=7549680094617, bullet_pos=(67.1395, 924.7672)
[20:07:04] [INFO] [Bullet] Using shooter_position, distance=1124.99975585938
[20:07:04] [INFO] [Bullet] Distance to wall: 1124.99975585938 (76.6033020686032% of viewport)
[20:07:04] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(985.4509, 1424.066), source=ENEMY (Enemy10), range=1469, listeners=10
[20:07:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1016.286, 1455.56), shooter_id=7549680094617, bullet_pos=(50.96722, 877.8195)
[20:07:04] [INFO] [Bullet] Using shooter_position, distance=1125.00036621094
[20:07:04] [INFO] [Bullet] Distance to wall: 1125.00036621094 (76.6033436285635% of viewport)
[20:07:04] [INFO] [Bullet] Distance-based penetration chance: 57.2960991000093%
[20:07:04] [INFO] [Bullet] Penetration failed (distance roll)
[20:07:04] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(954.3972, 1407.439), source=ENEMY (Enemy10), range=1469, listeners=10
[20:07:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:07:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:07:05] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:07:05] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:07:05] [ENEMY] [Enemy1] Death animation component initialized
[20:07:05] [ENEMY] [Enemy2] Death animation component initialized
[20:07:05] [ENEMY] [Enemy3] Death animation component initialized
[20:07:05] [ENEMY] [Enemy4] Death animation component initialized
[20:07:05] [ENEMY] [Enemy5] Death animation component initialized
[20:07:05] [ENEMY] [Enemy6] Death animation component initialized
[20:07:05] [ENEMY] [Enemy7] Death animation component initialized
[20:07:05] [ENEMY] [Enemy8] Death animation component initialized
[20:07:05] [ENEMY] [Enemy9] Death animation component initialized
[20:07:05] [ENEMY] [Enemy10] Death animation component initialized
[20:07:05] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:07:05] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:07:05] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:07:05] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:07:05] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:07:05] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:07:05] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:07:05] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[20:07:05] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:07:05] [INFO] [ScoreManager] Level started with 10 enemies
[20:07:05] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:07:05] [ENEMY] [Enemy1] Registered as sound listener
[20:07:05] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[20:07:05] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:07:05] [ENEMY] [Enemy2] Registered as sound listener
[20:07:05] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[20:07:05] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:07:05] [ENEMY] [Enemy3] Registered as sound listener
[20:07:05] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[20:07:05] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:07:05] [ENEMY] [Enemy4] Registered as sound listener
[20:07:05] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[20:07:05] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:07:05] [ENEMY] [Enemy5] Registered as sound listener
[20:07:05] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[20:07:05] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:07:05] [ENEMY] [Enemy6] Registered as sound listener
[20:07:05] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[20:07:05] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:07:05] [ENEMY] [Enemy7] Registered as sound listener
[20:07:05] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[20:07:05] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:07:05] [ENEMY] [Enemy8] Registered as sound listener
[20:07:05] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[20:07:05] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:07:05] [ENEMY] [Enemy9] Registered as sound listener
[20:07:05] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[20:07:05] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:07:05] [ENEMY] [Enemy10] Registered as sound listener
[20:07:05] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[20:07:05] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:07:05] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:07:05] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:07:05] [INFO] [LastChance] Found player: Player
[20:07:05] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:07:05] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:07:05] [INFO] [LastChance] Connected to player Died signal (C#)
[20:07:05] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:07:05] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:07:05] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:07:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1152.516, 1570.827), source=ENEMY (Enemy10), range=1469, listeners=20
[20:07:09] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:07:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[20:07:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1126.211, 1545.112), source=ENEMY (Enemy10), range=1469, listeners=10
[20:07:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1097.981, 1520.681), source=ENEMY (Enemy10), range=1469, listeners=10
[20:07:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:09] [INFO] [LastChance] Threat detected: Bullet
[20:07:09] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:07:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1069.752, 1496.249), source=ENEMY (Enemy10), range=1469, listeners=10
[20:07:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:09] [INFO] [LastChance] Threat detected: @Area2D@6220
[20:07:09] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:07:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:09] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:07:09] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:07:09] [INFO] [LastChance] Threat detected: @Area2D@6222
[20:07:09] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:07:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1041.523, 1471.818), source=ENEMY (Enemy10), range=1469, listeners=10
[20:07:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:09] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:07:09] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[20:07:09] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:07:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1095.434, 1533.782), shooter_id=7654135040632, bullet_pos=(99.67506, 711.0638)
[20:07:09] [INFO] [Bullet] Using shooter_position, distance=1291.66638183594
[20:07:09] [INFO] [Bullet] Distance to wall: 1291.66638183594 (87.9519391042485% of viewport)
[20:07:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1095.434, 1533.782), shooter_id=7654135040632, bullet_pos=(43.54462, 762.0547)
[20:07:09] [INFO] [Bullet] Using shooter_position, distance=1304.62072753906
[20:07:09] [INFO] [Bullet] Distance to wall: 1304.62072753906 (88.8340243241155% of viewport)
[20:07:09] [INFO] [LastChance] Threat detected: @Area2D@6224
[20:07:09] [INFO] [LastChance] Triggering last chance effect!
[20:07:09] [INFO] [LastChance] Starting last chance effect:
[20:07:09] [INFO] [LastChance]   - Time will be frozen (except player)
[20:07:09] [INFO] [LastChance]   - Duration: 6.0 real seconds
[20:07:09] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:07:09] [INFO] [LastChance]   - Brightness: 0.60
[20:07:09] [INFO] [LastChance] Pushed bullet @Area2D@6224 from distance 129.7 to 200.0
[20:07:09] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[20:07:09] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:07:09] [INFO] [LastChance] Skipping player node: Player
[20:07:09] [INFO] [LastChance] Froze existing bullet casing: Casing
[20:07:09] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6221
[20:07:09] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6223
[20:07:09] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6225
[20:07:09] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6227
[20:07:09] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:07:09] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:07:09] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:07:10] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:07:10] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:07:10] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:07:10] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:07:10] [INFO] [LastChance] Ending last chance effect
[20:07:10] [INFO] [LastChance] All process modes restored
[20:07:10] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:07:10] [ENEMY] [Enemy1] Death animation component initialized
[20:07:10] [ENEMY] [Enemy2] Death animation component initialized
[20:07:10] [ENEMY] [Enemy3] Death animation component initialized
[20:07:10] [ENEMY] [Enemy4] Death animation component initialized
[20:07:10] [ENEMY] [Enemy5] Death animation component initialized
[20:07:10] [ENEMY] [Enemy6] Death animation component initialized
[20:07:10] [ENEMY] [Enemy7] Death animation component initialized
[20:07:10] [ENEMY] [Enemy8] Death animation component initialized
[20:07:10] [ENEMY] [Enemy9] Death animation component initialized
[20:07:10] [ENEMY] [Enemy10] Death animation component initialized
[20:07:10] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:07:10] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:07:10] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:07:10] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:07:10] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:07:10] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:07:10] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:07:10] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[20:07:10] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:07:10] [INFO] [ScoreManager] Level started with 10 enemies
[20:07:10] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:07:10] [ENEMY] [Enemy1] Registered as sound listener
[20:07:10] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:07:10] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:07:10] [ENEMY] [Enemy2] Registered as sound listener
[20:07:10] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[20:07:10] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:07:10] [ENEMY] [Enemy3] Registered as sound listener
[20:07:10] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[20:07:10] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:07:10] [ENEMY] [Enemy4] Registered as sound listener
[20:07:10] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[20:07:10] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:07:10] [ENEMY] [Enemy5] Registered as sound listener
[20:07:10] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[20:07:10] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:07:10] [ENEMY] [Enemy6] Registered as sound listener
[20:07:10] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[20:07:10] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:07:10] [ENEMY] [Enemy7] Registered as sound listener
[20:07:10] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[20:07:10] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:07:10] [ENEMY] [Enemy8] Registered as sound listener
[20:07:10] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[20:07:10] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:07:10] [ENEMY] [Enemy9] Registered as sound listener
[20:07:10] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[20:07:10] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:07:10] [ENEMY] [Enemy10] Registered as sound listener
[20:07:10] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[20:07:10] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:07:10] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:07:10] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:07:10] [INFO] [LastChance] Found player: Player
[20:07:10] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:07:10] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:07:10] [INFO] [LastChance] Connected to player Died signal (C#)
[20:07:10] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:07:10] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:07:10] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:07:10] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:07:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1162.529, 1529.608), source=ENEMY (Enemy10), range=1469, listeners=20
[20:07:10] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:07:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1130.795, 1509.953), source=ENEMY (Enemy10), range=1469, listeners=10
[20:07:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1100.258, 1488.488), source=ENEMY (Enemy10), range=1469, listeners=10
[20:07:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1071.134, 1465.144), source=ENEMY (Enemy10), range=1469, listeners=10
[20:07:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:11] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:07:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1100.312, 1502.046), shooter_id=7926848686644, bullet_pos=(58.91528, 889.2149)
[20:07:11] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[20:07:11] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[20:07:11] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[20:07:11] [INFO] [Bullet] Penetration failed (distance roll)
[20:07:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1014.978, 1426.71), shooter_id=7926848686644, bullet_pos=(543.0734, 1016.916)
[20:07:11] [INFO] [Bullet] Using shooter_position, distance=625.000061035156
[20:07:11] [INFO] [Bullet] Distance to wall: 625.000061035156 (42.5574034296557% of viewport)
[20:07:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1070.225, 1478.939), shooter_id=7926848686644, bullet_pos=(64.90152, 808.5714)
[20:07:11] [INFO] [Bullet] Using shooter_position, distance=1208.33251953125
[20:07:11] [INFO] [Bullet] Distance to wall: 1208.33251953125 (82.2775831824616% of viewport)
[20:07:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1070.225, 1478.939), shooter_id=7926848686644, bullet_pos=(174.3298, 710.9161)
[20:07:11] [INFO] [Bullet] Using shooter_position, distance=1180.03674316406
[20:07:11] [INFO] [Bullet] Distance to wall: 1180.03674316406 (80.3508717382751% of viewport)
[20:07:11] [ENEMY] [Enemy4] Memory: high confidence (0.86) - transitioning to PURSUING
[20:07:11] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[20:07:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1041.69, 1453.841), shooter_id=7926848686644, bullet_pos=(45.88207, 698.283)
[20:07:11] [INFO] [Bullet] Using shooter_position, distance=1250.00061035156
[20:07:11] [INFO] [Bullet] Distance to wall: 1250.00061035156 (85.1148401072795% of viewport)
[20:07:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1041.69, 1453.841), shooter_id=7926848686644, bullet_pos=(278.4614, 473.0699)
[20:07:11] [INFO] [Bullet] Using shooter_position, distance=1242.7509765625
[20:07:11] [INFO] [Bullet] Distance to wall: 1242.7509765625 (84.6211992116812% of viewport)
[20:07:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1014.978, 1426.71), shooter_id=7926848686644, bullet_pos=(46.6778, 1424.836)
[20:07:11] [INFO] [Bullet] Using shooter_position, distance=968.302307128906
[20:07:11] [INFO] [Bullet] Distance to wall: 968.302307128906 (65.9334846433451% of viewport)
[20:07:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1070.225, 1478.939), shooter_id=7926848686644, bullet_pos=(516.2303, 965.8097)
[20:07:11] [INFO] [Bullet] Using shooter_position, distance=755.123413085938
[20:07:11] [INFO] [Bullet] Distance to wall: 755.123413085938 (51.417741746539% of viewport)
[20:07:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1041.69, 1453.841), shooter_id=7926848686644, bullet_pos=(441.3474, 695.8024)
[20:07:12] [INFO] [Bullet] Using shooter_position, distance=966.971557617188
[20:07:12] [INFO] [Bullet] Distance to wall: 966.971557617188 (65.8428714620595% of viewport)
[20:07:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1014.978, 1426.71), shooter_id=7926848686644, bullet_pos=(261.9743, 1597.431)
[20:07:12] [INFO] [Bullet] Using shooter_position, distance=772.1142578125
[20:07:12] [INFO] [Bullet] Distance to wall: 772.1142578125 (52.5746796073791% of viewport)
[20:07:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1041.69, 1453.841), shooter_id=7926848686644, bullet_pos=(512.51, 583.5096)
[20:07:12] [INFO] [Bullet] Using shooter_position, distance=1018.58160400391
[20:07:12] [INFO] [Bullet] Distance to wall: 1018.58160400391 (69.3570944230382% of viewport)
[20:07:12] [INFO] [Bullet] Distance-based penetration chance: 65.7500565064554%
[20:07:12] [INFO] [Bullet] Starting wall penetration at (512.51, 583.5096)
[20:07:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9.12344455718994
[20:07:12] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:12] [INFO] [Bullet] Exiting penetration at (528.8837, 557.6724) after traveling 25.5885448455811 pixels through wall
[20:07:12] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[20:07:12] [ENEMY] [Enemy3] Memory: medium confidence (0.73) - transitioning to PURSUING
[20:07:12] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[20:07:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1070.225, 1478.939), shooter_id=7926848686644, bullet_pos=(65.86383, 1352.404)
[20:07:12] [INFO] [Bullet] Using shooter_position, distance=1012.30041503906
[20:07:12] [INFO] [Bullet] Distance to wall: 1012.30041503906 (68.929396716334% of viewport)
[20:07:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1014.978, 1426.71), shooter_id=7926848686644, bullet_pos=(806.572, 1013.815)
[20:07:12] [INFO] [Bullet] Using shooter_position, distance=462.509552001953
[20:07:12] [INFO] [Bullet] Distance to wall: 462.509552001953 (31.4931258758857% of viewport)
[20:07:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1070.225, 1478.939), shooter_id=7926848686644, bullet_pos=(411.3886, 1588.095)
[20:07:12] [INFO] [Bullet] Using shooter_position, distance=667.817749023438
[20:07:12] [INFO] [Bullet] Distance to wall: 667.817749023438 (45.4729385395633% of viewport)
[20:07:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1070.225, 1478.939), shooter_id=7926848686644, bullet_pos=(630.5264, 1410.104)
[20:07:12] [INFO] [Bullet] Using shooter_position, distance=445.053924560547
[20:07:12] [INFO] [Bullet] Distance to wall: 445.053924560547 (30.3045401053318% of viewport)
[20:07:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:12] [INFO] [Bullet] Starting wall penetration at (630.5264, 1410.104)
[20:07:12] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:07:12] [INFO] [Bullet] Exiting penetration at (648.7579, 1395.296) after traveling 18.487720489502 pixels through wall
[20:07:12] [INFO] [Bullet] Damage multiplier after penetration: 0.028125
[20:07:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1014.978, 1426.71), shooter_id=7926848686644, bullet_pos=(1051.096, 1379.62)
[20:07:12] [INFO] [Bullet] Using shooter_position, distance=59.3461570739746
[20:07:12] [INFO] [Bullet] Distance to wall: 59.3461570739746 (4.04098896312713% of viewport)
[20:07:12] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:07:12] [INFO] [Bullet] Starting wall penetration at (1051.096, 1379.62)
[20:07:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 2.23637390136719
[20:07:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23.9866714477539
[20:07:12] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:12] [INFO] [Bullet] Exiting penetration at (1078.05, 1419.942) after traveling 43.5005264282227 pixels through wall
[20:07:12] [INFO] [Bullet] Damage multiplier after penetration: 0.05625
[20:07:13] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1020.559, 1439.622), source=ENEMY (Enemy10), range=1469, listeners=10
[20:07:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:13] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[20:07:13] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(989.8723, 1424.066), source=ENEMY (Enemy10), range=1469, listeners=10
[20:07:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:13] [INFO] [LastChance] Threat detected: Bullet
[20:07:13] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:07:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:13] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[20:07:13] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[20:07:13] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(958.1533, 1409.973), source=ENEMY (Enemy10), range=1469, listeners=10
[20:07:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:13] [INFO] [LastChance] Threat detected: @Area2D@6503
[20:07:13] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[20:07:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:13] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:07:13] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:07:13] [INFO] [LastChance] Threat detected: Bullet
[20:07:13] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:07:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:13] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(934.1343, 1390.207), source=ENEMY (Enemy10), range=1469, listeners=10
[20:07:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[20:07:13] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:07:13] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[20:07:13] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:07:13] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[20:07:13] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:07:13] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:07:13] [INFO] [LastChance] Threat detected: @Area2D@6506
[20:07:13] [INFO] [LastChance] Triggering last chance effect!
[20:07:13] [INFO] [LastChance] Starting last chance effect:
[20:07:13] [INFO] [LastChance]   - Time will be frozen (except player)
[20:07:13] [INFO] [LastChance]   - Duration: 6.0 real seconds
[20:07:13] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:07:13] [INFO] [LastChance]   - Brightness: 0.60
[20:07:13] [INFO] [LastChance] Pushed bullet @Area2D@6506 from distance 145.9 to 200.0
[20:07:13] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[20:07:13] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:07:13] [INFO] [LastChance] Skipping player node: Player
[20:07:13] [INFO] [LastChance] Froze existing bullet casing: Casing
[20:07:13] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6482
[20:07:13] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6484
[20:07:13] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6486
[20:07:13] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6502
[20:07:13] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6504
[20:07:13] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6505
[20:07:13] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6507
[20:07:13] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:07:13] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:07:13] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:07:13] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:07:13] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:07:13] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:07:13] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:07:13] [INFO] [LastChance] Ending last chance effect
[20:07:13] [INFO] [LastChance] All process modes restored
[20:07:13] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:07:13] [ENEMY] [Enemy1] Death animation component initialized
[20:07:13] [ENEMY] [Enemy2] Death animation component initialized
[20:07:13] [ENEMY] [Enemy3] Death animation component initialized
[20:07:13] [ENEMY] [Enemy4] Death animation component initialized
[20:07:13] [ENEMY] [Enemy5] Death animation component initialized
[20:07:13] [ENEMY] [Enemy6] Death animation component initialized
[20:07:13] [ENEMY] [Enemy7] Death animation component initialized
[20:07:13] [ENEMY] [Enemy8] Death animation component initialized
[20:07:13] [ENEMY] [Enemy9] Death animation component initialized
[20:07:13] [ENEMY] [Enemy10] Death animation component initialized
[20:07:13] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:07:13] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:07:13] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:07:13] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:07:13] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:07:13] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:07:13] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:07:13] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[20:07:13] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:07:13] [INFO] [ScoreManager] Level started with 10 enemies
[20:07:13] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:07:13] [ENEMY] [Enemy1] Registered as sound listener
[20:07:13] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:07:13] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:07:13] [ENEMY] [Enemy2] Registered as sound listener
[20:07:13] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[20:07:13] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:07:13] [ENEMY] [Enemy3] Registered as sound listener
[20:07:13] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[20:07:13] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:07:13] [ENEMY] [Enemy4] Registered as sound listener
[20:07:13] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[20:07:13] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:07:13] [ENEMY] [Enemy5] Registered as sound listener
[20:07:13] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[20:07:13] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:07:13] [ENEMY] [Enemy6] Registered as sound listener
[20:07:13] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[20:07:13] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:07:13] [ENEMY] [Enemy7] Registered as sound listener
[20:07:13] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[20:07:13] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:07:13] [ENEMY] [Enemy8] Registered as sound listener
[20:07:13] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[20:07:13] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:07:13] [ENEMY] [Enemy9] Registered as sound listener
[20:07:13] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[20:07:13] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:07:13] [ENEMY] [Enemy10] Registered as sound listener
[20:07:13] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[20:07:13] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:07:13] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:07:13] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:07:13] [INFO] [LastChance] Found player: Player
[20:07:13] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:07:13] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:07:13] [INFO] [LastChance] Connected to player Died signal (C#)
[20:07:13] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:07:13] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:07:13] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:07:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1153.071, 1570.836), source=ENEMY (Enemy10), range=1469, listeners=20
[20:07:17] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:07:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[20:07:17] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:07:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1095.926, 1533.889), shooter_id=8125356705445, bullet_pos=(98.77443, 712.858)
[20:07:17] [INFO] [Bullet] Using shooter_position, distance=1291.6669921875
[20:07:17] [INFO] [Bullet] Distance to wall: 1291.6669921875 (87.9519806642087% of viewport)
[20:07:18] [ENEMY] [Enemy4] Memory: high confidence (0.84) - transitioning to PURSUING
[20:07:18] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[20:07:18] [ENEMY] [Enemy3] Memory: medium confidence (0.71) - transitioning to PURSUING
[20:07:18] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[20:07:21] [ENEMY] [Enemy10] FLANKING started: target=(416.0224, 1047.941), side=right, pos=(952.6407, 1415.735)
[20:07:21] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[20:07:22] [ENEMY] [Enemy3] FLANKING started: target=(644.9671, 710.825), side=left, pos=(560.8465, 863.0875)
[20:07:22] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[20:07:22] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:07:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(587.7725, 837.5985), source=ENEMY (Enemy3), range=1469, listeners=10
[20:07:22] [ENEMY] [Enemy2] Heard gunshot at (587.7725, 837.5985), source_type=1, intensity=0.02, distance=343
[20:07:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[20:07:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(523.4544, 815.3773), shooter_id=8123360218708, bullet_pos=(523.4544, 815.3773)
[20:07:22] [INFO] [Bullet] Using shooter_position, distance=0
[20:07:22] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[20:07:22] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:07:22] [INFO] [Bullet] Starting wall penetration at (523.4544, 815.3773)
[20:07:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20.6501731872559
[20:07:22] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:22] [INFO] [Bullet] Exiting penetration at (481.3835, 795.1829) after traveling 41.6666679382324 pixels through wall
[20:07:22] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:07:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:07:22] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:07:22] [ENEMY] [Enemy3] State: FLANKING -> COMBAT
[20:07:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(490.5408, 775.1807), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:22] [ENEMY] [Enemy1] Heard gunshot at (490.5408, 775.1807), source_type=0, intensity=0.01, distance=466
[20:07:22] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=3, self=0, below_threshold=2
[20:07:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(490.54083, 775.1807), shooter_id=8126178789053, bullet_pos=(507.4138, 815.4558)
[20:07:22] [INFO] [Bullet] Using shooter_position, distance=43,666683
[20:07:22] [INFO] [Bullet] Distance to wall: 43,666683 (2,9733448% of viewport)
[20:07:22] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:07:22] [INFO] [Bullet] Starting wall penetration at (507.4138, 815.4558)
[20:07:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3,7419975
[20:07:22] [INFO] [Bullet] Max penetration distance exceeded: 83,33334 >= 48
[20:07:22] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:22] [INFO] [Bullet] Exiting penetration at (541.5461, 896.9283) after traveling 83,33334 pixels through wall
[20:07:22] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:22] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:07:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(598.7352, 813.7599), source=ENEMY (Enemy3), range=1469, listeners=10
[20:07:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[20:07:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:07:22] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[20:07:22] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:07:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(512.3777, 746.3253), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:22] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=2, self=0, below_threshold=3
[20:07:22] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:07:22] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[20:07:22] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:07:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(598.7352, 813.7599), source=ENEMY (Enemy3), range=1469, listeners=10
[20:07:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[20:07:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[20:07:22] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[20:07:22] [INFO] [PenultimateHit] Player died - ending penultimate effect
[20:07:22] [INFO] [LastChance] Player died
[20:07:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(512.37775, 746.32526), shooter_id=8126178789053, bullet_pos=(592.75885, 1009.31537)
[20:07:22] [INFO] [Bullet] Using shooter_position, distance=274,99985
[20:07:22] [INFO] [Bullet] Distance to wall: 274,99985 (18,725246% of viewport)
[20:07:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:22] [INFO] [Bullet] Starting wall penetration at (592.75885, 1009.31537)
[20:07:22] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:07:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(543.4898, 729.502), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:22] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=2, self=0, below_threshold=3
[20:07:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,31141
[20:07:22] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:22] [INFO] [Bullet] Exiting penetration at (606.3993, 1053.944) after traveling 41,666668 pixels through wall
[20:07:22] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:22] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:07:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[20:07:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[20:07:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(609.5839, 816.5437), source=ENEMY (Enemy3), range=1469, listeners=10
[20:07:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[20:07:22] [INFO] [LastChance] Threat detected: @Area2D@6771
[20:07:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:07:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:22] [INFO] [LastChance] Threat detected: Bullet
[20:07:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:07:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(543.4898, 729.502), shooter_id=8126178789053, bullet_pos=(593.57996, 999.9018)
[20:07:22] [INFO] [Bullet] Using shooter_position, distance=275,00012
[20:07:22] [INFO] [Bullet] Distance to wall: 275,00012 (18,725264% of viewport)
[20:07:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(580.7167, 726.6031), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:22] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=2, self=0, below_threshold=3
[20:07:22] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[20:07:22] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:07:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[20:07:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[20:07:22] [INFO] [LastChance] Threat detected: @Area2D@6768
[20:07:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:07:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:22] [ENEMY] [Enemy3] Hit taken, health: 2/3
[20:07:22] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:07:22] [INFO] [ImpactEffects] spawn_blood_effect called at (634.8973, 823.0389), dir=(0.667252, 0.744832), lethal=false
[20:07:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:07:22] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:07:22] [INFO] [ImpactEffects] Wall found for blood splatter at (680, 873.3856) (dist=67 px)
[20:07:22] [INFO] [ImpactEffects] Blood effect spawned at (634.8973, 823.0389) (scale=1)
[20:07:22] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:07:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(634.8973, 823.0389), source=ENEMY (Enemy3), range=1469, listeners=10
[20:07:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[20:07:22] [INFO] [LastChance] Threat detected: @Area2D@6775
[20:07:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:07:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:22] [ENEMY] [Enemy10] State: FLANKING -> RETREATING
[20:07:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(580.71674, 726.6031), shooter_id=8126178789053, bullet_pos=(590.50275, 1001.42883)
[20:07:22] [INFO] [Bullet] Using shooter_position, distance=274,9999
[20:07:22] [INFO] [Bullet] Distance to wall: 274,9999 (18,72525% of viewport)
[20:07:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:22] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[20:07:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(619.2167, 726.6031), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:22] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=2, self=0, below_threshold=3
[20:07:22] [ENEMY] [Enemy4] Hit taken, health: 2/3
[20:07:22] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:07:22] [INFO] [ImpactEffects] spawn_blood_effect called at (565.2587, 970.3369), dir=(1, 0), lethal=false
[20:07:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:07:22] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:07:22] [INFO] [ImpactEffects] Blood effect spawned at (565.2587, 970.3369) (scale=1)
[20:07:22] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:07:22] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:07:22] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:07:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[20:07:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[20:07:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(445.315, 600.7656), shooter_id=8123075006015, bullet_pos=(700.5554, 827.8967)
[20:07:22] [INFO] [Bullet] Using shooter_position, distance=341.666778564453
[20:07:22] [INFO] [Bullet] Distance to wall: 341.666778564453 (23.26471922226% of viewport)
[20:07:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:22] [INFO] [LastChance] Threat detected: @Area2D@6782
[20:07:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:07:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:22] [ENEMY] [Enemy4] Hit taken, health: 1/3
[20:07:22] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:07:22] [INFO] [ImpactEffects] spawn_blood_effect called at (582.9006, 970.2504), dir=(1, 0), lethal=false
[20:07:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:07:22] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:07:22] [INFO] [ImpactEffects] Blood effect spawned at (582.9006, 970.2504) (scale=1)
[20:07:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(651.1169, 726.6031), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:22] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[20:07:23] [ENEMY] [Enemy3] Hit taken, health: 1/3
[20:07:23] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:07:23] [INFO] [ImpactEffects] spawn_blood_effect called at (636.4034, 820.7985), dir=(1, 0), lethal=false
[20:07:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:07:23] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:07:23] [INFO] [ImpactEffects] Wall found for blood splatter at (680, 820.7985) (dist=43 px)
[20:07:23] [INFO] [ImpactEffects] Blood effect spawned at (636.4034, 820.7985) (scale=1)
[20:07:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.4034, 820.7985), source=ENEMY (Enemy3), range=1469, listeners=10
[20:07:23] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[20:07:23] [INFO] [LastChance] Threat detected: Bullet
[20:07:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:07:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:23] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:07:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[20:07:23] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[20:07:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(449.5615, 596.629), shooter_id=8123075006015, bullet_pos=(743.6537, 815.6138)
[20:07:23] [INFO] [Bullet] Using shooter_position, distance=366.666900634766
[20:07:23] [INFO] [Bullet] Distance to wall: 366.666900634766 (24.9670235051984% of viewport)
[20:07:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(686.3171, 726.6031), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:23] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[20:07:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(445.315, 600.7656), shooter_id=8123075006015, bullet_pos=(919.4241, 640.1935)
[20:07:23] [INFO] [Bullet] Using shooter_position, distance=475.745697021484
[20:07:23] [INFO] [Bullet] Distance to wall: 475.745697021484 (32.3943993293901% of viewport)
[20:07:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:23] [INFO] [LastChance] Threat detected: @Area2D@6790
[20:07:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:07:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:23] [ENEMY] [Enemy3] Hit taken, health: 0/3
[20:07:23] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:07:23] [INFO] [ImpactEffects] spawn_blood_effect called at (641.2507, 834.2162), dir=(1, 0), lethal=true
[20:07:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:07:23] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:07:23] [INFO] [ImpactEffects] Wall found for blood splatter at (680, 834.2162) (dist=38 px)
[20:07:23] [INFO] [ImpactEffects] Blood effect spawned at (641.2507, 834.2162) (scale=1.5)
[20:07:23] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[20:07:23] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:07:23] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[20:07:23] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:07:23] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[20:07:23] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:07:23] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:07:23] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:07:23] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:07:23] [ENEMY] [Enemy1] Death animation component initialized
[20:07:23] [ENEMY] [Enemy2] Death animation component initialized
[20:07:23] [ENEMY] [Enemy3] Death animation component initialized
[20:07:23] [ENEMY] [Enemy4] Death animation component initialized
[20:07:23] [ENEMY] [Enemy5] Death animation component initialized
[20:07:23] [ENEMY] [Enemy6] Death animation component initialized
[20:07:23] [ENEMY] [Enemy7] Death animation component initialized
[20:07:23] [ENEMY] [Enemy8] Death animation component initialized
[20:07:23] [ENEMY] [Enemy9] Death animation component initialized
[20:07:23] [ENEMY] [Enemy10] Death animation component initialized
[20:07:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:07:23] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:07:23] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:07:23] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:07:23] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:07:23] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:07:23] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:07:23] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[20:07:23] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:07:23] [INFO] [ScoreManager] Level started with 10 enemies
[20:07:23] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[20:07:23] [ENEMY] [Enemy1] Registered as sound listener
[20:07:23] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:07:23] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[20:07:23] [ENEMY] [Enemy2] Registered as sound listener
[20:07:23] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[20:07:23] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[20:07:23] [ENEMY] [Enemy3] Registered as sound listener
[20:07:23] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[20:07:23] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[20:07:23] [ENEMY] [Enemy4] Registered as sound listener
[20:07:23] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[20:07:23] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[20:07:23] [ENEMY] [Enemy5] Registered as sound listener
[20:07:23] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[20:07:23] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[20:07:23] [ENEMY] [Enemy6] Registered as sound listener
[20:07:23] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[20:07:23] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[20:07:23] [ENEMY] [Enemy7] Registered as sound listener
[20:07:23] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[20:07:23] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[20:07:23] [ENEMY] [Enemy8] Registered as sound listener
[20:07:23] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[20:07:23] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[20:07:23] [ENEMY] [Enemy9] Registered as sound listener
[20:07:23] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[20:07:23] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[20:07:23] [ENEMY] [Enemy10] Registered as sound listener
[20:07:23] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[20:07:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450.3333, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=19
[20:07:23] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[20:07:23] [ENEMY] [Enemy4] Heard gunshot at (450.3333, 1256), source_type=0, intensity=0.01, distance=499
[20:07:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[20:07:23] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:07:23] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:07:23] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:07:23] [INFO] [LastChance] Found player: Player
[20:07:23] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:07:23] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:07:23] [INFO] [LastChance] Connected to player Died signal (C#)
[20:07:23] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:07:23] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:07:23] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:07:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(457, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[20:07:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(457, 1256), shooter_id=8659811699729, bullet_pos=(461.04227, 1614.3109)
[20:07:23] [INFO] [Bullet] Using shooter_position, distance=358,3337
[20:07:23] [INFO] [Bullet] Distance to wall: 358,3337 (24,399603% of viewport)
[20:07:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:23] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:07:23] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:07:23] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:07:23] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:07:23] [ENEMY] [Enemy1] Death animation component initialized
[20:07:23] [ENEMY] [Enemy2] Death animation component initialized
[20:07:23] [ENEMY] [Enemy3] Death animation component initialized
[20:07:23] [ENEMY] [Enemy4] Death animation component initialized
[20:07:23] [ENEMY] [Enemy5] Death animation component initialized
[20:07:23] [ENEMY] [Enemy6] Death animation component initialized
[20:07:23] [ENEMY] [Enemy7] Death animation component initialized
[20:07:23] [ENEMY] [Enemy8] Death animation component initialized
[20:07:23] [ENEMY] [Enemy9] Death animation component initialized
[20:07:23] [ENEMY] [Enemy10] Death animation component initialized
[20:07:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:07:23] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:07:23] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:07:23] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:07:23] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:07:23] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:07:23] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:07:23] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[20:07:23] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:07:23] [INFO] [ScoreManager] Level started with 10 enemies
[20:07:23] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:07:23] [ENEMY] [Enemy1] Registered as sound listener
[20:07:23] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:07:23] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:07:23] [ENEMY] [Enemy2] Registered as sound listener
[20:07:23] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[20:07:23] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:07:23] [ENEMY] [Enemy3] Registered as sound listener
[20:07:23] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[20:07:23] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:07:23] [ENEMY] [Enemy4] Registered as sound listener
[20:07:23] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[20:07:23] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:07:23] [ENEMY] [Enemy5] Registered as sound listener
[20:07:23] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[20:07:23] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:07:23] [ENEMY] [Enemy6] Registered as sound listener
[20:07:23] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[20:07:23] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:07:23] [ENEMY] [Enemy7] Registered as sound listener
[20:07:23] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[20:07:23] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:07:23] [ENEMY] [Enemy8] Registered as sound listener
[20:07:23] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[20:07:23] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:07:23] [ENEMY] [Enemy9] Registered as sound listener
[20:07:23] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[20:07:23] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:07:23] [ENEMY] [Enemy10] Registered as sound listener
[20:07:23] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[20:07:23] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:07:23] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:07:23] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:07:23] [INFO] [LastChance] Found player: Player
[20:07:23] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:07:23] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:07:23] [INFO] [LastChance] Connected to player Died signal (C#)
[20:07:23] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:07:23] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:07:23] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:07:24] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:07:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.004, 1519.036), source=ENEMY (Enemy10), range=1469, listeners=20
[20:07:24] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:07:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.385, 1499.191), source=ENEMY (Enemy10), range=1469, listeners=10
[20:07:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.598, 1478.078), source=ENEMY (Enemy10), range=1469, listeners=10
[20:07:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:24] [ENEMY] [Enemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[20:07:24] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[20:07:24] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:07:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.686, 1455.743), source=ENEMY (Enemy10), range=1469, listeners=10
[20:07:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:07:24] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:07:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=8696016930481, bullet_pos=(47.54776, 866.3744)
[20:07:24] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[20:07:24] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[20:07:24] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[20:07:24] [INFO] [Bullet] Starting wall penetration at (47.54776, 866.3744)
[20:07:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28.5065212249756
[20:07:24] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:24] [INFO] [Bullet] Exiting penetration at (7.594219, 842.2602) after traveling 41.6666717529297 pixels through wall
[20:07:24] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:07:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=8696016930481, bullet_pos=(43.40149, 802.4432)
[20:07:24] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[20:07:24] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[20:07:24] [INFO] [Bullet] Distance-based penetration chance: 50.6760656778783%
[20:07:24] [INFO] [Bullet] Starting wall penetration at (43.40149, 802.4432)
[20:07:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.0024871826172
[20:07:24] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:24] [INFO] [Bullet] Exiting penetration at (4.462528, 776.7229) after traveling 41.6666679382324 pixels through wall
[20:07:24] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:07:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.149, 1444.873), shooter_id=8696016930481, bullet_pos=(41.66475, 738.6735)
[20:07:25] [INFO] [Bullet] Using shooter_position, distance=1208.33276367188
[20:07:25] [INFO] [Bullet] Distance to wall: 1208.33276367188 (82.2775998064458% of viewport)
[20:07:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6502, 1420.212), shooter_id=8696016930481, bullet_pos=(42.2292, 675.3175)
[20:07:25] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[20:07:25] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[20:07:25] [ENEMY] [Enemy3] Memory: medium confidence (0.76) - transitioning to PURSUING
[20:07:25] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[20:07:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.149, 1444.873), shooter_id=8696016930481, bullet_pos=(325.302, 464.3635)
[20:07:25] [INFO] [Bullet] Using shooter_position, distance=1202.91125488281
[20:07:25] [INFO] [Bullet] Distance to wall: 1202.91125488281 (81.9084393037229% of viewport)
[20:07:25] [ENEMY] [Enemy2] Hit taken, health: 2/3
[20:07:25] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:07:25] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(0.608993, 0.793176), lethal=false
[20:07:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:07:25] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:07:25] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[20:07:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6502, 1420.212), shooter_id=8696016930481, bullet_pos=(284.534, 460.6026)
[20:07:25] [INFO] [Bullet] Using shooter_position, distance=1193.18701171875
[20:07:25] [INFO] [Bullet] Distance to wall: 1193.18701171875 (81.2462977053754% of viewport)
[20:07:25] [ENEMY] [Enemy2] Hit taken, health: 1/3
[20:07:25] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:07:25] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(0.761481, 0.648188), lethal=false
[20:07:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:07:25] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:07:25] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[20:07:26] [ENEMY] [Enemy10] FLANKING started: target=(682.9222, 755.752), side=left, pos=(1022.65, 1432.28)
[20:07:26] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[20:07:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(501.898, 771.1699), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:26] [ENEMY] [Enemy1] Heard gunshot at (501.898, 771.1699), source_type=0, intensity=0.01, distance=467
[20:07:26] [ENEMY] [Enemy2] Heard gunshot at (501.898, 771.1699), source_type=0, intensity=0.04, distance=244
[20:07:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:07:26] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[20:07:26] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[20:07:26] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:07:26] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:07:26] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:07:26] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[20:07:26] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[20:07:26] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[20:07:26] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:07:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(528.9528, 744.3146), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[20:07:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(528.9528, 744.31464), shooter_id=8696839015990, bullet_pos=(515.06866, 809.51953)
[20:07:26] [INFO] [Bullet] Using shooter_position, distance=66,666695
[20:07:26] [INFO] [Bullet] Distance to wall: 66,666695 (4,5394583% of viewport)
[20:07:26] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:07:26] [INFO] [Bullet] Starting wall penetration at (515.06866, 809.51953)
[20:07:26] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:07:26] [INFO] [Bullet] Exiting penetration at (505.34973, 855.16296) after traveling 41,666668 pixels through wall
[20:07:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[20:07:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[20:07:26] [INFO] [LastChance] Threat detected: @Area2D@7327
[20:07:26] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:07:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:26] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:07:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[20:07:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[20:07:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(560.6412, 727.8696), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[20:07:26] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:07:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(501.89804, 771.16986), shooter_id=8696839015990, bullet_pos=(401.0641, 1413.3007)
[20:07:26] [INFO] [Bullet] Using shooter_position, distance=649,9996
[20:07:26] [INFO] [Bullet] Distance to wall: 649,9996 (44,259666% of viewport)
[20:07:26] [INFO] [Bullet] Distance-based penetration chance: 95,03039%
[20:07:26] [INFO] [Bullet] Starting wall penetration at (401.0641, 1413.3007)
[20:07:26] [INFO] [LastChance] Threat detected: @Area2D@7328
[20:07:26] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:07:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:26] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[20:07:26] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[20:07:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[20:07:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[20:07:26] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[20:07:26] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:07:26] [INFO] [Bullet] Exiting penetration at (393.82474, 1459.4023) after traveling 41,666668 pixels through wall
[20:07:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.64124, 727.8696), shooter_id=8696839015990, bullet_pos=(520.9287, 872.51715)
[20:07:26] [INFO] [Bullet] Using shooter_position, distance=149,99997
[20:07:26] [INFO] [Bullet] Distance to wall: 149,99997 (10,213774% of viewport)
[20:07:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:26] [INFO] [LastChance] Threat detected: @Area2D@7333
[20:07:26] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[20:07:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:26] [ENEMY] [Enemy3] Hit taken, health: 3/4
[20:07:26] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:07:26] [INFO] [ImpactEffects] spawn_blood_effect called at (555.9323, 918.8188), dir=(1, 0), lethal=false
[20:07:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:07:26] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:07:26] [INFO] [ImpactEffects] Blood effect spawned at (555.9323, 918.8188) (scale=1)
[20:07:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[20:07:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[20:07:26] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:07:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[20:07:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[20:07:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(595.8551, 725.2476), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[20:07:26] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:07:26] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:07:26] [INFO] [LastChance] Threat detected: Bullet
[20:07:26] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:07:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:26] [INFO] [LastChance] Threat detected: @Area2D@7335
[20:07:26] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:07:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(439.3829, 605.494), shooter_id=8693735230120, bullet_pos=(690.0366, 884.4164)
[20:07:26] [INFO] [Bullet] Using shooter_position, distance=374.999969482422
[20:07:26] [INFO] [Bullet] Distance to wall: 374.999969482422 (25.5344374861978% of viewport)
[20:07:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[20:07:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[20:07:26] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[20:07:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(595.8551, 725.2476), shooter_id=8696839015990, bullet_pos=(520.51495, 937.25916)
[20:07:26] [INFO] [Bullet] Using shooter_position, distance=225,00006
[20:07:26] [INFO] [Bullet] Distance to wall: 225,00006 (15,320667% of viewport)
[20:07:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:26] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:07:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(403.2415, 547.2256), source=ENEMY (Enemy2), range=1469, listeners=10
[20:07:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[20:07:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(631.0553, 725.2476), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[20:07:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(595.8551, 725.2476), shooter_id=8696839015990, bullet_pos=(538.70966, 996.1806)
[20:07:26] [INFO] [Bullet] Using shooter_position, distance=276,89398
[20:07:26] [INFO] [Bullet] Distance to wall: 276,89398 (18,85422% of viewport)
[20:07:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(439.3829, 605.494), shooter_id=8693735230120, bullet_pos=(606.1882, 1004.752)
[20:07:26] [INFO] [Bullet] Using shooter_position, distance=432.701629638672
[20:07:26] [INFO] [Bullet] Distance to wall: 432.701629638672 (29.4634496302338% of viewport)
[20:07:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(445.2804, 601.4664), shooter_id=8693735230120, bullet_pos=(691.1227, 826.5726)
[20:07:26] [INFO] [Bullet] Using shooter_position, distance=333.333526611328
[20:07:26] [INFO] [Bullet] Distance to wall: 333.333526611328 (22.6972927732725% of viewport)
[20:07:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:26] [ENEMY] [Enemy4] Hit taken, health: 1/2
[20:07:26] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:07:26] [INFO] [ImpactEffects] spawn_blood_effect called at (600.8325, 958.8601), dir=(-0.509995, -0.860177), lethal=false
[20:07:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:07:26] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:07:26] [INFO] [ImpactEffects] Blood effect spawned at (600.8325, 958.8601) (scale=1)
[20:07:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(445.4814, 600.6166), shooter_id=8693735230120, bullet_pos=(695.2225, 821.3893)
[20:07:26] [INFO] [Bullet] Using shooter_position, distance=333.33349609375
[20:07:26] [INFO] [Bullet] Distance to wall: 333.33349609375 (22.6972906952745% of viewport)
[20:07:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:26] [INFO] [LastChance] Threat detected: @Area2D@7342
[20:07:26] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:07:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:26] [ENEMY] [Enemy3] Hit taken, health: 2/4
[20:07:26] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:07:26] [INFO] [ImpactEffects] spawn_blood_effect called at (600.4393, 935.3754), dir=(-0.634479, 0.77294), lethal=false
[20:07:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:07:26] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:07:26] [INFO] [ImpactEffects] Wall found for blood splatter at (547.3912, 1000) (dist=83 px)
[20:07:26] [INFO] [ImpactEffects] Blood effect spawned at (600.4393, 935.3754) (scale=1)
[20:07:26] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:07:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(631.0553, 725.2476), shooter_id=8696839015990, bullet_pos=(526.2501, 961.3663)
[20:07:26] [INFO] [Bullet] Using shooter_position, distance=258,3334
[20:07:26] [INFO] [Bullet] Distance to wall: 258,3334 (17,590397% of viewport)
[20:07:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(666.2555, 725.2476), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[20:07:27] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[20:07:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(631.0553, 725.2476), shooter_id=8696839015990, bullet_pos=(548.2918, 1018.95917)
[20:07:27] [INFO] [Bullet] Using shooter_position, distance=305,1496
[20:07:27] [INFO] [Bullet] Distance to wall: 305,1496 (20,778198% of viewport)
[20:07:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:27] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:07:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(452.0451, 594.6472), shooter_id=8693735230120, bullet_pos=(742.5702, 818.3425)
[20:07:27] [INFO] [Bullet] Using shooter_position, distance=366.666687011719
[20:07:27] [INFO] [Bullet] Distance to wall: 366.666687011719 (24.9670089592123% of viewport)
[20:07:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:27] [INFO] [Bullet] Starting wall penetration at (742.5702, 818.3425)
[20:07:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(445.4814, 600.6166), shooter_id=8693735230120, bullet_pos=(912.631, 678.7939)
[20:07:27] [INFO] [Bullet] Using shooter_position, distance=473.645935058594
[20:07:27] [INFO] [Bullet] Distance to wall: 473.645935058594 (32.2514226762151% of viewport)
[20:07:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16.3355140686035
[20:07:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(448.4576, 598.3619), shooter_id=8693735230120, bullet_pos=(750.7896, 996.6025)
[20:07:27] [INFO] [Bullet] Using shooter_position, distance=500.000244140625
[20:07:27] [INFO] [Bullet] Distance to wall: 500.000244140625 (34.0459360429118% of viewport)
[20:07:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:27] [INFO] [Bullet] Starting wall penetration at (750.7896, 996.6025)
[20:07:27] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:27] [INFO] [Bullet] Exiting penetration at (772.9433, 841.7289) after traveling 33.3333358764648 pixels through wall
[20:07:27] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:07:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3.93516230583191
[20:07:27] [INFO] [Bullet] Max penetration distance exceeded: 66.6666717529297 >= 48
[20:07:27] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:27] [INFO] [Bullet] Exiting penetration at (794.1238, 1053.684) after traveling 66.6666717529297 pixels through wall
[20:07:27] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:07:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(701.4557, 725.2476), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[20:07:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(666.2555, 725.2476), shooter_id=8696839015990, bullet_pos=(527.7418, 981.92535)
[20:07:27] [INFO] [Bullet] Using shooter_position, distance=291,66675
[20:07:27] [INFO] [Bullet] Distance to wall: 291,66675 (19,860126% of viewport)
[20:07:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(666.2555, 725.2476), shooter_id=8696839015990, bullet_pos=(542.6485, 1011.7398)
[20:07:27] [INFO] [Bullet] Using shooter_position, distance=312,01996
[20:07:27] [INFO] [Bullet] Distance to wall: 312,01996 (21,246014% of viewport)
[20:07:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:27] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:07:27] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:07:27] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[20:07:27] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[20:07:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(736.6559, 725.2476), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[20:07:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(701.4557, 725.2476), shooter_id=8696839015990, bullet_pos=(535.0582, 1004.4194)
[20:07:27] [INFO] [Bullet] Using shooter_position, distance=324,99997
[20:07:27] [INFO] [Bullet] Distance to wall: 324,99997 (22,129845% of viewport)
[20:07:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:27] [INFO] [Bullet] Starting wall penetration at (535.0582, 1004.4194)
[20:07:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,538483
[20:07:27] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:27] [INFO] [Bullet] Exiting penetration at (515.4319, 1037.3474) after traveling 33,333332 pixels through wall
[20:07:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(445.4814, 600.6166), shooter_id=8693735230120, bullet_pos=(527.9074, 468.3906)
[20:07:27] [INFO] [Bullet] Using shooter_position, distance=155.813247680664
[20:07:27] [INFO] [Bullet] Distance to wall: 155.813247680664 (10.6096105498746% of viewport)
[20:07:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(771.8561, 725.2476), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[20:07:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(736.6559, 725.2476), shooter_id=8696839015990, bullet_pos=(566.7397, 1002.2919)
[20:07:27] [INFO] [Bullet] Using shooter_position, distance=325,00006
[20:07:27] [INFO] [Bullet] Distance to wall: 325,00006 (22,129852% of viewport)
[20:07:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(771.8561, 725.2476), shooter_id=8696839015990, bullet_pos=(708.46014, 832.97845)
[20:07:27] [INFO] [Bullet] Using shooter_position, distance=124,99991
[20:07:27] [INFO] [Bullet] Distance to wall: 124,99991 (8,511474% of viewport)
[20:07:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(736.6559, 725.2476), shooter_id=8696839015990, bullet_pos=(523.7625, 923.2161)
[20:07:27] [INFO] [Bullet] Using shooter_position, distance=290,71484
[20:07:27] [INFO] [Bullet] Distance to wall: 290,71484 (19,79531% of viewport)
[20:07:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(807.0563, 725.2476), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[20:07:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(807.0563, 725.2476), shooter_id=8696839015990, bullet_pos=(743.8622, 833.097)
[20:07:27] [INFO] [Bullet] Using shooter_position, distance=124,999916
[20:07:27] [INFO] [Bullet] Distance to wall: 124,999916 (8,511475% of viewport)
[20:07:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(771.8561, 725.2476), shooter_id=8696839015990, bullet_pos=(524.9481, 574.9066)
[20:07:27] [INFO] [Bullet] Using shooter_position, distance=289,07776
[20:07:27] [INFO] [Bullet] Distance to wall: 289,07776 (19,683836% of viewport)
[20:07:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(842.2565, 725.2476), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[20:07:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(842.2565, 725.2476), shooter_id=8696839015990, bullet_pos=(761.7949, 861.6124)
[20:07:27] [INFO] [Bullet] Using shooter_position, distance=158,33327
[20:07:27] [INFO] [Bullet] Distance to wall: 158,33327 (10,781204% of viewport)
[20:07:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(842.2565, 725.2476), shooter_id=8696839015990, bullet_pos=(816.12415, 997.84546)
[20:07:27] [INFO] [Bullet] Using shooter_position, distance=273,84753
[20:07:27] [INFO] [Bullet] Distance to wall: 273,84753 (18,646782% of viewport)
[20:07:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(842.2565, 725.2476), shooter_id=8696839015990, bullet_pos=(909.222, 796.5846)
[20:07:27] [INFO] [Bullet] Using shooter_position, distance=97,84347
[20:07:27] [INFO] [Bullet] Distance to wall: 97,84347 (6,662342% of viewport)
[20:07:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(771.8561, 725.2476), shooter_id=8696839015990, bullet_pos=(916.5059, 49.51609)
[20:07:28] [INFO] [Bullet] Using shooter_position, distance=691,0402
[20:07:28] [INFO] [Bullet] Distance to wall: 691,0402 (47,054203% of viewport)
[20:07:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(736.6559, 725.2476), shooter_id=8696839015990, bullet_pos=(825.1955, 53.822697)
[20:07:28] [INFO] [Bullet] Using shooter_position, distance=677,23755
[20:07:28] [INFO] [Bullet] Distance to wall: 677,23755 (46,114353% of viewport)
[20:07:28] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[20:07:28] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[20:07:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(771.8561, 725.2476), shooter_id=8696839015990, bullet_pos=(1014.6894, 211.29005)
[20:07:28] [INFO] [Bullet] Using shooter_position, distance=568,4368
[20:07:28] [INFO] [Bullet] Distance to wall: 568,4368 (38,70591% of viewport)
[20:07:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:28] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[20:07:28] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[20:07:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(771.8561, 725.2476), shooter_id=8696839015990, bullet_pos=(1073.8907, 60.922684)
[20:07:28] [INFO] [Bullet] Using shooter_position, distance=729,762
[20:07:28] [INFO] [Bullet] Distance to wall: 729,762 (49,690838% of viewport)
[20:07:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.935, 857.5195), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[20:07:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9351, 888.2952), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[20:07:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.935, 857.51953), shooter_id=8696839015990, bullet_pos=(608.8366, 1009.83295)
[20:07:28] [INFO] [Bullet] Using shooter_position, distance=324,9998
[20:07:28] [INFO] [Bullet] Distance to wall: 324,9998 (22,129833% of viewport)
[20:07:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(842.2565, 725.2476), shooter_id=8696839015990, bullet_pos=(447.77643, 65.21295)
[20:07:28] [INFO] [Bullet] Using shooter_position, distance=768,9345
[20:07:28] [INFO] [Bullet] Distance to wall: 768,9345 (52,35817% of viewport)
[20:07:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9351, 917.2714), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:07:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[20:07:28] [ENEMY] [Enemy3] Hit taken, health: 1/4
[20:07:28] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:07:28] [INFO] [ImpactEffects] spawn_blood_effect called at (579.7542, 926.6319), dir=(1, 0), lethal=false
[20:07:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:07:28] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:07:28] [INFO] [ImpactEffects] Blood effect spawned at (579.7542, 926.6319) (scale=1)
[20:07:28] [ENEMY] [Enemy4] Hit taken, health: 0/2
[20:07:28] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:07:28] [INFO] [ImpactEffects] spawn_blood_effect called at (578.1604, 922.6748), dir=(1, 0), lethal=true
[20:07:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:07:28] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:07:28] [INFO] [ImpactEffects] Blood effect spawned at (578.1604, 922.6748) (scale=1.5)
[20:07:28] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[20:07:28] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:07:28] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 9)
[20:07:28] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:07:28] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[20:07:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(842.2565, 725.2476), shooter_id=8696839015990, bullet_pos=(337.8498, 227.9704)
[20:07:28] [INFO] [Bullet] Using shooter_position, distance=708,3154
[20:07:28] [INFO] [Bullet] Distance to wall: 708,3154 (48,230503% of viewport)
[20:07:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9351, 952.1362), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:07:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[20:07:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.93506, 917.27136), shooter_id=8696839015990, bullet_pos=(506.52197, 959.22687)
[20:07:29] [INFO] [Bullet] Using shooter_position, distance=391,66672
[20:07:29] [INFO] [Bullet] Distance to wall: 391,66672 (26,669308% of viewport)
[20:07:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:29] [INFO] [Bullet] Starting wall penetration at (506.52197, 959.22687)
[20:07:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,773617
[20:07:29] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:29] [INFO] [Bullet] Exiting penetration at (468.4092, 963.3331) after traveling 33,333336 pixels through wall
[20:07:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9351, 978.5256), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:07:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[20:07:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(842.2565, 725.2476), shooter_id=8696839015990, bullet_pos=(260.1725, 62.846367)
[20:07:29] [INFO] [Bullet] Using shooter_position, distance=881,8147
[20:07:29] [INFO] [Bullet] Distance to wall: 881,8147 (60,044384% of viewport)
[20:07:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.93506, 952.13617), shooter_id=8696839015990, bullet_pos=(504.32175, 945.65875)
[20:07:29] [INFO] [Bullet] Using shooter_position, distance=391,66687
[20:07:29] [INFO] [Bullet] Distance to wall: 391,66687 (26,669317% of viewport)
[20:07:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:29] [INFO] [Bullet] Starting wall penetration at (504.32175, 945.65875)
[20:07:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34,010998
[20:07:29] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:29] [INFO] [Bullet] Exiting penetration at (465.99365, 945.0248) after traveling 33,333336 pixels through wall
[20:07:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9351, 978.5256), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:07:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[20:07:29] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[20:07:29] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[20:07:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.93506, 978.5256), shooter_id=8696839015990, bullet_pos=(506.87906, 933.38086)
[20:07:29] [INFO] [Bullet] Using shooter_position, distance=391,66647
[20:07:29] [INFO] [Bullet] Distance to wall: 391,66647 (26,66929% of viewport)
[20:07:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:29] [INFO] [Bullet] Starting wall penetration at (506.87906, 933.38086)
[20:07:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,408125
[20:07:29] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:29] [INFO] [Bullet] Exiting penetration at (468.8012, 928.96246) after traveling 33,333332 pixels through wall
[20:07:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9351, 978.5256), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:07:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[20:07:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.93506, 978.5256), shooter_id=8696839015990, bullet_pos=(507.18103, 930.84717)
[20:07:29] [INFO] [Bullet] Using shooter_position, distance=391,66684
[20:07:29] [INFO] [Bullet] Distance to wall: 391,66684 (26,669317% of viewport)
[20:07:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:29] [ENEMY] [Enemy4] Ragdoll activated
[20:07:29] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:07:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9351, 978.5256), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:07:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[20:07:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.93506, 978.5256), shooter_id=8696839015990, bullet_pos=(515.8049, 884.1663)
[20:07:29] [INFO] [Bullet] Using shooter_position, distance=391,66647
[20:07:29] [INFO] [Bullet] Distance to wall: 391,66647 (26,66929% of viewport)
[20:07:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:29] [INFO] [Bullet] Starting wall penetration at (515.8049, 884.1663)
[20:07:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,04882
[20:07:29] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:29] [INFO] [Bullet] Exiting penetration at (478.60062, 874.93115) after traveling 33,333336 pixels through wall
[20:07:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:29] [ENEMY] [Enemy3] Hit taken, health: 0/4
[20:07:29] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:07:29] [INFO] [ImpactEffects] spawn_blood_effect called at (641.9983, 846.6693), dir=(1, 0), lethal=true
[20:07:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:07:29] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:07:29] [INFO] [ImpactEffects] Wall found for blood splatter at (680, 846.6693) (dist=38 px)
[20:07:29] [INFO] [ImpactEffects] Blood effect spawned at (641.9983, 846.6693) (scale=1.5)
[20:07:29] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[20:07:29] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[20:07:29] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 8)
[20:07:29] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:07:29] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[20:07:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(838.3638, 966.2162), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:07:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=8
[20:07:30] [ENEMY] [Enemy3] Ragdoll activated
[20:07:30] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:07:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(838.3282, 966.2114), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:07:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=8
[20:07:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(838.3638, 966.21625), shooter_id=8696839015990, bullet_pos=(498.8294, 851.67664)
[20:07:30] [INFO] [Bullet] Using shooter_position, distance=358,33353
[20:07:30] [INFO] [Bullet] Distance to wall: 358,33353 (24,39959% of viewport)
[20:07:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(838.3282, 966.2114), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:07:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=8
[20:07:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(838.32825, 966.21136), shooter_id=8696839015990, bullet_pos=(497.04004, 857.00934)
[20:07:30] [INFO] [Bullet] Using shooter_position, distance=358,33325
[20:07:30] [INFO] [Bullet] Distance to wall: 358,33325 (24,39957% of viewport)
[20:07:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:30] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:07:30] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[20:07:30] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[20:07:30] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[20:07:30] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[20:07:30] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[20:07:30] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[20:07:30] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[20:07:30] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[20:07:30] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[20:07:30] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[20:07:30] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(838.3282, 960.2114), source=PLAYER (Player), range=900, listeners=8
[20:07:30] [ENEMY] [Enemy2] Heard player RELOAD at (838.3282, 960.2114), intensity=0.01, distance=491
[20:07:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=3
[20:07:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(838.32825, 966.21136), shooter_id=8696839015990, bullet_pos=(496.85104, 857.60187)
[20:07:30] [INFO] [Bullet] Using shooter_position, distance=358,33322
[20:07:30] [INFO] [Bullet] Distance to wall: 358,33322 (24,399569% of viewport)
[20:07:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:30] [INFO] [Bullet] Starting wall penetration at (496.85104, 857.60187)
[20:07:30] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=692), can_see=false
[20:07:30] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=491), can_see=false
[20:07:30] [ENEMY] [Enemy2] Pursuing vulnerability sound at (838.3282, 960.2114), distance=491
[20:07:30] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1056), can_see=false
[20:07:30] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1223), can_see=false
[20:07:30] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=775), can_see=false
[20:07:30] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1169), can_see=false
[20:07:30] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1393), can_see=false
[20:07:30] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=762), can_see=false
[20:07:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41,63775
[20:07:30] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:30] [INFO] [Bullet] Exiting penetration at (460.3209, 845.98315) after traveling 33,333332 pixels through wall
[20:07:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:30] [ENEMY] [Enemy4] Death animation completed
[20:07:30] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:07:30] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:07:30] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[20:07:30] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[20:07:30] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[20:07:30] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[20:07:30] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[20:07:30] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[20:07:30] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[20:07:30] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[20:07:30] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[20:07:30] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[20:07:30] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:07:31] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:07:31] [ENEMY] [Enemy3] Death animation completed
[20:07:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(838.3282, 966.2114), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:07:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[20:07:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(838.3282, 966.2114), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:07:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[20:07:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(838.32825, 966.21136), shooter_id=8696839015990, bullet_pos=(501.4728, 844.0187)
[20:07:31] [INFO] [Bullet] Using shooter_position, distance=358,33313
[20:07:31] [INFO] [Bullet] Distance to wall: 358,33313 (24,399563% of viewport)
[20:07:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(838.3282, 966.2114), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:07:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[20:07:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(838.32825, 966.21136), shooter_id=8696839015990, bullet_pos=(501.46762, 844.0318)
[20:07:31] [INFO] [Bullet] Using shooter_position, distance=358,33353
[20:07:31] [INFO] [Bullet] Distance to wall: 358,33353 (24,39959% of viewport)
[20:07:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:31] [INFO] [Bullet] Starting wall penetration at (501.46762, 844.0318)
[20:07:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,77214
[20:07:31] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:31] [INFO] [Bullet] Exiting penetration at (465.4314, 830.9614) after traveling 33,333336 pixels through wall
[20:07:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:31] [ENEMY] [Enemy2] Pursuing vulnerability sound at (838.3282, 960.2114), distance=253
[20:07:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(838.3282, 966.2114), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:07:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[20:07:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(838.32825, 966.21136), shooter_id=8696839015990, bullet_pos=(501.22543, 844.703)
[20:07:31] [INFO] [Bullet] Using shooter_position, distance=358,33307
[20:07:31] [INFO] [Bullet] Distance to wall: 358,33307 (24,399557% of viewport)
[20:07:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:31] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[20:07:31] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[20:07:31] [ENEMY] [Enemy2] Hit taken, health: 0/3
[20:07:31] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:07:31] [INFO] [ImpactEffects] spawn_blood_effect called at (639.11, 874.3733), dir=(1, 0), lethal=true
[20:07:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:07:31] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:07:31] [INFO] [ImpactEffects] Wall found for blood splatter at (680, 874.3733) (dist=40 px)
[20:07:31] [INFO] [ImpactEffects] Blood effect spawned at (639.11, 874.3733) (scale=1.5)
[20:07:31] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[20:07:31] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[20:07:31] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[20:07:31] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:07:31] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[20:07:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(838.3282, 966.2114), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:07:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=7
[20:07:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(838.3282, 966.2114), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:07:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=7
[20:07:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(838.32825, 966.21136), shooter_id=8696839015990, bullet_pos=(499.74066, 848.90356)
[20:07:31] [INFO] [Bullet] Using shooter_position, distance=358,3332
[20:07:31] [INFO] [Bullet] Distance to wall: 358,3332 (24,399567% of viewport)
[20:07:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:31] [INFO] [Bullet] Starting wall penetration at (499.74066, 848.90356)
[20:07:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,607784
[20:07:31] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:31] [INFO] [Bullet] Exiting penetration at (463.51965, 836.3544) after traveling 33,333332 pixels through wall
[20:07:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(838.3282, 966.2114), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:07:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=7
[20:07:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(838.32825, 966.21136), shooter_id=8696839015990, bullet_pos=(520.4309, 898.63617)
[20:07:32] [INFO] [Bullet] Using shooter_position, distance=325,00018
[20:07:32] [INFO] [Bullet] Distance to wall: 325,00018 (22,12986% of viewport)
[20:07:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:32] [INFO] [Bullet] Starting wall penetration at (520.4309, 898.63617)
[20:07:32] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,44595
[20:07:32] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:32] [INFO] [Bullet] Exiting penetration at (482.93533, 890.6658) after traveling 33,333336 pixels through wall
[20:07:32] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(838.3282, 966.2114), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:07:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=7
[20:07:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(838.32825, 966.21136), shooter_id=8696839015990, bullet_pos=(516.9996, 917.4971)
[20:07:32] [INFO] [Bullet] Using shooter_position, distance=325,0003
[20:07:32] [INFO] [Bullet] Distance to wall: 325,0003 (22,12987% of viewport)
[20:07:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:32] [INFO] [Bullet] Starting wall penetration at (516.9996, 917.4971)
[20:07:32] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,139542
[20:07:32] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:32] [INFO] [Bullet] Exiting penetration at (479.09927, 911.7513) after traveling 33,333336 pixels through wall
[20:07:32] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(838.32825, 966.21136), shooter_id=8696839015990, bullet_pos=(516.82104, 918.69025)
[20:07:32] [INFO] [Bullet] Using shooter_position, distance=325,0002
[20:07:32] [INFO] [Bullet] Distance to wall: 325,0002 (22,129864% of viewport)
[20:07:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:32] [INFO] [Bullet] Starting wall penetration at (516.82104, 918.69025)
[20:07:32] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,329525
[20:07:32] [ENEMY] [Enemy2] Ragdoll activated
[20:07:32] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:07:32] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:32] [INFO] [Bullet] Exiting penetration at (478.89972, 913.0852) after traveling 33,333332 pixels through wall
[20:07:32] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:32] [ENEMY] [Enemy10] FLANKING timeout (5.0s), target=(895.9116, 768.6802), pos=(1717.469, 751.9335)
[20:07:32] [ENEMY] [Enemy10] State: FLANKING -> PURSUING
[20:07:33] [ENEMY] [Enemy2] Death animation completed
[20:07:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(838.3282, 820.2107), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:07:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=7
[20:07:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(838.3282, 791.4107), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:07:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[20:07:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(838.3282, 774.9841), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:07:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[20:07:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(838.3282, 772.2108), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:07:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[20:07:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(838.32825, 820.2107), shooter_id=8696839015990, bullet_pos=(41.472755, 501.21646)
[20:07:33] [INFO] [Bullet] Using shooter_position, distance=858,33325
[20:07:33] [INFO] [Bullet] Distance to wall: 858,33325 (58,445488% of viewport)
[20:07:33] [INFO] [Bullet] Distance-based penetration chance: 78,48026%
[20:07:33] [INFO] [Bullet] Starting wall penetration at (41.472755, 501.21646)
[20:07:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,129757
[20:07:33] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:33] [INFO] [Bullet] Exiting penetration at (5.8850384, 486.9701) after traveling 33,333336 pixels through wall
[20:07:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(838.32825, 791.4107), shooter_id=8696839015990, bullet_pos=(41.66764, 471.92932)
[20:07:33] [INFO] [Bullet] Using shooter_position, distance=858,3335
[20:07:33] [INFO] [Bullet] Distance to wall: 858,3335 (58,445507% of viewport)
[20:07:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(838.32825, 774.9841), shooter_id=8696839015990, bullet_pos=(46.38064, 443.99213)
[20:07:34] [INFO] [Bullet] Using shooter_position, distance=858,3337
[20:07:34] [INFO] [Bullet] Distance to wall: 858,3337 (58,44552% of viewport)
[20:07:34] [INFO] [Bullet] Distance-based penetration chance: 78,48023%
[20:07:34] [INFO] [Bullet] Starting wall penetration at (46.38064, 443.99213)
[20:07:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,747225
[20:07:34] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:34] [INFO] [Bullet] Exiting penetration at (11.012112, 429.21) after traveling 33,333336 pixels through wall
[20:07:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:34] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[20:07:34] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[20:07:34] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[20:07:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(838.32825, 772.21075), shooter_id=8696839015990, bullet_pos=(57.538136, 415.6951)
[20:07:34] [INFO] [Bullet] Using shooter_position, distance=858,3336
[20:07:34] [INFO] [Bullet] Distance to wall: 858,3336 (58,445515% of viewport)
[20:07:34] [INFO] [Bullet] Distance-based penetration chance: 78,48024%
[20:07:34] [INFO] [Bullet] Penetration failed (distance roll)
[20:07:34] [ENEMY] [Enemy10] FLANKING started: target=(905.8639, 1002.296), side=right, pos=(1544.108, 751.7462)
[20:07:34] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[20:07:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(859.4192, 777.5965), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:07:35] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[20:07:35] [INFO] [ScoreManager] Combo ended at 3. Max combo: 3
[20:07:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(879.7681, 757.2476), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:07:35] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[20:07:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(892.1841, 748.4168), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:07:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=5
[20:07:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(879.7681, 757.24756), shooter_id=8696839015990, bullet_pos=(510.56668, 603.33057)
[20:07:35] [INFO] [Bullet] Using shooter_position, distance=400,00018
[20:07:35] [INFO] [Bullet] Distance to wall: 400,00018 (27,236748% of viewport)
[20:07:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(859.4192, 777.5965), shooter_id=8696839015990, bullet_pos=(64.54396, 453.6985)
[20:07:35] [INFO] [Bullet] Using shooter_position, distance=858,3336
[20:07:35] [INFO] [Bullet] Distance to wall: 858,3336 (58,445515% of viewport)
[20:07:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(893.4131, 753.5524), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:07:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=5
[20:07:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(879.7681, 757.24756), shooter_id=8696839015990, bullet_pos=(348.30975, 685.95654)
[20:07:35] [INFO] [Bullet] Using shooter_position, distance=536,2186
[20:07:35] [INFO] [Bullet] Distance to wall: 536,2186 (36,51211% of viewport)
[20:07:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(892.18414, 748.4168), shooter_id=8696839015990, bullet_pos=(526.11676, 587.188)
[20:07:35] [INFO] [Bullet] Using shooter_position, distance=400,0001
[20:07:35] [INFO] [Bullet] Distance to wall: 400,0001 (27,236742% of viewport)
[20:07:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(879.3022, 769.4207), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:07:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=5
[20:07:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(879.7681, 757.24756), shooter_id=8696839015990, bullet_pos=(66.04387, 567.6876)
[20:07:35] [INFO] [Bullet] Using shooter_position, distance=835,5119
[20:07:35] [INFO] [Bullet] Distance to wall: 835,5119 (56,891544% of viewport)
[20:07:35] [INFO] [Bullet] Distance-based penetration chance: 80,293205%
[20:07:35] [INFO] [Bullet] Penetration failed (distance roll)
[20:07:35] [ENEMY] [Enemy1] Hit taken, health: 2/3
[20:07:35] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[20:07:35] [INFO] [ImpactEffects] spawn_blood_effect called at (464.8779, 528.5586), dir=(1, 0), lethal=false
[20:07:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:07:35] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:07:35] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 528.5586) (dist=35 px)
[20:07:35] [INFO] [ImpactEffects] Blood effect spawned at (464.8779, 528.5586) (scale=1)
[20:07:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(855.5835, 793.4006), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:07:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=5
[20:07:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(879.3022, 769.42065), shooter_id=8696839015990, bullet_pos=(524.0535, 585.5769)
[20:07:35] [INFO] [Bullet] Using shooter_position, distance=400,00015
[20:07:35] [INFO] [Bullet] Distance to wall: 400,00015 (27,236748% of viewport)
[20:07:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(830.6934, 818.2907), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:07:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=5
[20:07:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(855.5835, 793.4006), shooter_id=8696839015990, bullet_pos=(515.1562, 599.72064)
[20:07:36] [INFO] [Bullet] Using shooter_position, distance=391,6665
[20:07:36] [INFO] [Bullet] Distance to wall: 391,6665 (26,669294% of viewport)
[20:07:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:36] [INFO] [Bullet] Starting wall penetration at (515.1562, 599.72064)
[20:07:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,895908
[20:07:36] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:36] [INFO] [Bullet] Exiting penetration at (481.83777, 580.7647) after traveling 33,333336 pixels through wall
[20:07:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(830.69336, 818.2907), shooter_id=8696839015990, bullet_pos=(268.66577, 475.46716)
[20:07:36] [INFO] [Bullet] Using shooter_position, distance=658,3335
[20:07:36] [INFO] [Bullet] Distance to wall: 658,3335 (44,82714% of viewport)
[20:07:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(830.69336, 818.2907), shooter_id=8696839015990, bullet_pos=(58.980167, 573.963)
[20:07:36] [INFO] [Bullet] Using shooter_position, distance=809,4673
[20:07:36] [INFO] [Bullet] Distance to wall: 809,4673 (55,11812% of viewport)
[20:07:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(830.69336, 818.2907), shooter_id=8696839015990, bullet_pos=(300.39392, 694.6877)
[20:07:36] [INFO] [Bullet] Using shooter_position, distance=544,51373
[20:07:36] [INFO] [Bullet] Distance to wall: 544,51373 (37,076942% of viewport)
[20:07:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(789.0748, 776.8308), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:07:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[20:07:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(812.2446, 751.3913), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:07:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[20:07:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(834.6102, 732.8332), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:07:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[20:07:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(848.972, 722.4478), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:07:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[20:07:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(789.07477, 776.8308), shooter_id=8696839015990, bullet_pos=(38.341858, 434.74182)
[20:07:37] [INFO] [Bullet] Using shooter_position, distance=824,9999
[20:07:37] [INFO] [Bullet] Distance to wall: 824,9999 (56,175762% of viewport)
[20:07:37] [INFO] [Bullet] Distance-based penetration chance: 81,12828%
[20:07:37] [INFO] [Bullet] Penetration failed (distance roll)
[20:07:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(834.6102, 732.8332), shooter_id=8696839015990, bullet_pos=(507.63144, 586.247)
[20:07:37] [INFO] [Bullet] Using shooter_position, distance=358,33313
[20:07:37] [INFO] [Bullet] Distance to wall: 358,33313 (24,399563% of viewport)
[20:07:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(858.9407, 724.59), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:07:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[20:07:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(812.2446, 751.3913), shooter_id=8696839015990, bullet_pos=(58.919662, 415.0475)
[20:07:37] [INFO] [Bullet] Using shooter_position, distance=825,00037
[20:07:37] [INFO] [Bullet] Distance to wall: 825,00037 (56,175793% of viewport)
[20:07:37] [INFO] [Bullet] Distance-based penetration chance: 81,12824%
[20:07:37] [INFO] [Bullet] Starting wall penetration at (58.919662, 415.0475)
[20:07:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8,852402
[20:07:37] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:37] [INFO] [Bullet] Exiting penetration at (23.916693, 399.4194) after traveling 33,333336 pixels through wall
[20:07:37] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(848.97205, 722.4478), shooter_id=8696839015990, bullet_pos=(524.66376, 570.0437)
[20:07:37] [INFO] [Bullet] Using shooter_position, distance=358,33347
[20:07:37] [INFO] [Bullet] Distance to wall: 358,33347 (24,399586% of viewport)
[20:07:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(864.9674, 739.8041), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:07:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[20:07:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(858.9407, 724.59), shooter_id=8696839015990, bullet_pos=(511.25363, 544.26654)
[20:07:38] [INFO] [Bullet] Using shooter_position, distance=391,66675
[20:07:38] [INFO] [Bullet] Distance to wall: 391,66675 (26,669308% of viewport)
[20:07:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:38] [INFO] [Bullet] Starting wall penetration at (511.25363, 544.26654)
[20:07:38] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,656202
[20:07:38] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:38] [INFO] [Bullet] Exiting penetration at (477.2247, 526.61786) after traveling 33,333336 pixels through wall
[20:07:38] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:38] [ENEMY] [Enemy1] Hit taken, health: 1/3
[20:07:38] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[20:07:38] [INFO] [ImpactEffects] spawn_blood_effect called at (464.8779, 528.5586), dir=(1, 0), lethal=false
[20:07:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:07:38] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:07:38] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 528.5586) (dist=35 px)
[20:07:38] [INFO] [ImpactEffects] Blood effect spawned at (464.8779, 528.5586) (scale=1)
[20:07:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(867.0523, 768.0901), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:07:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=5
[20:07:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(864.9674, 739.80414), shooter_id=8696839015990, bullet_pos=(524.7273, 545.79504)
[20:07:38] [INFO] [Bullet] Using shooter_position, distance=391,66678
[20:07:38] [INFO] [Bullet] Distance to wall: 391,66678 (26,669312% of viewport)
[20:07:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:38] [INFO] [Bullet] Starting wall penetration at (524.7273, 545.79504)
[20:07:38] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9,86857
[20:07:38] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:38] [INFO] [Bullet] Exiting penetration at (491.4272, 526.80695) after traveling 33,333336 pixels through wall
[20:07:38] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:38] [ENEMY] [Enemy1] Hit taken, health: 0/3
[20:07:38] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[20:07:38] [INFO] [ImpactEffects] spawn_blood_effect called at (464.8779, 528.5586), dir=(1, 0), lethal=true
[20:07:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:07:38] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:07:38] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 528.5586) (dist=35 px)
[20:07:38] [INFO] [ImpactEffects] Blood effect spawned at (464.8779, 528.5586) (scale=1.5)
[20:07:38] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[20:07:38] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:07:38] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[20:07:38] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:07:38] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[20:07:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(867.0523, 803.2903), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:07:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=5
[20:07:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(867.0523, 768.09015), shooter_id=8696839015990, bullet_pos=(507.45856, 541.55664)
[20:07:38] [INFO] [Bullet] Using shooter_position, distance=425,00012
[20:07:38] [INFO] [Bullet] Distance to wall: 425,00012 (28,939041% of viewport)
[20:07:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:38] [INFO] [Bullet] Starting wall penetration at (507.45856, 541.55664)
[20:07:38] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,518139
[20:07:38] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:38] [INFO] [Bullet] Exiting penetration at (475.02463, 521.1242) after traveling 33,333332 pixels through wall
[20:07:38] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(867.0523, 803.29034), shooter_id=8696839015990, bullet_pos=(516.12695, 563.5477)
[20:07:38] [INFO] [Bullet] Using shooter_position, distance=425,00015
[20:07:38] [INFO] [Bullet] Distance to wall: 425,00015 (28,939041% of viewport)
[20:07:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:38] [ENEMY] [Enemy1] Ragdoll activated
[20:07:38] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:07:38] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:07:38] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[20:07:38] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[20:07:38] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[20:07:38] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[20:07:38] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[20:07:38] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[20:07:38] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[20:07:38] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(811.5338, 884.3495), source=PLAYER (Player), range=900, listeners=6
[20:07:38] [ENEMY] [Enemy10] Heard player RELOAD at (811.5338, 884.3495), intensity=0.01, distance=469
[20:07:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=1
[20:07:38] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1037), can_see=false
[20:07:38] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1219), can_see=false
[20:07:38] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=800), can_see=false
[20:07:38] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1227), can_see=false
[20:07:38] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1450), can_see=false
[20:07:38] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=469), can_see=false
[20:07:38] [INFO] [Player.Reload.Anim] LeftArm: pos=(10.655226, 3.185185), target=(4, 2), base=(24, 6)
[20:07:38] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.7293005, 6), target=(-2, 6), base=(-2, 6)
[20:07:39] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:07:39] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:07:39] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[20:07:39] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[20:07:39] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[20:07:39] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[20:07:39] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[20:07:39] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[20:07:39] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[20:07:39] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:07:39] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:07:40] [ENEMY] [Enemy1] Death animation completed
[20:07:40] [ENEMY] [Enemy10] FLANKING timeout (5.0s), target=(899.0907, 821.0038), pos=(1399.222, 667.9822)
[20:07:40] [ENEMY] [Enemy10] State: FLANKING -> PURSUING
[20:07:40] [ENEMY] [Enemy10] Pursuing vulnerability sound at (811.5338, 884.3495), distance=625
[20:07:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(790.8388, 620.9205), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:07:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=5
[20:07:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(790.8388, 620.92053), shooter_id=8696839015990, bullet_pos=(914.7705, 604.6125)
[20:07:41] [INFO] [Bullet] Using shooter_position, distance=125,00008
[20:07:41] [INFO] [Bullet] Distance to wall: 125,00008 (8,511485% of viewport)
[20:07:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:41] [INFO] [Bullet] Starting wall penetration at (914.7705, 604.6125)
[20:07:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,92087
[20:07:41] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:41] [INFO] [Bullet] Exiting penetration at (952.77625, 599.6113) after traveling 33,333332 pixels through wall
[20:07:41] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(763.3873, 594.5566), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:07:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=5
[20:07:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(730.806, 580.2674), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:07:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=5
[20:07:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(763.3873, 594.55664), shooter_id=8696839015990, bullet_pos=(1366.0415, 511.62436)
[20:07:41] [INFO] [Bullet] Using shooter_position, distance=608,3336
[20:07:41] [INFO] [Bullet] Distance to wall: 608,3336 (41,422554% of viewport)
[20:07:41] [INFO] [Bullet] Distance-based penetration chance: 98,340355%
[20:07:41] [INFO] [Bullet] Starting wall penetration at (1366.0415, 511.62436)
[20:07:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24,501328
[20:07:41] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:41] [INFO] [Bullet] Exiting penetration at (1412.2726, 505.26245) after traveling 41,666668 pixels through wall
[20:07:41] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:41] [ENEMY] [Enemy7] Memory: high confidence (0.88) - transitioning to PURSUING
[20:07:41] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[20:07:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(730.806, 580.2674), shooter_id=8696839015990, bullet_pos=(1376.3535, 504.31934)
[20:07:41] [INFO] [Bullet] Using shooter_position, distance=649,99976
[20:07:41] [INFO] [Bullet] Distance to wall: 649,99976 (44,259678% of viewport)
[20:07:41] [INFO] [Bullet] Distance-based penetration chance: 95,03037%
[20:07:41] [INFO] [Bullet] Starting wall penetration at (1376.3535, 504.31934)
[20:07:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34,939762
[20:07:41] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:41] [INFO] [Bullet] Exiting penetration at (1422.7004, 498.8667) after traveling 41,666668 pixels through wall
[20:07:41] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:41] [INFO] [ScoreManager] Combo ended at 1. Max combo: 3
[20:07:42] [ENEMY] [Enemy10] Pursuing vulnerability sound at (725.8434, 573.4749), distance=374
[20:07:42] [ENEMY] [Enemy5] Memory: medium confidence (0.75) - transitioning to PURSUING
[20:07:42] [ENEMY] [Enemy5] State: IDLE -> PURSUING
[20:07:42] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[20:07:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(789.3848, 504.4844), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:07:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[20:07:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(983.4105, 614.1695), source=ENEMY (Enemy10), range=1469, listeners=6
[20:07:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=4
[20:07:42] [INFO] [LastChance] Threat detected: @Area2D@7558
[20:07:42] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:07:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(797.9417, 477.2607), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:07:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:07:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(983.4105, 614.1695), source=ENEMY (Enemy10), range=1469, listeners=6
[20:07:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=4
[20:07:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(789.3848, 504.48438), shooter_id=8696839015990, bullet_pos=(1280.3065, 690.5505)
[20:07:42] [INFO] [Bullet] Using shooter_position, distance=524,9997
[20:07:42] [INFO] [Bullet] Distance to wall: 524,9997 (35,748196% of viewport)
[20:07:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:42] [INFO] [LastChance] Threat detected: @Area2D@7562
[20:07:42] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:07:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:07:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(790.1653, 450.037), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:07:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:07:42] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[20:07:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(922.9244, 582.6877), shooter_id=8696016930481, bullet_pos=(508.715, 302.6333)
[20:07:42] [INFO] [Bullet] Using shooter_position, distance=499.999969482422
[20:07:42] [INFO] [Bullet] Distance to wall: 499.999969482422 (34.0459173409297% of viewport)
[20:07:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(789.3848, 504.48438), shooter_id=8696839015990, bullet_pos=(1486.1926, 620.42847)
[20:07:42] [INFO] [Bullet] Using shooter_position, distance=706,3881
[20:07:42] [INFO] [Bullet] Distance to wall: 706,3881 (48,099266% of viewport)
[20:07:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(797.9417, 477.26068), shooter_id=8696839015990, bullet_pos=(1278.1875, 689.3673)
[20:07:42] [INFO] [Bullet] Using shooter_position, distance=525,00024
[20:07:42] [INFO] [Bullet] Distance to wall: 525,00024 (35,748234% of viewport)
[20:07:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(766.8325, 422.8133), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:07:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:07:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(797.9417, 477.26068), shooter_id=8696839015990, bullet_pos=(1403.3555, 612.92035)
[20:07:42] [INFO] [Bullet] Using shooter_position, distance=620,42676
[20:07:42] [INFO] [Bullet] Distance to wall: 620,42676 (42,246% of viewport)
[20:07:42] [INFO] [Bullet] Distance-based penetration chance: 97,37967%
[20:07:42] [INFO] [Bullet] Starting wall penetration at (1403.3555, 612.92035)
[20:07:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,628398
[20:07:42] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:42] [INFO] [Bullet] Exiting penetration at (1437.8478, 591.854) after traveling 35,416668 pixels through wall
[20:07:42] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[20:07:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(926.2941, 577.03), shooter_id=8696016930481, bullet_pos=(508.977, 231.7048)
[20:07:42] [INFO] [Bullet] Using shooter_position, distance=541.666931152344
[20:07:42] [INFO] [Bullet] Distance to wall: 541.666931152344 (36.8830973798211% of viewport)
[20:07:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:42] [INFO] [Bullet] Starting wall penetration at (508.977, 231.7048)
[20:07:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35.0147666931152
[20:07:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(790.1653, 450.037), shooter_id=8696839015990, bullet_pos=(1200.3167, 705.74603)
[20:07:42] [INFO] [Bullet] Using shooter_position, distance=483,33347
[20:07:42] [INFO] [Bullet] Distance to wall: 483,33347 (32,911064% of viewport)
[20:07:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:42] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:42] [INFO] [Bullet] Exiting penetration at (473.0235, 201.9537) after traveling 41.6666679382324 pixels through wall
[20:07:42] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:07:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(739.6088, 395.5896), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:07:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:07:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(922.9244, 582.6877), shooter_id=8696016930481, bullet_pos=(902.3503, 54.31154)
[20:07:43] [INFO] [Bullet] Using shooter_position, distance=528.776611328125
[20:07:43] [INFO] [Bullet] Distance to wall: 528.776611328125 (36.005371799782% of viewport)
[20:07:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(766.83246, 422.8133), shooter_id=8696839015990, bullet_pos=(1069.2957, 684.56915)
[20:07:43] [INFO] [Bullet] Using shooter_position, distance=400,00015
[20:07:43] [INFO] [Bullet] Distance to wall: 400,00015 (27,236748% of viewport)
[20:07:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(790.1653, 450.037), shooter_id=8696839015990, bullet_pos=(1396.5771, 612.0013)
[20:07:43] [INFO] [Bullet] Using shooter_position, distance=627,6685
[20:07:43] [INFO] [Bullet] Distance to wall: 627,6685 (42,739105% of viewport)
[20:07:43] [INFO] [Bullet] Distance-based penetration chance: 96,80438%
[20:07:43] [INFO] [Bullet] Starting wall penetration at (1396.5771, 612.0013)
[20:07:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,572065
[20:07:43] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:43] [INFO] [Bullet] Exiting penetration at (1433.047, 594.5813) after traveling 35,416664 pixels through wall
[20:07:43] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[20:07:43] [ENEMY] [Enemy5] State: PURSUING -> RETREATING
[20:07:43] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[20:07:43] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:07:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(712.3851, 368.3659), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:07:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:07:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(922.9244, 582.6877), shooter_id=8696016930481, bullet_pos=(1086.069, 217.6563)
[20:07:43] [INFO] [Bullet] Using shooter_position, distance=399.830169677734
[20:07:43] [INFO] [Bullet] Distance to wall: 399.830169677734 (27.2251714762087% of viewport)
[20:07:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(739.60876, 395.5896), shooter_id=8696839015990, bullet_pos=(1052.7416, 707.06555)
[20:07:43] [INFO] [Bullet] Using shooter_position, distance=441,66663
[20:07:43] [INFO] [Bullet] Distance to wall: 441,66663 (30,073893% of viewport)
[20:07:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(922.9244, 582.6877), shooter_id=8696016930481, bullet_pos=(1017.773, 262.6149)
[20:07:43] [INFO] [Bullet] Using shooter_position, distance=333.830718994141
[20:07:43] [INFO] [Bullet] Distance to wall: 333.830718994141 (22.7311475168744% of viewport)
[20:07:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(685.1614, 341.1422), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:07:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:07:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(766.83246, 422.8133), shooter_id=8696839015990, bullet_pos=(1382.6676, 390.12415)
[20:07:43] [INFO] [Bullet] Using shooter_position, distance=616,70215
[20:07:43] [INFO] [Bullet] Distance to wall: 616,70215 (41,992386% of viewport)
[20:07:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(712.3851, 368.3659), shooter_id=8696839015990, bullet_pos=(1060.4064, 703.7642)
[20:07:43] [INFO] [Bullet] Using shooter_position, distance=483,33307
[20:07:43] [INFO] [Bullet] Distance to wall: 483,33307 (32,911037% of viewport)
[20:07:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(657.9377, 313.9185), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:07:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:07:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(739.60876, 395.5896), shooter_id=8696839015990, bullet_pos=(1367.1439, 468.63934)
[20:07:43] [INFO] [Bullet] Using shooter_position, distance=631,7726
[20:07:43] [INFO] [Bullet] Distance to wall: 631,7726 (43,01856% of viewport)
[20:07:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(789.3848, 504.48438), shooter_id=8696839015990, bullet_pos=(2476.8198, 897.1104)
[20:07:43] [INFO] [Bullet] Using shooter_position, distance=1732,5104
[20:07:43] [INFO] [Bullet] Distance to wall: 1732,5104 (117,969826% of viewport)
[20:07:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(685.1614, 341.1422), shooter_id=8696839015990, bullet_pos=(1059.7078, 709.02795)
[20:07:43] [INFO] [Bullet] Using shooter_position, distance=524,99994
[20:07:43] [INFO] [Bullet] Distance to wall: 524,99994 (35,748215% of viewport)
[20:07:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:43] [INFO] [Bullet] Starting wall penetration at (1059.7078, 709.02795)
[20:07:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 42,425354
[20:07:43] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:43] [INFO] [Bullet] Exiting penetration at (1093.0009, 741.7289) after traveling 41,666668 pixels through wall
[20:07:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(630.714, 286.6948), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:07:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[20:07:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(766.83246, 422.8133), shooter_id=8696839015990, bullet_pos=(1107.034, 64.71264)
[20:07:43] [INFO] [Bullet] Using shooter_position, distance=493,93643
[20:07:43] [INFO] [Bullet] Distance to wall: 493,93643 (33,63304% of viewport)
[20:07:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(712.3851, 368.3659), shooter_id=8696839015990, bullet_pos=(1382.422, 475.72498)
[20:07:43] [INFO] [Bullet] Using shooter_position, distance=678,58344
[20:07:43] [INFO] [Bullet] Distance to wall: 678,58344 (46,205994% of viewport)
[20:07:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(657.9377, 313.91852), shooter_id=8696839015990, bullet_pos=(931.79785, 605.46716)
[20:07:43] [INFO] [Bullet] Using shooter_position, distance=400
[20:07:43] [INFO] [Bullet] Distance to wall: 400 (27,236736% of viewport)
[20:07:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(739.60876, 395.5896), shooter_id=8696839015990, bullet_pos=(1123.9257, 236.607)
[20:07:43] [INFO] [Bullet] Using shooter_position, distance=415,90256
[20:07:43] [INFO] [Bullet] Distance to wall: 415,90256 (28,31957% of viewport)
[20:07:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(922.9244, 582.6877), shooter_id=8696016930481, bullet_pos=(1360.701, 571.8359)
[20:07:43] [INFO] [Bullet] Using shooter_position, distance=437.911224365234
[20:07:43] [INFO] [Bullet] Distance to wall: 437.911224365234 (29.8181805147655% of viewport)
[20:07:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(630.714, 286.69482), shooter_id=8696839015990, bullet_pos=(922.54785, 618.2101)
[20:07:43] [INFO] [Bullet] Using shooter_position, distance=441,6666
[20:07:43] [INFO] [Bullet] Distance to wall: 441,6666 (30,07389% of viewport)
[20:07:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:43] [INFO] [Bullet] Starting wall penetration at (922.54785, 618.2101)
[20:07:43] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[20:07:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,307938
[20:07:43] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:43] [INFO] [Bullet] Exiting penetration at (953.3831, 653.2381) after traveling 41,666668 pixels through wall
[20:07:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:43] [ENEMY] [Enemy10] Hit taken, health: 1/2
[20:07:43] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[20:07:43] [INFO] [ImpactEffects] spawn_blood_effect called at (967.9909, 663.7562), dir=(1, 0), lethal=false
[20:07:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:07:43] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:07:43] [INFO] [ImpactEffects] Blood effect spawned at (967.9909, 663.7562) (scale=1)
[20:07:43] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:07:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(712.3851, 368.3659), shooter_id=8696839015990, bullet_pos=(1096.295, 299.30124)
[20:07:43] [INFO] [Bullet] Using shooter_position, distance=390,0728
[20:07:43] [INFO] [Bullet] Distance to wall: 390,0728 (26,560778% of viewport)
[20:07:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(922.9244, 582.6877), shooter_id=8696016930481, bullet_pos=(1246.598, 689.6271)
[20:07:43] [INFO] [Bullet] Using shooter_position, distance=340.882354736328
[20:07:43] [INFO] [Bullet] Distance to wall: 340.882354736328 (23.2113063613747% of viewport)
[20:07:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(739.60876, 395.5896), shooter_id=8696839015990, bullet_pos=(1328.6489, 58.85694)
[20:07:43] [INFO] [Bullet] Using shooter_position, distance=678,4963
[20:07:43] [INFO] [Bullet] Distance to wall: 678,4963 (46,20006% of viewport)
[20:07:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(657.9377, 313.91852), shooter_id=8696839015990, bullet_pos=(1311.8665, 52.687347)
[20:07:43] [INFO] [Bullet] Using shooter_position, distance=704,1765
[20:07:43] [INFO] [Bullet] Distance to wall: 704,1765 (47,948677% of viewport)
[20:07:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(739.60876, 395.5896), shooter_id=8696839015990, bullet_pos=(1602.9047, 281.10956)
[20:07:44] [INFO] [Bullet] Using shooter_position, distance=870,85333
[20:07:44] [INFO] [Bullet] Distance to wall: 870,85333 (59,298008% of viewport)
[20:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(564.4551, 306.9729), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:07:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[20:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(564.4551, 342.1729), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:07:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[20:07:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(712.3851, 368.3659), shooter_id=8696839015990, bullet_pos=(493.972, 696.46375)
[20:07:44] [INFO] [Bullet] Using shooter_position, distance=394,14777
[20:07:44] [INFO] [Bullet] Distance to wall: 394,14777 (26,838245% of viewport)
[20:07:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(564.4551, 377.3728), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:07:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:07:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(564.4551, 306.97293), shooter_id=8696839015990, bullet_pos=(1054.1559, 695.32587)
[20:07:44] [INFO] [Bullet] Using shooter_position, distance=624,9999
[20:07:44] [INFO] [Bullet] Distance to wall: 624,9999 (42,557392% of viewport)
[20:07:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(739.60876, 395.5896), shooter_id=8696839015990, bullet_pos=(1866.9535, 58.794323)
[20:07:44] [INFO] [Bullet] Using shooter_position, distance=1176,5786
[20:07:44] [INFO] [Bullet] Distance to wall: 1176,5786 (80,1154% of viewport)
[20:07:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(712.3851, 368.3659), shooter_id=8696839015990, bullet_pos=(678.34204, 863.23004)
[20:07:44] [INFO] [Bullet] Using shooter_position, distance=496,0337
[20:07:44] [INFO] [Bullet] Distance to wall: 496,0337 (33,77585% of viewport)
[20:07:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(564.4551, 342.17288), shooter_id=8696839015990, bullet_pos=(1079.4141, 696.35065)
[20:07:44] [INFO] [Bullet] Using shooter_position, distance=624,9997
[20:07:44] [INFO] [Bullet] Distance to wall: 624,9997 (42,55738% of viewport)
[20:07:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(564.4551, 377.37283), shooter_id=8696839015990, bullet_pos=(928.42926, 596.7993)
[20:07:44] [INFO] [Bullet] Using shooter_position, distance=425,0002
[20:07:44] [INFO] [Bullet] Distance to wall: 425,0002 (28,939047% of viewport)
[20:07:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(564.4551, 306.97293), shooter_id=8696839015990, bullet_pos=(1369.2955, 402.77307)
[20:07:44] [INFO] [Bullet] Using shooter_position, distance=810,522
[20:07:44] [INFO] [Bullet] Distance to wall: 810,522 (55,18993% of viewport)
[20:07:44] [INFO] [Bullet] Distance-based penetration chance: 82,27841%
[20:07:44] [INFO] [Bullet] Starting wall penetration at (1369.2955, 402.77307)
[20:07:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7,811575
[20:07:44] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:44] [INFO] [Bullet] Exiting penetration at (1393.725, 380.09457) after traveling 28,333332 pixels through wall
[20:07:44] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[20:07:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(712.3851, 368.3659), shooter_id=8696839015990, bullet_pos=(525.404, 962.77795)
[20:07:44] [INFO] [Bullet] Using shooter_position, distance=623,1273
[20:07:44] [INFO] [Bullet] Distance to wall: 623,1273 (42,429886% of viewport)
[20:07:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(564.4551, 342.17288), shooter_id=8696839015990, bullet_pos=(1365.2504, 560.0603)
[20:07:44] [INFO] [Bullet] Using shooter_position, distance=829,90845
[20:07:44] [INFO] [Bullet] Distance to wall: 829,90845 (56,509995% of viewport)
[20:07:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(712.3851, 368.3659), shooter_id=8696839015990, bullet_pos=(567.3895, 998.7478)
[20:07:44] [INFO] [Bullet] Using shooter_position, distance=646,8424
[20:07:44] [INFO] [Bullet] Distance to wall: 646,8424 (44,044693% of viewport)
[20:07:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(564.4551, 377.37283), shooter_id=8696839015990, bullet_pos=(1367.4164, 276.6417)
[20:07:44] [INFO] [Bullet] Using shooter_position, distance=809,255
[20:07:44] [INFO] [Bullet] Distance to wall: 809,255 (55,103664% of viewport)
[20:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(712.3851, 368.3659), shooter_id=8696839015990, bullet_pos=(694.57117, 893.1773)
[20:07:45] [INFO] [Bullet] Using shooter_position, distance=525,11365
[20:07:45] [INFO] [Bullet] Distance to wall: 525,11365 (35,755955% of viewport)
[20:07:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(564.4551, 377.37283), shooter_id=8696839015990, bullet_pos=(1039.6198, 64.72231)
[20:07:45] [INFO] [Bullet] Using shooter_position, distance=568,7986
[20:07:45] [INFO] [Bullet] Distance to wall: 568,7986 (38,730545% of viewport)
[20:07:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(553.6149, 584.0826), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:07:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:07:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.067, 611.8403), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:07:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(712.3851, 368.3659), shooter_id=8696839015990, bullet_pos=(850.1786, 996.2709)
[20:07:45] [INFO] [Bullet] Using shooter_position, distance=642,84656
[20:07:45] [INFO] [Bullet] Distance to wall: 642,84656 (43,772606% of viewport)
[20:07:45] [INFO] [Bullet] Distance-based penetration chance: 95,598625%
[20:07:45] [INFO] [Bullet] Starting wall penetration at (850.1786, 996.2709)
[20:07:45] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:07:45] [INFO] [Bullet] Exiting penetration at (861.91876, 1004.049) after traveling 9,083019 pixels through wall
[20:07:45] [INFO] [Bullet] Damage multiplier after penetration: 0,003515625
[20:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(553.61487, 584.08264), shooter_id=8696839015990, bullet_pos=(924.6299, 709.5833)
[20:07:45] [INFO] [Bullet] Using shooter_position, distance=391,66638
[20:07:45] [INFO] [Bullet] Distance to wall: 391,66638 (26,669285% of viewport)
[20:07:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(739.60876, 395.5896), shooter_id=8696839015990, bullet_pos=(2461.0513, 468.3508)
[20:07:45] [INFO] [Bullet] Using shooter_position, distance=1722,9795
[20:07:45] [INFO] [Bullet] Distance to wall: 1722,9795 (117,32085% of viewport)
[20:07:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.264, 646.4928), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:07:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.06696, 611.84033), shooter_id=8696839015990, bullet_pos=(925.086, 683.6936)
[20:07:45] [INFO] [Bullet] Using shooter_position, distance=391,66638
[20:07:45] [INFO] [Bullet] Distance to wall: 391,66638 (26,669285% of viewport)
[20:07:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(553.61487, 584.08264), shooter_id=8696839015990, bullet_pos=(714.84735, 807.8726)
[20:07:45] [INFO] [Bullet] Using shooter_position, distance=275,82217
[20:07:45] [INFO] [Bullet] Distance to wall: 275,82217 (18,78124% of viewport)
[20:07:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.9362, 678.1006), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:07:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.26404, 646.4928), shooter_id=8696839015990, bullet_pos=(928.40204, 698.9476)
[20:07:45] [INFO] [Bullet] Using shooter_position, distance=391,66644
[20:07:45] [INFO] [Bullet] Distance to wall: 391,66644 (26,669289% of viewport)
[20:07:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:45] [INFO] [Bullet] Starting wall penetration at (928.40204, 698.9476)
[20:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(564.4551, 377.37283), shooter_id=8696839015990, bullet_pos=(517.79407, 313.70697)
[20:07:45] [INFO] [Bullet] Using shooter_position, distance=78,9341
[20:07:45] [INFO] [Bullet] Distance to wall: 78,9341 (5,374768% of viewport)
[20:07:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,666283
[20:07:45] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:45] [INFO] [Bullet] Exiting penetration at (966.39, 704.0814) after traveling 33,333336 pixels through wall
[20:07:45] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.26404, 646.4928), shooter_id=8696839015990, bullet_pos=(966.39, 704.0814)
[20:07:45] [INFO] [Bullet] Using shooter_position, distance=429,99976
[20:07:45] [INFO] [Bullet] Distance to wall: 429,99976 (29,279476% of viewport)
[20:07:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:45] [INFO] [Bullet] Starting wall penetration at (966.39, 704.0814)
[20:07:45] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:07:45] [INFO] [Bullet] Exiting penetration at (1004.378, 709.2153) after traveling 33,333336 pixels through wall
[20:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(553.61487, 584.08264), shooter_id=8696839015990, bullet_pos=(498.39908, 691.3218)
[20:07:45] [INFO] [Bullet] Using shooter_position, distance=120,6193
[20:07:45] [INFO] [Bullet] Distance to wall: 120,6193 (8,21319% of viewport)
[20:07:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(571.405, 708.3939), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:07:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(548.9362, 678.10065), shooter_id=8696839015990, bullet_pos=(938.9481, 714.06854)
[20:07:45] [INFO] [Bullet] Using shooter_position, distance=391,6669
[20:07:45] [INFO] [Bullet] Distance to wall: 391,6669 (26,669321% of viewport)
[20:07:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:45] [INFO] [Bullet] Starting wall penetration at (938.9481, 714.06854)
[20:07:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41,294
[20:07:45] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:45] [INFO] [Bullet] Exiting penetration at (977.1195, 717.5888) after traveling 33,333336 pixels through wall
[20:07:45] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(582.3713, 730.6688), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:07:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(571.405, 708.39386), shooter_id=8696839015990, bullet_pos=(929.1929, 688.62933)
[20:07:45] [INFO] [Bullet] Using shooter_position, distance=358,3333
[20:07:45] [INFO] [Bullet] Distance to wall: 358,3333 (24,399576% of viewport)
[20:07:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:45] [INFO] [Bullet] Starting wall penetration at (929.1929, 688.62933)
[20:07:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,515808
[20:07:45] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:45] [INFO] [Bullet] Exiting penetration at (967.46783, 686.515) after traveling 33,333336 pixels through wall
[20:07:45] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(571.405, 708.39386), shooter_id=8696839015990, bullet_pos=(967.46783, 686.515)
[20:07:45] [INFO] [Bullet] Using shooter_position, distance=396,66666
[20:07:45] [INFO] [Bullet] Distance to wall: 396,66666 (27,009764% of viewport)
[20:07:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:45] [INFO] [Bullet] Starting wall penetration at (967.46783, 686.515)
[20:07:45] [ENEMY] [Enemy10] Hit taken, health: 0/2
[20:07:45] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[20:07:45] [INFO] [ImpactEffects] spawn_blood_effect called at (967.9909, 663.7562), dir=(1, 0), lethal=true
[20:07:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:07:45] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:07:45] [INFO] [ImpactEffects] Blood effect spawned at (967.9909, 663.7562) (scale=1.5)
[20:07:45] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[20:07:45] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:07:45] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 5)
[20:07:45] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:07:45] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[20:07:45] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:07:45] [INFO] [Bullet] Exiting penetration at (1005.7428, 684.4007) after traveling 33,333336 pixels through wall
[20:07:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(582.8996, 752.1681), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:07:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[20:07:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(582.37134, 730.66876), shooter_id=8696839015990, bullet_pos=(937.9914, 686.6564)
[20:07:46] [INFO] [Bullet] Using shooter_position, distance=358,33325
[20:07:46] [INFO] [Bullet] Distance to wall: 358,33325 (24,39957% of viewport)
[20:07:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(568.2363, 772.8345), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:07:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[20:07:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(582.8996, 752.1681), shooter_id=8696839015990, bullet_pos=(936.1372, 691.9526)
[20:07:46] [INFO] [Bullet] Using shooter_position, distance=358,33325
[20:07:46] [INFO] [Bullet] Distance to wall: 358,33325 (24,39957% of viewport)
[20:07:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(544.4578, 790.316), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:07:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[20:07:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(568.23627, 772.83453), shooter_id=8696839015990, bullet_pos=(913.16797, 675.7532)
[20:07:46] [INFO] [Bullet] Using shooter_position, distance=358,33316
[20:07:46] [INFO] [Bullet] Distance to wall: 358,33316 (24,399565% of viewport)
[20:07:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:46] [INFO] [Bullet] Starting wall penetration at (913.16797, 675.7532)
[20:07:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,614191
[20:07:46] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:46] [INFO] [Bullet] Exiting penetration at (950.0676, 665.36774) after traveling 33,33334 pixels through wall
[20:07:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(544.45776, 790.316), shooter_id=8696839015990, bullet_pos=(910.96826, 652.2112)
[20:07:46] [INFO] [Bullet] Using shooter_position, distance=391,66678
[20:07:46] [INFO] [Bullet] Distance to wall: 391,66678 (26,669312% of viewport)
[20:07:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:46] [INFO] [Bullet] Starting wall penetration at (910.96826, 652.2112)
[20:07:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11,583467
[20:07:46] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:46] [INFO] [Bullet] Exiting penetration at (946.8395, 638.6945) after traveling 33,333336 pixels through wall
[20:07:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:46] [ENEMY] [Enemy10] Ragdoll activated
[20:07:46] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:07:46] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:07:46] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[20:07:46] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[20:07:46] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[20:07:46] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[20:07:46] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[20:07:46] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[20:07:46] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(424.3019, 749.5112), source=PLAYER (Player), range=900, listeners=5
[20:07:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[20:07:46] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1191), can_see=false
[20:07:46] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1555), can_see=false
[20:07:46] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1003), can_see=false
[20:07:46] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1634), can_see=false
[20:07:46] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1857), can_see=false
[20:07:47] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:07:47] [ENEMY] [Enemy10] Death animation completed
[20:07:47] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:07:47] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[20:07:47] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[20:07:47] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[20:07:47] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[20:07:47] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[20:07:47] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[20:07:47] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:07:47] [ENEMY] [Enemy5] State: SUPPRESSED -> IN_COVER
[20:07:47] [ENEMY] [Enemy5] State: IN_COVER -> PURSUING
[20:07:47] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:07:49] [INFO] [ScoreManager] Combo ended at 1. Max combo: 3
[20:07:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(932.8538, 530.0172), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:07:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[20:07:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(932.8538, 530.0172), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:07:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[20:07:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(932.8538, 530.01715), shooter_id=8696839015990, bullet_pos=(1372.3566, 573.6872)
[20:07:51] [INFO] [Bullet] Using shooter_position, distance=441,66702
[20:07:51] [INFO] [Bullet] Distance to wall: 441,66702 (30,07392% of viewport)
[20:07:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:51] [INFO] [Bullet] Starting wall penetration at (1372.3566, 573.6872)
[20:07:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,946198
[20:07:51] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:51] [INFO] [Bullet] Exiting penetration at (1418.7946, 578.3014) after traveling 41,66667 pixels through wall
[20:07:51] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:51] [ENEMY] [Enemy5] Hit taken, health: 2/3
[20:07:51] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[20:07:51] [INFO] [ImpactEffects] spawn_blood_effect called at (1424.363, 575.2945), dir=(1, 0), lethal=false
[20:07:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:07:51] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:07:51] [INFO] [ImpactEffects] Blood effect spawned at (1424.363, 575.2945) (scale=1)
[20:07:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(932.8538, 530.0172), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:07:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[20:07:51] [ENEMY] [Enemy5] FLANKING started: target=(1014.342, 706.6636), side=right, pos=(1424.363, 575.2945)
[20:07:51] [ENEMY] [Enemy5] State: PURSUING -> FLANKING
[20:07:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(932.8538, 530.01715), shooter_id=8696839015990, bullet_pos=(1364.218, 571.2822)
[20:07:51] [INFO] [Bullet] Using shooter_position, distance=433,33344
[20:07:51] [INFO] [Bullet] Distance to wall: 433,33344 (29,506472% of viewport)
[20:07:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:51] [INFO] [Bullet] Starting wall penetration at (1364.218, 571.2822)
[20:07:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,442833
[20:07:51] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:51] [INFO] [Bullet] Exiting penetration at (1402.3772, 574.9326) after traveling 33,333336 pixels through wall
[20:07:51] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(932.8538, 530.0172), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:07:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=4
[20:07:51] [ENEMY] [Enemy5] State: FLANKING -> RETREATING
[20:07:51] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[20:07:51] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:07:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(932.8538, 530.01715), shooter_id=8696839015990, bullet_pos=(1389.1735, 572.93384)
[20:07:51] [INFO] [Bullet] Using shooter_position, distance=458,33334
[20:07:51] [INFO] [Bullet] Distance to wall: 458,33334 (31,208763% of viewport)
[20:07:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(932.8538, 530.0172), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:07:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=4
[20:07:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(932.8538, 530.01715), shooter_id=8696839015990, bullet_pos=(1389.2106, 572.53186)
[20:07:51] [INFO] [Bullet] Using shooter_position, distance=458,33282
[20:07:51] [INFO] [Bullet] Distance to wall: 458,33282 (31,208727% of viewport)
[20:07:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:51] [INFO] [Bullet] Starting wall penetration at (1389.2106, 572.53186)
[20:07:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,54905
[20:07:51] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:51] [INFO] [Bullet] Exiting penetration at (1427.3785, 576.08765) after traveling 33,333336 pixels through wall
[20:07:51] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(932.8538, 530.01715), shooter_id=8696839015990, bullet_pos=(1389.2323, 572.30023)
[20:07:51] [INFO] [Bullet] Using shooter_position, distance=458,33304
[20:07:51] [INFO] [Bullet] Distance to wall: 458,33304 (31,208742% of viewport)
[20:07:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:51] [INFO] [Bullet] Starting wall penetration at (1389.2323, 572.30023)
[20:07:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,57085
[20:07:51] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:51] [INFO] [Bullet] Exiting penetration at (1427.4021, 575.8366) after traveling 33,333336 pixels through wall
[20:07:51] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(950.4154, 556.3955), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:07:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=4
[20:07:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(951.5865, 558.8409), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:07:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=4
[20:07:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(950.4154, 556.3955), shooter_id=8696839015990, bullet_pos=(1375.3706, 562.61017)
[20:07:53] [INFO] [Bullet] Using shooter_position, distance=425,00064
[20:07:53] [INFO] [Bullet] Distance to wall: 425,00064 (28,939077% of viewport)
[20:07:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:53] [INFO] [Bullet] Starting wall penetration at (1375.3706, 562.61017)
[20:07:53] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,7027
[20:07:53] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:53] [INFO] [Bullet] Exiting penetration at (1413.7, 563.1707) after traveling 33,333336 pixels through wall
[20:07:53] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(951.5865, 558.8409), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:07:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=4
[20:07:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(951.58655, 558.8409), shooter_id=8696839015990, bullet_pos=(1376.1624, 577.81335)
[20:07:53] [INFO] [Bullet] Using shooter_position, distance=424,99948
[20:07:53] [INFO] [Bullet] Distance to wall: 424,99948 (28,938997% of viewport)
[20:07:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:53] [INFO] [Bullet] Starting wall penetration at (1376.1624, 577.81335)
[20:07:53] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,483799
[20:07:53] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:53] [INFO] [Bullet] Exiting penetration at (1414.4574, 579.5246) after traveling 33,333336 pixels through wall
[20:07:53] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(951.5865, 558.8409), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:07:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=4
[20:07:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(951.58655, 558.8409), shooter_id=8696839015990, bullet_pos=(1376.1904, 577.17365)
[20:07:53] [INFO] [Bullet] Using shooter_position, distance=424,99948
[20:07:53] [INFO] [Bullet] Distance to wall: 424,99948 (28,938997% of viewport)
[20:07:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(951.5865, 558.8409), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:07:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=4
[20:07:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(951.58655, 558.8409), shooter_id=8696839015990, bullet_pos=(1376.5404, 565.10535)
[20:07:53] [INFO] [Bullet] Using shooter_position, distance=425,00003
[20:07:53] [INFO] [Bullet] Distance to wall: 425,00003 (28,939035% of viewport)
[20:07:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:53] [INFO] [Bullet] Starting wall penetration at (1376.5404, 565.10535)
[20:07:53] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,87255
[20:07:53] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:53] [INFO] [Bullet] Exiting penetration at (1414.8696, 565.67035) after traveling 33,33334 pixels through wall
[20:07:53] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(951.5865, 558.8409), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:07:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=4
[20:07:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(951.58655, 558.8409), shooter_id=8696839015990, bullet_pos=(1376.5731, 562.2097)
[20:07:53] [INFO] [Bullet] Using shooter_position, distance=424,99994
[20:07:53] [INFO] [Bullet] Distance to wall: 424,99994 (28,93903% of viewport)
[20:07:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:53] [INFO] [Bullet] Starting wall penetration at (1376.5731, 562.2097)
[20:07:53] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,906118
[20:07:53] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:53] [INFO] [Bullet] Exiting penetration at (1414.9053, 562.51355) after traveling 33,333336 pixels through wall
[20:07:53] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(951.5865, 558.8409), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:07:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=4
[20:07:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(951.58655, 558.8409), shooter_id=8696839015990, bullet_pos=(1376.5575, 563.81824)
[20:07:54] [INFO] [Bullet] Using shooter_position, distance=425,00012
[20:07:54] [INFO] [Bullet] Distance to wall: 425,00012 (28,939041% of viewport)
[20:07:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:54] [INFO] [Bullet] Starting wall penetration at (1376.5575, 563.81824)
[20:07:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,890026
[20:07:54] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:54] [INFO] [Bullet] Exiting penetration at (1414.8882, 564.26715) after traveling 33,333336 pixels through wall
[20:07:54] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(951.58655, 558.8409), shooter_id=8696839015990, bullet_pos=(1376.5825, 557.118)
[20:07:54] [INFO] [Bullet] Using shooter_position, distance=424,99948
[20:07:54] [INFO] [Bullet] Distance to wall: 424,99948 (28,938997% of viewport)
[20:07:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:07:54] [INFO] [Bullet] Starting wall penetration at (1376.5825, 557.118)
[20:07:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,24919
[20:07:54] [INFO] [Bullet] Body exited signal received for penetrating body
[20:07:54] [INFO] [Bullet] Exiting penetration at (1423.2489, 556.92883) after traveling 41,66667 pixels through wall
[20:07:54] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:07:54] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:07:54] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[20:07:54] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[20:07:54] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[20:07:54] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[20:07:54] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[20:07:54] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(951.5865, 552.8409), source=PLAYER (Player), range=900, listeners=5
[20:07:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[20:07:54] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=507), can_see=false
[20:07:54] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1004), can_see=false
[20:07:54] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=546), can_see=false
[20:07:54] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1306), can_see=false
[20:07:54] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1521), can_see=false
[20:07:54] [INFO] [Player.Reload.Anim] LeftArm: pos=(4.459671, 2.0919342), target=(4, 2), base=(24, 6)
[20:07:54] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9999999, 6), target=(-2, 6), base=(-2, 6)
[20:07:54] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:07:55] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=507), can_see=false
[20:07:55] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1004), can_see=false
[20:07:55] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=546), can_see=false
[20:07:55] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1306), can_see=false
[20:07:55] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1521), can_see=false
[20:07:55] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=507), can_see=false
[20:07:55] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1004), can_see=false
[20:07:55] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=546), can_see=false
[20:07:55] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1306), can_see=false
[20:07:55] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1521), can_see=false
[20:07:55] [INFO] [Player.Reload.Anim] LeftArm: pos=(11.999998, 5.999999), target=(12, 6), base=(24, 6)
[20:07:55] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9999999, 7.999999), target=(-2, 8), base=(-2, 6)
[20:07:55] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:07:55] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[20:07:55] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[20:07:55] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[20:07:55] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[20:07:55] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[20:07:55] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:07:56] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:07:56] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:07:56] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[20:07:56] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[20:07:56] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[20:07:56] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[20:07:56] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[20:07:56] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(951.5865, 552.8409), source=PLAYER (Player), range=900, listeners=5
[20:07:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[20:07:56] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=507), can_see=false
[20:07:56] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1004), can_see=false
[20:07:56] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=546), can_see=false
[20:07:56] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1306), can_see=false
[20:07:56] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1521), can_see=false
[20:07:56] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=507), can_see=false
[20:07:56] [ENEMY] [Enemy5] State: SUPPRESSED -> IN_COVER
[20:07:56] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1004), can_see=false
[20:07:56] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=546), can_see=false
[20:07:56] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1306), can_see=false
[20:07:56] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1521), can_see=false
[20:07:56] [INFO] [Player.Reload.Anim] LeftArm: pos=(4.0000005, 2.0000002), target=(4, 2), base=(24, 6)
[20:07:56] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9999999, 6.0000005), target=(-2, 6), base=(-2, 6)
[20:07:56] [ENEMY] [Enemy5] State: IN_COVER -> PURSUING
[20:07:56] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:07:57] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:07:57] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[20:07:57] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[20:07:57] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[20:07:57] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[20:07:57] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[20:07:57] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:07:57] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:07:57] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[20:07:57] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[20:07:57] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[20:07:57] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[20:07:57] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[20:07:57] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(951.5865, 552.8409), source=PLAYER (Player), range=900, listeners=5
[20:07:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=2
[20:07:57] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=507), can_see=false
[20:07:57] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1004), can_see=false
[20:07:57] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=546), can_see=false
[20:07:57] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1306), can_see=false
[20:07:57] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1521), can_see=false
[20:07:57] [INFO] [Player.Reload.Anim] LeftArm: pos=(4.0000057, 2.0000012), target=(4, 2), base=(24, 6)
[20:07:57] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9999999, 6.0000005), target=(-2, 6), base=(-2, 6)
[20:07:57] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=507), can_see=false
[20:07:57] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1004), can_see=false
[20:07:57] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=546), can_see=false
[20:07:57] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1306), can_see=false
[20:07:57] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1521), can_see=false
[20:07:58] [ENEMY] [Enemy5] FLANKING started: target=(1048.444, 727.8224), side=right, pos=(1458.595, 561.9924)
[20:07:58] [ENEMY] [Enemy5] State: PURSUING -> FLANKING
[20:07:58] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=517), can_see=false
[20:07:58] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1004), can_see=false
[20:07:58] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=546), can_see=false
[20:07:58] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1306), can_see=false
[20:07:58] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1521), can_see=false
[20:07:58] [INFO] [Player.Reload.Anim] LeftArm: pos=(4.0000005, 2.0000002), target=(4, 2), base=(24, 6)
[20:07:58] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9999999, 6.0000005), target=(-2, 6), base=(-2, 6)
[20:07:58] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=678), can_see=false
[20:07:58] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1004), can_see=false
[20:07:58] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=546), can_see=false
[20:07:58] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1306), can_see=false
[20:07:58] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1521), can_see=false
[20:07:59] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=760), can_see=false
[20:07:59] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=926), can_see=false
[20:07:59] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=480), can_see=false
[20:07:59] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1250), can_see=false
[20:07:59] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1463), can_see=false
[20:07:59] [INFO] [Player.Reload.Anim] LeftArm: pos=(4.0000005, 2.0000002), target=(4, 2), base=(24, 6)
[20:07:59] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9999999, 6.0000005), target=(-2, 6), base=(-2, 6)
[20:07:59] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=595), can_see=false
[20:07:59] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=761), can_see=false
[20:07:59] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=true (dist=368), can_see=false
[20:07:59] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1152), can_see=false
[20:07:59] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1357), can_see=false
[20:08:00] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=true (dist=382), can_see=false
[20:08:00] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=635), can_see=false
[20:08:00] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=421), can_see=false
[20:08:00] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1184), can_see=false
[20:08:00] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1375), can_see=false
[20:08:00] [INFO] [Player.Reload.Anim] LeftArm: pos=(4.0000005, 2.0000002), target=(4, 2), base=(24, 6)
[20:08:00] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9999999, 6.0000005), target=(-2, 6), base=(-2, 6)
[20:08:00] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=true (dist=296), can_see=false
[20:08:00] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=606), can_see=false
[20:08:00] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=455), can_see=false
[20:08:00] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1206), can_see=false
[20:08:00] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1392), can_see=false
[20:08:01] [ENEMY] [Enemy5] Player reloading - priority attack triggered
[20:08:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1367.385, 646.7968), source=ENEMY (Enemy5), range=1469, listeners=5
[20:08:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=3
[20:08:01] [ENEMY] [Enemy5] State: FLANKING -> COMBAT
[20:08:01] [INFO] [LastChance] Threat detected: Bullet
[20:08:01] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:08:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:08:01] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[20:08:01] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:08:01] [ENEMY] [Enemy5] Player reloading - priority attack triggered
[20:08:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1351.769, 624.4206), source=ENEMY (Enemy5), range=1469, listeners=5
[20:08:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=3
[20:08:01] [INFO] [LastChance] Threat detected: Bullet
[20:08:01] [INFO] [LastChance] Triggering last chance effect!
[20:08:01] [INFO] [LastChance] Starting last chance effect:
[20:08:01] [INFO] [LastChance]   - Time will be frozen (except player)
[20:08:01] [INFO] [LastChance]   - Duration: 6.0 real seconds
[20:08:01] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:08:01] [INFO] [LastChance]   - Brightness: 0.60
[20:08:01] [INFO] [LastChance] Pushed bullet Bullet from distance 137.3 to 200.0
[20:08:01] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[20:08:01] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:08:01] [INFO] [LastChance] Skipping player node: Player
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: Casing
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7307
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7309
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7311
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7323
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7325
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7329
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7331
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7336
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7338
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7343
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7345
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7354
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7360
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7365
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7370
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7375
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7383
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7391
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7393
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7396
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7399
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7401
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7405
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7410
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7426
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7432
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7445
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7448
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7451
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7453
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7455
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7458
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7462
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7463
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7466
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7468
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7483
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7485
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7487
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7489
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7493
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7495
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7497
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7501
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7505
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7508
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7511
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7516
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7518
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7520
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7522
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7525
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7529
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7531
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7536
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7550
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7552
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7554
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7557
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7559
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7561
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7563
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7565
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7570
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7575
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7580
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7585
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7589
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7594
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7606
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7608
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7611
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7624
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7626
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7631
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7635
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7641
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7644
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7648
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7650
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7653
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7668
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7670
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7671
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7674
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7677
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7681
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7683
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7685
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7688
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7691
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7693
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7696
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7699
[20:08:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@7700
[20:08:01] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:08:01] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:08:01] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:08:01] [INFO] [Player.Reload.Anim] LeftArm: pos=(4.0000005, 2.0000002), target=(4, 2), base=(24, 6)
[20:08:01] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9999999, 6.0000005), target=(-2, 6), base=(-2, 6)
[20:08:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:08:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:08:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:08:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:08:02] [INFO] [LastChance] Ending last chance effect
[20:08:02] [INFO] [LastChance] All process modes restored
[20:08:02] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:08:02] [ENEMY] [Enemy1] Death animation component initialized
[20:08:02] [ENEMY] [Enemy2] Death animation component initialized
[20:08:02] [ENEMY] [Enemy3] Death animation component initialized
[20:08:02] [ENEMY] [Enemy4] Death animation component initialized
[20:08:02] [ENEMY] [Enemy5] Death animation component initialized
[20:08:02] [ENEMY] [Enemy6] Death animation component initialized
[20:08:02] [ENEMY] [Enemy7] Death animation component initialized
[20:08:02] [ENEMY] [Enemy8] Death animation component initialized
[20:08:02] [ENEMY] [Enemy9] Death animation component initialized
[20:08:02] [ENEMY] [Enemy10] Death animation component initialized
[20:08:02] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:08:02] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:08:02] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:08:02] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:08:02] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:08:02] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:08:02] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:08:02] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[20:08:02] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:08:02] [INFO] [ScoreManager] Level started with 10 enemies
[20:08:02] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[20:08:02] [ENEMY] [Enemy1] Registered as sound listener
[20:08:02] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:08:02] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[20:08:02] [ENEMY] [Enemy2] Registered as sound listener
[20:08:02] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[20:08:02] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[20:08:02] [ENEMY] [Enemy3] Registered as sound listener
[20:08:02] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[20:08:02] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[20:08:02] [ENEMY] [Enemy4] Registered as sound listener
[20:08:02] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[20:08:02] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 10)
[20:08:02] [ENEMY] [Enemy5] Registered as sound listener
[20:08:02] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[20:08:02] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 11)
[20:08:02] [ENEMY] [Enemy6] Registered as sound listener
[20:08:02] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[20:08:02] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 12)
[20:08:02] [ENEMY] [Enemy7] Registered as sound listener
[20:08:02] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[20:08:02] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 13)
[20:08:02] [ENEMY] [Enemy8] Registered as sound listener
[20:08:02] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[20:08:02] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 14)
[20:08:02] [ENEMY] [Enemy9] Registered as sound listener
[20:08:02] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[20:08:02] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 15)
[20:08:02] [ENEMY] [Enemy10] Registered as sound listener
[20:08:02] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[20:08:02] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:08:02] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:08:02] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:08:02] [INFO] [LastChance] Found player: Player
[20:08:02] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:08:02] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:08:02] [INFO] [LastChance] Connected to player Died signal (C#)
[20:08:02] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:08:02] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:08:02] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:08:03] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:08:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.53, 1519.896), source=ENEMY (Enemy10), range=1469, listeners=15
[20:08:03] [INFO] [SoundPropagation] Cleaned up 5 invalid listeners
[20:08:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:08:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1111.422, 1500.851), source=ENEMY (Enemy10), range=1469, listeners=10
[20:08:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:08:03] [INFO] [LastChance] Threat detected: Bullet
[20:08:03] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:08:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:03] [INFO] [LastChance] Threat detected: @Area2D@7953
[20:08:03] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:08:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1080.162, 1480.448), source=ENEMY (Enemy10), range=1469, listeners=10
[20:08:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:08:03] [INFO] [LastChance] Threat detected: @Area2D@7955
[20:08:03] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:08:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1049.954, 1458.516), source=ENEMY (Enemy10), range=1469, listeners=10
[20:08:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:08:04] [INFO] [LastChance] Threat detected: @Area2D@7957
[20:08:04] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:08:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[20:08:04] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[20:08:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1020.349, 1435.772), source=ENEMY (Enemy10), range=1469, listeners=10
[20:08:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:08:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1080.937, 1493.103), shooter_id=10238497393137, bullet_pos=(31.87469, 893.487)
[20:08:04] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[20:08:04] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[20:08:04] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[20:08:04] [INFO] [Bullet] Starting wall penetration at (31.87469, 893.487)
[20:08:04] [INFO] [LastChance] Threat detected: @Area2D@7959
[20:08:04] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[20:08:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:04] [INFO] [Bullet] Raycast backward hit penetrating body at distance 46.8110122680664
[20:08:04] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:04] [INFO] [Bullet] Exiting penetration at (-8.640778, 870.3293) after traveling 41.6666679382324 pixels through wall
[20:08:04] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:08:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:08:04] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:08:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1007.599, 1426.105), source=ENEMY (Enemy10), range=1469, listeners=10
[20:08:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:08:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1049.916, 1471.628), shooter_id=10238497393137, bullet_pos=(60.42772, 853.5465)
[20:08:04] [INFO] [Bullet] Using shooter_position, distance=1166.6669921875
[20:08:04] [INFO] [Bullet] Distance to wall: 1166.6669921875 (79.4405008094768% of viewport)
[20:08:04] [INFO] [Bullet] Distance-based penetration chance: 53.9860823889438%
[20:08:04] [INFO] [Bullet] Penetration failed (distance roll)
[20:08:04] [INFO] [LastChance] Threat detected: Bullet
[20:08:04] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:08:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:04] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:08:04] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:08:04] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:08:04] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:08:04] [ENEMY] [Enemy1] Death animation component initialized
[20:08:04] [ENEMY] [Enemy2] Death animation component initialized
[20:08:04] [ENEMY] [Enemy3] Death animation component initialized
[20:08:04] [ENEMY] [Enemy4] Death animation component initialized
[20:08:04] [ENEMY] [Enemy5] Death animation component initialized
[20:08:04] [ENEMY] [Enemy6] Death animation component initialized
[20:08:04] [ENEMY] [Enemy7] Death animation component initialized
[20:08:04] [ENEMY] [Enemy8] Death animation component initialized
[20:08:04] [ENEMY] [Enemy9] Death animation component initialized
[20:08:04] [ENEMY] [Enemy10] Death animation component initialized
[20:08:04] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:08:04] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:08:04] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:08:04] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:08:04] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:08:04] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:08:04] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:08:04] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[20:08:04] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:08:04] [INFO] [ScoreManager] Level started with 10 enemies
[20:08:04] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:08:04] [ENEMY] [Enemy1] Registered as sound listener
[20:08:04] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:08:04] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:08:04] [ENEMY] [Enemy2] Registered as sound listener
[20:08:04] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[20:08:04] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:08:04] [ENEMY] [Enemy3] Registered as sound listener
[20:08:04] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[20:08:04] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:08:04] [ENEMY] [Enemy4] Registered as sound listener
[20:08:04] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[20:08:04] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:08:04] [ENEMY] [Enemy5] Registered as sound listener
[20:08:04] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[20:08:04] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:08:04] [ENEMY] [Enemy6] Registered as sound listener
[20:08:04] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[20:08:04] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:08:04] [ENEMY] [Enemy7] Registered as sound listener
[20:08:04] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[20:08:04] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:08:04] [ENEMY] [Enemy8] Registered as sound listener
[20:08:04] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[20:08:04] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:08:04] [ENEMY] [Enemy9] Registered as sound listener
[20:08:04] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[20:08:04] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:08:04] [ENEMY] [Enemy10] Registered as sound listener
[20:08:04] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[20:08:04] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:08:04] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:08:04] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:08:04] [INFO] [LastChance] Found player: Player
[20:08:04] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:08:04] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:08:04] [INFO] [LastChance] Connected to player Died signal (C#)
[20:08:04] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:08:04] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:08:04] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:08:04] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:08:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.121, 1518.836), source=ENEMY (Enemy10), range=1469, listeners=20
[20:08:05] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:08:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:08:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(556.4746, 1122.534), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:08:05] [ENEMY] [Enemy3] Heard gunshot at (556.4746, 1122.534), source_type=0, intensity=0.02, distance=399
[20:08:05] [ENEMY] [Enemy4] Heard gunshot at (556.4746, 1122.534), source_type=0, intensity=0.02, distance=330
[20:08:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[20:08:05] [ENEMY] [Enemy2] Memory: medium confidence (0.63) - transitioning to PURSUING
[20:08:05] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[20:08:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.859, 1498.437), source=ENEMY (Enemy10), range=1469, listeners=10
[20:08:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:08:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(584.4637, 1097.158), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:08:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[20:08:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.785, 1476.325), source=ENEMY (Enemy10), range=1469, listeners=10
[20:08:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:08:05] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:08:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(614.8765, 1077.634), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:08:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[20:08:05] [ENEMY] [Enemy10] Hit taken, health: 2/3
[20:08:05] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:05] [INFO] [ImpactEffects] spawn_blood_effect called at (1057.987, 1456.104), dir=(1, 0), lethal=false
[20:08:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:05] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:08:05] [INFO] [ImpactEffects] Blood effect spawned at (1057.987, 1456.104) (scale=1)
[20:08:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.8469, 1068.147), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:08:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[20:08:05] [ENEMY] [Enemy10] Hit taken, health: 1/3
[20:08:05] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:05] [INFO] [ImpactEffects] spawn_blood_effect called at (1057.987, 1456.104), dir=(1, 0), lethal=false
[20:08:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:05] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:08:05] [INFO] [ImpactEffects] Blood effect spawned at (1057.987, 1456.104) (scale=1)
[20:08:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.514, 1489.802), shooter_id=10361306613394, bullet_pos=(62.75037, 857.2813)
[20:08:05] [INFO] [Bullet] Using shooter_position, distance=1200
[20:08:05] [INFO] [Bullet] Distance to wall: 1200 (81.7102066054265% of viewport)
[20:08:05] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[20:08:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(677.6708, 1067.239), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:08:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[20:08:05] [ENEMY] [Enemy10] Hit taken, health: 0/3
[20:08:05] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:05] [INFO] [ImpactEffects] spawn_blood_effect called at (1056.532, 1449.871), dir=(1, 0), lethal=true
[20:08:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:05] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:08:05] [INFO] [ImpactEffects] Blood effect spawned at (1056.532, 1449.871) (scale=1.5)
[20:08:05] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[20:08:05] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:08:05] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[20:08:05] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:08:05] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[20:08:05] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[20:08:05] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[20:08:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1052.918, 1466.094), shooter_id=10361306613394, bullet_pos=(62.20819, 774.3102)
[20:08:05] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[20:08:05] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[20:08:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.514, 1489.802), shooter_id=10361306613394, bullet_pos=(269.594, 699.7511)
[20:08:05] [INFO] [Bullet] Using shooter_position, distance=1133.58679199219
[20:08:05] [INFO] [Bullet] Distance to wall: 1133.58679199219 (77.1880091490536% of viewport)
[20:08:05] [ENEMY] [Enemy1] Memory: medium confidence (0.58) - transitioning to PURSUING
[20:08:05] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[20:08:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(709.9318, 1074.334), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[20:08:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1052.918, 1466.094), shooter_id=10361306613394, bullet_pos=(163.2831, 712.7743)
[20:08:05] [INFO] [Bullet] Using shooter_position, distance=1165.73596191406
[20:08:05] [INFO] [Bullet] Distance to wall: 1165.73596191406 (79.3771052461447% of viewport)
[20:08:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(642.84686, 1068.1467), shooter_id=10362128699099, bullet_pos=(1191.7196, 1638.6511)
[20:08:06] [INFO] [Bullet] Using shooter_position, distance=791,66693
[20:08:06] [INFO] [Bullet] Distance to wall: 791,66693 (53,90606% of viewport)
[20:08:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1024.752, 1440.676), shooter_id=10361306613394, bullet_pos=(67.8234, 689.3006)
[20:08:06] [INFO] [Bullet] Using shooter_position, distance=1216.66638183594
[20:08:06] [INFO] [Bullet] Distance to wall: 1216.66638183594 (82.8450511914093% of viewport)
[20:08:06] [INFO] [Bullet] Distance-based penetration chance: 50.0141069433558%
[20:08:06] [INFO] [Bullet] Penetration failed (distance roll)
[20:08:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(736.9854, 1094.001), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[20:08:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.514, 1489.802), shooter_id=10361306613394, bullet_pos=(501.9453, 837.1114)
[20:08:06] [INFO] [Bullet] Using shooter_position, distance=873.535766601563
[20:08:06] [INFO] [Bullet] Distance to wall: 873.535766601563 (59.4806566385361% of viewport)
[20:08:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(709.9318, 1074.3341), shooter_id=10362128699099, bullet_pos=(989.2217, 1394.681)
[20:08:06] [INFO] [Bullet] Using shooter_position, distance=424,99997
[20:08:06] [INFO] [Bullet] Distance to wall: 424,99997 (28,93903% of viewport)
[20:08:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(677.67084, 1067.2386), shooter_id=10362128699099, bullet_pos=(1181.533, 1633.978)
[20:08:06] [INFO] [Bullet] Using shooter_position, distance=758,33405
[20:08:06] [INFO] [Bullet] Distance to wall: 758,33405 (51,63636% of viewport)
[20:08:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(709.9318, 1074.3341), shooter_id=10362128699099, bullet_pos=(903.072, 1475.8046)
[20:08:06] [INFO] [Bullet] Using shooter_position, distance=445,51282
[20:08:06] [INFO] [Bullet] Distance to wall: 445,51282 (30,335787% of viewport)
[20:08:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(736.9854, 1094.0013), shooter_id=10362128699099, bullet_pos=(1000.7429, 1383.5431)
[20:08:06] [INFO] [Bullet] Using shooter_position, distance=391,66623
[20:08:06] [INFO] [Bullet] Distance to wall: 391,66623 (26,669275% of viewport)
[20:08:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:06] [INFO] [Bullet] Starting wall penetration at (1000.7429, 1383.5431)
[20:08:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(736.9854, 1094.0013), shooter_id=10362128699099, bullet_pos=(1004.11005, 1387.2394)
[20:08:06] [INFO] [Bullet] Using shooter_position, distance=396,66626
[20:08:06] [INFO] [Bullet] Distance to wall: 396,66626 (27,009735% of viewport)
[20:08:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1052.918, 1466.094), shooter_id=10361306613394, bullet_pos=(501.486, 952.2735)
[20:08:06] [INFO] [Bullet] Using shooter_position, distance=753.716430664063
[20:08:06] [INFO] [Bullet] Distance to wall: 753.716430664063 (51.321937726221% of viewport)
[20:08:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,549986
[20:08:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(642.84686, 1068.1467), shooter_id=10362128699099, bullet_pos=(1492.7839, 1417.8842)
[20:08:06] [INFO] [Bullet] Using shooter_position, distance=919,0806
[20:08:06] [INFO] [Bullet] Distance to wall: 919,0806 (62,58189% of viewport)
[20:08:06] [INFO] [Bullet] Distance-based penetration chance: 73,654465%
[20:08:06] [INFO] [Bullet] Penetration failed (distance roll)
[20:08:06] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:06] [INFO] [Bullet] Exiting penetration at (1025.7635, 1361.897) after traveling 28,33333 pixels through wall
[20:08:06] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[20:08:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(677.67084, 1067.2386), shooter_id=10362128699099, bullet_pos=(1395.4113, 1400.4523)
[20:08:06] [INFO] [Bullet] Using shooter_position, distance=791,317
[20:08:06] [INFO] [Bullet] Distance to wall: 791,317 (53,882236% of viewport)
[20:08:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(677.67084, 1067.2386), shooter_id=10362128699099, bullet_pos=(1399.0581, 1403.8728)
[20:08:06] [INFO] [Bullet] Using shooter_position, distance=796,06665
[20:08:06] [INFO] [Bullet] Distance to wall: 796,06665 (54,205643% of viewport)
[20:08:06] [ENEMY] [Enemy10] Ragdoll activated
[20:08:06] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:08:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.514, 1489.802), shooter_id=10361306613394, bullet_pos=(65.29709, 1026.192)
[20:08:06] [INFO] [Bullet] Using shooter_position, distance=1117.88366699219
[20:08:06] [INFO] [Bullet] Distance to wall: 1117.88366699219 (76.1187544923029% of viewport)
[20:08:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1052.918, 1466.094), shooter_id=10361306613394, bullet_pos=(53.81363, 1249.289)
[20:08:06] [INFO] [Bullet] Using shooter_position, distance=1022.35662841797
[20:08:06] [INFO] [Bullet] Distance to wall: 1022.35662841797 (69.6141427770496% of viewport)
[20:08:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1052.918, 1466.094), shooter_id=10361306613394, bullet_pos=(261.9696, 1385.211)
[20:08:06] [INFO] [Bullet] Using shooter_position, distance=795.072814941406
[20:08:06] [INFO] [Bullet] Distance to wall: 795.072814941406 (54.1379699793503% of viewport)
[20:08:07] [ENEMY] [Enemy10] Death animation completed
[20:08:07] [ENEMY] [Enemy2] FLANKING started: target=(739.2326, 993.4336), side=right, pos=(449.2027, 648.6915)
[20:08:07] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[20:08:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1052.918, 1466.094), shooter_id=10361306613394, bullet_pos=(825.9669, 1022.506)
[20:08:07] [INFO] [Bullet] Using shooter_position, distance=498.273681640625
[20:08:07] [INFO] [Bullet] Distance to wall: 498.273681640625 (33.9283712274183% of viewport)
[20:08:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1052.918, 1466.094), shooter_id=10361306613394, bullet_pos=(1365.448, 1378.143)
[20:08:08] [INFO] [Bullet] Using shooter_position, distance=324.670471191406
[20:08:08] [INFO] [Bullet] Distance to wall: 324.670471191406 (22.1074093997758% of viewport)
[20:08:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:08] [INFO] [Bullet] Starting wall penetration at (1365.448, 1378.143)
[20:08:08] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:08:08] [INFO] [Bullet] Exiting penetration at (1380.119, 1387.814) after traveling 12.5716524124146 pixels through wall
[20:08:08] [INFO] [Bullet] Damage multiplier after penetration: 0.0140625
[20:08:09] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[20:08:10] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[20:08:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(505.1541, 649.5515), source=ENEMY (Enemy1), range=1469, listeners=9
[20:08:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=3
[20:08:10] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[20:08:10] [INFO] [LastChance] Threat detected: Bullet
[20:08:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:08:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(507.2044, 717.5692), shooter_id=10358739699990, bullet_pos=(500.1512, 800.6035)
[20:08:10] [INFO] [Bullet] Using shooter_position, distance=83.3333358764648
[20:08:10] [INFO] [Bullet] Distance to wall: 83.3333358764648 (5.67432007632112% of viewport)
[20:08:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(507.2044, 717.5692), shooter_id=10358739699990, bullet_pos=(488.2878, 689.9878)
[20:08:10] [INFO] [Bullet] Using shooter_position, distance=33.4450492858887
[20:08:10] [INFO] [Bullet] Distance to wall: 33.4450492858887 (2.27733490589886% of viewport)
[20:08:10] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:08:10] [INFO] [Bullet] Starting wall penetration at (488.2878, 689.9878)
[20:08:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38.4174842834473
[20:08:10] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:10] [INFO] [Bullet] Exiting penetration at (483.9779, 649.8016) after traveling 35.4166679382324 pixels through wall
[20:08:10] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[20:08:10] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[20:08:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.0123, 651.677), source=ENEMY (Enemy1), range=1469, listeners=9
[20:08:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=3
[20:08:10] [INFO] [LastChance] Threat detected: @Area2D@8283
[20:08:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:08:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(517.3336, 719.626), shooter_id=10358739699990, bullet_pos=(503.3202, 801.7726)
[20:08:10] [INFO] [Bullet] Using shooter_position, distance=83.3333053588867
[20:08:10] [INFO] [Bullet] Distance to wall: 83.3333053588867 (5.67431799832311% of viewport)
[20:08:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:10] [INFO] [Bullet] Starting wall penetration at (503.3202, 801.7726)
[20:08:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26.9223861694336
[20:08:11] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:11] [INFO] [Bullet] Exiting penetration at (495.4727, 847.7747) after traveling 41.6666679382324 pixels through wall
[20:08:11] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:08:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[20:08:11] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[20:08:11] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[20:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.0123, 651.677), source=ENEMY (Enemy1), range=1469, listeners=9
[20:08:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=3
[20:08:11] [INFO] [LastChance] Threat detected: Bullet
[20:08:11] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[20:08:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:11] [ENEMY] [Enemy2] State: FLANKING -> RETREATING
[20:08:11] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[20:08:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(514.9274, 719.4529), shooter_id=10358739699990, bullet_pos=(498.0113, 801.0513)
[20:08:11] [INFO] [Bullet] Using shooter_position, distance=83.333381652832
[20:08:11] [INFO] [Bullet] Distance to wall: 83.333381652832 (5.67432319331814% of viewport)
[20:08:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:08:11] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:08:11] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:08:11] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[20:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.0123, 651.677), source=ENEMY (Enemy1), range=1469, listeners=9
[20:08:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=3
[20:08:11] [INFO] [LastChance] Threat detected: Bullet
[20:08:11] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:08:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:11] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(570.0492, 828.8586), source=ENEMY (Enemy2), range=1469, listeners=9
[20:08:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=4
[20:08:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(505.7834, 806.4865), shooter_id=10359024913921, bullet_pos=(505.7834, 806.4865)
[20:08:11] [INFO] [Bullet] Using shooter_position, distance=0
[20:08:11] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[20:08:11] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:08:11] [INFO] [Bullet] Starting wall penetration at (505.7834, 806.4865)
[20:08:11] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:08:11] [INFO] [Bullet] Exiting penetration at (463.7601, 786.1934) after traveling 41.6666679382324 pixels through wall
[20:08:11] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(570.0492, 828.8586), source=ENEMY (Enemy2), range=1469, listeners=9
[20:08:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=4
[20:08:11] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[20:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.0123, 651.677), source=ENEMY (Enemy1), range=1469, listeners=9
[20:08:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=3
[20:08:11] [INFO] [LastChance] Threat detected: @Area2D@8292
[20:08:11] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:08:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:08:11] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[20:08:11] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(570.0492, 828.8586), source=ENEMY (Enemy2), range=1469, listeners=9
[20:08:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=4
[20:08:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(510.3036, 793.2449), shooter_id=10359024913921, bullet_pos=(318.9439, 710.8785)
[20:08:11] [INFO] [Bullet] Using shooter_position, distance=208.333267211914
[20:08:11] [INFO] [Bullet] Distance to wall: 208.333267211914 (14.1857952555575% of viewport)
[20:08:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:11] [INFO] [Bullet] Starting wall penetration at (318.9439, 710.8785)
[20:08:11] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:08:11] [INFO] [Bullet] Exiting penetration at (276.0793, 692.4285) after traveling 41.6666679382324 pixels through wall
[20:08:11] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(570.0492, 828.8586), source=ENEMY (Enemy2), range=1469, listeners=9
[20:08:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=4
[20:08:11] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[20:08:11] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[20:08:11] [INFO] [LastChance] Threat detected: Bullet
[20:08:11] [INFO] [LastChance] Triggering last chance effect!
[20:08:11] [INFO] [LastChance] Starting last chance effect:
[20:08:11] [INFO] [LastChance]   - Time will be frozen (except player)
[20:08:11] [INFO] [LastChance]   - Duration: 6.0 real seconds
[20:08:11] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:08:11] [INFO] [LastChance]   - Brightness: 0.60
[20:08:11] [INFO] [LastChance] Pushed bullet Bullet from distance 39.9 to 200.0
[20:08:11] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[20:08:11] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:08:11] [INFO] [LastChance] Skipping player node: Player
[20:08:11] [INFO] [LastChance] Froze existing bullet casing: Casing
[20:08:11] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8216
[20:08:11] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8218
[20:08:11] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8220
[20:08:11] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8222
[20:08:11] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8224
[20:08:11] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8226
[20:08:11] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8229
[20:08:11] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8234
[20:08:11] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8240
[20:08:11] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8281
[20:08:11] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8284
[20:08:11] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8286
[20:08:11] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8288
[20:08:11] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8290
[20:08:11] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8293
[20:08:11] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:08:11] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:08:11] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:08:11] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@8296
[20:08:11] [INFO] [LastChance] Registered frozen player bullet: @Area2D@8296
[20:08:11] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@8297
[20:08:11] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@8297
[20:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(568.8467, 727.96), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:11] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=3
[20:08:11] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@8298
[20:08:11] [INFO] [LastChance] Registered frozen player bullet: @Area2D@8298
[20:08:11] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@8299
[20:08:11] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@8299
[20:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(607.3467, 727.96), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:11] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=3
[20:08:11] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@8300
[20:08:11] [INFO] [LastChance] Registered frozen player bullet: @Area2D@8300
[20:08:11] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@8301
[20:08:11] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@8301
[20:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(645.8467, 727.96), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:11] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=4
[20:08:11] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@8302
[20:08:11] [INFO] [LastChance] Registered frozen player bullet: @Area2D@8302
[20:08:11] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@8303
[20:08:11] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@8303
[20:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.3467, 727.96), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:11] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=4
[20:08:12] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@8304
[20:08:12] [INFO] [LastChance] Registered frozen player bullet: @Area2D@8304
[20:08:12] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@8305
[20:08:12] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@8305
[20:08:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(722.8467, 727.96), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:12] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=4
[20:08:13] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@8306
[20:08:13] [INFO] [LastChance] Registered frozen player bullet: @Area2D@8306
[20:08:13] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@8307
[20:08:13] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@8307
[20:08:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(671.6727, 593.8873), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:13] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=3
[20:08:13] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@8308
[20:08:13] [INFO] [LastChance] Registered frozen player bullet: @Area2D@8308
[20:08:13] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@8309
[20:08:13] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@8309
[20:08:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(676.1212, 590.4294), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:13] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=3
[20:08:13] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@8310
[20:08:13] [INFO] [LastChance] Registered frozen player bullet: @Area2D@8310
[20:08:13] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@8311
[20:08:13] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@8311
[20:08:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(696.8195, 588.6216), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:13] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=3
[20:08:13] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@8312
[20:08:13] [INFO] [LastChance] Registered frozen player bullet: @Area2D@8312
[20:08:13] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@8313
[20:08:13] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@8313
[20:08:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(732.4428, 588.3295), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:13] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=4
[20:08:13] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@8314
[20:08:13] [INFO] [LastChance] Registered frozen player bullet: @Area2D@8314
[20:08:13] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@8315
[20:08:13] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@8315
[20:08:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(768.264, 581.8624), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:13] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=4
[20:08:13] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@8316
[20:08:13] [INFO] [LastChance] Registered frozen player bullet: @Area2D@8316
[20:08:13] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@8317
[20:08:13] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@8317
[20:08:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(797.882, 560.4196), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:13] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=4
[20:08:14] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@8318
[20:08:14] [INFO] [LastChance] Registered frozen player bullet: @Area2D@8318
[20:08:14] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@8319
[20:08:14] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@8319
[20:08:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(825.1057, 533.1959), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[20:08:15] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:08:15] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[20:08:15] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[20:08:15] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[20:08:15] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[20:08:15] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[20:08:15] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[20:08:15] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[20:08:15] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[20:08:15] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[20:08:15] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1122.482, 665.5419), source=PLAYER (Player), range=900, listeners=9
[20:08:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=7
[20:08:15] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:08:15] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:08:15] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[20:08:15] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[20:08:15] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[20:08:15] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[20:08:15] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[20:08:15] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[20:08:15] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[20:08:15] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[20:08:15] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[20:08:15] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:08:15] [INFO] [Player.Reload.Anim] LeftArm: pos=(21.786633, 5.9604473), target=(24, 6), base=(24, 6)
[20:08:15] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9998679, 6.3359118), target=(-2, 6), base=(-2, 6)
[20:08:15] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:08:17] [INFO] [LastChance] Effect duration expired after 6.02 real seconds
[20:08:17] [INFO] [LastChance] Ending last chance effect
[20:08:17] [INFO] [LastChance] All process modes restored
[20:08:17] [INFO] [LastChance] Unfroze player bullet: @Area2D@8296
[20:08:17] [INFO] [LastChance] Unfroze player bullet: @Area2D@8298
[20:08:17] [INFO] [LastChance] Unfroze player bullet: @Area2D@8300
[20:08:17] [INFO] [LastChance] Unfroze player bullet: @Area2D@8302
[20:08:17] [INFO] [LastChance] Unfroze player bullet: @Area2D@8304
[20:08:17] [INFO] [LastChance] Unfroze player bullet: @Area2D@8306
[20:08:17] [INFO] [LastChance] Unfroze player bullet: @Area2D@8308
[20:08:17] [INFO] [LastChance] Unfroze player bullet: @Area2D@8310
[20:08:17] [INFO] [LastChance] Unfroze player bullet: @Area2D@8312
[20:08:17] [INFO] [LastChance] Unfroze player bullet: @Area2D@8314
[20:08:17] [INFO] [LastChance] Unfroze player bullet: @Area2D@8316
[20:08:17] [INFO] [LastChance] Unfroze player bullet: @Area2D@8318
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: Casing
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8216
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8218
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8220
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8222
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8224
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8226
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8229
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8234
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8240
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8281
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8284
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8286
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8288
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8290
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8293
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8297
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8299
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8301
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8303
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8305
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8307
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8309
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8311
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8313
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8315
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8317
[20:08:17] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8319
[20:08:17] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:08:17] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[20:08:17] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:08:17] [ENEMY] [Enemy2] Hit taken, health: 1/2
[20:08:17] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:17] [INFO] [ImpactEffects] spawn_blood_effect called at (570.0492, 828.8586), dir=(1, 0), lethal=false
[20:08:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:17] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:08:17] [INFO] [ImpactEffects] Blood effect spawned at (570.0492, 828.8586) (scale=1)
[20:08:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(528.3794, 773.2006), shooter_id=10359024913921, bullet_pos=(511.2186, 815.5191)
[20:08:17] [INFO] [Bullet] Using shooter_position, distance=45.665599822998
[20:08:17] [INFO] [Bullet] Distance to wall: 45.665599822998 (3.10945466358158% of viewport)
[20:08:17] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:08:17] [INFO] [Bullet] Starting wall penetration at (511.2186, 815.5191)
[20:08:17] [ENEMY] [Enemy1] Hit taken, health: 2/3
[20:08:17] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:17] [INFO] [ImpactEffects] spawn_blood_effect called at (521.0123, 651.677), dir=(1, 0), lethal=false
[20:08:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:17] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:08:17] [INFO] [ImpactEffects] Blood effect spawned at (521.0123, 651.677) (scale=1)
[20:08:17] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21.3567943572998
[20:08:17] [ENEMY] [Enemy1] Hit taken, health: 1/3
[20:08:17] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:17] [INFO] [ImpactEffects] spawn_blood_effect called at (521.0123, 651.677), dir=(1, 0), lethal=false
[20:08:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:17] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:08:17] [INFO] [ImpactEffects] Blood effect spawned at (521.0123, 651.677) (scale=1)
[20:08:17] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:17] [INFO] [Bullet] Exiting penetration at (495.6792, 780.4767) after traveling 33.3333358764648 pixels through wall
[20:08:17] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:08:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(671.6727, 593.88727), shooter_id=10362128699099, bullet_pos=(487.24792, 707.6059)
[20:08:17] [INFO] [Bullet] Using shooter_position, distance=216,66664
[20:08:17] [INFO] [Bullet] Distance to wall: 216,66664 (14,75323% of viewport)
[20:08:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:17] [INFO] [Bullet] Starting wall penetration at (487.24792, 707.6059)
[20:08:17] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,961275
[20:08:17] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:17] [INFO] [Bullet] Exiting penetration at (454.61893, 727.72534) after traveling 33,333336 pixels through wall
[20:08:17] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:08:17] [ENEMY] [Enemy3] Hit taken, health: 3/4
[20:08:17] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:17] [INFO] [ImpactEffects] spawn_blood_effect called at (582.11, 958.5212), dir=(1, 0), lethal=false
[20:08:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:17] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:08:17] [INFO] [ImpactEffects] Blood effect spawned at (582.11, 958.5212) (scale=1)
[20:08:17] [ENEMY] [Enemy4] Hit taken, health: 1/2
[20:08:17] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:17] [INFO] [ImpactEffects] spawn_blood_effect called at (590.6179, 963.4645), dir=(1, 0), lethal=false
[20:08:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:17] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:08:17] [INFO] [ImpactEffects] Blood effect spawned at (590.6179, 963.4645) (scale=1)
[20:08:17] [ENEMY] [Enemy3] Hit taken, health: 2/4
[20:08:17] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:17] [INFO] [ImpactEffects] spawn_blood_effect called at (582.11, 958.5212), dir=(1, 0), lethal=false
[20:08:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:17] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:08:17] [INFO] [ImpactEffects] Blood effect spawned at (582.11, 958.5212) (scale=1)
[20:08:17] [ENEMY] [Enemy4] Hit taken, health: 0/2
[20:08:17] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:17] [INFO] [ImpactEffects] spawn_blood_effect called at (590.6179, 963.4645), dir=(1, 0), lethal=true
[20:08:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:17] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:08:17] [INFO] [ImpactEffects] Blood effect spawned at (590.6179, 963.4645) (scale=1.5)
[20:08:17] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[20:08:17] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:08:17] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[20:08:17] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:08:17] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[20:08:17] [ENEMY] [Enemy1] Hit taken, health: 0/3
[20:08:17] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:17] [INFO] [ImpactEffects] spawn_blood_effect called at (521.0123, 651.677), dir=(1, 0), lethal=true
[20:08:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:17] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:08:17] [INFO] [ImpactEffects] Blood effect spawned at (521.0123, 651.677) (scale=1.5)
[20:08:17] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[20:08:17] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[20:08:17] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 7)
[20:08:17] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:08:17] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[20:08:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(732.4428, 588.3295), shooter_id=10362128699099, bullet_pos=(478.7315, 714.45764)
[20:08:17] [INFO] [Bullet] Using shooter_position, distance=283,33325
[20:08:17] [INFO] [Bullet] Distance to wall: 283,33325 (19,292683% of viewport)
[20:08:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:17] [INFO] [Bullet] Starting wall penetration at (478.7315, 714.45764)
[20:08:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(568.8467, 727.96), shooter_id=10362128699099, bullet_pos=(658.31757, 996.79584)
[20:08:17] [INFO] [Bullet] Using shooter_position, distance=283,33325
[20:08:17] [INFO] [Bullet] Distance to wall: 283,33325 (19,292683% of viewport)
[20:08:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:17] [INFO] [Bullet] Starting wall penetration at (658.31757, 996.79584)
[20:08:17] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9,6621065
[20:08:17] [INFO] [Bullet] Raycast backward hit penetrating body at distance 43,854233
[20:08:17] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:17] [INFO] [Bullet] Exiting penetration at (670.4225, 1033.1677) after traveling 33,333332 pixels through wall
[20:08:17] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:08:17] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:17] [INFO] [Bullet] Exiting penetration at (444.40585, 731.52203) after traveling 33,333332 pixels through wall
[20:08:17] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:08:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(797.88196, 560.41956), shooter_id=10362128699099, bullet_pos=(402.45435, 691.75195)
[20:08:17] [INFO] [Bullet] Using shooter_position, distance=416,66678
[20:08:17] [INFO] [Bullet] Distance to wall: 416,66678 (28,371609% of viewport)
[20:08:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(825.10565, 533.19586), shooter_id=10362128699099, bullet_pos=(369.23444, 693.7968)
[20:08:17] [INFO] [Bullet] Using shooter_position, distance=483,33347
[20:08:17] [INFO] [Bullet] Distance to wall: 483,33347 (32,911064% of viewport)
[20:08:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:17] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:08:17] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[20:08:17] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[20:08:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(797.88196, 560.41956), shooter_id=10362128699099, bullet_pos=(65.70562, 616.7497)
[20:08:17] [INFO] [Bullet] Using shooter_position, distance=734,34
[20:08:17] [INFO] [Bullet] Distance to wall: 734,34 (50,002563% of viewport)
[20:08:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(825.10565, 533.19586), shooter_id=10362128699099, bullet_pos=(62.397552, 615.5097)
[20:08:17] [INFO] [Bullet] Using shooter_position, distance=767,137
[20:08:17] [INFO] [Bullet] Distance to wall: 767,137 (52,23577% of viewport)
[20:08:18] [ENEMY] [Enemy1] Ragdoll activated
[20:08:18] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:08:18] [ENEMY] [Enemy4] Ragdoll activated
[20:08:18] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:08:19] [ENEMY] [Enemy4] Death animation completed
[20:08:19] [ENEMY] [Enemy1] Death animation completed
[20:08:20] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[20:08:20] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[20:08:20] [ENEMY] [Enemy3] State: SUPPRESSED -> IN_COVER
[20:08:20] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[20:08:21] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[20:08:24] [ENEMY] [Enemy2] FLANKING started: target=(1043.108, 852.5066), side=left, pos=(533.469, 719.1988)
[20:08:24] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[20:08:25] [ENEMY] [Enemy2] State: FLANKING -> COMBAT
[20:08:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(891.6848, 584.8118), source=ENEMY (Enemy2), range=1469, listeners=7
[20:08:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=4
[20:08:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1129.093, 677.9338), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:08:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[20:08:25] [INFO] [LastChance] Threat detected: Bullet
[20:08:25] [INFO] [LastChance] Effect already used this life
[20:08:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(952.3056, 615.3647), shooter_id=10359024913921, bullet_pos=(1147.885, 687.1368)
[20:08:25] [INFO] [Bullet] Using shooter_position, distance=208.333236694336
[20:08:25] [INFO] [Bullet] Distance to wall: 208.333236694336 (14.1857931775595% of viewport)
[20:08:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:25] [ENEMY] [Enemy2] Hit taken, health: 0/2
[20:08:25] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:25] [INFO] [ImpactEffects] spawn_blood_effect called at (890.0318, 589.7292), dir=(1, 0), lethal=true
[20:08:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:25] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:08:25] [INFO] [ImpactEffects] Blood effect spawned at (890.0318, 589.7292) (scale=1.5)
[20:08:25] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[20:08:25] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:08:25] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 6)
[20:08:25] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:08:25] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[20:08:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1129.093, 677.9338), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:08:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=6
[20:08:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1129.093, 677.9338), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:08:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=6
[20:08:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(952.3056, 615.3647), shooter_id=10359024913921, bullet_pos=(931.286, 927.7581)
[20:08:25] [INFO] [Bullet] Using shooter_position, distance=313.099792480469
[20:08:25] [INFO] [Bullet] Distance to wall: 313.099792480469 (21.3195406097461% of viewport)
[20:08:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(952.3056, 615.3647), shooter_id=10359024913921, bullet_pos=(994.9344, 1006.608)
[20:08:25] [INFO] [Bullet] Using shooter_position, distance=393.559051513672
[20:08:25] [INFO] [Bullet] Distance to wall: 393.559051513672 (26.7981595088482% of viewport)
[20:08:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:25] [INFO] [Bullet] Starting wall penetration at (994.9344, 1006.608)
[20:08:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6.73240804672241
[20:08:25] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:25] [INFO] [Bullet] Exiting penetration at (1013.202, 1029.239) after traveling 24.0833339691162 pixels through wall
[20:08:25] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[20:08:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1129.093, 677.9338), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:08:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=6
[20:08:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1129.0931, 677.9338), shooter_id=10362128699099, bullet_pos=(517.56396, 434.14227)
[20:08:25] [INFO] [Bullet] Using shooter_position, distance=658,33295
[20:08:25] [INFO] [Bullet] Distance to wall: 658,33295 (44,827103% of viewport)
[20:08:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1129.093, 677.9338), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:08:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=6
[20:08:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1129.0931, 677.9338), shooter_id=10362128699099, bullet_pos=(517.5627, 434.1447)
[20:08:26] [INFO] [Bullet] Using shooter_position, distance=658,3332
[20:08:26] [INFO] [Bullet] Distance to wall: 658,3332 (44,827118% of viewport)
[20:08:26] [INFO] [Bullet] Distance-based penetration chance: 94,36836%
[20:08:26] [INFO] [Bullet] Starting wall penetration at (517.5627, 434.1447)
[20:08:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,426497
[20:08:26] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:26] [INFO] [Bullet] Exiting penetration at (481.9546, 419.9494) after traveling 33,333336 pixels through wall
[20:08:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:08:26] [ENEMY] [Enemy2] Ragdoll activated
[20:08:26] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:08:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1129.0931, 677.9338), shooter_id=10362128699099, bullet_pos=(518.4946, 431.8194)
[20:08:26] [INFO] [Bullet] Using shooter_position, distance=658,3334
[20:08:26] [INFO] [Bullet] Distance to wall: 658,3334 (44,82713% of viewport)
[20:08:26] [INFO] [Bullet] Distance-based penetration chance: 94,36835%
[20:08:26] [INFO] [Bullet] Starting wall penetration at (518.4946, 431.8194)
[20:08:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,392845
[20:08:26] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:26] [INFO] [Bullet] Exiting penetration at (482.9408, 417.48868) after traveling 33,333336 pixels through wall
[20:08:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:08:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1129.0931, 677.9338), shooter_id=10362128699099, bullet_pos=(518.82355, 431.00574)
[20:08:26] [INFO] [Bullet] Using shooter_position, distance=658,33307
[20:08:26] [INFO] [Bullet] Distance to wall: 658,33307 (44,82711% of viewport)
[20:08:27] [ENEMY] [Enemy2] Death animation completed
[20:08:27] [ENEMY] [Enemy3] FLANKING started: target=(1092.438, 868.5461), side=left, pos=(635.0564, 846.294)
[20:08:27] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[20:08:29] [INFO] [ScoreManager] Combo ended at 1. Max combo: 2
[20:08:29] [ENEMY] [Enemy3] State: FLANKING -> COMBAT
[20:08:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1129.093, 677.9338), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:08:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=5
[20:08:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1129.0931, 677.9338), shooter_id=10362128699099, bullet_pos=(909.17377, 599.95966)
[20:08:29] [INFO] [Bullet] Using shooter_position, distance=233,33345
[20:08:29] [INFO] [Bullet] Distance to wall: 233,33345 (15,8881035% of viewport)
[20:08:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:29] [ENEMY] [Enemy3] Hit taken, health: 1/4
[20:08:29] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:29] [INFO] [ImpactEffects] spawn_blood_effect called at (892.1699, 583.9196), dir=(1, 0), lethal=false
[20:08:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:29] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:08:29] [INFO] [ImpactEffects] Blood effect spawned at (892.1699, 583.9196) (scale=1)
[20:08:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1129.093, 677.9338), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:08:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=5
[20:08:29] [ENEMY] [Enemy3] Hit taken, health: 0/4
[20:08:29] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:29] [INFO] [ImpactEffects] spawn_blood_effect called at (889.5934, 590.6469), dir=(1, 0), lethal=true
[20:08:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:29] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:08:29] [INFO] [ImpactEffects] Blood effect spawned at (889.5934, 590.6469) (scale=1.5)
[20:08:29] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[20:08:29] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:08:29] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 5)
[20:08:29] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:08:29] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[20:08:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1129.093, 677.9338), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:08:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=5
[20:08:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1129.093, 677.9338), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:08:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=5
[20:08:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1129.0931, 677.9338), shooter_id=10362128699099, bullet_pos=(522.7257, 421.57312)
[20:08:29] [INFO] [Bullet] Using shooter_position, distance=658,33295
[20:08:29] [INFO] [Bullet] Distance to wall: 658,33295 (44,827103% of viewport)
[20:08:29] [INFO] [Bullet] Distance-based penetration chance: 94,36838%
[20:08:29] [INFO] [Bullet] Starting wall penetration at (522.7257, 421.57312)
[20:08:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,6600685
[20:08:29] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:29] [INFO] [Bullet] Exiting penetration at (487.41818, 406.64578) after traveling 33,333336 pixels through wall
[20:08:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:08:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1129.0931, 677.9338), shooter_id=10362128699099, bullet_pos=(522.715, 421.5975)
[20:08:29] [INFO] [Bullet] Using shooter_position, distance=658,33325
[20:08:29] [INFO] [Bullet] Distance to wall: 658,33325 (44,827126% of viewport)
[20:08:29] [INFO] [Bullet] Distance-based penetration chance: 94,368355%
[20:08:29] [INFO] [Bullet] Starting wall penetration at (522.715, 421.5975)
[20:08:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,672069
[20:08:29] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:29] [INFO] [Bullet] Exiting penetration at (487.40692, 406.6716) after traveling 33,333332 pixels through wall
[20:08:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:08:30] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:08:30] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:08:30] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:08:30] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:08:30] [ENEMY] [Enemy1] Death animation component initialized
[20:08:30] [ENEMY] [Enemy2] Death animation component initialized
[20:08:30] [ENEMY] [Enemy3] Death animation component initialized
[20:08:30] [ENEMY] [Enemy4] Death animation component initialized
[20:08:30] [ENEMY] [Enemy5] Death animation component initialized
[20:08:30] [ENEMY] [Enemy6] Death animation component initialized
[20:08:30] [ENEMY] [Enemy7] Death animation component initialized
[20:08:30] [ENEMY] [Enemy8] Death animation component initialized
[20:08:30] [ENEMY] [Enemy9] Death animation component initialized
[20:08:30] [ENEMY] [Enemy10] Death animation component initialized
[20:08:30] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:08:30] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:08:30] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:08:30] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:08:30] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:08:30] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:08:30] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:08:30] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[20:08:30] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:08:30] [INFO] [ScoreManager] Level started with 10 enemies
[20:08:30] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[20:08:30] [ENEMY] [Enemy1] Registered as sound listener
[20:08:30] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:08:30] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[20:08:30] [ENEMY] [Enemy2] Registered as sound listener
[20:08:30] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[20:08:30] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[20:08:30] [ENEMY] [Enemy3] Registered as sound listener
[20:08:30] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[20:08:30] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[20:08:30] [ENEMY] [Enemy4] Registered as sound listener
[20:08:30] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[20:08:30] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 10)
[20:08:30] [ENEMY] [Enemy5] Registered as sound listener
[20:08:30] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[20:08:30] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 11)
[20:08:30] [ENEMY] [Enemy6] Registered as sound listener
[20:08:30] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[20:08:30] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 12)
[20:08:30] [ENEMY] [Enemy7] Registered as sound listener
[20:08:30] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[20:08:30] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 13)
[20:08:30] [ENEMY] [Enemy8] Registered as sound listener
[20:08:30] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[20:08:30] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 14)
[20:08:30] [ENEMY] [Enemy9] Registered as sound listener
[20:08:30] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[20:08:30] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 15)
[20:08:30] [ENEMY] [Enemy10] Registered as sound listener
[20:08:30] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[20:08:30] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:08:30] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:08:30] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:08:30] [INFO] [LastChance] Found player: Player
[20:08:30] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:08:30] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:08:30] [INFO] [LastChance] Connected to player Died signal (C#)
[20:08:30] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:08:30] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:08:30] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:08:30] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:08:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.004, 1519.036), source=ENEMY (Enemy10), range=1469, listeners=15
[20:08:31] [INFO] [SoundPropagation] Cleaned up 5 invalid listeners
[20:08:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:08:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.385, 1499.191), source=ENEMY (Enemy10), range=1469, listeners=10
[20:08:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:08:31] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:08:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.598, 1478.078), source=ENEMY (Enemy10), range=1469, listeners=10
[20:08:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:08:31] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:08:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.669, 1455.767), source=ENEMY (Enemy10), range=1469, listeners=10
[20:08:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:08:31] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:08:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=11264189271541, bullet_pos=(47.54776, 866.3744)
[20:08:31] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[20:08:31] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[20:08:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=11264189271541, bullet_pos=(43.40149, 802.4432)
[20:08:31] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[20:08:31] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[20:08:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=11264189271541, bullet_pos=(369.4637, 707.0922)
[20:08:31] [INFO] [Bullet] Using shooter_position, distance=1059.21020507813
[20:08:31] [INFO] [Bullet] Distance to wall: 1059.21020507813 (72.1235705795915% of viewport)
[20:08:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=11264189271541, bullet_pos=(156.0987, 708.5793)
[20:08:31] [INFO] [Bullet] Using shooter_position, distance=1174.45764160156
[20:08:31] [INFO] [Bullet] Distance to wall: 1174.45764160156 (79.9709804538213% of viewport)
[20:08:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.186, 1444.899), shooter_id=11264189271541, bullet_pos=(41.70113, 738.6998)
[20:08:31] [INFO] [Bullet] Using shooter_position, distance=1208.33276367188
[20:08:31] [INFO] [Bullet] Distance to wall: 1208.33276367188 (82.2775998064458% of viewport)
[20:08:31] [INFO] [Bullet] Distance-based penetration chance: 50.6761335591466%
[20:08:31] [INFO] [Bullet] Starting wall penetration at (41.70113, 738.6998)
[20:08:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.7111511230469
[20:08:31] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:31] [INFO] [Bullet] Exiting penetration at (3.834118, 711.4259) after traveling 41.6666679382324 pixels through wall
[20:08:31] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:08:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6345, 1420.233), shooter_id=11264189271541, bullet_pos=(42.24186, 675.3027)
[20:08:31] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[20:08:31] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[20:08:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=11264189271541, bullet_pos=(687.7803, 815.113)
[20:08:31] [INFO] [Bullet] Using shooter_position, distance=782.274597167969
[20:08:31] [INFO] [Bullet] Distance to wall: 782.274597167969 (53.2665157973096% of viewport)
[20:08:32] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[20:08:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=11264189271541, bullet_pos=(510.8145, 865.938)
[20:08:32] [INFO] [Bullet] Using shooter_position, distance=846.594299316406
[20:08:32] [INFO] [Bullet] Distance to wall: 846.594299316406 (57.6461625900999% of viewport)
[20:08:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6345, 1420.233), shooter_id=11264189271541, bullet_pos=(250.5237, 475.9169)
[20:08:32] [INFO] [Bullet] Using shooter_position, distance=1201.64331054688
[20:08:32] [INFO] [Bullet] Distance to wall: 1201.64331054688 (81.8221026423448% of viewport)
[20:08:32] [INFO] [Bullet] Distance-based penetration chance: 51.2075469172643%
[20:08:32] [INFO] [Bullet] Starting wall penetration at (250.5237, 475.9169)
[20:08:32] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:08:32] [INFO] [Bullet] Exiting penetration at (279.7193, 447.9683) after traveling 35.4166679382324 pixels through wall
[20:08:32] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[20:08:32] [ENEMY] [Enemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[20:08:32] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[20:08:32] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:08:32] [ENEMY] [Enemy4] Hit taken, health: 1/2
[20:08:32] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:32] [INFO] [ImpactEffects] spawn_blood_effect called at (768.0865, 912.926), dir=(0.986636, 0.162939), lethal=false
[20:08:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:32] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:08:32] [INFO] [ImpactEffects] Blood effect spawned at (768.0865, 912.926) (scale=1)
[20:08:32] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[20:08:32] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:08:32] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:08:32] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[20:08:32] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[20:08:32] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[20:08:32] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[20:08:32] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[20:08:32] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[20:08:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(712.4036, 914.0658), source=ENEMY (Enemy4), range=1469, listeners=10
[20:08:32] [ENEMY] [Enemy2] Heard gunshot at (712.4036, 914.0658), source_type=1, intensity=0.01, distance=480
[20:08:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:08:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(712.4036, 914.0658), source=ENEMY (Enemy4), range=1469, listeners=10
[20:08:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:08:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(651.258, 883.6201), shooter_id=11262477995756, bullet_pos=(496.4566, 821.86)
[20:08:33] [INFO] [Bullet] Using shooter_position, distance=166.666610717773
[20:08:33] [INFO] [Bullet] Distance to wall: 166.666610717773 (11.3486359966462% of viewport)
[20:08:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:33] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[20:08:33] [INFO] [LastChance] Threat detected: @Area2D@8687
[20:08:33] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:08:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:33] [ENEMY] [Enemy10] FLANKING started: target=(668.246, 699.8541), side=left, pos=(1022.634, 1432.302)
[20:08:33] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[20:08:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(652.4064, 881.3539), shooter_id=11262477995756, bullet_pos=(412.2138, 715.8939)
[20:08:33] [INFO] [Bullet] Using shooter_position, distance=291.666717529297
[20:08:33] [INFO] [Bullet] Distance to wall: 291.666717529297 (19.8601231243712% of viewport)
[20:08:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:33] [ENEMY] [Enemy1] Memory: medium confidence (0.61) - transitioning to PURSUING
[20:08:33] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[20:08:33] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[20:08:33] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:08:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[20:08:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[20:08:33] [INFO] [LastChance] Threat detected: Bullet
[20:08:33] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:08:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:33] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[20:08:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(325.8258, 368.2765), source=ENEMY (Enemy1), range=1469, listeners=10
[20:08:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=4
[20:08:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(652.4064, 881.3539), shooter_id=11262477995756, bullet_pos=(50.24604, 948.0131)
[20:08:33] [INFO] [Bullet] Using shooter_position, distance=605.838684082031
[20:08:33] [INFO] [Bullet] Distance to wall: 605.838684082031 (41.2526700382521% of viewport)
[20:08:33] [ENEMY] [Enemy2] Hit taken, health: 3/4
[20:08:33] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:33] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(0.524114, 0.851648), lethal=false
[20:08:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:33] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:08:33] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[20:08:33] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:08:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[20:08:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[20:08:33] [INFO] [LastChance] Threat detected: @Area2D@8695
[20:08:33] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:08:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:33] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[20:08:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(348.3344, 391.3205), source=ENEMY (Enemy1), range=1469, listeners=10
[20:08:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[20:08:33] [ENEMY] [Enemy3] Hit taken, health: 2/3
[20:08:33] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:33] [INFO] [ImpactEffects] spawn_blood_effect called at (664.4243, 948.3228), dir=(0.607664, 0.794194), lethal=false
[20:08:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:33] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:08:33] [INFO] [ImpactEffects] Wall found for blood splatter at (703.9642, 1000) (dist=65 px)
[20:08:33] [INFO] [ImpactEffects] Blood effect spawned at (664.4243, 948.3228) (scale=1)
[20:08:33] [ENEMY] [Enemy4] Hit taken, health: 0/2
[20:08:33] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:33] [INFO] [ImpactEffects] spawn_blood_effect called at (701.6017, 948.4421), dir=(0.607664, 0.794194), lethal=true
[20:08:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:33] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:08:33] [INFO] [ImpactEffects] Wall found for blood splatter at (741.0502, 1000) (dist=64 px)
[20:08:33] [INFO] [ImpactEffects] Blood effect spawned at (701.6017, 948.4421) (scale=1.5)
[20:08:33] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[20:08:33] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:08:33] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 9)
[20:08:33] [INFO] [DeathAnim] Started - Angle: 52.6 deg, Index: 15
[20:08:33] [ENEMY] [Enemy4] Death animation started with hit direction: (0.607664, 0.794194)
[20:08:33] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:08:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[20:08:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[20:08:33] [INFO] [LastChance] Threat detected: @Area2D@8697
[20:08:33] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:08:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:33] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[20:08:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(441.715, 603.763), shooter_id=11261907569494, bullet_pos=(704.0421, 871.736)
[20:08:33] [INFO] [Bullet] Using shooter_position, distance=375.000091552734
[20:08:33] [INFO] [Bullet] Distance to wall: 375.000091552734 (25.5344457981898% of viewport)
[20:08:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:33] [INFO] [LastChance] Threat detected: Bullet
[20:08:33] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:08:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(406.4621, 545.2839), source=ENEMY (Enemy2), range=1469, listeners=9
[20:08:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[20:08:33] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[20:08:33] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[20:08:33] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:08:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(408.6161, 543.7119), source=ENEMY (Enemy2), range=1469, listeners=9
[20:08:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[20:08:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(441.715, 603.763), shooter_id=11261907569494, bullet_pos=(598.6932, 1020.248)
[20:08:33] [INFO] [Bullet] Using shooter_position, distance=445.086730957031
[20:08:33] [INFO] [Bullet] Distance to wall: 445.086730957031 (30.3067739531941% of viewport)
[20:08:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:33] [INFO] [Bullet] Starting wall penetration at (598.6932, 1020.248)
[20:08:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35.8170013427734
[20:08:33] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:33] [INFO] [Bullet] Exiting penetration at (575.3091, 1053.213) after traveling 35.4166679382324 pixels through wall
[20:08:33] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[20:08:33] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[20:08:33] [ENEMY] [Enemy3] Hit taken, health: 1/3
[20:08:33] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:33] [INFO] [ImpactEffects] spawn_blood_effect called at (732.6088, 941.4432), dir=(0.572762, 0.819722), lethal=false
[20:08:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:33] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:08:33] [INFO] [ImpactEffects] Wall found for blood splatter at (773.524, 1000) (dist=71 px)
[20:08:33] [INFO] [ImpactEffects] Blood effect spawned at (732.6088, 941.4432) (scale=1)
[20:08:33] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[20:08:33] [INFO] [LastChance] Threat detected: @Area2D@8705
[20:08:33] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[20:08:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(417.2322, 537.4238), source=ENEMY (Enemy2), range=1469, listeners=9
[20:08:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[20:08:33] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:08:33] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:08:33] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:08:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(428.0023, 529.5637), source=ENEMY (Enemy2), range=1469, listeners=9
[20:08:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[20:08:33] [INFO] [LastChance] Threat detected: Bullet
[20:08:33] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:08:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:33] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:08:33] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:08:33] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:08:33] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:08:33] [ENEMY] [Enemy1] Death animation component initialized
[20:08:33] [ENEMY] [Enemy2] Death animation component initialized
[20:08:33] [ENEMY] [Enemy3] Death animation component initialized
[20:08:33] [ENEMY] [Enemy4] Death animation component initialized
[20:08:33] [ENEMY] [Enemy5] Death animation component initialized
[20:08:33] [ENEMY] [Enemy6] Death animation component initialized
[20:08:33] [ENEMY] [Enemy7] Death animation component initialized
[20:08:33] [ENEMY] [Enemy8] Death animation component initialized
[20:08:33] [ENEMY] [Enemy9] Death animation component initialized
[20:08:33] [ENEMY] [Enemy10] Death animation component initialized
[20:08:33] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:08:33] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:08:33] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:08:33] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:08:33] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:08:33] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:08:33] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:08:33] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[20:08:33] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:08:33] [INFO] [ScoreManager] Level started with 10 enemies
[20:08:33] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[20:08:33] [ENEMY] [Enemy1] Registered as sound listener
[20:08:33] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:08:33] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[20:08:33] [ENEMY] [Enemy2] Registered as sound listener
[20:08:33] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[20:08:33] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[20:08:33] [ENEMY] [Enemy3] Registered as sound listener
[20:08:33] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[20:08:33] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[20:08:33] [ENEMY] [Enemy4] Registered as sound listener
[20:08:33] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[20:08:33] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[20:08:33] [ENEMY] [Enemy5] Registered as sound listener
[20:08:33] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[20:08:33] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[20:08:33] [ENEMY] [Enemy6] Registered as sound listener
[20:08:33] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[20:08:33] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[20:08:33] [ENEMY] [Enemy7] Registered as sound listener
[20:08:33] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[20:08:33] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[20:08:33] [ENEMY] [Enemy8] Registered as sound listener
[20:08:33] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[20:08:33] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[20:08:33] [ENEMY] [Enemy9] Registered as sound listener
[20:08:33] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[20:08:33] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[20:08:33] [ENEMY] [Enemy10] Registered as sound listener
[20:08:33] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[20:08:33] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:08:33] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:08:33] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:08:33] [INFO] [LastChance] Found player: Player
[20:08:33] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:08:33] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:08:33] [INFO] [LastChance] Connected to player Died signal (C#)
[20:08:33] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:08:33] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:08:33] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:08:34] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:08:34] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:08:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1176.406, 1537.575), source=ENEMY (Enemy10), range=1469, listeners=19
[20:08:34] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[20:08:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[20:08:34] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:08:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.99, 1519.063), source=ENEMY (Enemy10), range=1469, listeners=10
[20:08:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:08:34] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:08:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.356, 1499.242), source=ENEMY (Enemy10), range=1469, listeners=10
[20:08:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:08:34] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:08:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.554, 1478.152), source=ENEMY (Enemy10), range=1469, listeners=10
[20:08:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:08:34] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:08:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.627, 1455.837), source=ENEMY (Enemy10), range=1469, listeners=10
[20:08:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:08:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1113.398, 1511.873), shooter_id=11522659060063, bullet_pos=(54.2591, 930.2415)
[20:08:34] [INFO] [Bullet] Using shooter_position, distance=1208.33374023438
[20:08:34] [INFO] [Bullet] Distance to wall: 1208.33374023438 (82.2776663023821% of viewport)
[20:08:34] [INFO] [Bullet] Distance-based penetration chance: 50.6760559805542%
[20:08:34] [INFO] [Bullet] Starting wall penetration at (54.2591, 930.2415)
[20:08:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21.2720756530762
[20:08:34] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:34] [INFO] [Bullet] Exiting penetration at (13.35442, 907.7786) after traveling 41.6666679382324 pixels through wall
[20:08:34] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:08:35] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.084, 1490.807), shooter_id=11522659060063, bullet_pos=(47.59653, 866.3838)
[20:08:35] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[20:08:35] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[20:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.653, 1468.488), shooter_id=11522659060063, bullet_pos=(43.46104, 802.441)
[20:08:35] [INFO] [Bullet] Using shooter_position, distance=1208.33386230469
[20:08:35] [INFO] [Bullet] Distance to wall: 1208.33386230469 (82.2776746143741% of viewport)
[20:08:35] [INFO] [Bullet] Distance-based penetration chance: 50.6760462832302%
[20:08:35] [INFO] [Bullet] Penetration failed (distance roll)
[20:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.084, 1490.807), shooter_id=11522659060063, bullet_pos=(410.405, 711.2519)
[20:08:35] [INFO] [Bullet] Using shooter_position, distance=1029.00915527344
[20:08:35] [INFO] [Bullet] Distance to wall: 1029.00915527344 (70.0671255635566% of viewport)
[20:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.146, 1444.966), shooter_id=11522659060063, bullet_pos=(41.73777, 738.6586)
[20:08:35] [INFO] [Bullet] Using shooter_position, distance=1208.33386230469
[20:08:35] [INFO] [Bullet] Distance to wall: 1208.33386230469 (82.2776746143741% of viewport)
[20:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.146, 1444.966), shooter_id=11522659060063, bullet_pos=(107.1439, 700.2825)
[20:08:35] [INFO] [Bullet] Using shooter_position, distance=1179.73840332031
[20:08:35] [INFO] [Bullet] Distance to wall: 1179.73840332031 (80.3305572297156% of viewport)
[20:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.146, 1444.966), shooter_id=11522659060063, bullet_pos=(56.92638, 658.6853)
[20:08:35] [INFO] [Bullet] Using shooter_position, distance=1244.94445800781
[20:08:35] [INFO] [Bullet] Distance to wall: 1244.94445800781 (84.7705573967492% of viewport)
[20:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.597, 1420.297), shooter_id=11522659060063, bullet_pos=(42.28281, 675.2671)
[20:08:35] [INFO] [Bullet] Using shooter_position, distance=1208.33312988281
[20:08:35] [INFO] [Bullet] Distance to wall: 1208.33312988281 (82.2776247424219% of viewport)
[20:08:35] [INFO] [Bullet] Distance-based penetration chance: 50.6761044671745%
[20:08:35] [INFO] [Bullet] Penetration failed (distance roll)
[20:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.084, 1490.807), shooter_id=11522659060063, bullet_pos=(695.0679, 823.6293)
[20:08:35] [INFO] [Bullet] Using shooter_position, distance=771.302978515625
[20:08:35] [INFO] [Bullet] Distance to wall: 771.302978515625 (52.5194381082438% of viewport)
[20:08:35] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[20:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.084, 1490.807), shooter_id=11522659060063, bullet_pos=(520.1597, 881.138)
[20:08:35] [INFO] [Bullet] Using shooter_position, distance=829.129760742188
[20:08:35] [INFO] [Bullet] Distance to wall: 829.129760742188 (56.4569700441266% of viewport)
[20:08:35] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.146, 1444.966), shooter_id=11522659060063, bullet_pos=(336.2313, 468.9565)
[20:08:35] [INFO] [Bullet] Using shooter_position, distance=1192.9267578125
[20:08:35] [INFO] [Bullet] Distance to wall: 1192.9267578125 (81.2285765383341% of viewport)
[20:08:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(320.1169, 795.3589), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:08:35] [ENEMY] [Enemy1] Heard gunshot at (320.1169, 795.3589), source_type=0, intensity=0.01, distance=446
[20:08:35] [ENEMY] [Enemy2] Heard gunshot at (320.1169, 795.3589), source_type=0, intensity=0.04, distance=258
[20:08:35] [ENEMY] [Enemy4] Heard gunshot at (320.1169, 795.3589), source_type=0, intensity=0.01, distance=491
[20:08:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.146, 1444.966), shooter_id=11522659060063, bullet_pos=(505.8741, 576.3007)
[20:08:35] [INFO] [Bullet] Using shooter_position, distance=1010.50323486328
[20:08:35] [INFO] [Bullet] Distance to wall: 1010.50323486328 (68.8070234134421% of viewport)
[20:08:35] [ENEMY] [Enemy4] Hit taken, health: 2/3
[20:08:35] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:35] [INFO] [ImpactEffects] spawn_blood_effect called at (787.9615, 899.1329), dir=(0.987486, 0.157706), lethal=false
[20:08:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:35] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:08:35] [INFO] [ImpactEffects] Blood effect spawned at (787.9615, 899.1329) (scale=1)
[20:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(320.11688, 795.3589), shooter_id=11523481145000, bullet_pos=(511.69336, 801.2389)
[20:08:35] [INFO] [Bullet] Using shooter_position, distance=191,66669
[20:08:35] [INFO] [Bullet] Distance to wall: 191,66669 (13,050938% of viewport)
[20:08:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:35] [INFO] [LastChance] Threat detected: Bullet
[20:08:35] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:08:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:35] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[20:08:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(318.9701, 763.2498), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:08:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:08:35] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[20:08:35] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:08:35] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[20:08:35] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:08:35] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:08:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(318.2261, 745.5786), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:08:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.146, 1444.966), shooter_id=11522659060063, bullet_pos=(329.7052, 687.5682)
[20:08:35] [INFO] [Bullet] Using shooter_position, distance=1026.21936035156
[20:08:35] [INFO] [Bullet] Distance to wall: 1026.21936035156 (69.8771632973457% of viewport)
[20:08:35] [INFO] [Bullet] Distance-based penetration chance: 65.1433094864301%
[20:08:35] [INFO] [Bullet] Starting wall penetration at (329.7052, 687.5682)
[20:08:35] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:08:35] [INFO] [Bullet] Exiting penetration at (309.8467, 700.1108) after traveling 18.4877223968506 pixels through wall
[20:08:35] [INFO] [Bullet] Damage multiplier after penetration: 0.028125
[20:08:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(317.7021, 744.1837), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:08:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:08:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(318.97012, 763.24976), shooter_id=11523481145000, bullet_pos=(927.2093, 773.96716)
[20:08:36] [INFO] [Bullet] Using shooter_position, distance=608,33356
[20:08:36] [INFO] [Bullet] Distance to wall: 608,33356 (41,42255% of viewport)
[20:08:36] [INFO] [Bullet] Distance-based penetration chance: 98,340355%
[20:08:36] [INFO] [Bullet] Starting wall penetration at (927.2093, 773.96716)
[20:08:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,87459
[20:08:36] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:36] [INFO] [Bullet] Exiting penetration at (973.8687, 774.7893) after traveling 41,666668 pixels through wall
[20:08:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:08:36] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[20:08:36] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[20:08:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(317.3927, 759.1207), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:08:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:08:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(318.2261, 745.5786), shooter_id=11523481145000, bullet_pos=(926.435, 757.88043)
[20:08:36] [INFO] [Bullet] Using shooter_position, distance=608,33325
[20:08:36] [INFO] [Bullet] Distance to wall: 608,33325 (41,42253% of viewport)
[20:08:36] [INFO] [Bullet] Distance-based penetration chance: 98,34038%
[20:08:36] [INFO] [Bullet] Starting wall penetration at (926.435, 757.88043)
[20:08:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,09969
[20:08:36] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:36] [INFO] [Bullet] Exiting penetration at (973.0921, 758.82416) after traveling 41,66667 pixels through wall
[20:08:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:08:36] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:08:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(317.70215, 744.1837), shooter_id=11523481145000, bullet_pos=(925.11005, 777.72345)
[20:08:36] [INFO] [Bullet] Using shooter_position, distance=608,3332
[20:08:36] [INFO] [Bullet] Distance to wall: 608,3332 (41,422527% of viewport)
[20:08:36] [INFO] [Bullet] Distance-based penetration chance: 98,340385%
[20:08:36] [INFO] [Bullet] Starting wall penetration at (925.11005, 777.72345)
[20:08:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,76008
[20:08:36] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:36] [INFO] [Bullet] Exiting penetration at (971.7057, 780.2964) after traveling 41,666668 pixels through wall
[20:08:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:08:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(317.39267, 759.1207), shooter_id=11523481145000, bullet_pos=(923.4568, 811.61444)
[20:08:36] [INFO] [Bullet] Using shooter_position, distance=608,3332
[20:08:36] [INFO] [Bullet] Distance to wall: 608,3332 (41,422527% of viewport)
[20:08:36] [ENEMY] [Enemy10] FLANKING started: target=(567.0509, 779.8606), side=left, pos=(1018.464, 1428.997)
[20:08:36] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[20:08:37] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[20:08:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(449.7181, 762.5784), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:08:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:08:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(449.71814, 762.5784), shooter_id=11523481145000, bullet_pos=(502.155, 803.7466)
[20:08:37] [INFO] [Bullet] Using shooter_position, distance=66,66664
[20:08:37] [INFO] [Bullet] Distance to wall: 66,66664 (4,5394545% of viewport)
[20:08:37] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:08:37] [INFO] [Bullet] Starting wall penetration at (502.155, 803.7466)
[20:08:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,893538
[20:08:37] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:37] [INFO] [Bullet] Exiting penetration at (538.8608, 832.5643) after traveling 41,666668 pixels through wall
[20:08:37] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:08:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(476.9418, 735.3547), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:08:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:08:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(509.1097, 734.0652), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:08:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[20:08:37] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[20:08:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(476.94183, 735.35474), shooter_id=11523481145000, bullet_pos=(703.95264, 1012.6071)
[20:08:37] [INFO] [Bullet] Using shooter_position, distance=358,33334
[20:08:37] [INFO] [Bullet] Distance to wall: 358,33334 (24,399576% of viewport)
[20:08:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:37] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:08:37] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[20:08:37] [ENEMY] [Enemy4] Hit taken, health: 1/3
[20:08:37] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:37] [INFO] [ImpactEffects] spawn_blood_effect called at (783.5037, 895.605), dir=(1, 0), lethal=false
[20:08:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:37] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:08:37] [INFO] [ImpactEffects] Blood effect spawned at (783.5037, 895.605) (scale=1)
[20:08:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(396.6232, 560.118), source=ENEMY (Enemy2), range=1469, listeners=10
[20:08:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[20:08:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(546.5097, 734.0652), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:08:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[20:08:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(509.10968, 734.06525), shooter_id=11523481145000, bullet_pos=(658.8166, 1003.6152)
[20:08:37] [INFO] [Bullet] Using shooter_position, distance=308,33313
[20:08:37] [INFO] [Bullet] Distance to wall: 308,33313 (20,99497% of viewport)
[20:08:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:37] [INFO] [Bullet] Starting wall penetration at (658.8166, 1003.6152)
[20:08:37] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[20:08:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(335.4901, 401.9334), source=ENEMY (Enemy1), range=1469, listeners=10
[20:08:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[20:08:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,015537
[20:08:37] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:37] [INFO] [Bullet] Exiting penetration at (677.42883, 1037.1268) after traveling 33,333336 pixels through wall
[20:08:37] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:08:37] [INFO] [LastChance] Threat detected: Bullet
[20:08:37] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:08:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:37] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:08:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(396.6232, 560.118), source=ENEMY (Enemy2), range=1469, listeners=10
[20:08:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[20:08:37] [INFO] [LastChance] Threat detected: @Area2D@9010
[20:08:37] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:08:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:37] [ENEMY] [Enemy2] Hit taken, health: 1/2
[20:08:37] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:37] [INFO] [ImpactEffects] spawn_blood_effect called at (396.6232, 560.118), dir=(0.543239, 0.839578), lethal=false
[20:08:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:37] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:08:37] [INFO] [ImpactEffects] Blood effect spawned at (396.6232, 560.118) (scale=1)
[20:08:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(396.6232, 560.118), source=ENEMY (Enemy2), range=1469, listeners=10
[20:08:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[20:08:37] [INFO] [LastChance] Threat detected: @Area2D@9013
[20:08:37] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:08:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(546.5097, 734.06525), shooter_id=11523481145000, bullet_pos=(601.0615, 1020.585)
[20:08:37] [INFO] [Bullet] Using shooter_position, distance=291,66672
[20:08:37] [INFO] [Bullet] Distance to wall: 291,66672 (19,860123% of viewport)
[20:08:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:37] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[20:08:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(327.6872, 401.9335), source=ENEMY (Enemy1), range=1469, listeners=10
[20:08:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[20:08:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(583.9416, 737.8865), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:08:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[20:08:37] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:08:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(396.6232, 560.118), source=ENEMY (Enemy2), range=1469, listeners=10
[20:08:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[20:08:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.4154, 616.7739), shooter_id=11520377358560, bullet_pos=(741.6912, 818.3665)
[20:08:37] [INFO] [Bullet] Using shooter_position, distance=366.666687011719
[20:08:37] [INFO] [Bullet] Distance to wall: 366.666687011719 (24.9670089592123% of viewport)
[20:08:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:37] [INFO] [Bullet] Starting wall penetration at (741.6912, 818.3665)
[20:08:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(396.6232, 560.118), source=ENEMY (Enemy2), range=1469, listeners=10
[20:08:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[20:08:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16.4145050048828
[20:08:37] [INFO] [LastChance] Threat detected: @Area2D@9019
[20:08:37] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:08:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[20:08:37] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[20:08:37] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:37] [INFO] [Bullet] Exiting penetration at (773.711, 839.4421) after traveling 33.3333358764648 pixels through wall
[20:08:37] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:08:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(436.6121, 615.1771), shooter_id=11520377358560, bullet_pos=(684.6701, 885.1987)
[20:08:37] [INFO] [Bullet] Using shooter_position, distance=366.666748046875
[20:08:37] [INFO] [Bullet] Distance to wall: 366.666748046875 (24.9670131152083% of viewport)
[20:08:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:37] [INFO] [Bullet] Starting wall penetration at (684.6701, 885.1987)
[20:08:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31.8136558532715
[20:08:37] [INFO] [LastChance] Threat detected: @Area2D@9022
[20:08:37] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[20:08:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:37] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:37] [INFO] [Bullet] Exiting penetration at (710.6035, 913.4283) after traveling 33.3333358764648 pixels through wall
[20:08:37] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:08:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(583.9416, 737.88654), shooter_id=11523481145000, bullet_pos=(583.85736, 996.2197)
[20:08:37] [INFO] [Bullet] Using shooter_position, distance=258,33322
[20:08:37] [INFO] [Bullet] Distance to wall: 258,33322 (17,590384% of viewport)
[20:08:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:37] [INFO] [Bullet] Starting wall penetration at (583.85736, 996.2197)
[20:08:37] [INFO] [LastChance] Threat detected: @Area2D@9015
[20:08:37] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[20:08:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:08:37] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:08:37] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[20:08:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(321.525, 401.9336), source=ENEMY (Enemy1), range=1469, listeners=10
[20:08:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[20:08:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(396.6232, 560.118), source=ENEMY (Enemy2), range=1469, listeners=10
[20:08:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[20:08:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(607.7466, 751.2659), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:08:37] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=2, self=0, below_threshold=3
[20:08:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,553102
[20:08:37] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:37] [INFO] [Bullet] Exiting penetration at (583.84485, 1034.5531) after traveling 33,333336 pixels through wall
[20:08:37] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:08:37] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:08:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(396.6232, 560.118), source=ENEMY (Enemy2), range=1469, listeners=10
[20:08:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[20:08:37] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[20:08:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(442.3794, 610.6063), shooter_id=11520377358560, bullet_pos=(499.0633, 692.9891)
[20:08:38] [INFO] [Bullet] Using shooter_position, distance=99.9999389648438
[20:08:38] [INFO] [Bullet] Distance to wall: 99.9999389648438 (6.80917972778952% of viewport)
[20:08:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:38] [INFO] [LastChance] Threat detected: @Area2D@9029
[20:08:38] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:08:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(441.7942, 611.1241), shooter_id=11520377358560, bullet_pos=(686.6624, 884.0415)
[20:08:38] [INFO] [Bullet] Using shooter_position, distance=366.666473388672
[20:08:38] [INFO] [Bullet] Distance to wall: 366.666473388672 (24.9669944132262% of viewport)
[20:08:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(607.7466, 751.2659), shooter_id=11523481145000, bullet_pos=(587.2458, 1008.78455)
[20:08:38] [INFO] [Bullet] Using shooter_position, distance=258,33334
[20:08:38] [INFO] [Bullet] Distance to wall: 258,33334 (17,590393% of viewport)
[20:08:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(621.4868, 773.8711), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:08:38] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=1, self=0, below_threshold=4
[20:08:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(362.6709, 460.3008), shooter_id=11520092146357, bullet_pos=(687.4853, 883.3145)
[20:08:38] [INFO] [Bullet] Using shooter_position, distance=533.333801269531
[20:08:38] [INFO] [Bullet] Distance to wall: 533.333801269531 (36.3156792428257% of viewport)
[20:08:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:38] [INFO] [LastChance] Threat detected: Bullet
[20:08:38] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:08:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:38] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:08:38] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[20:08:38] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:08:38] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:08:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(417.1466, 544.8162), source=ENEMY (Enemy2), range=1469, listeners=10
[20:08:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[20:08:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(441.7942, 611.1241), shooter_id=11520377358560, bullet_pos=(552.3468, 996.2211)
[20:08:38] [INFO] [Bullet] Using shooter_position, distance=400.651428222656
[20:08:38] [INFO] [Bullet] Distance to wall: 400.651428222656 (27.2810924806937% of viewport)
[20:08:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:38] [INFO] [LastChance] Threat detected: @Area2D@9039
[20:08:38] [INFO] [LastChance] Triggering last chance effect!
[20:08:38] [INFO] [LastChance] Starting last chance effect:
[20:08:38] [INFO] [LastChance]   - Time will be frozen (except player)
[20:08:38] [INFO] [LastChance]   - Duration: 6.0 real seconds
[20:08:38] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:08:38] [INFO] [LastChance]   - Brightness: 0.60
[20:08:38] [INFO] [LastChance] Pushed bullet Bullet from distance 19.1 to 200.0
[20:08:38] [INFO] [LastChance] Pushed bullet @Area2D@9027 from distance 104.1 to 200.0
[20:08:38] [INFO] [LastChance] Pushed bullet @Area2D@9039 from distance 147.9 to 200.0
[20:08:38] [INFO] [LastChance] Pushed 3 threatening bullets away from player
[20:08:38] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:08:38] [INFO] [LastChance] Skipping player node: Player
[20:08:38] [INFO] [LastChance] Froze existing bullet casing: Casing
[20:08:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8967
[20:08:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8969
[20:08:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8971
[20:08:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8973
[20:08:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8984
[20:08:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8988
[20:08:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8989
[20:08:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8992
[20:08:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8995
[20:08:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8999
[20:08:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9001
[20:08:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9003
[20:08:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9006
[20:08:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9009
[20:08:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9011
[20:08:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9016
[20:08:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9018
[20:08:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9020
[20:08:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9025
[20:08:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9028
[20:08:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9030
[20:08:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9037
[20:08:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9040
[20:08:38] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:08:38] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:08:38] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:08:38] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9043
[20:08:38] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9043
[20:08:38] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@9044
[20:08:38] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@9044
[20:08:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(625.2533, 810.0186), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:08:38] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[20:08:38] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9045
[20:08:38] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9045
[20:08:38] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@9046
[20:08:38] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@9046
[20:08:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(625.2533, 845.2188), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:08:38] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[20:08:38] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9047
[20:08:38] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9047
[20:08:38] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@9048
[20:08:38] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@9048
[20:08:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(625.2533, 880.419), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:08:38] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[20:08:38] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:08:38] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:08:38] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:08:38] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:08:38] [INFO] [LastChance] Ending last chance effect
[20:08:38] [INFO] [LastChance] All process modes restored
[20:08:38] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:08:38] [ENEMY] [Enemy1] Death animation component initialized
[20:08:38] [ENEMY] [Enemy2] Death animation component initialized
[20:08:38] [ENEMY] [Enemy3] Death animation component initialized
[20:08:38] [ENEMY] [Enemy4] Death animation component initialized
[20:08:38] [ENEMY] [Enemy5] Death animation component initialized
[20:08:38] [ENEMY] [Enemy6] Death animation component initialized
[20:08:38] [ENEMY] [Enemy7] Death animation component initialized
[20:08:38] [ENEMY] [Enemy8] Death animation component initialized
[20:08:38] [ENEMY] [Enemy9] Death animation component initialized
[20:08:38] [ENEMY] [Enemy10] Death animation component initialized
[20:08:38] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:08:38] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:08:38] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:08:38] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:08:38] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:08:38] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:08:38] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:08:38] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[20:08:38] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:08:38] [INFO] [ScoreManager] Level started with 10 enemies
[20:08:38] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:08:38] [ENEMY] [Enemy1] Registered as sound listener
[20:08:38] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:08:38] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:08:38] [ENEMY] [Enemy2] Registered as sound listener
[20:08:38] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[20:08:38] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:08:38] [ENEMY] [Enemy3] Registered as sound listener
[20:08:38] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[20:08:38] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:08:38] [ENEMY] [Enemy4] Registered as sound listener
[20:08:38] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[20:08:38] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:08:38] [ENEMY] [Enemy5] Registered as sound listener
[20:08:38] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[20:08:38] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:08:38] [ENEMY] [Enemy6] Registered as sound listener
[20:08:38] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[20:08:38] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:08:38] [ENEMY] [Enemy7] Registered as sound listener
[20:08:38] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[20:08:38] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:08:38] [ENEMY] [Enemy8] Registered as sound listener
[20:08:38] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[20:08:38] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:08:38] [ENEMY] [Enemy9] Registered as sound listener
[20:08:38] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[20:08:38] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:08:38] [ENEMY] [Enemy10] Registered as sound listener
[20:08:38] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[20:08:38] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:08:38] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:08:38] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:08:38] [INFO] [LastChance] Found player: Player
[20:08:38] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:08:38] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:08:38] [INFO] [LastChance] Connected to player Died signal (C#)
[20:08:38] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:08:38] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:08:38] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:08:39] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:08:39] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:08:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=20
[20:08:39] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:08:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[20:08:39] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:08:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[20:08:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:08:39] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:08:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[20:08:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:08:39] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:08:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[20:08:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:08:39] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:08:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.36, 1452.637), source=ENEMY (Enemy10), range=1469, listeners=10
[20:08:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:08:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=11834396511154, bullet_pos=(53.14801, 921.1365)
[20:08:39] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[20:08:39] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[20:08:39] [INFO] [Bullet] Distance-based penetration chance: 50.6760850725264%
[20:08:39] [INFO] [Bullet] Starting wall penetration at (53.14801, 921.1365)
[20:08:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22.4616756439209
[20:08:39] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:39] [INFO] [Bullet] Exiting penetration at (12.37513, 898.4351) after traveling 41.6666641235352 pixels through wall
[20:08:39] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:08:39] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:08:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1017.986, 1429.595), source=ENEMY (Enemy10), range=1469, listeners=10
[20:08:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:08:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=11834396511154, bullet_pos=(46.85162, 857.2495)
[20:08:39] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[20:08:39] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[20:08:40] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:08:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(983.8805, 1424.065), source=ENEMY (Enemy10), range=1469, listeners=10
[20:08:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=11834396511154, bullet_pos=(43.06916, 793.3154)
[20:08:40] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[20:08:40] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[20:08:40] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[20:08:40] [INFO] [Bullet] Penetration failed (distance roll)
[20:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=11834396511154, bullet_pos=(243.5312, 698.2402)
[20:08:40] [INFO] [Bullet] Using shooter_position, distance=1148.49621582031
[20:08:40] [INFO] [Bullet] Distance to wall: 1148.49621582031 (78.2032192335235% of viewport)
[20:08:40] [INFO] [LastChance] Threat detected: @Area2D@9307
[20:08:40] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:08:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:40] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:08:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(952.889, 1407.798), source=ENEMY (Enemy10), range=1469, listeners=10
[20:08:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=11834396511154, bullet_pos=(41.67921, 729.5751)
[20:08:40] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[20:08:40] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[20:08:40] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[20:08:40] [INFO] [Bullet] Penetration failed (distance roll)
[20:08:40] [INFO] [LastChance] Threat detected: Bullet
[20:08:40] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:08:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=11834396511154, bullet_pos=(499.0551, 960.6265)
[20:08:40] [INFO] [Bullet] Using shooter_position, distance=782.693054199219
[20:08:40] [INFO] [Bullet] Distance to wall: 782.693054199219 (53.295009306042% of viewport)
[20:08:40] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.1594, 1417.377), shooter_id=11834396511154, bullet_pos=(67.20157, 702.4606)
[20:08:40] [INFO] [Bullet] Using shooter_position, distance=1166.66674804688
[20:08:40] [INFO] [Bullet] Distance to wall: 1166.66674804688 (79.4404841854927% of viewport)
[20:08:40] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:08:40] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[20:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(960.1771, 1393.697), shooter_id=11834396511154, bullet_pos=(46.14513, 668.6744)
[20:08:40] [INFO] [Bullet] Using shooter_position, distance=1166.66687011719
[20:08:40] [INFO] [Bullet] Distance to wall: 1166.66687011719 (79.4404924974847% of viewport)
[20:08:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(344.9945, 825.1612), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:08:40] [ENEMY] [Enemy1] Heard gunshot at (344.9945, 825.1612), source_type=0, intensity=0.01, distance=477
[20:08:40] [ENEMY] [Enemy2] Heard gunshot at (344.9945, 825.1612), source_type=0, intensity=0.03, distance=281
[20:08:40] [ENEMY] [Enemy4] Heard gunshot at (344.9945, 825.1612), source_type=0, intensity=0.01, distance=461
[20:08:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.1594, 1417.377), shooter_id=11834396511154, bullet_pos=(295.8481, 473.2556)
[20:08:40] [INFO] [Bullet] Using shooter_position, distance=1171.34338378906
[20:08:40] [INFO] [Bullet] Distance to wall: 1171.34338378906 (79.7589249127531% of viewport)
[20:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(927.0801, 1386.591), shooter_id=11834396511154, bullet_pos=(97.16097, 690.2817)
[20:08:40] [INFO] [Bullet] Using shooter_position, distance=1083.333984375
[20:08:40] [INFO] [Bullet] Distance to wall: 1083.333984375 (73.7662030716343% of viewport)
[20:08:40] [ENEMY] [Enemy2] Hit taken, health: 3/4
[20:08:40] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:40] [INFO] [ImpactEffects] spawn_blood_effect called at (395.6636, 570.8879), dir=(0.666676, 0.745347), lethal=false
[20:08:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:40] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:08:40] [INFO] [ImpactEffects] Blood effect spawned at (395.6636, 570.8879) (scale=1)
[20:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(927.0801, 1386.591), shooter_id=11834396511154, bullet_pos=(66.84193, 717.0074)
[20:08:40] [INFO] [Bullet] Using shooter_position, distance=1090.11560058594
[20:08:40] [INFO] [Bullet] Distance to wall: 1090.11560058594 (74.2279757897296% of viewport)
[20:08:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(353.325, 790.6256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:08:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(960.1771, 1393.697), shooter_id=11834396511154, bullet_pos=(300.7819, 468.7391)
[20:08:40] [INFO] [Bullet] Using shooter_position, distance=1135.93493652344
[20:08:40] [INFO] [Bullet] Distance to wall: 1135.93493652344 (77.3478986280434% of viewport)
[20:08:40] [INFO] [Bullet] Distance-based penetration chance: 56.427451600616%
[20:08:40] [INFO] [Bullet] Penetration failed (distance roll)
[20:08:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.9814, 760.6409), source=ENEMY (Enemy3), range=1469, listeners=10
[20:08:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[20:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(896.6296, 1369.517), shooter_id=11834396511154, bullet_pos=(139.8078, 715.8945)
[20:08:40] [INFO] [Bullet] Using shooter_position, distance=1000.00048828125
[20:08:40] [INFO] [Bullet] Distance to wall: 1000.00048828125 (68.0918720858236% of viewport)
[20:08:40] [INFO] [LastChance] Threat detected: @Area2D@9329
[20:08:40] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:08:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(896.6296, 1369.517), shooter_id=11834396511154, bullet_pos=(44.73714, 773.6711)
[20:08:40] [INFO] [Bullet] Using shooter_position, distance=1039.59240722656
[20:08:40] [INFO] [Bullet] Distance to wall: 1039.59240722656 (70.7877586499292% of viewport)
[20:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(344.99448, 825.1612), shooter_id=11835218593819, bullet_pos=(908.5113, 765.4977)
[20:08:40] [INFO] [Bullet] Using shooter_position, distance=566,66656
[20:08:40] [INFO] [Bullet] Distance to wall: 566,66656 (38,58537% of viewport)
[20:08:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:40] [INFO] [Bullet] Starting wall penetration at (908.5113, 765.4977)
[20:08:40] [ENEMY] [Enemy3] Hit taken, health: 1/2
[20:08:40] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:40] [INFO] [ImpactEffects] spawn_blood_effect called at (610.3475, 761.9011), dir=(1, 0), lethal=false
[20:08:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:40] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:08:40] [INFO] [ImpactEffects] Blood effect spawned at (610.3475, 761.9011) (scale=1)
[20:08:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(372.9449, 767.4453), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:08:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:08:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,024323
[20:08:40] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:40] [INFO] [Bullet] Exiting penetration at (954.9186, 760.5842) after traveling 41,66667 pixels through wall
[20:08:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:08:40] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[20:08:40] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[20:08:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(610.3475, 761.9011), source=ENEMY (Enemy3), range=1469, listeners=10
[20:08:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[20:08:40] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=11834396511154, bullet_pos=(67.20074, 1453.029)
[20:08:40] [INFO] [Bullet] Using shooter_position, distance=1011.07757568359
[20:08:40] [INFO] [Bullet] Distance to wall: 1011.07757568359 (68.8461313360168% of viewport)
[20:08:40] [INFO] [LastChance] Threat detected: @Area2D@9336
[20:08:40] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:08:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:40] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:08:40] [ENEMY] [Enemy3] Hit taken, health: 0/2
[20:08:40] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:40] [INFO] [ImpactEffects] spawn_blood_effect called at (608.1107, 765.5344), dir=(1, 0), lethal=true
[20:08:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:40] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:08:40] [INFO] [ImpactEffects] Blood effect spawned at (608.1107, 765.5344) (scale=1.5)
[20:08:40] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[20:08:40] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:08:40] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[20:08:40] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:08:40] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[20:08:40] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[20:08:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(399.7748, 757.1689), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[20:08:40] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[20:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(569.9924, 773.1949), shooter_id=11832400022542, bullet_pos=(62.92433, 809.0393)
[20:08:40] [INFO] [Bullet] Using shooter_position, distance=508.333374023438
[20:08:40] [INFO] [Bullet] Distance to wall: 508.333374023438 (34.6133541799072% of viewport)
[20:08:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:40] [INFO] [Bullet] Starting wall penetration at (62.92433, 809.0393)
[20:08:40] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[20:08:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7.33182764053345
[20:08:40] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:40] [INFO] [Bullet] Exiting penetration at (24.68642, 811.7423) after traveling 33.3333282470703 pixels through wall
[20:08:40] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=11834396511154, bullet_pos=(210.2643, 1587.59)
[20:08:40] [INFO] [Bullet] Using shooter_position, distance=873.153259277344
[20:08:40] [INFO] [Bullet] Distance to wall: 873.153259277344 (59.4546110114611% of viewport)
[20:08:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(434.0232, 756.0005), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[20:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(542.6116, 769.0313), shooter_id=11832400022542, bullet_pos=(42.63612, 764.0865)
[20:08:40] [INFO] [Bullet] Using shooter_position, distance=499.999908447266
[20:08:40] [INFO] [Bullet] Distance to wall: 499.999908447266 (34.0459131849337% of viewport)
[20:08:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:40] [INFO] [Bullet] Starting wall penetration at (42.63612, 764.0865)
[20:08:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27.6966972351074
[20:08:40] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:40] [INFO] [Bullet] Exiting penetration at (4.304657, 763.7075) after traveling 33.3333320617676 pixels through wall
[20:08:40] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:08:40] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:08:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(701.9604, 914.0651), source=ENEMY (Enemy4), range=1469, listeners=9
[20:08:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[20:08:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(399.77484, 757.1689), shooter_id=11835218593819, bullet_pos=(924.2487, 780.66504)
[20:08:41] [INFO] [Bullet] Using shooter_position, distance=524,99994
[20:08:41] [INFO] [Bullet] Distance to wall: 524,99994 (35,748215% of viewport)
[20:08:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:41] [INFO] [LastChance] Threat detected: @Area2D@9347
[20:08:41] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:08:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.02322, 756.0005), shooter_id=11835218593819, bullet_pos=(925.6401, 762.98566)
[20:08:41] [INFO] [Bullet] Using shooter_position, distance=491,66647
[20:08:41] [INFO] [Bullet] Distance to wall: 491,66647 (33,478474% of viewport)
[20:08:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:41] [INFO] [Bullet] Starting wall penetration at (925.6401, 762.98566)
[20:08:41] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:08:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(671.7314, 913.5717), source=ENEMY (Enemy4), range=1469, listeners=9
[20:08:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[20:08:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,972366
[20:08:41] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:41] [INFO] [Bullet] Exiting penetration at (963.96954, 763.5303) after traveling 33,333336 pixels through wall
[20:08:41] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:08:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(641.6581, 882.5339), shooter_id=11832685234900, bullet_pos=(393.494, 713.9679)
[20:08:41] [INFO] [Bullet] Using shooter_position, distance=299.999877929688
[20:08:41] [INFO] [Bullet] Distance to wall: 299.999877929688 (20.4275433393646% of viewport)
[20:08:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:41] [INFO] [LastChance] Threat detected: Bullet
[20:08:41] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:08:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.7917, 873.419), shooter_id=11832685234900, bullet_pos=(445.4309, 715.0526)
[20:08:41] [INFO] [Bullet] Using shooter_position, distance=233.333374023438
[20:08:41] [INFO] [Bullet] Distance to wall: 233.333374023438 (15.8880984994969% of viewport)
[20:08:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:41] [INFO] [Bullet] Starting wall penetration at (445.4309, 715.0526)
[20:08:41] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:08:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(668.3209, 913.3459), source=ENEMY (Enemy4), range=1469, listeners=9
[20:08:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[20:08:41] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:08:41] [INFO] [Bullet] Exiting penetration at (417.2788, 689.0352) after traveling 33.3333358764648 pixels through wall
[20:08:41] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:08:41] [INFO] [LastChance] Threat detected: @Area2D@9363
[20:08:41] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:08:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:41] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[20:08:41] [ENEMY] [Enemy3] Ragdoll activated
[20:08:41] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:08:41] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:08:41] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:08:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(668.3209, 913.3459), source=ENEMY (Enemy4), range=1469, listeners=9
[20:08:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[20:08:41] [INFO] [LastChance] Threat detected: Bullet
[20:08:41] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:08:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:41] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[20:08:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(641.6581, 882.5339), shooter_id=11832685234900, bullet_pos=(46.78891, 1013.743)
[20:08:41] [INFO] [Bullet] Using shooter_position, distance=609.167541503906
[20:08:41] [INFO] [Bullet] Distance to wall: 609.167541503906 (41.4793380613366% of viewport)
[20:08:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(334.3388, 401.9326), source=ENEMY (Enemy1), range=1469, listeners=9
[20:08:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[20:08:41] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:08:41] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[20:08:41] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:08:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(559.6545, 814.6545), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:41] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[20:08:41] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:08:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(668.3209, 913.3459), source=ENEMY (Enemy4), range=1469, listeners=9
[20:08:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[20:08:41] [INFO] [LastChance] Threat detected: @Area2D@9381
[20:08:41] [INFO] [LastChance] Triggering last chance effect!
[20:08:41] [INFO] [LastChance] Starting last chance effect:
[20:08:41] [INFO] [LastChance]   - Time will be frozen (except player)
[20:08:41] [INFO] [LastChance]   - Duration: 6.0 real seconds
[20:08:41] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:08:41] [INFO] [LastChance]   - Brightness: 0.60
[20:08:41] [INFO] [LastChance] Pushed bullet Bullet from distance 60.0 to 200.0
[20:08:41] [INFO] [LastChance] Pushed bullet @Area2D@9381 from distance 80.3 to 200.0
[20:08:41] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[20:08:41] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:08:41] [INFO] [LastChance] Skipping player node: Player
[20:08:41] [INFO] [LastChance] Froze existing bullet casing: Casing
[20:08:41] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9302
[20:08:41] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9304
[20:08:41] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9306
[20:08:41] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9308
[20:08:41] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9309
[20:08:41] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9312
[20:08:41] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9316
[20:08:41] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9322
[20:08:41] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9327
[20:08:41] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9330
[20:08:41] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9335
[20:08:41] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9337
[20:08:41] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9340
[20:08:41] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9344
[20:08:41] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9348
[20:08:41] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9355
[20:08:41] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9364
[20:08:41] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9377
[20:08:41] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9380
[20:08:41] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9382
[20:08:41] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:08:41] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:08:41] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:08:41] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9383
[20:08:41] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9383
[20:08:41] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@9384
[20:08:41] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@9384
[20:08:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(560.9214, 848.9959), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[20:08:41] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9385
[20:08:41] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9385
[20:08:41] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@9386
[20:08:41] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@9386
[20:08:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(560.9214, 884.1961), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[20:08:41] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9387
[20:08:41] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9387
[20:08:41] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@9388
[20:08:41] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@9388
[20:08:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(560.9214, 919.3963), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[20:08:42] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9389
[20:08:42] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9389
[20:08:42] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@9390
[20:08:42] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@9390
[20:08:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(560.9214, 954.5965), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[20:08:42] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9391
[20:08:42] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9391
[20:08:42] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@9392
[20:08:42] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@9392
[20:08:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(560.9214, 988.7299), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[20:08:42] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9393
[20:08:42] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9393
[20:08:42] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@9394
[20:08:42] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@9394
[20:08:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(560.9214, 989.998), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[20:08:43] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9395
[20:08:43] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9395
[20:08:43] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@9396
[20:08:43] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@9396
[20:08:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.4906, 694.4095), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[20:08:43] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9397
[20:08:43] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9397
[20:08:43] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@9398
[20:08:43] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@9398
[20:08:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(514.9313, 676.3557), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[20:08:43] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9399
[20:08:43] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9399
[20:08:43] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@9400
[20:08:43] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@9400
[20:08:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(479.7286, 670.8134), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[20:08:44] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9401
[20:08:44] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9401
[20:08:44] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@9402
[20:08:44] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@9402
[20:08:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(441.2286, 670.8134), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[20:08:44] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9403
[20:08:44] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9403
[20:08:44] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@9404
[20:08:44] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@9404
[20:08:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(402.7286, 670.8134), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[20:08:44] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[20:08:45] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9405
[20:08:45] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9405
[20:08:45] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@9406
[20:08:45] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@9406
[20:08:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(139.3557, 410.9989), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:08:45] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9407
[20:08:45] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9407
[20:08:45] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@9408
[20:08:45] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@9408
[20:08:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(139.3557, 372.4989), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:08:45] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9409
[20:08:45] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9409
[20:08:45] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@9410
[20:08:45] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@9410
[20:08:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(139.3557, 333.9989), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:08:45] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9411
[20:08:45] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9411
[20:08:45] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@9412
[20:08:45] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@9412
[20:08:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(139.3557, 295.4989), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:08:45] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9413
[20:08:45] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9413
[20:08:45] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@9414
[20:08:45] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@9414
[20:08:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(139.3557, 256.9989), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:08:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:08:47] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[20:08:47] [INFO] [LastChance] Ending last chance effect
[20:08:47] [INFO] [LastChance] All process modes restored
[20:08:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@9383
[20:08:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@9385
[20:08:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@9387
[20:08:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@9389
[20:08:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@9391
[20:08:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@9393
[20:08:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@9395
[20:08:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@9397
[20:08:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@9399
[20:08:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@9401
[20:08:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@9403
[20:08:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@9405
[20:08:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@9407
[20:08:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@9409
[20:08:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@9411
[20:08:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@9413
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: Casing
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9302
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9304
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9306
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9308
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9309
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9312
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9316
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9322
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9327
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9330
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9335
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9337
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9340
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9344
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9348
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9355
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9364
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9377
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9380
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9382
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9384
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9386
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9388
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9390
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9392
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9394
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9396
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9398
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9400
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9402
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9404
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9406
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9408
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9410
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9412
[20:08:47] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9414
[20:08:47] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:08:47] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[20:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(139.35574, 410.99887), shooter_id=11835218593819, bullet_pos=(246.49823, 427.0175)
[20:08:47] [INFO] [Bullet] Using shooter_position, distance=108,33332
[20:08:47] [INFO] [Bullet] Distance to wall: 108,33332 (7,376615% of viewport)
[20:08:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:47] [ENEMY] [Enemy4] Hit taken, health: 2/3
[20:08:47] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:47] [INFO] [ImpactEffects] spawn_blood_effect called at (668.3209, 913.3459), dir=(1, 0), lethal=false
[20:08:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:47] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:08:47] [INFO] [ImpactEffects] Blood effect spawned at (668.3209, 913.3459) (scale=1)
[20:08:47] [ENEMY] [Enemy2] Hit taken, health: 2/4
[20:08:47] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:47] [INFO] [ImpactEffects] spawn_blood_effect called at (395.6636, 570.8879), dir=(1, 0), lethal=false
[20:08:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:47] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:08:47] [INFO] [ImpactEffects] Blood effect spawned at (395.6636, 570.8879) (scale=1)
[20:08:47] [ENEMY] [Enemy2] Hit taken, health: 1/4
[20:08:47] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:47] [INFO] [ImpactEffects] spawn_blood_effect called at (395.6636, 570.8879), dir=(1, 0), lethal=false
[20:08:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:47] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:08:47] [INFO] [ImpactEffects] Blood effect spawned at (395.6636, 570.8879) (scale=1)
[20:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.9214, 954.5965), shooter_id=11835218593819, bullet_pos=(737.77185, 1002.9186)
[20:08:47] [INFO] [Bullet] Using shooter_position, distance=183,33333
[20:08:47] [INFO] [Bullet] Distance to wall: 183,33333 (12,483503% of viewport)
[20:08:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.9214, 884.1961), shooter_id=11835218593819, bullet_pos=(701.8122, 1001.5029)
[20:08:47] [INFO] [Bullet] Using shooter_position, distance=183,33333
[20:08:47] [INFO] [Bullet] Distance to wall: 183,33333 (12,483503% of viewport)
[20:08:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.9214, 848.9959), shooter_id=11835218593819, bullet_pos=(639.90094, 1014.4449)
[20:08:47] [INFO] [Bullet] Using shooter_position, distance=183,33339
[20:08:47] [INFO] [Bullet] Distance to wall: 183,33339 (12,483508% of viewport)
[20:08:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:47] [INFO] [Bullet] Starting wall penetration at (639.90094, 1014.4449)
[20:08:47] [ENEMY] [Enemy1] Hit taken, health: 2/3
[20:08:47] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:47] [INFO] [ImpactEffects] spawn_blood_effect called at (334.3388, 401.9326), dir=(1, 0), lethal=false
[20:08:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:47] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:08:47] [INFO] [ImpactEffects] Blood effect spawned at (334.3388, 401.9326) (scale=1)
[20:08:47] [ENEMY] [Enemy1] Hit taken, health: 1/3
[20:08:47] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:47] [INFO] [ImpactEffects] spawn_blood_effect called at (334.3388, 401.9326), dir=(1, 0), lethal=false
[20:08:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:47] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:08:47] [INFO] [ImpactEffects] Blood effect spawned at (334.3388, 401.9326) (scale=1)
[20:08:47] [ENEMY] [Enemy1] Hit taken, health: 0/3
[20:08:47] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:47] [INFO] [ImpactEffects] spawn_blood_effect called at (334.3388, 401.9326), dir=(1, 0), lethal=true
[20:08:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:47] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:08:47] [INFO] [ImpactEffects] Blood effect spawned at (334.3388, 401.9326) (scale=1.5)
[20:08:47] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[20:08:47] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:08:47] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 8)
[20:08:47] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:08:47] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[20:08:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,74544
[20:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.9214, 919.3963), shooter_id=11835218593819, bullet_pos=(761.17847, 1002.1098)
[20:08:47] [INFO] [Bullet] Using shooter_position, distance=216,66661
[20:08:47] [INFO] [Bullet] Distance to wall: 216,66661 (14,753228% of viewport)
[20:08:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:47] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:47] [INFO] [Bullet] Exiting penetration at (656.41486, 1049.0388) after traveling 33,333336 pixels through wall
[20:08:47] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:08:47] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:08:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(668.3209, 913.3459), source=ENEMY (Enemy4), range=1469, listeners=8
[20:08:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=5
[20:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(360.8318, 464.6088), shooter_id=11831829597709, bullet_pos=(689.2192, 830.5292)
[20:08:47] [INFO] [Bullet] Using shooter_position, distance=491.666595458984
[20:08:47] [INFO] [Bullet] Distance to wall: 491.666595458984 (33.4784825799502% of viewport)
[20:08:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:47] [INFO] [Bullet] Starting wall penetration at (689.2192, 830.5292)
[20:08:47] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:08:47] [INFO] [Bullet] Exiting penetration at (714.8223, 859.0587) after traveling 33.3333358764648 pixels through wall
[20:08:47] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(139.35574, 295.49887), shooter_id=11835218593819, bullet_pos=(498.10602, 430.56458)
[20:08:47] [INFO] [Bullet] Using shooter_position, distance=383,3334
[20:08:47] [INFO] [Bullet] Distance to wall: 383,3334 (26,10188% of viewport)
[20:08:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:47] [INFO] [Bullet] Starting wall penetration at (498.10602, 430.56458)
[20:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.9214, 988.7299), shooter_id=11835218593819, bullet_pos=(933.1372, 897.08)
[20:08:47] [INFO] [Bullet] Using shooter_position, distance=383,33316
[20:08:47] [INFO] [Bullet] Distance to wall: 383,33316 (26,10186% of viewport)
[20:08:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(614.2267, 872.0613), shooter_id=11832685234900, bullet_pos=(436.7007, 712.0451)
[20:08:47] [INFO] [Bullet] Using shooter_position, distance=238.999282836914
[20:08:47] [INFO] [Bullet] Distance to wall: 238.999282836914 (16.2739006492942% of viewport)
[20:08:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,664962
[20:08:47] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:47] [INFO] [Bullet] Exiting penetration at (533.981, 444.07114) after traveling 33,333332 pixels through wall
[20:08:47] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(139.35574, 256.99887), shooter_id=11835218593819, bullet_pos=(505.65247, 455.5886)
[20:08:47] [INFO] [Bullet] Using shooter_position, distance=416,66672
[20:08:47] [INFO] [Bullet] Distance to wall: 416,66672 (28,371605% of viewport)
[20:08:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.9214, 954.5965), shooter_id=11835218593819, bullet_pos=(932.2698, 943.6312)
[20:08:47] [INFO] [Bullet] Using shooter_position, distance=371,51025
[20:08:47] [INFO] [Bullet] Distance to wall: 371,51025 (25,296816% of viewport)
[20:08:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:47] [INFO] [Bullet] Starting wall penetration at (932.2698, 943.6312)
[20:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.9214, 919.3963), shooter_id=11835218593819, bullet_pos=(923.9419, 937.8212)
[20:08:47] [INFO] [Bullet] Using shooter_position, distance=363,4878
[20:08:47] [INFO] [Bullet] Distance to wall: 363,4878 (24,750553% of viewport)
[20:08:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,433645
[20:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(479.72864, 670.8134), shooter_id=11835218593819, bullet_pos=(272.57153, 271.33127)
[20:08:47] [INFO] [Bullet] Using shooter_position, distance=450,00006
[20:08:47] [INFO] [Bullet] Distance to wall: 450,00006 (30,641333% of viewport)
[20:08:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:47] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:47] [INFO] [Bullet] Exiting penetration at (964.15466, 933.912) after traveling 28,333334 pixels through wall
[20:08:47] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[20:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(514.93134, 676.3557), shooter_id=11835218593819, bullet_pos=(276.62463, 255.85486)
[20:08:47] [INFO] [Bullet] Using shooter_position, distance=483,33328
[20:08:47] [INFO] [Bullet] Distance to wall: 483,33328 (32,911053% of viewport)
[20:08:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.4906, 694.40955), shooter_id=11835218593819, bullet_pos=(266.3854, 256.4475)
[20:08:47] [INFO] [Bullet] Using shooter_position, distance=516,6666
[20:08:47] [INFO] [Bullet] Distance to wall: 516,6666 (35,18078% of viewport)
[20:08:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:47] [INFO] [Bullet] Starting wall penetration at (266.3854, 256.4475)
[20:08:47] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:08:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(668.3209, 913.3459), source=ENEMY (Enemy4), range=1469, listeners=8
[20:08:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=5
[20:08:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 2,4142032
[20:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(678.0428, 845.9954), shooter_id=11832685234900, bullet_pos=(678.0428, 845.9954)
[20:08:47] [INFO] [Bullet] Using shooter_position, distance=0
[20:08:47] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[20:08:47] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:08:47] [INFO] [Bullet] Starting wall penetration at (678.0428, 845.9954)
[20:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.9214, 884.1961), shooter_id=11835218593819, bullet_pos=(916.44556, 768.67163)
[20:08:47] [INFO] [Bullet] Using shooter_position, distance=373,8226
[20:08:47] [INFO] [Bullet] Distance to wall: 373,8226 (25,454268% of viewport)
[20:08:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:47] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[20:08:47] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[20:08:47] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:08:47] [INFO] [Bullet] Exiting penetration at (679.1345, 807.6776) after traveling 33.3333358764648 pixels through wall
[20:08:47] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:08:47] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:47] [INFO] [Bullet] Exiting penetration at (228.36438, 195.69794) after traveling 66,66667 pixels through wall
[20:08:47] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.9214, 988.7299), shooter_id=11835218593819, bullet_pos=(761.1434, 864.7832)
[20:08:47] [INFO] [Bullet] Using shooter_position, distance=235,4817
[20:08:47] [INFO] [Bullet] Distance to wall: 235,4817 (16,034382% of viewport)
[20:08:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:47] [INFO] [Bullet] Starting wall penetration at (761.1434, 864.7832)
[20:08:47] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:08:47] [INFO] [Bullet] Exiting penetration at (728.3826, 858.6314) after traveling 28,333334 pixels through wall
[20:08:47] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[20:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(559.65454, 814.6545), shooter_id=11835218593819, bullet_pos=(887.70514, 1606.0309)
[20:08:47] [INFO] [Bullet] Using shooter_position, distance=856,676
[20:08:47] [INFO] [Bullet] Distance to wall: 856,676 (58,332645% of viewport)
[20:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.9214, 919.3963), shooter_id=11835218593819, bullet_pos=(707.5512, 889.3627)
[20:08:47] [INFO] [Bullet] Using shooter_position, distance=149,67406
[20:08:47] [INFO] [Bullet] Distance to wall: 149,67406 (10,191582% of viewport)
[20:08:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(669.8972, 921.7312), source=ENEMY (Enemy4), range=1469, listeners=8
[20:08:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=5
[20:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(681.6369, 854.703), shooter_id=11832685234900, bullet_pos=(681.6369, 854.703)
[20:08:47] [INFO] [Bullet] Using shooter_position, distance=0
[20:08:47] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[20:08:47] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:08:47] [INFO] [Bullet] Starting wall penetration at (681.6369, 854.703)
[20:08:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.7262172698975
[20:08:47] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:47] [INFO] [Bullet] Exiting penetration at (674.3468, 817.0693) after traveling 33.3333358764648 pixels through wall
[20:08:47] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:08:47] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:08:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(670.8778, 925.8835), source=ENEMY (Enemy4), range=1469, listeners=8
[20:08:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=5
[20:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(683.2328, 858.966), shooter_id=11832685234900, bullet_pos=(683.2328, 858.966)
[20:08:47] [INFO] [Bullet] Using shooter_position, distance=0
[20:08:47] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[20:08:47] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:08:47] [INFO] [Bullet] Starting wall penetration at (683.2328, 858.966)
[20:08:47] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:08:47] [INFO] [Bullet] Exiting penetration at (685.826, 820.7205) after traveling 33.3333320617676 pixels through wall
[20:08:47] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(479.72864, 670.8134), shooter_id=11835218593819, bullet_pos=(59.47039, 577.8695)
[20:08:47] [INFO] [Bullet] Using shooter_position, distance=430,41324
[20:08:47] [INFO] [Bullet] Distance to wall: 430,41324 (29,30763% of viewport)
[20:08:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(139.35574, 256.99887), shooter_id=11835218593819, bullet_pos=(142.15736, 685.3087)
[20:08:48] [INFO] [Bullet] Using shooter_position, distance=428,319
[20:08:48] [INFO] [Bullet] Distance to wall: 428,319 (29,16503% of viewport)
[20:08:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(514.93134, 676.3557), shooter_id=11835218593819, bullet_pos=(64.96499, 630.1544)
[20:08:48] [INFO] [Bullet] Using shooter_position, distance=452,33203
[20:08:48] [INFO] [Bullet] Distance to wall: 452,33203 (30,800121% of viewport)
[20:08:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(614.2267, 872.0613), shooter_id=11832685234900, bullet_pos=(47.98605, 1049.871)
[20:08:48] [INFO] [Bullet] Using shooter_position, distance=593.501892089844
[20:08:48] [INFO] [Bullet] Distance to wall: 593.501892089844 (40.4126351861439% of viewport)
[20:08:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(139.35574, 256.99887), shooter_id=11835218593819, bullet_pos=(48.98419, 645.46893)
[20:08:48] [INFO] [Bullet] Using shooter_position, distance=398,84332
[20:08:48] [INFO] [Bullet] Distance to wall: 398,84332 (27,157978% of viewport)
[20:08:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:48] [INFO] [Bullet] Starting wall penetration at (48.98419, 645.46893)
[20:08:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,611641
[20:08:48] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:48] [INFO] [Bullet] Exiting penetration at (22.242882, 634.03467) after traveling 24,083332 pixels through wall
[20:08:48] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[20:08:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(659.5055, 845.8708), shooter_id=11832685234900, bullet_pos=(647.4777, 45.96106)
[20:08:48] [INFO] [Bullet] Using shooter_position, distance=800.000183105469
[20:08:48] [INFO] [Bullet] Distance to wall: 800.000183105469 (54.4734835382724% of viewport)
[20:08:48] [INFO] [Bullet] Distance-based penetration chance: 83.1142692053489%
[20:08:48] [INFO] [Bullet] Penetration failed (distance roll)
[20:08:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(479.72864, 670.8134), shooter_id=11835218593819, bullet_pos=(144.12672, 701.0912)
[20:08:48] [INFO] [Bullet] Using shooter_position, distance=336,96497
[20:08:48] [INFO] [Bullet] Distance to wall: 336,96497 (22,944565% of viewport)
[20:08:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:48] [INFO] [Bullet] Starting wall penetration at (144.12672, 701.0912)
[20:08:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(514.93134, 676.3557), shooter_id=11835218593819, bullet_pos=(103.45409, 697.1331)
[20:08:48] [INFO] [Bullet] Using shooter_position, distance=412,00146
[20:08:48] [INFO] [Bullet] Distance to wall: 412,00146 (28,05394% of viewport)
[20:08:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,848081
[20:08:48] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:48] [INFO] [Bullet] Exiting penetration at (160.59554, 725.0624) after traveling 24,083334 pixels through wall
[20:08:48] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[20:08:48] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:08:48] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:08:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(514.93134, 676.3557), shooter_id=11835218593819, bullet_pos=(60.57014, 772.6955)
[20:08:48] [INFO] [Bullet] Using shooter_position, distance=464,46255
[20:08:48] [INFO] [Bullet] Distance to wall: 464,46255 (31,626112% of viewport)
[20:08:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(559.65454, 814.6545), shooter_id=11835218593819, bullet_pos=(730.7371, 2066.6882)
[20:08:48] [INFO] [Bullet] Using shooter_position, distance=1263,6683
[20:08:48] [INFO] [Bullet] Distance to wall: 1263,6683 (86,0455% of viewport)
[20:08:48] [INFO] [Bullet] Distance-based penetration chance: 46,280254%
[20:08:48] [INFO] [Bullet] Penetration failed (distance roll)
[20:08:48] [ENEMY] [Enemy1] Ragdoll activated
[20:08:48] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:08:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.9214, 884.1961), shooter_id=11835218593819, bullet_pos=(517.2245, 219.01965)
[20:08:48] [INFO] [Bullet] Using shooter_position, distance=666,61017
[20:08:48] [INFO] [Bullet] Distance to wall: 666,61017 (45,390713% of viewport)
[20:08:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.9214, 884.1961), shooter_id=11835218593819, bullet_pos=(645.85034, 53.390778)
[20:08:48] [INFO] [Bullet] Using shooter_position, distance=835,13495
[20:08:48] [INFO] [Bullet] Distance to wall: 835,13495 (56,865875% of viewport)
[20:08:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(614.2267, 872.0613), shooter_id=11832685234900, bullet_pos=(576.6459, 1394.674)
[20:08:48] [INFO] [Bullet] Using shooter_position, distance=523.962158203125
[20:08:48] [INFO] [Bullet] Distance to wall: 523.962158203125 (35.6775468335021% of viewport)
[20:08:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:48] [INFO] [Bullet] Starting wall penetration at (576.6459, 1394.674)
[20:08:48] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:08:48] [INFO] [Bullet] Exiting penetration at (601.0059, 1410.562) after traveling 24.0833358764648 pixels through wall
[20:08:48] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[20:08:49] [ENEMY] [Enemy1] Death animation completed
[20:08:50] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:08:50] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[20:08:50] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[20:08:50] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[20:08:50] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[20:08:50] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[20:08:50] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[20:08:50] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[20:08:50] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[20:08:50] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1204.536, 318.7165), source=PLAYER (Player), range=900, listeners=8
[20:08:50] [ENEMY] [Enemy5] Heard player RELOAD at (1204.536, 318.7165), intensity=0.01, distance=496
[20:08:50] [ENEMY] [Enemy5] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[20:08:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=4
[20:08:50] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=847), can_see=false
[20:08:50] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=813), can_see=false
[20:08:50] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=496), can_see=false
[20:08:50] [ENEMY] [Enemy5] Pursuing vulnerability sound at (1204.536, 318.7165), distance=496
[20:08:50] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=757), can_see=false
[20:08:50] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=709), can_see=false
[20:08:50] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1328), can_see=false
[20:08:50] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1522), can_see=false
[20:08:50] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1178), can_see=false
[20:08:50] [INFO] [Player.Reload.Anim] LeftArm: pos=(5.2978654, 2.2341106), target=(4, 2), base=(24, 6)
[20:08:50] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.127312, 6), target=(-2, 6), base=(-2, 6)
[20:08:50] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:08:50] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:08:50] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[20:08:50] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[20:08:50] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[20:08:50] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[20:08:50] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[20:08:50] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[20:08:50] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[20:08:50] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[20:08:50] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:08:50] [ENEMY] [Enemy10] FLANKING started: target=(1315.847, 627.8788), side=left, pos=(741.9795, 1402.491)
[20:08:50] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[20:08:50] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[20:08:50] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[20:08:50] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[20:08:50] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[20:08:51] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:08:51] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[20:08:51] [ENEMY] [Enemy5] Pursuing vulnerability sound at (1204.536, 318.7165), distance=314
[20:08:51] [ENEMY] [Enemy5] State: PURSUING -> COMBAT
[20:08:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1335.706, 199.2219), source=ENEMY (Enemy5), range=1469, listeners=8
[20:08:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=6
[20:08:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1329.504, 236.0262), source=ENEMY (Enemy5), range=1469, listeners=8
[20:08:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=6
[20:08:52] [INFO] [LastChance] Threat detected: @Area2D@9497
[20:08:52] [INFO] [LastChance] Effect already used this life
[20:08:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1326.513, 273.2267), source=ENEMY (Enemy5), range=1469, listeners=8
[20:08:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=6
[20:08:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1329.895, 266.9174), shooter_id=11832970447242, bullet_pos=(1180.393, 1001.866)
[20:08:52] [INFO] [Bullet] Using shooter_position, distance=750.00048828125
[20:08:52] [INFO] [Bullet] Distance to wall: 750.00048828125 (51.0689123763597% of viewport)
[20:08:52] [INFO] [LastChance] Threat detected: @Area2D@9499
[20:08:52] [INFO] [LastChance] Effect already used this life
[20:08:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1327.118, 310.5396), source=ENEMY (Enemy5), range=1469, listeners=8
[20:08:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=7
[20:08:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1332.508, 340.9034), shooter_id=11832970447242, bullet_pos=(1322.503, 715.7699)
[20:08:52] [INFO] [Bullet] Using shooter_position, distance=375.000030517578
[20:08:52] [INFO] [Bullet] Distance to wall: 375.000030517578 (25.5344416421938% of viewport)
[20:08:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1329.233, 303.9779), shooter_id=11832970447242, bullet_pos=(1245.127, 1007.3)
[20:08:52] [INFO] [Bullet] Using shooter_position, distance=708.333251953125
[20:08:52] [INFO] [Bullet] Distance to wall: 708.333251953125 (48.2317136354862% of viewport)
[20:08:52] [INFO] [Bullet] Distance-based penetration chance: 90.3963340919327%
[20:08:52] [INFO] [Bullet] Starting wall penetration at (1245.127, 1007.3)
[20:08:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.8477516174316
[20:08:52] [INFO] [LastChance] Threat detected: @Area2D@9501
[20:08:52] [INFO] [LastChance] Effect already used this life
[20:08:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:08:52] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:52] [INFO] [Bullet] Exiting penetration at (1239.586, 1053.637) after traveling 41.6666717529297 pixels through wall
[20:08:52] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:08:52] [ENEMY] [Enemy4] FLANKING started: target=(1230.588, 547.5212), side=right, pos=(684.2975, 943.7429)
[20:08:52] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[20:08:52] [ENEMY] [Enemy5] State: COMBAT -> PURSUING
[20:08:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1324.432, 378.6524), shooter_id=11832970447242, bullet_pos=(1349.492, 711.0425)
[20:08:52] [INFO] [Bullet] Using shooter_position, distance=333.333435058594
[20:08:52] [INFO] [Bullet] Distance to wall: 333.333435058594 (22.6972865392785% of viewport)
[20:08:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1324.432, 378.6524), shooter_id=11832970447242, bullet_pos=(1349.786, 706.0512)
[20:08:52] [INFO] [Bullet] Using shooter_position, distance=328.379028320313
[20:08:52] [INFO] [Bullet] Distance to wall: 328.379028320313 (22.3599318741183% of viewport)
[20:08:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:52] [INFO] [Bullet] Starting wall penetration at (1349.786, 706.0512)
[20:08:52] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:08:52] [INFO] [Bullet] Exiting penetration at (1352.162, 665.7045) after traveling 35.4166641235352 pixels through wall
[20:08:52] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[20:08:55] [ENEMY] [Enemy7] Memory: medium confidence (0.52) - transitioning to PURSUING
[20:08:55] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[20:08:55] [ENEMY] [Enemy6] Memory: medium confidence (0.54) - transitioning to PURSUING
[20:08:55] [ENEMY] [Enemy6] State: IDLE -> PURSUING
[20:08:55] [ENEMY] [Enemy10] FLANKING timeout (5.0s), target=(989.5101, 792.8735), pos=(1628.909, 751.9333)
[20:08:55] [ENEMY] [Enemy10] State: FLANKING -> PURSUING
[20:08:55] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[20:08:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1355.237, 663.7399), source=ENEMY (Enemy4), range=1469, listeners=8
[20:08:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=4
[20:08:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1296.064, 697.3423), shooter_id=11832685234900, bullet_pos=(1296.064, 697.3423)
[20:08:56] [INFO] [Bullet] Using shooter_position, distance=0
[20:08:56] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[20:08:56] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:08:56] [INFO] [Bullet] Starting wall penetration at (1296.064, 697.3423)
[20:08:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9.16650390625
[20:08:56] [INFO] [Bullet] Max penetration distance exceeded: 83.3333358764648 >= 48
[20:08:56] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:56] [INFO] [Bullet] Exiting penetration at (1214.758, 731.8693) after traveling 83.3333358764648 pixels through wall
[20:08:56] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:08:56] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[20:08:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(952.4568, 954.8129), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:08:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=5
[20:08:56] [ENEMY] [Enemy6] State: PURSUING -> COMBAT
[20:08:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(952.4568, 916.4796), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:08:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=5
[20:08:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(952.4568, 877.9796), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:08:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=5
[20:08:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1796.232, 637.0788), source=ENEMY (Enemy6), range=1469, listeners=8
[20:08:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=4
[20:08:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(952.45685, 954.8129), shooter_id=11835218593819, bullet_pos=(1739.6976, 612.77795)
[20:08:56] [INFO] [Bullet] Using shooter_position, distance=858,33325
[20:08:56] [INFO] [Bullet] Distance to wall: 858,33325 (58,445488% of viewport)
[20:08:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(952.4568, 839.4796), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:08:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=5
[20:08:56] [ENEMY] [Enemy6] Hit taken, health: 1/2
[20:08:56] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:56] [INFO] [ImpactEffects] spawn_blood_effect called at (1794.943, 638.8755), dir=(1, 0), lethal=false
[20:08:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:56] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:08:56] [INFO] [ImpactEffects] Blood effect spawned at (1794.943, 638.8755) (scale=1)
[20:08:56] [ENEMY] [Enemy7] State: PURSUING -> RETREATING
[20:08:56] [ENEMY] [Enemy7] State: RETREATING -> IN_COVER
[20:08:56] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[20:08:56] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[20:08:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1787.453, 645.4105), source=ENEMY (Enemy6), range=1469, listeners=8
[20:08:56] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=3
[20:08:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(952.45685, 916.4796), shooter_id=11835218593819, bullet_pos=(1716.2831, 627.49207)
[20:08:57] [INFO] [Bullet] Using shooter_position, distance=816,66656
[20:08:57] [INFO] [Bullet] Distance to wall: 816,66656 (55,608334% of viewport)
[20:08:57] [ENEMY] [Enemy6] Hit taken, health: 0/2
[20:08:57] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[20:08:57] [INFO] [ImpactEffects] spawn_blood_effect called at (1775.266, 648.6129), dir=(1, 0), lethal=true
[20:08:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:08:57] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:08:57] [INFO] [ImpactEffects] Blood effect spawned at (1775.266, 648.6129) (scale=1.5)
[20:08:57] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[20:08:57] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:08:57] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 7)
[20:08:57] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:08:57] [ENEMY] [Enemy6] Death animation started with hit direction: (1, 0)
[20:08:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(952.45685, 877.9796), shooter_id=11835218593819, bullet_pos=(1771.9373, 622.6625)
[20:08:57] [INFO] [Bullet] Using shooter_position, distance=858,33264
[20:08:57] [INFO] [Bullet] Distance to wall: 858,33264 (58,445446% of viewport)
[20:08:57] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[20:08:57] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:08:57] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:08:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1732.394, 660.8022), shooter_id=11833255659093, bullet_pos=(939.3322, 855.7375)
[20:08:57] [INFO] [Bullet] Using shooter_position, distance=816.667785644531
[20:08:57] [INFO] [Bullet] Distance to wall: 816.667785644531 (55.6084112441757% of viewport)
[20:08:57] [ENEMY] [Enemy5] State: PURSUING -> RETREATING
[20:08:57] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[20:08:57] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:08:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1722.596, 666.1749), shooter_id=11833255659093, bullet_pos=(937.7674, 821.233)
[20:08:57] [INFO] [Bullet] Using shooter_position, distance=799.999084472656
[20:08:57] [INFO] [Bullet] Distance to wall: 799.999084472656 (54.473408730344% of viewport)
[20:08:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(952.45685, 877.9796), shooter_id=11835218593819, bullet_pos=(2465.946, 884.23865)
[20:08:57] [INFO] [Bullet] Using shooter_position, distance=1513,5022
[20:08:57] [INFO] [Bullet] Distance to wall: 1513,5022 (103,057144% of viewport)
[20:08:57] [INFO] [Bullet] Distance-based penetration chance: 29,38857%
[20:08:57] [INFO] [Bullet] Penetration failed (distance roll)
[20:08:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(952.0001, 728.6403), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:08:57] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=4
[20:08:57] [ENEMY] [Enemy6] Ragdoll activated
[20:08:57] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:08:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(952.45685, 839.4796), shooter_id=11835218593819, bullet_pos=(2474.1853, 466.9478)
[20:08:57] [INFO] [Bullet] Using shooter_position, distance=1566,6646
[20:08:57] [INFO] [Bullet] Distance to wall: 1566,6646 (106,67708% of viewport)
[20:08:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(952.0001, 728.64026), shooter_id=11835218593819, bullet_pos=(1176.6436, 715.97534)
[20:08:57] [INFO] [Bullet] Using shooter_position, distance=225,00015
[20:08:57] [INFO] [Bullet] Distance to wall: 225,00015 (15,320675% of viewport)
[20:08:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:57] [INFO] [Bullet] Starting wall penetration at (1176.6436, 715.97534)
[20:08:57] [INFO] [Bullet] Raycast forward hit penetrating body at distance 32,290943
[20:08:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(952.0477, 728.6786), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:08:57] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=4
[20:08:57] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[20:08:57] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:57] [INFO] [Bullet] Exiting penetration at (1248.1967, 711.94135) after traveling 66,66667 pixels through wall
[20:08:57] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:08:57] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[20:08:57] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:08:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(952.0477, 728.6786), shooter_id=11835218593819, bullet_pos=(1109.7157, 714.1802)
[20:08:57] [INFO] [Bullet] Using shooter_position, distance=158,33316
[20:08:57] [INFO] [Bullet] Distance to wall: 158,33316 (10,781197% of viewport)
[20:08:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:57] [INFO] [Bullet] Starting wall penetration at (1109.7157, 714.1802)
[20:08:57] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:08:57] [INFO] [Bullet] Exiting penetration at (1147.888, 710.67004) after traveling 33,333332 pixels through wall
[20:08:57] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:08:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(952.0477, 728.6786), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:08:57] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=4
[20:08:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(952.0477, 728.6786), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:08:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=4
[20:08:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(952.0477, 728.6786), shooter_id=11835218593819, bullet_pos=(1243.3997, 715.1376)
[20:08:58] [INFO] [Bullet] Using shooter_position, distance=291,6664
[20:08:58] [INFO] [Bullet] Distance to wall: 291,6664 (19,860102% of viewport)
[20:08:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:58] [INFO] [Bullet] Starting wall penetration at (1243.3997, 715.1376)
[20:08:58] [INFO] [Bullet] Raycast forward hit penetrating body at distance 29,249067
[20:08:58] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[20:08:58] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:58] [INFO] [Bullet] Exiting penetration at (1314.989, 711.81036) after traveling 66,66667 pixels through wall
[20:08:58] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:08:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(952.0477, 728.6786), shooter_id=11835218593819, bullet_pos=(1209.985, 714.38007)
[20:08:58] [INFO] [Bullet] Using shooter_position, distance=258,33325
[20:08:58] [INFO] [Bullet] Distance to wall: 258,33325 (17,590387% of viewport)
[20:08:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:58] [INFO] [Bullet] Starting wall penetration at (1209.985, 714.38007)
[20:08:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(952.0477, 728.6786), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:08:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=4
[20:08:58] [INFO] [Bullet] Raycast forward hit penetrating body at distance 4,6678004
[20:08:58] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[20:08:58] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:58] [INFO] [Bullet] Exiting penetration at (1281.5417, 710.4134) after traveling 66,66667 pixels through wall
[20:08:58] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:08:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(952.0477, 728.6786), shooter_id=11835218593819, bullet_pos=(1176.635, 715.055)
[20:08:58] [INFO] [Bullet] Using shooter_position, distance=225,0001
[20:08:58] [INFO] [Bullet] Distance to wall: 225,0001 (15,320672% of viewport)
[20:08:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:58] [INFO] [Bullet] Starting wall penetration at (1176.635, 715.055)
[20:08:58] [INFO] [Bullet] Raycast forward hit penetrating body at distance 12,12124
[20:08:58] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[20:08:58] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:58] [INFO] [Bullet] Exiting penetration at (1248.1703, 710.71564) after traveling 66,66667 pixels through wall
[20:08:58] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:08:58] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[20:08:58] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[20:08:58] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:08:58] [ENEMY] [Enemy6] Death animation completed
[20:08:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(980.9244, 775.0428), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:08:58] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=3
[20:08:58] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[20:08:58] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[20:08:58] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:08:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(980.9244, 775.04285), shooter_id=11835218593819, bullet_pos=(1231.9679, 714.10706)
[20:08:58] [INFO] [Bullet] Using shooter_position, distance=258,33316
[20:08:58] [INFO] [Bullet] Distance to wall: 258,33316 (17,59038% of viewport)
[20:08:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1005.815, 799.933), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:08:58] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=3
[20:08:59] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[20:08:59] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[20:08:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(980.9244, 775.04285), shooter_id=11835218593819, bullet_pos=(1425.4084, 776.7575)
[20:08:59] [INFO] [Bullet] Using shooter_position, distance=444,48737
[20:08:59] [INFO] [Bullet] Distance to wall: 444,48737 (30,265963% of viewport)
[20:08:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:59] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:08:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1030.705, 824.8231), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:08:59] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=3
[20:08:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.8145, 799.933), shooter_id=11835218593819, bullet_pos=(1318.5298, 711.42365)
[20:08:59] [INFO] [Bullet] Using shooter_position, distance=324,9996
[20:08:59] [INFO] [Bullet] Distance to wall: 324,9996 (22,129822% of viewport)
[20:08:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:59] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[20:08:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.8145, 799.933), shooter_id=11835218593819, bullet_pos=(1482.4701, 772.6485)
[20:08:59] [INFO] [Bullet] Using shooter_position, distance=477,43585
[20:08:59] [INFO] [Bullet] Distance to wall: 477,43585 (32,509483% of viewport)
[20:08:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1055.595, 849.7133), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:08:59] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=3
[20:08:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(980.9244, 775.04285), shooter_id=11835218593819, bullet_pos=(1755.6263, 618.3427)
[20:08:59] [INFO] [Bullet] Using shooter_position, distance=790,39105
[20:08:59] [INFO] [Bullet] Distance to wall: 790,39105 (53,81918% of viewport)
[20:08:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1080.486, 874.6034), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:08:59] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=3
[20:08:59] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[20:08:59] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:08:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1030.7048, 824.8231), shooter_id=11835218593819, bullet_pos=(1690.9459, 618.7036)
[20:08:59] [INFO] [Bullet] Using shooter_position, distance=691,66724
[20:08:59] [INFO] [Bullet] Distance to wall: 691,66724 (47,096897% of viewport)
[20:08:59] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[20:08:59] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[20:08:59] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:08:59] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[20:08:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1055.5955, 849.71326), shooter_id=11835218593819, bullet_pos=(1744.549, 623.94946)
[20:08:59] [INFO] [Bullet] Using shooter_position, distance=725,0008
[20:08:59] [INFO] [Bullet] Distance to wall: 725,0008 (49,36664% of viewport)
[20:08:59] [INFO] [Bullet] Distance-based penetration chance: 89,07226%
[20:08:59] [INFO] [Bullet] Starting wall penetration at (1744.549, 623.94946)
[20:08:59] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[20:08:59] [INFO] [Bullet] Raycast backward hit penetrating body at distance 5,236683
[20:08:59] [INFO] [Bullet] Body exited signal received for penetrating body
[20:08:59] [INFO] [Bullet] Exiting penetration at (1780.9763, 612.0125) after traveling 33,333332 pixels through wall
[20:08:59] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:08:59] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:08:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1080.4861, 874.6034), shooter_id=11835218593819, bullet_pos=(1543.7076, 627.51953)
[20:08:59] [INFO] [Bullet] Using shooter_position, distance=524,9997
[20:08:59] [INFO] [Bullet] Distance to wall: 524,9997 (35,748196% of viewport)
[20:08:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:08:59] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[20:08:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1080.4861, 874.6034), shooter_id=11835218593819, bullet_pos=(1759.4465, 772.6292)
[20:08:59] [INFO] [Bullet] Using shooter_position, distance=686,57556
[20:08:59] [INFO] [Bullet] Distance to wall: 686,57556 (46,750195% of viewport)
[20:08:59] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[20:08:59] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:08:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1030.7048, 824.8231), shooter_id=11835218593819, bullet_pos=(2477.0117, 758.1173)
[20:08:59] [INFO] [Bullet] Using shooter_position, distance=1447,8444
[20:08:59] [INFO] [Bullet] Distance to wall: 1447,8444 (98,58639% of viewport)
[20:08:59] [INFO] [Bullet] Distance-based penetration chance: 31,649225%
[20:08:59] [INFO] [Bullet] Penetration failed (distance roll)
[20:08:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(980.9244, 775.04285), shooter_id=11835218593819, bullet_pos=(2460.025, 851.3996)
[20:08:59] [INFO] [Bullet] Using shooter_position, distance=1481,0702
[20:08:59] [INFO] [Bullet] Distance to wall: 1481,0702 (100,84879% of viewport)
[20:08:59] [INFO] [Bullet] Distance-based penetration chance: 29,830242%
[20:08:59] [INFO] [Bullet] Penetration failed (distance roll)
[20:09:00] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[20:09:00] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[20:09:00] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:09:00] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[20:09:00] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[20:09:00] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:09:00] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[20:09:00] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[20:09:00] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:09:00] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[20:09:00] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[20:09:00] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:09:00] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[20:09:00] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[20:09:00] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:09:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(653.6619, 132.5969), source=ENEMY (Enemy2), range=1469, listeners=7
[20:09:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=4
[20:09:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1483.339, 735.1906), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:09:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=3
[20:09:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1483.3395, 735.19055), shooter_id=11835218593819, bullet_pos=(1379.7007, 703.6454)
[20:09:01] [INFO] [Bullet] Using shooter_position, distance=108,333275
[20:09:01] [INFO] [Bullet] Distance to wall: 108,333275 (7,376612% of viewport)
[20:09:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:01] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:09:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.1095, 154.1988), source=ENEMY (Enemy2), range=1469, listeners=7
[20:09:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=4
[20:09:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1518.435, 729.238), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:09:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=3
[20:09:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1518.4353, 729.238), shooter_id=11835218593819, bullet_pos=(1371.6421, 698.38745)
[20:09:01] [INFO] [Bullet] Using shooter_position, distance=150,00002
[20:09:01] [INFO] [Bullet] Distance to wall: 150,00002 (10,213778% of viewport)
[20:09:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:01] [INFO] [Bullet] Starting wall penetration at (1371.6421, 698.38745)
[20:09:01] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,595434
[20:09:01] [INFO] [Bullet] Body exited signal received for penetrating body
[20:09:01] [INFO] [Bullet] Exiting penetration at (1325.9731, 688.7894) after traveling 41,66667 pixels through wall
[20:09:01] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:09:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1518.4353, 729.238), shooter_id=11835218593819, bullet_pos=(1325.9731, 688.7894)
[20:09:01] [INFO] [Bullet] Using shooter_position, distance=196,66664
[20:09:01] [INFO] [Bullet] Distance to wall: 196,66664 (13,391394% of viewport)
[20:09:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1542.081, 711.8831), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:09:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=3
[20:09:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1553.552, 683.6407), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:09:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=3
[20:09:01] [ENEMY] [Enemy4] Hit taken, health: 1/3
[20:09:01] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:09:01] [INFO] [ImpactEffects] spawn_blood_effect called at (1143.333, 663.9335), dir=(1, 0), lethal=false
[20:09:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:09:01] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:09:01] [INFO] [ImpactEffects] Blood effect spawned at (1143.333, 663.9335) (scale=1)
[20:09:01] [ENEMY] [Enemy5] Hit taken, health: 2/3
[20:09:01] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[20:09:01] [INFO] [ImpactEffects] spawn_blood_effect called at (1139.272, 663.9337), dir=(1, 0), lethal=false
[20:09:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:09:01] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:09:01] [INFO] [ImpactEffects] Blood effect spawned at (1139.272, 663.9337) (scale=1)
[20:09:01] [ENEMY] [Enemy10] Hit taken, health: 2/3
[20:09:01] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[20:09:01] [INFO] [ImpactEffects] spawn_blood_effect called at (1142.151, 663.9347), dir=(1, 0), lethal=false
[20:09:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:09:01] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:09:01] [INFO] [ImpactEffects] Blood effect spawned at (1142.151, 663.9347) (scale=1)
[20:09:01] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[20:09:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(703.8475, 178.5535), shooter_id=11832114808737, bullet_pos=(1540.896, 784.4642)
[20:09:01] [INFO] [Bullet] Using shooter_position, distance=1033.33349609375
[20:09:01] [INFO] [Bullet] Distance to wall: 1033.33349609375 (70.3615778817733% of viewport)
[20:09:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1552.571, 654.582), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:09:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=3
[20:09:01] [ENEMY] [Enemy10] Hit taken, health: 1/3
[20:09:01] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[20:09:01] [INFO] [ImpactEffects] spawn_blood_effect called at (1138.559, 647.6434), dir=(1, 0), lethal=false
[20:09:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:09:01] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:09:01] [INFO] [ImpactEffects] Blood effect spawned at (1138.559, 647.6434) (scale=1)
[20:09:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(735.3945, 198.9252), shooter_id=11832114808737, bullet_pos=(1593.754, 789.0851)
[20:09:01] [INFO] [Bullet] Using shooter_position, distance=1041.66662597656
[20:09:01] [INFO] [Bullet] Distance to wall: 1041.66662597656 (70.9289960187687% of viewport)
[20:09:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1540.247, 646.0674), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:09:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=3
[20:09:01] [ENEMY] [Enemy10] Hit taken, health: 0/3
[20:09:01] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[20:09:01] [INFO] [ImpactEffects] spawn_blood_effect called at (1161.383, 628.3794), dir=(1, 0), lethal=true
[20:09:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:09:01] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:09:01] [INFO] [ImpactEffects] Blood effect spawned at (1161.383, 628.3794) (scale=1.5)
[20:09:01] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[20:09:01] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:09:01] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 6)
[20:09:01] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:09:01] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[20:09:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1513.465, 649.2675), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:09:01] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=3
[20:09:01] [ENEMY] [Enemy4] Hit taken, health: 0/3
[20:09:01] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:09:01] [INFO] [ImpactEffects] spawn_blood_effect called at (1143.734, 635.3998), dir=(1, 0), lethal=true
[20:09:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:09:01] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:09:01] [INFO] [ImpactEffects] Blood effect spawned at (1143.734, 635.3998) (scale=1.5)
[20:09:01] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[20:09:01] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[20:09:01] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 5)
[20:09:01] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:09:01] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[20:09:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1490.217, 664.6764), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:09:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[20:09:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1513.4647, 649.26746), shooter_id=11835218593819, bullet_pos=(922.6727, 617.1064)
[20:09:02] [INFO] [Bullet] Using shooter_position, distance=591,66675
[20:09:02] [INFO] [Bullet] Distance to wall: 591,66675 (40,287678% of viewport)
[20:09:02] [INFO] [Bullet] Distance-based penetration chance: 99,664375%
[20:09:02] [INFO] [Bullet] Starting wall penetration at (922.6727, 617.1064)
[20:09:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,644814
[20:09:02] [INFO] [Bullet] Body exited signal received for penetrating body
[20:09:02] [INFO] [Bullet] Exiting penetration at (884.39606, 615.0227) after traveling 33,333336 pixels through wall
[20:09:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:09:02] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[20:09:02] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:09:02] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:09:02] [ENEMY] [Enemy10] Ragdoll activated
[20:09:02] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:09:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(816.9358, 243.196), source=ENEMY (Enemy2), range=1469, listeners=5
[20:09:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=1
[20:09:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1490.217, 664.6764), shooter_id=11835218593819, bullet_pos=(519.08215, 463.93262)
[20:09:02] [INFO] [Bullet] Using shooter_position, distance=991,6658
[20:09:02] [INFO] [Bullet] Distance to wall: 991,6658 (67,52435% of viewport)
[20:09:02] [ENEMY] [Enemy4] Ragdoll activated
[20:09:02] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:09:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(843.7687, 264.293), source=ENEMY (Enemy2), range=1469, listeners=5
[20:09:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=1
[20:09:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(870.5895, 285.4055), source=ENEMY (Enemy2), range=1469, listeners=5
[20:09:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=1
[20:09:02] [INFO] [LastChance] Threat detected: Bullet
[20:09:02] [INFO] [LastChance] Effect already used this life
[20:09:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:09:02] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[20:09:02] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[20:09:02] [INFO] [PenultimateHit] Player died - ending penultimate effect
[20:09:02] [INFO] [LastChance] Player died
[20:09:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(897.4103, 306.5181), source=ENEMY (Enemy2), range=1469, listeners=5
[20:09:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=1
[20:09:02] [INFO] [LastChance] Threat detected: @Area2D@9648
[20:09:02] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:09:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:09:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(924.2311, 327.6306), source=ENEMY (Enemy2), range=1469, listeners=5
[20:09:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=1
[20:09:02] [INFO] [LastChance] Threat detected: @Area2D@9650
[20:09:02] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:09:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:09:02] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:09:02] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[20:09:02] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[20:09:02] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[20:09:02] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[20:09:02] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[20:09:02] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[20:09:02] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[20:09:02] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1473.486, 759.9894), source=PLAYER (Player), range=900, listeners=5
[20:09:02] [ENEMY] [Enemy5] Heard player RELOAD at (1473.486, 759.9894), intensity=0.01, distance=415
[20:09:02] [ENEMY] [Enemy5] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[20:09:02] [ENEMY] [Enemy7] Heard player RELOAD at (1473.486, 759.9894), intensity=0.36, distance=83
[20:09:02] [ENEMY] [Enemy7] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[20:09:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=2
[20:09:02] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=682), can_see=true
[20:09:02] [ENEMY] [Enemy2] Player vulnerable (reloading) - pursuing to attack (dist=682)
[20:09:02] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[20:09:02] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=415), can_see=false
[20:09:02] [ENEMY] [Enemy5] Pursuing vulnerability sound at (1473.486, 759.9894), distance=415
[20:09:02] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=true (dist=83), can_see=false
[20:09:02] [ENEMY] [Enemy7] Pursuing vulnerability sound at (1473.486, 759.9894), distance=83
[20:09:02] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=811), can_see=false
[20:09:02] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1008), can_see=false
[20:09:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(945.7032, 354.4596), shooter_id=11832114808737, bullet_pos=(1364.776, 684.3424)
[20:09:02] [INFO] [Bullet] Using shooter_position, distance=533.333129882813
[20:09:02] [INFO] [Bullet] Distance to wall: 533.333129882813 (36.3156335268695% of viewport)
[20:09:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(945.7032, 354.4596), shooter_id=11832114808737, bullet_pos=(1368.717, 681.2662)
[20:09:02] [INFO] [Bullet] Using shooter_position, distance=534.549621582031
[20:09:02] [INFO] [Bullet] Distance to wall: 534.549621582031 (36.3984666836003% of viewport)
[20:09:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:02] [INFO] [LastChance] Threat detected: @Area2D@9652
[20:09:02] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:09:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:09:03] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:09:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(937.6415, 338.1869), source=ENEMY (Enemy2), range=1469, listeners=5
[20:09:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=1
[20:09:03] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:09:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(972.524, 375.5721), shooter_id=11832114808737, bullet_pos=(1365.404, 684.8373)
[20:09:03] [INFO] [Bullet] Using shooter_position, distance=499.999816894531
[20:09:03] [INFO] [Bullet] Distance to wall: 499.999816894531 (34.0459069509396% of viewport)
[20:09:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(972.524, 375.5721), shooter_id=11832114808737, bullet_pos=(1369.675, 682.2379)
[20:09:03] [INFO] [Bullet] Using shooter_position, distance=501.769927978516
[20:09:03] [INFO] [Bullet] Distance to wall: 501.769927978516 (34.1664370695954% of viewport)
[20:09:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:03] [INFO] [Bullet] Starting wall penetration at (1369.675, 682.2379)
[20:09:03] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:09:03] [INFO] [Bullet] Exiting penetration at (1398.15, 664.9082) after traveling 28.3333320617676 pixels through wall
[20:09:03] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[20:09:03] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:09:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(937.6415, 338.1869), source=ENEMY (Enemy2), range=1469, listeners=5
[20:09:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=1
[20:09:03] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:09:03] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[20:09:03] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[20:09:03] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[20:09:03] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[20:09:03] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[20:09:03] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[20:09:03] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[20:09:03] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:09:03] [INFO] [LastChance] Threat detected: @Area2D@9657
[20:09:03] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:09:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:09:03] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[20:09:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(985.9344, 386.1284), shooter_id=11832114808737, bullet_pos=(1378.815, 695.3936)
[20:09:03] [INFO] [Bullet] Using shooter_position, distance=499.999816894531
[20:09:03] [INFO] [Bullet] Distance to wall: 499.999816894531 (34.0459069509396% of viewport)
[20:09:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:03] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[20:09:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(937.6415, 338.1869), source=ENEMY (Enemy2), range=1469, listeners=5
[20:09:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=1
[20:09:03] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:09:03] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:09:03] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:09:03] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:09:03] [ENEMY] [Enemy1] Death animation component initialized
[20:09:03] [ENEMY] [Enemy2] Death animation component initialized
[20:09:03] [ENEMY] [Enemy3] Death animation component initialized
[20:09:03] [ENEMY] [Enemy4] Death animation component initialized
[20:09:03] [ENEMY] [Enemy5] Death animation component initialized
[20:09:03] [ENEMY] [Enemy6] Death animation component initialized
[20:09:03] [ENEMY] [Enemy7] Death animation component initialized
[20:09:03] [ENEMY] [Enemy8] Death animation component initialized
[20:09:03] [ENEMY] [Enemy9] Death animation component initialized
[20:09:03] [ENEMY] [Enemy10] Death animation component initialized
[20:09:03] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:09:03] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:09:03] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:09:03] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:09:03] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:09:03] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:09:03] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:09:03] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[20:09:03] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:09:03] [INFO] [ScoreManager] Level started with 10 enemies
[20:09:03] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[20:09:03] [ENEMY] [Enemy1] Registered as sound listener
[20:09:03] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[20:09:03] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[20:09:03] [ENEMY] [Enemy2] Registered as sound listener
[20:09:03] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[20:09:03] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[20:09:03] [ENEMY] [Enemy3] Registered as sound listener
[20:09:03] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[20:09:03] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[20:09:03] [ENEMY] [Enemy4] Registered as sound listener
[20:09:03] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[20:09:03] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 10)
[20:09:03] [ENEMY] [Enemy5] Registered as sound listener
[20:09:03] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[20:09:03] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 11)
[20:09:03] [ENEMY] [Enemy6] Registered as sound listener
[20:09:03] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[20:09:03] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 12)
[20:09:03] [ENEMY] [Enemy7] Registered as sound listener
[20:09:03] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[20:09:03] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 13)
[20:09:03] [ENEMY] [Enemy8] Registered as sound listener
[20:09:03] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[20:09:03] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 14)
[20:09:03] [ENEMY] [Enemy9] Registered as sound listener
[20:09:03] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[20:09:03] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 15)
[20:09:03] [ENEMY] [Enemy10] Registered as sound listener
[20:09:03] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[20:09:03] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:09:03] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:09:03] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:09:03] [INFO] [LastChance] Found player: Player
[20:09:03] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:09:03] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:09:03] [INFO] [LastChance] Connected to player Died signal (C#)
[20:09:03] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:09:03] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:09:03] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:09:05] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:09:05] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:09:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1156.34, 1581.842), source=ENEMY (Enemy10), range=1469, listeners=15
[20:09:05] [INFO] [SoundPropagation] Cleaned up 5 invalid listeners
[20:09:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[20:09:05] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:09:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1133.307, 1555.477), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:06] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:09:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1098.664, 1545.73), shooter_id=12912517189549, bullet_pos=(57.11668, 713.2891)
[20:09:06] [INFO] [Bullet] Using shooter_position, distance=1333.33361816406
[20:09:06] [INFO] [Bullet] Distance to wall: 1333.33361816406 (90.789137845122% of viewport)
[20:09:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1076.798, 1517.564), shooter_id=12912517189549, bullet_pos=(125.4538, 706.7352)
[20:09:06] [INFO] [Bullet] Using shooter_position, distance=1249.99963378906
[20:09:06] [INFO] [Bullet] Distance to wall: 1249.99963378906 (85.1147736113431% of viewport)
[20:09:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1076.798, 1517.564), shooter_id=12912517189549, bullet_pos=(63.89206, 751.0167)
[20:09:06] [INFO] [Bullet] Using shooter_position, distance=1270.26489257813
[20:09:06] [INFO] [Bullet] Distance to wall: 1270.26489257813 (86.4946723468154% of viewport)
[20:09:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1098.664, 1545.73), shooter_id=12912517189549, bullet_pos=(273.9492, 472.8774)
[20:09:06] [INFO] [Bullet] Using shooter_position, distance=1353.20642089844
[20:09:06] [INFO] [Bullet] Distance to wall: 1353.20642089844 (92.1423135261675% of viewport)
[20:09:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1098.664, 1545.73), shooter_id=12912517189549, bullet_pos=(425.7796, 703.2878)
[20:09:06] [INFO] [Bullet] Using shooter_position, distance=1078.18481445313
[20:09:06] [INFO] [Bullet] Distance to wall: 1078.18481445313 (73.4155866231652% of viewport)
[20:09:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1098.664, 1545.73), shooter_id=12912517189549, bullet_pos=(500.8706, 563.6686)
[20:09:06] [INFO] [Bullet] Using shooter_position, distance=1149.69641113281
[20:09:06] [INFO] [Bullet] Distance to wall: 1149.69641113281 (78.2849427393162% of viewport)
[20:09:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(483.9351, 928.8069), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:09:06] [ENEMY] [Enemy2] Heard gunshot at (483.9351, 928.8069), source_type=0, intensity=0.02, distance=388
[20:09:06] [ENEMY] [Enemy3] Heard gunshot at (483.9351, 928.8069), source_type=0, intensity=0.03, distance=280
[20:09:06] [ENEMY] [Enemy4] Heard gunshot at (483.9351, 928.8069), source_type=0, intensity=0.02, distance=317
[20:09:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[20:09:06] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[20:09:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(483.93506, 928.8069), shooter_id=12913339273182, bullet_pos=(527.6013, 928.9983)
[20:09:06] [INFO] [Bullet] Using shooter_position, distance=43,66668
[20:09:06] [INFO] [Bullet] Distance to wall: 43,66668 (2,9733446% of viewport)
[20:09:06] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:09:06] [INFO] [Bullet] Starting wall penetration at (527.6013, 928.9983)
[20:09:06] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[20:09:06] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:09:06] [INFO] [Bullet] Exiting penetration at (574.2675, 929.2028) after traveling 41,66667 pixels through wall
[20:09:06] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:09:06] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:09:06] [ENEMY] [Enemy1] Hit taken, health: 3/4
[20:09:06] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[20:09:06] [INFO] [ImpactEffects] spawn_blood_effect called at (300, 350), dir=(-0.613593, -0.789623), lethal=false
[20:09:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:09:06] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:09:06] [INFO] [ImpactEffects] Wall found for blood splatter at (240.9426, 274) (dist=96 px)
[20:09:06] [INFO] [ImpactEffects] Blood effect spawned at (300, 350) (scale=1)
[20:09:06] [ENEMY] [Enemy1] Memory: medium confidence (0.61) - transitioning to PURSUING
[20:09:06] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[20:09:06] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[20:09:07] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[20:09:07] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[20:09:07] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:09:07] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[20:09:07] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[20:09:07] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[20:09:07] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:09:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1042.784, 1472.773), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:07] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:09:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1013.134, 1450.094), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:07] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:09:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(982.428, 1428.867), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:07] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:09:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(950.7075, 1409.189), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:07] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:09:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(935.7737, 1396.238), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(985.0352, 1436.777), shooter_id=12912517189549, bullet_pos=(39.61771, 684.2781)
[20:09:07] [INFO] [Bullet] Using shooter_position, distance=1208.33312988281
[20:09:07] [INFO] [Bullet] Distance to wall: 1208.33312988281 (82.2776247424219% of viewport)
[20:09:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(953.7419, 1416.88), shooter_id=12912517189549, bullet_pos=(41.26211, 758.8477)
[20:09:07] [INFO] [Bullet] Using shooter_position, distance=1125.00024414063
[20:09:07] [INFO] [Bullet] Distance to wall: 1125.00024414063 (76.6033353165714% of viewport)
[20:09:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(935.4546, 1394.607), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(953.7419, 1416.88), shooter_id=12912517189549, bullet_pos=(96.04546, 706.4123)
[20:09:07] [INFO] [Bullet] Using shooter_position, distance=1113.73571777344
[20:09:07] [INFO] [Bullet] Distance to wall: 1113.73571777344 (75.8363130025921% of viewport)
[20:09:07] [INFO] [Bullet] Distance-based penetration chance: 58.1909681636425%
[20:09:07] [INFO] [Bullet] Penetration failed (distance roll)
[20:09:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(921.4798, 1398.603), shooter_id=12912517189549, bullet_pos=(47.7528, 831.4431)
[20:09:07] [INFO] [Bullet] Using shooter_position, distance=1041.66662597656
[20:09:07] [INFO] [Bullet] Distance to wall: 1041.66662597656 (70.9289960187687% of viewport)
[20:09:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(932.7162, 1387.751), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(888.3117, 1382.035), shooter_id=12912517189549, bullet_pos=(59.21112, 901.4156)
[20:09:08] [INFO] [Bullet] Using shooter_position, distance=958.333190917969
[20:09:08] [INFO] [Bullet] Distance to wall: 958.333190917969 (65.2546691889541% of viewport)
[20:09:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(985.0352, 1436.777), shooter_id=12912517189549, bullet_pos=(519.7192, 373.9468)
[20:09:08] [INFO] [Bullet] Using shooter_position, distance=1160.22717285156
[20:09:08] [INFO] [Bullet] Distance to wall: 1160.22717285156 (79.0020016691092% of viewport)
[20:09:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(921.4798, 1398.603), shooter_id=12912517189549, bullet_pos=(270.5267, 711.699)
[20:09:08] [INFO] [Bullet] Using shooter_position, distance=946.349426269531
[20:09:08] [INFO] [Bullet] Distance to wall: 946.349426269531 (64.4386726178418% of viewport)
[20:09:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(918.8367, 1376.596), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(871.9423, 1372.655), shooter_id=12912517189549, bullet_pos=(54.16605, 958.5062)
[20:09:08] [INFO] [Bullet] Using shooter_position, distance=916.666442871094
[20:09:08] [INFO] [Bullet] Distance to wall: 916.666442871094 (62.4175036960487% of viewport)
[20:09:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(921.4798, 1398.603), shooter_id=12912517189549, bullet_pos=(522.4286, 824.3354)
[20:09:08] [INFO] [Bullet] Using shooter_position, distance=699.303405761719
[20:09:08] [INFO] [Bullet] Distance to wall: 699.303405761719 (47.6168548038904% of viewport)
[20:09:08] [INFO] [Bullet] Distance-based penetration chance: 91.1136693954612%
[20:09:08] [INFO] [Bullet] Penetration failed (distance roll)
[20:09:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(882.0737, 1376.535), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[20:09:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(870.5441, 1374.366), shooter_id=12912517189549, bullet_pos=(32.51954, 1002.893)
[20:09:08] [INFO] [Bullet] Using shooter_position, distance=916.666442871094
[20:09:08] [INFO] [Bullet] Distance to wall: 916.666442871094 (62.4175036960487% of viewport)
[20:09:08] [INFO] [Bullet] Distance-based penetration chance: 73.8462456879432%
[20:09:08] [INFO] [Bullet] Starting wall penetration at (32.51954, 1002.893)
[20:09:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 46.0983695983887
[20:09:08] [INFO] [Bullet] Body exited signal received for penetrating body
[20:09:08] [INFO] [Bullet] Exiting penetration at (-10.14352, 983.9815) after traveling 41.6666679382324 pixels through wall
[20:09:08] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:09:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(985.0352, 1436.777), shooter_id=12912517189549, bullet_pos=(156.4006, 50.15046)
[20:09:08] [INFO] [Bullet] Using shooter_position, distance=1615.35400390625
[20:09:08] [INFO] [Bullet] Distance to wall: 1615.35400390625 (109.992424500069% of viewport)
[20:09:08] [INFO] [Bullet] Distance-based penetration chance: 28.0015150999862%
[20:09:08] [INFO] [Bullet] Penetration failed (distance roll)
[20:09:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(849.9855, 1375.038), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[20:09:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(866.7854, 1371.116), shooter_id=12912517189549, bullet_pos=(48.52752, 1061.151)
[20:09:08] [INFO] [Bullet] Using shooter_position, distance=874.999694824219
[20:09:08] [INFO] [Bullet] Distance to wall: 874.999694824219 (59.5803382031434% of viewport)
[20:09:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(852.1002, 1363.58), shooter_id=12912517189549, bullet_pos=(57.87904, 1111.275)
[20:09:08] [INFO] [Bullet] Using shooter_position, distance=833.333679199219
[20:09:08] [INFO] [Bullet] Distance to wall: 833.333679199219 (56.7432225821903% of viewport)
[20:09:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(814.7177, 1364.746), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[20:09:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(814.9335, 1365.636), shooter_id=12912517189549, bullet_pos=(53.19671, 1150.012)
[20:09:08] [INFO] [Bullet] Using shooter_position, distance=791.667053222656
[20:09:08] [INFO] [Bullet] Distance to wall: 791.667053222656 (53.906065401277% of viewport)
[20:09:08] [INFO] [Bullet] Distance-based penetration chance: 83.7762570318435%
[20:09:08] [INFO] [Bullet] Penetration failed (distance roll)
[20:09:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(777.9274, 1358.42), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[20:09:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(782.5439, 1366.625), shooter_id=12912517189549, bullet_pos=(53.88344, 1188.989)
[20:09:08] [INFO] [Bullet] Using shooter_position, distance=750.000305175781
[20:09:08] [INFO] [Bullet] Distance to wall: 750.000305175781 (51.0688999083717% of viewport)
[20:09:08] [INFO] [Bullet] Distance-based penetration chance: 87.0862834402331%
[20:09:08] [INFO] [Bullet] Starting wall penetration at (53.88344, 1188.989)
[20:09:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24.1423397064209
[20:09:08] [INFO] [Bullet] Body exited signal received for penetrating body
[20:09:08] [INFO] [Bullet] Exiting penetration at (8.544579, 1177.937) after traveling 41.6666679382324 pixels through wall
[20:09:08] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:09:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(740.8859, 1353.789), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[20:09:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(746.9101, 1359.662), shooter_id=12912517189549, bullet_pos=(51.29564, 1226.034)
[20:09:08] [INFO] [Bullet] Using shooter_position, distance=708.333190917969
[20:09:08] [INFO] [Bullet] Distance to wall: 708.333190917969 (48.2317094794902% of viewport)
[20:09:08] [INFO] [Bullet] Distance-based penetration chance: 90.3963389405948%
[20:09:08] [INFO] [Bullet] Penetration failed (distance roll)
[20:09:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(703.6548, 1351.098), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[20:09:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(709.9583, 1356.422), shooter_id=12912517189549, bullet_pos=(50.2249, 1260.526)
[20:09:08] [INFO] [Bullet] Using shooter_position, distance=666.666564941406
[20:09:08] [INFO] [Bullet] Distance to wall: 666.666564941406 (45.3945522985769% of viewport)
[20:09:08] [INFO] [Bullet] Distance-based penetration chance: 93.7063556516603%
[20:09:08] [INFO] [Bullet] Starting wall penetration at (50.2249, 1260.526)
[20:09:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28.2502346038818
[20:09:08] [INFO] [Bullet] Body exited signal received for penetrating body
[20:09:08] [INFO] [Bullet] Exiting penetration at (4.043552, 1253.813) after traveling 41.6666717529297 pixels through wall
[20:09:08] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:09:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(667.6478, 1356.938), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[20:09:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(672.9037, 1355.034), shooter_id=12912517189549, bullet_pos=(50.82124, 1294.713)
[20:09:08] [INFO] [Bullet] Using shooter_position, distance=625.000183105469
[20:09:08] [INFO] [Bullet] Distance to wall: 625.000183105469 (42.5574117416477% of viewport)
[20:09:08] [INFO] [Bullet] Distance-based penetration chance: 97.0163529680777%
[20:09:08] [INFO] [Bullet] Starting wall penetration at (50.82124, 1294.713)
[20:09:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27.7571449279785
[20:09:08] [INFO] [Bullet] Body exited signal received for penetrating body
[20:09:08] [INFO] [Bullet] Exiting penetration at (4.372425, 1290.209) after traveling 41.6666641235352 pixels through wall
[20:09:08] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:09:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(635.8771, 1356.341), shooter_id=12912517189549, bullet_pos=(52.9601, 1334.303)
[20:09:09] [INFO] [Bullet] Using shooter_position, distance=583.333435058594
[20:09:09] [INFO] [Bullet] Distance to wall: 583.333435058594 (39.7202462487424% of viewport)
[20:09:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:09] [INFO] [Bullet] Starting wall penetration at (52.9601, 1334.303)
[20:09:09] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:09:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25.691593170166
[20:09:09] [INFO] [Bullet] Body exited signal received for penetrating body
[20:09:09] [INFO] [Bullet] Exiting penetration at (6.326744, 1332.54) after traveling 41.6666717529297 pixels through wall
[20:09:09] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:09:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(600.2216, 1365.781), shooter_id=12912517189549, bullet_pos=(58.61974, 1374.154)
[20:09:09] [INFO] [Bullet] Using shooter_position, distance=541.666564941406
[20:09:09] [INFO] [Bullet] Distance to wall: 541.666564941406 (36.883072443845% of viewport)
[20:09:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:09] [INFO] [Bullet] Starting wall penetration at (58.61974, 1374.154)
[20:09:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20.0437488555908
[20:09:09] [INFO] [Bullet] Body exited signal received for penetrating body
[20:09:09] [INFO] [Bullet] Exiting penetration at (11.95864, 1374.875) after traveling 41.6666679382324 pixels through wall
[20:09:09] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:09:09] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[20:09:09] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[20:09:10] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[20:09:10] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[20:09:10] [ENEMY] [Enemy10] FLANKING started: target=(136.1785, 1615.674), side=left, pos=(624.424, 1363.934)
[20:09:10] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[20:09:10] [ENEMY] [Enemy4] FLANKING started: target=(102.0845, 1650.117), side=left, pos=(556.8193, 958.1475)
[20:09:10] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[20:09:12] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[20:09:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(208.1797, 1855.889), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:09:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[20:09:12] [ENEMY] [Enemy10] Hit taken, health: 3/4
[20:09:12] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[20:09:12] [INFO] [ImpactEffects] spawn_blood_effect called at (347.5974, 1648.209), dir=(1, 0), lethal=false
[20:09:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:09:12] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:09:12] [INFO] [ImpactEffects] Blood effect spawned at (347.5974, 1648.209) (scale=1)
[20:09:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(227.2948, 1883.003), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:09:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[20:09:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(347.5974, 1648.209), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=4
[20:09:12] [INFO] [LastChance] Threat detected: @Area2D@9979
[20:09:12] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:09:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:09:12] [ENEMY] [Enemy10] Hit taken, health: 2/4
[20:09:12] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[20:09:12] [INFO] [ImpactEffects] spawn_blood_effect called at (347.5974, 1648.209), dir=(1, 0), lethal=false
[20:09:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:09:12] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:09:12] [INFO] [ImpactEffects] Blood effect spawned at (347.5974, 1648.209) (scale=1)
[20:09:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(254.4709, 1902.375), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:09:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[20:09:13] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[20:09:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.1296, 1648.074), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=4
[20:09:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(286.8718, 1909.133), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:09:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=3
[20:09:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(254.47086, 1902.375), shooter_id=12913339273182, bullet_pos=(340.77985, 1589.0444)
[20:09:13] [INFO] [Bullet] Using shooter_position, distance=325,00046
[20:09:13] [INFO] [Bullet] Distance to wall: 325,00046 (22,129879% of viewport)
[20:09:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:13] [INFO] [Bullet] Starting wall penetration at (340.77985, 1589.0444)
[20:09:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,25003
[20:09:13] [INFO] [Bullet] Body exited signal received for penetrating body
[20:09:13] [INFO] [Bullet] Exiting penetration at (350.95987, 1552.0875) after traveling 33,333332 pixels through wall
[20:09:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:09:13] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[20:09:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(344.8724, 1715.185), shooter_id=12912517189549, bullet_pos=(339.1145, 1815.02)
[20:09:13] [INFO] [Bullet] Using shooter_position, distance=100.000137329102
[20:09:13] [INFO] [Bullet] Distance to wall: 100.000137329102 (6.80919323477659% of viewport)
[20:09:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:13] [INFO] [Bullet] Starting wall penetration at (339.1145, 1815.02)
[20:09:13] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:09:13] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:09:13] [INFO] [Bullet] Exiting penetration at (336.9073, 1853.289) after traveling 33.3333320617676 pixels through wall
[20:09:13] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:09:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(304.6455, 1911.147), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:09:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[20:09:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(304.64548, 1911.1475), shooter_id=12913339273182, bullet_pos=(307.9695, 1886.3694)
[20:09:13] [INFO] [Bullet] Using shooter_position, distance=25,000046
[20:09:13] [INFO] [Bullet] Distance to wall: 25,000046 (1,7022991% of viewport)
[20:09:13] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:09:13] [INFO] [Bullet] Starting wall penetration at (307.9695, 1886.3694)
[20:09:13] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:09:13] [INFO] [Bullet] Exiting penetration at (313.06635, 1848.3765) after traveling 33,333332 pixels through wall
[20:09:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:09:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(286.8718, 1909.1326), shooter_id=12913339273182, bullet_pos=(341.16837, 1588.7001)
[20:09:13] [INFO] [Bullet] Using shooter_position, distance=325,00015
[20:09:13] [INFO] [Bullet] Distance to wall: 325,00015 (22,12986% of viewport)
[20:09:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:13] [INFO] [Bullet] Starting wall penetration at (341.16837, 1588.7001)
[20:09:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,623253
[20:09:13] [INFO] [Bullet] Body exited signal received for penetrating body
[20:09:13] [INFO] [Bullet] Exiting penetration at (347.57257, 1550.9055) after traveling 33,333332 pixels through wall
[20:09:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:09:14] [ENEMY] [Enemy2] FLANKING started: target=(143.9242, 1838.01), side=left, pos=(345.6522, 647.9299)
[20:09:14] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[20:09:14] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:09:14] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[20:09:14] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:09:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(536.0679, 1591.071), source=ENEMY (Enemy4), range=1469, listeners=10
[20:09:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[20:09:14] [INFO] [LastChance] Threat detected: Bullet
[20:09:14] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:09:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:09:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(398.6573, 1916.495), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:09:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[20:09:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(398.65726, 1916.4955), shooter_id=12913339273182, bullet_pos=(388.64844, 1859.0272)
[20:09:14] [INFO] [Bullet] Using shooter_position, distance=58,333332
[20:09:14] [INFO] [Bullet] Distance to wall: 58,333332 (3,9720242% of viewport)
[20:09:14] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:09:14] [INFO] [Bullet] Starting wall penetration at (388.64844, 1859.0272)
[20:09:14] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:09:14] [INFO] [Bullet] Exiting penetration at (382.0712, 1821.2623) after traveling 33,333332 pixels through wall
[20:09:14] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:09:14] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:09:14] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:09:14] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:09:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(364.6618, 1647.94), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=4
[20:09:15] [INFO] [LastChance] Threat detected: Bullet
[20:09:15] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:09:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:09:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(423.5474, 1891.605), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:09:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[20:09:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(364.6618, 1647.94), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=4
[20:09:15] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:09:15] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[20:09:15] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:09:15] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[20:09:15] [INFO] [LastChance] Threat detected: @Area2D@10004
[20:09:15] [INFO] [LastChance] Triggering last chance effect!
[20:09:15] [INFO] [LastChance] Starting last chance effect:
[20:09:15] [INFO] [LastChance]   - Time will be frozen (except player)
[20:09:15] [INFO] [LastChance]   - Duration: 6.0 real seconds
[20:09:15] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:09:15] [INFO] [LastChance]   - Brightness: 0.60
[20:09:15] [INFO] [LastChance] Pushed bullet @Area2D@10002 from distance 113.5 to 200.0
[20:09:15] [INFO] [LastChance] Pushed bullet @Area2D@10004 from distance 137.4 to 200.0
[20:09:15] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[20:09:15] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:09:15] [INFO] [LastChance] Skipping player node: Player
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: Casing
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9918
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9925
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9929
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9931
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9934
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9936
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9938
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9942
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9946
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9951
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9955
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9958
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9962
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9965
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9967
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9970
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9973
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9977
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9978
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9980
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9983
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9985
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9987
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9998
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@10000
[20:09:15] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@10003
[20:09:15] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:09:15] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:09:15] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:09:15] [INFO] [LastChance] Freezing newly fired player bullet: Bullet
[20:09:15] [INFO] [LastChance] Registered frozen player bullet: Bullet
[20:09:15] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@10005
[20:09:15] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@10005
[20:09:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(448.4375, 1866.714), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:09:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[20:09:15] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10006
[20:09:15] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10006
[20:09:15] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@10007
[20:09:15] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@10007
[20:09:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(473.3596, 1842.338), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:09:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[20:09:15] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10008
[20:09:15] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10008
[20:09:15] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@10009
[20:09:15] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@10009
[20:09:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(483.932, 1824.877), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:09:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[20:09:17] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10010
[20:09:17] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10010
[20:09:17] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@10011
[20:09:17] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@10011
[20:09:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(251.7533, 1660.431), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:09:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[20:09:17] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10012
[20:09:17] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10012
[20:09:17] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@10013
[20:09:17] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@10013
[20:09:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(224.4811, 1635.381), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:09:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[20:09:17] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10014
[20:09:17] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10014
[20:09:17] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@10015
[20:09:17] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@10015
[20:09:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(206.552, 1634.067), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:09:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[20:09:17] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10016
[20:09:17] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10016
[20:09:17] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@10017
[20:09:17] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@10017
[20:09:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(202.0175, 1634.067), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:09:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[20:09:17] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10018
[20:09:17] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10018
[20:09:17] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@10019
[20:09:17] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@10019
[20:09:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(202.0175, 1643.408), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:09:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[20:09:17] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10020
[20:09:17] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10020
[20:09:17] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@10021
[20:09:17] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@10021
[20:09:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(202.0175, 1669.075), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:09:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[20:09:17] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10022
[20:09:17] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10022
[20:09:17] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@10023
[20:09:17] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@10023
[20:09:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(199.0741, 1699.934), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:09:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[20:09:19] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:09:19] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[20:09:19] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[20:09:19] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[20:09:19] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[20:09:19] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[20:09:19] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[20:09:19] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[20:09:19] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[20:09:19] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[20:09:19] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[20:09:19] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(143.2451, 1853.925), source=PLAYER (Player), range=900, listeners=10
[20:09:19] [ENEMY] [Enemy4] Heard player RELOAD at (143.2451, 1853.925), intensity=0.01, distance=448
[20:09:19] [ENEMY] [Enemy10] Heard player RELOAD at (143.2451, 1853.925), intensity=0.03, distance=302
[20:09:19] [ENEMY] [Enemy10] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[20:09:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=8, self=0, below_threshold=0
[20:09:19] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:09:19] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:09:19] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[20:09:19] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[20:09:19] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[20:09:19] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[20:09:19] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[20:09:19] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[20:09:19] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[20:09:19] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[20:09:19] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[20:09:19] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[20:09:19] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:09:19] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:09:21] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[20:09:21] [INFO] [LastChance] Ending last chance effect
[20:09:21] [INFO] [LastChance] All process modes restored
[20:09:21] [INFO] [LastChance] Unfroze player bullet: Bullet
[20:09:21] [INFO] [LastChance] Unfroze player bullet: @Area2D@10006
[20:09:21] [INFO] [LastChance] Unfroze player bullet: @Area2D@10008
[20:09:21] [INFO] [LastChance] Unfroze player bullet: @Area2D@10010
[20:09:21] [INFO] [LastChance] Unfroze player bullet: @Area2D@10012
[20:09:21] [INFO] [LastChance] Unfroze player bullet: @Area2D@10014
[20:09:21] [INFO] [LastChance] Unfroze player bullet: @Area2D@10016
[20:09:21] [INFO] [LastChance] Unfroze player bullet: @Area2D@10018
[20:09:21] [INFO] [LastChance] Unfroze player bullet: @Area2D@10020
[20:09:21] [INFO] [LastChance] Unfroze player bullet: @Area2D@10022
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: Casing
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9918
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9925
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9929
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9931
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9934
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9936
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9938
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9942
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9946
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9951
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9955
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9958
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9962
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9965
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9967
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9970
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9973
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9977
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9978
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9980
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9983
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9985
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9987
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9998
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@10000
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@10003
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@10005
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@10007
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@10009
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@10011
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@10013
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@10015
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@10017
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@10019
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@10021
[20:09:21] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@10023
[20:09:21] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:09:21] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[20:09:21] [ENEMY] [Enemy10] Pursuing vulnerability sound at (143.2451, 1853.925), distance=302
[20:09:21] [ENEMY] [Enemy10] Hit taken, health: 1/4
[20:09:21] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[20:09:21] [INFO] [ImpactEffects] spawn_blood_effect called at (363.9173, 1653.221), dir=(1, 0), lethal=false
[20:09:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:09:21] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:09:21] [INFO] [ImpactEffects] Blood effect spawned at (363.9173, 1653.221) (scale=1)
[20:09:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(202.01752, 1634.0673), shooter_id=12913339273182, bullet_pos=(308.73444, 1615.423)
[20:09:21] [INFO] [Bullet] Using shooter_position, distance=108,33333
[20:09:21] [INFO] [Bullet] Distance to wall: 108,33333 (7,3766155% of viewport)
[20:09:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:21] [INFO] [Bullet] Starting wall penetration at (308.73444, 1615.423)
[20:09:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(224.48111, 1635.3811), shooter_id=12913339273182, bullet_pos=(330.68967, 1614.0304)
[20:09:21] [INFO] [Bullet] Using shooter_position, distance=108,33333
[20:09:21] [INFO] [Bullet] Distance to wall: 108,33333 (7,3766155% of viewport)
[20:09:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:21] [INFO] [Bullet] Starting wall penetration at (330.68967, 1614.0304)
[20:09:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(251.75331, 1660.4312), shooter_id=12913339273182, bullet_pos=(349.44104, 1613.5994)
[20:09:21] [INFO] [Bullet] Using shooter_position, distance=108,33333
[20:09:21] [INFO] [Bullet] Distance to wall: 108,33333 (7,3766155% of viewport)
[20:09:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:21] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:09:21] [INFO] [Bullet] Exiting penetration at (368.27118, 1606.4755) after traveling 33,333336 pixels through wall
[20:09:21] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:09:21] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:09:21] [INFO] [Bullet] Exiting penetration at (346.4958, 1608.8258) after traveling 33,33334 pixels through wall
[20:09:21] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:09:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(206.55199, 1634.0673), shooter_id=12913339273182, bullet_pos=(346.25806, 1610.5798)
[20:09:21] [INFO] [Bullet] Using shooter_position, distance=141,66667
[20:09:21] [INFO] [Bullet] Distance to wall: 141,66667 (9,646344% of viewport)
[20:09:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:21] [ENEMY] [Enemy10] Hit taken, health: 0/4
[20:09:21] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[20:09:21] [INFO] [ImpactEffects] spawn_blood_effect called at (362.4237, 1662.704), dir=(1, 0), lethal=true
[20:09:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:09:21] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:09:21] [INFO] [ImpactEffects] Blood effect spawned at (362.4237, 1662.704) (scale=1.5)
[20:09:21] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[20:09:21] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:09:21] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[20:09:21] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:09:21] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[20:09:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(483.932, 1824.8768), shooter_id=12913339273182, bullet_pos=(375.55057, 1608.8762)
[20:09:21] [INFO] [Bullet] Using shooter_position, distance=241,66672
[20:09:21] [INFO] [Bullet] Distance to wall: 241,66672 (16,455532% of viewport)
[20:09:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:21] [INFO] [Bullet] Starting wall penetration at (375.55057, 1608.8762)
[20:09:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,976566
[20:09:21] [INFO] [Bullet] Body exited signal received for penetrating body
[20:09:21] [INFO] [Bullet] Exiting penetration at (358.35904, 1574.614) after traveling 33,333336 pixels through wall
[20:09:21] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:09:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(473.35965, 1842.3378), shooter_id=12913339273182, bullet_pos=(359.4974, 1592.017)
[20:09:21] [INFO] [Bullet] Using shooter_position, distance=275,0002
[20:09:21] [INFO] [Bullet] Distance to wall: 275,0002 (18,725271% of viewport)
[20:09:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:21] [INFO] [Bullet] Starting wall penetration at (359.4974, 1592.017)
[20:09:21] [ENEMY] [Enemy4] Hit taken, health: 2/3
[20:09:21] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:09:21] [INFO] [ImpactEffects] spawn_blood_effect called at (512.3593, 1636.245), dir=(1, 0), lethal=false
[20:09:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:09:21] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:09:21] [INFO] [ImpactEffects] Blood effect spawned at (512.3593, 1636.245) (scale=1)
[20:09:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(448.43753, 1866.7142), shooter_id=12913339273182, bullet_pos=(354.4397, 1608.2776)
[20:09:21] [INFO] [Bullet] Using shooter_position, distance=275,00018
[20:09:21] [INFO] [Bullet] Distance to wall: 275,00018 (18,72527% of viewport)
[20:09:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:21] [INFO] [Bullet] Starting wall penetration at (354.4397, 1608.2776)
[20:09:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,756195
[20:09:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33,920357
[20:09:21] [INFO] [Bullet] Body exited signal received for penetrating body
[20:09:21] [INFO] [Bullet] Exiting penetration at (341.33698, 1572.253) after traveling 33,333332 pixels through wall
[20:09:21] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:09:21] [ENEMY] [Enemy4] Hit taken, health: 1/3
[20:09:21] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:09:21] [INFO] [ImpactEffects] spawn_blood_effect called at (508.1027, 1636.066), dir=(1, 0), lethal=false
[20:09:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:09:21] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:09:21] [INFO] [ImpactEffects] Blood effect spawned at (508.1027, 1636.066) (scale=1)
[20:09:21] [ENEMY] [Enemy4] Hit taken, health: 0/3
[20:09:21] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:09:21] [INFO] [ImpactEffects] spawn_blood_effect called at (508.1027, 1636.066), dir=(1, 0), lethal=true
[20:09:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:09:21] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:09:21] [INFO] [ImpactEffects] Blood effect spawned at (508.1027, 1636.066) (scale=1.5)
[20:09:21] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[20:09:21] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[20:09:21] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[20:09:21] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:09:21] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[20:09:21] [INFO] [Bullet] Body exited signal received for penetrating body
[20:09:21] [INFO] [Bullet] Exiting penetration at (343.6257, 1557.1238) after traveling 33,333332 pixels through wall
[20:09:21] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:09:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(374.5656, 1715.847), shooter_id=12912517189549, bullet_pos=(517.6689, 2075.856)
[20:09:21] [INFO] [Bullet] Using shooter_position, distance=387.408264160156
[20:09:21] [INFO] [Bullet] Distance to wall: 387.408264160156 (26.3793410876467% of viewport)
[20:09:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:21] [INFO] [Bullet] Starting wall penetration at (517.6689, 2075.856)
[20:09:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16.6983833312988
[20:09:21] [INFO] [Bullet] Body exited signal received for penetrating body
[20:09:21] [INFO] [Bullet] Exiting penetration at (531.6517, 2111.548) after traveling 33.3333358764648 pixels through wall
[20:09:21] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:09:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(202.01752, 1643.4081), shooter_id=12913339273182, bullet_pos=(908.1653, 1587.811)
[20:09:21] [INFO] [Bullet] Using shooter_position, distance=708,333
[20:09:21] [INFO] [Bullet] Distance to wall: 708,333 (48,231697% of viewport)
[20:09:21] [INFO] [Bullet] Distance-based penetration chance: 90,396355%
[20:09:21] [INFO] [Bullet] Penetration failed (distance roll)
[20:09:21] [ENEMY] [Enemy10] Ragdoll activated
[20:09:21] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:09:21] [ENEMY] [Enemy4] Ragdoll activated
[20:09:21] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:09:22] [ENEMY] [Enemy1] FLANKING started: target=(-32.32243, 1670.56), side=left, pos=(108.7829, 645.2729)
[20:09:22] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[20:09:23] [ENEMY] [Enemy4] Death animation completed
[20:09:23] [ENEMY] [Enemy10] Death animation completed
[20:09:24] [ENEMY] [Enemy2] State: FLANKING -> COMBAT
[20:09:24] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[20:09:25] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[20:09:26] [ENEMY] [Enemy1] State: FLANKING -> COMBAT
[20:09:26] [ENEMY] [Enemy2] FLANKING started: target=(705.5249, 1803.787), side=right, pos=(518.9028, 1670.716)
[20:09:26] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[20:09:26] [ENEMY] [Enemy2] State: FLANKING -> COMBAT
[20:09:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(528.4568, 1676.414), source=ENEMY (Enemy2), range=1469, listeners=8
[20:09:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[20:09:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(524.5791, 1744.351), shooter_id=12910235485881, bullet_pos=(524.5791, 1744.351)
[20:09:27] [INFO] [Bullet] Using shooter_position, distance=0
[20:09:27] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[20:09:27] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:09:27] [INFO] [Bullet] Starting wall penetration at (524.5791, 1744.351)
[20:09:27] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:09:27] [INFO] [Bullet] Exiting penetration at (527.2778, 1790.94) after traveling 41.6666717529297 pixels through wall
[20:09:27] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:09:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(528.4568, 1676.414), source=ENEMY (Enemy2), range=1469, listeners=8
[20:09:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[20:09:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(524.5791, 1744.351), shooter_id=12910235485881, bullet_pos=(524.5791, 1744.351)
[20:09:27] [INFO] [Bullet] Using shooter_position, distance=0
[20:09:27] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[20:09:27] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:09:27] [INFO] [Bullet] Starting wall penetration at (524.5791, 1744.351)
[20:09:27] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:09:27] [INFO] [Bullet] Exiting penetration at (527.2778, 1790.94) after traveling 41.6666717529297 pixels through wall
[20:09:27] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:09:27] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:09:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(528.4568, 1676.414), source=ENEMY (Enemy2), range=1469, listeners=8
[20:09:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[20:09:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(524.5791, 1744.351), shooter_id=12910235485881, bullet_pos=(524.5791, 1744.351)
[20:09:27] [INFO] [Bullet] Using shooter_position, distance=0
[20:09:27] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[20:09:27] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:09:27] [INFO] [Bullet] Starting wall penetration at (524.5791, 1744.351)
[20:09:27] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:09:27] [INFO] [Bullet] Exiting penetration at (527.2778, 1790.94) after traveling 41.6666717529297 pixels through wall
[20:09:27] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:09:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(528.4568, 1676.414), source=ENEMY (Enemy2), range=1469, listeners=8
[20:09:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[20:09:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(524.5791, 1744.351), shooter_id=12910235485881, bullet_pos=(524.5791, 1744.351)
[20:09:27] [INFO] [Bullet] Using shooter_position, distance=0
[20:09:27] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[20:09:27] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:09:27] [INFO] [Bullet] Starting wall penetration at (524.5791, 1744.351)
[20:09:27] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:09:27] [INFO] [Bullet] Exiting penetration at (527.2778, 1790.94) after traveling 41.6666717529297 pixels through wall
[20:09:27] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:09:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(528.4568, 1676.414), source=ENEMY (Enemy2), range=1469, listeners=8
[20:09:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[20:09:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(524.5791, 1744.351), shooter_id=12910235485881, bullet_pos=(524.5791, 1744.351)
[20:09:27] [INFO] [Bullet] Using shooter_position, distance=0
[20:09:27] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[20:09:27] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:09:27] [INFO] [Bullet] Starting wall penetration at (524.5791, 1744.351)
[20:09:27] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:09:27] [INFO] [Bullet] Exiting penetration at (527.2778, 1790.94) after traveling 41.6666717529297 pixels through wall
[20:09:27] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:09:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(528.4568, 1676.414), source=ENEMY (Enemy2), range=1469, listeners=8
[20:09:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[20:09:27] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:09:27] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:09:27] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:09:27] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:09:27] [ENEMY] [Enemy1] Death animation component initialized
[20:09:27] [ENEMY] [Enemy2] Death animation component initialized
[20:09:27] [ENEMY] [Enemy3] Death animation component initialized
[20:09:27] [ENEMY] [Enemy4] Death animation component initialized
[20:09:27] [ENEMY] [Enemy5] Death animation component initialized
[20:09:27] [ENEMY] [Enemy6] Death animation component initialized
[20:09:27] [ENEMY] [Enemy7] Death animation component initialized
[20:09:27] [ENEMY] [Enemy8] Death animation component initialized
[20:09:27] [ENEMY] [Enemy9] Death animation component initialized
[20:09:27] [ENEMY] [Enemy10] Death animation component initialized
[20:09:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:09:27] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:09:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:09:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:09:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:09:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:09:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:09:27] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[20:09:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:09:27] [INFO] [ScoreManager] Level started with 10 enemies
[20:09:27] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[20:09:27] [ENEMY] [Enemy1] Registered as sound listener
[20:09:27] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[20:09:27] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[20:09:27] [ENEMY] [Enemy2] Registered as sound listener
[20:09:27] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[20:09:27] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[20:09:27] [ENEMY] [Enemy3] Registered as sound listener
[20:09:27] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[20:09:27] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[20:09:27] [ENEMY] [Enemy4] Registered as sound listener
[20:09:27] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[20:09:27] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[20:09:27] [ENEMY] [Enemy5] Registered as sound listener
[20:09:27] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[20:09:27] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[20:09:27] [ENEMY] [Enemy6] Registered as sound listener
[20:09:27] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[20:09:27] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[20:09:27] [ENEMY] [Enemy7] Registered as sound listener
[20:09:27] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[20:09:27] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[20:09:27] [ENEMY] [Enemy8] Registered as sound listener
[20:09:27] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[20:09:27] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[20:09:27] [ENEMY] [Enemy9] Registered as sound listener
[20:09:27] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[20:09:27] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[20:09:27] [ENEMY] [Enemy10] Registered as sound listener
[20:09:27] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[20:09:27] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:09:27] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:09:27] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:09:27] [INFO] [LastChance] Found player: Player
[20:09:27] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:09:27] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:09:27] [INFO] [LastChance] Connected to player Died signal (C#)
[20:09:27] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:09:27] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:09:27] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:09:30] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:09:30] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:09:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1154.704, 1576.056), source=ENEMY (Enemy10), range=1469, listeners=18
[20:09:30] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[20:09:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[20:09:30] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:09:30] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:09:30] [ENEMY] [Enemy4] Memory: high confidence (0.87) - transitioning to PURSUING
[20:09:30] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[20:09:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1097.194, 1539.679), shooter_id=13933108791597, bullet_pos=(59.48733, 702.4565)
[20:09:30] [INFO] [Bullet] Using shooter_position, distance=1333.33325195313
[20:09:30] [INFO] [Bullet] Distance to wall: 1333.33325195313 (90.7891129091459% of viewport)
[20:09:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1097.194, 1539.679), shooter_id=13933108791597, bullet_pos=(509.4274, 349.8138)
[20:09:31] [INFO] [Bullet] Using shooter_position, distance=1327.12072753906
[20:09:31] [INFO] [Bullet] Distance to wall: 1327.12072753906 (90.3660906979673% of viewport)
[20:09:31] [INFO] [Bullet] Distance-based penetration chance: 41.2395608523715%
[20:09:31] [INFO] [Bullet] Penetration failed (distance roll)
[20:09:31] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:09:31] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:09:31] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:09:31] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:09:31] [ENEMY] [Enemy1] Death animation component initialized
[20:09:31] [ENEMY] [Enemy2] Death animation component initialized
[20:09:31] [ENEMY] [Enemy3] Death animation component initialized
[20:09:31] [ENEMY] [Enemy4] Death animation component initialized
[20:09:31] [ENEMY] [Enemy5] Death animation component initialized
[20:09:31] [ENEMY] [Enemy6] Death animation component initialized
[20:09:31] [ENEMY] [Enemy7] Death animation component initialized
[20:09:31] [ENEMY] [Enemy8] Death animation component initialized
[20:09:31] [ENEMY] [Enemy9] Death animation component initialized
[20:09:31] [ENEMY] [Enemy10] Death animation component initialized
[20:09:31] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:09:31] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:09:31] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:09:31] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:09:31] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:09:31] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:09:31] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:09:31] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[20:09:31] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:09:31] [INFO] [ScoreManager] Level started with 10 enemies
[20:09:31] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:09:31] [ENEMY] [Enemy1] Registered as sound listener
[20:09:31] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:09:31] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:09:31] [ENEMY] [Enemy2] Registered as sound listener
[20:09:31] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[20:09:31] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:09:31] [ENEMY] [Enemy3] Registered as sound listener
[20:09:31] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[20:09:31] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:09:31] [ENEMY] [Enemy4] Registered as sound listener
[20:09:31] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[20:09:31] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:09:31] [ENEMY] [Enemy5] Registered as sound listener
[20:09:31] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[20:09:31] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:09:31] [ENEMY] [Enemy6] Registered as sound listener
[20:09:31] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[20:09:31] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:09:31] [ENEMY] [Enemy7] Registered as sound listener
[20:09:31] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[20:09:31] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:09:31] [ENEMY] [Enemy8] Registered as sound listener
[20:09:31] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[20:09:31] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:09:31] [ENEMY] [Enemy9] Registered as sound listener
[20:09:31] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[20:09:31] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:09:31] [ENEMY] [Enemy10] Registered as sound listener
[20:09:31] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[20:09:31] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:09:31] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:09:31] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:09:31] [INFO] [LastChance] Found player: Player
[20:09:31] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:09:31] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:09:31] [INFO] [LastChance] Connected to player Died signal (C#)
[20:09:31] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:09:31] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:09:31] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:09:31] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:09:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.004, 1519.036), source=ENEMY (Enemy10), range=1469, listeners=20
[20:09:32] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:09:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:32] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:09:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.389, 1499.184), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:32] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:09:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.657, 1477.993), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:32] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:09:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.939, 1455.402), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:32] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:09:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=14135676896778, bullet_pos=(47.54776, 866.3744)
[20:09:32] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[20:09:32] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[20:09:32] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[20:09:32] [INFO] [Bullet] Penetration failed (distance roll)
[20:09:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.721, 1468.363), shooter_id=14135676896778, bullet_pos=(44.27541, 801.1885)
[20:09:32] [INFO] [Bullet] Using shooter_position, distance=1208.33276367188
[20:09:32] [INFO] [Bullet] Distance to wall: 1208.33276367188 (82.2775998064458% of viewport)
[20:09:32] [ENEMY] [Enemy4] Memory: high confidence (0.87) - transitioning to PURSUING
[20:09:32] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[20:09:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.721, 1468.363), shooter_id=14135676896778, bullet_pos=(199.8982, 706.6588)
[20:09:32] [INFO] [Bullet] Using shooter_position, distance=1142.71374511719
[20:09:32] [INFO] [Bullet] Distance to wall: 1142.71374511719 (77.8094801703217% of viewport)
[20:09:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.506, 1444.353), shooter_id=14135676896778, bullet_pos=(47.54671, 730.5431)
[20:09:32] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[20:09:32] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[20:09:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.506, 1444.353), shooter_id=14135676896778, bullet_pos=(107.6049, 684.2427)
[20:09:32] [INFO] [Bullet] Using shooter_position, distance=1189.45837402344
[20:09:32] [INFO] [Bullet] Distance to wall: 1189.45837402344 (80.9924079083414% of viewport)
[20:09:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.506, 1444.353), shooter_id=14135676896778, bullet_pos=(62.61792, 637.0378)
[20:09:32] [INFO] [Bullet] Using shooter_position, distance=1254.24975585938
[20:09:32] [INFO] [Bullet] Distance to wall: 1254.24975585938 (85.4041722383961% of viewport)
[20:09:32] [INFO] [LastChance] Threat detected: @Area2D@10600
[20:09:32] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:09:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:09:33] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:09:33] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:09:33] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:09:33] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:09:33] [ENEMY] [Enemy1] Death animation component initialized
[20:09:33] [ENEMY] [Enemy2] Death animation component initialized
[20:09:33] [ENEMY] [Enemy3] Death animation component initialized
[20:09:33] [ENEMY] [Enemy4] Death animation component initialized
[20:09:33] [ENEMY] [Enemy5] Death animation component initialized
[20:09:33] [ENEMY] [Enemy6] Death animation component initialized
[20:09:33] [ENEMY] [Enemy7] Death animation component initialized
[20:09:33] [ENEMY] [Enemy8] Death animation component initialized
[20:09:33] [ENEMY] [Enemy9] Death animation component initialized
[20:09:33] [ENEMY] [Enemy10] Death animation component initialized
[20:09:33] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:09:33] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:09:33] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:09:33] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:09:33] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:09:33] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:09:33] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:09:33] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[20:09:33] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:09:33] [INFO] [ScoreManager] Level started with 10 enemies
[20:09:33] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:09:33] [ENEMY] [Enemy1] Registered as sound listener
[20:09:33] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[20:09:33] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:09:33] [ENEMY] [Enemy2] Registered as sound listener
[20:09:33] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[20:09:33] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:09:33] [ENEMY] [Enemy3] Registered as sound listener
[20:09:33] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[20:09:33] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:09:33] [ENEMY] [Enemy4] Registered as sound listener
[20:09:33] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[20:09:33] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:09:33] [ENEMY] [Enemy5] Registered as sound listener
[20:09:33] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[20:09:33] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:09:33] [ENEMY] [Enemy6] Registered as sound listener
[20:09:33] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[20:09:33] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:09:33] [ENEMY] [Enemy7] Registered as sound listener
[20:09:33] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[20:09:33] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:09:33] [ENEMY] [Enemy8] Registered as sound listener
[20:09:33] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[20:09:33] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:09:33] [ENEMY] [Enemy9] Registered as sound listener
[20:09:33] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[20:09:33] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:09:33] [ENEMY] [Enemy10] Registered as sound listener
[20:09:33] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[20:09:33] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:09:33] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:09:33] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:09:33] [INFO] [LastChance] Found player: Player
[20:09:33] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:09:33] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:09:33] [INFO] [LastChance] Connected to player Died signal (C#)
[20:09:33] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:09:33] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:09:33] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:09:33] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:09:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.004, 1519.036), source=ENEMY (Enemy10), range=1469, listeners=20
[20:09:33] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:09:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:34] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:09:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.385, 1499.191), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:34] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:09:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.581, 1478.104), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:34] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:09:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.653, 1455.791), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:34] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:09:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=14243923496742, bullet_pos=(47.54776, 866.3744)
[20:09:34] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[20:09:34] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[20:09:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.68, 1468.442), shooter_id=14243923496742, bullet_pos=(43.43921, 802.4684)
[20:09:34] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[20:09:34] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[20:09:34] [INFO] [Bullet] Distance-based penetration chance: 50.6760656778783%
[20:09:34] [INFO] [Bullet] Penetration failed (distance roll)
[20:09:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=14243923496742, bullet_pos=(409.9792, 710.3632)
[20:09:34] [INFO] [Bullet] Using shooter_position, distance=1029.90734863281
[20:09:34] [INFO] [Bullet] Distance to wall: 1029.90734863281 (70.1282852010284% of viewport)
[20:09:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.171, 1444.922), shooter_id=14243923496742, bullet_pos=(41.71271, 738.6843)
[20:09:34] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[20:09:34] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[20:09:34] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[20:09:34] [INFO] [Bullet] Starting wall penetration at (41.71271, 738.6843)
[20:09:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.6965446472168
[20:09:34] [INFO] [Bullet] Body exited signal received for penetrating body
[20:09:34] [INFO] [Bullet] Exiting penetration at (3.846748, 711.4089) after traveling 41.6666679382324 pixels through wall
[20:09:34] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:09:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6203, 1420.255), shooter_id=14243923496742, bullet_pos=(42.25559, 675.2892)
[20:09:34] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[20:09:34] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[20:09:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=14243923496742, bullet_pos=(700.335, 807.085)
[20:09:34] [INFO] [Bullet] Using shooter_position, distance=783.022216796875
[20:09:34] [INFO] [Bullet] Distance to wall: 783.022216796875 (53.3174225925931% of viewport)
[20:09:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6203, 1420.255), shooter_id=14243923496742, bullet_pos=(248.4222, 473.7166)
[20:09:34] [INFO] [Bullet] Using shooter_position, distance=1204.68054199219
[20:09:34] [INFO] [Bullet] Distance to wall: 1204.68054199219 (82.0289133164323% of viewport)
[20:09:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=14243923496742, bullet_pos=(919.7214, 722.0304)
[20:09:34] [INFO] [Bullet] Using shooter_position, distance=785.682983398438
[20:09:34] [INFO] [Bullet] Distance to wall: 785.682983398438 (53.4985990832118% of viewport)
[20:09:34] [INFO] [Bullet] Distance-based penetration chance: 84.2516344029195%
[20:09:34] [INFO] [Bullet] Starting wall penetration at (919.7214, 722.0304)
[20:09:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13.1294527053833
[20:09:34] [INFO] [Bullet] Body exited signal received for penetrating body
[20:09:34] [INFO] [Bullet] Exiting penetration at (948.2416, 710.9733) after traveling 25.5885448455811 pixels through wall
[20:09:34] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[20:09:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6203, 1420.255), shooter_id=14243923496742, bullet_pos=(421.8881, 688.3118)
[20:09:35] [INFO] [Bullet] Using shooter_position, distance=928.772583007813
[20:09:35] [INFO] [Bullet] Distance to wall: 928.772583007813 (63.2418330391867% of viewport)
[20:09:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6203, 1420.255), shooter_id=14243923496742, bullet_pos=(509.3686, 556.1026)
[20:09:35] [INFO] [Bullet] Using shooter_position, distance=990.585205078125
[20:09:35] [INFO] [Bullet] Distance to wall: 990.585205078125 (67.4507681393436% of viewport)
[20:09:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6203, 1420.255), shooter_id=14243923496742, bullet_pos=(277.7285, 261.512)
[20:09:35] [INFO] [Bullet] Using shooter_position, distance=1362.05224609375
[20:09:35] [INFO] [Bullet] Distance to wall: 1362.05224609375 (92.7446420297546% of viewport)
[20:09:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6203, 1420.255), shooter_id=14243923496742, bullet_pos=(65.46302, 635.7183)
[20:09:35] [INFO] [Bullet] Using shooter_position, distance=1215.30810546875
[20:09:35] [INFO] [Bullet] Distance to wall: 1215.30810546875 (82.7525636559175% of viewport)
[20:09:35] [ENEMY] [Enemy10] FLANKING started: target=(424.9094, 1042.398), side=right, pos=(1022.619, 1432.325)
[20:09:35] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[20:09:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6203, 1420.255), shooter_id=14243923496742, bullet_pos=(96.30209, 713.3931)
[20:09:35] [INFO] [Bullet] Using shooter_position, distance=1142.29321289063
[20:09:35] [INFO] [Bullet] Distance to wall: 1142.29321289063 (77.7808453577245% of viewport)
[20:09:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6203, 1420.255), shooter_id=14243923496742, bullet_pos=(66.53135, 591.7672)
[20:09:36] [INFO] [Bullet] Using shooter_position, distance=1243.33654785156
[20:09:36] [INFO] [Bullet] Distance to wall: 1243.33654785156 (84.6610718375241% of viewport)
[20:09:36] [ENEMY] [Enemy4] Memory: medium confidence (0.74) - transitioning to PURSUING
[20:09:36] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[20:09:36] [ENEMY] [Enemy3] Memory: medium confidence (0.69) - transitioning to PURSUING
[20:09:36] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[20:09:36] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[20:09:36] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[20:09:36] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[20:09:37] [ENEMY] [Enemy2] Memory: medium confidence (0.58) - transitioning to PURSUING
[20:09:37] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[20:09:37] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[20:09:37] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[20:09:37] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:09:37] [ENEMY] [Enemy3] State: SUPPRESSED -> IN_COVER
[20:09:37] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[20:09:37] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[20:09:37] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[20:09:37] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:09:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(514.7352, 1113.22), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[20:09:37] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[20:09:37] [INFO] [LastChance] Threat detected: Bullet
[20:09:37] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:09:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:09:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[20:09:37] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[20:09:37] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:09:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(504.7728, 1090.938), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[20:09:38] [INFO] [LastChance] Threat detected: Bullet
[20:09:38] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[20:09:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:09:38] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:09:38] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:09:38] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[20:09:38] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:09:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(504.7728, 1090.938), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[20:09:38] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:09:38] [INFO] [LastChance] Threat detected: Bullet
[20:09:38] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:09:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:09:38] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:09:38] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:09:38] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[20:09:38] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:09:38] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[20:09:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(504.7728, 1090.938), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[20:09:38] [INFO] [LastChance] Threat detected: Bullet
[20:09:38] [INFO] [LastChance] Triggering last chance effect!
[20:09:38] [INFO] [LastChance] Starting last chance effect:
[20:09:38] [INFO] [LastChance]   - Time will be frozen (except player)
[20:09:38] [INFO] [LastChance]   - Duration: 6.0 real seconds
[20:09:38] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:09:38] [INFO] [LastChance]   - Brightness: 0.60
[20:09:38] [INFO] [LastChance] Pushed bullet Bullet from distance 131.5 to 200.0
[20:09:38] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[20:09:38] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:09:38] [INFO] [LastChance] Skipping player node: Player
[20:09:38] [INFO] [LastChance] Froze existing bullet casing: Casing
[20:09:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@10864
[20:09:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@10866
[20:09:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@10868
[20:09:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@10882
[20:09:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@10883
[20:09:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@10884
[20:09:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@10885
[20:09:38] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:09:38] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:09:38] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:09:38] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:09:38] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:09:38] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:09:38] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:09:38] [INFO] [LastChance] Ending last chance effect
[20:09:38] [INFO] [LastChance] All process modes restored
[20:09:38] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:09:38] [ENEMY] [Enemy1] Death animation component initialized
[20:09:38] [ENEMY] [Enemy2] Death animation component initialized
[20:09:38] [ENEMY] [Enemy3] Death animation component initialized
[20:09:38] [ENEMY] [Enemy4] Death animation component initialized
[20:09:38] [ENEMY] [Enemy5] Death animation component initialized
[20:09:38] [ENEMY] [Enemy6] Death animation component initialized
[20:09:38] [ENEMY] [Enemy7] Death animation component initialized
[20:09:38] [ENEMY] [Enemy8] Death animation component initialized
[20:09:38] [ENEMY] [Enemy9] Death animation component initialized
[20:09:38] [ENEMY] [Enemy10] Death animation component initialized
[20:09:38] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:09:38] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:09:38] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:09:38] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:09:38] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:09:38] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:09:38] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:09:38] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[20:09:38] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:09:38] [INFO] [ScoreManager] Level started with 10 enemies
[20:09:38] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:09:38] [ENEMY] [Enemy1] Registered as sound listener
[20:09:38] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:09:38] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:09:38] [ENEMY] [Enemy2] Registered as sound listener
[20:09:38] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[20:09:38] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:09:38] [ENEMY] [Enemy3] Registered as sound listener
[20:09:38] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[20:09:38] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:09:38] [ENEMY] [Enemy4] Registered as sound listener
[20:09:38] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[20:09:38] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:09:38] [ENEMY] [Enemy5] Registered as sound listener
[20:09:38] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[20:09:38] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:09:38] [ENEMY] [Enemy6] Registered as sound listener
[20:09:38] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[20:09:38] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:09:38] [ENEMY] [Enemy7] Registered as sound listener
[20:09:38] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[20:09:38] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:09:38] [ENEMY] [Enemy8] Registered as sound listener
[20:09:38] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[20:09:38] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:09:38] [ENEMY] [Enemy9] Registered as sound listener
[20:09:38] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[20:09:38] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:09:38] [ENEMY] [Enemy10] Registered as sound listener
[20:09:38] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[20:09:38] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:09:38] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:09:38] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:09:38] [INFO] [LastChance] Found player: Player
[20:09:38] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:09:38] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:09:38] [INFO] [LastChance] Connected to player Died signal (C#)
[20:09:38] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:09:38] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:09:38] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:09:42] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:09:42] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:09:42] [ENEMY] [Enemy4] Memory: high confidence (0.85) - transitioning to PURSUING
[20:09:42] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[20:09:43] [ENEMY] [Enemy3] Memory: medium confidence (0.72) - transitioning to PURSUING
[20:09:43] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[20:09:44] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:09:44] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:09:44] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:09:44] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:09:44] [ENEMY] [Enemy1] Death animation component initialized
[20:09:44] [ENEMY] [Enemy2] Death animation component initialized
[20:09:44] [ENEMY] [Enemy3] Death animation component initialized
[20:09:44] [ENEMY] [Enemy4] Death animation component initialized
[20:09:44] [ENEMY] [Enemy5] Death animation component initialized
[20:09:44] [ENEMY] [Enemy6] Death animation component initialized
[20:09:44] [ENEMY] [Enemy7] Death animation component initialized
[20:09:44] [ENEMY] [Enemy8] Death animation component initialized
[20:09:44] [ENEMY] [Enemy9] Death animation component initialized
[20:09:44] [ENEMY] [Enemy10] Death animation component initialized
[20:09:44] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:09:44] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:09:44] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:09:44] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:09:44] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:09:44] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:09:44] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:09:44] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[20:09:44] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:09:44] [INFO] [ScoreManager] Level started with 10 enemies
[20:09:44] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[20:09:44] [ENEMY] [Enemy1] Registered as sound listener
[20:09:44] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[20:09:44] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[20:09:44] [ENEMY] [Enemy2] Registered as sound listener
[20:09:44] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[20:09:44] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[20:09:44] [ENEMY] [Enemy3] Registered as sound listener
[20:09:44] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[20:09:44] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[20:09:44] [ENEMY] [Enemy4] Registered as sound listener
[20:09:44] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[20:09:44] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[20:09:44] [ENEMY] [Enemy5] Registered as sound listener
[20:09:44] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[20:09:44] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[20:09:44] [ENEMY] [Enemy6] Registered as sound listener
[20:09:44] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[20:09:44] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[20:09:44] [ENEMY] [Enemy7] Registered as sound listener
[20:09:44] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[20:09:44] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[20:09:44] [ENEMY] [Enemy8] Registered as sound listener
[20:09:44] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[20:09:44] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[20:09:44] [ENEMY] [Enemy9] Registered as sound listener
[20:09:44] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[20:09:44] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[20:09:44] [ENEMY] [Enemy10] Registered as sound listener
[20:09:44] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[20:09:44] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:09:44] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:09:44] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:09:44] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:09:44] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:09:44] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:09:44] [INFO] [LastChance] Found player: Player
[20:09:44] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:09:44] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:09:44] [INFO] [LastChance] Connected to player Died signal (C#)
[20:09:44] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:09:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.004, 1519.036), source=ENEMY (Enemy10), range=1469, listeners=30
[20:09:45] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[20:09:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.385, 1499.191), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.598, 1478.078), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.706, 1455.717), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:45] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:09:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=14859966089791, bullet_pos=(47.54776, 866.3744)
[20:09:45] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[20:09:45] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[20:09:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=14859966089791, bullet_pos=(43.40149, 802.4432)
[20:09:45] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[20:09:45] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[20:09:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=14859966089791, bullet_pos=(333.4963, 714.5602)
[20:09:45] [INFO] [Bullet] Using shooter_position, distance=1078.34643554688
[20:09:45] [INFO] [Bullet] Distance to wall: 1078.34643554688 (73.4265917006337% of viewport)
[20:09:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=14859966089791, bullet_pos=(155.6385, 708.0293)
[20:09:45] [INFO] [Bullet] Using shooter_position, distance=1175.16455078125
[20:09:45] [INFO] [Bullet] Distance to wall: 1175.16455078125 (80.0191151997576% of viewport)
[20:09:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.149, 1444.873), shooter_id=14859966089791, bullet_pos=(41.66475, 738.6735)
[20:09:45] [INFO] [Bullet] Using shooter_position, distance=1208.33276367188
[20:09:45] [INFO] [Bullet] Distance to wall: 1208.33276367188 (82.2775998064458% of viewport)
[20:09:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.149, 1444.873), shooter_id=14859966089791, bullet_pos=(108.3238, 702.5172)
[20:09:45] [INFO] [Bullet] Using shooter_position, distance=1177.35705566406
[20:09:45] [INFO] [Bullet] Distance to wall: 1177.35705566406 (80.1684068888893% of viewport)
[20:09:45] [INFO] [Bullet] Distance-based penetration chance: 53.1368586296291%
[20:09:45] [INFO] [Bullet] Penetration failed (distance roll)
[20:09:45] [ENEMY] [Enemy4] Memory: high confidence (0.87) - transitioning to PURSUING
[20:09:45] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[20:09:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.7466, 1419.964), shooter_id=14859966089791, bullet_pos=(44.7667, 671.9614)
[20:09:45] [INFO] [Bullet] Using shooter_position, distance=1208.33374023438
[20:09:45] [INFO] [Bullet] Distance to wall: 1208.33374023438 (82.2776663023821% of viewport)
[20:09:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=14859966089791, bullet_pos=(701.6102, 861.491)
[20:09:45] [INFO] [Bullet] Using shooter_position, distance=735.336547851563
[20:09:45] [INFO] [Bullet] Distance to wall: 735.336547851563 (50.0704177078935% of viewport)
[20:09:45] [INFO] [Bullet] Distance-based penetration chance: 88.2511793407909%
[20:09:45] [INFO] [Bullet] Starting wall penetration at (701.6102, 861.491)
[20:09:45] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:09:45] [INFO] [Bullet] Exiting penetration at (734.2132, 874.5043) after traveling 30.1041660308838 pixels through wall
[20:09:45] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[20:09:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=14859966089791, bullet_pos=(514.7654, 989.946)
[20:09:46] [INFO] [Bullet] Using shooter_position, distance=719.145874023438
[20:09:46] [INFO] [Bullet] Distance to wall: 719.145874023438 (48.9679649549126% of viewport)
[20:09:46] [INFO] [Bullet] Distance-based penetration chance: 89.5373742192687%
[20:09:46] [INFO] [Bullet] Starting wall penetration at (514.7654, 989.946)
[20:09:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=14859966089791, bullet_pos=(518.6984, 993.0334)
[20:09:46] [INFO] [Bullet] Using shooter_position, distance=714.155639648438
[20:09:46] [INFO] [Bullet] Distance to wall: 714.155639648438 (48.6281707200869% of viewport)
[20:09:46] [INFO] [Bullet] Distance-based penetration chance: 89.9338008265652%
[20:09:46] [INFO] [Bullet] Penetration failed (distance roll)
[20:09:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23.3641529083252
[20:09:46] [INFO] [Bullet] Body exited signal received for penetrating body
[20:09:46] [INFO] [Bullet] Exiting penetration at (542.378, 1011.622) after traveling 30.1041717529297 pixels through wall
[20:09:46] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[20:09:46] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[20:09:46] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:09:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.7466, 1419.964), shooter_id=14859966089791, bullet_pos=(505.7801, 398.044)
[20:09:46] [INFO] [Bullet] Using shooter_position, distance=1132.44482421875
[20:09:46] [INFO] [Bullet] Distance to wall: 1132.44482421875 (77.1102504634666% of viewport)
[20:09:46] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:09:46] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:09:46] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:09:46] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:09:46] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:09:46] [ENEMY] [Enemy1] Death animation component initialized
[20:09:46] [ENEMY] [Enemy2] Death animation component initialized
[20:09:46] [ENEMY] [Enemy3] Death animation component initialized
[20:09:46] [ENEMY] [Enemy4] Death animation component initialized
[20:09:46] [ENEMY] [Enemy5] Death animation component initialized
[20:09:46] [ENEMY] [Enemy6] Death animation component initialized
[20:09:46] [ENEMY] [Enemy7] Death animation component initialized
[20:09:46] [ENEMY] [Enemy8] Death animation component initialized
[20:09:46] [ENEMY] [Enemy9] Death animation component initialized
[20:09:46] [ENEMY] [Enemy10] Death animation component initialized
[20:09:46] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:09:46] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:09:46] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:09:46] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:09:46] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:09:46] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:09:46] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:09:46] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[20:09:46] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:09:46] [INFO] [ScoreManager] Level started with 10 enemies
[20:09:46] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:09:46] [ENEMY] [Enemy1] Registered as sound listener
[20:09:46] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[20:09:46] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:09:46] [ENEMY] [Enemy2] Registered as sound listener
[20:09:46] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[20:09:46] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:09:46] [ENEMY] [Enemy3] Registered as sound listener
[20:09:46] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[20:09:46] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:09:46] [ENEMY] [Enemy4] Registered as sound listener
[20:09:46] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[20:09:46] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:09:46] [ENEMY] [Enemy5] Registered as sound listener
[20:09:46] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[20:09:46] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:09:46] [ENEMY] [Enemy6] Registered as sound listener
[20:09:46] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[20:09:46] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:09:46] [ENEMY] [Enemy7] Registered as sound listener
[20:09:46] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[20:09:46] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:09:46] [ENEMY] [Enemy8] Registered as sound listener
[20:09:46] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[20:09:46] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:09:46] [ENEMY] [Enemy9] Registered as sound listener
[20:09:46] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[20:09:46] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:09:46] [ENEMY] [Enemy10] Registered as sound listener
[20:09:46] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[20:09:46] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:09:46] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:09:46] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:09:46] [INFO] [LastChance] Found player: Player
[20:09:46] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:09:46] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:09:46] [INFO] [LastChance] Connected to player Died signal (C#)
[20:09:46] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:09:46] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:09:46] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:09:46] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:09:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.004, 1519.036), source=ENEMY (Enemy10), range=1469, listeners=20
[20:09:47] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:09:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.385, 1499.191), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.598, 1478.078), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.686, 1455.743), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:09:47] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:09:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=14984184597162, bullet_pos=(47.54776, 866.3744)
[20:09:47] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[20:09:47] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[20:09:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:09:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:09:47] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:09:47] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:09:47] [ENEMY] [Enemy1] Death animation component initialized
[20:09:47] [ENEMY] [Enemy2] Death animation component initialized
[20:09:47] [ENEMY] [Enemy3] Death animation component initialized
[20:09:47] [ENEMY] [Enemy4] Death animation component initialized
[20:09:47] [ENEMY] [Enemy5] Death animation component initialized
[20:09:47] [ENEMY] [Enemy6] Death animation component initialized
[20:09:47] [ENEMY] [Enemy7] Death animation component initialized
[20:09:47] [ENEMY] [Enemy8] Death animation component initialized
[20:09:47] [ENEMY] [Enemy9] Death animation component initialized
[20:09:47] [ENEMY] [Enemy10] Death animation component initialized
[20:09:47] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:09:47] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:09:47] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:09:47] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:09:47] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:09:47] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:09:47] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:09:47] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[20:09:47] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:09:47] [INFO] [ScoreManager] Level started with 10 enemies
[20:09:47] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:09:47] [ENEMY] [Enemy1] Registered as sound listener
[20:09:47] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[20:09:47] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:09:47] [ENEMY] [Enemy2] Registered as sound listener
[20:09:47] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[20:09:47] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:09:47] [ENEMY] [Enemy3] Registered as sound listener
[20:09:47] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[20:09:47] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:09:47] [ENEMY] [Enemy4] Registered as sound listener
[20:09:47] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[20:09:47] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:09:47] [ENEMY] [Enemy5] Registered as sound listener
[20:09:47] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[20:09:47] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:09:47] [ENEMY] [Enemy6] Registered as sound listener
[20:09:47] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[20:09:47] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:09:47] [ENEMY] [Enemy7] Registered as sound listener
[20:09:47] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[20:09:47] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:09:47] [ENEMY] [Enemy8] Registered as sound listener
[20:09:47] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[20:09:47] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:09:47] [ENEMY] [Enemy9] Registered as sound listener
[20:09:47] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[20:09:47] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:09:47] [ENEMY] [Enemy10] Registered as sound listener
[20:09:47] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[20:09:47] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:09:47] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:09:47] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:09:47] [INFO] [LastChance] Found player: Player
[20:09:47] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:09:47] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:09:47] [INFO] [LastChance] Connected to player Died signal (C#)
[20:09:47] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:09:47] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:09:47] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:09:51] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:09:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1108.577, 1625.144), source=ENEMY (Enemy10), range=1469, listeners=20
[20:09:51] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:09:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[20:09:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(927.8979, 1889.164), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:09:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[20:09:51] [INFO] [LastChance] Threat detected: Bullet
[20:09:51] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:09:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:09:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1086.725, 1655.388), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=7
[20:09:51] [INFO] [LastChance] Threat detected: @Area2D@11918
[20:09:51] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:09:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:09:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(945.0336, 1908.095), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:09:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[20:09:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(927.89795, 1889.1637), shooter_id=15072583747119, bullet_pos=(1142.8124, 1656.5918)
[20:09:51] [INFO] [Bullet] Using shooter_position, distance=316,66687
[20:09:51] [INFO] [Bullet] Distance to wall: 316,66687 (21,56243% of viewport)
[20:09:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1072.402, 1682.62), shooter_id=15071761663979, bullet_pos=(759.2338, 2072.397)
[20:09:51] [INFO] [Bullet] Using shooter_position, distance=500.000549316406
[20:09:51] [INFO] [Bullet] Distance to wall: 500.000549316406 (34.0459568228919% of viewport)
[20:09:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:51] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:09:51] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:09:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1067.82, 1687.572), source=ENEMY (Enemy10), range=1469, listeners=10
[20:09:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=6
[20:09:51] [INFO] [LastChance] Threat detected: @Area2D@11923
[20:09:51] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[20:09:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:09:51] [ENEMY] [Enemy10] Hit taken, health: 1/2
[20:09:51] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[20:09:51] [INFO] [ImpactEffects] spawn_blood_effect called at (1062.725, 1696.943), dir=(1, 0), lethal=false
[20:09:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:09:51] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:09:51] [INFO] [ImpactEffects] Blood effect spawned at (1062.725, 1696.943) (scale=1)
[20:09:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(946.8985, 1921.455), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:09:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=5
[20:09:51] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:09:51] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[20:09:51] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:09:51] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[20:09:51] [ENEMY] [Enemy10] Hit taken, health: 0/2
[20:09:51] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[20:09:51] [INFO] [ImpactEffects] spawn_blood_effect called at (1070.167, 1692.768), dir=(1, 0), lethal=true
[20:09:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:09:51] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:09:51] [INFO] [ImpactEffects] Blood effect spawned at (1070.167, 1692.768) (scale=1.5)
[20:09:51] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[20:09:51] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:09:51] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[20:09:51] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:09:51] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[20:09:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(935.5024, 1929.555), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:09:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=5
[20:09:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1072.402, 1682.62), shooter_id=15071761663979, bullet_pos=(486.0696, 1602.724)
[20:09:51] [INFO] [Bullet] Using shooter_position, distance=591.750732421875
[20:09:51] [INFO] [Bullet] Distance to wall: 591.750732421875 (40.2933955042532% of viewport)
[20:09:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1072.402, 1682.62), shooter_id=15071761663979, bullet_pos=(483.3843, 1606.942)
[20:09:51] [INFO] [Bullet] Using shooter_position, distance=593.859436035156
[20:09:51] [INFO] [Bullet] Distance to wall: 593.859436035156 (40.4369810108456% of viewport)
[20:09:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(911.56, 1933.311), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:09:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=5
[20:09:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(890.9953, 1934.999), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:09:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=5
[20:09:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1072.402, 1682.62), shooter_id=15071761663979, bullet_pos=(388.0223, 1397.446)
[20:09:52] [INFO] [Bullet] Using shooter_position, distance=741.417297363281
[20:09:52] [INFO] [Bullet] Distance to wall: 741.417297363281 (50.4844671236589% of viewport)
[20:09:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(935.5024, 1929.5553), shooter_id=15072583747119, bullet_pos=(1196.3424, 1398.4875)
[20:09:52] [INFO] [Bullet] Using shooter_position, distance=591,66754
[20:09:52] [INFO] [Bullet] Distance to wall: 591,66754 (40,287735% of viewport)
[20:09:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(881.7701, 1935.755), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:09:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=6
[20:09:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(911.56, 1933.3112), shooter_id=15072583747119, bullet_pos=(1235.123, 1398.5837)
[20:09:52] [INFO] [Bullet] Using shooter_position, distance=625,00116
[20:09:52] [INFO] [Bullet] Distance to wall: 625,00116 (42,55748% of viewport)
[20:09:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1072.402, 1682.62), shooter_id=15071761663979, bullet_pos=(298.6135, 1591.656)
[20:09:52] [INFO] [Bullet] Using shooter_position, distance=779.116821289063
[20:09:52] [INFO] [Bullet] Distance to wall: 779.116821289063 (53.051497031077% of viewport)
[20:09:52] [INFO] [Bullet] Distance-based penetration chance: 84.7732534637435%
[20:09:52] [INFO] [Bullet] Starting wall penetration at (298.6135, 1591.656)
[20:09:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 0.00376839586534
[20:09:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.4039363861084
[20:09:52] [INFO] [Bullet] Body exited signal received for penetrating body
[20:09:52] [INFO] [Bullet] Exiting penetration at (281.9696, 1627.809) after traveling 34.800422668457 pixels through wall
[20:09:52] [INFO] [Bullet] Damage multiplier after penetration: 0.05625
[20:09:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(890.9953, 1934.9985), shooter_id=15072583747119, bullet_pos=(1274.98, 1400.2489)
[20:09:52] [INFO] [Bullet] Using shooter_position, distance=658,3323
[20:09:52] [INFO] [Bullet] Distance to wall: 658,3323 (44,827057% of viewport)
[20:09:52] [ENEMY] [Enemy10] Ragdoll activated
[20:09:52] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:09:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(881.7701, 1935.7555), shooter_id=15072583747119, bullet_pos=(1346.1609, 1379.0092)
[20:09:52] [INFO] [Bullet] Using shooter_position, distance=725,00024
[20:09:52] [INFO] [Bullet] Distance to wall: 725,00024 (49,366604% of viewport)
[20:09:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(890.9953, 1934.9985), shooter_id=15072583747119, bullet_pos=(1485.7517, 1636.5824)
[20:09:52] [INFO] [Bullet] Using shooter_position, distance=665,4227
[20:09:52] [INFO] [Bullet] Distance to wall: 665,4227 (45,30986% of viewport)
[20:09:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(881.7701, 1935.7555), shooter_id=15072583747119, bullet_pos=(1494.7968, 1626.0792)
[20:09:52] [INFO] [Bullet] Using shooter_position, distance=686,805
[20:09:52] [INFO] [Bullet] Distance to wall: 686,805 (46,765816% of viewport)
[20:09:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(890.9953, 1934.9985), shooter_id=15072583747119, bullet_pos=(1051.8127, 2061.1362)
[20:09:53] [INFO] [Bullet] Using shooter_position, distance=204,38437
[20:09:53] [INFO] [Bullet] Distance to wall: 204,38437 (13,916908% of viewport)
[20:09:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(881.7701, 1935.7555), shooter_id=15072583747119, bullet_pos=(1280.9296, 2063.2366)
[20:09:53] [INFO] [Bullet] Using shooter_position, distance=419,02234
[20:09:53] [INFO] [Bullet] Distance to wall: 419,02234 (28,532001% of viewport)
[20:09:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:53] [INFO] [Bullet] Starting wall penetration at (1280.9296, 2063.2366)
[20:09:53] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:09:53] [INFO] [Bullet] Exiting penetration at (1268.1488, 2089.361) after traveling 24,083332 pixels through wall
[20:09:53] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[20:09:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(890.9953, 1934.9985), shooter_id=15072583747119, bullet_pos=(461.30835, 1611.9233)
[20:09:53] [INFO] [Bullet] Using shooter_position, distance=537,59503
[20:09:53] [INFO] [Bullet] Distance to wall: 537,59503 (36,605835% of viewport)
[20:09:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:09:53] [ENEMY] [Enemy10] Death animation completed
[20:09:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(890.9953, 1934.9985), shooter_id=15072583747119, bullet_pos=(62.339478, 1982.3302)
[20:09:54] [INFO] [Bullet] Using shooter_position, distance=830,00653
[20:09:54] [INFO] [Bullet] Distance to wall: 830,00653 (56,51667% of viewport)
[20:09:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(890.9953, 1934.9985), shooter_id=15072583747119, bullet_pos=(174.59262, 2062.7913)
[20:09:54] [INFO] [Bullet] Using shooter_position, distance=727,71136
[20:09:54] [INFO] [Bullet] Distance to wall: 727,71136 (49,55121% of viewport)
[20:09:54] [INFO] [Bullet] Distance-based penetration chance: 88,856926%
[20:09:54] [INFO] [Bullet] Starting wall penetration at (174.59262, 2062.7913)
[20:09:54] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:09:54] [INFO] [Bullet] Exiting penetration at (190.67752, 2074.3206) after traveling 14,790177 pixels through wall
[20:09:54] [INFO] [Bullet] Damage multiplier after penetration: 0,028125
[20:09:55] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[20:09:56] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:09:56] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[20:09:56] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[20:09:56] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[20:09:56] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[20:09:56] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[20:09:56] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[20:09:56] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[20:09:56] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[20:09:56] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[20:09:56] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(195.6343, 1806.066), source=PLAYER (Player), range=900, listeners=9
[20:09:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=0
[20:09:56] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1460), can_see=false
[20:09:56] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1273), can_see=false
[20:09:56] [ENEMY] [Enemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=1170), can_see=false
[20:09:56] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=1089), can_see=false
[20:09:56] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=2094), can_see=false
[20:09:56] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=2217), can_see=false
[20:09:56] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1681), can_see=false
[20:09:56] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1741), can_see=false
[20:09:56] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1922), can_see=false
[20:09:56] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:09:56] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:09:56] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[20:09:56] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[20:09:56] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[20:09:56] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[20:09:56] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[20:09:56] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[20:09:56] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[20:09:56] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[20:09:56] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[20:09:56] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:09:56] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:10:17] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[20:10:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(486.7625, 780.7964), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:10:18] [ENEMY] [Enemy1] Heard gunshot at (486.7625, 780.7964), source_type=0, intensity=0.01, distance=470
[20:10:18] [ENEMY] [Enemy2] Heard gunshot at (486.7625, 780.7964), source_type=0, intensity=0.04, distance=247
[20:10:18] [ENEMY] [Enemy4] Heard gunshot at (486.7625, 780.7964), source_type=0, intensity=0.02, distance=335
[20:10:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=2
[20:10:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=9
[20:10:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[20:10:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(500.6147, 754.3279), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:10:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=2
[20:10:18] [INFO] [LastChance] Threat detected: @Area2D@11974
[20:10:18] [INFO] [LastChance] Triggering last chance effect!
[20:10:18] [INFO] [LastChance] Starting last chance effect:
[20:10:18] [INFO] [LastChance]   - Time will be frozen (except player)
[20:10:18] [INFO] [LastChance]   - Duration: 6.0 real seconds
[20:10:18] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:10:18] [INFO] [LastChance]   - Brightness: 0.60
[20:10:18] [INFO] [LastChance] Pushed bullet @Area2D@11974 from distance 132.1 to 200.0
[20:10:18] [INFO] [LastChance] Pushed bullet @Area2D@11976 from distance 26.2 to 200.0
[20:10:18] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[20:10:18] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:10:18] [INFO] [LastChance] Skipping player node: Player
[20:10:18] [INFO] [LastChance] Froze existing bullet casing: Casing
[20:10:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11917
[20:10:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11919
[20:10:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11921
[20:10:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11924
[20:10:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11926
[20:10:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11929
[20:10:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11933
[20:10:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11935
[20:10:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11941
[20:10:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11973
[20:10:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11975
[20:10:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11977
[20:10:18] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:10:18] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:10:18] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:10:18] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@11978
[20:10:18] [INFO] [LastChance] Registered frozen player bullet: @Area2D@11978
[20:10:18] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@11979
[20:10:18] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@11979
[20:10:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.8633, 741.6127), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:10:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=3
[20:10:18] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@11980
[20:10:18] [INFO] [LastChance] Registered frozen player bullet: @Area2D@11980
[20:10:18] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@11981
[20:10:18] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@11981
[20:10:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(545.5284, 745.0511), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:10:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=3
[20:10:18] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@11982
[20:10:18] [INFO] [LastChance] Registered frozen player bullet: @Area2D@11982
[20:10:18] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@11983
[20:10:18] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@11983
[20:10:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(569.6951, 763.8389), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:10:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=3
[20:10:18] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@11984
[20:10:18] [INFO] [LastChance] Registered frozen player bullet: @Area2D@11984
[20:10:18] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@11985
[20:10:18] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@11985
[20:10:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(582.553, 793.0176), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:10:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=3
[20:10:18] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@11986
[20:10:18] [INFO] [LastChance] Registered frozen player bullet: @Area2D@11986
[20:10:18] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@11987
[20:10:18] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@11987
[20:10:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(584.0154, 828.7908), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:10:18] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[20:10:18] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@11988
[20:10:18] [INFO] [LastChance] Registered frozen player bullet: @Area2D@11988
[20:10:18] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@11989
[20:10:18] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@11989
[20:10:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(584.0154, 853.6797), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:10:18] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[20:10:19] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@11990
[20:10:19] [INFO] [LastChance] Registered frozen player bullet: @Area2D@11990
[20:10:19] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@11991
[20:10:19] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@11991
[20:10:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(613.764, 922.1987), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:10:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[20:10:19] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@11992
[20:10:19] [INFO] [LastChance] Registered frozen player bullet: @Area2D@11992
[20:10:19] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@11993
[20:10:19] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@11993
[20:10:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(627.8071, 936.1003), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:10:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[20:10:19] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@11994
[20:10:19] [INFO] [LastChance] Registered frozen player bullet: @Area2D@11994
[20:10:19] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@11995
[20:10:19] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@11995
[20:10:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.4311, 935.9864), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:10:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[20:10:19] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@11996
[20:10:19] [INFO] [LastChance] Registered frozen player bullet: @Area2D@11996
[20:10:19] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@11997
[20:10:19] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@11997
[20:10:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(641.4749, 919.9363), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:10:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[20:10:19] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@11998
[20:10:19] [INFO] [LastChance] Registered frozen player bullet: @Area2D@11998
[20:10:19] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@11999
[20:10:19] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@11999
[20:10:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.9484, 887.9954), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:10:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[20:10:21] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12000
[20:10:21] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12000
[20:10:21] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@12001
[20:10:21] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@12001
[20:10:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(436.124, 654.1442), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:10:21] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=2
[20:10:21] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12002
[20:10:21] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12002
[20:10:21] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@12003
[20:10:21] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@12003
[20:10:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(397.624, 654.1442), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:10:21] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=2
[20:10:21] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12004
[20:10:21] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12004
[20:10:21] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@12005
[20:10:21] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@12005
[20:10:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(359.124, 654.1442), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:10:21] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=2
[20:10:21] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12006
[20:10:21] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12006
[20:10:21] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@12007
[20:10:21] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@12007
[20:10:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(320.624, 654.1442), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:10:21] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[20:10:22] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12008
[20:10:22] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12008
[20:10:22] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@12009
[20:10:22] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@12009
[20:10:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(124.9767, 429.0551), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:10:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:10:22] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12010
[20:10:22] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12010
[20:10:22] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@12011
[20:10:22] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@12011
[20:10:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(124.9767, 390.5551), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:10:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:10:22] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12012
[20:10:22] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12012
[20:10:22] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@12013
[20:10:22] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@12013
[20:10:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(124.9767, 352.0551), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:10:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:10:22] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12014
[20:10:22] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12014
[20:10:22] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@12015
[20:10:22] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@12015
[20:10:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(124.9767, 313.5551), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:10:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:10:23] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:10:23] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[20:10:23] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[20:10:23] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[20:10:23] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[20:10:23] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[20:10:23] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[20:10:23] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[20:10:23] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[20:10:23] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[20:10:23] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(302.6771, 209.9338), source=PLAYER (Player), range=900, listeners=9
[20:10:23] [ENEMY] [Enemy1] Heard player RELOAD at (302.6771, 209.9338), intensity=0.08, distance=176
[20:10:23] [ENEMY] [Enemy2] Heard player RELOAD at (302.6771, 209.9338), intensity=0.02, distance=354
[20:10:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:10:24] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:10:24] [INFO] [Player.Reload.Anim] LeftArm: pos=(6.1164985, 3.0234623), target=(12, 6), base=(24, 6)
[20:10:24] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9991864, 6.5), target=(-2, 8), base=(-2, 6)
[20:10:24] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[20:10:24] [INFO] [LastChance] Ending last chance effect
[20:10:24] [INFO] [LastChance] All process modes restored
[20:10:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@11978
[20:10:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@11980
[20:10:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@11982
[20:10:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@11984
[20:10:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@11986
[20:10:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@11988
[20:10:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@11990
[20:10:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@11992
[20:10:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@11994
[20:10:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@11996
[20:10:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@11998
[20:10:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@12000
[20:10:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@12002
[20:10:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@12004
[20:10:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@12006
[20:10:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@12008
[20:10:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@12010
[20:10:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@12012
[20:10:24] [INFO] [LastChance] Unfroze player bullet: @Area2D@12014
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: Casing
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@11917
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@11919
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@11921
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@11924
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@11926
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@11929
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@11933
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@11935
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@11941
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@11973
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@11975
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@11977
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@11979
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@11981
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@11983
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@11985
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@11987
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@11989
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@11991
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@11993
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@11995
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@11997
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@11999
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@12001
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@12003
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@12005
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@12007
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@12009
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@12011
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@12013
[20:10:24] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@12015
[20:10:24] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:10:24] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[20:10:24] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=true (dist=176), can_see=false
[20:10:24] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=true (dist=354), can_see=false
[20:10:24] [ENEMY] [Enemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=670), can_see=false
[20:10:24] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=844), can_see=false
[20:10:24] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1404), can_see=false
[20:10:24] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1665), can_see=false
[20:10:24] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1479), can_see=false
[20:10:24] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=2022), can_see=false
[20:10:24] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2242), can_see=false
[20:10:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(642.9484, 887.99536), shooter_id=15072583747119, bullet_pos=(708.9046, 878.28815)
[20:10:24] [INFO] [Bullet] Using shooter_position, distance=66,66669
[20:10:24] [INFO] [Bullet] Distance to wall: 66,66669 (4,5394573% of viewport)
[20:10:24] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:10:24] [INFO] [Bullet] Starting wall penetration at (708.9046, 878.28815)
[20:10:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(500.61472, 754.3279), shooter_id=15072583747119, bullet_pos=(732.6349, 812.57874)
[20:10:24] [INFO] [Bullet] Using shooter_position, distance=239,22066
[20:10:24] [INFO] [Bullet] Distance to wall: 239,22066 (16,288975% of viewport)
[20:10:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:24] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:10:24] [INFO] [Bullet] Exiting penetration at (755.0739, 871.4931) after traveling 41,666668 pixels through wall
[20:10:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:10:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(584.01544, 853.6797), shooter_id=15072583747119, bullet_pos=(691.4833, 840.0129)
[20:10:24] [INFO] [Bullet] Using shooter_position, distance=108,33336
[20:10:24] [INFO] [Bullet] Distance to wall: 108,33336 (7,376618% of viewport)
[20:10:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:24] [INFO] [Bullet] Starting wall penetration at (691.4833, 840.0129)
[20:10:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(584.01544, 828.79083), shooter_id=15072583747119, bullet_pos=(692.0565, 820.8379)
[20:10:24] [INFO] [Bullet] Using shooter_position, distance=108,33339
[20:10:24] [INFO] [Bullet] Distance to wall: 108,33339 (7,3766203% of viewport)
[20:10:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:24] [ENEMY] [Enemy3] Hit taken, health: 3/4
[20:10:24] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:10:24] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[20:10:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:10:24] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:10:24] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[20:10:24] [ENEMY] [Enemy2] Hit taken, health: 3/4
[20:10:24] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:10:24] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=false
[20:10:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:10:24] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:10:24] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[20:10:24] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[20:10:24] [ENEMY] [Enemy2] Hit taken, health: 2/4
[20:10:24] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:10:24] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=false
[20:10:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:10:24] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:10:24] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[20:10:24] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[20:10:24] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:10:24] [INFO] [Bullet] Exiting penetration at (737.77716, 834.1256) after traveling 41,66667 pixels through wall
[20:10:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:10:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(486.76248, 780.7964), shooter_id=15072583747119, bullet_pos=(926.7744, 818.99365)
[20:10:24] [INFO] [Bullet] Using shooter_position, distance=441,66678
[20:10:24] [INFO] [Bullet] Distance to wall: 441,66678 (30,073906% of viewport)
[20:10:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:24] [INFO] [Bullet] Starting wall penetration at (926.7744, 818.99365)
[20:10:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(613.764, 922.1987), shooter_id=15072583747119, bullet_pos=(760.40857, 890.6491)
[20:10:24] [INFO] [Bullet] Using shooter_position, distance=150,00005
[20:10:24] [INFO] [Bullet] Distance to wall: 150,00005 (10,2137785% of viewport)
[20:10:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:24] [ENEMY] [Enemy4] Hit taken, health: 2/3
[20:10:24] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:10:24] [INFO] [ImpactEffects] spawn_blood_effect called at (782.3868, 899.4956), dir=(1, 0), lethal=false
[20:10:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:10:24] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:10:24] [INFO] [ImpactEffects] Blood effect spawned at (782.3868, 899.4956) (scale=1)
[20:10:24] [ENEMY] [Enemy4] Hit taken, health: 1/3
[20:10:24] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:10:24] [INFO] [ImpactEffects] spawn_blood_effect called at (782.3868, 899.4956), dir=(1, 0), lethal=false
[20:10:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:10:24] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:10:24] [INFO] [ImpactEffects] Blood effect spawned at (782.3868, 899.4956) (scale=1)
[20:10:24] [ENEMY] [Enemy4] Hit taken, health: 0/3
[20:10:24] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[20:10:24] [INFO] [ImpactEffects] spawn_blood_effect called at (782.3868, 899.4956), dir=(1, 0), lethal=true
[20:10:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:10:24] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:10:24] [INFO] [ImpactEffects] Blood effect spawned at (782.3868, 899.4956) (scale=1.5)
[20:10:24] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[20:10:24] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:10:24] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[20:10:24] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:10:24] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[20:10:24] [ENEMY] [Enemy3] Hit taken, health: 2/4
[20:10:24] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:10:24] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[20:10:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:10:24] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:10:24] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[20:10:24] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:10:24] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[20:10:24] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[20:10:24] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[20:10:24] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[20:10:24] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[20:10:24] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[20:10:24] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[20:10:24] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[20:10:24] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[20:10:24] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:10:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,07304
[20:10:24] [ENEMY] [Enemy3] Hit taken, health: 1/4
[20:10:24] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:10:24] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[20:10:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:10:24] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:10:24] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[20:10:24] [ENEMY] [Enemy1] Hit taken, health: 3/4
[20:10:24] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[20:10:24] [INFO] [ImpactEffects] spawn_blood_effect called at (309.641, 390.7547), dir=(1, 0), lethal=false
[20:10:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:10:24] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:10:24] [INFO] [ImpactEffects] Blood effect spawned at (309.641, 390.7547) (scale=1)
[20:10:24] [ENEMY] [Enemy1] Hit taken, health: 2/4
[20:10:24] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[20:10:24] [INFO] [ImpactEffects] spawn_blood_effect called at (309.641, 390.7547), dir=(1, 0), lethal=false
[20:10:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:10:24] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:10:24] [INFO] [ImpactEffects] Blood effect spawned at (309.641, 390.7547) (scale=1)
[20:10:24] [INFO] [Bullet] Body exited signal received for penetrating body
[20:10:24] [INFO] [Bullet] Exiting penetration at (964.9641, 822.3089) after traveling 33,333332 pixels through wall
[20:10:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:10:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(641.47485, 919.93634), shooter_id=15072583747119, bullet_pos=(919.519, 865.44586)
[20:10:24] [INFO] [Bullet] Using shooter_position, distance=283,33328
[20:10:24] [INFO] [Bullet] Distance to wall: 283,33328 (19,292685% of viewport)
[20:10:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:24] [INFO] [Bullet] Starting wall penetration at (919.519, 865.44586)
[20:10:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(500.61472, 754.3279), shooter_id=15072583747119, bullet_pos=(921.62006, 820.8595)
[20:10:24] [INFO] [Bullet] Using shooter_position, distance=426,22992
[20:10:24] [INFO] [Bullet] Distance to wall: 426,22992 (29,02278% of viewport)
[20:10:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,538797
[20:10:24] [INFO] [Bullet] Body exited signal received for penetrating body
[20:10:24] [INFO] [Bullet] Exiting penetration at (957.1367, 858.0736) after traveling 33,333336 pixels through wall
[20:10:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:10:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(397.624, 654.1442), shooter_id=15072583747119, bullet_pos=(500.06732, 319.4721)
[20:10:24] [INFO] [Bullet] Using shooter_position, distance=350,0001
[20:10:24] [INFO] [Bullet] Distance to wall: 350,0001 (23,83215% of viewport)
[20:10:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(582.55304, 793.0176), shooter_id=15072583747119, bullet_pos=(932.27216, 779.00305)
[20:10:24] [INFO] [Bullet] Using shooter_position, distance=349,99982
[20:10:24] [INFO] [Bullet] Distance to wall: 349,99982 (23,832132% of viewport)
[20:10:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:24] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:10:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(124.97671, 313.55515), shooter_id=15072583747119, bullet_pos=(506.25845, 353.16284)
[20:10:24] [INFO] [Bullet] Using shooter_position, distance=383,33344
[20:10:24] [INFO] [Bullet] Distance to wall: 383,33344 (26,10188% of viewport)
[20:10:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:24] [INFO] [Bullet] Starting wall penetration at (506.25845, 353.16284)
[20:10:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(124.97671, 352.05515), shooter_id=15072583747119, bullet_pos=(508.30597, 350.3018)
[20:10:24] [INFO] [Bullet] Using shooter_position, distance=383,33325
[20:10:24] [INFO] [Bullet] Distance to wall: 383,33325 (26,101866% of viewport)
[20:10:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:24] [INFO] [Bullet] Starting wall penetration at (508.30597, 350.3018)
[20:10:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(436.124, 654.1442), shooter_id=15072583747119, bullet_pos=(501.01926, 276.3439)
[20:10:24] [INFO] [Bullet] Using shooter_position, distance=383,33337
[20:10:24] [INFO] [Bullet] Distance to wall: 383,33337 (26,101875% of viewport)
[20:10:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:24] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[20:10:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,639153
[20:10:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,496298
[20:10:24] [INFO] [Bullet] Body exited signal received for penetrating body
[20:10:24] [INFO] [Bullet] Exiting penetration at (544.3866, 357.12363) after traveling 33,333336 pixels through wall
[20:10:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:10:24] [INFO] [Bullet] Body exited signal received for penetrating body
[20:10:24] [INFO] [Bullet] Exiting penetration at (546.6389, 350.12646) after traveling 33,333332 pixels through wall
[20:10:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:10:24] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[20:10:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(436.124, 654.1442), shooter_id=15072583747119, bullet_pos=(440.08398, 52.834774)
[20:10:24] [INFO] [Bullet] Using shooter_position, distance=601,3225
[20:10:24] [INFO] [Bullet] Distance to wall: 601,3225 (40,945156% of viewport)
[20:10:24] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:10:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(397.624, 654.1442), shooter_id=15072583747119, bullet_pos=(405.71976, 47.01178)
[20:10:24] [INFO] [Bullet] Using shooter_position, distance=607,1864
[20:10:24] [INFO] [Bullet] Distance to wall: 607,1864 (41,34444% of viewport)
[20:10:24] [INFO] [Bullet] Distance-based penetration chance: 98,43149%
[20:10:24] [INFO] [Bullet] Starting wall penetration at (405.71976, 47.01178)
[20:10:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(632.3298, 758.2605), shooter_id=15069765175269, bullet_pos=(41.73048, 767.8549)
[20:10:24] [INFO] [Bullet] Using shooter_position, distance=590.67724609375
[20:10:24] [INFO] [Bullet] Distance to wall: 590.67724609375 (40.2202998462039% of viewport)
[20:10:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,446978
[20:10:24] [INFO] [Bullet] Body exited signal received for penetrating body
[20:10:24] [INFO] [Bullet] Exiting penetration at (394.81253, 15.5134735) after traveling 28,333332 pixels through wall
[20:10:24] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[20:10:24] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:10:24] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[20:10:24] [ENEMY] [Enemy1] Pursuing vulnerability sound at (302.6771, 209.9338), distance=181
[20:10:24] [ENEMY] [Enemy2] Pursuing vulnerability sound at (302.6771, 209.9338), distance=354
[20:10:24] [ENEMY] [Enemy4] Ragdoll activated
[20:10:24] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:10:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(299.477, 215.9338), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:10:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=2
[20:10:25] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[20:10:25] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[20:10:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(299.47702, 215.93379), shooter_id=15072583747119, bullet_pos=(522.47235, 245.90123)
[20:10:25] [INFO] [Bullet] Using shooter_position, distance=224,99992
[20:10:25] [INFO] [Bullet] Distance to wall: 224,99992 (15,320659% of viewport)
[20:10:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(283.2636, 215.9338), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:10:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=2
[20:10:25] [INFO] [LastChance] Threat detected: Bullet
[20:10:25] [INFO] [LastChance] Effect already used this life
[20:10:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:10:25] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[20:10:25] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[20:10:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(283.26364, 215.93379), shooter_id=15072583747119, bullet_pos=(507.96893, 227.44656)
[20:10:25] [INFO] [Bullet] Using shooter_position, distance=225,00003
[20:10:25] [INFO] [Bullet] Distance to wall: 225,00003 (15,320666% of viewport)
[20:10:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(257.877, 215.9338), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:10:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=2
[20:10:25] [INFO] [LastChance] Threat detected: @Area2D@12085
[20:10:25] [INFO] [LastChance] Effect already used this life
[20:10:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:10:25] [ENEMY] [Enemy1] Hit taken, health: 1/4
[20:10:25] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[20:10:25] [INFO] [ImpactEffects] spawn_blood_effect called at (379.0747, 259.1461), dir=(1, 0), lethal=false
[20:10:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:10:25] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:10:25] [INFO] [ImpactEffects] Blood effect spawned at (379.0747, 259.1461) (scale=1)
[20:10:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(257.87695, 215.93379), shooter_id=15072583747119, bullet_pos=(515.9739, 226.98325)
[20:10:25] [INFO] [Bullet] Using shooter_position, distance=258,33334
[20:10:25] [INFO] [Bullet] Distance to wall: 258,33334 (17,590393% of viewport)
[20:10:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:25] [INFO] [Bullet] Starting wall penetration at (515.9739, 226.98325)
[20:10:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(222.677, 215.9338), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:10:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=1
[20:10:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,299885
[20:10:25] [INFO] [Bullet] Body exited signal received for penetrating body
[20:10:25] [INFO] [Bullet] Exiting penetration at (554.27216, 228.62285) after traveling 33,333336 pixels through wall
[20:10:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:10:25] [ENEMY] [Enemy2] Pursuing vulnerability sound at (288.597, 209.9338), distance=126
[20:10:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(192.448, 216.09), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:10:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=1
[20:10:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(222.677, 215.93379), shooter_id=15072583747119, bullet_pos=(514.1128, 227.53499)
[20:10:25] [INFO] [Bullet] Using shooter_position, distance=291,6666
[20:10:25] [INFO] [Bullet] Distance to wall: 291,6666 (19,860115% of viewport)
[20:10:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:25] [INFO] [Bullet] Starting wall penetration at (514.1128, 227.53499)
[20:10:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,438276
[20:10:25] [INFO] [Bullet] Body exited signal received for penetrating body
[20:10:25] [INFO] [Bullet] Exiting penetration at (552.4158, 229.05972) after traveling 33,333332 pixels through wall
[20:10:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:10:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(192.44795, 216.09004), shooter_id=15072583747119, bullet_pos=(517.224, 228.15332)
[20:10:25] [INFO] [Bullet] Using shooter_position, distance=325,00003
[20:10:25] [INFO] [Bullet] Distance to wall: 325,00003 (22,12985% of viewport)
[20:10:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:25] [INFO] [Bullet] Starting wall penetration at (517.224, 228.15332)
[20:10:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,552689
[20:10:25] [INFO] [Bullet] Body exited signal received for penetrating body
[20:10:25] [INFO] [Bullet] Exiting penetration at (555.53094, 229.57617) after traveling 33,333332 pixels through wall
[20:10:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:10:25] [ENEMY] [Enemy4] Death animation completed
[20:10:26] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[20:10:26] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[20:10:26] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[20:10:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(166.0035, 218.2234), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:10:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=1
[20:10:26] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:10:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(163.1645, 231.0064), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:10:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=1
[20:10:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(163.16446, 231.00642), shooter_id=15072583747119, bullet_pos=(221.43948, 228.399)
[20:10:26] [INFO] [Bullet] Using shooter_position, distance=58,33333
[20:10:26] [INFO] [Bullet] Distance to wall: 58,33333 (3,9720237% of viewport)
[20:10:26] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:10:26] [INFO] [Bullet] Starting wall penetration at (221.43948, 228.399)
[20:10:26] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:10:26] [INFO] [Bullet] Exiting penetration at (259.7345, 226.68555) after traveling 33,33334 pixels through wall
[20:10:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:10:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(166.00351, 218.22337), shooter_id=15072583747119, bullet_pos=(524.252, 210.42578)
[20:10:26] [INFO] [Bullet] Using shooter_position, distance=358,33337
[20:10:26] [INFO] [Bullet] Distance to wall: 358,33337 (24,399578% of viewport)
[20:10:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:26] [INFO] [Bullet] Starting wall penetration at (524.252, 210.42578)
[20:10:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,58543
[20:10:26] [INFO] [Bullet] Body exited signal received for penetrating body
[20:10:26] [INFO] [Bullet] Exiting penetration at (562.5763, 209.59161) after traveling 33,333336 pixels through wall
[20:10:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:10:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(148.7798, 250.4334), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:10:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=1
[20:10:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(148.77985, 250.43344), shooter_id=15072583747119, bullet_pos=(240.17258, 243.35191)
[20:10:26] [INFO] [Bullet] Using shooter_position, distance=91,66667
[20:10:26] [INFO] [Bullet] Distance to wall: 91,66667 (6,2417526% of viewport)
[20:10:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:26] [INFO] [Bullet] Starting wall penetration at (240.17258, 243.35191)
[20:10:26] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:10:26] [INFO] [Bullet] Exiting penetration at (278.39136, 240.39055) after traveling 33,333336 pixels through wall
[20:10:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:10:26] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[20:10:27] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[20:10:27] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[20:10:27] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[20:10:27] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[20:10:27] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:10:27] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[20:10:27] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[20:10:27] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:10:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=8
[20:10:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=6
[20:10:27] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:10:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=8
[20:10:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=6
[20:10:27] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[20:10:27] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[20:10:27] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[20:10:27] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:10:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=8
[20:10:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=6
[20:10:27] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[20:10:27] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[20:10:27] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[20:10:27] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[20:10:27] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:10:27] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:10:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=8
[20:10:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=6
[20:10:27] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[20:10:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=8
[20:10:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=6
[20:10:27] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[20:10:27] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[20:10:27] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[20:10:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=8
[20:10:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=6
[20:10:27] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[20:10:27] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[20:10:27] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:10:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=8
[20:10:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=6
[20:10:27] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:10:27] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[20:10:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(637.2289, 724.2734), shooter_id=15069765175269, bullet_pos=(47.07466, 494.4272)
[20:10:27] [INFO] [Bullet] Using shooter_position, distance=633.33349609375
[20:10:27] [INFO] [Bullet] Distance to wall: 633.33349609375 (43.1248423466312% of viewport)
[20:10:27] [INFO] [LastChance] Threat detected: @Area2D@12107
[20:10:27] [INFO] [LastChance] Effect already used this life
[20:10:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:10:27] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[20:10:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(636.761, 724.8716), shooter_id=15069765175269, bullet_pos=(49.51495, 409.2981)
[20:10:27] [INFO] [Bullet] Using shooter_position, distance=666.666809082031
[20:10:27] [INFO] [Bullet] Distance to wall: 666.666809082031 (45.394568922561% of viewport)
[20:10:27] [INFO] [Bullet] Distance-based penetration chance: 93.7063362570122%
[20:10:27] [INFO] [Bullet] Starting wall penetration at (49.51495, 409.2981)
[20:10:27] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[20:10:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18.4496154785156
[20:10:27] [INFO] [Bullet] Body exited signal received for penetrating body
[20:10:27] [INFO] [Bullet] Exiting penetration at (15.7483, 391.1527) after traveling 33.3333358764648 pixels through wall
[20:10:27] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:10:27] [INFO] [LastChance] Threat detected: @Area2D@12108
[20:10:27] [INFO] [LastChance] Effect already used this life
[20:10:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:10:27] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[20:10:27] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[20:10:27] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[20:10:27] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:10:27] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:10:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(676.8848, 761.0024), source=ENEMY (Enemy3), range=1469, listeners=8
[20:10:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=6
[20:10:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(636.3727, 726.3636), shooter_id=15069765175269, bullet_pos=(42.4172, 423.6074)
[20:10:27] [INFO] [Bullet] Using shooter_position, distance=666.666687011719
[20:10:27] [INFO] [Bullet] Distance to wall: 666.666687011719 (45.3945606105689% of viewport)
[20:10:27] [INFO] [Bullet] Distance-based penetration chance: 93.7063459543362%
[20:10:27] [INFO] [Bullet] Starting wall penetration at (42.4172, 423.6074)
[20:10:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26.6408672332764
[20:10:27] [INFO] [Bullet] Body exited signal received for penetrating body
[20:10:27] [INFO] [Bullet] Exiting penetration at (8.264755, 406.199) after traveling 33.3333320617676 pixels through wall
[20:10:27] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:10:27] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[20:10:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(635.7608, 727.5516), shooter_id=15069765175269, bullet_pos=(65.77016, 451.4683)
[20:10:27] [INFO] [Bullet] Using shooter_position, distance=633.33349609375
[20:10:27] [INFO] [Bullet] Distance to wall: 633.33349609375 (43.1248423466312% of viewport)
[20:10:27] [INFO] [Bullet] Distance-based penetration chance: 96.354350595597%
[20:10:27] [INFO] [Bullet] Starting wall penetration at (65.77016, 451.4683)
[20:10:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 0.81030941009521
[20:10:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(635.3099, 729.3464), shooter_id=15069765175269, bullet_pos=(298.0391, 457.2692)
[20:10:27] [INFO] [Bullet] Using shooter_position, distance=433.333129882813
[20:10:27] [INFO] [Bullet] Distance to wall: 433.333129882813 (29.5064496430839% of viewport)
[20:10:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:27] [INFO] [LastChance] Threat detected: @Area2D@12112
[20:10:27] [INFO] [LastChance] Effect already used this life
[20:10:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:10:27] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[20:10:27] [INFO] [Bullet] Max penetration distance exceeded: 66.6666717529297 >= 48
[20:10:27] [INFO] [Bullet] Body exited signal received for penetrating body
[20:10:27] [INFO] [Bullet] Exiting penetration at (1.271236, 420.2273) after traveling 66.6666717529297 pixels through wall
[20:10:27] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:10:27] [INFO] [LastChance] Threat detected: @Area2D@12111
[20:10:27] [INFO] [LastChance] Effect already used this life
[20:10:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:10:27] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[20:10:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(635.6296, 728.1393), shooter_id=15069765175269, bullet_pos=(53.29504, 403.5922)
[20:10:27] [INFO] [Bullet] Using shooter_position, distance=666.666564941406
[20:10:27] [INFO] [Bullet] Distance to wall: 666.666564941406 (45.3945522985769% of viewport)
[20:10:27] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[20:10:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[20:10:27] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[20:10:27] [INFO] [PenultimateHit] Player died - ending penultimate effect
[20:10:27] [INFO] [LastChance] Player died
[20:10:27] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[20:10:28] [INFO] [LastChance] Threat detected: @Area2D@12116
[20:10:28] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:10:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:10:28] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[20:10:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(635.6296, 728.1393), shooter_id=15069765175269, bullet_pos=(341.1906, 271.7062)
[20:10:28] [INFO] [Bullet] Using shooter_position, distance=543.162475585938
[20:10:28] [INFO] [Bullet] Distance to wall: 543.162475585938 (36.9849317503682% of viewport)
[20:10:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(635.6296, 728.1393), shooter_id=15069765175269, bullet_pos=(512.8954, 369.6322)
[20:10:28] [INFO] [Bullet] Using shooter_position, distance=378.933990478516
[20:10:28] [INFO] [Bullet] Distance to wall: 378.933990478516 (25.8023122098485% of viewport)
[20:10:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:28] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:10:28] [INFO] [LastChance] Threat detected: @Area2D@12110
[20:10:28] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[20:10:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:10:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(635.6296, 728.1393), shooter_id=15069765175269, bullet_pos=(331.885, 475.523)
[20:10:28] [INFO] [Bullet] Using shooter_position, distance=395.064178466797
[20:10:28] [INFO] [Bullet] Distance to wall: 395.064178466797 (26.9006463707709% of viewport)
[20:10:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:28] [INFO] [Bullet] Starting wall penetration at (331.885, 475.523)
[20:10:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28.4871006011963
[20:10:28] [INFO] [Bullet] Body exited signal received for penetrating body
[20:10:28] [INFO] [Bullet] Exiting penetration at (309.8998, 488.3844) after traveling 20.470832824707 pixels through wall
[20:10:28] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[20:10:28] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:10:28] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[20:10:28] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:10:28] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:10:28] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:10:28] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:10:28] [ENEMY] [Enemy1] Death animation component initialized
[20:10:28] [ENEMY] [Enemy2] Death animation component initialized
[20:10:28] [ENEMY] [Enemy3] Death animation component initialized
[20:10:28] [ENEMY] [Enemy4] Death animation component initialized
[20:10:28] [ENEMY] [Enemy5] Death animation component initialized
[20:10:28] [ENEMY] [Enemy6] Death animation component initialized
[20:10:28] [ENEMY] [Enemy7] Death animation component initialized
[20:10:28] [ENEMY] [Enemy8] Death animation component initialized
[20:10:28] [ENEMY] [Enemy9] Death animation component initialized
[20:10:28] [ENEMY] [Enemy10] Death animation component initialized
[20:10:28] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:10:28] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:10:28] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:10:28] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:10:28] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:10:28] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:10:28] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:10:28] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[20:10:28] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:10:28] [INFO] [ScoreManager] Level started with 10 enemies
[20:10:28] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[20:10:28] [ENEMY] [Enemy1] Registered as sound listener
[20:10:28] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[20:10:28] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[20:10:28] [ENEMY] [Enemy2] Registered as sound listener
[20:10:28] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[20:10:28] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[20:10:28] [ENEMY] [Enemy3] Registered as sound listener
[20:10:28] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[20:10:28] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[20:10:28] [ENEMY] [Enemy4] Registered as sound listener
[20:10:28] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[20:10:28] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[20:10:28] [ENEMY] [Enemy5] Registered as sound listener
[20:10:28] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[20:10:28] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[20:10:28] [ENEMY] [Enemy6] Registered as sound listener
[20:10:28] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[20:10:28] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[20:10:28] [ENEMY] [Enemy7] Registered as sound listener
[20:10:28] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[20:10:28] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[20:10:28] [ENEMY] [Enemy8] Registered as sound listener
[20:10:28] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[20:10:28] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[20:10:28] [ENEMY] [Enemy9] Registered as sound listener
[20:10:28] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[20:10:28] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[20:10:28] [ENEMY] [Enemy10] Registered as sound listener
[20:10:28] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[20:10:28] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:10:28] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:10:28] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:10:28] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:10:28] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:10:28] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:10:28] [INFO] [LastChance] Found player: Player
[20:10:28] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:10:28] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:10:28] [INFO] [LastChance] Connected to player Died signal (C#)
[20:10:35] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:10:36] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:10:36] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[20:10:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(466.9378, 766.2937), source=PLAYER (AssaultRifle), range=1469, listeners=18
[20:10:36] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[20:10:36] [ENEMY] [Enemy1] Heard gunshot at (466.9378, 766.2937), source_type=0, intensity=0.01, distance=449
[20:10:36] [ENEMY] [Enemy2] Heard gunshot at (466.9378, 766.2937), source_type=0, intensity=0.05, distance=226
[20:10:36] [ENEMY] [Enemy4] Heard gunshot at (466.9378, 766.2937), source_type=0, intensity=0.02, distance=359
[20:10:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:10:36] [ENEMY] [Enemy3] Hit taken, health: 3/4
[20:10:36] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:10:36] [INFO] [ImpactEffects] spawn_blood_effect called at (684.5236, 754.0565), dir=(1, 0), lethal=false
[20:10:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:10:36] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:10:36] [INFO] [ImpactEffects] Blood effect spawned at (684.5236, 754.0565) (scale=1)
[20:10:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(492.6885, 739.56), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:10:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:10:36] [ENEMY] [Enemy3] Hit taken, health: 2/4
[20:10:36] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:10:36] [INFO] [ImpactEffects] spawn_blood_effect called at (684.5236, 754.0565), dir=(1, 0), lethal=false
[20:10:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:10:36] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:10:36] [INFO] [ImpactEffects] Blood effect spawned at (684.5236, 754.0565) (scale=1)
[20:10:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(517.5787, 730.8652), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:10:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[20:10:36] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:10:36] [ENEMY] [Enemy3] Hit taken, health: 1/4
[20:10:36] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:10:36] [INFO] [ImpactEffects] spawn_blood_effect called at (685.5744, 755.913), dir=(1, 0), lethal=false
[20:10:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:10:36] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:10:36] [INFO] [ImpactEffects] Blood effect spawned at (685.5744, 755.913) (scale=1)
[20:10:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(688.7269, 761.4827), source=ENEMY (Enemy3), range=1469, listeners=10
[20:10:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:10:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(542.4688, 714.6519), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:10:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[20:10:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(542.4688, 714.65186), shooter_id=16861857056202, bullet_pos=(706.7688, 813.3515)
[20:10:37] [INFO] [Bullet] Using shooter_position, distance=191,66666
[20:10:37] [INFO] [Bullet] Distance to wall: 191,66666 (13,050936% of viewport)
[20:10:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(567.3589, 689.8863), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:10:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[20:10:37] [ENEMY] [Enemy3] Hit taken, health: 0/4
[20:10:37] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:10:37] [INFO] [ImpactEffects] spawn_blood_effect called at (702.3879, 785.6181), dir=(1, 0), lethal=true
[20:10:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:10:37] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:10:37] [INFO] [ImpactEffects] Blood effect spawned at (702.3879, 785.6181) (scale=1.5)
[20:10:37] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[20:10:37] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:10:37] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[20:10:37] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:10:37] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[20:10:37] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:10:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[20:10:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[20:10:37] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[20:10:37] [INFO] [LastChance] Threat detected: @Area2D@12389
[20:10:37] [INFO] [LastChance] Not in hard mode - effect disabled
[20:10:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:10:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(542.4688, 714.65186), shooter_id=16861857056202, bullet_pos=(928.26605, 628.757)
[20:10:37] [INFO] [Bullet] Using shooter_position, distance=395,24353
[20:10:37] [INFO] [Bullet] Distance to wall: 395,24353 (26,912859% of viewport)
[20:10:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(622.152, 747.3981), shooter_id=16859038484959, bullet_pos=(123.2046, 714.971)
[20:10:37] [INFO] [Bullet] Using shooter_position, distance=500.000030517578
[20:10:37] [INFO] [Bullet] Distance to wall: 500.000030517578 (34.0459214969257% of viewport)
[20:10:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:37] [INFO] [Bullet] Starting wall penetration at (123.2046, 714.971)
[20:10:37] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:10:37] [INFO] [Bullet] Exiting penetration at (84.95197, 712.4849) after traveling 33.3333320617676 pixels through wall
[20:10:37] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:10:37] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[20:10:37] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:10:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[20:10:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[20:10:37] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:10:37] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[20:10:37] [INFO] [LastChance] Threat detected: Bullet
[20:10:37] [INFO] [LastChance] Not in hard mode - effect disabled
[20:10:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:10:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(452.6528, 593.3497), shooter_id=16858753271930, bullet_pos=(928.4411, 901.1426)
[20:10:37] [INFO] [Bullet] Using shooter_position, distance=566.666625976563
[20:10:37] [INFO] [Bullet] Distance to wall: 566.666625976563 (38.5853725707874% of viewport)
[20:10:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:37] [INFO] [Bullet] Starting wall penetration at (928.4411, 901.1426)
[20:10:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.3306198120117
[20:10:37] [INFO] [Bullet] Body exited signal received for penetrating body
[20:10:37] [INFO] [Bullet] Exiting penetration at (960.6268, 921.9639) after traveling 33.3333358764648 pixels through wall
[20:10:37] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:10:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(542.4688, 714.65186), shooter_id=16861857056202, bullet_pos=(520.7923, 362.65643)
[20:10:37] [INFO] [Bullet] Using shooter_position, distance=352,66223
[20:10:37] [INFO] [Bullet] Distance to wall: 352,66223 (24,01342% of viewport)
[20:10:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(458.585, 584.8936), shooter_id=16858753271930, bullet_pos=(914.6055, 789.9434)
[20:10:37] [INFO] [Bullet] Using shooter_position, distance=500.000091552734
[20:10:37] [INFO] [Bullet] Distance to wall: 500.000091552734 (34.0459256529217% of viewport)
[20:10:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:37] [INFO] [Bullet] Starting wall penetration at (914.6055, 789.9434)
[20:10:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14.8755254745483
[20:10:37] [INFO] [Bullet] Body exited signal received for penetrating body
[20:10:37] [INFO] [Bullet] Exiting penetration at (949.5671, 805.6638) after traveling 33.3333320617676 pixels through wall
[20:10:37] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[20:10:37] [ENEMY] [Enemy3] Ragdoll activated
[20:10:37] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:10:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(542.4688, 714.65186), shooter_id=16861857056202, bullet_pos=(884.2589, 55.56395)
[20:10:37] [INFO] [Bullet] Using shooter_position, distance=742,4401
[20:10:37] [INFO] [Bullet] Distance to wall: 742,4401 (50,554115% of viewport)
[20:10:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(542.4688, 714.65186), shooter_id=16861857056202, bullet_pos=(1078.9095, 210.20732)
[20:10:38] [INFO] [Bullet] Using shooter_position, distance=736,3647
[20:10:38] [INFO] [Bullet] Distance to wall: 736,3647 (50,140427% of viewport)
[20:10:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(542.4688, 714.65186), shooter_id=16861857056202, bullet_pos=(1025.4023, 245.61314)
[20:10:38] [INFO] [Bullet] Using shooter_position, distance=673,2177
[20:10:38] [INFO] [Bullet] Distance to wall: 673,2177 (45,840633% of viewport)
[20:10:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(542.4688, 714.65186), shooter_id=16861857056202, bullet_pos=(1075.0835, 291.83575)
[20:10:38] [INFO] [Bullet] Using shooter_position, distance=680,03815
[20:10:38] [INFO] [Bullet] Distance to wall: 680,03815 (46,30505% of viewport)
[20:10:38] [INFO] [Bullet] Distance-based penetration chance: 92,64411%
[20:10:38] [INFO] [Bullet] Starting wall penetration at (1075.0835, 291.83575)
[20:10:38] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8,522063
[20:10:38] [INFO] [Bullet] Body exited signal received for penetrating body
[20:10:38] [INFO] [Bullet] Exiting penetration at (1087.9482, 303.80493) after traveling 12,571652 pixels through wall
[20:10:38] [INFO] [Bullet] Damage multiplier after penetration: 0,0140625
[20:10:39] [ENEMY] [Enemy3] Death animation completed
[20:10:40] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[20:10:40] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[20:10:40] [ENEMY] [Enemy10] FLANKING started: target=(907.606, 173.1219), side=left, pos=(955.0286, 1429.108)
[20:10:40] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[20:10:40] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[20:10:40] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[20:10:40] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[20:10:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(376.8817, 314.6914), source=ENEMY (Enemy1), range=1469, listeners=9
[20:10:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[20:10:41] [INFO] [LastChance] Threat detected: Bullet
[20:10:41] [INFO] [LastChance] Not in hard mode - effect disabled
[20:10:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:10:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:10:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:10:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:10:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:10:41] [ENEMY] [Enemy1] Death animation component initialized
[20:10:41] [ENEMY] [Enemy2] Death animation component initialized
[20:10:41] [ENEMY] [Enemy3] Death animation component initialized
[20:10:41] [ENEMY] [Enemy4] Death animation component initialized
[20:10:41] [ENEMY] [Enemy5] Death animation component initialized
[20:10:41] [ENEMY] [Enemy6] Death animation component initialized
[20:10:41] [ENEMY] [Enemy7] Death animation component initialized
[20:10:41] [ENEMY] [Enemy8] Death animation component initialized
[20:10:41] [ENEMY] [Enemy9] Death animation component initialized
[20:10:41] [ENEMY] [Enemy10] Death animation component initialized
[20:10:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:10:41] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:10:41] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:10:41] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:10:41] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:10:41] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:10:41] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:10:41] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[20:10:41] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:10:41] [INFO] [ScoreManager] Level started with 10 enemies
[20:10:41] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[20:10:41] [ENEMY] [Enemy1] Registered as sound listener
[20:10:41] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[20:10:41] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[20:10:41] [ENEMY] [Enemy2] Registered as sound listener
[20:10:41] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[20:10:41] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[20:10:41] [ENEMY] [Enemy3] Registered as sound listener
[20:10:41] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[20:10:41] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[20:10:41] [ENEMY] [Enemy4] Registered as sound listener
[20:10:41] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[20:10:41] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[20:10:41] [ENEMY] [Enemy5] Registered as sound listener
[20:10:41] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[20:10:41] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[20:10:41] [ENEMY] [Enemy6] Registered as sound listener
[20:10:41] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[20:10:41] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[20:10:41] [ENEMY] [Enemy7] Registered as sound listener
[20:10:41] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[20:10:41] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[20:10:41] [ENEMY] [Enemy8] Registered as sound listener
[20:10:41] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[20:10:41] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[20:10:41] [ENEMY] [Enemy9] Registered as sound listener
[20:10:41] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[20:10:41] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[20:10:41] [ENEMY] [Enemy10] Registered as sound listener
[20:10:41] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[20:10:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:10:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:10:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:10:41] [INFO] [LastChance] Found player: Player
[20:10:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:10:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:10:41] [INFO] [LastChance] Connected to player Died signal (C#)
[20:10:41] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:10:41] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:10:41] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:10:41] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:10:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=19
[20:10:42] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[20:10:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[20:10:42] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:10:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=17444009676673, bullet_pos=(41.69983, 702.3934)
[20:10:42] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[20:10:42] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[20:10:42] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[20:10:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=17444009676673, bullet_pos=(304.3835, 457.4485)
[20:10:43] [INFO] [Bullet] Using shooter_position, distance=1199.78784179688
[20:10:43] [INFO] [Bullet] Distance to wall: 1199.78784179688 (81.6957603632512% of viewport)
[20:10:43] [ENEMY] [Enemy2] Hit taken, health: 1/2
[20:10:43] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[20:10:43] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(0.734427, 0.678688), lethal=false
[20:10:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:10:43] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:10:43] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[20:10:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(466.9378, 766.6826), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:10:43] [ENEMY] [Enemy1] Heard gunshot at (466.9378, 766.6826), source_type=0, intensity=0.01, distance=449
[20:10:43] [ENEMY] [Enemy2] Heard gunshot at (466.9378, 766.6826), source_type=0, intensity=0.05, distance=227
[20:10:43] [ENEMY] [Enemy4] Heard gunshot at (466.9378, 766.6826), source_type=0, intensity=0.02, distance=359
[20:10:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:10:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(493.4664, 739.1711), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:10:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:10:43] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[20:10:43] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[20:10:43] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:10:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(516.8009, 730.7336), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:10:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[20:10:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(493.46637, 739.1711), shooter_id=17444831758578, bullet_pos=(759.6908, 808.0888)
[20:10:43] [INFO] [Bullet] Using shooter_position, distance=275,00018
[20:10:43] [INFO] [Bullet] Distance to wall: 275,00018 (18,72527% of viewport)
[20:10:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:43] [INFO] [Bullet] Starting wall penetration at (759.6908, 808.0888)
[20:10:43] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:10:43] [INFO] [Bullet] Exiting penetration at (804.8683, 819.78394) after traveling 41,666664 pixels through wall
[20:10:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:10:43] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:10:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[20:10:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[20:10:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(516.8009, 730.7336), shooter_id=17444831758578, bullet_pos=(737.41565, 806.7181)
[20:10:43] [INFO] [Bullet] Using shooter_position, distance=233,33348
[20:10:43] [INFO] [Bullet] Distance to wall: 233,33348 (15,888107% of viewport)
[20:10:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:43] [INFO] [LastChance] Threat detected: Bullet
[20:10:43] [INFO] [LastChance] Not in hard mode - effect disabled
[20:10:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:10:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(544.0246, 712.0669), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:10:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[20:10:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(466.93777, 766.6826), shooter_id=17444831758578, bullet_pos=(1365.4912, 817.6939)
[20:10:43] [INFO] [Bullet] Using shooter_position, distance=900,00024
[20:10:43] [INFO] [Bullet] Distance to wall: 900,00024 (61,28267% of viewport)
[20:10:43] [INFO] [Bullet] Distance-based penetration chance: 75,17022%
[20:10:43] [INFO] [Bullet] Starting wall penetration at (1365.4912, 817.6939)
[20:10:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[20:10:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[20:10:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24,121662
[20:10:43] [INFO] [LastChance] Threat detected: @Area2D@12687
[20:10:43] [INFO] [LastChance] Not in hard mode - effect disabled
[20:10:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:10:43] [INFO] [Bullet] Body exited signal received for penetrating body
[20:10:43] [INFO] [Bullet] Exiting penetration at (1412.0829, 820.3389) after traveling 41,66667 pixels through wall
[20:10:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:10:43] [ENEMY] [Enemy3] Hit taken, health: 3/4
[20:10:43] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:10:43] [INFO] [ImpactEffects] spawn_blood_effect called at (697.169, 776.5869), dir=(1, 0), lethal=false
[20:10:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:10:43] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:10:43] [INFO] [ImpactEffects] Blood effect spawned at (697.169, 776.5869) (scale=1)
[20:10:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[20:10:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[20:10:43] [INFO] [LastChance] Threat detected: @Area2D@12689
[20:10:43] [INFO] [LastChance] Not in hard mode - effect disabled
[20:10:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:10:43] [ENEMY] [Enemy3] Hit taken, health: 2/4
[20:10:43] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:10:43] [INFO] [ImpactEffects] spawn_blood_effect called at (701.8938, 785.066), dir=(0.781923, 0.623375), lethal=false
[20:10:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:10:43] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:10:43] [INFO] [ImpactEffects] Wall found for blood splatter at (733.1694, 810) (dist=39 px)
[20:10:43] [INFO] [ImpactEffects] Blood effect spawned at (701.8938, 785.066) (scale=1)
[20:10:43] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[20:10:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(568.9148, 687.1767), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:10:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[20:10:43] [ENEMY] [Enemy3] Hit taken, health: 1/4
[20:10:43] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:10:43] [INFO] [ImpactEffects] spawn_blood_effect called at (712.2054, 774.2646), dir=(1, 0), lethal=false
[20:10:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:10:43] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[20:10:43] [INFO] [ImpactEffects] Blood effect spawned at (712.2054, 774.2646) (scale=1)
[20:10:43] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:10:43] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[20:10:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(593.8049, 662.2866), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:10:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[20:10:43] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[20:10:43] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:10:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(447.2225, 600.0413), shooter_id=17441727974512, bullet_pos=(695.606, 869.7635)
[20:10:43] [INFO] [Bullet] Using shooter_position, distance=366.666625976563
[20:10:43] [INFO] [Bullet] Distance to wall: 366.666625976563 (24.9670048032163% of viewport)
[20:10:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(593.80493, 662.28656), shooter_id=17444831758578, bullet_pos=(702.8872, 819.88446)
[20:10:43] [INFO] [Bullet] Using shooter_position, distance=191,66647
[20:10:43] [INFO] [Bullet] Distance to wall: 191,66647 (13,050922% of viewport)
[20:10:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:43] [ENEMY] [Enemy3] Hit taken, health: 0/4
[20:10:43] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[20:10:43] [INFO] [ImpactEffects] spawn_blood_effect called at (727.8254, 781.9576), dir=(1, 0), lethal=true
[20:10:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:10:43] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[20:10:43] [INFO] [ImpactEffects] Blood effect spawned at (727.8254, 781.9576) (scale=1.5)
[20:10:43] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[20:10:43] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:10:43] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[20:10:43] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:10:43] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[20:10:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(618.498, 637.3148), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:10:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[20:10:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(447.2225, 600.0413), shooter_id=17441727974512, bullet_pos=(598.1403, 1015.11)
[20:10:43] [INFO] [Bullet] Using shooter_position, distance=441.653625488281
[20:10:43] [INFO] [Bullet] Distance to wall: 441.653625488281 (30.0730074889026% of viewport)
[20:10:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(447.2225, 600.0413), shooter_id=17441727974512, bullet_pos=(520.0424, 916.9767)
[20:10:43] [INFO] [Bullet] Using shooter_position, distance=325.193542480469
[20:10:43] [INFO] [Bullet] Distance to wall: 325.193542480469 (22.1430262856914% of viewport)
[20:10:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:43] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[20:10:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(634.7159, 608.8325), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:10:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[20:10:43] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:10:43] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:10:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(634.71594, 608.8325), shooter_id=17444831758578, bullet_pos=(579.3058, 996.5596)
[20:10:44] [INFO] [Bullet] Using shooter_position, distance=391,66638
[20:10:44] [INFO] [Bullet] Distance to wall: 391,66638 (26,669285% of viewport)
[20:10:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:44] [INFO] [Bullet] Starting wall penetration at (579.3058, 996.5596)
[20:10:44] [ENEMY] [Enemy10] FLANKING started: target=(837.3818, 578.0961), side=left, pos=(1022.668, 1432.257)
[20:10:44] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[20:10:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,614077
[20:10:44] [INFO] [Bullet] Body exited signal received for penetrating body
[20:10:44] [INFO] [Bullet] Exiting penetration at (573.8827, 1034.5073) after traveling 33,333332 pixels through wall
[20:10:44] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:10:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(618.498, 637.31476), shooter_id=17444831758578, bullet_pos=(612.8743, 1395.6268)
[20:10:44] [INFO] [Bullet] Using shooter_position, distance=758,33295
[20:10:44] [INFO] [Bullet] Distance to wall: 758,33295 (51,636284% of viewport)
[20:10:44] [INFO] [Bullet] Distance-based penetration chance: 86,42434%
[20:10:44] [INFO] [Bullet] Penetration failed (distance roll)
[20:10:44] [ENEMY] [Enemy3] Ragdoll activated
[20:10:44] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:10:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(447.2225, 600.0413), shooter_id=17441727974512, bullet_pos=(976.2003, 280.7062)
[20:10:44] [INFO] [Bullet] Using shooter_position, distance=617.893493652344
[20:10:44] [INFO] [Bullet] Distance to wall: 617.893493652344 (42.0735041887348% of viewport)
[20:10:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(447.2225, 600.0413), shooter_id=17441727974512, bullet_pos=(790.7198, 66.42976)
[20:10:44] [INFO] [Bullet] Using shooter_position, distance=634.611450195313
[20:10:44] [INFO] [Bullet] Distance to wall: 634.611450195313 (43.2118605913569% of viewport)
[20:10:45] [INFO] [LastChance] Threat detected: @Area2D@12689
[20:10:45] [INFO] [LastChance] Not in hard mode - effect disabled
[20:10:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:10:45] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:10:45] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:10:45] [ENEMY] [Enemy3] Death animation completed
[20:10:46] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[20:10:46] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[20:10:46] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[20:10:46] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[20:10:47] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[20:10:47] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[20:10:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(544.7567, 612.1885), source=ENEMY (Enemy10), range=1469, listeners=9
[20:10:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=3
[20:10:48] [ENEMY] [Enemy4] FLANKING started: target=(731.0751, 247.53), side=left, pos=(722.08, 914.0673)
[20:10:48] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[20:10:48] [INFO] [LastChance] Threat detected: Bullet
[20:10:48] [INFO] [LastChance] Not in hard mode - effect disabled
[20:10:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:10:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(552.0422, 584.3119), source=ENEMY (Enemy10), range=1469, listeners=9
[20:10:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=3
[20:10:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:10:48] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[20:10:48] [INFO] [PenultimateHit] Starting penultimate hit effect:
[20:10:48] [INFO] [PenultimateHit]   - Time scale: 0.10
[20:10:48] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[20:10:48] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[20:10:48] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[20:10:48] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[20:10:48] [INFO] [PenultimateHit] Applying saturation to 9 enemies
[20:10:48] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[20:10:48] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:10:48] [INFO] [LastChance] Threat detected: @Area2D@12731
[20:10:48] [INFO] [LastChance] Not in hard mode - effect disabled
[20:10:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:10:49] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[20:10:49] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[20:10:49] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[20:10:49] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[20:10:49] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[20:10:49] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:10:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(573.0441, 553.7264), source=ENEMY (Enemy10), range=1469, listeners=9
[20:10:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=3
[20:10:49] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[20:10:49] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[20:10:49] [INFO] [PenultimateHit] Player died - ending penultimate effect
[20:10:49] [INFO] [PenultimateHit] Ending penultimate hit effect
[20:10:49] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[20:10:49] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[20:10:49] [INFO] [LastChance] Player died
[20:10:49] [INFO] [LastChance] Threat detected: Bullet
[20:10:49] [INFO] [LastChance] Not in hard mode - effect disabled
[20:10:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:10:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(573.1195, 528.0433), source=ENEMY (Enemy10), range=1469, listeners=9
[20:10:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=3
[20:10:49] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[20:10:49] [INFO] [LastChance] Threat detected: @Area2D@12734
[20:10:49] [INFO] [LastChance] Not in hard mode - effect disabled
[20:10:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:10:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(573.1641, 495.9737), source=ENEMY (Enemy10), range=1469, listeners=9
[20:10:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=3
[20:10:49] [INFO] [LastChance] Threat detected: Bullet
[20:10:49] [INFO] [LastChance] Not in hard mode - effect disabled
[20:10:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:10:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(558.4093, 461.5453), shooter_id=17444009676673, bullet_pos=(515.5974, 47.08388)
[20:10:49] [INFO] [Bullet] Using shooter_position, distance=416.666625976563
[20:10:49] [INFO] [Bullet] Distance to wall: 416.666625976563 (28.3715967451091% of viewport)
[20:10:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:10:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(567.7904, 465.1137), source=ENEMY (Enemy10), range=1469, listeners=9
[20:10:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=3
[20:10:49] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:10:49] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:10:49] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:10:49] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:10:49] [ENEMY] [Enemy1] Death animation component initialized
[20:10:49] [ENEMY] [Enemy2] Death animation component initialized
[20:10:49] [ENEMY] [Enemy3] Death animation component initialized
[20:10:49] [ENEMY] [Enemy4] Death animation component initialized
[20:10:49] [ENEMY] [Enemy5] Death animation component initialized
[20:10:49] [ENEMY] [Enemy6] Death animation component initialized
[20:10:49] [ENEMY] [Enemy7] Death animation component initialized
[20:10:49] [ENEMY] [Enemy8] Death animation component initialized
[20:10:49] [ENEMY] [Enemy9] Death animation component initialized
[20:10:49] [ENEMY] [Enemy10] Death animation component initialized
[20:10:49] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:10:49] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:10:49] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:10:49] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:10:49] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:10:49] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:10:49] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:10:49] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[20:10:49] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:10:49] [INFO] [ScoreManager] Level started with 10 enemies
[20:10:49] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[20:10:49] [ENEMY] [Enemy1] Registered as sound listener
[20:10:49] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:10:49] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[20:10:49] [ENEMY] [Enemy2] Registered as sound listener
[20:10:49] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[20:10:49] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[20:10:49] [ENEMY] [Enemy3] Registered as sound listener
[20:10:49] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[20:10:49] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[20:10:49] [ENEMY] [Enemy4] Registered as sound listener
[20:10:49] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[20:10:49] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[20:10:49] [ENEMY] [Enemy5] Registered as sound listener
[20:10:49] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[20:10:49] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[20:10:49] [ENEMY] [Enemy6] Registered as sound listener
[20:10:49] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[20:10:49] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[20:10:49] [ENEMY] [Enemy7] Registered as sound listener
[20:10:49] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[20:10:49] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[20:10:49] [ENEMY] [Enemy8] Registered as sound listener
[20:10:49] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[20:10:49] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[20:10:49] [ENEMY] [Enemy9] Registered as sound listener
[20:10:49] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[20:10:49] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[20:10:49] [ENEMY] [Enemy10] Registered as sound listener
[20:10:49] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[20:10:49] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:10:49] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:10:49] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:10:49] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:10:49] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:10:49] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:10:49] [INFO] [LastChance] Found player: Player
[20:10:49] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:10:49] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:10:49] [INFO] [LastChance] Connected to player Died signal (C#)
[20:10:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(871.9935, 1444.507), source=PLAYER (AssaultRifle), range=1469, listeners=19
[20:10:54] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[20:10:54] [ENEMY] [Enemy10] Heard gunshot at (871.9935, 1444.507), source_type=0, intensity=0.02, distance=327
[20:10:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[20:10:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(871.99347, 1444.5074), shooter_id=17951403019101, bullet_pos=(915.40674, 1439.8098)
[20:10:54] [INFO] [Bullet] Using shooter_position, distance=43,666687
[20:10:54] [INFO] [Bullet] Distance to wall: 43,666687 (2,973345% of viewport)
[20:10:54] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:10:54] [INFO] [Bullet] Starting wall penetration at (915.40674, 1439.8098)
[20:10:54] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:10:54] [INFO] [Bullet] Exiting penetration at (961.8026, 1434.7896) after traveling 41,66667 pixels through wall
[20:10:54] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:10:55] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:11:00] [ENEMY] [Enemy10] FLANKING started: target=(1064.94, 1709.526), side=right, pos=(952.9412, 1454.443)
[20:11:00] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[20:11:02] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[20:11:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(923.8248, 1874.053), source=ENEMY (Enemy10), range=1469, listeners=10
[20:11:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=6
[20:11:02] [INFO] [LastChance] Threat detected: Bullet
[20:11:02] [INFO] [LastChance] Not in hard mode - effect disabled
[20:11:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:11:02] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:11:02] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:11:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(923.8248, 1874.053), source=ENEMY (Enemy10), range=1469, listeners=10
[20:11:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=6
[20:11:02] [INFO] [LastChance] Threat detected: Bullet
[20:11:02] [INFO] [LastChance] Not in hard mode - effect disabled
[20:11:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:11:02] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:11:02] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[20:11:02] [INFO] [PenultimateHit] Starting penultimate hit effect:
[20:11:02] [INFO] [PenultimateHit]   - Time scale: 0.10
[20:11:02] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[20:11:02] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[20:11:02] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[20:11:02] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[20:11:02] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[20:11:02] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[20:11:02] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:11:03] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:11:03] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:11:03] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:11:03] [INFO] [PenultimateHit] Ending penultimate hit effect
[20:11:03] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[20:11:03] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:11:03] [ENEMY] [Enemy1] Death animation component initialized
[20:11:03] [ENEMY] [Enemy2] Death animation component initialized
[20:11:03] [ENEMY] [Enemy3] Death animation component initialized
[20:11:03] [ENEMY] [Enemy4] Death animation component initialized
[20:11:03] [ENEMY] [Enemy5] Death animation component initialized
[20:11:03] [ENEMY] [Enemy6] Death animation component initialized
[20:11:03] [ENEMY] [Enemy7] Death animation component initialized
[20:11:03] [ENEMY] [Enemy8] Death animation component initialized
[20:11:03] [ENEMY] [Enemy9] Death animation component initialized
[20:11:03] [ENEMY] [Enemy10] Death animation component initialized
[20:11:03] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:11:03] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:11:03] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:11:03] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:11:03] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:11:03] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:11:03] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:11:03] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[20:11:03] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:11:03] [INFO] [ScoreManager] Level started with 10 enemies
[20:11:03] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:11:03] [ENEMY] [Enemy1] Registered as sound listener
[20:11:03] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:11:03] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:11:03] [ENEMY] [Enemy2] Registered as sound listener
[20:11:03] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[20:11:03] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:11:03] [ENEMY] [Enemy3] Registered as sound listener
[20:11:03] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[20:11:03] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:11:03] [ENEMY] [Enemy4] Registered as sound listener
[20:11:03] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[20:11:03] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:11:03] [ENEMY] [Enemy5] Registered as sound listener
[20:11:03] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[20:11:03] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:11:03] [ENEMY] [Enemy6] Registered as sound listener
[20:11:03] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[20:11:03] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:11:03] [ENEMY] [Enemy7] Registered as sound listener
[20:11:03] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[20:11:03] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:11:03] [ENEMY] [Enemy8] Registered as sound listener
[20:11:03] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[20:11:03] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:11:03] [ENEMY] [Enemy9] Registered as sound listener
[20:11:03] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[20:11:03] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:11:03] [ENEMY] [Enemy10] Registered as sound listener
[20:11:03] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[20:11:03] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:11:03] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:11:03] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:11:03] [INFO] [LastChance] Found player: Player
[20:11:03] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:11:03] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:11:03] [INFO] [LastChance] Connected to player Died signal (C#)
[20:11:03] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:11:03] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:11:03] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:11:05] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:11:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(797.7348, 1275.112), source=PLAYER (AssaultRifle), range=1469, listeners=20
[20:11:05] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:11:05] [ENEMY] [Enemy4] Heard gunshot at (797.7348, 1275.112), source_type=0, intensity=0.02, distance=375
[20:11:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[20:11:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(797.7348, 1275.112), shooter_id=18657069500878, bullet_pos=(1159.3772, 1655.69)
[20:11:05] [INFO] [Bullet] Using shooter_position, distance=524,99976
[20:11:05] [INFO] [Bullet] Distance to wall: 524,99976 (35,7482% of viewport)
[20:11:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:11:05] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[20:11:05] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[20:11:05] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:11:05] [ENEMY] [Enemy2] Memory: medium confidence (0.59) - transitioning to PURSUING
[20:11:05] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[20:11:05] [ENEMY] [Enemy3] Memory: medium confidence (0.59) - transitioning to PURSUING
[20:11:05] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[20:11:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(797.7348, 1275.112), shooter_id=18657069500878, bullet_pos=(841.20123, 2087.3467)
[20:11:05] [INFO] [Bullet] Using shooter_position, distance=813,3968
[20:11:05] [INFO] [Bullet] Distance to wall: 813,3968 (55,385685% of viewport)
[20:11:05] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[20:11:07] [ENEMY] [Enemy2] FLANKING started: target=(1126.644, 1430.264), side=left, pos=(449.5102, 649.6424)
[20:11:07] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[20:11:07] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[20:11:07] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[20:11:09] [ENEMY] [Enemy2] State: FLANKING -> COMBAT
[20:11:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(595.9162, 1087.709), source=ENEMY (Enemy2), range=1469, listeners=10
[20:11:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[20:11:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(630.9482, 1100.613), source=ENEMY (Enemy2), range=1469, listeners=10
[20:11:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[20:11:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(665.9803, 1113.518), source=ENEMY (Enemy2), range=1469, listeners=10
[20:11:09] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[20:11:09] [INFO] [LastChance] Threat detected: Bullet
[20:11:09] [INFO] [LastChance] Not in hard mode - effect disabled
[20:11:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:11:09] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[20:11:09] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[20:11:10] [INFO] [LastChance] Threat detected: @Area2D@13247
[20:11:10] [INFO] [LastChance] Not in hard mode - effect disabled
[20:11:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:11:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(701.0123, 1126.422), source=ENEMY (Enemy2), range=1469, listeners=10
[20:11:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=6
[20:11:10] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:11:10] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:11:10] [INFO] [LastChance] Threat detected: @Area2D@13249
[20:11:10] [INFO] [LastChance] Not in hard mode - effect disabled
[20:11:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:11:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(736.0526, 1139.304), source=ENEMY (Enemy2), range=1469, listeners=10
[20:11:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=6
[20:11:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(726.7173, 1144.203), shooter_id=18653965716105, bullet_pos=(1352.291, 1374.643)
[20:11:10] [INFO] [Bullet] Using shooter_position, distance=666.6669921875
[20:11:10] [INFO] [Bullet] Distance to wall: 666.6669921875 (45.3945813905491% of viewport)
[20:11:10] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:11:10] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[20:11:10] [INFO] [PenultimateHit] Starting penultimate hit effect:
[20:11:10] [INFO] [PenultimateHit]   - Time scale: 0.10
[20:11:10] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[20:11:10] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[20:11:10] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[20:11:10] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[20:11:10] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[20:11:10] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[20:11:10] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:11:10] [INFO] [LastChance] Threat detected: Bullet
[20:11:10] [INFO] [LastChance] Not in hard mode - effect disabled
[20:11:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:11:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(771.1251, 1152.099), source=ENEMY (Enemy2), range=1469, listeners=10
[20:11:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=6
[20:11:10] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:11:10] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:11:10] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:11:10] [INFO] [PenultimateHit] Ending penultimate hit effect
[20:11:10] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[20:11:10] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:11:10] [ENEMY] [Enemy1] Death animation component initialized
[20:11:10] [ENEMY] [Enemy2] Death animation component initialized
[20:11:10] [ENEMY] [Enemy3] Death animation component initialized
[20:11:10] [ENEMY] [Enemy4] Death animation component initialized
[20:11:10] [ENEMY] [Enemy5] Death animation component initialized
[20:11:10] [ENEMY] [Enemy6] Death animation component initialized
[20:11:10] [ENEMY] [Enemy7] Death animation component initialized
[20:11:10] [ENEMY] [Enemy8] Death animation component initialized
[20:11:10] [ENEMY] [Enemy9] Death animation component initialized
[20:11:10] [ENEMY] [Enemy10] Death animation component initialized
[20:11:10] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:11:10] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:11:10] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:11:10] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:11:10] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:11:10] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:11:10] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:11:10] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[20:11:10] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:11:10] [INFO] [ScoreManager] Level started with 10 enemies
[20:11:10] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:11:10] [ENEMY] [Enemy1] Registered as sound listener
[20:11:10] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[20:11:10] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:11:10] [ENEMY] [Enemy2] Registered as sound listener
[20:11:10] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[20:11:10] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:11:10] [ENEMY] [Enemy3] Registered as sound listener
[20:11:10] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[20:11:10] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:11:10] [ENEMY] [Enemy4] Registered as sound listener
[20:11:10] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[20:11:10] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:11:10] [ENEMY] [Enemy5] Registered as sound listener
[20:11:10] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[20:11:10] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:11:10] [ENEMY] [Enemy6] Registered as sound listener
[20:11:10] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[20:11:10] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:11:10] [ENEMY] [Enemy7] Registered as sound listener
[20:11:10] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[20:11:10] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:11:10] [ENEMY] [Enemy8] Registered as sound listener
[20:11:10] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[20:11:10] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:11:10] [ENEMY] [Enemy9] Registered as sound listener
[20:11:10] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[20:11:10] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:11:10] [ENEMY] [Enemy10] Registered as sound listener
[20:11:10] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[20:11:10] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:11:10] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:11:10] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:11:10] [INFO] [LastChance] Found player: Player
[20:11:10] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:11:10] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:11:10] [INFO] [LastChance] Connected to player Died signal (C#)
[20:11:11] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:11:11] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:11:11] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:11:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(871.9349, 1752.289), source=PLAYER (AssaultRifle), range=1469, listeners=20
[20:11:15] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:11:15] [ENEMY] [Enemy10] Heard gunshot at (871.9349, 1752.289), source_type=0, intensity=0.02, distance=324
[20:11:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[20:11:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(871.93494, 1752.2891), shooter_id=19110356323758, bullet_pos=(905.9355, 1779.6887)
[20:11:15] [INFO] [Bullet] Using shooter_position, distance=43,666676
[20:11:15] [INFO] [Bullet] Distance to wall: 43,666676 (2,9733443% of viewport)
[20:11:15] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:11:15] [INFO] [Bullet] Starting wall penetration at (905.9355, 1779.6887)
[20:11:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,87806
[20:11:15] [INFO] [Bullet] Body exited signal received for penetrating body
[20:11:15] [INFO] [Bullet] Exiting penetration at (942.272, 1808.9707) after traveling 41,66667 pixels through wall
[20:11:15] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:11:15] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:11:19] [ENEMY] [Enemy10] FLANKING started: target=(730.8428, 1572.983), side=right, pos=(951.2507, 1724.515)
[20:11:19] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[20:11:19] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[20:11:20] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:11:24] [ENEMY] [Enemy4] Memory: medium confidence (0.51) - transitioning to PURSUING
[20:11:24] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[20:11:26] [ENEMY] [Enemy4] FLANKING started: target=(741.5931, 1620.936), side=left, pos=(801.4702, 956.8854)
[20:11:26] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[20:11:28] [ENEMY] [Enemy10] FLANKING started: target=(1068.233, 1545.674), side=right, pos=(853.0009, 1423.967)
[20:11:28] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[20:11:29] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[20:11:29] [ENEMY] [Enemy3] Memory: high confidence (0.88) - transitioning to PURSUING
[20:11:29] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[20:11:29] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:11:31] [ENEMY] [Enemy4] FLANKING timeout (5.0s), target=(1006.251, 1874.306), pos=(847.0605, 1806.004)
[20:11:31] [ENEMY] [Enemy4] State: FLANKING -> PURSUING
[20:11:31] [ENEMY] [Enemy3] FLANKING started: target=(730.3604, 1670.253), side=left, pos=(598.0591, 960.3071)
[20:11:31] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[20:11:32] [ENEMY] [Enemy2] Memory: medium confidence (0.52) - transitioning to PURSUING
[20:11:32] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[20:11:36] [ENEMY] [Enemy3] State: FLANKING -> COMBAT
[20:11:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(917.4477, 1832.45), source=ENEMY (Enemy3), range=1469, listeners=10
[20:11:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[20:11:37] [INFO] [LastChance] Threat detected: Bullet
[20:11:37] [INFO] [LastChance] Not in hard mode - effect disabled
[20:11:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:11:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:11:37] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[20:11:37] [INFO] [PenultimateHit] Starting penultimate hit effect:
[20:11:37] [INFO] [PenultimateHit]   - Time scale: 0.10
[20:11:37] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[20:11:37] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[20:11:37] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[20:11:37] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[20:11:37] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[20:11:37] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[20:11:37] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:11:37] [ENEMY] [Enemy2] FLANKING started: target=(732.3611, 1655.465), side=left, pos=(660.8995, 958.1612)
[20:11:37] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[20:11:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(917.4477, 1832.45), source=ENEMY (Enemy3), range=1469, listeners=10
[20:11:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[20:11:37] [INFO] [LastChance] Threat detected: Bullet
[20:11:37] [INFO] [LastChance] Not in hard mode - effect disabled
[20:11:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:11:38] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[20:11:38] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[20:11:38] [INFO] [PenultimateHit] Player died - ending penultimate effect
[20:11:38] [INFO] [PenultimateHit] Ending penultimate hit effect
[20:11:38] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[20:11:38] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[20:11:38] [INFO] [LastChance] Player died
[20:11:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(917.4477, 1832.45), source=ENEMY (Enemy3), range=1469, listeners=10
[20:11:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[20:11:38] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[20:11:38] [INFO] [LastChance] Threat detected: Bullet
[20:11:38] [INFO] [LastChance] Not in hard mode - effect disabled
[20:11:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:11:38] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:11:38] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:11:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(917.4477, 1832.45), source=ENEMY (Enemy3), range=1469, listeners=10
[20:11:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[20:11:38] [INFO] [LastChance] Threat detected: Bullet
[20:11:38] [INFO] [LastChance] Not in hard mode - effect disabled
[20:11:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:11:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(917.4477, 1832.45), source=ENEMY (Enemy3), range=1469, listeners=10
[20:11:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[20:11:38] [INFO] [LastChance] Threat detected: Bullet
[20:11:38] [INFO] [LastChance] Not in hard mode - effect disabled
[20:11:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:11:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(917.4477, 1832.45), source=ENEMY (Enemy3), range=1469, listeners=10
[20:11:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[20:11:38] [INFO] [LastChance] Threat detected: Bullet
[20:11:38] [INFO] [LastChance] Not in hard mode - effect disabled
[20:11:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:11:38] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:11:38] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:11:38] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:11:38] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:11:38] [ENEMY] [Enemy1] Death animation component initialized
[20:11:38] [ENEMY] [Enemy2] Death animation component initialized
[20:11:38] [ENEMY] [Enemy3] Death animation component initialized
[20:11:38] [ENEMY] [Enemy4] Death animation component initialized
[20:11:38] [ENEMY] [Enemy5] Death animation component initialized
[20:11:38] [ENEMY] [Enemy6] Death animation component initialized
[20:11:38] [ENEMY] [Enemy7] Death animation component initialized
[20:11:38] [ENEMY] [Enemy8] Death animation component initialized
[20:11:38] [ENEMY] [Enemy9] Death animation component initialized
[20:11:38] [ENEMY] [Enemy10] Death animation component initialized
[20:11:38] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:11:38] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:11:38] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:11:38] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:11:38] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:11:38] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:11:38] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[20:11:38] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[20:11:38] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:11:38] [INFO] [ScoreManager] Level started with 10 enemies
[20:11:38] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:11:38] [ENEMY] [Enemy1] Registered as sound listener
[20:11:38] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[20:11:38] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:11:38] [ENEMY] [Enemy2] Registered as sound listener
[20:11:38] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[20:11:38] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:11:38] [ENEMY] [Enemy3] Registered as sound listener
[20:11:38] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[20:11:38] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:11:38] [ENEMY] [Enemy4] Registered as sound listener
[20:11:38] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[20:11:38] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:11:38] [ENEMY] [Enemy5] Registered as sound listener
[20:11:38] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[20:11:38] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:11:38] [ENEMY] [Enemy6] Registered as sound listener
[20:11:38] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[20:11:38] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:11:38] [ENEMY] [Enemy7] Registered as sound listener
[20:11:38] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[20:11:38] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:11:38] [ENEMY] [Enemy8] Registered as sound listener
[20:11:38] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[20:11:38] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:11:38] [ENEMY] [Enemy9] Registered as sound listener
[20:11:38] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[20:11:38] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:11:38] [ENEMY] [Enemy10] Registered as sound listener
[20:11:38] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[20:11:38] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:11:38] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:11:38] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:11:38] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:11:38] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:11:38] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:11:38] [INFO] [LastChance] Found player: Player
[20:11:38] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:11:38] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:11:38] [INFO] [LastChance] Connected to player Died signal (C#)
[20:11:39] [INFO] ------------------------------------------------------------
[20:11:39] [INFO] GAME LOG ENDED: 2026-01-24T20:11:39
[20:11:39] [INFO] ============================================================
