[04:19:41] [INFO] ============================================================
[04:19:41] [INFO] GAME LOG STARTED
[04:19:41] [INFO] ============================================================
[04:19:41] [INFO] Timestamp: 2026-01-25T04:19:41
[04:19:41] [INFO] Log file: I:/Загрузки/godot exe/game_log_20260125_041941.txt
[04:19:41] [INFO] Executable: I:/Загрузки/godot exe/Godot-Top-Down-Template.exe
[04:19:41] [INFO] OS: Windows
[04:19:41] [INFO] Debug build: false
[04:19:41] [INFO] Engine version: 4.3-stable (official)
[04:19:41] [INFO] Project: Godot Top-Down Template
[04:19:41] [INFO] ------------------------------------------------------------
[04:19:41] [INFO] [GameManager] GameManager ready
[04:19:41] [INFO] [ScoreManager] ScoreManager ready
[04:19:41] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[04:19:41] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[04:19:41] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[04:19:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:19:41] [INFO] [PenultimateHit] Saturation shader loaded successfully
[04:19:41] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[04:19:41] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[04:19:41] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[04:19:41] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[04:19:41] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[04:19:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:19:41] [INFO] [LastChance] Last chance shader loaded successfully
[04:19:41] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[04:19:41] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[04:19:41] [INFO] [LastChance]   Sepia intensity: 0.70
[04:19:41] [INFO] [LastChance]   Brightness: 0.60
[04:19:41] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[04:19:41] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[04:19:41] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV enabled: true
[04:19:41] [ENEMY] [Enemy1] Death animation component initialized
[04:19:41] [ENEMY] [Enemy2] Death animation component initialized
[04:19:41] [ENEMY] [Enemy3] Death animation component initialized
[04:19:41] [ENEMY] [Enemy4] Death animation component initialized
[04:19:41] [ENEMY] [Enemy5] Death animation component initialized
[04:19:41] [ENEMY] [Enemy6] Death animation component initialized
[04:19:41] [ENEMY] [Enemy7] Death animation component initialized
[04:19:41] [ENEMY] [Enemy8] Death animation component initialized
[04:19:41] [ENEMY] [Enemy9] Death animation component initialized
[04:19:41] [ENEMY] [Enemy10] Death animation component initialized
[04:19:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:19:41] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:19:41] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:19:41] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:19:41] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:19:41] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:19:41] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[04:19:41] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[04:19:41] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[04:19:41] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:19:41] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[04:19:41] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[04:19:41] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[04:19:41] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[04:19:41] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[04:19:41] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[04:19:41] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[04:19:41] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[04:19:41] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[04:19:41] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[04:19:41] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[04:19:41] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[04:19:41] [INFO] [ScoreManager] Level started with 10 enemies
[04:19:41] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[04:19:41] [ENEMY] [Enemy1] Registered as sound listener
[04:19:41] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[04:19:41] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[04:19:41] [ENEMY] [Enemy2] Registered as sound listener
[04:19:41] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[04:19:41] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[04:19:41] [ENEMY] [Enemy3] Registered as sound listener
[04:19:41] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[04:19:41] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[04:19:41] [ENEMY] [Enemy4] Registered as sound listener
[04:19:41] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[04:19:41] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[04:19:41] [ENEMY] [Enemy5] Registered as sound listener
[04:19:41] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[04:19:41] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[04:19:41] [ENEMY] [Enemy6] Registered as sound listener
[04:19:41] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[04:19:41] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[04:19:41] [ENEMY] [Enemy7] Registered as sound listener
[04:19:41] [ENEMY] [Enemy7] Enemy spawned at (1606.114, 893.8859), health: 3, behavior: PATROL, player_found: yes
[04:19:41] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[04:19:41] [ENEMY] [Enemy8] Registered as sound listener
[04:19:41] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[04:19:41] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[04:19:41] [ENEMY] [Enemy9] Registered as sound listener
[04:19:41] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[04:19:41] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[04:19:41] [ENEMY] [Enemy10] Registered as sound listener
[04:19:41] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[04:19:41] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:19:41] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:19:41] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:19:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:19:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:19:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:19:41] [INFO] [LastChance] Found player: Player
[04:19:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:19:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:19:41] [INFO] [LastChance] Connected to player Died signal (C#)
[04:19:42] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[04:19:42] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[04:19:43] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[04:19:43] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[04:19:43] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[04:19:43] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[04:19:44] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[04:19:44] [INFO] [Player.Debug] Debug mode toggled: ON
[04:19:44] [INFO] [GameManager] Debug mode toggled: ON
[04:19:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[04:19:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:45] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[04:19:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[04:19:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[04:19:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[04:19:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[04:19:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[04:19:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[04:19:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:19:47] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:19:47] [ENEMY] [Enemy3] Memory: high confidence (0.90) - transitioning to PURSUING
[04:19:47] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[04:19:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:47] [ENEMY] [Enemy3] PURSUING corner check: angle 141.3°
[04:19:47] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:19:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(784.0667, 877.3111), source=ENEMY (Enemy4), range=1469, listeners=10
[04:19:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[04:19:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(755.5432, 815.5292), shooter_id=43922753066, bullet_pos=(755.5432, 815.5292)
[04:19:47] [INFO] [Bullet] Using shooter_position, distance=0
[04:19:47] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[04:19:47] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[04:19:47] [INFO] [Bullet] Starting wall penetration at (755.5432, 815.5292)
[04:19:47] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:19:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(696.6654, 745.8376), source=ENEMY (Enemy3), range=1469, listeners=10
[04:19:47] [ENEMY] [Enemy2] Heard gunshot at (696.6654, 745.8376), source_type=1, intensity=0.02, distance=355
[04:19:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:19:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40.8463020324707
[04:19:47] [INFO] [LastChance] Threat detected: @Area2D@286
[04:19:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:19:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:19:47] [INFO] [Bullet] Body exited signal received for penetrating body
[04:19:47] [INFO] [Bullet] Exiting penetration at (740.9676, 771.1971) after traveling 41.6666679382324 pixels through wall
[04:19:47] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:19:47] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:19:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(784.0662, 856.6716), source=ENEMY (Enemy4), range=1469, listeners=10
[04:19:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:19:47] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:19:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(673.3232, 716.7012), source=ENEMY (Enemy3), range=1469, listeners=10
[04:19:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:19:47] [INFO] [LastChance] Threat detected: @Area2D@289
[04:19:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:19:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:19:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:19:47] [INFO] [LastChance] Threat detected: Bullet
[04:19:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:19:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:19:47] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[04:19:47] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[04:19:47] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[04:19:47] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[04:19:47] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:19:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(787.4822, 836.2105), source=ENEMY (Enemy4), range=1469, listeners=10
[04:19:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:19:47] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:19:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(656.3121, 698.5662), source=ENEMY (Enemy3), range=1469, listeners=10
[04:19:47] [ENEMY] [Enemy1] Heard gunshot at (656.3121, 698.5662), source_type=1, intensity=0.01, distance=498
[04:19:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:19:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(685.795, 678.663), shooter_id=43637540377, bullet_pos=(657.3331, 54.3115)
[04:19:47] [INFO] [Bullet] Using shooter_position, distance=624.999938964844
[04:19:47] [INFO] [Bullet] Distance to wall: 624.999938964844 (42.5573951176636% of viewport)
[04:19:47] [INFO] [Bullet] Distance-based penetration chance: 97.0163723627258%
[04:19:47] [INFO] [Bullet] Starting wall penetration at (657.3331, 54.3115)
[04:19:47] [INFO] [LastChance] Threat detected: @Area2D@293
[04:19:47] [INFO] [LastChance] Triggering last chance effect!
[04:19:47] [INFO] [LastChance] Starting last chance effect:
[04:19:47] [INFO] [LastChance]   - Time will be frozen (except player)
[04:19:47] [INFO] [LastChance]   - Duration: 6.0 real seconds
[04:19:47] [INFO] [LastChance]   - Sepia intensity: 0.70
[04:19:47] [INFO] [LastChance]   - Brightness: 0.60
[04:19:47] [INFO] [LastChance] Pushed bullet Bullet from distance 111.2 to 200.0
[04:19:47] [INFO] [LastChance] Pushed bullet @Area2D@293 from distance 144.1 to 200.0
[04:19:47] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[04:19:47] [INFO] [LastChance] Set player Player and all 19 children to PROCESS_MODE_ALWAYS
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[04:19:47] [INFO] [LastChance] Skipping player node: Player
[04:19:47] [INFO] [LastChance] Froze existing bullet casing: Casing
[04:19:47] [INFO] [Bullet] Body exited signal received for penetrating body
[04:19:47] [INFO] [Bullet] Exiting penetration at (657.1054, 49.31668) after traveling 0 pixels through wall
[04:19:47] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:19:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@287
[04:19:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@288
[04:19:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@290
[04:19:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@292
[04:19:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@294
[04:19:47] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[04:19:47] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[04:19:47] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[04:19:53] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[04:19:53] [INFO] [LastChance] Ending last chance effect
[04:19:53] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=true
[04:19:53] [ENEMY] [Enemy1] Search mode: COMBAT -> SEARCHING at (656.3121, 698.5662)
[04:19:53] [ENEMY] [Enemy1] SEARCHING started: center=(656.3121, 698.5662), radius=100, waypoints=5
[04:19:53] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=true
[04:19:53] [ENEMY] [Enemy2] Search mode: COMBAT -> SEARCHING at (696.6654, 745.8376)
[04:19:53] [ENEMY] [Enemy2] SEARCHING started: center=(696.6654, 745.8376), radius=100, waypoints=5
[04:19:53] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=true
[04:19:53] [ENEMY] [Enemy3] Search mode: RETREATING -> SEARCHING at (747.0591, 513.265)
[04:19:53] [ENEMY] [Enemy3] SEARCHING started: center=(747.0591, 513.265), radius=100, waypoints=5
[04:19:53] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=true
[04:19:53] [ENEMY] [Enemy4] Search mode: COMBAT -> SEARCHING at (747.0591, 513.265)
[04:19:53] [ENEMY] [Enemy4] SEARCHING started: center=(747.0591, 513.265), radius=100, waypoints=5
[04:19:53] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[04:19:53] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[04:19:53] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[04:19:53] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[04:19:53] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[04:19:53] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[04:19:53] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[04:19:53] [INFO] [LastChance] All process modes restored
[04:19:53] [INFO] [LastChance] Unfroze bullet casing: Casing
[04:19:53] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@287
[04:19:53] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@288
[04:19:53] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@290
[04:19:53] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@292
[04:19:53] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@294
[04:19:53] [INFO] [LastChance] Restored original colors to 5 player sprites
[04:19:53] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[04:19:53] [ENEMY] [Enemy1] SEARCHING corner check: angle -45.6°
[04:19:53] [ENEMY] [Enemy2] SEARCHING corner check: angle 127.9°
[04:19:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:54] [ENEMY] [Enemy4] SEARCHING corner check: angle 172.1°
[04:19:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(761.1, 792.6157), shooter_id=43922753066, bullet_pos=(540.0092, 37.34531)
[04:19:54] [INFO] [Bullet] Using shooter_position, distance=786.96533203125
[04:19:54] [INFO] [Bullet] Distance to wall: 786.96533203125 (53.5859165596512% of viewport)
[04:19:54] [INFO] [Bullet] Distance-based penetration chance: 84.1497640137402%
[04:19:54] [INFO] [Bullet] Starting wall penetration at (540.0092, 37.34531)
[04:19:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41.1775817871094
[04:19:54] [INFO] [Bullet] Body exited signal received for penetrating body
[04:19:54] [INFO] [Bullet] Exiting penetration at (529.3984, -8.099049) after traveling 41.6666679382324 pixels through wall
[04:19:54] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:19:54] [ENEMY] [Enemy3] SEARCHING corner check: angle -154.7°
[04:19:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:19:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(769.5521, 770.5667), shooter_id=43922753066, bullet_pos=(656.1666, 29.18723)
[04:19:54] [INFO] [Bullet] Using shooter_position, distance=749.999877929688
[04:19:54] [INFO] [Bullet] Distance to wall: 749.999877929688 (51.0688708163995% of viewport)
[04:19:54] [INFO] [Bullet] Distance-based penetration chance: 87.0863173808672%
[04:19:54] [INFO] [Bullet] Starting wall penetration at (656.1666, 29.18723)
[04:19:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 49.5121612548828
[04:19:54] [INFO] [Bullet] Body exited signal received for penetrating body
[04:19:54] [INFO] [Bullet] Exiting penetration at (649.1115, -16.94307) after traveling 41.6666717529297 pixels through wall
[04:19:54] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:19:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(693.0488, 641.2861), shooter_id=43637540377, bullet_pos=(982.1023, 56.36578)
[04:19:54] [INFO] [Bullet] Using shooter_position, distance=652.444396972656
[04:19:54] [INFO] [Bullet] Distance to wall: 652.444396972656 (44.4261387293239% of viewport)
[04:19:54] [ENEMY] [Enemy1] SEARCHING corner check: angle -45.6°
[04:19:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(693.0488, 641.2861), shooter_id=43637540377, bullet_pos=(1088.589, 204.0646)
[04:19:54] [INFO] [Bullet] Using shooter_position, distance=589.588500976563
[04:19:54] [INFO] [Bullet] Distance to wall: 589.588500976563 (40.1461651891489% of viewport)
[04:19:54] [INFO] [Bullet] Distance-based penetration chance: 99.829473945993%
[04:19:54] [INFO] [Bullet] Starting wall penetration at (1088.589, 204.0646)
[04:19:54] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:19:54] [INFO] [Bullet] Exiting penetration at (1112.226, 236.849) after traveling 35.4166679382324 pixels through wall
[04:19:54] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[04:19:54] [ENEMY] [Enemy2] SEARCHING corner check: angle -59.3°
[04:19:54] [ENEMY] [Enemy4] SEARCHING corner check: angle 172.1°
[04:19:54] [ENEMY] [Enemy3] SEARCHING corner check: angle -154.7°
[04:19:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:19:54] [ENEMY] [Enemy1] SEARCHING corner check: angle 134.4°
[04:19:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:54] [ENEMY] [Enemy2] SEARCHING corner check: angle -59.3°
[04:19:54] [ENEMY] [Enemy4] SEARCHING corner check: angle 172.1°
[04:19:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:19:54] [ENEMY] [Enemy1] SEARCHING corner check: angle 127.0°
[04:19:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:19:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:55] [ENEMY] [Enemy1] SEARCHING corner check: angle -65.4°
[04:19:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:19:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:55] [ENEMY] [Enemy1] SEARCHING corner check: angle -65.4°
[04:19:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:19:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:56] [ENEMY] [Enemy4] SEARCHING corner check: angle -16.8°
[04:19:56] [ENEMY] [Enemy2] SEARCHING corner check: angle -46.1°
[04:19:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:19:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:56] [ENEMY] [Enemy2] SEARCHING corner check: angle 133.9°
[04:19:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:19:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:56] [ENEMY] [Enemy3] SEARCHING corner check: angle -116.4°
[04:19:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:19:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:57] [ENEMY] [Enemy1] SEARCHING corner check: angle 136.4°
[04:19:57] [ENEMY] [Enemy3] SEARCHING corner check: angle -116.4°
[04:19:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:19:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:57] [ENEMY] [Enemy4] SEARCHING corner check: angle -165.8°
[04:19:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:19:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:57] [ENEMY] [Enemy2] SEARCHING corner check: angle -60.9°
[04:19:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:19:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:58] [ENEMY] [Enemy2] SEARCHING corner check: angle -60.9°
[04:19:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:19:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:58] [ENEMY] [Enemy1] SEARCHING corner check: angle -59.6°
[04:19:58] [ENEMY] [Enemy3] SEARCHING corner check: angle 30.2°
[04:19:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:19:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:58] [ENEMY] [Enemy4] SEARCHING corner check: angle 6.8°
[04:19:58] [ENEMY] [Enemy1] SEARCHING corner check: angle -59.6°
[04:19:58] [ENEMY] [Enemy3] SEARCHING corner check: angle 30.2°
[04:19:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:19:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:59] [ENEMY] [Enemy4] SEARCHING corner check: angle 6.8°
[04:19:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:19:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:59] [ENEMY] [Enemy2] SEARCHING corner check: angle 54.6°
[04:19:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:19:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:19:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:19:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:00] [ENEMY] [Enemy1] SEARCHING corner check: angle 56.5°
[04:20:00] [ENEMY] [Enemy3] SEARCHING corner check: angle 146.1°
[04:20:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:00] [ENEMY] [Enemy4] SEARCHING corner check: angle -43.6°
[04:20:00] [ENEMY] [Enemy3] SEARCHING corner check: angle 146.1°
[04:20:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:00] [ENEMY] [Enemy4] SEARCHING corner check: angle 136.4°
[04:20:00] [ENEMY] [Enemy2] SEARCHING corner check: angle -71.5°
[04:20:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:01] [ENEMY] [Enemy2] SEARCHING corner check: angle 100.2°
[04:20:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:01] [ENEMY] [Enemy2] SEARCHING corner check: angle 95.4°
[04:20:01] [ENEMY] [Enemy1] SEARCHING corner check: angle 114.7°
[04:20:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:01] [ENEMY] [Enemy3] SEARCHING: Expand outer ring r=175 wps=4
[04:20:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:01] [ENEMY] [Enemy2] SEARCHING corner check: angle 92.9°
[04:20:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:01] [ENEMY] [Enemy3] SEARCHING corner check: angle 36.0°
[04:20:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:02] [ENEMY] [Enemy4] SEARCHING: Expand outer ring r=175 wps=4
[04:20:02] [ENEMY] [Enemy2] SEARCHING corner check: angle 91.5°
[04:20:02] [ENEMY] [Enemy4] SEARCHING corner check: angle 37.3°
[04:20:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:02] [ENEMY] [Enemy2] SEARCHING corner check: angle 90.8°
[04:20:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:02] [ENEMY] [Enemy1] SEARCHING: Expand outer ring r=175 wps=4
[04:20:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:02] [ENEMY] [Enemy2] SEARCHING corner check: angle 90.4°
[04:20:02] [ENEMY] [Enemy1] SEARCHING corner check: angle 25.0°
[04:20:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:03] [ENEMY] [Enemy2] SEARCHING corner check: angle 90.2°
[04:20:03] [ENEMY] [Enemy1] SEARCHING corner check: angle -161.1°
[04:20:03] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:20:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:03] [ENEMY] [Enemy3] SEARCHING: Player spotted! Transitioning to COMBAT
[04:20:03] [ENEMY] [Enemy3] State: SEARCHING -> COMBAT
[04:20:03] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:20:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:03] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:20:03] [ENEMY] [Enemy2] SEARCHING corner check: angle 90.1°
[04:20:03] [ENEMY] [Enemy4] SEARCHING corner check: angle -52.2°
[04:20:03] [ENEMY] [Enemy1] SEARCHING corner check: angle 18.9°
[04:20:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:03] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[04:20:03] [ENEMY] [Enemy2] SEARCHING corner check: angle 90.1°
[04:20:03] [ENEMY] [Enemy4] SEARCHING corner check: angle -52.2°
[04:20:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:04] [ENEMY] [Enemy2] SEARCHING: Stuck at waypoint 4 (no progress for 2.0s), skipping
[04:20:04] [ENEMY] [Enemy2] SEARCHING: Expand outer ring r=175 wps=4
[04:20:04] [ENEMY] [Enemy2] SEARCHING corner check: angle -38.1°
[04:20:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:04] [ENEMY] [Enemy2] SEARCHING corner check: angle 141.7°
[04:20:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:04] [ENEMY] [Enemy2] SEARCHING corner check: angle 141.7°
[04:20:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:04] [ENEMY] [Enemy1] SEARCHING corner check: angle -54.0°
[04:20:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:05] [ENEMY] [Enemy4] SEARCHING corner check: angle 26.5°
[04:20:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:05] [ENEMY] [Enemy1] SEARCHING corner check: angle -54.0°
[04:20:05] [ENEMY] [Enemy3] PURSUING corner check: angle -27.5°
[04:20:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:05] [ENEMY] [Enemy4] SEARCHING corner check: angle 25.6°
[04:20:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:05] [ENEMY] [Enemy3] PURSUING corner check: angle -17.8°
[04:20:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:05] [ENEMY] [Enemy4] SEARCHING corner check: angle 8.6°
[04:20:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:06] [ENEMY] [Enemy2] SEARCHING corner check: angle -70.2°
[04:20:06] [ENEMY] [Enemy4] SEARCHING corner check: angle 0.3°
[04:20:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:06] [ENEMY] [Enemy2] SEARCHING corner check: angle -70.2°
[04:20:06] [ENEMY] [Enemy4] SEARCHING corner check: angle 0.3°
[04:20:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:06] [ENEMY] [Enemy1] SEARCHING corner check: angle -159.5°
[04:20:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:06] [ENEMY] [Enemy2] SEARCHING corner check: angle -70.2°
[04:20:06] [ENEMY] [Enemy4] SEARCHING corner check: angle 0.3°
[04:20:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:06] [ENEMY] [Enemy1] SEARCHING corner check: angle -159.5°
[04:20:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:07] [ENEMY] [Enemy4] SEARCHING corner check: angle 0.3°
[04:20:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:07] [ENEMY] [Enemy3] PURSUING corner check: angle -4.0°
[04:20:07] [ENEMY] [Enemy4] SEARCHING corner check: angle 0.3°
[04:20:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:07] [ENEMY] [Enemy3] PURSUING corner check: angle -0.2°
[04:20:07] [ENEMY] [Enemy4] SEARCHING corner check: angle 0.3°
[04:20:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:07] [ENEMY] [Enemy4] SEARCHING: Stuck at waypoint 2 (no progress for 2.0s), skipping
[04:20:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:08] [ENEMY] [Enemy3] PURSUING corner check: angle -0.2°
[04:20:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:08] [ENEMY] [Enemy2] SEARCHING corner check: angle -170.8°
[04:20:08] [ENEMY] [Enemy4] SEARCHING corner check: angle 74.7°
[04:20:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:08] [ENEMY] [Enemy1] SEARCHING corner check: angle -63.1°
[04:20:08] [ENEMY] [Enemy3] PURSUING corner check: angle -0.2°
[04:20:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:08] [ENEMY] [Enemy2] SEARCHING corner check: angle -170.8°
[04:20:08] [ENEMY] [Enemy4] SEARCHING corner check: angle 74.7°
[04:20:08] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:20:08] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:20:08] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:20:08] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:20:08] [ENEMY] [Enemy1] Death animation component initialized
[04:20:08] [ENEMY] [Enemy2] Death animation component initialized
[04:20:08] [ENEMY] [Enemy3] Death animation component initialized
[04:20:08] [ENEMY] [Enemy4] Death animation component initialized
[04:20:08] [ENEMY] [Enemy5] Death animation component initialized
[04:20:08] [ENEMY] [Enemy6] Death animation component initialized
[04:20:08] [ENEMY] [Enemy7] Death animation component initialized
[04:20:08] [ENEMY] [Enemy8] Death animation component initialized
[04:20:08] [ENEMY] [Enemy9] Death animation component initialized
[04:20:08] [ENEMY] [Enemy10] Death animation component initialized
[04:20:08] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:20:08] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:20:08] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:20:08] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:20:08] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:20:08] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:20:08] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[04:20:08] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[04:20:08] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[04:20:08] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:20:08] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[04:20:08] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[04:20:08] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[04:20:08] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[04:20:08] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[04:20:08] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[04:20:08] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[04:20:08] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[04:20:08] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[04:20:08] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[04:20:08] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[04:20:08] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[04:20:08] [INFO] [ScoreManager] Level started with 10 enemies
[04:20:08] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[04:20:08] [ENEMY] [Enemy1] Registered as sound listener
[04:20:08] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[04:20:08] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[04:20:08] [ENEMY] [Enemy2] Registered as sound listener
[04:20:08] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[04:20:08] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[04:20:08] [ENEMY] [Enemy3] Registered as sound listener
[04:20:08] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[04:20:08] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[04:20:08] [ENEMY] [Enemy4] Registered as sound listener
[04:20:08] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[04:20:08] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[04:20:08] [ENEMY] [Enemy5] Registered as sound listener
[04:20:08] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[04:20:08] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[04:20:08] [ENEMY] [Enemy6] Registered as sound listener
[04:20:08] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[04:20:08] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[04:20:08] [ENEMY] [Enemy7] Registered as sound listener
[04:20:08] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[04:20:08] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[04:20:08] [ENEMY] [Enemy8] Registered as sound listener
[04:20:08] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[04:20:08] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[04:20:08] [ENEMY] [Enemy9] Registered as sound listener
[04:20:08] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[04:20:08] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[04:20:08] [ENEMY] [Enemy10] Registered as sound listener
[04:20:08] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[04:20:08] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:20:08] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:20:08] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:20:08] [INFO] [LastChance] Found player: Player
[04:20:08] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:20:08] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:20:08] [INFO] [LastChance] Connected to player Died signal (C#)
[04:20:08] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:20:08] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:20:08] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:20:10] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[04:20:10] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[04:20:10] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[04:20:10] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[04:20:10] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[04:20:11] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[04:20:11] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[04:20:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[04:20:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:12] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[04:20:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[04:20:12] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:20:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=20
[04:20:12] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[04:20:12] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[04:20:12] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[04:20:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:20:12] [INFO] [LastChance] Threat detected: Bullet
[04:20:12] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[04:20:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(757.6916, 713.9128), shooter_id=6366148168680, bullet_pos=(1376.321, 219.914)
[04:20:13] [INFO] [Bullet] Using shooter_position, distance=791.6669921875
[04:20:13] [INFO] [Bullet] Distance to wall: 791.6669921875 (53.906061245281% of viewport)
[04:20:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(757.6916, 713.9128), shooter_id=6366148168680, bullet_pos=(1194.355, 44.25706)
[04:20:13] [INFO] [Bullet] Using shooter_position, distance=799.44580078125
[04:20:13] [INFO] [Bullet] Distance to wall: 799.44580078125 (54.4357346263971% of viewport)
[04:20:13] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[04:20:13] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[04:20:13] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[04:20:13] [ENEMY] [Enemy1] Memory: medium confidence (0.76) - transitioning to PURSUING
[04:20:13] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[04:20:13] [ENEMY] [Enemy1] PURSUING corner check: angle -63.3°
[04:20:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(757.6916, 713.9128), shooter_id=6366148168680, bullet_pos=(1019.89, 258.0415)
[04:20:13] [INFO] [Bullet] Using shooter_position, distance=525.896301269531
[04:20:13] [INFO] [Bullet] Distance to wall: 525.896301269531 (35.8092461914692% of viewport)
[04:20:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:20:13] [INFO] [Bullet] Starting wall penetration at (1019.89, 258.0415)
[04:20:13] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:20:13] [INFO] [Bullet] Exiting penetration at (997.6955, 285.2387) after traveling 30.1041717529297 pixels through wall
[04:20:13] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[04:20:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[04:20:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:13] [ENEMY] [Enemy1] PURSUING corner check: angle -58.4°
[04:20:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[04:20:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[04:20:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[04:20:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:14] [ENEMY] [Enemy2] FLANKING started: target=(870.2853, 489.9139), side=right, pos=(495.5853, 625.4169)
[04:20:14] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[04:20:14] [ENEMY] [Enemy4] PURSUING corner check: angle -174.2°
[04:20:14] [ENEMY] [Enemy3] PURSUING corner check: angle -128.3°
[04:20:14] [ENEMY] [Enemy2] FLANKING corner check: angle 83.1°
[04:20:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:15] [ENEMY] [Enemy2] FLANKING corner check: angle -112.9°
[04:20:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:15] [ENEMY] [Enemy1] FLANKING started: target=(786.844, 785.2565), side=left, pos=(456.5407, 434.3517)
[04:20:15] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[04:20:15] [ENEMY] [Enemy2] FLANKING corner check: angle -111.2°
[04:20:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:15] [ENEMY] [Enemy1] FLANKING corner check: angle 174.1°
[04:20:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:15] [ENEMY] [Enemy2] FLANKING corner check: angle -104.0°
[04:20:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:15] [ENEMY] [Enemy1] FLANKING corner check: angle 171.5°
[04:20:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:16] [ENEMY] [Enemy2] FLANKING corner check: angle -85.2°
[04:20:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:16] [ENEMY] [Enemy1] FLANKING corner check: angle -83.2°
[04:20:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:16] [ENEMY] [Enemy2] FLANKING corner check: angle -52.8°
[04:20:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:16] [ENEMY] [Enemy1] FLANKING corner check: angle -59.6°
[04:20:16] [ENEMY] [Enemy4] PURSUING corner check: angle -179.2°
[04:20:16] [ENEMY] [Enemy3] PURSUING corner check: angle -162.7°
[04:20:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:16] [ENEMY] [Enemy2] FLANKING corner check: angle -75.7°
[04:20:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:16] [ENEMY] [Enemy1] FLANKING corner check: angle -59.6°
[04:20:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:17] [ENEMY] [Enemy2] FLANKING corner check: angle -75.7°
[04:20:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:17] [ENEMY] [Enemy1] FLANKING corner check: angle -150.1°
[04:20:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:17] [ENEMY] [Enemy2] FLANKING corner check: angle -84.9°
[04:20:17] [ENEMY] [Enemy1] FLANKING corner check: angle 162.7°
[04:20:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:17] [ENEMY] [Enemy2] FLANKING corner check: angle 180.0°
[04:20:17] [ENEMY] [Enemy1] FLANKING corner check: angle -168.4°
[04:20:17] [ENEMY] [Enemy2] State: FLANKING -> COMBAT
[04:20:17] [ENEMY] [Enemy7] Memory: high confidence (0.89) - transitioning to PURSUING
[04:20:17] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[04:20:17] [ENEMY] [Enemy5] Memory: high confidence (0.80) - transitioning to PURSUING
[04:20:17] [ENEMY] [Enemy5] State: IDLE -> PURSUING
[04:20:17] [ENEMY] [Enemy5] PURSUING corner check: angle 25.7°
[04:20:18] [ENEMY] [Enemy7] PURSUING corner check: angle 84.8°
[04:20:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:18] [ENEMY] [Enemy1] FLANKING corner check: angle -152.6°
[04:20:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1300.857, 649.7587), source=ENEMY (Enemy2), range=1469, listeners=10
[04:20:18] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[04:20:18] [ENEMY] [Enemy4] FLANKING started: target=(875.7231, 487.5757), side=right, pos=(876.8828, 662.4622)
[04:20:18] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[04:20:18] [INFO] [LastChance] Threat detected: Bullet
[04:20:18] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:18] [ENEMY] [Enemy5] PURSUING corner check: angle 20.9°
[04:20:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1267.261, 663.9332), source=ENEMY (Enemy2), range=1469, listeners=10
[04:20:18] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[04:20:18] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[04:20:18] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[04:20:18] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[04:20:18] [INFO] [LastChance] Threat detected: @Area2D@554
[04:20:18] [INFO] [LastChance] Triggering last chance effect!
[04:20:18] [INFO] [LastChance] Starting last chance effect:
[04:20:18] [INFO] [LastChance]   - Time will be frozen (except player)
[04:20:18] [INFO] [LastChance]   - Duration: 6.0 real seconds
[04:20:18] [INFO] [LastChance]   - Sepia intensity: 0.70
[04:20:18] [INFO] [LastChance]   - Brightness: 0.60
[04:20:18] [INFO] [LastChance] Pushed bullet @Area2D@554 from distance 124.7 to 200.0
[04:20:18] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[04:20:18] [INFO] [LastChance] Set player Player and all 19 children to PROCESS_MODE_ALWAYS
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[04:20:18] [INFO] [LastChance] Skipping player node: Player
[04:20:18] [INFO] [LastChance] Froze existing bullet casing: Casing
[04:20:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@553
[04:20:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@555
[04:20:18] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[04:20:18] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[04:20:18] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[04:20:19] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:20:19] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:20:19] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:20:19] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:20:19] [INFO] [LastChance] Ending last chance effect
[04:20:19] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[04:20:19] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[04:20:19] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[04:20:19] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[04:20:19] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[04:20:19] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[04:20:19] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[04:20:19] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[04:20:19] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[04:20:19] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[04:20:19] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[04:20:19] [INFO] [LastChance] All process modes restored
[04:20:19] [INFO] [LastChance] Restored original colors to 5 player sprites
[04:20:19] [ENEMY] [Enemy1] Death animation component initialized
[04:20:19] [ENEMY] [Enemy2] Death animation component initialized
[04:20:19] [ENEMY] [Enemy3] Death animation component initialized
[04:20:19] [ENEMY] [Enemy4] Death animation component initialized
[04:20:19] [ENEMY] [Enemy5] Death animation component initialized
[04:20:19] [ENEMY] [Enemy6] Death animation component initialized
[04:20:19] [ENEMY] [Enemy7] Death animation component initialized
[04:20:19] [ENEMY] [Enemy8] Death animation component initialized
[04:20:19] [ENEMY] [Enemy9] Death animation component initialized
[04:20:19] [ENEMY] [Enemy10] Death animation component initialized
[04:20:19] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:20:19] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:20:19] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:20:19] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:20:19] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:20:19] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:20:19] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[04:20:19] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[04:20:19] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[04:20:19] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:20:19] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[04:20:19] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[04:20:19] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[04:20:19] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[04:20:19] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[04:20:19] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[04:20:19] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[04:20:19] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[04:20:19] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[04:20:19] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[04:20:19] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[04:20:19] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[04:20:19] [INFO] [ScoreManager] Level started with 10 enemies
[04:20:19] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[04:20:19] [ENEMY] [Enemy1] Registered as sound listener
[04:20:19] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[04:20:19] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[04:20:19] [ENEMY] [Enemy2] Registered as sound listener
[04:20:19] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[04:20:19] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[04:20:19] [ENEMY] [Enemy3] Registered as sound listener
[04:20:19] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[04:20:19] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[04:20:19] [ENEMY] [Enemy4] Registered as sound listener
[04:20:19] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[04:20:19] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[04:20:19] [ENEMY] [Enemy5] Registered as sound listener
[04:20:19] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[04:20:19] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[04:20:19] [ENEMY] [Enemy6] Registered as sound listener
[04:20:19] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[04:20:19] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[04:20:19] [ENEMY] [Enemy7] Registered as sound listener
[04:20:19] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[04:20:19] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[04:20:19] [ENEMY] [Enemy8] Registered as sound listener
[04:20:19] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[04:20:19] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[04:20:19] [ENEMY] [Enemy9] Registered as sound listener
[04:20:19] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[04:20:19] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[04:20:19] [ENEMY] [Enemy10] Registered as sound listener
[04:20:19] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[04:20:19] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:20:19] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:20:19] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:20:19] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:20:19] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:20:19] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:20:19] [INFO] [LastChance] Found player: Player
[04:20:19] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:20:19] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:20:19] [INFO] [LastChance] Connected to player Died signal (C#)
[04:20:21] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[04:20:21] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[04:20:21] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[04:20:21] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[04:20:21] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[04:20:21] [ENEMY] [Enemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[04:20:21] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[04:20:21] [ENEMY] [Enemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[04:20:21] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[04:20:21] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[04:20:21] [ENEMY] [Enemy1] PURSUING corner check: angle -63.3°
[04:20:21] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[04:20:22] [ENEMY] [Enemy1] PURSUING corner check: angle -58.4°
[04:20:22] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[04:20:22] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[04:20:22] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[04:20:22] [ENEMY] [Enemy2] Memory: medium confidence (0.76) - transitioning to PURSUING
[04:20:22] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[04:20:22] [ENEMY] [Enemy2] PURSUING corner check: angle -90.0°
[04:20:22] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[04:20:22] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:20:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(565.3544, 899.5032), source=ENEMY (Enemy4), range=1469, listeners=20
[04:20:22] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[04:20:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:20:22] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[04:20:22] [INFO] [LastChance] Threat detected: Bullet
[04:20:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:22] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:20:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(585.1785, 881.668), source=ENEMY (Enemy4), range=1469, listeners=10
[04:20:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:20:22] [INFO] [LastChance] Threat detected: @Area2D@808
[04:20:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:22] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[04:20:22] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:20:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(603.9954, 849.781), source=ENEMY (Enemy4), range=1469, listeners=10
[04:20:22] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:20:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[04:20:23] [INFO] [LastChance] Threat detected: @Area2D@810
[04:20:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:23] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:20:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(623.7158, 818.0963), source=ENEMY (Enemy4), range=1469, listeners=10
[04:20:23] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:20:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(599.5662, 840.6802), shooter_id=9686074001956, bullet_pos=(949.8781, 38.86581)
[04:20:23] [INFO] [Bullet] Using shooter_position, distance=874.999877929688
[04:20:23] [INFO] [Bullet] Distance to wall: 874.999877929688 (59.5803506711314% of viewport)
[04:20:23] [INFO] [LastChance] Threat detected: @Area2D@812
[04:20:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:23] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:20:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(645.9639, 788.132), source=ENEMY (Enemy4), range=1469, listeners=10
[04:20:23] [ENEMY] [Enemy3] Heard gunshot at (645.9639, 788.132), source_type=1, intensity=0.53, distance=69
[04:20:23] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:20:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(621.4161, 824.0709), shooter_id=9686074001956, bullet_pos=(999.4135, 34.93024)
[04:20:23] [INFO] [Bullet] Using shooter_position, distance=875
[04:20:23] [INFO] [Bullet] Distance to wall: 875 (59.5803589831235% of viewport)
[04:20:23] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:20:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(599.5662, 840.6802), shooter_id=9686074001956, bullet_pos=(1076.495, 297.9107)
[04:20:23] [INFO] [Bullet] Using shooter_position, distance=722.537353515625
[04:20:23] [INFO] [Bullet] Distance to wall: 722.537353515625 (49.1988970299165% of viewport)
[04:20:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(644.5149, 795.1114), shooter_id=9686074001956, bullet_pos=(977.4739, 217.545)
[04:20:23] [INFO] [Bullet] Using shooter_position, distance=666.666809082031
[04:20:23] [INFO] [Bullet] Distance to wall: 666.666809082031 (45.394568922561% of viewport)
[04:20:23] [INFO] [LastChance] Threat detected: @Area2D@814
[04:20:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(621.4161, 824.0709), shooter_id=9686074001956, bullet_pos=(1085.665, 234.5972)
[04:20:23] [INFO] [Bullet] Using shooter_position, distance=750.337524414063
[04:20:23] [INFO] [Bullet] Distance to wall: 750.337524414063 (51.0918617863977% of viewport)
[04:20:23] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:20:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(670.564, 760.0666), source=ENEMY (Enemy4), range=1469, listeners=10
[04:20:23] [ENEMY] [Enemy3] Heard gunshot at (670.564, 760.0666), source_type=1, intensity=1.00, distance=49
[04:20:23] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:20:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(668.5989, 766.9485), shooter_id=9686074001956, bullet_pos=(1000.558, 287.281)
[04:20:23] [INFO] [Bullet] Using shooter_position, distance=583.333312988281
[04:20:23] [INFO] [Bullet] Distance to wall: 583.333312988281 (39.7202379367503% of viewport)
[04:20:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:20:23] [INFO] [Bullet] Starting wall penetration at (1000.558, 287.281)
[04:20:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(644.5149, 795.1114), shooter_id=9686074001956, bullet_pos=(910.048, 48.40564)
[04:20:23] [INFO] [Bullet] Using shooter_position, distance=792.513305664063
[04:20:23] [INFO] [Bullet] Distance to wall: 792.513305664063 (53.9636882861334% of viewport)
[04:20:23] [INFO] [Bullet] Distance-based penetration chance: 83.7090303328444%
[04:20:23] [INFO] [Bullet] Starting wall penetration at (910.048, 48.40564)
[04:20:23] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:20:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:23] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22.7555160522461
[04:20:23] [INFO] [Bullet] Raycast backward hit penetrating body at distance 5.47315406799316
[04:20:23] [INFO] [Bullet] Body exited signal received for penetrating body
[04:20:23] [INFO] [Bullet] Exiting penetration at (895.0817, 10.86213) after traveling 35.4166679382324 pixels through wall
[04:20:23] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[04:20:23] [INFO] [Bullet] Max penetration distance exceeded: 83.3333358764648 >= 48
[04:20:23] [INFO] [Bullet] Body exited signal received for penetrating body
[04:20:23] [INFO] [Bullet] Exiting penetration at (1050.826, 214.6456) after traveling 83.3333358764648 pixels through wall
[04:20:23] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:20:23] [INFO] [LastChance] Threat detected: @Area2D@820
[04:20:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:23] [INFO] [LastChance] Threat detected: @Area2D@808
[04:20:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:23] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:20:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(697.594, 734.3419), source=ENEMY (Enemy4), range=1469, listeners=10
[04:20:23] [ENEMY] [Enemy3] Heard gunshot at (697.594, 734.3419), source_type=1, intensity=0.76, distance=57
[04:20:23] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:20:23] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:20:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(694.8411, 740.7861), shooter_id=9686074001956, bullet_pos=(1090.956, 257.3422)
[04:20:23] [INFO] [Bullet] Using shooter_position, distance=625.000122070313
[04:20:23] [INFO] [Bullet] Distance to wall: 625.000122070313 (42.5574075856517% of viewport)
[04:20:23] [INFO] [LastChance] Threat detected: @Area2D@824
[04:20:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(599.5662, 840.6802), shooter_id=9686074001956, bullet_pos=(931.8248, 794.0182)
[04:20:23] [INFO] [Bullet] Using shooter_position, distance=335.519195556641
[04:20:23] [INFO] [Bullet] Distance to wall: 335.519195556641 (22.8461189908497% of viewport)
[04:20:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:20:23] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[04:20:23] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[04:20:23] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[04:20:23] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:20:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(727.3043, 711.7787), source=ENEMY (Enemy4), range=1469, listeners=10
[04:20:23] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:20:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(694.8411, 740.7861), shooter_id=9686074001956, bullet_pos=(887.9594, 52.57792)
[04:20:23] [INFO] [Bullet] Using shooter_position, distance=714.790283203125
[04:20:23] [INFO] [Bullet] Distance to wall: 714.790283203125 (48.6713847667322% of viewport)
[04:20:23] [INFO] [LastChance] Threat detected: @Area2D@828
[04:20:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:23] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[04:20:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(599.5662, 840.6802), shooter_id=9686074001956, bullet_pos=(962.1757, 1027.349)
[04:20:23] [INFO] [Bullet] Using shooter_position, distance=407.836944580078
[04:20:23] [INFO] [Bullet] Distance to wall: 407.836944580078 (27.7703675024701% of viewport)
[04:20:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:20:23] [INFO] [Bullet] Starting wall penetration at (962.1757, 1027.349)
[04:20:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:23] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:20:23] [INFO] [Bullet] Exiting penetration at (966.1213, 1057.682) after traveling 25.5885429382324 pixels through wall
[04:20:23] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[04:20:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(723.2228, 716.9663), shooter_id=9686074001956, bullet_pos=(1361.354, 58.88867)
[04:20:23] [INFO] [Bullet] Using shooter_position, distance=916.666809082031
[04:20:23] [INFO] [Bullet] Distance to wall: 916.666809082031 (62.4175286320248% of viewport)
[04:20:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(621.4161, 824.0709), shooter_id=9686074001956, bullet_pos=(756.7928, 883.5184)
[04:20:23] [INFO] [Bullet] Using shooter_position, distance=147.854232788086
[04:20:23] [INFO] [Bullet] Distance to wall: 147.854232788086 (10.0676665905011% of viewport)
[04:20:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:20:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(621.4161, 824.0709), shooter_id=9686074001956, bullet_pos=(797.5354, 1010.064)
[04:20:23] [INFO] [Bullet] Using shooter_position, distance=256.147338867188
[04:20:23] [INFO] [Bullet] Distance to wall: 256.147338867188 (17.4415433168901% of viewport)
[04:20:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:20:23] [INFO] [Bullet] Starting wall penetration at (797.5354, 1010.064)
[04:20:23] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15.9480514526367
[04:20:23] [INFO] [Bullet] Body exited signal received for penetrating body
[04:20:23] [INFO] [Bullet] Exiting penetration at (806.9098, 1039.181) after traveling 25.5885467529297 pixels through wall
[04:20:23] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[04:20:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(754.3884, 696.8586), shooter_id=9686074001956, bullet_pos=(1520.367, 53.99157)
[04:20:23] [INFO] [Bullet] Using shooter_position, distance=1000.00054931641
[04:20:23] [INFO] [Bullet] Distance to wall: 1000.00054931641 (68.0918762418196% of viewport)
[04:20:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(723.2228, 716.9663), shooter_id=9686074001956, bullet_pos=(1580.639, 297.0657)
[04:20:23] [INFO] [Bullet] Using shooter_position, distance=954.713928222656
[04:20:23] [INFO] [Bullet] Distance to wall: 954.713928222656 (65.008226936793% of viewport)
[04:20:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(694.8411, 740.7861), shooter_id=9686074001956, bullet_pos=(524.5282, 376.2485)
[04:20:23] [INFO] [Bullet] Using shooter_position, distance=402.360748291016
[04:20:23] [INFO] [Bullet] Distance to wall: 402.360748291016 (27.3974832273107% of viewport)
[04:20:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:20:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[04:20:23] [ENEMY] [Enemy1] FLANKING started: target=(817.2748, 788.3161), side=left, pos=(456.5407, 434.3517)
[04:20:23] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[04:20:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(723.2228, 716.9663), shooter_id=9686074001956, bullet_pos=(1814.449, 55.55606)
[04:20:23] [INFO] [Bullet] Using shooter_position, distance=1276.02453613281
[04:20:23] [INFO] [Bullet] Distance to wall: 1276.02453613281 (86.8868570675047% of viewport)
[04:20:24] [ENEMY] [Enemy1] State: FLANKING -> RETREATING
[04:20:24] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[04:20:24] [ENEMY] [Enemy2] FLANKING started: target=(833.449, 818.7006), side=left, pos=(457.5765, 555.7547)
[04:20:24] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[04:20:24] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[04:20:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[04:20:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(694.8411, 740.7861), shooter_id=9686074001956, bullet_pos=(912.584, 825.3564)
[04:20:24] [INFO] [Bullet] Using shooter_position, distance=233.589614868164
[04:20:24] [INFO] [Bullet] Distance to wall: 233.589614868164 (15.9055464097997% of viewport)
[04:20:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:20:24] [ENEMY] [Enemy2] FLANKING corner check: angle 163.1°
[04:20:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(694.8411, 740.7861), shooter_id=9686074001956, bullet_pos=(746.2173, 1004.191)
[04:20:24] [INFO] [Bullet] Using shooter_position, distance=268.368225097656
[04:20:24] [INFO] [Bullet] Distance to wall: 268.368225097656 (18.2736859325509% of viewport)
[04:20:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:20:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[04:20:24] [ENEMY] [Enemy2] FLANKING corner check: angle -59.8°
[04:20:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(694.8411, 740.7861), shooter_id=9686074001956, bullet_pos=(494.42, 702.1358)
[04:20:24] [INFO] [Bullet] Using shooter_position, distance=204.11376953125
[04:20:24] [INFO] [Bullet] Distance to wall: 204.11376953125 (13.898481899509% of viewport)
[04:20:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:20:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[04:20:24] [ENEMY] [Enemy2] State: FLANKING -> RETREATING
[04:20:24] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[04:20:24] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[04:20:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:25] [ENEMY] [Enemy4] PURSUING corner check: angle -125.6°
[04:20:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[04:20:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(694.8411, 740.7861), shooter_id=9686074001956, bullet_pos=(980.205, 203.0937)
[04:20:25] [INFO] [Bullet] Using shooter_position, distance=608.724670410156
[04:20:25] [INFO] [Bullet] Distance to wall: 608.724670410156 (41.449182154195% of viewport)
[04:20:25] [INFO] [Bullet] Distance-based penetration chance: 98.3092874867725%
[04:20:25] [INFO] [Bullet] Starting wall penetration at (980.205, 203.0937)
[04:20:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19.1882801055908
[04:20:25] [INFO] [Bullet] Body exited signal received for penetrating body
[04:20:25] [INFO] [Bullet] Exiting penetration at (994.6539, 188.2504) after traveling 15.714563369751 pixels through wall
[04:20:25] [INFO] [Bullet] Damage multiplier after penetration: 0.0140625
[04:20:25] [ENEMY] [Enemy4] PURSUING corner check: angle -125.6°
[04:20:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[04:20:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:26] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[04:20:26] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[04:20:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:26] [ENEMY] [Enemy3] State: SUPPRESSED -> IN_COVER
[04:20:26] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[04:20:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:27] [ENEMY] [Enemy4] FLANKING started: target=(979.1702, 474.5787), side=right, pos=(867.761, 607.3637)
[04:20:27] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[04:20:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:27] [ENEMY] [Enemy4] FLANKING corner check: angle -95.2°
[04:20:27] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[04:20:27] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[04:20:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:27] [ENEMY] [Enemy4] FLANKING corner check: angle -78.5°
[04:20:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:27] [ENEMY] [Enemy1] FLANKING started: target=(793.8439, 795.142), side=left, pos=(460.3513, 471.4901)
[04:20:27] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[04:20:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:27] [ENEMY] [Enemy1] FLANKING corner check: angle 174.1°
[04:20:28] [ENEMY] [Enemy4] FLANKING corner check: angle -78.5°
[04:20:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:28] [ENEMY] [Enemy3] PURSUING corner check: angle -144.0°
[04:20:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:28] [ENEMY] [Enemy1] FLANKING corner check: angle 15.8°
[04:20:28] [ENEMY] [Enemy4] FLANKING corner check: angle -77.1°
[04:20:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:28] [ENEMY] [Enemy3] PURSUING corner check: angle -144.0°
[04:20:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:28] [ENEMY] [Enemy1] FLANKING corner check: angle -59.6°
[04:20:28] [ENEMY] [Enemy4] FLANKING corner check: angle -106.4°
[04:20:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:28] [ENEMY] [Enemy2] PURSUING corner check: angle -107.0°
[04:20:28] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[04:20:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:28] [ENEMY] [Enemy1] FLANKING corner check: angle -59.6°
[04:20:29] [ENEMY] [Enemy7] Memory: high confidence (0.89) - transitioning to PURSUING
[04:20:29] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[04:20:29] [ENEMY] [Enemy5] Memory: medium confidence (0.80) - transitioning to PURSUING
[04:20:29] [ENEMY] [Enemy5] State: IDLE -> PURSUING
[04:20:29] [ENEMY] [Enemy5] PURSUING corner check: angle 25.7°
[04:20:29] [ENEMY] [Enemy7] PURSUING corner check: angle 84.8°
[04:20:29] [ENEMY] [Enemy2] PURSUING corner check: angle -107.0°
[04:20:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1300.775, 649.7031), source=ENEMY (Enemy4), range=1469, listeners=10
[04:20:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=6
[04:20:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:29] [ENEMY] [Enemy1] FLANKING corner check: angle -80.9°
[04:20:29] [INFO] [LastChance] Threat detected: Bullet
[04:20:29] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1267.195, 663.9338), source=ENEMY (Enemy4), range=1469, listeners=10
[04:20:29] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[04:20:29] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[04:20:29] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[04:20:29] [ENEMY] [Enemy5] PURSUING corner check: angle 20.9°
[04:20:29] [INFO] [LastChance] Threat detected: @Area2D@844
[04:20:29] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:20:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:29] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[04:20:29] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[04:20:29] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[04:20:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1233.325, 663.9332), source=ENEMY (Enemy4), range=1469, listeners=10
[04:20:29] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[04:20:29] [ENEMY] [Enemy7] PURSUING corner check: angle -21.0°
[04:20:29] [INFO] [LastChance] Threat detected: Bullet
[04:20:29] [INFO] [LastChance] Triggering last chance effect!
[04:20:29] [INFO] [LastChance] Starting last chance effect:
[04:20:29] [INFO] [LastChance]   - Time will be frozen (except player)
[04:20:29] [INFO] [LastChance]   - Duration: 6.0 real seconds
[04:20:29] [INFO] [LastChance]   - Sepia intensity: 0.70
[04:20:29] [INFO] [LastChance]   - Brightness: 0.60
[04:20:29] [INFO] [LastChance] Pushed bullet Bullet from distance 131.6 to 200.0
[04:20:29] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[04:20:29] [INFO] [LastChance] Set player Player and all 19 children to PROCESS_MODE_ALWAYS
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[04:20:29] [INFO] [LastChance] Skipping player node: Player
[04:20:29] [INFO] [LastChance] Froze existing bullet casing: Casing
[04:20:29] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@809
[04:20:29] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@811
[04:20:29] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@813
[04:20:29] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@815
[04:20:29] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@821
[04:20:29] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@825
[04:20:29] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@829
[04:20:29] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@843
[04:20:29] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@845
[04:20:29] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@846
[04:20:29] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[04:20:29] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[04:20:29] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[04:20:30] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:20:30] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:20:30] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:20:30] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:20:30] [INFO] [LastChance] Ending last chance effect
[04:20:30] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[04:20:30] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[04:20:30] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[04:20:30] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[04:20:30] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[04:20:30] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[04:20:30] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[04:20:30] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[04:20:30] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[04:20:30] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[04:20:30] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[04:20:30] [INFO] [LastChance] All process modes restored
[04:20:30] [INFO] [LastChance] Restored original colors to 5 player sprites
[04:20:30] [ENEMY] [Enemy1] Death animation component initialized
[04:20:30] [ENEMY] [Enemy2] Death animation component initialized
[04:20:30] [ENEMY] [Enemy3] Death animation component initialized
[04:20:30] [ENEMY] [Enemy4] Death animation component initialized
[04:20:30] [ENEMY] [Enemy5] Death animation component initialized
[04:20:30] [ENEMY] [Enemy6] Death animation component initialized
[04:20:30] [ENEMY] [Enemy7] Death animation component initialized
[04:20:30] [ENEMY] [Enemy8] Death animation component initialized
[04:20:30] [ENEMY] [Enemy9] Death animation component initialized
[04:20:30] [ENEMY] [Enemy10] Death animation component initialized
[04:20:30] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:20:30] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:20:30] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:20:30] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:20:30] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:20:30] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:20:30] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[04:20:30] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[04:20:30] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[04:20:30] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:20:30] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[04:20:30] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[04:20:30] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[04:20:30] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[04:20:30] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[04:20:30] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[04:20:30] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[04:20:30] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[04:20:30] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[04:20:30] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[04:20:30] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[04:20:30] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[04:20:30] [INFO] [ScoreManager] Level started with 10 enemies
[04:20:30] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[04:20:30] [ENEMY] [Enemy1] Registered as sound listener
[04:20:30] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[04:20:30] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[04:20:30] [ENEMY] [Enemy2] Registered as sound listener
[04:20:30] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[04:20:30] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[04:20:30] [ENEMY] [Enemy3] Registered as sound listener
[04:20:30] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[04:20:30] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[04:20:30] [ENEMY] [Enemy4] Registered as sound listener
[04:20:30] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[04:20:30] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[04:20:30] [ENEMY] [Enemy5] Registered as sound listener
[04:20:30] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[04:20:30] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[04:20:30] [ENEMY] [Enemy6] Registered as sound listener
[04:20:30] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[04:20:30] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[04:20:30] [ENEMY] [Enemy7] Registered as sound listener
[04:20:30] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[04:20:30] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[04:20:30] [ENEMY] [Enemy8] Registered as sound listener
[04:20:30] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[04:20:30] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[04:20:30] [ENEMY] [Enemy9] Registered as sound listener
[04:20:30] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[04:20:30] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[04:20:30] [ENEMY] [Enemy10] Registered as sound listener
[04:20:30] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[04:20:30] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:20:30] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:20:30] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:20:30] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:20:30] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:20:30] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:20:30] [INFO] [LastChance] Found player: Player
[04:20:30] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:20:30] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:20:30] [INFO] [LastChance] Connected to player Died signal (C#)
[04:20:32] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[04:20:32] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[04:20:32] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[04:20:32] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[04:20:32] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[04:20:32] [ENEMY] [Enemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[04:20:32] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[04:20:32] [ENEMY] [Enemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[04:20:32] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[04:20:32] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[04:20:32] [ENEMY] [Enemy1] PURSUING corner check: angle -63.3°
[04:20:32] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[04:20:33] [ENEMY] [Enemy1] PURSUING corner check: angle -58.4°
[04:20:33] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[04:20:33] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[04:20:33] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[04:20:33] [ENEMY] [Enemy2] Memory: medium confidence (0.76) - transitioning to PURSUING
[04:20:33] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[04:20:33] [ENEMY] [Enemy2] PURSUING corner check: angle -90.0°
[04:20:33] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[04:20:33] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:20:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(565.3544, 899.5032), source=ENEMY (Enemy4), range=1469, listeners=20
[04:20:33] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[04:20:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:20:33] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[04:20:33] [INFO] [LastChance] Threat detected: Bullet
[04:20:33] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:33] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:20:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(586.0834, 882.7296), source=ENEMY (Enemy4), range=1469, listeners=10
[04:20:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:20:33] [INFO] [LastChance] Threat detected: @Area2D@1099
[04:20:33] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:33] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[04:20:33] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:20:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[04:20:34] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:20:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(601.6913, 841.9686), shooter_id=13094466096278, bullet_pos=(981.0486, 53.48042)
[04:20:34] [INFO] [Bullet] Using shooter_position, distance=875.000366210938
[04:20:34] [INFO] [Bullet] Distance to wall: 875.000366210938 (59.5803839190996% of viewport)
[04:20:34] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:20:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(652.4313, 793.048), source=ENEMY (Enemy4), range=1469, listeners=10
[04:20:34] [ENEMY] [Enemy3] Heard gunshot at (652.4313, 793.048), source_type=1, intensity=0.69, distance=60
[04:20:34] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:20:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(625.6559, 827.3707), shooter_id=13094466096278, bullet_pos=(1049.552, 61.9054)
[04:20:34] [INFO] [Bullet] Using shooter_position, distance=875.000244140625
[04:20:34] [INFO] [Bullet] Distance to wall: 875.000244140625 (59.5803756071076% of viewport)
[04:20:34] [INFO] [Bullet] Distance-based penetration chance: 77.1562284583745%
[04:20:34] [INFO] [Bullet] Starting wall penetration at (1049.552, 61.9054)
[04:20:34] [ENEMY] [Enemy3] Hit taken, health: 3/4
[04:20:34] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:20:34] [INFO] [ImpactEffects] spawn_blood_effect called at (708.3221, 771.002), dir=(0.679157, -0.733993), lethal=false
[04:20:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:20:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[04:20:34] [INFO] [ImpactEffects] Blood effect spawned at (708.3221, 771.002) (scale=1)
[04:20:34] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:20:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12.4819192886353
[04:20:34] [INFO] [Bullet] Body exited signal received for penetrating body
[04:20:34] [INFO] [Bullet] Exiting penetration at (1072.16, 21.08059) after traveling 41.6666679382324 pixels through wall
[04:20:34] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:20:34] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:20:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(678.6354, 766.4722), source=ENEMY (Enemy4), range=1469, listeners=10
[04:20:34] [ENEMY] [Enemy3] Heard gunshot at (678.6354, 766.4722), source_type=1, intensity=1.00, distance=45
[04:20:34] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:20:34] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:20:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:34] [INFO] [LastChance] Threat detected: Bullet
[04:20:34] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:34] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:20:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(706.85, 742.044), source=ENEMY (Enemy4), range=1469, listeners=10
[04:20:34] [ENEMY] [Enemy3] Heard gunshot at (706.85, 742.044), source_type=1, intensity=1.00, distance=46
[04:20:34] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:20:34] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:20:34] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[04:20:34] [INFO] [LastChance] Threat detected: @Area2D@1105
[04:20:34] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:34] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[04:20:34] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[04:20:34] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:20:34] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[04:20:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(733.5251, 726.2515), shooter_id=13094466096278, bullet_pos=(1467.087, 46.6286)
[04:20:34] [INFO] [Bullet] Using shooter_position, distance=999.999877929688
[04:20:34] [INFO] [Bullet] Distance to wall: 999.999877929688 (68.0918305258634% of viewport)
[04:20:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(764.9865, 706.6781), shooter_id=13094466096278, bullet_pos=(1389.719, 220.4216)
[04:20:34] [INFO] [Bullet] Using shooter_position, distance=791.666381835938
[04:20:34] [INFO] [Bullet] Distance to wall: 791.666381835938 (53.9060196853208% of viewport)
[04:20:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[04:20:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(764.9865, 706.6781), shooter_id=13094466096278, bullet_pos=(1146.901, 64.93573)
[04:20:34] [INFO] [Bullet] Using shooter_position, distance=746.788024902344
[04:20:34] [INFO] [Bullet] Distance to wall: 746.788024902344 (50.8501698376907% of viewport)
[04:20:34] [ENEMY] [Enemy1] FLANKING started: target=(820.2648, 788.637), side=left, pos=(456.5407, 434.3517)
[04:20:34] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[04:20:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(764.9865, 706.6781), shooter_id=13094466096278, bullet_pos=(980.5576, 202.2992)
[04:20:35] [INFO] [Bullet] Using shooter_position, distance=548.515319824219
[04:20:35] [INFO] [Bullet] Distance to wall: 548.515319824219 (37.3494167575654% of viewport)
[04:20:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:20:35] [ENEMY] [Enemy6] Hit taken, health: 1/2
[04:20:35] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[04:20:35] [INFO] [ImpactEffects] spawn_blood_effect called at (1950, 450), dir=(0.785701, 0.618606), lethal=false
[04:20:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:20:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[04:20:35] [INFO] [ImpactEffects] Blood effect spawned at (1950, 450) (scale=1)
[04:20:35] [ENEMY] [Enemy2] FLANKING started: target=(897.8214, 481.5052), side=right, pos=(457.5765, 555.7547)
[04:20:35] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[04:20:35] [ENEMY] [Enemy1] FLANKING corner check: angle 174.1°
[04:20:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(764.9865, 706.6781), shooter_id=13094466096278, bullet_pos=(825.2076, 61.43073)
[04:20:35] [INFO] [Bullet] Using shooter_position, distance=648.051513671875
[04:20:35] [INFO] [Bullet] Distance to wall: 648.051513671875 (44.1270192275736% of viewport)
[04:20:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[04:20:35] [ENEMY] [Enemy2] FLANKING corner check: angle 163.1°
[04:20:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(764.9865, 706.6781), shooter_id=13094466096278, bullet_pos=(511.7392, 266.804)
[04:20:35] [INFO] [Bullet] Using shooter_position, distance=507.566101074219
[04:20:35] [INFO] [Bullet] Distance to wall: 507.566101074219 (34.5611091539043% of viewport)
[04:20:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:20:35] [ENEMY] [Enemy1] FLANKING corner check: angle 171.5°
[04:20:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[04:20:35] [ENEMY] [Enemy2] FLANKING corner check: angle 67.2°
[04:20:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:35] [ENEMY] [Enemy1] FLANKING corner check: angle -83.2°
[04:20:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[04:20:35] [ENEMY] [Enemy2] FLANKING corner check: angle -112.2°
[04:20:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:36] [ENEMY] [Enemy1] FLANKING corner check: angle -59.6°
[04:20:36] [ENEMY] [Enemy4] PURSUING corner check: angle -128.5°
[04:20:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[04:20:36] [ENEMY] [Enemy2] FLANKING corner check: angle -108.1°
[04:20:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:36] [ENEMY] [Enemy1] FLANKING corner check: angle -59.6°
[04:20:36] [ENEMY] [Enemy4] PURSUING corner check: angle -128.5°
[04:20:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[04:20:36] [ENEMY] [Enemy2] FLANKING corner check: angle -95.1°
[04:20:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:36] [ENEMY] [Enemy1] FLANKING corner check: angle -151.3°
[04:20:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:36] [ENEMY] [Enemy2] FLANKING corner check: angle -68.7°
[04:20:36] [ENEMY] [Enemy3] State: SUPPRESSED -> IN_COVER
[04:20:36] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[04:20:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:37] [ENEMY] [Enemy1] FLANKING corner check: angle -161.9°
[04:20:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:37] [ENEMY] [Enemy2] FLANKING corner check: angle -76.0°
[04:20:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:37] [ENEMY] [Enemy1] FLANKING corner check: angle -144.7°
[04:20:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:37] [ENEMY] [Enemy2] FLANKING corner check: angle -76.0°
[04:20:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:37] [ENEMY] [Enemy1] FLANKING corner check: angle 173.9°
[04:20:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:37] [ENEMY] [Enemy2] FLANKING corner check: angle -98.3°
[04:20:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:38] [ENEMY] [Enemy4] FLANKING started: target=(979.3331, 479.1937), side=right, pos=(867.4905, 611.6365)
[04:20:38] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[04:20:38] [ENEMY] [Enemy1] FLANKING corner check: angle -142.5°
[04:20:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:38] [ENEMY] [Enemy2] FLANKING corner check: angle -94.0°
[04:20:38] [ENEMY] [Enemy4] FLANKING corner check: angle -103.1°
[04:20:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:38] [ENEMY] [Enemy2] State: FLANKING -> COMBAT
[04:20:38] [ENEMY] [Enemy1] FLANKING corner check: angle -133.4°
[04:20:38] [ENEMY] [Enemy3] PURSUING corner check: angle -123.8°
[04:20:38] [ENEMY] [Enemy7] Memory: high confidence (0.89) - transitioning to PURSUING
[04:20:38] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[04:20:38] [ENEMY] [Enemy5] Memory: medium confidence (0.80) - transitioning to PURSUING
[04:20:38] [ENEMY] [Enemy5] State: IDLE -> PURSUING
[04:20:38] [ENEMY] [Enemy7] PURSUING corner check: angle -11.5°
[04:20:38] [ENEMY] [Enemy5] PURSUING corner check: angle 25.7°
[04:20:38] [ENEMY] [Enemy4] FLANKING corner check: angle -60.0°
[04:20:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:38] [ENEMY] [Enemy1] FLANKING corner check: angle 141.7°
[04:20:38] [ENEMY] [Enemy3] PURSUING corner check: angle -123.8°
[04:20:38] [ENEMY] [Enemy5] PURSUING corner check: angle 20.9°
[04:20:38] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[04:20:38] [ENEMY] [Enemy7] PURSUING corner check: angle 95.4°
[04:20:38] [ENEMY] [Enemy4] FLANKING corner check: angle -78.9°
[04:20:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:39] [ENEMY] [Enemy1] FLANKING corner check: angle 141.9°
[04:20:39] [ENEMY] [Enemy5] PURSUING corner check: angle 20.9°
[04:20:39] [ENEMY] [Enemy4] FLANKING corner check: angle -78.2°
[04:20:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:39] [ENEMY] [Enemy1] FLANKING corner check: angle 142.0°
[04:20:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:39] [ENEMY] [Enemy4] FLANKING corner check: angle -100.2°
[04:20:39] [ENEMY] [Enemy1] FLANKING corner check: angle 142.1°
[04:20:39] [ENEMY] [Enemy1] FLANKING timeout (5.0s), target=(933.3018, 876.4427), pos=(879.3858, 704.9163)
[04:20:39] [ENEMY] [Enemy1] State: FLANKING -> PURSUING
[04:20:39] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[04:20:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:40] [ENEMY] [Enemy1] Memory confidence too low - starting search (engaged enemy)
[04:20:40] [ENEMY] [Enemy1] SEARCHING started: center=(952.0342, 677.3219), radius=100, waypoints=5
[04:20:40] [ENEMY] [Enemy1] State: PURSUING -> SEARCHING
[04:20:40] [ENEMY] [Enemy1] SEARCHING corner check: angle -174.5°
[04:20:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1300.637, 650.7398), source=ENEMY (Enemy4), range=1469, listeners=10
[04:20:40] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[04:20:40] [ENEMY] [Enemy2] Hit taken, health: 1/2
[04:20:40] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:20:40] [INFO] [ImpactEffects] spawn_blood_effect called at (1244.785, 638.7313), dir=(-0.997105, 0.076032), lethal=false
[04:20:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:20:40] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[04:20:40] [INFO] [ImpactEffects] Blood effect spawned at (1244.785, 638.7313) (scale=1)
[04:20:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1267.233, 663.9333), source=ENEMY (Enemy4), range=1469, listeners=10
[04:20:40] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[04:20:40] [ENEMY] [Enemy1] SEARCHING corner check: angle -89.9°
[04:20:40] [INFO] [LastChance] Threat detected: Bullet
[04:20:40] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:40] [ENEMY] [Enemy3] FLANKING started: target=(835.2478, 514.9614), side=right, pos=(870.2715, 685.5226)
[04:20:40] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[04:20:40] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[04:20:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[04:20:40] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[04:20:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1233.607, 663.9333), source=ENEMY (Enemy4), range=1469, listeners=10
[04:20:40] [ENEMY] [Enemy2] Heard gunshot at (1233.607, 663.9333), source_type=1, intensity=1.00, distance=21
[04:20:40] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[04:20:40] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[04:20:40] [INFO] [LastChance] Threat detected: @Area2D@1135
[04:20:40] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:20:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[04:20:40] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[04:20:40] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[04:20:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1195.288, 663.9335), source=ENEMY (Enemy4), range=1469, listeners=10
[04:20:40] [ENEMY] [Enemy2] Heard gunshot at (1195.288, 663.9335), source_type=1, intensity=1.00, distance=39
[04:20:40] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[04:20:40] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[04:20:40] [INFO] [LastChance] Threat detected: Bullet
[04:20:40] [INFO] [LastChance] Triggering last chance effect!
[04:20:40] [INFO] [LastChance] Starting last chance effect:
[04:20:40] [INFO] [LastChance]   - Time will be frozen (except player)
[04:20:40] [INFO] [LastChance]   - Duration: 6.0 real seconds
[04:20:40] [INFO] [LastChance]   - Sepia intensity: 0.70
[04:20:40] [INFO] [LastChance]   - Brightness: 0.60
[04:20:40] [INFO] [LastChance] Pushed bullet Bullet from distance 134.6 to 200.0
[04:20:40] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[04:20:40] [INFO] [LastChance] Set player Player and all 19 children to PROCESS_MODE_ALWAYS
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[04:20:40] [INFO] [LastChance] Skipping player node: Player
[04:20:40] [INFO] [LastChance] Froze existing bullet casing: Casing
[04:20:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1100
[04:20:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1102
[04:20:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1104
[04:20:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1106
[04:20:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1133
[04:20:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1134
[04:20:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1136
[04:20:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1139
[04:20:40] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[04:20:40] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[04:20:40] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[04:20:40] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:20:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:20:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:20:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:20:41] [INFO] [LastChance] Ending last chance effect
[04:20:41] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[04:20:41] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[04:20:41] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[04:20:41] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[04:20:41] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[04:20:41] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[04:20:41] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[04:20:41] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[04:20:41] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[04:20:41] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[04:20:41] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[04:20:41] [INFO] [LastChance] All process modes restored
[04:20:41] [INFO] [LastChance] Restored original colors to 5 player sprites
[04:20:41] [ENEMY] [Enemy1] Death animation component initialized
[04:20:41] [ENEMY] [Enemy2] Death animation component initialized
[04:20:41] [ENEMY] [Enemy3] Death animation component initialized
[04:20:41] [ENEMY] [Enemy4] Death animation component initialized
[04:20:41] [ENEMY] [Enemy5] Death animation component initialized
[04:20:41] [ENEMY] [Enemy6] Death animation component initialized
[04:20:41] [ENEMY] [Enemy7] Death animation component initialized
[04:20:41] [ENEMY] [Enemy8] Death animation component initialized
[04:20:41] [ENEMY] [Enemy9] Death animation component initialized
[04:20:41] [ENEMY] [Enemy10] Death animation component initialized
[04:20:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:20:41] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:20:41] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:20:41] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:20:41] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:20:41] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:20:41] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[04:20:41] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[04:20:41] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[04:20:41] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:20:41] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[04:20:41] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[04:20:41] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[04:20:41] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[04:20:41] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[04:20:41] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[04:20:41] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[04:20:41] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[04:20:41] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[04:20:41] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[04:20:41] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[04:20:41] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[04:20:41] [INFO] [ScoreManager] Level started with 10 enemies
[04:20:41] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[04:20:41] [ENEMY] [Enemy1] Registered as sound listener
[04:20:41] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[04:20:41] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[04:20:41] [ENEMY] [Enemy2] Registered as sound listener
[04:20:41] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[04:20:41] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[04:20:41] [ENEMY] [Enemy3] Registered as sound listener
[04:20:41] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[04:20:41] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[04:20:41] [ENEMY] [Enemy4] Registered as sound listener
[04:20:41] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[04:20:41] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[04:20:41] [ENEMY] [Enemy5] Registered as sound listener
[04:20:41] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[04:20:41] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[04:20:41] [ENEMY] [Enemy6] Registered as sound listener
[04:20:41] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[04:20:41] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[04:20:41] [ENEMY] [Enemy7] Registered as sound listener
[04:20:41] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[04:20:41] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[04:20:41] [ENEMY] [Enemy8] Registered as sound listener
[04:20:41] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[04:20:41] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[04:20:41] [ENEMY] [Enemy9] Registered as sound listener
[04:20:41] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[04:20:41] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[04:20:41] [ENEMY] [Enemy10] Registered as sound listener
[04:20:41] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[04:20:41] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:20:41] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:20:41] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:20:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:20:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:20:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:20:41] [INFO] [LastChance] Found player: Player
[04:20:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:20:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:20:41] [INFO] [LastChance] Connected to player Died signal (C#)
[04:20:42] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[04:20:42] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[04:20:42] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[04:20:42] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[04:20:43] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[04:20:43] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:20:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=20
[04:20:43] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[04:20:43] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[04:20:43] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[04:20:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:20:43] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[04:20:43] [INFO] [LastChance] Threat detected: Bullet
[04:20:43] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:43] [ENEMY] [Enemy1] Memory: medium confidence (0.63) - transitioning to PURSUING
[04:20:43] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[04:20:43] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[04:20:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(652.0554, 701.71), shooter_id=16486231967366, bullet_pos=(523.1849, 538.0177)
[04:20:43] [INFO] [Bullet] Using shooter_position, distance=208.333374023438
[04:20:43] [INFO] [Bullet] Distance to wall: 208.333374023438 (14.1858025285506% of viewport)
[04:20:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:20:43] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:20:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[04:20:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:20:43] [INFO] [LastChance] Threat detected: @Area2D@1396
[04:20:43] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:43] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:20:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[04:20:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:20:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(659.4366, 695.363), shooter_id=16486231967366, bullet_pos=(513.5641, 442.7947)
[04:20:43] [INFO] [Bullet] Using shooter_position, distance=291.666748046875
[04:20:43] [INFO] [Bullet] Distance to wall: 291.666748046875 (19.8601252023692% of viewport)
[04:20:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:20:43] [INFO] [LastChance] Threat detected: @Area2D@1398
[04:20:43] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:43] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[04:20:43] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:20:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[04:20:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:20:43] [INFO] [LastChance] Threat detected: @Area2D@1401
[04:20:43] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(668.2118, 689.8326), shooter_id=16486231967366, bullet_pos=(517.0814, 301.5404)
[04:20:43] [INFO] [Bullet] Using shooter_position, distance=416.666839599609
[04:20:43] [INFO] [Bullet] Distance to wall: 416.666839599609 (28.3716112910951% of viewport)
[04:20:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:20:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(652.0554, 701.71), shooter_id=16486231967366, bullet_pos=(1001.177, 57.29423)
[04:20:43] [INFO] [Bullet] Using shooter_position, distance=732.910278320313
[04:20:43] [INFO] [Bullet] Distance to wall: 732.910278320313 (49.9052085539945% of viewport)
[04:20:43] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[04:20:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(659.4366, 695.363), shooter_id=16486231967366, bullet_pos=(745.3377, 39.19379)
[04:20:43] [INFO] [Bullet] Using shooter_position, distance=661.76806640625
[04:20:43] [INFO] [Bullet] Distance to wall: 661.76806640625 (45.0610045257736% of viewport)
[04:20:43] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:20:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[04:20:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:20:44] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[04:20:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(652.0554, 701.71), shooter_id=16486231967366, bullet_pos=(1120.871, 199.1745)
[04:20:44] [INFO] [Bullet] Using shooter_position, distance=687.262512207031
[04:20:44] [INFO] [Bullet] Distance to wall: 687.262512207031 (46.7969682205008% of viewport)
[04:20:44] [INFO] [LastChance] Threat detected: @Area2D@1406
[04:20:44] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:44] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[04:20:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(668.2118, 689.8326), shooter_id=16486231967366, bullet_pos=(636.6917, 39.18657)
[04:20:44] [INFO] [Bullet] Using shooter_position, distance=651.409057617188
[04:20:44] [INFO] [Bullet] Distance to wall: 651.409057617188 (44.3556405687888% of viewport)
[04:20:44] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:20:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[04:20:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:20:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(652.0554, 701.71), shooter_id=16486231967366, bullet_pos=(1208.479, 67.04968)
[04:20:44] [INFO] [Bullet] Using shooter_position, distance=844.038513183594
[04:20:44] [INFO] [Bullet] Distance to wall: 844.038513183594 (57.4721344126404% of viewport)
[04:20:44] [INFO] [Bullet] Distance-based penetration chance: 79.6158431852529%
[04:20:44] [INFO] [Bullet] Penetration failed (distance roll)
[04:20:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(676.6033, 686.1002), shooter_id=16486231967366, bullet_pos=(520.655, 37.93015)
[04:20:44] [INFO] [Bullet] Using shooter_position, distance=666.66650390625
[04:20:44] [INFO] [Bullet] Distance to wall: 666.66650390625 (45.3945481425809% of viewport)
[04:20:44] [INFO] [Bullet] Distance-based penetration chance: 93.7063605003223%
[04:20:44] [INFO] [Bullet] Starting wall penetration at (520.655, 37.93015)
[04:20:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40.5672912597656
[04:20:44] [INFO] [Bullet] Body exited signal received for penetrating body
[04:20:44] [INFO] [Bullet] Exiting penetration at (509.7386, -7.441765) after traveling 41.6666717529297 pixels through wall
[04:20:44] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:20:44] [INFO] [LastChance] Threat detected: @Area2D@1410
[04:20:44] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[04:20:44] [INFO] [LastChance] Threat detected: @Area2D@1398
[04:20:44] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:44] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:20:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[04:20:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:20:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(684.1554, 683.8218), shooter_id=16486231967366, bullet_pos=(609.2589, 63.32566)
[04:20:44] [INFO] [Bullet] Using shooter_position, distance=625
[04:20:44] [INFO] [Bullet] Distance to wall: 625 (42.5573992736596% of viewport)
[04:20:44] [INFO] [Bullet] Distance-based penetration chance: 97.0163675140638%
[04:20:44] [INFO] [Bullet] Starting wall penetration at (609.2589, 63.32566)
[04:20:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15.1136322021484
[04:20:44] [INFO] [Bullet] Body exited signal received for penetrating body
[04:20:44] [INFO] [Bullet] Exiting penetration at (603.6666, 16.99528) after traveling 41.6666679382324 pixels through wall
[04:20:44] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:20:44] [ENEMY] [Enemy1] PURSUING corner check: angle 153.7°
[04:20:44] [INFO] [LastChance] Threat detected: Bullet
[04:20:44] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:20:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:20:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[04:20:44] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[04:20:44] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[04:20:44] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:20:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[04:20:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:20:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(690.7454, 682.5837), shooter_id=16486231967366, bullet_pos=(677.2798, 57.72893)
[04:20:44] [INFO] [Bullet] Using shooter_position, distance=624.999877929688
[04:20:44] [INFO] [Bullet] Distance to wall: 624.999877929688 (42.5573909616676% of viewport)
[04:20:44] [INFO] [Bullet] Distance-based penetration chance: 97.0163772113878%
[04:20:44] [INFO] [Bullet] Starting wall penetration at (677.2798, 57.72893)
[04:20:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20.931770324707
[04:20:44] [INFO] [Bullet] Body exited signal received for penetrating body
[04:20:44] [INFO] [Bullet] Exiting penetration at (676.2744, 11.07309) after traveling 41.6666679382324 pixels through wall
[04:20:44] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:20:44] [INFO] [LastChance] Threat detected: @Area2D@1416
[04:20:44] [INFO] [LastChance] Triggering last chance effect!
[04:20:44] [INFO] [LastChance] Starting last chance effect:
[04:20:44] [INFO] [LastChance]   - Time will be frozen (except player)
[04:20:44] [INFO] [LastChance]   - Duration: 6.0 real seconds
[04:20:44] [INFO] [LastChance]   - Sepia intensity: 0.70
[04:20:44] [INFO] [LastChance]   - Brightness: 0.60
[04:20:44] [INFO] [LastChance] Pushed bullet @Area2D@1416 from distance 145.8 to 200.0
[04:20:44] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[04:20:44] [INFO] [LastChance] Set player Player and all 19 children to PROCESS_MODE_ALWAYS
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[04:20:44] [INFO] [LastChance] Skipping player node: Player
[04:20:44] [INFO] [LastChance] Froze existing bullet casing: Casing
[04:20:44] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1397
[04:20:44] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1399
[04:20:44] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1402
[04:20:44] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1407
[04:20:44] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1411
[04:20:44] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1414
[04:20:44] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1417
[04:20:44] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[04:20:44] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[04:20:44] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[04:20:50] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[04:20:50] [INFO] [LastChance] Ending last chance effect
[04:20:50] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=true
[04:20:50] [ENEMY] [Enemy1] Search mode: PURSUING -> SEARCHING at (700, 750)
[04:20:50] [ENEMY] [Enemy1] SEARCHING started: center=(700, 750), radius=100, waypoints=5
[04:20:50] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=true
[04:20:50] [ENEMY] [Enemy2] Search mode: PURSUING -> SEARCHING at (700, 750)
[04:20:50] [ENEMY] [Enemy2] SEARCHING started: center=(700, 750), radius=100, waypoints=5
[04:20:50] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=true
[04:20:50] [ENEMY] [Enemy3] Search mode: COMBAT -> SEARCHING at (778.9515, 422.3209)
[04:20:50] [ENEMY] [Enemy3] SEARCHING started: center=(778.9515, 422.3209), radius=100, waypoints=5
[04:20:50] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=true
[04:20:50] [ENEMY] [Enemy4] Search mode: PURSUING -> SEARCHING at (685.4435, 448.8582)
[04:20:50] [ENEMY] [Enemy4] SEARCHING started: center=(685.4435, 448.8582), radius=100, waypoints=5
[04:20:50] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[04:20:50] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[04:20:50] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[04:20:50] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[04:20:50] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[04:20:50] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[04:20:50] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[04:20:50] [INFO] [LastChance] All process modes restored
[04:20:50] [INFO] [LastChance] Unfroze bullet casing: Casing
[04:20:50] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1397
[04:20:50] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1399
[04:20:50] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1402
[04:20:50] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1407
[04:20:50] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1411
[04:20:50] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1414
[04:20:50] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1417
[04:20:50] [INFO] [LastChance] Restored original colors to 5 player sprites
[04:20:50] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[04:20:50] [ENEMY] [Enemy2] SEARCHING corner check: angle 134.2°
[04:20:50] [ENEMY] [Enemy3] SEARCHING corner check: angle -166.5°
[04:20:50] [ENEMY] [Enemy4] SEARCHING corner check: angle 179.9°
[04:20:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(712.9685, 683.1987), shooter_id=16486231967366, bullet_pos=(760.9669, 60.0444)
[04:20:50] [INFO] [Bullet] Using shooter_position, distance=625.000122070313
[04:20:50] [INFO] [Bullet] Distance to wall: 625.000122070313 (42.5574075856517% of viewport)
[04:20:50] [INFO] [Bullet] Distance-based penetration chance: 97.0163578167397%
[04:20:50] [INFO] [Bullet] Starting wall penetration at (760.9669, 60.0444)
[04:20:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18.5391998291016
[04:20:50] [INFO] [Bullet] Body exited signal received for penetrating body
[04:20:50] [INFO] [Bullet] Exiting penetration at (764.5507, 13.51555) after traveling 41.6666679382324 pixels through wall
[04:20:50] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:20:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:50] [ENEMY] [Enemy1] SEARCHING corner check: angle 168.9°
[04:20:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(720.3179, 685.0555), shooter_id=16486231967366, bullet_pos=(837.7701, 41.33341)
[04:20:50] [INFO] [Bullet] Using shooter_position, distance=654.349426269531
[04:20:50] [INFO] [Bullet] Distance to wall: 654.349426269531 (44.5558556771881% of viewport)
[04:20:50] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[04:20:50] [ENEMY] [Enemy3] SEARCHING corner check: angle -166.5°
[04:20:50] [ENEMY] [Enemy4] SEARCHING corner check: angle 163.7°
[04:20:50] [ENEMY] [Enemy2] SEARCHING corner check: angle -60.5°
[04:20:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:50] [ENEMY] [Enemy1] SEARCHING corner check: angle -60.6°
[04:20:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[04:20:51] [ENEMY] [Enemy3] SEARCHING corner check: angle -166.5°
[04:20:51] [ENEMY] [Enemy4] SEARCHING corner check: angle 163.7°
[04:20:51] [ENEMY] [Enemy2] SEARCHING corner check: angle -60.5°
[04:20:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:51] [ENEMY] [Enemy1] SEARCHING corner check: angle -60.6°
[04:20:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[04:20:51] [ENEMY] [Enemy3] SEARCHING corner check: angle -166.5°
[04:20:51] [ENEMY] [Enemy4] SEARCHING corner check: angle 163.7°
[04:20:51] [ENEMY] [Enemy2] SEARCHING corner check: angle -60.5°
[04:20:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[04:20:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[04:20:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[04:20:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:52] [ENEMY] [Enemy1] SEARCHING corner check: angle -47.4°
[04:20:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[04:20:52] [ENEMY] [Enemy2] SEARCHING corner check: angle 133.4°
[04:20:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:52] [ENEMY] [Enemy1] SEARCHING corner check: angle 132.6°
[04:20:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:53] [ENEMY] [Enemy3] SEARCHING corner check: angle -130.9°
[04:20:53] [ENEMY] [Enemy4] SEARCHING corner check: angle 179.3°
[04:20:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:54] [ENEMY] [Enemy3] SEARCHING corner check: angle -130.9°
[04:20:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:54] [ENEMY] [Enemy2] SEARCHING corner check: angle -61.4°
[04:20:54] [ENEMY] [Enemy1] SEARCHING corner check: angle -62.1°
[04:20:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:54] [ENEMY] [Enemy2] SEARCHING corner check: angle -61.4°
[04:20:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:55] [ENEMY] [Enemy4] SEARCHING corner check: angle -0.4°
[04:20:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:55] [ENEMY] [Enemy3] SEARCHING corner check: angle 22.2°
[04:20:55] [ENEMY] [Enemy4] SEARCHING corner check: angle -0.4°
[04:20:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:55] [ENEMY] [Enemy1] SEARCHING corner check: angle -129.0°
[04:20:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:55] [ENEMY] [Enemy3] SEARCHING corner check: angle 22.2°
[04:20:55] [ENEMY] [Enemy4] SEARCHING corner check: angle -0.4°
[04:20:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:55] [ENEMY] [Enemy2] SEARCHING corner check: angle -128.6°
[04:20:56] [ENEMY] [Enemy1] SEARCHING corner check: angle 51.0°
[04:20:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:57] [ENEMY] [Enemy3] SEARCHING corner check: angle 142.8°
[04:20:57] [ENEMY] [Enemy4] SEARCHING corner check: angle 132.7°
[04:20:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:57] [ENEMY] [Enemy1] SEARCHING corner check: angle -88.7°
[04:20:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:57] [ENEMY] [Enemy2] SEARCHING corner check: angle -88.8°
[04:20:57] [ENEMY] [Enemy4] SEARCHING corner check: angle 132.7°
[04:20:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:58] [ENEMY] [Enemy3] SEARCHING: Expand outer ring r=175 wps=4
[04:20:58] [ENEMY] [Enemy3] SEARCHING corner check: angle 36.4°
[04:20:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:58] [ENEMY] [Enemy4] SEARCHING: Expand outer ring r=175 wps=4
[04:20:58] [ENEMY] [Enemy1] SEARCHING: Expand outer ring r=175 wps=4
[04:20:58] [ENEMY] [Enemy1] SEARCHING corner check: angle -154.0°
[04:20:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:58] [ENEMY] [Enemy2] SEARCHING: Expand outer ring r=175 wps=4
[04:20:58] [ENEMY] [Enemy2] SEARCHING corner check: angle -154.0°
[04:20:58] [ENEMY] [Enemy3] SEARCHING corner check: angle -143.6°
[04:20:58] [ENEMY] [Enemy4] SEARCHING corner check: angle 25.8°
[04:20:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:20:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:20:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:00] [ENEMY] [Enemy1] SEARCHING corner check: angle -52.4°
[04:21:00] [ENEMY] [Enemy2] SEARCHING corner check: angle -52.4°
[04:21:00] [ENEMY] [Enemy3] SEARCHING corner check: angle -52.2°
[04:21:00] [ENEMY] [Enemy4] SEARCHING corner check: angle -52.1°
[04:21:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:00] [ENEMY] [Enemy1] SEARCHING corner check: angle -52.4°
[04:21:00] [ENEMY] [Enemy2] SEARCHING corner check: angle -52.4°
[04:21:00] [ENEMY] [Enemy4] SEARCHING corner check: angle -52.1°
[04:21:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:01] [ENEMY] [Enemy3] SEARCHING corner check: angle 6.1°
[04:21:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:01] [ENEMY] [Enemy1] SEARCHING corner check: angle -170.0°
[04:21:01] [ENEMY] [Enemy2] SEARCHING corner check: angle -170.0°
[04:21:01] [ENEMY] [Enemy3] SEARCHING corner check: angle 6.1°
[04:21:01] [ENEMY] [Enemy4] SEARCHING corner check: angle 27.1°
[04:21:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:02] [ENEMY] [Enemy1] SEARCHING corner check: angle -170.0°
[04:21:02] [ENEMY] [Enemy2] SEARCHING corner check: angle -170.0°
[04:21:02] [ENEMY] [Enemy4] SEARCHING corner check: angle 27.1°
[04:21:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:03] [ENEMY] [Enemy3] SEARCHING corner check: angle 90.7°
[04:21:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:03] [ENEMY] [Enemy1] SEARCHING corner check: angle -74.6°
[04:21:03] [ENEMY] [Enemy2] SEARCHING corner check: angle -74.6°
[04:21:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:03] [ENEMY] [Enemy3] SEARCHING corner check: angle 90.7°
[04:21:03] [ENEMY] [Enemy4] SEARCHING corner check: angle -60.5°
[04:21:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:03] [ENEMY] [Enemy3] SEARCHING corner check: angle 90.7°
[04:21:03] [ENEMY] [Enemy4] SEARCHING corner check: angle 119.5°
[04:21:03] [ENEMY] [Enemy1] SEARCHING corner check: angle -74.6°
[04:21:03] [ENEMY] [Enemy2] SEARCHING corner check: angle -74.6°
[04:21:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:04] [ENEMY] [Enemy4] SEARCHING corner check: angle 119.5°
[04:21:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:05] [ENEMY] [Enemy3] SEARCHING: Expand outer ring r=250 wps=4
[04:21:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:05] [ENEMY] [Enemy1] SEARCHING: Expand outer ring r=250 wps=4
[04:21:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:05] [ENEMY] [Enemy3] SEARCHING corner check: angle 12.2°
[04:21:05] [ENEMY] [Enemy2] SEARCHING: Expand outer ring r=250 wps=4
[04:21:05] [ENEMY] [Enemy4] SEARCHING: Expand outer ring r=250 wps=4
[04:21:05] [ENEMY] [Enemy1] SEARCHING corner check: angle 0.3°
[04:21:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:05] [ENEMY] [Enemy2] SEARCHING corner check: angle 0.3°
[04:21:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:05] [ENEMY] [Enemy3] SEARCHING corner check: angle 12.2°
[04:21:05] [ENEMY] [Enemy4] SEARCHING corner check: angle -0.0°
[04:21:05] [ENEMY] [Enemy1] SEARCHING corner check: angle 0.3°
[04:21:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:05] [ENEMY] [Enemy2] SEARCHING corner check: angle 0.3°
[04:21:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:05] [ENEMY] [Enemy3] SEARCHING corner check: angle 12.2°
[04:21:05] [ENEMY] [Enemy4] SEARCHING corner check: angle -0.0°
[04:21:06] [ENEMY] [Enemy1] SEARCHING corner check: angle 0.3°
[04:21:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:06] [ENEMY] [Enemy2] SEARCHING corner check: angle 0.3°
[04:21:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:07] [ENEMY] [Enemy3] SEARCHING corner check: angle 104.4°
[04:21:07] [ENEMY] [Enemy4] SEARCHING corner check: angle 110.5°
[04:21:07] [ENEMY] [Enemy1] SEARCHING corner check: angle -69.3°
[04:21:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:07] [ENEMY] [Enemy2] SEARCHING corner check: angle -69.3°
[04:21:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:07] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:07] [ENEMY] [Enemy3] SEARCHING: Player spotted! Transitioning to COMBAT
[04:21:07] [ENEMY] [Enemy3] State: SEARCHING -> COMBAT
[04:21:07] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:07] [ENEMY] [Enemy4] SEARCHING corner check: angle 110.5°
[04:21:07] [ENEMY] [Enemy1] SEARCHING corner check: angle -69.3°
[04:21:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:07] [ENEMY] [Enemy2] SEARCHING corner check: angle -69.3°
[04:21:07] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:07] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:08] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:08] [ENEMY] [Enemy4] SEARCHING corner check: angle 110.5°
[04:21:08] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:21:08] [ENEMY] [Enemy4] SEARCHING: Player spotted! Transitioning to COMBAT
[04:21:08] [ENEMY] [Enemy4] State: SEARCHING -> COMBAT
[04:21:08] [ENEMY] [Enemy1] SEARCHING corner check: angle -69.3°
[04:21:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:08] [ENEMY] [Enemy2] SEARCHING corner check: angle -69.3°
[04:21:08] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:08] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:21:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:08] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:08] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:21:08] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[04:21:08] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:21:08] [ENEMY] [Enemy1] SEARCHING corner check: angle -69.3°
[04:21:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:08] [ENEMY] [Enemy2] SEARCHING corner check: angle -69.3°
[04:21:08] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:21:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:08] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[04:21:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:09] [ENEMY] [Enemy1] SEARCHING corner check: angle -75.4°
[04:21:09] [ENEMY] [Enemy2] SEARCHING corner check: angle -75.4°
[04:21:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:09] [ENEMY] [Enemy3] PURSUING corner check: angle 158.3°
[04:21:09] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:10] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:10] [ENEMY] [Enemy1] SEARCHING corner check: angle -75.4°
[04:21:10] [ENEMY] [Enemy2] SEARCHING corner check: angle -75.4°
[04:21:10] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:10] [ENEMY] [Enemy3] PURSUING corner check: angle -21.7°
[04:21:10] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:10] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:21:10] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:10] [ENEMY] [Enemy1] SEARCHING corner check: angle -75.4°
[04:21:10] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:21:10] [ENEMY] [Enemy2] SEARCHING corner check: angle -75.4°
[04:21:10] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[04:21:10] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(915.4647, 540.0531), source=ENEMY (Enemy3), range=1469, listeners=10
[04:21:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:21:10] [ENEMY] [Enemy4] PURSUING corner check: angle -21.8°
[04:21:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(925.3157, 607.3848), shooter_id=16486231967366, bullet_pos=(925.3157, 607.3848)
[04:21:10] [INFO] [Bullet] Using shooter_position, distance=0
[04:21:10] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[04:21:10] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[04:21:10] [INFO] [Bullet] Starting wall penetration at (925.3157, 607.3848)
[04:21:10] [INFO] [LastChance] Threat detected: Bullet
[04:21:10] [INFO] [LastChance] Effect already used this life
[04:21:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 5.12982511520386
[04:21:10] [ENEMY] [Enemy6] Memory: medium confidence (0.76) - transitioning to PURSUING
[04:21:10] [ENEMY] [Enemy6] State: IDLE -> PURSUING
[04:21:10] [INFO] [Bullet] Max penetration distance exceeded: 83.3333435058594 >= 48
[04:21:10] [INFO] [Bullet] Body exited signal received for penetrating body
[04:21:10] [INFO] [Bullet] Exiting penetration at (948.0372, 692.7459) after traveling 83.3333435058594 pixels through wall
[04:21:10] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:21:10] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:21:10] [ENEMY] [Enemy5] Memory: medium confidence (0.68) - transitioning to PURSUING
[04:21:10] [ENEMY] [Enemy5] State: IDLE -> PURSUING
[04:21:10] [ENEMY] [Enemy6] PURSUING corner check: angle 38.6°
[04:21:10] [ENEMY] [Enemy5] PURSUING corner check: angle 25.7°
[04:21:10] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(919.4097, 549.9635), source=ENEMY (Enemy3), range=1469, listeners=10
[04:21:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:21:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(928.6135, 617.3867), shooter_id=16486231967366, bullet_pos=(928.6135, 617.3867)
[04:21:10] [INFO] [Bullet] Using shooter_position, distance=0
[04:21:10] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[04:21:10] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[04:21:10] [INFO] [Bullet] Starting wall penetration at (928.6135, 617.3867)
[04:21:10] [INFO] [LastChance] Threat detected: Bullet
[04:21:10] [INFO] [LastChance] Effect already used this life
[04:21:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16.8740139007568
[04:21:10] [INFO] [Bullet] Body exited signal received for penetrating body
[04:21:10] [INFO] [Bullet] Exiting penetration at (940.1836, 662.5963) after traveling 41.6666717529297 pixels through wall
[04:21:10] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:21:10] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[04:21:10] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[04:21:10] [INFO] [PenultimateHit] Player died - ending penultimate effect
[04:21:10] [INFO] [LastChance] Player died
[04:21:10] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:21:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:10] [ENEMY] [Enemy1] SEARCHING corner check: angle 0.2°
[04:21:10] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(919.4097, 549.9635), source=ENEMY (Enemy3), range=1469, listeners=10
[04:21:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:21:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(928.6135, 617.3867), shooter_id=16486231967366, bullet_pos=(928.6135, 617.3867)
[04:21:10] [INFO] [Bullet] Using shooter_position, distance=0
[04:21:10] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[04:21:10] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[04:21:10] [INFO] [Bullet] Starting wall penetration at (928.6135, 617.3867)
[04:21:10] [INFO] [LastChance] Threat detected: Bullet
[04:21:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:21:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16.8740139007568
[04:21:10] [INFO] [Bullet] Body exited signal received for penetrating body
[04:21:10] [INFO] [Bullet] Exiting penetration at (940.1836, 662.5963) after traveling 41.6666717529297 pixels through wall
[04:21:10] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:21:10] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[04:21:10] [ENEMY] [Enemy2] SEARCHING corner check: angle 0.2°
[04:21:10] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:21:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(915.0007, 539.1406), source=ENEMY (Enemy4), range=1469, listeners=10
[04:21:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[04:21:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(924.9521, 606.4575), shooter_id=16486517180543, bullet_pos=(924.9521, 606.4575)
[04:21:10] [INFO] [Bullet] Using shooter_position, distance=0
[04:21:10] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[04:21:10] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[04:21:10] [INFO] [Bullet] Starting wall penetration at (924.9521, 606.4575)
[04:21:10] [INFO] [LastChance] Threat detected: Bullet
[04:21:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:21:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3.95611214637756
[04:21:10] [INFO] [Bullet] Max penetration distance exceeded: 83.3333435058594 >= 48
[04:21:10] [INFO] [Bullet] Body exited signal received for penetrating body
[04:21:10] [INFO] [Bullet] Exiting penetration at (947.8011, 691.7845) after traveling 83.3333435058594 pixels through wall
[04:21:10] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:21:10] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(919.4097, 549.9635), source=ENEMY (Enemy3), range=1469, listeners=10
[04:21:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[04:21:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(928.6135, 617.3867), shooter_id=16486231967366, bullet_pos=(928.6135, 617.3867)
[04:21:10] [INFO] [Bullet] Using shooter_position, distance=0
[04:21:10] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[04:21:10] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[04:21:10] [INFO] [Bullet] Starting wall penetration at (928.6135, 617.3867)
[04:21:10] [INFO] [LastChance] Threat detected: Bullet
[04:21:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:21:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16.8740139007568
[04:21:10] [INFO] [Bullet] Body exited signal received for penetrating body
[04:21:10] [INFO] [Bullet] Exiting penetration at (940.1836, 662.5963) after traveling 41.6666717529297 pixels through wall
[04:21:10] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:21:10] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:21:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(918.9691, 549.0416), source=ENEMY (Enemy4), range=1469, listeners=10
[04:21:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[04:21:10] [ENEMY] [Enemy6] PURSUING corner check: angle 38.6°
[04:21:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(928.2737, 616.4509), shooter_id=16486517180543, bullet_pos=(928.2737, 616.4509)
[04:21:10] [INFO] [Bullet] Using shooter_position, distance=0
[04:21:10] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[04:21:10] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[04:21:10] [INFO] [Bullet] Starting wall penetration at (928.2737, 616.4509)
[04:21:10] [INFO] [LastChance] Threat detected: Bullet
[04:21:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:21:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:10] [ENEMY] [Enemy5] PURSUING corner check: angle 20.9°
[04:21:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15.6845741271973
[04:21:10] [INFO] [Bullet] Max penetration distance exceeded: 83.3333358764648 >= 48
[04:21:11] [INFO] [Bullet] Body exited signal received for penetrating body
[04:21:11] [INFO] [Bullet] Exiting penetration at (950.3023, 701.9934) after traveling 83.3333358764648 pixels through wall
[04:21:11] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:21:11] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[04:21:11] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(919.4097, 549.9635), source=ENEMY (Enemy3), range=1469, listeners=10
[04:21:11] [ENEMY] [Enemy4] Heard gunshot at (919.4097, 549.9635), source_type=1, intensity=1.00, distance=1
[04:21:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:21:11] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[04:21:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(928.6135, 617.3867), shooter_id=16486231967366, bullet_pos=(928.6135, 617.3867)
[04:21:11] [INFO] [Bullet] Using shooter_position, distance=0
[04:21:11] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[04:21:11] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[04:21:11] [INFO] [Bullet] Starting wall penetration at (928.6135, 617.3867)
[04:21:11] [INFO] [LastChance] Threat detected: Bullet
[04:21:11] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:21:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16.8740139007568
[04:21:11] [INFO] [Bullet] Body exited signal received for penetrating body
[04:21:11] [INFO] [Bullet] Exiting penetration at (940.1836, 662.5963) after traveling 41.6666717529297 pixels through wall
[04:21:11] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:21:11] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:21:11] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:21:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(921.3572, 556.1089), source=ENEMY (Enemy4), range=1469, listeners=10
[04:21:11] [ENEMY] [Enemy3] Heard gunshot at (921.3572, 556.1089), source_type=1, intensity=1.00, distance=3
[04:21:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:21:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(930.3652, 623.5585), shooter_id=16486517180543, bullet_pos=(930.3652, 623.5585)
[04:21:11] [INFO] [Bullet] Using shooter_position, distance=0
[04:21:11] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[04:21:11] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[04:21:11] [INFO] [Bullet] Starting wall penetration at (930.3652, 623.5585)
[04:21:11] [INFO] [LastChance] Threat detected: Bullet
[04:21:11] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:21:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:11] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:21:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23.6782760620117
[04:21:11] [INFO] [Bullet] Body exited signal received for penetrating body
[04:21:11] [INFO] [Bullet] Exiting penetration at (941.804, 668.8016) after traveling 41.6666679382324 pixels through wall
[04:21:11] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:21:11] [ENEMY] [Enemy7] Memory: medium confidence (0.76) - transitioning to PURSUING
[04:21:11] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[04:21:11] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(925.1245, 563.6803), source=ENEMY (Enemy3), range=1469, listeners=10
[04:21:11] [ENEMY] [Enemy4] Heard gunshot at (925.1245, 563.6803), source_type=1, intensity=1.00, distance=6
[04:21:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:21:11] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[04:21:11] [ENEMY] [Enemy7] PURSUING corner check: angle -11.5°
[04:21:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(933.0941, 631.2605), shooter_id=16486231967366, bullet_pos=(933.0941, 631.2605)
[04:21:11] [INFO] [Bullet] Using shooter_position, distance=0
[04:21:11] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[04:21:11] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[04:21:11] [INFO] [Bullet] Starting wall penetration at (933.0941, 631.2605)
[04:21:11] [INFO] [LastChance] Threat detected: Bullet
[04:21:11] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:21:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.0421333312988
[04:21:11] [INFO] [Bullet] Body exited signal received for penetrating body
[04:21:11] [INFO] [Bullet] Exiting penetration at (943.8358, 676.6741) after traveling 41.6666717529297 pixels through wall
[04:21:11] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:21:11] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:21:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(931.7942, 571.4438), source=ENEMY (Enemy4), range=1469, listeners=10
[04:21:11] [ENEMY] [Enemy3] Heard gunshot at (931.7942, 571.4438), source_type=1, intensity=1.00, distance=2
[04:21:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:21:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(936.8081, 639.3073), shooter_id=16486517180543, bullet_pos=(936.8081, 639.3073)
[04:21:11] [INFO] [Bullet] Using shooter_position, distance=0
[04:21:11] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[04:21:11] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[04:21:11] [INFO] [Bullet] Starting wall penetration at (936.8081, 639.3073)
[04:21:11] [INFO] [LastChance] Threat detected: Bullet
[04:21:11] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:21:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:11] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:21:11] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:21:11] [INFO] [Bullet] Exiting penetration at (945.5585, 685.1462) after traveling 41.6666679382324 pixels through wall
[04:21:11] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:21:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:21:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:21:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:21:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:21:11] [ENEMY] [Enemy1] Death animation component initialized
[04:21:11] [ENEMY] [Enemy2] Death animation component initialized
[04:21:11] [ENEMY] [Enemy3] Death animation component initialized
[04:21:11] [ENEMY] [Enemy4] Death animation component initialized
[04:21:11] [ENEMY] [Enemy5] Death animation component initialized
[04:21:11] [ENEMY] [Enemy6] Death animation component initialized
[04:21:11] [ENEMY] [Enemy7] Death animation component initialized
[04:21:11] [ENEMY] [Enemy8] Death animation component initialized
[04:21:11] [ENEMY] [Enemy9] Death animation component initialized
[04:21:11] [ENEMY] [Enemy10] Death animation component initialized
[04:21:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:21:11] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:21:11] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:21:11] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:21:11] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:21:11] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:21:11] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[04:21:11] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[04:21:11] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[04:21:11] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:21:11] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[04:21:11] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[04:21:11] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[04:21:11] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[04:21:11] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[04:21:11] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[04:21:11] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[04:21:11] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[04:21:11] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[04:21:11] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[04:21:11] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[04:21:11] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[04:21:11] [INFO] [ScoreManager] Level started with 10 enemies
[04:21:11] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[04:21:11] [ENEMY] [Enemy1] Registered as sound listener
[04:21:11] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[04:21:11] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[04:21:11] [ENEMY] [Enemy2] Registered as sound listener
[04:21:11] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[04:21:11] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[04:21:11] [ENEMY] [Enemy3] Registered as sound listener
[04:21:11] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[04:21:11] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[04:21:11] [ENEMY] [Enemy4] Registered as sound listener
[04:21:11] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[04:21:11] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[04:21:11] [ENEMY] [Enemy5] Registered as sound listener
[04:21:11] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[04:21:11] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[04:21:11] [ENEMY] [Enemy6] Registered as sound listener
[04:21:11] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[04:21:11] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[04:21:11] [ENEMY] [Enemy7] Registered as sound listener
[04:21:11] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[04:21:11] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[04:21:11] [ENEMY] [Enemy8] Registered as sound listener
[04:21:11] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[04:21:11] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[04:21:11] [ENEMY] [Enemy9] Registered as sound listener
[04:21:11] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[04:21:11] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[04:21:11] [ENEMY] [Enemy10] Registered as sound listener
[04:21:11] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[04:21:11] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:21:11] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:21:11] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:21:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:21:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:21:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:21:11] [INFO] [LastChance] Found player: Player
[04:21:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:21:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:21:11] [INFO] [LastChance] Connected to player Died signal (C#)
[04:21:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:21:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:21:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:21:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:21:11] [ENEMY] [Enemy1] Death animation component initialized
[04:21:11] [ENEMY] [Enemy2] Death animation component initialized
[04:21:11] [ENEMY] [Enemy3] Death animation component initialized
[04:21:11] [ENEMY] [Enemy4] Death animation component initialized
[04:21:11] [ENEMY] [Enemy5] Death animation component initialized
[04:21:11] [ENEMY] [Enemy6] Death animation component initialized
[04:21:11] [ENEMY] [Enemy7] Death animation component initialized
[04:21:11] [ENEMY] [Enemy8] Death animation component initialized
[04:21:11] [ENEMY] [Enemy9] Death animation component initialized
[04:21:11] [ENEMY] [Enemy10] Death animation component initialized
[04:21:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:21:11] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:21:11] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:21:11] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:21:11] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:21:11] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:21:11] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[04:21:11] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[04:21:11] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[04:21:11] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:21:11] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[04:21:11] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[04:21:11] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[04:21:11] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[04:21:11] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[04:21:11] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[04:21:11] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[04:21:11] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[04:21:11] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[04:21:11] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[04:21:11] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[04:21:11] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[04:21:11] [INFO] [ScoreManager] Level started with 10 enemies
[04:21:11] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[04:21:11] [ENEMY] [Enemy1] Registered as sound listener
[04:21:11] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[04:21:11] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[04:21:11] [ENEMY] [Enemy2] Registered as sound listener
[04:21:11] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[04:21:11] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[04:21:11] [ENEMY] [Enemy3] Registered as sound listener
[04:21:11] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[04:21:11] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[04:21:11] [ENEMY] [Enemy4] Registered as sound listener
[04:21:11] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[04:21:11] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[04:21:11] [ENEMY] [Enemy5] Registered as sound listener
[04:21:11] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[04:21:11] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[04:21:11] [ENEMY] [Enemy6] Registered as sound listener
[04:21:11] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[04:21:11] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[04:21:11] [ENEMY] [Enemy7] Registered as sound listener
[04:21:11] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[04:21:11] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[04:21:11] [ENEMY] [Enemy8] Registered as sound listener
[04:21:11] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[04:21:11] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[04:21:11] [ENEMY] [Enemy9] Registered as sound listener
[04:21:11] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[04:21:11] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[04:21:11] [ENEMY] [Enemy10] Registered as sound listener
[04:21:11] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[04:21:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:21:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:21:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:21:11] [INFO] [LastChance] Found player: Player
[04:21:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:21:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:21:11] [INFO] [LastChance] Connected to player Died signal (C#)
[04:21:11] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:21:11] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:21:11] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:21:12] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[04:21:12] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[04:21:13] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[04:21:13] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[04:21:13] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[04:21:13] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:21:13] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[04:21:13] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:21:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=30
[04:21:13] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[04:21:13] [ENEMY] [Enemy3] Heard gunshot at (400, 550), source_type=1, intensity=0.02, distance=361
[04:21:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[04:21:13] [INFO] [LastChance] Threat detected: Bullet
[04:21:13] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:21:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:13] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:21:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[04:21:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[04:21:13] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[04:21:13] [INFO] [LastChance] Threat detected: @Area2D@1943
[04:21:13] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:21:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(439.6971, 605.2697), shooter_id=24923376453291, bullet_pos=(691.9288, 882.7662)
[04:21:13] [INFO] [Bullet] Using shooter_position, distance=375.000244140625
[04:21:13] [INFO] [Bullet] Distance to wall: 375.000244140625 (25.5344561881799% of viewport)
[04:21:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:21:13] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[04:21:13] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[04:21:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:21:13] [INFO] [LastChance] Threat detected: @Area2D@1945
[04:21:13] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:21:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:13] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:21:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[04:21:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[04:21:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(439.6971, 605.2697), shooter_id=24923376453291, bullet_pos=(550.5725, 997.539)
[04:21:13] [INFO] [Bullet] Using shooter_position, distance=407.637786865234
[04:21:13] [INFO] [Bullet] Distance to wall: 407.637786865234 (27.7568064874476% of viewport)
[04:21:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:21:13] [INFO] [LastChance] Threat detected: @Area2D@1947
[04:21:13] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:21:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(439.6971, 605.2697), shooter_id=24923376453291, bullet_pos=(524.4514, 974.0871)
[04:21:13] [INFO] [Bullet] Using shooter_position, distance=378.430389404297
[04:21:13] [INFO] [Bullet] Distance to wall: 378.430389404297 (25.7680210866642% of viewport)
[04:21:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:21:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(448.6481, 597.5811), shooter_id=24923376453291, bullet_pos=(745.0253, 827.3322)
[04:21:13] [INFO] [Bullet] Using shooter_position, distance=374.999908447266
[04:21:13] [INFO] [Bullet] Distance to wall: 374.999908447266 (25.5344333302017% of viewport)
[04:21:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:21:13] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[04:21:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:21:13] [INFO] [LastChance] Threat detected: @Area2D@1952
[04:21:13] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:21:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:13] [ENEMY] [Enemy2] Hit taken, health: 2/3
[04:21:13] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:21:13] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(-0.807827, -0.58942), lethal=false
[04:21:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:21:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[04:21:13] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[04:21:13] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:21:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[04:21:13] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[04:21:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(448.6481, 597.5811), shooter_id=24923376453291, bullet_pos=(928.3846, 710.3466)
[04:21:13] [INFO] [Bullet] Using shooter_position, distance=492.811431884766
[04:21:13] [INFO] [Bullet] Distance to wall: 492.811431884766 (33.5564365973502% of viewport)
[04:21:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:21:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(652.7631, 701.0176), shooter_id=24923661666617, bullet_pos=(526.2875, 535.4678)
[04:21:13] [INFO] [Bullet] Using shooter_position, distance=208.333419799805
[04:21:13] [INFO] [Bullet] Distance to wall: 208.333419799805 (14.1858056455476% of viewport)
[04:21:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:21:13] [INFO] [Bullet] Starting wall penetration at (526.2875, 535.4678)
[04:21:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3.36522078514099
[04:21:13] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[04:21:13] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(696.8084, 768.1119), source=ENEMY (Enemy3), range=1469, listeners=10
[04:21:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:21:13] [INFO] [Bullet] Max penetration distance exceeded: 83.3333358764648 >= 48
[04:21:13] [INFO] [Bullet] Body exited signal received for penetrating body
[04:21:13] [INFO] [Bullet] Exiting penetration at (472.6619, 465.2747) after traveling 83.3333358764648 pixels through wall
[04:21:13] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:21:13] [INFO] [LastChance] Threat detected: @Area2D@1958
[04:21:13] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:21:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:13] [ENEMY] [Enemy3] Hit taken, health: 1/2
[04:21:13] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:21:13] [INFO] [ImpactEffects] spawn_blood_effect called at (696.6902, 771.8434), dir=(0.629807, -0.776752), lethal=false
[04:21:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:21:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[04:21:13] [INFO] [ImpactEffects] Blood effect spawned at (696.6902, 771.8434) (scale=1)
[04:21:13] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[04:21:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(455.8563, 588.8674), shooter_id=24923376453291, bullet_pos=(933.0048, 845.2501)
[04:21:13] [INFO] [Bullet] Using shooter_position, distance=541.666687011719
[04:21:13] [INFO] [Bullet] Distance to wall: 541.666687011719 (36.883080755837% of viewport)
[04:21:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:21:13] [INFO] [Bullet] Starting wall penetration at (933.0048, 845.2501)
[04:21:13] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[04:21:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 43.2665367126465
[04:21:13] [INFO] [Bullet] Body exited signal received for penetrating body
[04:21:13] [INFO] [Bullet] Exiting penetration at (974.113, 867.3384) after traveling 41.6666717529297 pixels through wall
[04:21:13] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:21:13] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[04:21:13] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[04:21:13] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[04:21:13] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[04:21:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(452.804, 592.9225), shooter_id=24923376453291, bullet_pos=(909.5162, 884.1554)
[04:21:14] [INFO] [Bullet] Using shooter_position, distance=541.666564941406
[04:21:14] [INFO] [Bullet] Distance to wall: 541.666564941406 (36.883072443845% of viewport)
[04:21:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:21:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(667.9258, 706.4971), shooter_id=24923661666617, bullet_pos=(522.2416, 271.9335)
[04:21:14] [INFO] [Bullet] Using shooter_position, distance=458.333282470703
[04:21:14] [INFO] [Bullet] Distance to wall: 458.333282470703 (31.2087560040204% of viewport)
[04:21:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:21:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(448.6481, 597.5811), shooter_id=24923376453291, bullet_pos=(505.0169, 414.0159)
[04:21:14] [INFO] [Bullet] Using shooter_position, distance=192.025100708008
[04:21:14] [INFO] [Bullet] Distance to wall: 192.025100708008 (13.0753422102326% of viewport)
[04:21:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:21:14] [INFO] [Bullet] Starting wall penetration at (505.0169, 414.0159)
[04:21:14] [INFO] [Bullet] Body exited signal received for penetrating body
[04:21:14] [INFO] [Bullet] Exiting penetration at (476.2576, 393.8862) after traveling 0 pixels through wall
[04:21:14] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[04:21:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(452.804, 592.9225), shooter_id=24923376453291, bullet_pos=(683.9542, 998.5611)
[04:21:14] [INFO] [Bullet] Using shooter_position, distance=466.875854492188
[04:21:14] [INFO] [Bullet] Distance to wall: 466.875854492188 (31.7904354413681% of viewport)
[04:21:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:21:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(667.9258, 706.4971), shooter_id=24923661666617, bullet_pos=(569.9542, 59.7313)
[04:21:14] [INFO] [Bullet] Using shooter_position, distance=654.143981933594
[04:21:14] [INFO] [Bullet] Distance to wall: 654.143981933594 (44.5418665945753% of viewport)
[04:21:14] [INFO] [Bullet] Distance-based penetration chance: 94.7011556396622%
[04:21:14] [INFO] [Bullet] Starting wall penetration at (569.9542, 59.7313)
[04:21:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11.9930295944214
[04:21:14] [INFO] [Bullet] Body exited signal received for penetrating body
[04:21:14] [INFO] [Bullet] Exiting penetration at (578.8203, 20.29909) after traveling 35.4166679382324 pixels through wall
[04:21:14] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[04:21:14] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[04:21:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(452.804, 592.9225), shooter_id=24923376453291, bullet_pos=(503.7111, 880.0219)
[04:21:14] [INFO] [Bullet] Using shooter_position, distance=291.577697753906
[04:21:14] [INFO] [Bullet] Distance to wall: 291.577697753906 (19.8540616041719% of viewport)
[04:21:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:21:14] [ENEMY] [Enemy3] Hit taken, health: 0/2
[04:21:14] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:21:14] [INFO] [ImpactEffects] spawn_blood_effect called at (731.684, 782.2012), dir=(0.907179, -0.420745), lethal=true
[04:21:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:21:14] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[04:21:14] [INFO] [ImpactEffects] Blood effect spawned at (731.684, 782.2012) (scale=1.5)
[04:21:14] [ENEMY] [Enemy3] Enemy died (ricochet: true, penetration: false)
[04:21:14] [INFO] [ScoreManager] Ricochet kill registered
[04:21:14] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[04:21:14] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[04:21:14] [INFO] [DeathAnim] Started - Angle: -24.9 deg, Index: 10
[04:21:14] [ENEMY] [Enemy3] Death animation started with hit direction: (0.907179, -0.420745)
[04:21:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[04:21:14] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[04:21:14] [ENEMY] [Enemy3] Ragdoll activated
[04:21:14] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:21:14] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[04:21:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:15] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[04:21:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:15] [ENEMY] [Enemy1] PURSUING corner check: angle 78.8°
[04:21:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[04:21:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:15] [ENEMY] [Enemy1] PURSUING corner check: angle 143.7°
[04:21:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[04:21:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:16] [ENEMY] [Enemy3] Death animation completed
[04:21:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[04:21:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:16] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[04:21:16] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[04:21:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[04:21:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:16] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[04:21:16] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[04:21:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[04:21:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[04:21:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:17] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[04:21:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:17] [ENEMY] [Enemy1] PURSUING corner check: angle -178.7°
[04:21:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:17] [ENEMY] [Enemy2] PURSUING corner check: angle -69.0°
[04:21:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:18] [ENEMY] [Enemy4] PURSUING corner check: angle -83.1°
[04:21:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:18] [ENEMY] [Enemy4] PURSUING corner check: angle -47.6°
[04:21:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:19] [ENEMY] [Enemy1] PURSUING corner check: angle -130.4°
[04:21:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:19] [ENEMY] [Enemy2] PURSUING corner check: angle -11.5°
[04:21:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:20] [ENEMY] [Enemy4] PURSUING corner check: angle 88.4°
[04:21:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:21] [ENEMY] [Enemy1] FLANKING started: target=(838.8599, 842.2223), side=left, pos=(498.7353, 641.952)
[04:21:21] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[04:21:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:21] [ENEMY] [Enemy1] FLANKING corner check: angle -61.2°
[04:21:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:21] [ENEMY] [Enemy1] FLANKING corner check: angle -61.2°
[04:21:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:22] [ENEMY] [Enemy1] FLANKING corner check: angle -45.5°
[04:21:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:22] [ENEMY] [Enemy4] FLANKING started: target=(827.8898, 520.512), side=right, pos=(476.1661, 747.3149)
[04:21:22] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[04:21:22] [ENEMY] [Enemy1] FLANKING corner check: angle -156.2°
[04:21:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:22] [ENEMY] [Enemy4] FLANKING corner check: angle -102.6°
[04:21:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:22] [ENEMY] [Enemy1] FLANKING corner check: angle -142.6°
[04:21:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:22] [ENEMY] [Enemy4] FLANKING corner check: angle 52.7°
[04:21:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:22] [ENEMY] [Enemy2] FLANKING started: target=(838.7257, 842.1301), side=left, pos=(515.8143, 642.9274)
[04:21:22] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[04:21:23] [ENEMY] [Enemy1] FLANKING corner check: angle -137.8°
[04:21:23] [ENEMY] [Enemy2] FLANKING corner check: angle -61.1°
[04:21:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:23] [ENEMY] [Enemy4] FLANKING corner check: angle -125.3°
[04:21:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:23] [ENEMY] [Enemy1] FLANKING corner check: angle -175.5°
[04:21:23] [ENEMY] [Enemy2] FLANKING corner check: angle -61.1°
[04:21:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:23] [ENEMY] [Enemy4] FLANKING corner check: angle -117.3°
[04:21:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:23] [ENEMY] [Enemy1] FLANKING corner check: angle -142.3°
[04:21:23] [ENEMY] [Enemy2] FLANKING corner check: angle -75.9°
[04:21:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:23] [ENEMY] [Enemy4] FLANKING corner check: angle -97.4°
[04:21:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:24] [ENEMY] [Enemy1] FLANKING corner check: angle 135.3°
[04:21:24] [ENEMY] [Enemy2] FLANKING corner check: angle -153.6°
[04:21:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:24] [ENEMY] [Enemy4] FLANKING corner check: angle -64.0°
[04:21:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:24] [ENEMY] [Enemy1] FLANKING corner check: angle 141.8°
[04:21:24] [ENEMY] [Enemy2] FLANKING corner check: angle 165.4°
[04:21:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:24] [ENEMY] [Enemy4] FLANKING corner check: angle -76.8°
[04:21:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:24] [ENEMY] [Enemy1] FLANKING corner check: angle 142.0°
[04:21:24] [ENEMY] [Enemy2] FLANKING corner check: angle -159.5°
[04:21:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:24] [ENEMY] [Enemy4] FLANKING corner check: angle -76.8°
[04:21:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:25] [ENEMY] [Enemy1] FLANKING corner check: angle 142.0°
[04:21:25] [ENEMY] [Enemy2] FLANKING corner check: angle -143.4°
[04:21:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:25] [ENEMY] [Enemy4] FLANKING corner check: angle -95.3°
[04:21:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:25] [ENEMY] [Enemy1] FLANKING stuck (2.0s no progress), target=(930.9653, 876.2086), pos=(879.4283, 703.9172), fail_count=1
[04:21:25] [ENEMY] [Enemy1] State: FLANKING -> PURSUING
[04:21:25] [ENEMY] [Enemy1] PURSUING corner check: angle -143.4°
[04:21:25] [ENEMY] [Enemy2] FLANKING corner check: angle -146.7°
[04:21:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:25] [ENEMY] [Enemy4] FLANKING corner check: angle 40.4°
[04:21:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:25] [ENEMY] [Enemy1] PURSUING corner check: angle 63.3°
[04:21:25] [ENEMY] [Enemy2] FLANKING corner check: angle 176.5°
[04:21:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:25] [ENEMY] [Enemy4] FLANKING corner check: angle 93.6°
[04:21:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:26] [ENEMY] [Enemy2] FLANKING corner check: angle 138.7°
[04:21:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:26] [ENEMY] [Enemy4] FLANKING corner check: angle 86.4°
[04:21:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:26] [ENEMY] [Enemy2] FLANKING corner check: angle 140.4°
[04:21:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:26] [ENEMY] [Enemy4] FLANKING corner check: angle 78.7°
[04:21:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:26] [ENEMY] [Enemy2] FLANKING corner check: angle 141.3°
[04:21:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:26] [ENEMY] [Enemy4] FLANKING corner check: angle 52.5°
[04:21:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:27] [ENEMY] [Enemy2] FLANKING corner check: angle 141.7°
[04:21:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:27] [ENEMY] [Enemy4] FLANKING corner check: angle 78.6°
[04:21:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:27] [ENEMY] [Enemy4] FLANKING timeout (5.0s), target=(920.7292, 874.8564), pos=(1107.858, 798.1913)
[04:21:27] [ENEMY] [Enemy4] State: FLANKING -> PURSUING
[04:21:27] [ENEMY] [Enemy2] FLANKING corner check: angle 141.9°
[04:21:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:27] [ENEMY] [Enemy1] PURSUING corner check: angle 96.6°
[04:21:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:27] [ENEMY] [Enemy2] FLANKING corner check: angle 142.0°
[04:21:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:27] [ENEMY] [Enemy1] PURSUING corner check: angle -56.8°
[04:21:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:27] [ENEMY] [Enemy2] FLANKING timeout (5.0s), target=(919.6039, 874.6748), pos=(882.5715, 708.9691)
[04:21:27] [ENEMY] [Enemy2] State: FLANKING -> PURSUING
[04:21:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:28] [ENEMY] [Enemy2] PURSUING corner check: angle -151.1°
[04:21:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:29] [ENEMY] [Enemy4] PURSUING corner check: angle 114.2°
[04:21:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:29] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[04:21:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:29] [ENEMY] [Enemy2] FLANKING started: target=(762.9903, 612.0231), side=right, pos=(803.3278, 806.332)
[04:21:29] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[04:21:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:30] [ENEMY] [Enemy2] FLANKING corner check: angle 169.5°
[04:21:30] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[04:21:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:30] [ENEMY] [Enemy2] FLANKING corner check: angle -164.7°
[04:21:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:30] [ENEMY] [Enemy2] FLANKING corner check: angle -125.6°
[04:21:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:31] [ENEMY] [Enemy2] FLANKING corner check: angle -78.2°
[04:21:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:31] [ENEMY] [Enemy2] FLANKING corner check: angle -78.7°
[04:21:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:31] [ENEMY] [Enemy1] FLANKING started: target=(860.2813, 855.0345), side=left, pos=(704.702, 688.9579)
[04:21:31] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[04:21:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:31] [ENEMY] [Enemy2] FLANKING corner check: angle -78.7°
[04:21:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:31] [ENEMY] [Enemy1] FLANKING corner check: angle -45.1°
[04:21:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:32] [ENEMY] [Enemy2] FLANKING corner check: angle -98.0°
[04:21:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:32] [ENEMY] [Enemy1] FLANKING corner check: angle 152.4°
[04:21:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:32] [ENEMY] [Enemy1] FLANKING corner check: angle -165.5°
[04:21:32] [ENEMY] [Enemy2] FLANKING corner check: angle 36.6°
[04:21:32] [ENEMY] [Enemy2] State: FLANKING -> COMBAT
[04:21:32] [ENEMY] [Enemy7] Memory: high confidence (0.89) - transitioning to PURSUING
[04:21:32] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[04:21:32] [ENEMY] [Enemy5] Memory: high confidence (0.80) - transitioning to PURSUING
[04:21:32] [ENEMY] [Enemy5] State: IDLE -> PURSUING
[04:21:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:32] [ENEMY] [Enemy5] PURSUING corner check: angle 25.7°
[04:21:32] [ENEMY] [Enemy1] FLANKING corner check: angle -138.2°
[04:21:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:32] [ENEMY] [Enemy5] PURSUING corner check: angle 20.9°
[04:21:32] [ENEMY] [Enemy7] PURSUING corner check: angle 95.4°
[04:21:33] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[04:21:33] [ENEMY] [Enemy1] FLANKING corner check: angle -145.8°
[04:21:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:33] [ENEMY] [Enemy5] PURSUING corner check: angle 20.9°
[04:21:33] [ENEMY] [Enemy1] FLANKING corner check: angle -138.8°
[04:21:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:33] [ENEMY] [Enemy1] FLANKING corner check: angle 141.4°
[04:21:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:34] [ENEMY] [Enemy1] FLANKING corner check: angle 141.9°
[04:21:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:34] [ENEMY] [Enemy1] FLANKING corner check: angle 142.0°
[04:21:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:34] [ENEMY] [Enemy1] FLANKING corner check: angle 142.0°
[04:21:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:35] [ENEMY] [Enemy1] FLANKING corner check: angle 142.1°
[04:21:35] [ENEMY] [Enemy5] PURSUING corner check: angle -105.4°
[04:21:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:35] [ENEMY] [Enemy1] FLANKING corner check: angle 142.1°
[04:21:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:35] [ENEMY] [Enemy1] FLANKING stuck (2.0s no progress), target=(919.8537, 874.7157), pos=(882.5659, 709.0765), fail_count=1
[04:21:35] [ENEMY] [Enemy1] State: FLANKING -> PURSUING
[04:21:35] [ENEMY] [Enemy1] Memory confidence too low - starting search (engaged enemy)
[04:21:35] [ENEMY] [Enemy1] SEARCHING started: center=(952.0305, 677.321), radius=100, waypoints=5
[04:21:35] [ENEMY] [Enemy1] State: PURSUING -> SEARCHING
[04:21:35] [ENEMY] [Enemy1] SEARCHING corner check: angle -175.5°
[04:21:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:36] [ENEMY] [Enemy1] SEARCHING corner check: angle -90.3°
[04:21:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:36] [ENEMY] [Enemy2] PURSUING corner check: angle -112.0°
[04:21:36] [ENEMY] [Enemy1] SEARCHING corner check: angle 0.1°
[04:21:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:36] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:21:36] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:21:36] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:21:36] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:21:36] [ENEMY] [Enemy1] Death animation component initialized
[04:21:36] [ENEMY] [Enemy2] Death animation component initialized
[04:21:36] [ENEMY] [Enemy3] Death animation component initialized
[04:21:36] [ENEMY] [Enemy4] Death animation component initialized
[04:21:36] [ENEMY] [Enemy5] Death animation component initialized
[04:21:36] [ENEMY] [Enemy6] Death animation component initialized
[04:21:36] [ENEMY] [Enemy7] Death animation component initialized
[04:21:36] [ENEMY] [Enemy8] Death animation component initialized
[04:21:36] [ENEMY] [Enemy9] Death animation component initialized
[04:21:36] [ENEMY] [Enemy10] Death animation component initialized
[04:21:36] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:21:36] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:21:36] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:21:36] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:21:36] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:21:36] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:21:36] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[04:21:36] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[04:21:36] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[04:21:36] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:21:36] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[04:21:36] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[04:21:36] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[04:21:36] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[04:21:36] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[04:21:36] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[04:21:36] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[04:21:36] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[04:21:36] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[04:21:36] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[04:21:36] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[04:21:36] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[04:21:36] [INFO] [ScoreManager] Level started with 10 enemies
[04:21:36] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[04:21:36] [ENEMY] [Enemy1] Registered as sound listener
[04:21:36] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[04:21:36] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[04:21:36] [ENEMY] [Enemy2] Registered as sound listener
[04:21:36] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[04:21:36] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[04:21:36] [ENEMY] [Enemy3] Registered as sound listener
[04:21:36] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[04:21:36] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[04:21:36] [ENEMY] [Enemy4] Registered as sound listener
[04:21:36] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[04:21:36] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[04:21:36] [ENEMY] [Enemy5] Registered as sound listener
[04:21:36] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[04:21:36] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[04:21:36] [ENEMY] [Enemy6] Registered as sound listener
[04:21:36] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[04:21:36] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[04:21:36] [ENEMY] [Enemy7] Registered as sound listener
[04:21:36] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[04:21:36] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[04:21:36] [ENEMY] [Enemy8] Registered as sound listener
[04:21:36] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[04:21:36] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[04:21:36] [ENEMY] [Enemy9] Registered as sound listener
[04:21:36] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[04:21:36] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[04:21:36] [ENEMY] [Enemy10] Registered as sound listener
[04:21:36] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[04:21:36] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:21:36] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:21:36] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:21:36] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:21:36] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:21:36] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:21:36] [INFO] [LastChance] Found player: Player
[04:21:36] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:21:36] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:21:36] [INFO] [LastChance] Connected to player Died signal (C#)
[04:21:38] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[04:21:38] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[04:21:38] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[04:21:38] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[04:21:38] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[04:21:39] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[04:21:39] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:21:39] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:21:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(784.0667, 877.2955), source=ENEMY (Enemy4), range=1469, listeners=19
[04:21:39] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[04:21:39] [ENEMY] [Enemy3] Heard gunshot at (784.0667, 877.2955), source_type=1, intensity=0.11, distance=153
[04:21:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[04:21:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(755.4391, 815.5616), shooter_id=32874350774834, bullet_pos=(755.4391, 815.5616)
[04:21:39] [INFO] [Bullet] Using shooter_position, distance=0
[04:21:39] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[04:21:39] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[04:21:39] [INFO] [Bullet] Starting wall penetration at (755.4391, 815.5616)
[04:21:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40.8088836669922
[04:21:39] [INFO] [Bullet] Body exited signal received for penetrating body
[04:21:39] [INFO] [Bullet] Exiting penetration at (740.7889, 771.2542) after traveling 41.6666679382324 pixels through wall
[04:21:39] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:21:39] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[04:21:39] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[04:21:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:21:39] [INFO] [LastChance] Threat detected: Bullet
[04:21:39] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:21:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:39] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:21:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(784.0662, 856.7173), source=ENEMY (Enemy4), range=1469, listeners=10
[04:21:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:21:39] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[04:21:39] [INFO] [LastChance] Threat detected: @Area2D@2270
[04:21:39] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:21:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:39] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[04:21:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:21:39] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:21:39] [INFO] [LastChance] Threat detected: @Area2D@2272
[04:21:39] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:21:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:39] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:21:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(784.0664, 837.6317), source=ENEMY (Enemy4), range=1469, listeners=10
[04:21:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:21:39] [INFO] [LastChance] Threat detected: @Area2D@2274
[04:21:39] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:21:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:39] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(699.0018, 768.4422), source=ENEMY (Enemy3), range=1469, listeners=10
[04:21:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:21:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(692.0653, 682.4157), shooter_id=32874065561163, bullet_pos=(690.8202, 57.41692)
[04:21:39] [INFO] [Bullet] Using shooter_position, distance=625
[04:21:39] [INFO] [Bullet] Distance to wall: 625 (42.5573992736596% of viewport)
[04:21:39] [INFO] [Bullet] Distance-based penetration chance: 97.0163675140638%
[04:21:39] [INFO] [Bullet] Starting wall penetration at (690.8202, 57.41692)
[04:21:39] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:21:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(802.3049, 808.5728), source=ENEMY (Enemy4), range=1469, listeners=10
[04:21:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:21:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21.2497024536133
[04:21:39] [INFO] [Bullet] Body exited signal received for penetrating body
[04:21:39] [INFO] [Bullet] Exiting penetration at (690.7272, 10.75034) after traveling 41.6666679382324 pixels through wall
[04:21:39] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:21:39] [INFO] [LastChance] Threat detected: @Area2D@2276
[04:21:39] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:21:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:39] [ENEMY] [Enemy1] Memory: medium confidence (0.60) - transitioning to PURSUING
[04:21:39] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[04:21:39] [INFO] [LastChance] Threat detected: @Area2D@2279
[04:21:39] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:21:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(760.7673, 792.7817), shooter_id=32874350774834, bullet_pos=(586.4417, 63.32244)
[04:21:39] [INFO] [Bullet] Using shooter_position, distance=750.000061035156
[04:21:39] [INFO] [Bullet] Distance to wall: 750.000061035156 (51.0688832843876% of viewport)
[04:21:39] [INFO] [Bullet] Distance-based penetration chance: 87.0863028348812%
[04:21:39] [INFO] [Bullet] Starting wall penetration at (586.4417, 63.32244)
[04:21:39] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[04:21:39] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[04:21:39] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[04:21:39] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(696.0444, 778.4586), source=ENEMY (Enemy3), range=1469, listeners=10
[04:21:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:21:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14.4622201919556
[04:21:39] [INFO] [Bullet] Body exited signal received for penetrating body
[04:21:39] [INFO] [Bullet] Exiting penetration at (575.5948, 17.93387) after traveling 41.6666717529297 pixels through wall
[04:21:39] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:21:39] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:21:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(811.7922, 773.4952), source=ENEMY (Enemy4), range=1469, listeners=10
[04:21:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:21:39] [INFO] [LastChance] Threat detected: Bullet
[04:21:39] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:21:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[04:21:39] [INFO] [LastChance] Threat detected: @Area2D@2283
[04:21:39] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:21:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(766.3028, 771.9426), shooter_id=32874350774834, bullet_pos=(654.7982, 30.27768)
[04:21:39] [INFO] [Bullet] Using shooter_position, distance=750.000122070313
[04:21:39] [INFO] [Bullet] Distance to wall: 750.000122070313 (51.0688874403836% of viewport)
[04:21:39] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(676.8609, 763.4153), source=ENEMY (Enemy3), range=1469, listeners=10
[04:21:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:21:39] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:21:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(811.5108, 736.1932), source=ENEMY (Enemy4), range=1469, listeners=10
[04:21:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:21:40] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[04:21:40] [INFO] [LastChance] Threat detected: @Area2D@2286
[04:21:40] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:21:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:40] [INFO] [LastChance] Threat detected: @Area2D@2288
[04:21:40] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:21:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(786.2809, 742.4379), shooter_id=32874350774834, bullet_pos=(699.491, 39.44159)
[04:21:40] [INFO] [Bullet] Using shooter_position, distance=708.333435058594
[04:21:40] [INFO] [Bullet] Distance to wall: 708.333435058594 (48.2317261034743% of viewport)
[04:21:40] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(652.2932, 756.3344), source=ENEMY (Enemy3), range=1469, listeners=10
[04:21:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:21:40] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:21:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(816.2841, 699.201), source=ENEMY (Enemy4), range=1469, listeners=10
[04:21:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:21:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(721.9823, 715.5473), shooter_id=32874065561163, bullet_pos=(915.1342, 34.05732)
[04:21:40] [INFO] [Bullet] Using shooter_position, distance=708.333435058594
[04:21:40] [INFO] [Bullet] Distance to wall: 708.333435058594 (48.2317261034743% of viewport)
[04:21:40] [INFO] [LastChance] Threat detected: @Area2D@2293
[04:21:40] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:21:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(800.0303, 706.4708), shooter_id=32874350774834, bullet_pos=(760.8262, 40.95804)
[04:21:40] [INFO] [Bullet] Using shooter_position, distance=666.666564941406
[04:21:40] [INFO] [Bullet] Distance to wall: 666.666564941406 (45.3945522985769% of viewport)
[04:21:40] [INFO] [LastChance] Threat detected: @Area2D@2291
[04:21:40] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:21:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:40] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[04:21:40] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(626.1803, 755.2996), source=ENEMY (Enemy3), range=1469, listeners=10
[04:21:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:21:40] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:21:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(817.2217, 693.9508), source=ENEMY (Enemy4), range=1469, listeners=10
[04:21:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:21:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(712.9543, 705.7277), shooter_id=32874065561163, bullet_pos=(1017.353, 66.13594)
[04:21:40] [INFO] [Bullet] Using shooter_position, distance=708.333557128906
[04:21:40] [INFO] [Bullet] Distance to wall: 708.333557128906 (48.2317344154663% of viewport)
[04:21:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(721.9823, 715.5473), shooter_id=32874065561163, bullet_pos=(980.08, 278.4932)
[04:21:40] [INFO] [Bullet] Using shooter_position, distance=507.573303222656
[04:21:40] [INFO] [Bullet] Distance to wall: 507.573303222656 (34.561599561435% of viewport)
[04:21:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:21:40] [INFO] [LastChance] Threat detected: @Area2D@2299
[04:21:40] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:21:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(697.5202, 705.4904), shooter_id=32874065561163, bullet_pos=(984.8229, 296.2753)
[04:21:40] [INFO] [Bullet] Using shooter_position, distance=499.999847412109
[04:21:40] [INFO] [Bullet] Distance to wall: 499.999847412109 (34.0459090289377% of viewport)
[04:21:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:21:40] [INFO] [LastChance] Threat detected: Bullet
[04:21:40] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:21:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:40] [INFO] [LastChance] Threat detected: @Area2D@2297
[04:21:40] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:21:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:21:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[04:21:40] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[04:21:40] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[04:21:40] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:21:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(600.0674, 754.2648), source=ENEMY (Enemy3), range=1469, listeners=10
[04:21:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[04:21:40] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[04:21:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(712.9543, 705.7277), shooter_id=32874065561163, bullet_pos=(1099.122, 228.8264)
[04:21:40] [INFO] [Bullet] Using shooter_position, distance=613.645202636719
[04:21:40] [INFO] [Bullet] Distance to wall: 613.645202636719 (41.7842302415626% of viewport)
[04:21:40] [INFO] [Bullet] Distance-based penetration chance: 97.9183980515103%
[04:21:40] [INFO] [Bullet] Starting wall penetration at (1099.122, 228.8264)
[04:21:40] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:21:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(820.9343, 694.3438), source=ENEMY (Enemy4), range=1469, listeners=10
[04:21:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:21:40] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:21:40] [INFO] [Bullet] Exiting penetration at (1117.272, 264.9384) after traveling 35.4166679382324 pixels through wall
[04:21:40] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[04:21:40] [INFO] [LastChance] Threat detected: @Area2D@2307
[04:21:40] [INFO] [LastChance] Triggering last chance effect!
[04:21:40] [INFO] [LastChance] Starting last chance effect:
[04:21:40] [INFO] [LastChance]   - Time will be frozen (except player)
[04:21:40] [INFO] [LastChance]   - Duration: 6.0 real seconds
[04:21:40] [INFO] [LastChance]   - Sepia intensity: 0.70
[04:21:40] [INFO] [LastChance]   - Brightness: 0.60
[04:21:40] [INFO] [LastChance] Pushed bullet Bullet from distance 51.0 to 200.0
[04:21:40] [INFO] [LastChance] Pushed bullet @Area2D@2291 from distance 130.7 to 200.0
[04:21:40] [INFO] [LastChance] Pushed bullet @Area2D@2297 from distance 97.8 to 200.0
[04:21:40] [INFO] [LastChance] Pushed bullet @Area2D@2307 from distance 117.2 to 200.0
[04:21:40] [INFO] [LastChance] Pushed 4 threatening bullets away from player
[04:21:40] [INFO] [LastChance] Set player Player and all 19 children to PROCESS_MODE_ALWAYS
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[04:21:40] [INFO] [LastChance] Skipping player node: Player
[04:21:40] [INFO] [LastChance] Froze existing bullet casing: Casing
[04:21:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2269
[04:21:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2271
[04:21:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2273
[04:21:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2275
[04:21:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2277
[04:21:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2280
[04:21:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2282
[04:21:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2284
[04:21:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2287
[04:21:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2289
[04:21:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2292
[04:21:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2294
[04:21:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2298
[04:21:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2300
[04:21:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2305
[04:21:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2308
[04:21:40] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[04:21:40] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[04:21:40] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[04:21:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:21:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:21:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:21:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:21:41] [INFO] [LastChance] Ending last chance effect
[04:21:41] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[04:21:41] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[04:21:41] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[04:21:41] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[04:21:41] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[04:21:41] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[04:21:41] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[04:21:41] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[04:21:41] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[04:21:41] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[04:21:41] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[04:21:41] [INFO] [LastChance] All process modes restored
[04:21:41] [INFO] [LastChance] Restored original colors to 5 player sprites
[04:21:41] [ENEMY] [Enemy1] Death animation component initialized
[04:21:41] [ENEMY] [Enemy2] Death animation component initialized
[04:21:41] [ENEMY] [Enemy3] Death animation component initialized
[04:21:41] [ENEMY] [Enemy4] Death animation component initialized
[04:21:41] [ENEMY] [Enemy5] Death animation component initialized
[04:21:41] [ENEMY] [Enemy6] Death animation component initialized
[04:21:41] [ENEMY] [Enemy7] Death animation component initialized
[04:21:41] [ENEMY] [Enemy8] Death animation component initialized
[04:21:41] [ENEMY] [Enemy9] Death animation component initialized
[04:21:41] [ENEMY] [Enemy10] Death animation component initialized
[04:21:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:21:41] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:21:41] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:21:41] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:21:41] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:21:41] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:21:41] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[04:21:41] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[04:21:41] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[04:21:41] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:21:41] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[04:21:41] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[04:21:41] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[04:21:41] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[04:21:41] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[04:21:41] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[04:21:41] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[04:21:41] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[04:21:41] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[04:21:41] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[04:21:41] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[04:21:41] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[04:21:41] [INFO] [ScoreManager] Level started with 10 enemies
[04:21:41] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[04:21:41] [ENEMY] [Enemy1] Registered as sound listener
[04:21:41] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[04:21:41] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[04:21:41] [ENEMY] [Enemy2] Registered as sound listener
[04:21:41] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[04:21:41] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[04:21:41] [ENEMY] [Enemy3] Registered as sound listener
[04:21:41] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[04:21:41] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[04:21:41] [ENEMY] [Enemy4] Registered as sound listener
[04:21:41] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[04:21:41] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[04:21:41] [ENEMY] [Enemy5] Registered as sound listener
[04:21:41] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[04:21:41] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[04:21:41] [ENEMY] [Enemy6] Registered as sound listener
[04:21:41] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[04:21:41] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[04:21:41] [ENEMY] [Enemy7] Registered as sound listener
[04:21:41] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[04:21:41] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[04:21:41] [ENEMY] [Enemy8] Registered as sound listener
[04:21:41] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[04:21:41] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[04:21:41] [ENEMY] [Enemy9] Registered as sound listener
[04:21:41] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[04:21:41] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[04:21:41] [ENEMY] [Enemy10] Registered as sound listener
[04:21:41] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[04:21:41] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:21:41] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:21:41] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:21:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:21:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:21:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:21:41] [INFO] [LastChance] Found player: Player
[04:21:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:21:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:21:41] [INFO] [LastChance] Connected to player Died signal (C#)
[04:21:42] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[04:21:42] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[04:21:43] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[04:21:43] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[04:21:43] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[04:21:43] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[04:21:43] [ENEMY] [Enemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[04:21:43] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[04:21:43] [ENEMY] [Enemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[04:21:43] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[04:21:43] [ENEMY] [Enemy2] PURSUING corner check: angle 151.0°
[04:21:43] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[04:21:43] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[04:21:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(313.8588, 378.2461), source=ENEMY (Enemy1), range=1469, listeners=20
[04:21:43] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[04:21:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=3
[04:21:43] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[04:21:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(348.8103, 436.6327), shooter_id=34156952161370, bullet_pos=(678.4634, 866.4365)
[04:21:43] [INFO] [Bullet] Using shooter_position, distance=541.666381835938
[04:21:43] [INFO] [Bullet] Distance to wall: 541.666381835938 (36.8830599758569% of viewport)
[04:21:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:21:43] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[04:21:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(348.8103, 436.6327), shooter_id=34156952161370, bullet_pos=(561.7558, 1006.199)
[04:21:43] [INFO] [Bullet] Using shooter_position, distance=608.072387695313
[04:21:43] [INFO] [Bullet] Distance to wall: 608.072387695313 (41.4047670246992% of viewport)
[04:21:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(348.8103, 436.6327), shooter_id=34156952161370, bullet_pos=(524.2855, 952.8317)
[04:21:43] [INFO] [Bullet] Using shooter_position, distance=545.209045410156
[04:21:43] [INFO] [Bullet] Distance to wall: 545.209045410156 (37.1242864530094% of viewport)
[04:21:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:21:43] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:21:43] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[04:21:43] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[04:21:43] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[04:21:44] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[04:21:44] [ENEMY] [Enemy3] Hit taken, health: 1/2
[04:21:44] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:21:44] [INFO] [ImpactEffects] spawn_blood_effect called at (702.6797, 771.9423), dir=(0.693506, -0.720451), lethal=false
[04:21:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:21:44] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[04:21:44] [INFO] [ImpactEffects] Blood effect spawned at (702.6797, 771.9423) (scale=1)
[04:21:44] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[04:21:44] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[04:21:44] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[04:21:44] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[04:21:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[04:21:44] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[04:21:44] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[04:21:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:45] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[04:21:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:45] [ENEMY] [Enemy1] PURSUING corner check: angle -69.6°
[04:21:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[04:21:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:45] [ENEMY] [Enemy1] PURSUING corner check: angle 161.0°
[04:21:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[04:21:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[04:21:46] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[04:21:46] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[04:21:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[04:21:46] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[04:21:46] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[04:21:46] [ENEMY] [Enemy3] State: SUPPRESSED -> IN_COVER
[04:21:46] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[04:21:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[04:21:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[04:21:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:47] [ENEMY] [Enemy1] PURSUING corner check: angle 176.1°
[04:21:47] [ENEMY] [Enemy2] PURSUING corner check: angle 147.1°
[04:21:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:48] [ENEMY] [Enemy4] PURSUING corner check: angle -31.7°
[04:21:48] [ENEMY] [Enemy3] PURSUING corner check: angle -44.4°
[04:21:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:48] [ENEMY] [Enemy4] PURSUING corner check: angle -57.7°
[04:21:48] [ENEMY] [Enemy3] PURSUING corner check: angle 96.5°
[04:21:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:48] [ENEMY] [Enemy3] PURSUING corner check: angle -58.4°
[04:21:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:49] [ENEMY] [Enemy1] FLANKING started: target=(841.6398, 844.1013), side=left, pos=(463.8882, 647.4218)
[04:21:49] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[04:21:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:49] [ENEMY] [Enemy1] FLANKING corner check: angle 93.4°
[04:21:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:49] [ENEMY] [Enemy1] FLANKING corner check: angle -62.2°
[04:21:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:50] [ENEMY] [Enemy1] FLANKING corner check: angle -62.2°
[04:21:50] [ENEMY] [Enemy4] PURSUING corner check: angle -42.9°
[04:21:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:50] [ENEMY] [Enemy3] FLANKING started: target=(862.5853, 856.2132), side=left, pos=(542.6614, 701.866)
[04:21:50] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[04:21:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:50] [ENEMY] [Enemy1] FLANKING corner check: angle -38.2°
[04:21:50] [ENEMY] [Enemy4] PURSUING corner check: angle 140.2°
[04:21:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:50] [ENEMY] [Enemy3] FLANKING corner check: angle -71.3°
[04:21:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:50] [ENEMY] [Enemy1] FLANKING corner check: angle 160.0°
[04:21:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:50] [ENEMY] [Enemy3] FLANKING corner check: angle -87.9°
[04:21:51] [ENEMY] [Enemy2] FLANKING started: target=(865.4718, 497.0466), side=right, pos=(504.9378, 643.3285)
[04:21:51] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[04:21:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:51] [ENEMY] [Enemy2] FLANKING corner check: angle 66.3°
[04:21:51] [ENEMY] [Enemy1] FLANKING corner check: angle -168.6°
[04:21:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:51] [ENEMY] [Enemy3] FLANKING corner check: angle -150.0°
[04:21:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:51] [ENEMY] [Enemy2] FLANKING corner check: angle -114.1°
[04:21:51] [ENEMY] [Enemy1] FLANKING corner check: angle -153.2°
[04:21:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:51] [ENEMY] [Enemy3] FLANKING corner check: angle 161.5°
[04:21:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:51] [ENEMY] [Enemy2] FLANKING corner check: angle -111.5°
[04:21:51] [ENEMY] [Enemy1] FLANKING corner check: angle -142.7°
[04:21:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:51] [ENEMY] [Enemy3] FLANKING corner check: angle -145.2°
[04:21:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:52] [ENEMY] [Enemy2] FLANKING corner check: angle -101.7°
[04:21:52] [ENEMY] [Enemy1] FLANKING corner check: angle -136.7°
[04:21:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:52] [ENEMY] [Enemy3] FLANKING corner check: angle 173.7°
[04:21:52] [ENEMY] [Enemy4] FLANKING started: target=(838.795, 842.1826), side=left, pos=(504.9407, 642.2288)
[04:21:52] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[04:21:52] [ENEMY] [Enemy4] FLANKING corner check: angle -62.0°
[04:21:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:52] [ENEMY] [Enemy2] FLANKING corner check: angle -79.3°
[04:21:52] [ENEMY] [Enemy1] FLANKING corner check: angle -135.5°
[04:21:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:52] [ENEMY] [Enemy3] FLANKING corner check: angle -142.6°
[04:21:52] [ENEMY] [Enemy4] FLANKING corner check: angle -61.1°
[04:21:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:52] [ENEMY] [Enemy2] FLANKING corner check: angle -52.5°
[04:21:52] [ENEMY] [Enemy1] FLANKING corner check: angle 141.7°
[04:21:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:52] [ENEMY] [Enemy3] FLANKING corner check: angle -136.3°
[04:21:53] [ENEMY] [Enemy4] FLANKING corner check: angle -61.1°
[04:21:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:53] [ENEMY] [Enemy2] FLANKING corner check: angle -76.2°
[04:21:53] [ENEMY] [Enemy1] FLANKING corner check: angle 141.9°
[04:21:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:53] [ENEMY] [Enemy3] FLANKING corner check: angle 140.3°
[04:21:53] [ENEMY] [Enemy4] FLANKING corner check: angle -149.2°
[04:21:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:53] [ENEMY] [Enemy2] FLANKING corner check: angle -76.2°
[04:21:53] [ENEMY] [Enemy1] FLANKING corner check: angle 142.0°
[04:21:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:53] [ENEMY] [Enemy3] FLANKING corner check: angle 141.8°
[04:21:53] [ENEMY] [Enemy4] FLANKING corner check: angle -160.2°
[04:21:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:53] [ENEMY] [Enemy2] FLANKING corner check: angle -103.9°
[04:21:53] [ENEMY] [Enemy1] FLANKING corner check: angle 142.1°
[04:21:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:53] [ENEMY] [Enemy3] FLANKING corner check: angle 142.0°
[04:21:54] [ENEMY] [Enemy4] FLANKING corner check: angle -168.4°
[04:21:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:54] [ENEMY] [Enemy2] FLANKING corner check: angle 23.7°
[04:21:54] [ENEMY] [Enemy1] FLANKING corner check: angle 142.1°
[04:21:54] [ENEMY] [Enemy1] FLANKING stuck (2.0s no progress), target=(920.2065, 874.7865), pos=(882.6193, 709.2202), fail_count=1
[04:21:54] [ENEMY] [Enemy1] State: FLANKING -> PURSUING
[04:21:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:54] [ENEMY] [Enemy3] FLANKING corner check: angle 142.0°
[04:21:54] [ENEMY] [Enemy3] FLANKING stuck (2.0s no progress), target=(932.8292, 876.4118), pos=(879.4855, 704.6906), fail_count=1
[04:21:54] [ENEMY] [Enemy3] State: FLANKING -> PURSUING
[04:21:54] [ENEMY] [Enemy4] FLANKING corner check: angle -171.6°
[04:21:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:54] [ENEMY] [Enemy2] FLANKING corner check: angle 92.9°
[04:21:54] [ENEMY] [Enemy1] PURSUING corner check: angle 59.9°
[04:21:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:54] [ENEMY] [Enemy3] PURSUING corner check: angle 63.3°
[04:21:54] [ENEMY] [Enemy4] FLANKING corner check: angle -143.3°
[04:21:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:54] [ENEMY] [Enemy2] FLANKING corner check: angle 86.2°
[04:21:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:55] [ENEMY] [Enemy4] FLANKING corner check: angle -145.2°
[04:21:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:55] [ENEMY] [Enemy2] FLANKING corner check: angle 77.5°
[04:21:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:55] [ENEMY] [Enemy4] FLANKING corner check: angle 177.0°
[04:21:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:55] [ENEMY] [Enemy2] FLANKING corner check: angle 81.6°
[04:21:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:55] [ENEMY] [Enemy4] FLANKING corner check: angle 140.2°
[04:21:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:55] [ENEMY] [Enemy2] FLANKING corner check: angle 78.3°
[04:21:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:56] [ENEMY] [Enemy2] FLANKING timeout (5.0s), target=(925.6731, 875.5907), pos=(1110.431, 805.1889)
[04:21:56] [ENEMY] [Enemy2] State: FLANKING -> PURSUING
[04:21:56] [ENEMY] [Enemy4] FLANKING corner check: angle 141.2°
[04:21:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:56] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[04:21:56] [ENEMY] [Enemy2] PURSUING corner check: angle 122.2°
[04:21:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:56] [ENEMY] [Enemy4] FLANKING corner check: angle 141.7°
[04:21:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:56] [ENEMY] [Enemy3] PURSUING corner check: angle -90.3°
[04:21:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:56] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[04:21:56] [ENEMY] [Enemy4] FLANKING corner check: angle 141.9°
[04:21:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:56] [ENEMY] [Enemy3] PURSUING corner check: angle 123.3°
[04:21:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:57] [ENEMY] [Enemy4] FLANKING corner check: angle 142.0°
[04:21:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:57] [ENEMY] [Enemy4] FLANKING stuck (2.0s no progress), target=(918.1753, 874.4482), pos=(882.5957, 708.3752), fail_count=1
[04:21:57] [ENEMY] [Enemy4] State: FLANKING -> PURSUING
[04:21:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:57] [ENEMY] [Enemy4] PURSUING corner check: angle -145.1°
[04:21:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:57] [ENEMY] [Enemy2] FLANKING started: target=(872.5188, 860.8455), side=right, pos=(1005.985, 750.0469)
[04:21:57] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[04:21:58] [ENEMY] [Enemy2] FLANKING corner check: angle 110.2°
[04:21:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:58] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[04:21:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:58] [ENEMY] [Enemy2] FLANKING corner check: angle 81.7°
[04:21:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:58] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[04:21:58] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[04:21:58] [ENEMY] [Enemy2] FLANKING corner check: angle 61.1°
[04:21:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:59] [ENEMY] [Enemy2] FLANKING corner check: angle 76.2°
[04:21:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:59] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[04:21:59] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[04:21:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:59] [ENEMY] [Enemy2] FLANKING corner check: angle 68.5°
[04:21:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:21:59] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[04:21:59] [ENEMY] [Enemy2] FLANKING corner check: angle 73.9°
[04:21:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:21:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:22:00] [ENEMY] [Enemy2] FLANKING corner check: angle 73.3°
[04:22:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:22:00] [ENEMY] [Enemy1] FLANKING started: target=(763.2587, 611.315), side=right, pos=(798.7569, 809.3016)
[04:22:00] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[04:22:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:22:00] [ENEMY] [Enemy2] FLANKING corner check: angle 71.4°
[04:22:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:22:00] [ENEMY] [Enemy1] FLANKING corner check: angle 179.2°
[04:22:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:22:00] [ENEMY] [Enemy2] FLANKING corner check: angle 71.8°
[04:22:00] [ENEMY] [Enemy3] PURSUING corner check: angle -93.3°
[04:22:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:22:00] [ENEMY] [Enemy1] FLANKING corner check: angle -147.6°
[04:22:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:22:01] [ENEMY] [Enemy2] FLANKING corner check: angle 72.0°
[04:22:01] [ENEMY] [Enemy3] PURSUING corner check: angle 86.7°
[04:22:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:22:01] [ENEMY] [Enemy1] FLANKING corner check: angle -103.9°
[04:22:01] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[04:22:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:22:01] [ENEMY] [Enemy2] FLANKING corner check: angle 72.2°
[04:22:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:22:01] [ENEMY] [Enemy1] FLANKING corner check: angle -59.5°
[04:22:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:22:01] [ENEMY] [Enemy2] FLANKING corner check: angle 72.3°
[04:22:01] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[04:22:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:22:01] [ENEMY] [Enemy1] FLANKING corner check: angle -78.6°
[04:22:01] [ENEMY] [Enemy2] FLANKING stuck (2.0s no progress), target=(922.6371, 875.1631), pos=(1137.536, 819.0024), fail_count=1
[04:22:01] [ENEMY] [Enemy2] State: FLANKING -> PURSUING
[04:22:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:22:02] [ENEMY] [Enemy2] PURSUING corner check: angle 126.3°
[04:22:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:22:02] [ENEMY] [Enemy1] FLANKING corner check: angle -78.6°
[04:22:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:22:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:22:02] [ENEMY] [Enemy1] FLANKING corner check: angle -90.6°
[04:22:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:22:02] [ENEMY] [Enemy3] FLANKING started: target=(861.2682, 855.5484), side=left, pos=(539.7018, 698.9919)
[04:22:02] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[04:22:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:22:02] [ENEMY] [Enemy1] FLANKING corner check: angle 20.1°
[04:22:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:22:03] [ENEMY] [Enemy3] FLANKING corner check: angle -70.9°
[04:22:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:22:03] [ENEMY] [Enemy1] FLANKING corner check: angle 93.7°
[04:22:03] [ENEMY] [Enemy4] FLANKING started: target=(763.154, 611.6153), side=right, pos=(803.35, 805.7597)
[04:22:03] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[04:22:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:22:03] [ENEMY] [Enemy3] FLANKING corner check: angle -88.9°
[04:22:03] [ENEMY] [Enemy4] FLANKING corner check: angle 173.3°
[04:22:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:22:03] [ENEMY] [Enemy1] FLANKING corner check: angle 86.2°
[04:22:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:22:03] [ENEMY] [Enemy3] FLANKING corner check: angle -36.7°
[04:22:03] [ENEMY] [Enemy4] FLANKING corner check: angle -157.3°
[04:22:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[04:22:03] [ENEMY] [Enemy1] FLANKING corner check: angle 78.1°
[04:22:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[04:22:04] [INFO] ------------------------------------------------------------
[04:22:04] [INFO] GAME LOG ENDED: 2026-01-25T04:22:04
[04:22:04] [INFO] ============================================================
