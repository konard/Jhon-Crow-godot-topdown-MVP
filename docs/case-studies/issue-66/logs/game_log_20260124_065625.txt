[06:56:25] [INFO] ============================================================
[06:56:25] [INFO] GAME LOG STARTED
[06:56:25] [INFO] ============================================================
[06:56:25] [INFO] Timestamp: 2026-01-24T06:56:25
[06:56:25] [INFO] Log file: I:/Загрузки/godot exe/game_log_20260124_065625.txt
[06:56:25] [INFO] Executable: I:/Загрузки/godot exe/Godot-Top-Down-Template.exe
[06:56:25] [INFO] OS: Windows
[06:56:25] [INFO] Debug build: false
[06:56:25] [INFO] Engine version: 4.3-stable (official)
[06:56:25] [INFO] Project: Godot Top-Down Template
[06:56:25] [INFO] ------------------------------------------------------------
[06:56:25] [INFO] [GameManager] GameManager ready
[06:56:25] [INFO] [ScoreManager] ScoreManager ready
[06:56:25] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[06:56:25] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[06:56:25] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[06:56:25] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:56:25] [INFO] [PenultimateHit] Saturation shader loaded successfully
[06:56:25] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[06:56:25] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[06:56:25] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[06:56:25] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[06:56:25] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[06:56:25] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:56:25] [INFO] [LastChance] Last chance shader loaded successfully
[06:56:25] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[06:56:25] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[06:56:25] [INFO] [LastChance]   Sepia intensity: 0.70
[06:56:25] [INFO] [LastChance]   Brightness: 0.60
[06:56:25] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[06:56:25] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[06:56:25] [ENEMY] [Enemy1] Death animation component initialized
[06:56:25] [ENEMY] [Enemy2] Death animation component initialized
[06:56:25] [ENEMY] [Enemy3] Death animation component initialized
[06:56:25] [ENEMY] [Enemy4] Death animation component initialized
[06:56:25] [ENEMY] [Enemy5] Death animation component initialized
[06:56:25] [ENEMY] [Enemy6] Death animation component initialized
[06:56:25] [ENEMY] [Enemy7] Death animation component initialized
[06:56:25] [ENEMY] [Enemy8] Death animation component initialized
[06:56:25] [ENEMY] [Enemy9] Death animation component initialized
[06:56:25] [ENEMY] [Enemy10] Death animation component initialized
[06:56:25] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:56:25] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:56:25] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:56:25] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:56:25] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:56:25] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:56:25] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[06:56:25] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[06:56:25] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:56:25] [INFO] [ScoreManager] Level started with 10 enemies
[06:56:25] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[06:56:25] [ENEMY] [Enemy1] Registered as sound listener
[06:56:25] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[06:56:25] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[06:56:25] [ENEMY] [Enemy2] Registered as sound listener
[06:56:25] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[06:56:25] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[06:56:25] [ENEMY] [Enemy3] Registered as sound listener
[06:56:25] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[06:56:25] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[06:56:25] [ENEMY] [Enemy4] Registered as sound listener
[06:56:25] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[06:56:25] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[06:56:25] [ENEMY] [Enemy5] Registered as sound listener
[06:56:25] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[06:56:25] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[06:56:25] [ENEMY] [Enemy6] Registered as sound listener
[06:56:25] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[06:56:25] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[06:56:25] [ENEMY] [Enemy7] Registered as sound listener
[06:56:25] [ENEMY] [Enemy7] Enemy spawned at (1606.114, 893.8859), health: 3, behavior: PATROL, player_found: yes
[06:56:25] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[06:56:25] [ENEMY] [Enemy8] Registered as sound listener
[06:56:25] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[06:56:25] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[06:56:25] [ENEMY] [Enemy9] Registered as sound listener
[06:56:25] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[06:56:25] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[06:56:25] [ENEMY] [Enemy10] Registered as sound listener
[06:56:25] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[06:56:25] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:56:25] [INFO] [Player] Detected weapon: Rifle (default pose)
[06:56:25] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[06:56:25] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:56:25] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:56:25] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:56:25] [INFO] [LastChance] Found player: Player
[06:56:25] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:56:25] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:56:25] [INFO] [LastChance] Connected to player Died signal (C#)
[06:56:29] [INFO] [Player.Debug] Debug mode toggled: ON
[06:56:29] [INFO] [GameManager] Debug mode toggled: ON
[06:56:31] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:56:32] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:56:33] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[06:56:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(483.9329, 784.1591), source=PLAYER (AssaultRifle), range=1469, listeners=10
[06:56:33] [ENEMY] [Enemy1] Heard gunshot at (483.9329, 784.1591), source_type=0, intensity=0.01, distance=472
[06:56:33] [ENEMY] [Enemy2] Heard gunshot at (483.9329, 784.1591), source_type=0, intensity=0.04, distance=249
[06:56:33] [ENEMY] [Enemy4] Heard gunshot at (483.9329, 784.1591), source_type=0, intensity=0.02, distance=337
[06:56:33] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:56:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(483.93292, 784.1591), shooter_id=46070236864, bullet_pos=(710.47485, 840.0449)
[06:56:33] [INFO] [Bullet] Using shooter_position, distance=233,33339
[06:56:33] [INFO] [Bullet] Distance to wall: 233,33339 (15,8881% of viewport)
[06:56:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:56:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[06:56:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:56:33] [INFO] [LastChance] Threat detected: @Area2D@286
[06:56:33] [INFO] [LastChance] Not in hard mode - effect disabled
[06:56:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:56:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[06:56:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:56:34] [INFO] [LastChance] Threat detected: Bullet
[06:56:34] [INFO] [LastChance] Not in hard mode - effect disabled
[06:56:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:56:34] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:56:34] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[06:56:34] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[06:56:34] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[06:56:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(690.447, 761.478), source=ENEMY (Enemy3), range=1469, listeners=10
[06:56:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:56:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(632.6207, 760.1927), shooter_id=43251664408, bullet_pos=(49.65361, 780.8578)
[06:56:34] [INFO] [Bullet] Using shooter_position, distance=583.333251953125
[06:56:34] [INFO] [Bullet] Distance to wall: 583.333251953125 (39.7202337807543% of viewport)
[06:56:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:56:34] [INFO] [LastChance] Threat detected: @Area2D@289
[06:56:34] [INFO] [LastChance] Not in hard mode - effect disabled
[06:56:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:56:34] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:56:34] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:56:34] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:56:34] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:56:34] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:56:34] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:56:34] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:56:34] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:56:34] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:56:34] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:56:34] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:56:34] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:56:34] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:56:34] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:56:34] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:56:34] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:56:34] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:56:34] [ENEMY] [Enemy1] Death animation component initialized
[06:56:34] [ENEMY] [Enemy2] Death animation component initialized
[06:56:34] [ENEMY] [Enemy3] Death animation component initialized
[06:56:34] [ENEMY] [Enemy4] Death animation component initialized
[06:56:34] [ENEMY] [Enemy5] Death animation component initialized
[06:56:34] [ENEMY] [Enemy6] Death animation component initialized
[06:56:34] [ENEMY] [Enemy7] Death animation component initialized
[06:56:34] [ENEMY] [Enemy8] Death animation component initialized
[06:56:34] [ENEMY] [Enemy9] Death animation component initialized
[06:56:34] [ENEMY] [Enemy10] Death animation component initialized
[06:56:34] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:56:34] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:56:34] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:56:34] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:56:34] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:56:34] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:56:34] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:56:34] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[06:56:34] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:56:34] [INFO] [ScoreManager] Level started with 10 enemies
[06:56:34] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[06:56:34] [ENEMY] [Enemy1] Registered as sound listener
[06:56:34] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[06:56:34] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[06:56:34] [ENEMY] [Enemy2] Registered as sound listener
[06:56:34] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[06:56:34] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[06:56:34] [ENEMY] [Enemy3] Registered as sound listener
[06:56:34] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[06:56:34] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[06:56:34] [ENEMY] [Enemy4] Registered as sound listener
[06:56:34] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[06:56:34] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[06:56:34] [ENEMY] [Enemy5] Registered as sound listener
[06:56:34] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[06:56:34] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[06:56:34] [ENEMY] [Enemy6] Registered as sound listener
[06:56:34] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[06:56:34] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[06:56:34] [ENEMY] [Enemy7] Registered as sound listener
[06:56:34] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[06:56:34] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[06:56:34] [ENEMY] [Enemy8] Registered as sound listener
[06:56:34] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[06:56:34] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[06:56:34] [ENEMY] [Enemy9] Registered as sound listener
[06:56:34] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[06:56:34] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[06:56:34] [ENEMY] [Enemy10] Registered as sound listener
[06:56:34] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[06:56:34] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:56:34] [INFO] [Player] Detected weapon: Rifle (default pose)
[06:56:34] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[06:56:34] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:56:34] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:56:34] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:56:34] [INFO] [LastChance] Found player: Player
[06:56:34] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:56:34] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:56:34] [INFO] [LastChance] Connected to player Died signal (C#)
[06:56:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=20
[06:56:43] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[06:56:43] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[06:56:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[06:56:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=551332874958, bullet_pos=(322.44107, 703.87683)
[06:56:43] [INFO] [Bullet] Using shooter_position, distance=566,6668
[06:56:43] [INFO] [Bullet] Distance to wall: 566,6668 (38,585384% of viewport)
[06:56:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:56:43] [INFO] [Bullet] Starting wall penetration at (322.44107, 703.87683)
[06:56:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,371662
[06:56:43] [INFO] [Bullet] Body exited signal received for penetrating body
[06:56:43] [INFO] [Bullet] Exiting penetration at (311.93622, 658.40784) after traveling 41,666668 pixels through wall
[06:56:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[06:56:43] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:56:43] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:56:43] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:56:43] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:56:43] [ENEMY] [Enemy1] Death animation component initialized
[06:56:43] [ENEMY] [Enemy2] Death animation component initialized
[06:56:43] [ENEMY] [Enemy3] Death animation component initialized
[06:56:43] [ENEMY] [Enemy4] Death animation component initialized
[06:56:43] [ENEMY] [Enemy5] Death animation component initialized
[06:56:43] [ENEMY] [Enemy6] Death animation component initialized
[06:56:43] [ENEMY] [Enemy7] Death animation component initialized
[06:56:43] [ENEMY] [Enemy8] Death animation component initialized
[06:56:43] [ENEMY] [Enemy9] Death animation component initialized
[06:56:43] [ENEMY] [Enemy10] Death animation component initialized
[06:56:43] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:56:43] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:56:43] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:56:43] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:56:43] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:56:43] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:56:43] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:56:43] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[06:56:43] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:56:43] [INFO] [ScoreManager] Level started with 10 enemies
[06:56:43] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[06:56:43] [ENEMY] [Enemy1] Registered as sound listener
[06:56:43] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[06:56:43] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[06:56:43] [ENEMY] [Enemy2] Registered as sound listener
[06:56:43] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[06:56:43] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[06:56:43] [ENEMY] [Enemy3] Registered as sound listener
[06:56:43] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[06:56:43] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[06:56:43] [ENEMY] [Enemy4] Registered as sound listener
[06:56:43] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[06:56:43] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[06:56:43] [ENEMY] [Enemy5] Registered as sound listener
[06:56:43] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[06:56:43] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[06:56:43] [ENEMY] [Enemy6] Registered as sound listener
[06:56:43] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[06:56:43] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[06:56:43] [ENEMY] [Enemy7] Registered as sound listener
[06:56:43] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[06:56:43] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[06:56:43] [ENEMY] [Enemy8] Registered as sound listener
[06:56:43] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[06:56:43] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[06:56:43] [ENEMY] [Enemy9] Registered as sound listener
[06:56:43] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[06:56:43] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[06:56:43] [ENEMY] [Enemy10] Registered as sound listener
[06:56:43] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[06:56:43] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:56:43] [INFO] [Player] Detected weapon: Rifle (default pose)
[06:56:43] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[06:56:43] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:56:43] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:56:43] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:56:43] [INFO] [LastChance] Found player: Player
[06:56:43] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:56:43] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:56:43] [INFO] [LastChance] Connected to player Died signal (C#)
[06:56:44] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:56:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.004, 1519.036), source=ENEMY (Enemy10), range=1469, listeners=20
[06:56:44] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[06:56:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:56:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.385, 1499.191), source=ENEMY (Enemy10), range=1469, listeners=10
[06:56:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:56:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.598, 1478.078), source=ENEMY (Enemy10), range=1469, listeners=10
[06:56:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:56:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.686, 1455.743), source=ENEMY (Enemy10), range=1469, listeners=10
[06:56:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:56:44] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:56:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=1048374676246, bullet_pos=(47.54776, 866.3744)
[06:56:44] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[06:56:44] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[06:56:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=1048374676246, bullet_pos=(43.40149, 802.4432)
[06:56:44] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[06:56:44] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[06:56:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=1048374676246, bullet_pos=(197.9231, 706.124)
[06:56:45] [INFO] [Bullet] Using shooter_position, distance=1144.52014160156
[06:56:45] [INFO] [Bullet] Distance to wall: 1144.52014160156 (77.932481028613% of viewport)
[06:56:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=1048374676246, bullet_pos=(447.3411, 708.0544)
[06:56:45] [INFO] [Bullet] Using shooter_position, distance=1007.71710205078
[06:56:45] [INFO] [Bullet] Distance to wall: 1007.71710205078 (68.6173105069925% of viewport)
[06:56:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.149, 1444.873), shooter_id=1048374676246, bullet_pos=(41.66475, 738.6735)
[06:56:45] [INFO] [Bullet] Using shooter_position, distance=1208.33276367188
[06:56:45] [INFO] [Bullet] Distance to wall: 1208.33276367188 (82.2775998064458% of viewport)
[06:56:45] [INFO] [Bullet] Distance-based penetration chance: 50.6761335591466%
[06:56:45] [INFO] [Bullet] Starting wall penetration at (41.66475, 738.6735)
[06:56:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.7560081481934
[06:56:45] [INFO] [Bullet] Body exited signal received for penetrating body
[06:56:45] [INFO] [Bullet] Exiting penetration at (3.797741, 711.3995) after traveling 41.6666679382324 pixels through wall
[06:56:45] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:56:45] [INFO] [LastChance] Threat detected: @Area2D@795
[06:56:45] [INFO] [LastChance] Not in hard mode - effect disabled
[06:56:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:56:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6154, 1420.184), shooter_id=1048374676246, bullet_pos=(42.19441, 675.29)
[06:56:45] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[06:56:45] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[06:56:45] [INFO] [Bullet] Distance-based penetration chance: 50.6760947698504%
[06:56:45] [INFO] [Bullet] Penetration failed (distance roll)
[06:56:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=1048374676246, bullet_pos=(737.2142, 806.2127)
[06:56:45] [INFO] [Bullet] Using shooter_position, distance=766.499816894531
[06:56:45] [INFO] [Bullet] Distance to wall: 766.499816894531 (52.1923820012281% of viewport)
[06:56:45] [INFO] [Bullet] Distance-based penetration chance: 85.7755543319006%
[06:56:45] [INFO] [Bullet] Starting wall penetration at (737.2142, 806.2127)
[06:56:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11.0474443435669
[06:56:45] [INFO] [Bullet] Body exited signal received for penetrating body
[06:56:45] [INFO] [Bullet] Exiting penetration at (770.4638, 817.4719) after traveling 30.1041698455811 pixels through wall
[06:56:45] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[06:56:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=1048374676246, bullet_pos=(517.4189, 885.1818)
[06:56:45] [INFO] [Bullet] Using shooter_position, distance=790.921936035156
[06:56:45] [INFO] [Bullet] Distance to wall: 790.921936035156 (53.8553290018304% of viewport)
[06:56:45] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:56:45] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:56:45] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:56:45] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:56:45] [ENEMY] [Enemy1] Death animation component initialized
[06:56:45] [ENEMY] [Enemy2] Death animation component initialized
[06:56:45] [ENEMY] [Enemy3] Death animation component initialized
[06:56:45] [ENEMY] [Enemy4] Death animation component initialized
[06:56:45] [ENEMY] [Enemy5] Death animation component initialized
[06:56:45] [ENEMY] [Enemy6] Death animation component initialized
[06:56:45] [ENEMY] [Enemy7] Death animation component initialized
[06:56:45] [ENEMY] [Enemy8] Death animation component initialized
[06:56:45] [ENEMY] [Enemy9] Death animation component initialized
[06:56:45] [ENEMY] [Enemy10] Death animation component initialized
[06:56:45] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:56:45] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:56:45] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:56:45] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:56:45] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:56:45] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:56:45] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:56:45] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[06:56:45] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:56:45] [INFO] [ScoreManager] Level started with 10 enemies
[06:56:45] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[06:56:45] [ENEMY] [Enemy1] Registered as sound listener
[06:56:45] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[06:56:45] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[06:56:45] [ENEMY] [Enemy2] Registered as sound listener
[06:56:45] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[06:56:45] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[06:56:45] [ENEMY] [Enemy3] Registered as sound listener
[06:56:45] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[06:56:45] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[06:56:45] [ENEMY] [Enemy4] Registered as sound listener
[06:56:45] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[06:56:45] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[06:56:45] [ENEMY] [Enemy5] Registered as sound listener
[06:56:45] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[06:56:45] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[06:56:45] [ENEMY] [Enemy6] Registered as sound listener
[06:56:45] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[06:56:45] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[06:56:45] [ENEMY] [Enemy7] Registered as sound listener
[06:56:45] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[06:56:45] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[06:56:45] [ENEMY] [Enemy8] Registered as sound listener
[06:56:45] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[06:56:45] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[06:56:45] [ENEMY] [Enemy9] Registered as sound listener
[06:56:45] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[06:56:45] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[06:56:45] [ENEMY] [Enemy10] Registered as sound listener
[06:56:45] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[06:56:45] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:56:45] [INFO] [Player] Detected weapon: Rifle (default pose)
[06:56:45] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[06:56:45] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:56:45] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:56:45] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:56:45] [INFO] [LastChance] Found player: Player
[06:56:45] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:56:45] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:56:45] [INFO] [LastChance] Connected to player Died signal (C#)
[06:56:49] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:56:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1129.248, 1548.512), source=ENEMY (Enemy10), range=1469, listeners=20
[06:56:49] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[06:56:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:56:49] [INFO] [LastChance] Threat detected: Bullet
[06:56:49] [INFO] [LastChance] Not in hard mode - effect disabled
[06:56:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:56:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1075.622, 1506.432), shooter_id=1161302117275, bullet_pos=(572.0602, 1008.274)
[06:56:49] [INFO] [Bullet] Using shooter_position, distance=708.333740234375
[06:56:49] [INFO] [Bullet] Distance to wall: 708.333740234375 (48.2317468834544% of viewport)
[06:56:49] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:56:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1075.622, 1506.432), shooter_id=1161302117275, bullet_pos=(56.21911, 1500.973)
[06:56:50] [INFO] [Bullet] Using shooter_position, distance=1019.41748046875
[06:56:50] [INFO] [Bullet] Distance to wall: 1019.41748046875 (69.4140107885707% of viewport)
[06:56:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1075.622, 1506.432), shooter_id=1161302117275, bullet_pos=(182.071, 1592.34)
[06:56:50] [INFO] [Bullet] Using shooter_position, distance=897.671142578125
[06:56:50] [INFO] [Bullet] Distance to wall: 897.671142578125 (61.1240787698232% of viewport)
[06:56:51] [ENEMY] [Enemy6] State: IDLE -> COMBAT
[06:56:51] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[06:56:51] [ENEMY] [Enemy7] State: IDLE -> COMBAT
[06:56:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1921.983, 507.5396), source=ENEMY (Enemy6), range=1469, listeners=10
[06:56:52] [ENEMY] [Enemy5] Heard gunshot at (1921.983, 507.5396), source_type=1, intensity=0.03, distance=272
[06:56:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=6
[06:56:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1266.446, 1457.334), source=ENEMY (Enemy10), range=1469, listeners=10
[06:56:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[06:56:52] [INFO] [LastChance] Threat detected: @Area2D@1063
[06:56:52] [INFO] [LastChance] Not in hard mode - effect disabled
[06:56:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:56:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1614.066, 939.6141), source=ENEMY (Enemy7), range=1469, listeners=10
[06:56:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:56:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1333.391, 1445.216), shooter_id=1161302117275, bullet_pos=(1492.908, 1396.923)
[06:56:52] [INFO] [Bullet] Using shooter_position, distance=166.666748046875
[06:56:52] [INFO] [Bullet] Distance to wall: 166.666748046875 (11.3486453476373% of viewport)
[06:56:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:56:52] [INFO] [Bullet] Starting wall penetration at (1492.908, 1396.923)
[06:56:52] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:56:52] [INFO] [Bullet] Exiting penetration at (1537.572, 1383.4) after traveling 41.6666679382324 pixels through wall
[06:56:52] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:56:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1906.209, 541.3764), source=ENEMY (Enemy6), range=1469, listeners=10
[06:56:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=6
[06:56:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1277.047, 1458.515), source=ENEMY (Enemy10), range=1469, listeners=10
[06:56:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[06:56:52] [INFO] [LastChance] Threat detected: @Area2D@1070
[06:56:52] [INFO] [LastChance] Not in hard mode - effect disabled
[06:56:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:56:52] [INFO] [LastChance] Threat detected: @Area2D@1065
[06:56:52] [INFO] [LastChance] Not in hard mode - effect disabled
[06:56:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:56:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1614.066, 958.2126), source=ENEMY (Enemy7), range=1469, listeners=10
[06:56:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[06:56:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1343.976, 1446.347), shooter_id=1161302117275, bullet_pos=(1503.455, 1397.93)
[06:56:52] [INFO] [Bullet] Using shooter_position, distance=166.666610717773
[06:56:52] [INFO] [Bullet] Distance to wall: 166.666610717773 (11.3486359966462% of viewport)
[06:56:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:56:52] [INFO] [Bullet] Starting wall penetration at (1503.455, 1397.93)
[06:56:52] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:56:52] [INFO] [Bullet] Exiting penetration at (1548.109, 1384.373) after traveling 41.6666679382324 pixels through wall
[06:56:52] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:56:52] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[06:56:52] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[06:56:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1890.738, 575.3535), source=ENEMY (Enemy6), range=1469, listeners=10
[06:56:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[06:56:52] [INFO] [LastChance] Threat detected: @Area2D@1072
[06:56:52] [INFO] [LastChance] Not in hard mode - effect disabled
[06:56:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:56:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1614.066, 976.9715), source=ENEMY (Enemy7), range=1469, listeners=10
[06:56:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[06:56:52] [INFO] [LastChance] Threat detected: Bullet
[06:56:52] [INFO] [LastChance] Not in hard mode - effect disabled
[06:56:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:56:52] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:56:52] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:56:52] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:56:52] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:56:52] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:56:52] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:56:52] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:56:52] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:56:52] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:56:52] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:56:52] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:56:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1875.56, 609.4617), source=ENEMY (Enemy6), range=1469, listeners=10
[06:56:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[06:56:52] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:56:52] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:56:52] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:56:52] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:56:52] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:56:52] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:56:52] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:56:52] [ENEMY] [Enemy1] Death animation component initialized
[06:56:52] [ENEMY] [Enemy2] Death animation component initialized
[06:56:52] [ENEMY] [Enemy3] Death animation component initialized
[06:56:52] [ENEMY] [Enemy4] Death animation component initialized
[06:56:52] [ENEMY] [Enemy5] Death animation component initialized
[06:56:52] [ENEMY] [Enemy6] Death animation component initialized
[06:56:52] [ENEMY] [Enemy7] Death animation component initialized
[06:56:52] [ENEMY] [Enemy8] Death animation component initialized
[06:56:52] [ENEMY] [Enemy9] Death animation component initialized
[06:56:52] [ENEMY] [Enemy10] Death animation component initialized
[06:56:52] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:56:52] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:56:52] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:56:52] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:56:52] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:56:52] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:56:52] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:56:52] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[06:56:52] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:56:52] [INFO] [ScoreManager] Level started with 10 enemies
[06:56:52] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[06:56:52] [ENEMY] [Enemy1] Registered as sound listener
[06:56:52] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[06:56:52] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[06:56:52] [ENEMY] [Enemy2] Registered as sound listener
[06:56:52] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[06:56:52] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[06:56:52] [ENEMY] [Enemy3] Registered as sound listener
[06:56:52] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[06:56:52] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[06:56:52] [ENEMY] [Enemy4] Registered as sound listener
[06:56:52] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[06:56:52] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[06:56:52] [ENEMY] [Enemy5] Registered as sound listener
[06:56:52] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[06:56:52] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[06:56:52] [ENEMY] [Enemy6] Registered as sound listener
[06:56:52] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[06:56:52] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[06:56:52] [ENEMY] [Enemy7] Registered as sound listener
[06:56:52] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[06:56:52] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[06:56:52] [ENEMY] [Enemy8] Registered as sound listener
[06:56:52] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[06:56:52] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[06:56:52] [ENEMY] [Enemy9] Registered as sound listener
[06:56:52] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[06:56:52] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[06:56:52] [ENEMY] [Enemy10] Registered as sound listener
[06:56:52] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[06:56:52] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:56:52] [INFO] [Player] Detected weapon: Rifle (default pose)
[06:56:52] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[06:56:52] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:56:52] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:56:52] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:56:52] [INFO] [LastChance] Found player: Player
[06:56:52] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:56:52] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:56:52] [INFO] [LastChance] Connected to player Died signal (C#)
[06:56:56] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:56:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1125.193, 1553.119), source=ENEMY (Enemy10), range=1469, listeners=20
[06:56:56] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[06:56:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:56:57] [INFO] [LastChance] Threat detected: Bullet
[06:56:57] [INFO] [LastChance] Not in hard mode - effect disabled
[06:56:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:56:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1097.073, 1528.562), source=ENEMY (Enemy10), range=1469, listeners=10
[06:56:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:56:57] [INFO] [LastChance] Threat detected: @Area2D@1333
[06:56:57] [INFO] [LastChance] Not in hard mode - effect disabled
[06:56:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:56:57] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:56:57] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:56:57] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:56:57] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:56:57] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:56:57] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:56:57] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:56:57] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:56:57] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:56:57] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:56:57] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:56:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1068.831, 1504.148), source=ENEMY (Enemy10), range=1469, listeners=10
[06:56:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:56:57] [INFO] [LastChance] Threat detected: @Area2D@1335
[06:56:57] [INFO] [LastChance] Not in hard mode - effect disabled
[06:56:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:56:57] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[06:56:57] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[06:56:57] [INFO] [PenultimateHit] Player died - ending penultimate effect
[06:56:57] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:56:57] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:56:57] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[06:56:57] [INFO] [LastChance] Player died
[06:56:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1065.123, 1501.1), source=ENEMY (Enemy10), range=1469, listeners=10
[06:56:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:56:57] [INFO] [LastChance] Threat detected: @Area2D@1337
[06:56:57] [INFO] [LastChance] Not in hard mode - effect disabled
[06:56:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:56:58] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:56:58] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:56:58] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:56:58] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:56:58] [ENEMY] [Enemy1] Death animation component initialized
[06:56:58] [ENEMY] [Enemy2] Death animation component initialized
[06:56:58] [ENEMY] [Enemy3] Death animation component initialized
[06:56:58] [ENEMY] [Enemy4] Death animation component initialized
[06:56:58] [ENEMY] [Enemy5] Death animation component initialized
[06:56:58] [ENEMY] [Enemy6] Death animation component initialized
[06:56:58] [ENEMY] [Enemy7] Death animation component initialized
[06:56:58] [ENEMY] [Enemy8] Death animation component initialized
[06:56:58] [ENEMY] [Enemy9] Death animation component initialized
[06:56:58] [ENEMY] [Enemy10] Death animation component initialized
[06:56:58] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:56:58] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:56:58] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:56:58] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:56:58] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:56:58] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:56:58] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:56:58] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[06:56:58] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:56:58] [INFO] [ScoreManager] Level started with 10 enemies
[06:56:58] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[06:56:58] [ENEMY] [Enemy1] Registered as sound listener
[06:56:58] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[06:56:58] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[06:56:58] [ENEMY] [Enemy2] Registered as sound listener
[06:56:58] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[06:56:58] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[06:56:58] [ENEMY] [Enemy3] Registered as sound listener
[06:56:58] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[06:56:58] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[06:56:58] [ENEMY] [Enemy4] Registered as sound listener
[06:56:58] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[06:56:58] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[06:56:58] [ENEMY] [Enemy5] Registered as sound listener
[06:56:58] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[06:56:58] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[06:56:58] [ENEMY] [Enemy6] Registered as sound listener
[06:56:58] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[06:56:58] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[06:56:58] [ENEMY] [Enemy7] Registered as sound listener
[06:56:58] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[06:56:58] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[06:56:58] [ENEMY] [Enemy8] Registered as sound listener
[06:56:58] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[06:56:58] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[06:56:58] [ENEMY] [Enemy9] Registered as sound listener
[06:56:58] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[06:56:58] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[06:56:58] [ENEMY] [Enemy10] Registered as sound listener
[06:56:58] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[06:56:58] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:56:58] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:56:58] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:56:58] [INFO] [LastChance] Found player: Player
[06:56:58] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:56:58] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:56:58] [INFO] [LastChance] Connected to player Died signal (C#)
[06:56:58] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:56:58] [INFO] [Player] Detected weapon: Rifle (default pose)
[06:56:58] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[06:56:59] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:56:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(659.5515, 1231.285), source=PLAYER (AssaultRifle), range=1469, listeners=20
[06:56:59] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[06:56:59] [ENEMY] [Enemy3] Heard gunshot at (659.5515, 1231.285), source_type=0, intensity=0.01, distance=483
[06:56:59] [ENEMY] [Enemy4] Heard gunshot at (659.5515, 1231.285), source_type=0, intensity=0.02, distance=360
[06:56:59] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[06:56:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.04, 1518.976), source=ENEMY (Enemy10), range=1469, listeners=10
[06:56:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:56:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(691.054, 1237.681), source=PLAYER (AssaultRifle), range=1469, listeners=10
[06:56:59] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[06:56:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.332, 1499.27), source=ENEMY (Enemy10), range=1469, listeners=10
[06:56:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:56:59] [INFO] [LastChance] Threat detected: @Area2D@1591
[06:56:59] [INFO] [LastChance] Not in hard mode - effect disabled
[06:56:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:56:59] [ENEMY] [Enemy10] Hit taken, health: 1/2
[06:56:59] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[06:56:59] [INFO] [ImpactEffects] spawn_blood_effect called at (1094.329, 1487.825), dir=(1, 0), lethal=false
[06:56:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:56:59] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:56:59] [INFO] [ImpactEffects] Blood effect spawned at (1094.329, 1487.825) (scale=1)
[06:56:59] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[06:56:59] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[06:56:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(779.6599, 953.7045), source=ENEMY (Enemy4), range=1469, listeners=10
[06:56:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[06:56:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(770.6984, 1021.16), shooter_id=1870626031746, bullet_pos=(770.6984, 1021.16)
[06:56:59] [INFO] [Bullet] Using shooter_position, distance=0
[06:56:59] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[06:56:59] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[06:56:59] [INFO] [Bullet] Starting wall penetration at (770.6984, 1021.16)
[06:56:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(710.4053, 1254.393), source=PLAYER (AssaultRifle), range=1469, listeners=10
[06:56:59] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[06:56:59] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35.4048080444336
[06:56:59] [INFO] [Bullet] Body exited signal received for penetrating body
[06:56:59] [INFO] [Bullet] Exiting penetration at (761.3278, 1058.331) after traveling 33.3333358764648 pixels through wall
[06:56:59] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:56:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.599, 1480.429), source=ENEMY (Enemy10), range=1469, listeners=10
[06:56:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:56:59] [INFO] [LastChance] Threat detected: @Area2D@1595
[06:56:59] [INFO] [LastChance] Not in hard mode - effect disabled
[06:56:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:56:59] [ENEMY] [Enemy10] Hit taken, health: 0/2
[06:56:59] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[06:56:59] [INFO] [ImpactEffects] spawn_blood_effect called at (1068.067, 1471.48), dir=(1, 0), lethal=true
[06:56:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:56:59] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[06:56:59] [INFO] [ImpactEffects] Blood effect spawned at (1068.067, 1471.48) (scale=1.5)
[06:56:59] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[06:56:59] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[06:56:59] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[06:56:59] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[06:56:59] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[06:56:59] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[06:56:59] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[06:56:59] [INFO] [LastChance] Threat detected: @Area2D@1600
[06:56:59] [INFO] [LastChance] Not in hard mode - effect disabled
[06:56:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:56:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(719.5385, 1280.347), source=PLAYER (AssaultRifle), range=1469, listeners=9
[06:56:59] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:56:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(719.53845, 1280.3474), shooter_id=1873159390909, bullet_pos=(911.9419, 1396.9917)
[06:56:59] [INFO] [Bullet] Using shooter_position, distance=224,99995
[06:56:59] [INFO] [Bullet] Distance to wall: 224,99995 (15,320662% of viewport)
[06:56:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:56:59] [INFO] [Bullet] Starting wall penetration at (911.9419, 1396.9917)
[06:56:59] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:56:59] [INFO] [Bullet] Exiting penetration at (944.72174, 1416.8644) after traveling 33,333332 pixels through wall
[06:56:59] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[06:56:59] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[06:56:59] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[06:57:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(710.4053, 1254.3926), shooter_id=1873159390909, bullet_pos=(1491.9574, 1749.1671)
[06:57:00] [INFO] [Bullet] Using shooter_position, distance=925,00037
[06:57:00] [INFO] [Bullet] Distance to wall: 925,00037 (62,984978% of viewport)
[06:57:00] [ENEMY] [Enemy10] Ragdoll activated
[06:57:00] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[06:57:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(710.4053, 1254.3926), shooter_id=1873159390909, bullet_pos=(1130.0857, 2074.5789)
[06:57:00] [INFO] [Bullet] Using shooter_position, distance=921,32367
[06:57:00] [INFO] [Bullet] Distance to wall: 921,32367 (62,734623% of viewport)
[06:57:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(710.4053, 1254.3926), shooter_id=1873159390909, bullet_pos=(507.75375, 1611.5867)
[06:57:00] [INFO] [Bullet] Using shooter_position, distance=410,67657
[06:57:00] [INFO] [Bullet] Distance to wall: 410,67657 (27,963724% of viewport)
[06:57:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(710.4053, 1254.3926), shooter_id=1873159390909, bullet_pos=(61.12274, 1910.1663)
[06:57:01] [INFO] [Bullet] Using shooter_position, distance=922,8255
[06:57:01] [INFO] [Bullet] Distance to wall: 922,8255 (62,836884% of viewport)
[06:57:01] [ENEMY] [Enemy10] Death animation completed
[06:57:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(710.4053, 1254.3926), shooter_id=1873159390909, bullet_pos=(341.4263, 2060.776)
[06:57:01] [INFO] [Bullet] Using shooter_position, distance=886,7917
[06:57:01] [INFO] [Bullet] Distance to wall: 886,7917 (60,383278% of viewport)
[06:57:01] [INFO] [Bullet] Distance-based penetration chance: 76,21951%
[06:57:01] [INFO] [Bullet] Starting wall penetration at (341.4263, 2060.776)
[06:57:01] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:57:01] [INFO] [Bullet] Exiting penetration at (361.1585, 2071.3782) after traveling 17,40021 pixels through wall
[06:57:01] [INFO] [Bullet] Damage multiplier after penetration: 0,05625
[06:57:01] [ENEMY] [Enemy4] FLANKING started: target=(1014.576, 1501.807), side=right, pos=(792.3649, 975.9335)
[06:57:01] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[06:57:02] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[06:57:02] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[06:57:02] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[06:57:02] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[06:57:02] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[06:57:02] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[06:57:02] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[06:57:02] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[06:57:02] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[06:57:02] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[06:57:02] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(751.8329, 1716.85), source=PLAYER (Player), range=900, listeners=9
[06:57:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=0, below_threshold=2
[06:57:02] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1440), can_see=false
[06:57:02] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1219), can_see=false
[06:57:02] [ENEMY] [Enemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=805), can_see=false
[06:57:02] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=759), can_see=false
[06:57:02] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1664), can_see=false
[06:57:02] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1744), can_see=false
[06:57:02] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1202), can_see=false
[06:57:02] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1179), can_see=false
[06:57:02] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1358), can_see=false
[06:57:02] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[06:57:02] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(705.1639, 1763.52), source=PLAYER (Player), range=900, listeners=9
[06:57:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=0, below_threshold=2
[06:57:02] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[06:57:02] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1512), can_see=false
[06:57:02] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1296), can_see=false
[06:57:02] [ENEMY] [Enemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=862), can_see=false
[06:57:02] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=982), can_see=false
[06:57:02] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1810), can_see=false
[06:57:02] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1892), can_see=false
[06:57:02] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1335), can_see=false
[06:57:02] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1307), can_see=false
[06:57:02] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1478), can_see=false
[06:57:03] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[06:57:03] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[06:57:03] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[06:57:03] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[06:57:03] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[06:57:03] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[06:57:03] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[06:57:03] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[06:57:03] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[06:57:03] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[06:57:03] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[06:57:03] [INFO] [Player.Reload.Anim] LeftArm: pos=(21.126976, 5.987315), target=(24, 6), base=(24, 6)
[06:57:03] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.0000005, 6.4682674), target=(-2, 6), base=(-2, 6)
[06:57:03] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[06:57:03] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[06:57:04] [ENEMY] [Enemy3] FLANKING started: target=(233.9393, 1829.943), side=left, pos=(676.5763, 960.2678)
[06:57:04] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[06:57:09] [ENEMY] [Enemy4] FLANKING timeout (5.0s), target=(524.7693, 2028.007), pos=(548.0665, 1834.959)
[06:57:09] [ENEMY] [Enemy4] State: FLANKING -> PURSUING
[06:57:09] [ENEMY] [Enemy4] FLANKING started: target=(400.0952, 1708.877), side=left, pos=(548.0665, 1838.869)
[06:57:09] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[06:57:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(320.9612, 1912), source=PLAYER (AssaultRifle), range=1469, listeners=9
[06:57:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[06:57:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(282.4612, 1912), source=PLAYER (AssaultRifle), range=1469, listeners=9
[06:57:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[06:57:10] [ENEMY] [Enemy3] State: FLANKING -> COMBAT
[06:57:10] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[06:57:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(535.0552, 1618.975), source=ENEMY (Enemy3), range=1469, listeners=9
[06:57:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:57:10] [ENEMY] [Enemy4] Hit taken, health: 3/4
[06:57:10] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:10] [INFO] [ImpactEffects] spawn_blood_effect called at (472.9293, 1688.258), dir=(-0.827139, 0.561998), lethal=false
[06:57:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:10] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:10] [INFO] [ImpactEffects] Blood effect spawned at (472.9293, 1688.258) (scale=1)
[06:57:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(532.7473, 1624.211), source=ENEMY (Enemy3), range=1469, listeners=9
[06:57:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:57:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.3989, 1711.537), source=ENEMY (Enemy4), range=1469, listeners=9
[06:57:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=3
[06:57:10] [INFO] [LastChance] Threat detected: @Area2D@1638
[06:57:10] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:10] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[06:57:10] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[06:57:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(320.96115, 1912.0004), shooter_id=1873159390909, bullet_pos=(2469.8936, 1844.1998)
[06:57:10] [INFO] [Bullet] Using shooter_position, distance=2150,0017
[06:57:10] [INFO] [Bullet] Distance to wall: 2150,0017 (146,39758% of viewport)
[06:57:10] [INFO] [Bullet] Distance-based penetration chance: 20,720486%
[06:57:10] [INFO] [Bullet] Penetration failed (distance roll)
[06:57:10] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[06:57:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(392.7391, 1746.334), shooter_id=1870626031746, bullet_pos=(50.45489, 1899.522)
[06:57:10] [INFO] [Bullet] Using shooter_position, distance=374.999969482422
[06:57:10] [INFO] [Bullet] Distance to wall: 374.999969482422 (25.5344374861978% of viewport)
[06:57:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:10] [INFO] [Bullet] Starting wall penetration at (50.45489, 1899.522)
[06:57:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26.4478321075439
[06:57:10] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:10] [INFO] [Bullet] Exiting penetration at (7.859528, 1918.585) after traveling 41.6666679382324 pixels through wall
[06:57:10] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:10] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[06:57:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(478.0417, 1664.822), shooter_id=1870340819705, bullet_pos=(45.09576, 1914.938)
[06:57:10] [INFO] [Bullet] Using shooter_position, distance=500.000274658203
[06:57:10] [INFO] [Bullet] Distance to wall: 500.000274658203 (34.0459381209098% of viewport)
[06:57:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(282.46115, 1912.0004), shooter_id=1873159390909, bullet_pos=(2473.1987, 1848.1895)
[06:57:10] [INFO] [Bullet] Using shooter_position, distance=2191,6667
[06:57:10] [INFO] [Bullet] Distance to wall: 2191,6667 (149,23463% of viewport)
[06:57:10] [INFO] [Bullet] Distance-based penetration chance: 20,153076%
[06:57:10] [INFO] [Bullet] Starting wall penetration at (2473.1987, 1848.1895)
[06:57:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,85557
[06:57:10] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:10] [INFO] [Bullet] Exiting penetration at (2519.8455, 1846.8307) after traveling 41,666668 pixels through wall
[06:57:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[06:57:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(478.0417, 1664.822), shooter_id=1870340819705, bullet_pos=(248.7744, 2064.878)
[06:57:10] [INFO] [Bullet] Using shooter_position, distance=461.094482421875
[06:57:10] [INFO] [Bullet] Distance to wall: 461.094482421875 (31.3967711860947% of viewport)
[06:57:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(478.0417, 1664.822), shooter_id=1870340819705, bullet_pos=(514.672, 1859.226)
[06:57:11] [INFO] [Bullet] Using shooter_position, distance=197.825332641602
[06:57:11] [INFO] [Bullet] Distance to wall: 197.825332641602 (13.4702906682771% of viewport)
[06:57:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(478.0417, 1664.822), shooter_id=1870340819705, bullet_pos=(240.4854, 1710.214)
[06:57:11] [INFO] [Bullet] Using shooter_position, distance=241.854080200195
[06:57:11] [INFO] [Bullet] Distance to wall: 241.854080200195 (16.4682890512695% of viewport)
[06:57:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:11] [INFO] [Bullet] Starting wall penetration at (240.4854, 1710.214)
[06:57:11] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[06:57:11] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:57:11] [INFO] [Bullet] Exiting penetration at (213.6095, 1695.607) after traveling 25.5885429382324 pixels through wall
[06:57:11] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[06:57:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(114.1506, 1701.975), source=PLAYER (AssaultRifle), range=1469, listeners=9
[06:57:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[06:57:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(422.1378, 1726.534), source=ENEMY (Enemy4), range=1469, listeners=9
[06:57:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=3
[06:57:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.1348, 1725.45), shooter_id=1870626031746, bullet_pos=(226.7971, 1738.3)
[06:57:11] [INFO] [Bullet] Using shooter_position, distance=125.000015258789
[06:57:11] [INFO] [Bullet] Distance to wall: 125.000015258789 (8.51148089373093% of viewport)
[06:57:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:11] [INFO] [Bullet] Starting wall penetration at (226.7971, 1738.3)
[06:57:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(422.1378, 1726.534), source=ENEMY (Enemy4), range=1469, listeners=9
[06:57:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=3
[06:57:11] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:57:11] [INFO] [Bullet] Exiting penetration at (180.3776, 1743.097) after traveling 41.6666679382324 pixels through wall
[06:57:11] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(114.1506, 1663.475), source=PLAYER (AssaultRifle), range=1469, listeners=9
[06:57:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[06:57:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(114.15059, 1701.9753), shooter_id=1873159390909, bullet_pos=(504.5186, 1614.7245)
[06:57:11] [INFO] [Bullet] Using shooter_position, distance=399,99985
[06:57:11] [INFO] [Bullet] Distance to wall: 399,99985 (27,236727% of viewport)
[06:57:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(485.8063, 1636.075), source=ENEMY (Enemy3), range=1469, listeners=9
[06:57:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:57:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(422.1378, 1726.534), source=ENEMY (Enemy4), range=1469, listeners=9
[06:57:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=3
[06:57:11] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[06:57:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(422.1378, 1726.534), source=ENEMY (Enemy4), range=1469, listeners=9
[06:57:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=3
[06:57:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(353.732, 1721.557), shooter_id=1870626031746, bullet_pos=(65.50615, 1676.888)
[06:57:11] [INFO] [Bullet] Using shooter_position, distance=291.666625976563
[06:57:11] [INFO] [Bullet] Distance to wall: 291.666625976563 (19.8601168903771% of viewport)
[06:57:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:11] [INFO] [Bullet] Starting wall penetration at (65.50615, 1676.888)
[06:57:11] [INFO] [LastChance] Threat detected: @Area2D@1658
[06:57:11] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(114.1516, 1634.066), source=PLAYER (AssaultRifle), range=1469, listeners=9
[06:57:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[06:57:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12.7605180740356
[06:57:11] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:11] [INFO] [Bullet] Exiting penetration at (19.39001, 1669.741) after traveling 41.6666717529297 pixels through wall
[06:57:11] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:11] [INFO] [LastChance] Threat detected: @Area2D@1656
[06:57:11] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(114.15059, 1663.4753), shooter_id=1873159390909, bullet_pos=(468.86066, 1612.6459)
[06:57:11] [INFO] [Bullet] Using shooter_position, distance=358,33347
[06:57:11] [INFO] [Bullet] Distance to wall: 358,33347 (24,399586% of viewport)
[06:57:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:11] [ENEMY] [Enemy3] Hit taken, health: 2/3
[06:57:11] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:11] [INFO] [ImpactEffects] spawn_blood_effect called at (456.4481, 1636.065), dir=(1, 0), lethal=false
[06:57:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:11] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:11] [INFO] [ImpactEffects] Blood effect spawned at (456.4481, 1636.065) (scale=1)
[06:57:11] [INFO] [LastChance] Threat detected: Bullet
[06:57:11] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:57:11] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:57:11] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:57:11] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:57:11] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:57:11] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:57:11] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:57:11] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:57:11] [INFO] [PenultimateHit] Applying saturation to 9 enemies
[06:57:11] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:57:11] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:57:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.5964, 1636.065), source=ENEMY (Enemy3), range=1469, listeners=9
[06:57:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:57:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(114.15162, 1634.0662), shooter_id=1873159390909, bullet_pos=(271.44272, 1615.9287)
[06:57:11] [INFO] [Bullet] Using shooter_position, distance=158,33337
[06:57:11] [INFO] [Bullet] Distance to wall: 158,33337 (10,781211% of viewport)
[06:57:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:11] [INFO] [Bullet] Starting wall penetration at (271.44272, 1615.9287)
[06:57:11] [INFO] [Bullet] Raycast forward hit penetrating body at distance 25,129475
[06:57:11] [INFO] [Bullet] Raycast forward hit penetrating body at distance 20,962887
[06:57:11] [INFO] [Bullet] Raycast forward hit penetrating body at distance 16,79633
[06:57:11] [INFO] [Bullet] Raycast forward hit penetrating body at distance 12,629741
[06:57:11] [INFO] [Bullet] Raycast forward hit penetrating body at distance 8,463152
[06:57:11] [INFO] [Bullet] Raycast forward hit penetrating body at distance 4,2965946
[06:57:11] [INFO] [Bullet] Raycast forward hit penetrating body at distance 0,1300062
[06:57:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[06:57:11] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[06:57:11] [INFO] [PenultimateHit] Player died - ending penultimate effect
[06:57:11] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:57:11] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:57:11] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[06:57:11] [INFO] [LastChance] Player died
[06:57:11] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:57:11] [INFO] [Bullet] Exiting penetration at (309.5238, 1611.5376) after traveling 33,33334 pixels through wall
[06:57:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[06:57:11] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:57:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(423.0019, 1763.857), source=ENEMY (Enemy4), range=1469, listeners=9
[06:57:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[06:57:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(418.3401, 1645.765), shooter_id=1870340819705, bullet_pos=(43.48687, 1656.255)
[06:57:11] [INFO] [Bullet] Using shooter_position, distance=375.000030517578
[06:57:11] [INFO] [Bullet] Distance to wall: 375.000030517578 (25.5344416421938% of viewport)
[06:57:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:11] [INFO] [Bullet] Starting wall penetration at (43.48687, 1656.255)
[06:57:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35.1752967834473
[06:57:11] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:11] [INFO] [Bullet] Exiting penetration at (-3.161533, 1657.56) after traveling 41.6666679382324 pixels through wall
[06:57:11] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:11] [INFO] [LastChance] Threat detected: @Area2D@1664
[06:57:11] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:11] [INFO] [LastChance] Threat detected: Bullet
[06:57:11] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(413.509, 1799.66), source=ENEMY (Enemy4), range=1469, listeners=9
[06:57:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[06:57:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(348.7679, 1770.911), shooter_id=1870626031746, bullet_pos=(240.3217, 1708.746)
[06:57:12] [INFO] [Bullet] Using shooter_position, distance=125.000106811523
[06:57:12] [INFO] [Bullet] Distance to wall: 125.000106811523 (8.51148712772497% of viewport)
[06:57:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:12] [INFO] [Bullet] Starting wall penetration at (240.3217, 1708.746)
[06:57:12] [INFO] [LastChance] Threat detected: @Area2D@1669
[06:57:12] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:12] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:57:12] [INFO] [Bullet] Exiting penetration at (199.8351, 1685.538) after traveling 41.6666679382324 pixels through wall
[06:57:12] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(479.8283, 1652.954), source=ENEMY (Enemy3), range=1469, listeners=9
[06:57:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:57:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(469.2014, 1653.873), source=ENEMY (Enemy3), range=1469, listeners=9
[06:57:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:57:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.5938, 1654.993), source=ENEMY (Enemy3), range=1469, listeners=9
[06:57:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:57:12] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:12] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:12] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:57:12] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:57:12] [ENEMY] [Enemy1] Death animation component initialized
[06:57:12] [ENEMY] [Enemy2] Death animation component initialized
[06:57:12] [ENEMY] [Enemy3] Death animation component initialized
[06:57:12] [ENEMY] [Enemy4] Death animation component initialized
[06:57:12] [ENEMY] [Enemy5] Death animation component initialized
[06:57:12] [ENEMY] [Enemy6] Death animation component initialized
[06:57:12] [ENEMY] [Enemy7] Death animation component initialized
[06:57:12] [ENEMY] [Enemy8] Death animation component initialized
[06:57:12] [ENEMY] [Enemy9] Death animation component initialized
[06:57:12] [ENEMY] [Enemy10] Death animation component initialized
[06:57:12] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:57:12] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:57:12] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:57:12] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:57:12] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:57:12] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:57:12] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:57:12] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[06:57:12] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:57:12] [INFO] [ScoreManager] Level started with 10 enemies
[06:57:12] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[06:57:12] [ENEMY] [Enemy1] Registered as sound listener
[06:57:12] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[06:57:12] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[06:57:12] [ENEMY] [Enemy2] Registered as sound listener
[06:57:12] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[06:57:12] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[06:57:12] [ENEMY] [Enemy3] Registered as sound listener
[06:57:12] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[06:57:12] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[06:57:12] [ENEMY] [Enemy4] Registered as sound listener
[06:57:12] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[06:57:12] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[06:57:12] [ENEMY] [Enemy5] Registered as sound listener
[06:57:12] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[06:57:12] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[06:57:12] [ENEMY] [Enemy6] Registered as sound listener
[06:57:12] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[06:57:12] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[06:57:12] [ENEMY] [Enemy7] Registered as sound listener
[06:57:12] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[06:57:12] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[06:57:12] [ENEMY] [Enemy8] Registered as sound listener
[06:57:12] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[06:57:12] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[06:57:12] [ENEMY] [Enemy9] Registered as sound listener
[06:57:12] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[06:57:12] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[06:57:12] [ENEMY] [Enemy10] Registered as sound listener
[06:57:12] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[06:57:12] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:12] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:12] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:57:12] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:57:12] [ENEMY] [Enemy1] Death animation component initialized
[06:57:12] [ENEMY] [Enemy2] Death animation component initialized
[06:57:12] [ENEMY] [Enemy3] Death animation component initialized
[06:57:12] [ENEMY] [Enemy4] Death animation component initialized
[06:57:12] [ENEMY] [Enemy5] Death animation component initialized
[06:57:12] [ENEMY] [Enemy6] Death animation component initialized
[06:57:12] [ENEMY] [Enemy7] Death animation component initialized
[06:57:12] [ENEMY] [Enemy8] Death animation component initialized
[06:57:12] [ENEMY] [Enemy9] Death animation component initialized
[06:57:12] [ENEMY] [Enemy10] Death animation component initialized
[06:57:12] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:57:12] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:57:12] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:57:12] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:57:12] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:57:12] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:57:12] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:57:12] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[06:57:12] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:57:12] [INFO] [ScoreManager] Level started with 10 enemies
[06:57:12] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[06:57:12] [ENEMY] [Enemy1] Registered as sound listener
[06:57:12] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[06:57:12] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[06:57:12] [ENEMY] [Enemy2] Registered as sound listener
[06:57:12] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[06:57:12] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[06:57:12] [ENEMY] [Enemy3] Registered as sound listener
[06:57:12] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[06:57:12] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[06:57:12] [ENEMY] [Enemy4] Registered as sound listener
[06:57:12] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[06:57:12] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[06:57:12] [ENEMY] [Enemy5] Registered as sound listener
[06:57:12] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[06:57:12] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[06:57:12] [ENEMY] [Enemy6] Registered as sound listener
[06:57:12] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[06:57:12] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[06:57:12] [ENEMY] [Enemy7] Registered as sound listener
[06:57:12] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[06:57:12] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[06:57:12] [ENEMY] [Enemy8] Registered as sound listener
[06:57:12] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[06:57:12] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[06:57:12] [ENEMY] [Enemy9] Registered as sound listener
[06:57:12] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[06:57:12] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[06:57:12] [ENEMY] [Enemy10] Registered as sound listener
[06:57:12] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[06:57:12] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:57:12] [INFO] [Player] Detected weapon: Rifle (default pose)
[06:57:12] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[06:57:12] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:57:12] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:57:12] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:57:12] [INFO] [LastChance] Found player: Player
[06:57:12] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:57:12] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:57:12] [INFO] [LastChance] Connected to player Died signal (C#)
[06:57:12] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:57:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.004, 1519.036), source=ENEMY (Enemy10), range=1469, listeners=29
[06:57:13] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[06:57:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.385, 1499.191), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.598, 1478.078), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.687, 1455.741), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:13] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:57:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=2533544166754, bullet_pos=(47.54776, 866.3744)
[06:57:13] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[06:57:13] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[06:57:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=2533544166754, bullet_pos=(43.40149, 802.4432)
[06:57:13] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[06:57:13] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[06:57:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=2533544166754, bullet_pos=(332.5812, 712.8491)
[06:57:13] [INFO] [Bullet] Using shooter_position, distance=1080.21350097656
[06:57:13] [INFO] [Bullet] Distance to wall: 1080.21350097656 (73.5537236189717% of viewport)
[06:57:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=2533544166754, bullet_pos=(241.5774, 712.8185)
[06:57:13] [INFO] [Bullet] Using shooter_position, distance=1107.76062011719
[06:57:13] [INFO] [Bullet] Distance to wall: 1107.76062011719 (75.4294576159423% of viewport)
[06:57:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.149, 1444.873), shooter_id=2533544166754, bullet_pos=(41.66475, 738.6735)
[06:57:13] [INFO] [Bullet] Using shooter_position, distance=1208.33276367188
[06:57:13] [INFO] [Bullet] Distance to wall: 1208.33276367188 (82.2775998064458% of viewport)
[06:57:13] [INFO] [Bullet] Distance-based penetration chance: 50.6761335591466%
[06:57:13] [INFO] [Bullet] Starting wall penetration at (41.66475, 738.6735)
[06:57:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.7560081481934
[06:57:13] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:13] [INFO] [Bullet] Exiting penetration at (3.797741, 711.3995) after traveling 41.6666679382324 pixels through wall
[06:57:13] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=2533544166754, bullet_pos=(503.4669, 844.5198)
[06:57:13] [INFO] [Bullet] Using shooter_position, distance=867.406555175781
[06:57:13] [INFO] [Bullet] Distance to wall: 867.406555175781 (59.0633073619286% of viewport)
[06:57:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6396, 1420.14), shooter_id=2533544166754, bullet_pos=(42.74055, 674.5793)
[06:57:13] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[06:57:13] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[06:57:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=2533544166754, bullet_pos=(513.8607, 852.5446)
[06:57:13] [INFO] [Bullet] Using shooter_position, distance=817.622985839844
[06:57:13] [INFO] [Bullet] Distance to wall: 817.622985839844 (55.6734525819328% of viewport)
[06:57:13] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:57:13] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:57:13] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:57:13] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:57:13] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:57:13] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:57:13] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:57:13] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:57:13] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:57:13] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:57:13] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:57:14] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:14] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:14] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:57:14] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:57:14] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:57:14] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:57:14] [ENEMY] [Enemy1] Death animation component initialized
[06:57:14] [ENEMY] [Enemy2] Death animation component initialized
[06:57:14] [ENEMY] [Enemy3] Death animation component initialized
[06:57:14] [ENEMY] [Enemy4] Death animation component initialized
[06:57:14] [ENEMY] [Enemy5] Death animation component initialized
[06:57:14] [ENEMY] [Enemy6] Death animation component initialized
[06:57:14] [ENEMY] [Enemy7] Death animation component initialized
[06:57:14] [ENEMY] [Enemy8] Death animation component initialized
[06:57:14] [ENEMY] [Enemy9] Death animation component initialized
[06:57:14] [ENEMY] [Enemy10] Death animation component initialized
[06:57:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:57:14] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:57:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:57:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:57:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:57:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:57:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:57:14] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[06:57:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:57:14] [INFO] [ScoreManager] Level started with 10 enemies
[06:57:14] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[06:57:14] [ENEMY] [Enemy1] Registered as sound listener
[06:57:14] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[06:57:14] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[06:57:14] [ENEMY] [Enemy2] Registered as sound listener
[06:57:14] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[06:57:14] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[06:57:14] [ENEMY] [Enemy3] Registered as sound listener
[06:57:14] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[06:57:14] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[06:57:14] [ENEMY] [Enemy4] Registered as sound listener
[06:57:14] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[06:57:14] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[06:57:14] [ENEMY] [Enemy5] Registered as sound listener
[06:57:14] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[06:57:14] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[06:57:14] [ENEMY] [Enemy6] Registered as sound listener
[06:57:14] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[06:57:14] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[06:57:14] [ENEMY] [Enemy7] Registered as sound listener
[06:57:14] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[06:57:14] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[06:57:14] [ENEMY] [Enemy8] Registered as sound listener
[06:57:14] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[06:57:14] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[06:57:14] [ENEMY] [Enemy9] Registered as sound listener
[06:57:14] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[06:57:14] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[06:57:14] [ENEMY] [Enemy10] Registered as sound listener
[06:57:14] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[06:57:14] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:57:14] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:57:14] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:57:14] [INFO] [LastChance] Found player: Player
[06:57:14] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:57:14] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:57:14] [INFO] [LastChance] Connected to player Died signal (C#)
[06:57:14] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:57:14] [INFO] [Player] Detected weapon: Rifle (default pose)
[06:57:14] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[06:57:14] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:57:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.004, 1519.036), source=ENEMY (Enemy10), range=1469, listeners=20
[06:57:15] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[06:57:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.385, 1499.191), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1051.167), source=PLAYER (AssaultRifle), range=1469, listeners=10
[06:57:15] [ENEMY] [Enemy3] Heard gunshot at (450, 1051.167), source_type=0, intensity=0.02, distance=391
[06:57:15] [ENEMY] [Enemy4] Heard gunshot at (450, 1051.167), source_type=0, intensity=0.02, distance=381
[06:57:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[06:57:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.598, 1478.078), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1012.667), source=PLAYER (AssaultRifle), range=1469, listeners=10
[06:57:15] [ENEMY] [Enemy2] Heard gunshot at (450, 1012.667), source_type=0, intensity=0.01, distance=465
[06:57:15] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[06:57:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.686, 1455.743), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 974.1666), source=PLAYER (AssaultRifle), range=1469, listeners=10
[06:57:15] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[06:57:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1051.1666), shooter_id=2652058421204, bullet_pos=(997.73285, 1401.1516)
[06:57:15] [INFO] [Bullet] Using shooter_position, distance=650,0006
[06:57:15] [INFO] [Bullet] Distance to wall: 650,0006 (44,25974% of viewport)
[06:57:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1051.1666), shooter_id=2652058421204, bullet_pos=(993.2717, 1403.4097)
[06:57:15] [INFO] [Bullet] Using shooter_position, distance=647,4715
[06:57:15] [INFO] [Bullet] Distance to wall: 647,4715 (44,087524% of viewport)
[06:57:15] [INFO] [Bullet] Distance-based penetration chance: 95,231224%
[06:57:15] [INFO] [Bullet] Starting wall penetration at (993.2717, 1403.4097)
[06:57:15] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:57:15] [INFO] [Bullet] Exiting penetration at (957.2111, 1421.6619) after traveling 35,416664 pixels through wall
[06:57:15] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[06:57:15] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:57:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=2651236337577, bullet_pos=(47.54776, 866.3744)
[06:57:15] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[06:57:15] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[06:57:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(404.2368, 650.0676), source=ENEMY (Enemy2), range=1469, listeners=10
[06:57:15] [ENEMY] [Enemy1] Heard gunshot at (404.2368, 650.0676), source_type=1, intensity=0.02, distance=318
[06:57:15] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[06:57:15] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[06:57:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=2651236337577, bullet_pos=(43.40149, 802.4432)
[06:57:15] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[06:57:15] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[06:57:15] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[06:57:15] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[06:57:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=2651236337577, bullet_pos=(333.0918, 713.8009)
[06:57:15] [INFO] [Bullet] Using shooter_position, distance=1079.173828125
[06:57:15] [INFO] [Bullet] Distance to wall: 1079.173828125 (73.482930382719% of viewport)
[06:57:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1012.6666), shooter_id=2652058421204, bullet_pos=(1205.3625, 1642.2467)
[06:57:15] [INFO] [Bullet] Using shooter_position, distance=983,33295
[06:57:15] [INFO] [Bullet] Distance to wall: 983,33295 (66,95695% of viewport)
[06:57:15] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[06:57:15] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[06:57:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=2651236337577, bullet_pos=(240.3956, 710.2499)
[06:57:15] [INFO] [Bullet] Using shooter_position, distance=1110.37744140625
[06:57:15] [INFO] [Bullet] Distance to wall: 1110.37744140625 (75.6076417894246% of viewport)
[06:57:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.149, 1444.873), shooter_id=2651236337577, bullet_pos=(41.66475, 738.6735)
[06:57:15] [INFO] [Bullet] Using shooter_position, distance=1208.33276367188
[06:57:15] [INFO] [Bullet] Distance to wall: 1208.33276367188 (82.2775998064458% of viewport)
[06:57:15] [INFO] [Bullet] Distance-based penetration chance: 50.6761335591466%
[06:57:15] [INFO] [Bullet] Penetration failed (distance roll)
[06:57:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 974.1666), shooter_id=2652058421204, bullet_pos=(1163.0674, 1651.2781)
[06:57:15] [INFO] [Bullet] Using shooter_position, distance=983,3336
[06:57:15] [INFO] [Bullet] Distance to wall: 983,3336 (66,957% of viewport)
[06:57:15] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[06:57:15] [ENEMY] [Enemy3] Hit taken, health: 2/3
[06:57:15] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:15] [INFO] [ImpactEffects] spawn_blood_effect called at (639.6318, 810.1193), dir=(0.932884, 0.360178), lethal=false
[06:57:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:15] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:15] [INFO] [ImpactEffects] Wall found for blood splatter at (680, 825.705) (dist=43 px)
[06:57:15] [INFO] [ImpactEffects] Blood effect spawned at (639.6318, 810.1193) (scale=1)
[06:57:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6154, 1420.184), shooter_id=2651236337577, bullet_pos=(42.19441, 675.29)
[06:57:15] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[06:57:15] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[06:57:15] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[06:57:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=2651236337577, bullet_pos=(499.275, 805.7637)
[06:57:15] [INFO] [Bullet] Using shooter_position, distance=862.680908203125
[06:57:15] [INFO] [Bullet] Distance to wall: 862.680908203125 (58.7415293698619% of viewport)
[06:57:15] [INFO] [Bullet] Distance-based penetration chance: 78.1348824018278%
[06:57:15] [INFO] [Bullet] Starting wall penetration at (499.275, 805.7637)
[06:57:15] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[06:57:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8.74995613098145
[06:57:16] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:16] [INFO] [Bullet] Exiting penetration at (532.209, 817.9148) after traveling 30.1041698455811 pixels through wall
[06:57:16] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[06:57:16] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:57:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(396.5433, 717.6798), shooter_id=2648954635879, bullet_pos=(236.3165, 1407.653)
[06:57:16] [INFO] [Bullet] Using shooter_position, distance=708.333190917969
[06:57:16] [INFO] [Bullet] Distance to wall: 708.333190917969 (48.2317094794902% of viewport)
[06:57:16] [INFO] [Bullet] Distance-based penetration chance: 90.3963389405948%
[06:57:16] [INFO] [Bullet] Starting wall penetration at (236.3165, 1407.653)
[06:57:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 42.2041511535645
[06:57:16] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:16] [INFO] [Bullet] Exiting penetration at (225.7604, 1453.11) after traveling 41.6666717529297 pixels through wall
[06:57:16] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1012.6666), shooter_id=2652058421204, bullet_pos=(1710.0546, 1189.6368)
[06:57:16] [INFO] [Bullet] Using shooter_position, distance=1272,4213
[06:57:16] [INFO] [Bullet] Distance to wall: 1272,4213 (86,64151% of viewport)
[06:57:16] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[06:57:16] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[06:57:16] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[06:57:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 974.1666), shooter_id=2652058421204, bullet_pos=(832.39886, 2073.442)
[06:57:16] [INFO] [Bullet] Using shooter_position, distance=1163,888
[06:57:16] [INFO] [Bullet] Distance to wall: 1163,888 (79,251274% of viewport)
[06:57:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6154, 1420.184), shooter_id=2651236337577, bullet_pos=(497.6427, 392.2164)
[06:57:16] [INFO] [Bullet] Using shooter_position, distance=1141.36169433594
[06:57:16] [INFO] [Bullet] Distance to wall: 1141.36169433594 (77.7174165464242% of viewport)
[06:57:16] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[06:57:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6154, 1420.184), shooter_id=2651236337577, bullet_pos=(287.9027, 263.9855)
[06:57:16] [INFO] [Bullet] Using shooter_position, distance=1354.55749511719
[06:57:16] [INFO] [Bullet] Distance to wall: 1354.55749511719 (92.2343106541286% of viewport)
[06:57:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1012.6666), shooter_id=2652058421204, bullet_pos=(1373.6421, 880.9684)
[06:57:16] [INFO] [Bullet] Using shooter_position, distance=932,984
[06:57:16] [INFO] [Bullet] Distance to wall: 932,984 (63,5286% of viewport)
[06:57:16] [INFO] [Bullet] Distance-based penetration chance: 72,54997%
[06:57:16] [INFO] [Bullet] Starting wall penetration at (1373.6421, 880.9684)
[06:57:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,018417
[06:57:16] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:16] [INFO] [Bullet] Exiting penetration at (1347.776, 857.2355) after traveling 30,104164 pixels through wall
[06:57:16] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[06:57:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 974.1666), shooter_id=2652058421204, bullet_pos=(508.12656, 1752.0437)
[06:57:16] [INFO] [Bullet] Using shooter_position, distance=780,0458
[06:57:16] [INFO] [Bullet] Distance to wall: 780,0458 (53,114754% of viewport)
[06:57:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6154, 1420.184), shooter_id=2651236337577, bullet_pos=(51.16258, 373.5997)
[06:57:16] [INFO] [Bullet] Using shooter_position, distance=1408.38781738281
[06:57:16] [INFO] [Bullet] Distance to wall: 1408.38781738281 (95.8997162824294% of viewport)
[06:57:16] [INFO] [Bullet] Distance-based penetration chance: 34.7836643371657%
[06:57:16] [INFO] [Bullet] Starting wall penetration at (51.16258, 373.5997)
[06:57:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9.47156429290771
[06:57:16] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:16] [INFO] [Bullet] Exiting penetration at (23.40505, 386.4518) after traveling 25.5885429382324 pixels through wall
[06:57:16] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[06:57:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(639.6318, 810.1193), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(568.5641, 807.5165), shooter_id=2649239849725, bullet_pos=(526.9514, 809.6367)
[06:57:17] [INFO] [Bullet] Using shooter_position, distance=41.6666488647461
[06:57:17] [INFO] [Bullet] Distance to wall: 41.6666488647461 (2.8371587394118% of viewport)
[06:57:17] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[06:57:17] [INFO] [Bullet] Starting wall penetration at (526.9514, 809.6367)
[06:57:17] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19.6802787780762
[06:57:17] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:17] [INFO] [Bullet] Exiting penetration at (480.3452, 812.0113) after traveling 41.6666641235352 pixels through wall
[06:57:17] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(639.6318, 810.1193), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:17] [INFO] [LastChance] Threat detected: Bullet
[06:57:17] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(466.2649, 763.9802), source=PLAYER (AssaultRifle), range=1469, listeners=10
[06:57:17] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:17] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[06:57:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(639.6318, 810.1193), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:17] [INFO] [LastChance] Threat detected: @Area2D@2480
[06:57:17] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(639.6318, 810.1193), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(490.9499, 744.9486), source=PLAYER (AssaultRifle), range=1469, listeners=10
[06:57:17] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:17] [INFO] [LastChance] Threat detected: @Area2D@2481
[06:57:17] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:17] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[06:57:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(572.5887, 794.7366), shooter_id=2649239849725, bullet_pos=(386.0298, 702.0083)
[06:57:17] [INFO] [Bullet] Using shooter_position, distance=208.33332824707
[06:57:17] [INFO] [Bullet] Distance to wall: 208.33332824707 (14.1857994115535% of viewport)
[06:57:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:17] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[06:57:17] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[06:57:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(570.3254, 800.7302), shooter_id=2649239849725, bullet_pos=(120.5101, 712.7772)
[06:57:17] [INFO] [Bullet] Using shooter_position, distance=458.333435058594
[06:57:17] [INFO] [Bullet] Distance to wall: 458.333435058594 (31.2087663940104% of viewport)
[06:57:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(490.9499, 744.9486), shooter_id=2652058421204, bullet_pos=(715.6256, 807.9189)
[06:57:17] [INFO] [Bullet] Using shooter_position, distance=233,33331
[06:57:17] [INFO] [Bullet] Distance to wall: 233,33331 (15,888095% of viewport)
[06:57:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(570.3254, 800.7302), shooter_id=2649239849725, bullet_pos=(48.42189, 736.3141)
[06:57:17] [INFO] [Bullet] Using shooter_position, distance=525.86376953125
[06:57:17] [INFO] [Bullet] Distance to wall: 525.86376953125 (35.807031045589% of viewport)
[06:57:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:17] [INFO] [Bullet] Starting wall penetration at (48.42189, 736.3141)
[06:57:17] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23.1416244506836
[06:57:17] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:17] [INFO] [Bullet] Exiting penetration at (10.00127, 748.8586) after traveling 35.4166717529297 pixels through wall
[06:57:17] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[06:57:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(519.199, 740.8423), source=PLAYER (AssaultRifle), range=1469, listeners=10
[06:57:17] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[06:57:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(519.19904, 740.84235), shooter_id=2652058421204, bullet_pos=(685.6913, 835.79736)
[06:57:17] [INFO] [Bullet] Using shooter_position, distance=191,6667
[06:57:17] [INFO] [Bullet] Distance to wall: 191,6667 (13,05094% of viewport)
[06:57:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:17] [INFO] [Bullet] Starting wall penetration at (685.6913, 835.79736)
[06:57:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(490.9499, 744.9486), shooter_id=2652058421204, bullet_pos=(918.2462, 728.855)
[06:57:17] [INFO] [Bullet] Using shooter_position, distance=427,5993
[06:57:17] [INFO] [Bullet] Distance to wall: 427,5993 (29,116022% of viewport)
[06:57:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(572.5887, 794.7366), shooter_id=2649239849725, bullet_pos=(64.46483, 861.998)
[06:57:17] [INFO] [Bullet] Using shooter_position, distance=512.556335449219
[06:57:17] [INFO] [Bullet] Distance to wall: 512.556335449219 (34.90090338873% of viewport)
[06:57:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:17] [INFO] [Bullet] Starting wall penetration at (64.46483, 861.998)
[06:57:17] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4.15560388565063
[06:57:17] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:57:17] [INFO] [Bullet] Exiting penetration at (726.2285, 858.9169) after traveling 41,666668 pixels through wall
[06:57:17] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[06:57:17] [INFO] [Bullet] Max penetration distance exceeded: 70.8333358764648 >= 48
[06:57:17] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:17] [INFO] [Bullet] Exiting penetration at (-3.429405, 895.7777) after traveling 70.8333358764648 pixels through wall
[06:57:17] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[06:57:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.4781, 750.8166), source=PLAYER (AssaultRifle), range=1469, listeners=10
[06:57:17] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[06:57:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(466.26492, 763.98016), shooter_id=2652058421204, bullet_pos=(1364.2628, 823.9761)
[06:57:17] [INFO] [Bullet] Using shooter_position, distance=899,9999
[06:57:17] [INFO] [Bullet] Distance to wall: 899,9999 (61,282646% of viewport)
[06:57:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(664.4858, 910.384), source=ENEMY (Enemy4), range=1469, listeners=10
[06:57:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:17] [INFO] [LastChance] Threat detected: @Area2D@2495
[06:57:17] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:17] [ENEMY] [Enemy3] Hit taken, health: 1/3
[06:57:17] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:17] [INFO] [ImpactEffects] spawn_blood_effect called at (596.083, 870.236), dir=(-0.599481, -0.800389), lethal=false
[06:57:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:17] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:17] [INFO] [ImpactEffects] Blood effect spawned at (596.083, 870.236) (scale=1)
[06:57:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.4781, 750.8166), shooter_id=2652058421204, bullet_pos=(691.59357, 868.71576)
[06:57:17] [INFO] [Bullet] Using shooter_position, distance=191,66664
[06:57:17] [INFO] [Bullet] Distance to wall: 191,66664 (13,050935% of viewport)
[06:57:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:17] [INFO] [Bullet] Starting wall penetration at (691.59357, 868.71576)
[06:57:17] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,065225
[06:57:17] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:17] [INFO] [Bullet] Exiting penetration at (728.3869, 897.42163) after traveling 41,666676 pixels through wall
[06:57:17] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[06:57:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(551.991, 773.8829), source=PLAYER (AssaultRifle), range=1469, listeners=10
[06:57:17] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[06:57:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(664.4858, 910.384), source=ENEMY (Enemy4), range=1469, listeners=10
[06:57:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:17] [INFO] [LastChance] Threat detected: @Area2D@2499
[06:57:17] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:17] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[06:57:17] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:57:17] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:57:17] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:57:17] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:57:17] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:57:17] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:57:17] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:57:17] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:57:17] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:57:17] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:57:17] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:57:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:18] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:57:18] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:57:18] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:57:18] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:57:18] [ENEMY] [Enemy1] Death animation component initialized
[06:57:18] [ENEMY] [Enemy2] Death animation component initialized
[06:57:18] [ENEMY] [Enemy3] Death animation component initialized
[06:57:18] [ENEMY] [Enemy4] Death animation component initialized
[06:57:18] [ENEMY] [Enemy5] Death animation component initialized
[06:57:18] [ENEMY] [Enemy6] Death animation component initialized
[06:57:18] [ENEMY] [Enemy7] Death animation component initialized
[06:57:18] [ENEMY] [Enemy8] Death animation component initialized
[06:57:18] [ENEMY] [Enemy9] Death animation component initialized
[06:57:18] [ENEMY] [Enemy10] Death animation component initialized
[06:57:18] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:57:18] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:57:18] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:57:18] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:57:18] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:57:18] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:57:18] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:57:18] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[06:57:18] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:57:18] [INFO] [ScoreManager] Level started with 10 enemies
[06:57:18] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[06:57:18] [ENEMY] [Enemy1] Registered as sound listener
[06:57:18] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[06:57:18] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[06:57:18] [ENEMY] [Enemy2] Registered as sound listener
[06:57:18] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[06:57:18] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[06:57:18] [ENEMY] [Enemy3] Registered as sound listener
[06:57:18] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[06:57:18] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[06:57:18] [ENEMY] [Enemy4] Registered as sound listener
[06:57:18] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[06:57:18] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[06:57:18] [ENEMY] [Enemy5] Registered as sound listener
[06:57:18] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[06:57:18] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[06:57:18] [ENEMY] [Enemy6] Registered as sound listener
[06:57:18] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[06:57:18] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[06:57:18] [ENEMY] [Enemy7] Registered as sound listener
[06:57:18] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[06:57:18] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[06:57:18] [ENEMY] [Enemy8] Registered as sound listener
[06:57:18] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[06:57:18] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[06:57:18] [ENEMY] [Enemy9] Registered as sound listener
[06:57:18] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[06:57:18] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[06:57:18] [ENEMY] [Enemy10] Registered as sound listener
[06:57:18] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[06:57:18] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:57:18] [INFO] [Player] Detected weapon: Rifle (default pose)
[06:57:18] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[06:57:18] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:57:18] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:57:18] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:57:18] [INFO] [LastChance] Found player: Player
[06:57:18] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:57:18] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:57:18] [INFO] [LastChance] Connected to player Died signal (C#)
[06:57:19] [INFO] [PauseMenu] Armory button pressed
[06:57:19] [INFO] [PauseMenu] Creating new armory menu instance
[06:57:19] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[06:57:19] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[06:57:19] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[06:57:19] [INFO] [PauseMenu] back_pressed signal exists on instance
[06:57:19] [INFO] [PauseMenu] back_pressed signal connected
[06:57:19] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[06:57:19] [INFO] [PauseMenu] _populate_weapon_grid method exists
[06:57:21] [INFO] [GameManager] Weapon selected: mini_uzi
[06:57:21] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:21] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:21] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:57:21] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:57:21] [ENEMY] [Enemy1] Death animation component initialized
[06:57:21] [ENEMY] [Enemy2] Death animation component initialized
[06:57:21] [ENEMY] [Enemy3] Death animation component initialized
[06:57:21] [ENEMY] [Enemy4] Death animation component initialized
[06:57:21] [ENEMY] [Enemy5] Death animation component initialized
[06:57:21] [ENEMY] [Enemy6] Death animation component initialized
[06:57:21] [ENEMY] [Enemy7] Death animation component initialized
[06:57:21] [ENEMY] [Enemy8] Death animation component initialized
[06:57:21] [ENEMY] [Enemy9] Death animation component initialized
[06:57:21] [ENEMY] [Enemy10] Death animation component initialized
[06:57:21] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:57:21] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:57:21] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:57:21] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:57:21] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:57:21] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:57:21] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:57:21] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[06:57:21] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:57:21] [INFO] [ScoreManager] Level started with 10 enemies
[06:57:21] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[06:57:21] [ENEMY] [Enemy1] Registered as sound listener
[06:57:21] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[06:57:21] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[06:57:21] [ENEMY] [Enemy2] Registered as sound listener
[06:57:21] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[06:57:21] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[06:57:21] [ENEMY] [Enemy3] Registered as sound listener
[06:57:21] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[06:57:21] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[06:57:21] [ENEMY] [Enemy4] Registered as sound listener
[06:57:21] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[06:57:21] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[06:57:21] [ENEMY] [Enemy5] Registered as sound listener
[06:57:21] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[06:57:21] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[06:57:21] [ENEMY] [Enemy6] Registered as sound listener
[06:57:21] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[06:57:21] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[06:57:21] [ENEMY] [Enemy7] Registered as sound listener
[06:57:21] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[06:57:21] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[06:57:21] [ENEMY] [Enemy8] Registered as sound listener
[06:57:21] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[06:57:21] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[06:57:21] [ENEMY] [Enemy9] Registered as sound listener
[06:57:21] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[06:57:21] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[06:57:21] [ENEMY] [Enemy10] Registered as sound listener
[06:57:21] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[06:57:21] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:57:21] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:57:21] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:57:21] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:57:21] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:57:21] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:57:21] [INFO] [LastChance] Found player: Player
[06:57:21] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:57:21] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:57:21] [INFO] [LastChance] Connected to player Died signal (C#)
[06:57:21] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:21] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:21] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:57:21] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:57:21] [ENEMY] [Enemy1] Death animation component initialized
[06:57:21] [ENEMY] [Enemy2] Death animation component initialized
[06:57:21] [ENEMY] [Enemy3] Death animation component initialized
[06:57:21] [ENEMY] [Enemy4] Death animation component initialized
[06:57:21] [ENEMY] [Enemy5] Death animation component initialized
[06:57:21] [ENEMY] [Enemy6] Death animation component initialized
[06:57:21] [ENEMY] [Enemy7] Death animation component initialized
[06:57:21] [ENEMY] [Enemy8] Death animation component initialized
[06:57:21] [ENEMY] [Enemy9] Death animation component initialized
[06:57:21] [ENEMY] [Enemy10] Death animation component initialized
[06:57:21] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:57:21] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:57:21] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:57:21] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:57:21] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:57:21] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:57:21] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:57:21] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[06:57:21] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:57:21] [INFO] [ScoreManager] Level started with 10 enemies
[06:57:21] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 31)
[06:57:21] [ENEMY] [Enemy1] Registered as sound listener
[06:57:21] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[06:57:21] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 32)
[06:57:21] [ENEMY] [Enemy2] Registered as sound listener
[06:57:21] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[06:57:21] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 33)
[06:57:21] [ENEMY] [Enemy3] Registered as sound listener
[06:57:21] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[06:57:21] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 34)
[06:57:21] [ENEMY] [Enemy4] Registered as sound listener
[06:57:21] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[06:57:21] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 35)
[06:57:21] [ENEMY] [Enemy5] Registered as sound listener
[06:57:21] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[06:57:21] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 36)
[06:57:21] [ENEMY] [Enemy6] Registered as sound listener
[06:57:21] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[06:57:21] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 37)
[06:57:21] [ENEMY] [Enemy7] Registered as sound listener
[06:57:21] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[06:57:21] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 38)
[06:57:21] [ENEMY] [Enemy8] Registered as sound listener
[06:57:21] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[06:57:21] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 39)
[06:57:21] [ENEMY] [Enemy9] Registered as sound listener
[06:57:21] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[06:57:21] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 40)
[06:57:21] [ENEMY] [Enemy10] Registered as sound listener
[06:57:21] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[06:57:21] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:57:21] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:57:21] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:57:21] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:57:21] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:57:21] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:57:21] [INFO] [LastChance] Found player: Player
[06:57:21] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:57:21] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:57:21] [INFO] [LastChance] Connected to player Died signal (C#)
[06:57:22] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:57:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.004, 1519.036), source=ENEMY (Enemy10), range=1469, listeners=40
[06:57:22] [INFO] [SoundPropagation] Cleaned up 30 invalid listeners
[06:57:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.385, 1499.191), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.598, 1478.078), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.728, 1455.687), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:22] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:57:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=3020754520738, bullet_pos=(47.54776, 866.3744)
[06:57:22] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[06:57:22] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[06:57:22] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[06:57:22] [INFO] [Bullet] Starting wall penetration at (47.54776, 866.3744)
[06:57:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28.5065212249756
[06:57:22] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:22] [INFO] [Bullet] Exiting penetration at (7.594219, 842.2602) after traveling 41.6666717529297 pixels through wall
[06:57:22] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=3020754520738, bullet_pos=(43.40149, 802.4432)
[06:57:22] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[06:57:22] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[06:57:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=3020754520738, bullet_pos=(199.6894, 709.0172)
[06:57:22] [INFO] [Bullet] Using shooter_position, distance=1141.27612304688
[06:57:22] [INFO] [Bullet] Distance to wall: 1141.27612304688 (77.7115898400002% of viewport)
[06:57:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.158, 1444.854), shooter_id=3020754520738, bullet_pos=(41.8809, 738.365)
[06:57:22] [INFO] [Bullet] Using shooter_position, distance=1208.33386230469
[06:57:22] [INFO] [Bullet] Distance to wall: 1208.33386230469 (82.2776746143741% of viewport)
[06:57:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.158, 1444.854), shooter_id=3020754520738, bullet_pos=(102.2039, 692.4104)
[06:57:22] [INFO] [Bullet] Using shooter_position, distance=1188.48120117188
[06:57:22] [INFO] [Bullet] Distance to wall: 1188.48120117188 (80.9258704120161% of viewport)
[06:57:22] [INFO] [Bullet] Distance-based penetration chance: 52.2531511859812%
[06:57:22] [INFO] [Bullet] Starting wall penetration at (102.2039, 692.4104)
[06:57:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.1387519836426
[06:57:23] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:23] [INFO] [Bullet] Exiting penetration at (134.3541, 667.9181) after traveling 35.4166717529297 pixels through wall
[06:57:23] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[06:57:23] [INFO] [LastChance] Threat detected: @Area2D@3294
[06:57:23] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.8389, 1419.817), shooter_id=3020754520738, bullet_pos=(46.35814, 669.9164)
[06:57:23] [INFO] [Bullet] Using shooter_position, distance=1208.33386230469
[06:57:23] [INFO] [Bullet] Distance to wall: 1208.33386230469 (82.2776746143741% of viewport)
[06:57:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:57:23] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:57:23] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:57:23] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:57:23] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:57:23] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:57:23] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:57:23] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:57:23] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:57:23] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:57:23] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:57:23] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:23] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:23] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:57:23] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:57:23] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:57:23] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:57:23] [ENEMY] [Enemy1] Death animation component initialized
[06:57:23] [ENEMY] [Enemy2] Death animation component initialized
[06:57:23] [ENEMY] [Enemy3] Death animation component initialized
[06:57:23] [ENEMY] [Enemy4] Death animation component initialized
[06:57:23] [ENEMY] [Enemy5] Death animation component initialized
[06:57:23] [ENEMY] [Enemy6] Death animation component initialized
[06:57:23] [ENEMY] [Enemy7] Death animation component initialized
[06:57:23] [ENEMY] [Enemy8] Death animation component initialized
[06:57:23] [ENEMY] [Enemy9] Death animation component initialized
[06:57:23] [ENEMY] [Enemy10] Death animation component initialized
[06:57:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:57:23] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:57:23] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:57:23] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:57:23] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:57:23] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:57:23] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:57:23] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[06:57:23] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:57:23] [INFO] [ScoreManager] Level started with 10 enemies
[06:57:23] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[06:57:23] [ENEMY] [Enemy1] Registered as sound listener
[06:57:23] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[06:57:23] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[06:57:23] [ENEMY] [Enemy2] Registered as sound listener
[06:57:23] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[06:57:23] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[06:57:23] [ENEMY] [Enemy3] Registered as sound listener
[06:57:23] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[06:57:23] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[06:57:23] [ENEMY] [Enemy4] Registered as sound listener
[06:57:23] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[06:57:23] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[06:57:23] [ENEMY] [Enemy5] Registered as sound listener
[06:57:23] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[06:57:23] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[06:57:23] [ENEMY] [Enemy6] Registered as sound listener
[06:57:23] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[06:57:23] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[06:57:23] [ENEMY] [Enemy7] Registered as sound listener
[06:57:23] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[06:57:23] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[06:57:23] [ENEMY] [Enemy8] Registered as sound listener
[06:57:23] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[06:57:23] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[06:57:23] [ENEMY] [Enemy9] Registered as sound listener
[06:57:23] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[06:57:23] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[06:57:23] [ENEMY] [Enemy10] Registered as sound listener
[06:57:23] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[06:57:23] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:57:23] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:57:23] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:57:23] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:57:23] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:57:23] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:57:23] [INFO] [LastChance] Found player: Player
[06:57:23] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:57:23] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:57:23] [INFO] [LastChance] Connected to player Died signal (C#)
[06:57:24] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:57:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.005, 1519.034), source=ENEMY (Enemy10), range=1469, listeners=20
[06:57:24] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[06:57:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.425, 1499.127), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.726, 1477.887), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.945, 1455.378), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:24] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:57:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.076, 1490.718), shooter_id=3139218442650, bullet_pos=(47.94901, 865.6985)
[06:57:24] [INFO] [Bullet] Using shooter_position, distance=1208.33251953125
[06:57:24] [INFO] [Bullet] Distance to wall: 1208.33251953125 (82.2775831824616% of viewport)
[06:57:24] [INFO] [Bullet] Distance-based penetration chance: 50.6761529537947%
[06:57:24] [INFO] [Bullet] Starting wall penetration at (47.94901, 865.6985)
[06:57:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28.0309257507324
[06:57:24] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:24] [INFO] [Bullet] Exiting penetration at (8.010296, 841.5598) after traveling 41.6666679382324 pixels through wall
[06:57:24] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.793, 1468.13), shooter_id=3139218442650, bullet_pos=(45.98333, 798.4901)
[06:57:24] [INFO] [Bullet] Using shooter_position, distance=1208.333984375
[06:57:24] [INFO] [Bullet] Distance to wall: 1208.333984375 (82.2776829263662% of viewport)
[06:57:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.793, 1468.13), shooter_id=3139218442650, bullet_pos=(159.2539, 705.319)
[06:57:24] [INFO] [Bullet] Using shooter_position, distance=1174.09851074219
[06:57:24] [INFO] [Bullet] Distance to wall: 1174.09851074219 (79.9465265732231% of viewport)
[06:57:24] [INFO] [Bullet] Distance-based penetration chance: 53.3957189979064%
[06:57:24] [INFO] [Bullet] Starting wall penetration at (159.2539, 705.319)
[06:57:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13.1537256240845
[06:57:25] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:25] [INFO] [Bullet] Exiting penetration at (190.4677, 679.644) after traveling 35.4166679382324 pixels through wall
[06:57:25] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[06:57:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.431, 1444.407), shooter_id=3139218442650, bullet_pos=(45.21403, 733.6914)
[06:57:25] [INFO] [Bullet] Using shooter_position, distance=1208.33374023438
[06:57:25] [INFO] [Bullet] Distance to wall: 1208.33374023438 (82.2776663023821% of viewport)
[06:57:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.431, 1444.407), shooter_id=3139218442650, bullet_pos=(111.8959, 697.5773)
[06:57:25] [INFO] [Bullet] Using shooter_position, distance=1177.63732910156
[06:57:25] [INFO] [Bullet] Distance to wall: 1177.63732910156 (80.1874912226261% of viewport)
[06:57:25] [INFO] [Bullet] Distance-based penetration chance: 53.1145935736029%
[06:57:25] [INFO] [Bullet] Penetration failed (distance roll)
[06:57:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(994.1806, 1419.31), shooter_id=3139218442650, bullet_pos=(49.27904, 666.163)
[06:57:25] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[06:57:25] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[06:57:25] [INFO] [Bullet] Distance-based penetration chance: 50.6760947698504%
[06:57:25] [INFO] [Bullet] Penetration failed (distance roll)
[06:57:26] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[06:57:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(484.8588, 785.8951), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:26] [ENEMY] [Enemy1] Heard gunshot at (484.8588, 785.8951), source_type=0, intensity=0.01, distance=473
[06:57:26] [ENEMY] [Enemy2] Heard gunshot at (484.8588, 785.8951), source_type=0, intensity=0.04, distance=251
[06:57:26] [ENEMY] [Enemy4] Heard gunshot at (484.8588, 785.8951), source_type=0, intensity=0.02, distance=335
[06:57:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:26] [ENEMY] [Enemy10] FLANKING started: target=(684.2943, 742.9138), side=left, pos=(1035.379, 1441.937)
[06:57:26] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[06:57:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(488.4631, 771.0516), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(494.1087, 758.3621), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(501.7043, 747.9523), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:26] [INFO] [LastChance] Threat detected: Bullet
[06:57:26] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(510.267, 740.2772), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[06:57:26] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:57:26] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:57:26] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:57:26] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:57:26] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:57:26] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:57:26] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:57:26] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:57:26] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:57:26] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:57:26] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:57:26] [ENEMY] [Enemy3] Hit taken, health: 3/4
[06:57:26] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:26] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.997886, 0.064988), lethal=false
[06:57:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:26] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:26] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=0.9)
[06:57:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:26] [INFO] [LastChance] Threat detected: Bullet
[06:57:26] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[06:57:27] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[06:57:27] [INFO] [PenultimateHit] Player died - ending penultimate effect
[06:57:27] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:57:27] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:57:27] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[06:57:27] [INFO] [LastChance] Player died
[06:57:27] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:57:27] [ENEMY] [Enemy3] Hit taken, health: 2/4
[06:57:27] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:27] [INFO] [ImpactEffects] spawn_blood_effect called at (699.3997, 752.5982), dir=(0.994464, 0.105076), lethal=false
[06:57:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:27] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:27] [INFO] [ImpactEffects] Blood effect spawned at (699.3997, 752.5982) (scale=0.9)
[06:57:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(484.8588, 785.8951), shooter_id=3140040525945, bullet_pos=(911.5276, 819.62)
[06:57:27] [INFO] [Bullet] Using shooter_position, distance=427.99951171875
[06:57:27] [INFO] [Bullet] Distance to wall: 427.99951171875 (29.1432737746339% of viewport)
[06:57:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:27] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(698.1992, 757.7946), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:27] [INFO] [LastChance] Threat detected: Bullet
[06:57:27] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(488.4631, 771.0516), shooter_id=3140040525945, bullet_pos=(916.1627, 787.0682)
[06:57:27] [INFO] [Bullet] Using shooter_position, distance=427.999420166016
[06:57:27] [INFO] [Bullet] Distance to wall: 427.999420166016 (29.1432675406399% of viewport)
[06:57:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:27] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:27] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[06:57:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(501.7043, 747.9523), shooter_id=3140040525945, bullet_pos=(924.7922, 812.6079)
[06:57:27] [INFO] [Bullet] Using shooter_position, distance=427.999603271484
[06:57:27] [INFO] [Bullet] Distance to wall: 427.999603271484 (29.143280008628% of viewport)
[06:57:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:27] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:27] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[06:57:27] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[06:57:27] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[06:57:27] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[06:57:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(630.1786, 755.8428), shooter_id=3137221953761, bullet_pos=(47.23035, 777.0368)
[06:57:27] [INFO] [Bullet] Using shooter_position, distance=583.333374023438
[06:57:27] [INFO] [Bullet] Distance to wall: 583.333374023438 (39.7202420927463% of viewport)
[06:57:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:27] [INFO] [Bullet] Starting wall penetration at (47.23035, 777.0368)
[06:57:27] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[06:57:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31.4262599945068
[06:57:27] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:27] [INFO] [Bullet] Exiting penetration at (0.59449, 778.7323) after traveling 41.6666717529297 pixels through wall
[06:57:27] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(703.4738, 771.525), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:27] [INFO] [LastChance] Threat detected: Bullet
[06:57:27] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(712.1573, 777.6608), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:27] [INFO] [LastChance] Threat detected: Bullet
[06:57:27] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(778.1205, 931.4342), source=ENEMY (Enemy4), range=1469, listeners=10
[06:57:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[06:57:27] [INFO] [LastChance] Threat detected: @Area2D@3587
[06:57:27] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:27] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:27] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:27] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:57:27] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:57:27] [ENEMY] [Enemy1] Death animation component initialized
[06:57:27] [ENEMY] [Enemy2] Death animation component initialized
[06:57:27] [ENEMY] [Enemy3] Death animation component initialized
[06:57:27] [ENEMY] [Enemy4] Death animation component initialized
[06:57:27] [ENEMY] [Enemy5] Death animation component initialized
[06:57:27] [ENEMY] [Enemy6] Death animation component initialized
[06:57:27] [ENEMY] [Enemy7] Death animation component initialized
[06:57:27] [ENEMY] [Enemy8] Death animation component initialized
[06:57:27] [ENEMY] [Enemy9] Death animation component initialized
[06:57:27] [ENEMY] [Enemy10] Death animation component initialized
[06:57:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:57:27] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:57:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:57:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:57:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:57:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:57:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:57:27] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[06:57:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:57:27] [INFO] [ScoreManager] Level started with 10 enemies
[06:57:27] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[06:57:27] [ENEMY] [Enemy1] Registered as sound listener
[06:57:27] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[06:57:27] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[06:57:27] [ENEMY] [Enemy2] Registered as sound listener
[06:57:27] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[06:57:27] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[06:57:27] [ENEMY] [Enemy3] Registered as sound listener
[06:57:27] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[06:57:27] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[06:57:27] [ENEMY] [Enemy4] Registered as sound listener
[06:57:27] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[06:57:27] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[06:57:27] [ENEMY] [Enemy5] Registered as sound listener
[06:57:27] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[06:57:27] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[06:57:27] [ENEMY] [Enemy6] Registered as sound listener
[06:57:27] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[06:57:27] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[06:57:27] [ENEMY] [Enemy7] Registered as sound listener
[06:57:27] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[06:57:27] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[06:57:27] [ENEMY] [Enemy8] Registered as sound listener
[06:57:27] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[06:57:27] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[06:57:27] [ENEMY] [Enemy9] Registered as sound listener
[06:57:27] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[06:57:27] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[06:57:27] [ENEMY] [Enemy10] Registered as sound listener
[06:57:27] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[06:57:27] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:57:27] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:57:27] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:57:27] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:57:27] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:57:27] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:57:27] [INFO] [LastChance] Found player: Player
[06:57:27] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:57:27] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:57:27] [INFO] [LastChance] Connected to player Died signal (C#)
[06:57:27] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:27] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:27] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:57:27] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:57:27] [ENEMY] [Enemy1] Death animation component initialized
[06:57:27] [ENEMY] [Enemy2] Death animation component initialized
[06:57:27] [ENEMY] [Enemy3] Death animation component initialized
[06:57:27] [ENEMY] [Enemy4] Death animation component initialized
[06:57:27] [ENEMY] [Enemy5] Death animation component initialized
[06:57:27] [ENEMY] [Enemy6] Death animation component initialized
[06:57:27] [ENEMY] [Enemy7] Death animation component initialized
[06:57:27] [ENEMY] [Enemy8] Death animation component initialized
[06:57:27] [ENEMY] [Enemy9] Death animation component initialized
[06:57:27] [ENEMY] [Enemy10] Death animation component initialized
[06:57:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:57:27] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:57:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:57:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:57:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:57:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:57:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:57:27] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[06:57:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:57:27] [INFO] [ScoreManager] Level started with 10 enemies
[06:57:27] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[06:57:27] [ENEMY] [Enemy1] Registered as sound listener
[06:57:27] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[06:57:27] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[06:57:27] [ENEMY] [Enemy2] Registered as sound listener
[06:57:27] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[06:57:27] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[06:57:27] [ENEMY] [Enemy3] Registered as sound listener
[06:57:27] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[06:57:27] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[06:57:27] [ENEMY] [Enemy4] Registered as sound listener
[06:57:27] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[06:57:27] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[06:57:27] [ENEMY] [Enemy5] Registered as sound listener
[06:57:27] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[06:57:27] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[06:57:27] [ENEMY] [Enemy6] Registered as sound listener
[06:57:27] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[06:57:27] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[06:57:27] [ENEMY] [Enemy7] Registered as sound listener
[06:57:27] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[06:57:27] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[06:57:27] [ENEMY] [Enemy8] Registered as sound listener
[06:57:27] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[06:57:27] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[06:57:27] [ENEMY] [Enemy9] Registered as sound listener
[06:57:27] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[06:57:27] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[06:57:27] [ENEMY] [Enemy10] Registered as sound listener
[06:57:27] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[06:57:27] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:57:27] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:57:27] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:57:27] [INFO] [LastChance] Found player: Player
[06:57:27] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:57:27] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:57:27] [INFO] [LastChance] Connected to player Died signal (C#)
[06:57:27] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:57:27] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:57:27] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:57:28] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:57:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.004, 1519.036), source=ENEMY (Enemy10), range=1469, listeners=30
[06:57:28] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[06:57:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.385, 1499.191), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.598, 1478.078), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.686, 1455.743), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:29] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:57:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=3418307429659, bullet_pos=(47.54776, 866.3744)
[06:57:29] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[06:57:29] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[06:57:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=3418307429659, bullet_pos=(43.40149, 802.4432)
[06:57:29] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[06:57:29] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[06:57:29] [INFO] [Bullet] Distance-based penetration chance: 50.6760656778783%
[06:57:29] [INFO] [Bullet] Starting wall penetration at (43.40149, 802.4432)
[06:57:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=3418307429659, bullet_pos=(238.4836, 700.512)
[06:57:29] [INFO] [Bullet] Using shooter_position, distance=1155.90234375
[06:57:29] [INFO] [Bullet] Distance to wall: 1155.90234375 (78.7075161029243% of viewport)
[06:57:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.0024871826172
[06:57:29] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:29] [INFO] [Bullet] Exiting penetration at (4.462528, 776.7229) after traveling 41.6666679382324 pixels through wall
[06:57:29] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:29] [INFO] [LastChance] Threat detected: Bullet
[06:57:29] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.149, 1444.873), shooter_id=3418307429659, bullet_pos=(41.66475, 738.6735)
[06:57:29] [INFO] [Bullet] Using shooter_position, distance=1208.33276367188
[06:57:29] [INFO] [Bullet] Distance to wall: 1208.33276367188 (82.2775998064458% of viewport)
[06:57:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.149, 1444.873), shooter_id=3418307429659, bullet_pos=(96.62123, 686.4194)
[06:57:29] [INFO] [Bullet] Using shooter_position, distance=1196.60119628906
[06:57:29] [INFO] [Bullet] Distance to wall: 1196.60119628906 (81.4787758108998% of viewport)
[06:57:29] [INFO] [Bullet] Distance-based penetration chance: 51.6080948872835%
[06:57:29] [INFO] [Bullet] Penetration failed (distance roll)
[06:57:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=3418307429659, bullet_pos=(518.9103, 936.0964)
[06:57:29] [INFO] [Bullet] Using shooter_position, distance=790.434936523438
[06:57:29] [INFO] [Bullet] Distance to wall: 790.434936523438 (53.8221683095644% of viewport)
[06:57:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6154, 1420.184), shooter_id=3418307429659, bullet_pos=(42.19441, 675.29)
[06:57:29] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[06:57:29] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[06:57:29] [INFO] [Bullet] Distance-based penetration chance: 50.6760947698504%
[06:57:29] [INFO] [Bullet] Penetration failed (distance roll)
[06:57:29] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[06:57:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(388.0825, 796.0688), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:29] [ENEMY] [Enemy1] Heard gunshot at (388.0825, 796.0688), source_type=0, intensity=0.01, distance=455
[06:57:29] [ENEMY] [Enemy2] Heard gunshot at (388.0825, 796.0688), source_type=0, intensity=0.04, distance=246
[06:57:29] [ENEMY] [Enemy4] Heard gunshot at (388.0825, 796.0688), source_type=0, intensity=0.01, distance=425
[06:57:29] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(390.8542, 780.7169), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:29] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(388.0825, 796.0688), shooter_id=3419129514650, bullet_pos=(508.0697, 797.8197)
[06:57:29] [INFO] [Bullet] Using shooter_position, distance=119.999954223633
[06:57:29] [INFO] [Bullet] Distance to wall: 119.999954223633 (8.17101754354563% of viewport)
[06:57:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:29] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(395.8497, 767.2675), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:29] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(631.6766, 760.8434), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[06:57:29] [INFO] [LastChance] Threat detected: @Area2D@4113
[06:57:29] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(402.7954, 756.0978), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:29] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(411.6911, 747.2078), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:29] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=3418307429659, bullet_pos=(58.98047, 1311.263)
[06:57:29] [INFO] [Bullet] Using shooter_position, distance=1038.705078125
[06:57:29] [INFO] [Bullet] Distance to wall: 1038.705078125 (70.7273387797495% of viewport)
[06:57:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(631.6766, 760.8434), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:29] [INFO] [LastChance] Threat detected: @Area2D@4119
[06:57:29] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:29] [ENEMY] [Enemy3] Hit taken, health: 1/2
[06:57:29] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:29] [INFO] [ImpactEffects] spawn_blood_effect called at (631.6766, 760.8434), dir=(0.999946, -0.010419), lethal=false
[06:57:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:29] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:29] [INFO] [ImpactEffects] Blood effect spawned at (631.6766, 760.8434) (scale=0.9)
[06:57:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(421.9639, 740.8348), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:29] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:29] [ENEMY] [Enemy3] Hit taken, health: 0/2
[06:57:29] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:29] [INFO] [ImpactEffects] spawn_blood_effect called at (631.6766, 760.8434), dir=(0.998391, -0.056709), lethal=true
[06:57:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:29] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[06:57:29] [INFO] [ImpactEffects] Blood effect spawned at (631.6766, 760.8434) (scale=1.35)
[06:57:29] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[06:57:29] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[06:57:29] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[06:57:29] [INFO] [DeathAnim] Started - Angle: -3.3 deg, Index: 11
[06:57:29] [ENEMY] [Enemy3] Death animation started with hit direction: (0.998391, -0.056709)
[06:57:29] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[06:57:29] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[06:57:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(432.4679, 737.4528), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:57:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[06:57:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(564.0339, 770.4838), shooter_id=3416310941853, bullet_pos=(64.21933, 784.0988)
[06:57:29] [INFO] [Bullet] Using shooter_position, distance=500.000030517578
[06:57:29] [INFO] [Bullet] Distance to wall: 500.000030517578 (34.0459214969257% of viewport)
[06:57:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:29] [INFO] [Bullet] Starting wall penetration at (64.21933, 784.0988)
[06:57:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14.4353866577148
[06:57:29] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:29] [INFO] [Bullet] Exiting penetration at (17.56997, 785.3696) after traveling 41.6666679382324 pixels through wall
[06:57:29] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=3418307429659, bullet_pos=(209.5602, 1408.049)
[06:57:29] [INFO] [Bullet] Using shooter_position, distance=876.410278320313
[06:57:29] [INFO] [Bullet] Distance to wall: 876.410278320313 (59.6763874272267% of viewport)
[06:57:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=3418307429659, bullet_pos=(54.45713, 1480.969)
[06:57:30] [INFO] [Bullet] Using shooter_position, distance=1027.64831542969
[06:57:30] [INFO] [Bullet] Distance to wall: 1027.64831542969 (69.9744634762319% of viewport)
[06:57:30] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[06:57:30] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[06:57:30] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[06:57:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(402.7954, 756.0978), shooter_id=3419129514650, bullet_pos=(922.5129, 738.9718)
[06:57:30] [INFO] [Bullet] Using shooter_position, distance=519.999633789063
[06:57:30] [INFO] [Bullet] Distance to wall: 519.999633789063 (35.4077312597087% of viewport)
[06:57:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:30] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(411.6911, 747.2078), shooter_id=3419129514650, bullet_pos=(911.6896, 748.5002)
[06:57:30] [INFO] [Bullet] Using shooter_position, distance=500.000152587891
[06:57:30] [INFO] [Bullet] Distance to wall: 500.000152587891 (34.0459298089178% of viewport)
[06:57:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:30] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(421.9639, 740.8348), shooter_id=3419129514650, bullet_pos=(921.822, 752.7519)
[06:57:30] [INFO] [Bullet] Using shooter_position, distance=500.000091552734
[06:57:30] [INFO] [Bullet] Distance to wall: 500.000091552734 (34.0459256529217% of viewport)
[06:57:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:30] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.4679, 737.4528), shooter_id=3419129514650, bullet_pos=(912.4517, 741.4401)
[06:57:30] [INFO] [Bullet] Using shooter_position, distance=480.000335693359
[06:57:30] [INFO] [Bullet] Distance to wall: 480.000335693359 (32.6841055001487% of viewport)
[06:57:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:30] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=3418307429659, bullet_pos=(253.7558, 1585.405)
[06:57:30] [INFO] [Bullet] Using shooter_position, distance=833.692810058594
[06:57:30] [INFO] [Bullet] Distance to wall: 833.692810058594 (56.7676764627886% of viewport)
[06:57:30] [ENEMY] [Enemy3] Ragdoll activated
[06:57:30] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[06:57:30] [ENEMY] [Enemy10] FLANKING started: target=(782.8097, 802.4992), side=left, pos=(1022.668, 1432.257)
[06:57:30] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[06:57:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=3418307429659, bullet_pos=(514.1689, 1413.165)
[06:57:30] [INFO] [Bullet] Using shooter_position, distance=573.16650390625
[06:57:30] [INFO] [Bullet] Distance to wall: 573.16650390625 (39.0279612112414% of viewport)
[06:57:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:30] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[06:57:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(596.6425, 888.7023), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:57:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:57:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(596.6425, 905.2023), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:57:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:57:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(596.6425, 888.7023), shooter_id=3419129514650, bullet_pos=(695.153, 871.5069)
[06:57:30] [INFO] [Bullet] Using shooter_position, distance=99.9999465942383
[06:57:30] [INFO] [Bullet] Distance to wall: 99.9999465942383 (6.80918024728902% of viewport)
[06:57:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:30] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(596.6425, 921.7023), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:57:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:57:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(596.6425, 905.2023), shooter_id=3419129514650, bullet_pos=(695.6153, 890.9058)
[06:57:30] [INFO] [Bullet] Using shooter_position, distance=100.000015258789
[06:57:30] [INFO] [Bullet] Distance to wall: 100.000015258789 (6.80918492278455% of viewport)
[06:57:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(595.7186, 937.8196), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:57:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:57:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(775.9666, 908.0135), source=ENEMY (Enemy4), range=1469, listeners=9
[06:57:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=7
[06:57:30] [INFO] [LastChance] Threat detected: @Area2D@4160
[06:57:30] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(592.0231, 952.7889), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:57:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:57:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(596.6425, 921.7023), shooter_id=3419129514650, bullet_pos=(753.5224, 890.2595)
[06:57:30] [INFO] [Bullet] Using shooter_position, distance=159.999847412109
[06:57:30] [INFO] [Bullet] Distance to wall: 159.999847412109 (10.8946838240668% of viewport)
[06:57:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:30] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[06:57:30] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[06:57:30] [ENEMY] [Enemy4] Hit taken, health: 1/2
[06:57:30] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:30] [INFO] [ImpactEffects] spawn_blood_effect called at (775.9666, 908.0135), dir=(0.999557, 0.02977), lethal=false
[06:57:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:30] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:30] [INFO] [ImpactEffects] Blood effect spawned at (775.9666, 908.0135) (scale=0.9)
[06:57:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(585.556, 966.61), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:57:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:57:31] [ENEMY] [Enemy4] Hit taken, health: 0/2
[06:57:31] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:31] [INFO] [ImpactEffects] spawn_blood_effect called at (775.9666, 908.0135), dir=(0.99941, -0.03436), lethal=true
[06:57:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:31] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[06:57:31] [INFO] [ImpactEffects] Blood effect spawned at (775.9666, 908.0135) (scale=1.35)
[06:57:31] [ENEMY] [Enemy4] Enemy died (ricochet: true, penetration: false)
[06:57:31] [INFO] [ScoreManager] Ricochet kill registered
[06:57:31] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[06:57:31] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[06:57:31] [INFO] [DeathAnim] Started - Angle: -2.0 deg, Index: 11
[06:57:31] [ENEMY] [Enemy4] Death animation started with hit direction: (0.99941, -0.03436)
[06:57:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(576.4594, 979.1215), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=5
[06:57:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(565.5615, 983.9334), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(551.8313, 983.9334), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(595.7186, 937.8196), shooter_id=3419129514650, bullet_pos=(909.2196, 873.6556)
[06:57:31] [INFO] [Bullet] Using shooter_position, distance=319.999816894531
[06:57:31] [INFO] [Bullet] Distance to wall: 319.999816894531 (21.7893759601257% of viewport)
[06:57:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:31] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.0698, 983.6254), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(592.0231, 952.7889), shooter_id=3419129514650, bullet_pos=(915.0823, 846.8055)
[06:57:31] [INFO] [Bullet] Using shooter_position, distance=339.999542236328
[06:57:31] [INFO] [Bullet] Distance to wall: 339.999542236328 (23.1511940349007% of viewport)
[06:57:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:31] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.0698, 980.7015), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(585.556, 966.61), shooter_id=3419129514650, bullet_pos=(910.1601, 865.4547)
[06:57:31] [INFO] [Bullet] Using shooter_position, distance=340.000366210938
[06:57:31] [INFO] [Bullet] Distance to wall: 340.000366210938 (23.151250140847% of viewport)
[06:57:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:31] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=3418307429659, bullet_pos=(890.6088, 1610.636)
[06:57:31] [INFO] [Bullet] Using shooter_position, distance=225.883895874023
[06:57:31] [INFO] [Bullet] Distance to wall: 225.883895874023 (15.3808498339209% of viewport)
[06:57:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:31] [INFO] [Bullet] Starting wall penetration at (890.6088, 1610.636)
[06:57:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.0698, 974.7776), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:31] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:57:31] [INFO] [Bullet] Exiting penetration at (905.091, 1618.233) after traveling 11.3537721633911 pixels through wall
[06:57:31] [INFO] [Bullet] Damage multiplier after penetration: 0.003515625
[06:57:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(576.4594, 979.1215), shooter_id=3419129514650, bullet_pos=(910.322, 914.8133)
[06:57:31] [INFO] [Bullet] Using shooter_position, distance=339.999694824219
[06:57:31] [INFO] [Bullet] Distance to wall: 339.999694824219 (23.1512044248907% of viewport)
[06:57:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:31] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.0698, 983.6254), shooter_id=3419129514650, bullet_pos=(717.1663, 890.6909)
[06:57:31] [INFO] [Bullet] Using shooter_position, distance=200.000045776367
[06:57:31] [INFO] [Bullet] Distance to wall: 200.000045776367 (13.6183708845681% of viewport)
[06:57:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:31] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(565.5615, 983.9334), shooter_id=3419129514650, bullet_pos=(925.4099, 973.4799)
[06:57:31] [INFO] [Bullet] Using shooter_position, distance=360.000183105469
[06:57:31] [INFO] [Bullet] Distance to wall: 360.000183105469 (24.513074449616% of viewport)
[06:57:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:31] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:31] [ENEMY] [Enemy3] Death animation completed
[06:57:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.0698, 974.7776), shooter_id=3419129514650, bullet_pos=(696.8749, 886.3915)
[06:57:31] [INFO] [Bullet] Using shooter_position, distance=179.999847412109
[06:57:31] [INFO] [Bullet] Distance to wall: 179.999847412109 (12.2565206008239% of viewport)
[06:57:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:31] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.0698, 980.7015), shooter_id=3419129514650, bullet_pos=(762.6432, 890.9176)
[06:57:31] [INFO] [Bullet] Using shooter_position, distance=240.000228881836
[06:57:31] [INFO] [Bullet] Distance to wall: 240.000228881836 (16.3420569060704% of viewport)
[06:57:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:31] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(551.8313, 983.9334), shooter_id=3419129514650, bullet_pos=(927.2007, 924.795)
[06:57:31] [INFO] [Bullet] Using shooter_position, distance=379.999450683594
[06:57:31] [INFO] [Bullet] Distance to wall: 379.999450683594 (25.8748613544209% of viewport)
[06:57:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:31] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:31] [ENEMY] [Enemy4] Ragdoll activated
[06:57:31] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[06:57:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.6926, 777.5775), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=3
[06:57:32] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[06:57:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(560.3951, 760.4249), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:32] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=3
[06:57:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(548.6926, 777.5775), shooter_id=3419129514650, bullet_pos=(496.7153, 692.1472)
[06:57:32] [INFO] [Bullet] Using shooter_position, distance=99.999870300293
[06:57:32] [INFO] [Bullet] Distance to wall: 99.999870300293 (6.80917505229399% of viewport)
[06:57:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:32] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:32] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[06:57:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(575.7579, 744.7883), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:32] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=3
[06:57:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(591.3143, 729.2319), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:32] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=3
[06:57:32] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[06:57:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(606.9983, 713.9835), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:32] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=3
[06:57:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(624.3406, 702.7386), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:32] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=3
[06:57:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.1931, 692.7255), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:32] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=4
[06:57:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(575.7579, 744.7883), shooter_id=3419129514650, bullet_pos=(337.9537, 448.3946)
[06:57:32] [INFO] [Bullet] Using shooter_position, distance=380.000152587891
[06:57:32] [INFO] [Bullet] Distance to wall: 380.000152587891 (25.8749091483751% of viewport)
[06:57:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:32] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(658.1322, 678.093), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:32] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=4
[06:57:32] [ENEMY] [Enemy2] Hit taken, health: 2/3
[06:57:32] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:32] [INFO] [ImpactEffects] spawn_blood_effect called at (447.0037, 603.3764), dir=(-0.874133, -0.485687), lethal=false
[06:57:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:32] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:32] [INFO] [ImpactEffects] Blood effect spawned at (447.0037, 603.3764) (scale=0.9)
[06:57:32] [ENEMY] [Enemy4] Death animation completed
[06:57:32] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[06:57:32] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[06:57:32] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[06:57:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.3951, 760.4249), shooter_id=3419129514650, bullet_pos=(248.8512, 271.2003)
[06:57:32] [INFO] [Bullet] Using shooter_position, distance=580.000244140625
[06:57:32] [INFO] [Bullet] Distance to wall: 580.000244140625 (39.4932831499402% of viewport)
[06:57:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:32] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(606.9983, 713.9835), shooter_id=3419129514650, bullet_pos=(331.5483, 423.9361)
[06:57:32] [INFO] [Bullet] Using shooter_position, distance=400.000244140625
[06:57:32] [INFO] [Bullet] Distance to wall: 400.000244140625 (27.2367521591263% of viewport)
[06:57:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:32] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(658.1322, 678.093), shooter_id=3419129514650, bullet_pos=(513.7719, 570.5753)
[06:57:32] [INFO] [Bullet] Using shooter_position, distance=179.999908447266
[06:57:32] [INFO] [Bullet] Distance to wall: 179.999908447266 (12.2565247568199% of viewport)
[06:57:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:32] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:32] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[06:57:32] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:57:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(591.3143, 729.2319), shooter_id=3419129514650, bullet_pos=(237.1682, 269.9054)
[06:57:32] [INFO] [Bullet] Using shooter_position, distance=580.000305175781
[06:57:32] [INFO] [Bullet] Distance to wall: 580.000305175781 (39.4932873059363% of viewport)
[06:57:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:32] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(692.4476, 593.3068), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:32] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=3
[06:57:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(692.4476, 571.3068), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(692.4476, 549.3068), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(692.4476, 593.3068), shooter_id=3419129514650, bullet_pos=(512.9113, 580.3957)
[06:57:32] [INFO] [Bullet] Using shooter_position, distance=180.000015258789
[06:57:32] [INFO] [Bullet] Distance to wall: 180.000015258789 (12.256532029813% of viewport)
[06:57:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:32] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(642.1931, 692.7255), shooter_id=3419129514650, bullet_pos=(60.27225, 478.7907)
[06:57:32] [INFO] [Bullet] Using shooter_position, distance=620
[06:57:32] [INFO] [Bullet] Distance to wall: 620 (42.2169400794704% of viewport)
[06:57:32] [INFO] [Bullet] Distance-based penetration chance: 97.4135699072846%
[06:57:32] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(692.4476, 527.3068), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(692.4476, 571.3068), shooter_id=3419129514650, bullet_pos=(512.5092, 566.6096)
[06:57:32] [INFO] [Bullet] Using shooter_position, distance=179.999771118164
[06:57:32] [INFO] [Bullet] Distance to wall: 179.999771118164 (12.2565154058289% of viewport)
[06:57:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:32] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(692.4476, 505.3068), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(692.4476, 549.3068), shooter_id=3419129514650, bullet_pos=(514.0851, 573.53)
[06:57:33] [INFO] [Bullet] Using shooter_position, distance=179.99983215332
[06:57:33] [INFO] [Bullet] Distance to wall: 179.99983215332 (12.2565195618249% of viewport)
[06:57:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:33] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:33] [ENEMY] [Enemy1] Player ammo empty state changed: false -> true
[06:57:33] [ENEMY] [Enemy2] Player ammo empty state changed: false -> true
[06:57:33] [ENEMY] [Enemy4] Player ammo empty state changed: false -> true
[06:57:33] [ENEMY] [Enemy5] Player ammo empty state changed: false -> true
[06:57:33] [ENEMY] [Enemy6] Player ammo empty state changed: false -> true
[06:57:33] [ENEMY] [Enemy7] Player ammo empty state changed: false -> true
[06:57:33] [ENEMY] [Enemy8] Player ammo empty state changed: false -> true
[06:57:33] [ENEMY] [Enemy9] Player ammo empty state changed: false -> true
[06:57:33] [ENEMY] [Enemy10] Player ammo empty state changed: false -> true
[06:57:33] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(692.4476, 499.8068), source=PLAYER (Player), range=600, listeners=8
[06:57:33] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (692.4476, 499.8068), intensity=0.04, distance=245
[06:57:33] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[06:57:33] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (692.4476, 499.8068), intensity=0.04, distance=256
[06:57:33] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[06:57:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=1
[06:57:33] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=245), can_see=false
[06:57:33] [ENEMY] [Enemy1] Pursuing vulnerability sound at (692.4476, 499.8068), distance=245
[06:57:33] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=256), can_see=false
[06:57:33] [ENEMY] [Enemy2] Pursuing vulnerability sound at (692.4476, 499.8068), distance=256
[06:57:33] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1019), can_see=false
[06:57:33] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1259), can_see=false
[06:57:33] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1002), can_see=false
[06:57:33] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1537), can_see=false
[06:57:33] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1756), can_see=false
[06:57:33] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=511), can_see=false
[06:57:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(692.4476, 527.3068), shooter_id=3419129514650, bullet_pos=(519.4404, 576.9914)
[06:57:33] [INFO] [Bullet] Using shooter_position, distance=180.000137329102
[06:57:33] [INFO] [Bullet] Distance to wall: 180.000137329102 (12.256540341805% of viewport)
[06:57:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:33] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:33] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[06:57:33] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[06:57:33] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[06:57:33] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[06:57:33] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[06:57:33] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[06:57:33] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[06:57:33] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[06:57:33] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[06:57:33] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(692.4476, 461.3068), source=PLAYER (Player), range=900, listeners=8
[06:57:33] [ENEMY] [Enemy1] Heard player RELOAD at (692.4476, 461.3068), intensity=0.04, distance=244
[06:57:33] [ENEMY] [Enemy2] Heard player RELOAD at (692.4476, 461.3068), intensity=0.03, distance=268
[06:57:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=1
[06:57:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(692.4476, 505.3068), shooter_id=3419129514650, bullet_pos=(522.1024, 563.4663)
[06:57:33] [INFO] [Bullet] Using shooter_position, distance=180.000045776367
[06:57:33] [INFO] [Bullet] Distance to wall: 180.000045776367 (12.256534107811% of viewport)
[06:57:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:33] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:33] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[06:57:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(495.9639, 629.4722), source=ENEMY (Enemy2), range=1469, listeners=8
[06:57:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=3
[06:57:33] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[06:57:33] [ENEMY] [Enemy10] Player vulnerable (reloading) - pursuing to attack (dist=514)
[06:57:33] [ENEMY] [Enemy10] State: FLANKING -> PURSUING
[06:57:33] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[06:57:33] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[06:57:33] [INFO] [LastChance] Threat detected: Bullet
[06:57:33] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:33] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[06:57:33] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[06:57:33] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[06:57:33] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[06:57:33] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[06:57:33] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[06:57:33] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[06:57:33] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[06:57:33] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[06:57:33] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[06:57:33] [ENEMY] [Enemy1] Player ammo empty state changed: true -> false
[06:57:33] [ENEMY] [Enemy2] Player ammo empty state changed: true -> false
[06:57:33] [ENEMY] [Enemy5] Player ammo empty state changed: true -> false
[06:57:33] [ENEMY] [Enemy6] Player ammo empty state changed: true -> false
[06:57:33] [ENEMY] [Enemy7] Player ammo empty state changed: true -> false
[06:57:33] [ENEMY] [Enemy8] Player ammo empty state changed: true -> false
[06:57:33] [ENEMY] [Enemy9] Player ammo empty state changed: true -> false
[06:57:33] [ENEMY] [Enemy10] Player ammo empty state changed: true -> false
[06:57:33] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[06:57:33] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:57:33] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[06:57:33] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[06:57:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(546.4892, 583.8894), shooter_id=3416025728355, bullet_pos=(1014.566, 52.24995)
[06:57:33] [INFO] [Bullet] Using shooter_position, distance=708.333618164063
[06:57:33] [INFO] [Bullet] Distance to wall: 708.333618164063 (48.2317385714624% of viewport)
[06:57:33] [INFO] [Player.Reload.Anim] LeftArm: pos=(13.305273, 5.9905014), target=(14, 6), base=(14, 6)
[06:57:33] [INFO] [Player.Reload.Anim] RightArm: pos=(1.0000107, 6.1078706), target=(1, 6), base=(1, 6)
[06:57:33] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[06:57:33] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[06:57:33] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[06:57:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(687.8282, 243.2202), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(681.4732, 229.5412), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(546.4892, 583.8894), shooter_id=3416025728355, bullet_pos=(1369.67, 500.2505)
[06:57:33] [INFO] [Bullet] Using shooter_position, distance=827.418884277344
[06:57:33] [INFO] [Bullet] Distance to wall: 827.418884277344 (56.340473319611% of viewport)
[06:57:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(673.2437, 218.1478), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(663.2519, 209.1822), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(651.4977, 202.6443), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(546.4892, 583.8894), shooter_id=3416025728355, bullet_pos=(1237.369, 707.447)
[06:57:33] [INFO] [Bullet] Using shooter_position, distance=701.841125488281
[06:57:33] [INFO] [Bullet] Distance to wall: 701.841125488281 (47.7896528065271% of viewport)
[06:57:33] [INFO] [Bullet] Distance-based penetration chance: 90.9120717257184%
[06:57:33] [INFO] [Bullet] Starting wall penetration at (1237.369, 707.447)
[06:57:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.7022018432617
[06:57:33] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[06:57:34] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:34] [INFO] [Bullet] Exiting penetration at (1218.476, 737.034) after traveling 30.1041679382324 pixels through wall
[06:57:34] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[06:57:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.9813, 198.5343), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(622.7024, 196.852), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(687.8282, 243.2202), shooter_id=3419129514650, bullet_pos=(521.3127, 584.7935)
[06:57:34] [INFO] [Bullet] Using shooter_position, distance=379.999664306641
[06:57:34] [INFO] [Bullet] Distance to wall: 379.999664306641 (25.8748759004069% of viewport)
[06:57:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:34] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(606.2178, 196.8308), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(681.4732, 229.5412), shooter_id=3419129514650, bullet_pos=(524.482, 575.5955)
[06:57:34] [INFO] [Bullet] Using shooter_position, distance=379.999694824219
[06:57:34] [INFO] [Bullet] Distance to wall: 379.999694824219 (25.8748779784049% of viewport)
[06:57:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:34] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(673.2437, 218.1478), shooter_id=3419129514650, bullet_pos=(518.2017, 520.7398)
[06:57:34] [INFO] [Bullet] Using shooter_position, distance=339.999908447266
[06:57:34] [INFO] [Bullet] Distance to wall: 339.999908447266 (23.1512189708768% of viewport)
[06:57:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:34] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(663.2519, 209.1822), shooter_id=3419129514650, bullet_pos=(526.007, 475.9476)
[06:57:34] [INFO] [Bullet] Using shooter_position, distance=299.999969482422
[06:57:34] [INFO] [Bullet] Distance to wall: 299.999969482422 (20.4275495733586% of viewport)
[06:57:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:34] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(651.4977, 202.6443), shooter_id=3419129514650, bullet_pos=(521.6421, 473.0838)
[06:57:34] [INFO] [Bullet] Using shooter_position, distance=300
[06:57:34] [INFO] [Bullet] Distance to wall: 300 (20.4275516513566% of viewport)
[06:57:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:34] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(637.9813, 198.5343), shooter_id=3419129514650, bullet_pos=(523.3636, 475.7756)
[06:57:34] [INFO] [Bullet] Using shooter_position, distance=299.999938964844
[06:57:34] [INFO] [Bullet] Distance to wall: 299.999938964844 (20.4275474953606% of viewport)
[06:57:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:34] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(622.7024, 196.852), shooter_id=3419129514650, bullet_pos=(524.7203, 459.1486)
[06:57:34] [INFO] [Bullet] Using shooter_position, distance=279.999969482422
[06:57:34] [INFO] [Bullet] Distance to wall: 279.999969482422 (19.0657127966015% of viewport)
[06:57:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:34] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(606.2178, 196.8308), shooter_id=3419129514650, bullet_pos=(521.2972, 421.3045)
[06:57:34] [INFO] [Bullet] Using shooter_position, distance=239.999954223633
[06:57:34] [INFO] [Bullet] Distance to wall: 239.999954223633 (16.3420382040883% of viewport)
[06:57:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:34] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(539.6812, 196.8308), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(539.6812, 196.8308), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(539.6812, 196.8308), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(539.6812, 196.8308), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(539.6812, 196.8308), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(539.6812, 196.8308), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(539.6812, 196.8308), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(539.4066, 195.4309), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[06:57:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(539.6812, 196.8308), shooter_id=3419129514650, bullet_pos=(526.2399, 376.3282)
[06:57:34] [INFO] [Bullet] Using shooter_position, distance=179.999969482422
[06:57:34] [INFO] [Bullet] Distance to wall: 179.999969482422 (12.256528912816% of viewport)
[06:57:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:34] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:35] [ENEMY] [Enemy10] FLANKING started: target=(665.3142, 286.5816), side=left, pos=(421.6373, 751.4548)
[06:57:35] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[06:57:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(539.6812, 196.8308), shooter_id=3419129514650, bullet_pos=(562.5034, 1016.513)
[06:57:35] [INFO] [Bullet] Using shooter_position, distance=819.999938964844
[06:57:35] [INFO] [Bullet] Distance to wall: 819.999938964844 (55.8353036910454% of viewport)
[06:57:35] [INFO] [Bullet] Distance-based penetration chance: 81.5254790271137%
[06:57:35] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(479.6012, 628.9667), source=ENEMY (Enemy1), range=1469, listeners=8
[06:57:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[06:57:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(474.4236, 628.8453), source=ENEMY (Enemy2), range=1469, listeners=8
[06:57:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[06:57:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(539.6812, 196.8308), shooter_id=3419129514650, bullet_pos=(575.0356, 1016.068)
[06:57:35] [INFO] [Bullet] Using shooter_position, distance=819.999694824219
[06:57:35] [INFO] [Bullet] Distance to wall: 819.999694824219 (55.8352870670613% of viewport)
[06:57:35] [INFO] [Bullet] Distance-based penetration chance: 81.5254984217618%
[06:57:35] [INFO] [Bullet] Penetration failed (distance roll)
[06:57:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(479.6012, 628.9667), source=ENEMY (Enemy1), range=1469, listeners=8
[06:57:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[06:57:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(474.4236, 628.8453), source=ENEMY (Enemy2), range=1469, listeners=8
[06:57:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[06:57:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(539.6812, 196.8308), shooter_id=3419129514650, bullet_pos=(576.6197, 1015.998)
[06:57:35] [INFO] [Bullet] Using shooter_position, distance=819.99951171875
[06:57:35] [INFO] [Bullet] Distance to wall: 819.99951171875 (55.8352745990732% of viewport)
[06:57:35] [INFO] [Bullet] Distance-based penetration chance: 81.5255129677479%
[06:57:35] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:35] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[06:57:35] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:57:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(539.6812, 196.8308), shooter_id=3419129514650, bullet_pos=(574.9205, 1016.073)
[06:57:35] [INFO] [Bullet] Using shooter_position, distance=819.999755859375
[06:57:35] [INFO] [Bullet] Distance to wall: 819.999755859375 (55.8352912230573% of viewport)
[06:57:35] [INFO] [Bullet] Distance-based penetration chance: 81.5254935730998%
[06:57:35] [INFO] [Bullet] Penetration failed (distance roll)
[06:57:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(433.2652, 152.484), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[06:57:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(539.4066, 195.4309), shooter_id=3419129514650, bullet_pos=(707.7542, 812.8923)
[06:57:35] [INFO] [Bullet] Using shooter_position, distance=639.999572753906
[06:57:35] [INFO] [Bullet] Distance to wall: 639.999572753906 (43.5787477642553% of viewport)
[06:57:35] [INFO] [Bullet] Distance-based penetration chance: 95.8247942750355%
[06:57:35] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(539.6812, 196.8308), shooter_id=3419129514650, bullet_pos=(603.5535, 1014.339)
[06:57:35] [INFO] [Bullet] Using shooter_position, distance=819.999450683594
[06:57:35] [INFO] [Bullet] Distance to wall: 819.999450683594 (55.8352704430772% of viewport)
[06:57:35] [INFO] [Bullet] Distance-based penetration chance: 81.5255178164099%
[06:57:35] [INFO] [Bullet] Penetration failed (distance roll)
[06:57:35] [INFO] [LastChance] Threat detected: @Area2D@4289
[06:57:35] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:35] [INFO] [LastChance] Threat detected: @Area2D@4288
[06:57:35] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(416.7652, 152.484), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=5
[06:57:35] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[06:57:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(484.0174, 561.181), shooter_id=3416025728355, bullet_pos=(370.2555, 31.59522)
[06:57:35] [INFO] [Bullet] Using shooter_position, distance=541.666748046875
[06:57:35] [INFO] [Bullet] Distance to wall: 541.666748046875 (36.883084911833% of viewport)
[06:57:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:35] [INFO] [Bullet] Starting wall penetration at (370.2555, 31.59522)
[06:57:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(488.4565, 561.2026), shooter_id=3415740516633, bullet_pos=(368.143, 33.06681)
[06:57:35] [INFO] [Bullet] Using shooter_position, distance=541.666625976563
[06:57:35] [INFO] [Bullet] Distance to wall: 541.666625976563 (36.883076599841% of viewport)
[06:57:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:35] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[06:57:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 47.080680847168
[06:57:35] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:35] [INFO] [Bullet] Exiting penetration at (360.4545, -14.03063) after traveling 41.6666679382324 pixels through wall
[06:57:35] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:35] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:57:35] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:57:35] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:57:35] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:57:35] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:57:35] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:57:35] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:57:35] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:57:35] [INFO] [PenultimateHit] Applying saturation to 8 enemies
[06:57:35] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:57:35] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:57:35] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[06:57:35] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[06:57:35] [INFO] [PenultimateHit] Player died - ending penultimate effect
[06:57:35] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:57:35] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:57:35] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[06:57:35] [INFO] [LastChance] Player died
[06:57:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400.2652, 152.484), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=5
[06:57:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(539.6812, 196.8308), shooter_id=3419129514650, bullet_pos=(527.1464, 1016.735)
[06:57:35] [INFO] [Bullet] Using shooter_position, distance=820.000305175781
[06:57:35] [INFO] [Bullet] Distance to wall: 820.000305175781 (55.8353286270216% of viewport)
[06:57:35] [INFO] [Bullet] Distance-based penetration chance: 81.5254499351415%
[06:57:35] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(383.7652, 152.484), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=5
[06:57:35] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[06:57:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(367.2652, 152.484), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=5
[06:57:35] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[06:57:35] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:57:35] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:57:35] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[06:57:35] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[06:57:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(350.7652, 152.484), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=5
[06:57:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.2652, 152.484), shooter_id=3419129514650, bullet_pos=(499.2705, 506.3812)
[06:57:35] [INFO] [Bullet] Using shooter_position, distance=359.999877929688
[06:57:35] [INFO] [Bullet] Distance to wall: 359.999877929688 (24.5130536696359% of viewport)
[06:57:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(334.2652, 152.484), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=4
[06:57:35] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[06:57:35] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:57:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(317.7652, 152.484), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=4
[06:57:35] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[06:57:35] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:57:35] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[06:57:35] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:57:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(416.7652, 152.484), shooter_id=3419129514650, bullet_pos=(499.0823, 564.3385)
[06:57:35] [INFO] [Bullet] Using shooter_position, distance=420.000213623047
[06:57:35] [INFO] [Bullet] Distance to wall: 420.000213623047 (28.5985868578854% of viewport)
[06:57:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(301.2652, 152.484), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:57:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=4
[06:57:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(317.7652, 152.484), shooter_id=3419129514650, bullet_pos=(331.821, 231.2396)
[06:57:35] [INFO] [Bullet] Using shooter_position, distance=80.0000152587891
[06:57:35] [INFO] [Bullet] Distance to wall: 80.0000152587891 (5.44734814602744% of viewport)
[06:57:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:35] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:36] [ENEMY] [Enemy10] Hit taken, health: 3/4
[06:57:36] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:36] [INFO] [ImpactEffects] spawn_blood_effect called at (488.5964, 745.657), dir=(0.186382, 0.982477), lethal=false
[06:57:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:36] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:36] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 805.7688) (dist=61 px)
[06:57:36] [INFO] [ImpactEffects] Blood effect spawned at (488.5964, 745.657) (scale=0.9)
[06:57:36] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:36] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:36] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:57:36] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:57:36] [ENEMY] [Enemy1] Death animation component initialized
[06:57:36] [ENEMY] [Enemy2] Death animation component initialized
[06:57:36] [ENEMY] [Enemy3] Death animation component initialized
[06:57:36] [ENEMY] [Enemy4] Death animation component initialized
[06:57:36] [ENEMY] [Enemy5] Death animation component initialized
[06:57:36] [ENEMY] [Enemy6] Death animation component initialized
[06:57:36] [ENEMY] [Enemy7] Death animation component initialized
[06:57:36] [ENEMY] [Enemy8] Death animation component initialized
[06:57:36] [ENEMY] [Enemy9] Death animation component initialized
[06:57:36] [ENEMY] [Enemy10] Death animation component initialized
[06:57:36] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:57:36] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:57:36] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:57:36] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:57:36] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:57:36] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:57:36] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:57:36] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[06:57:36] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:57:36] [INFO] [ScoreManager] Level started with 10 enemies
[06:57:36] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[06:57:36] [ENEMY] [Enemy1] Registered as sound listener
[06:57:36] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[06:57:36] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[06:57:36] [ENEMY] [Enemy2] Registered as sound listener
[06:57:36] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[06:57:36] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[06:57:36] [ENEMY] [Enemy3] Registered as sound listener
[06:57:36] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[06:57:36] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[06:57:36] [ENEMY] [Enemy4] Registered as sound listener
[06:57:36] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[06:57:36] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[06:57:36] [ENEMY] [Enemy5] Registered as sound listener
[06:57:36] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[06:57:36] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[06:57:36] [ENEMY] [Enemy6] Registered as sound listener
[06:57:36] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[06:57:36] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[06:57:36] [ENEMY] [Enemy7] Registered as sound listener
[06:57:36] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[06:57:36] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[06:57:36] [ENEMY] [Enemy8] Registered as sound listener
[06:57:36] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[06:57:36] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[06:57:36] [ENEMY] [Enemy9] Registered as sound listener
[06:57:36] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[06:57:36] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[06:57:36] [ENEMY] [Enemy10] Registered as sound listener
[06:57:36] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[06:57:36] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:57:36] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:57:36] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:57:36] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:57:36] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:57:36] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:57:36] [INFO] [LastChance] Found player: Player
[06:57:36] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:57:36] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:57:36] [INFO] [LastChance] Connected to player Died signal (C#)
[06:57:37] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:57:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.729, 1519.53), source=ENEMY (Enemy10), range=1469, listeners=18
[06:57:37] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[06:57:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1111.856, 1500.095), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1080.765, 1479.433), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1050.498, 1457.582), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.445, 1492.013), shooter_id=3886945406089, bullet_pos=(39.38666, 880.3086)
[06:57:37] [INFO] [Bullet] Using shooter_position, distance=1208.33312988281
[06:57:37] [INFO] [Bullet] Distance to wall: 1208.33312988281 (82.2776247424219% of viewport)
[06:57:38] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:57:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1050.695, 1470.167), shooter_id=3886945406089, bullet_pos=(33.31893, 818.234)
[06:57:38] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[06:57:38] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[06:57:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1050.695, 1470.167), shooter_id=3886945406089, bullet_pos=(171.59, 699.7626)
[06:57:38] [INFO] [Bullet] Using shooter_position, distance=1168.90893554688
[06:57:38] [INFO] [Bullet] Distance to wall: 1168.90893554688 (79.5931588553869% of viewport)
[06:57:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.445, 1492.013), shooter_id=3886945406089, bullet_pos=(430.412, 701.4256)
[06:57:38] [INFO] [Bullet] Using shooter_position, distance=1024.14514160156
[06:57:38] [INFO] [Bullet] Distance to wall: 1024.14514160156 (69.7359259285062% of viewport)
[06:57:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1020.813, 1447.151), shooter_id=3886945406089, bullet_pos=(63.71792, 780.0077)
[06:57:38] [INFO] [Bullet] Using shooter_position, distance=1166.66638183594
[06:57:38] [INFO] [Bullet] Distance to wall: 1166.66638183594 (79.4404592495165% of viewport)
[06:57:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1020.813, 1447.151), shooter_id=3886945406089, bullet_pos=(151.0128, 711.0427)
[06:57:38] [INFO] [Bullet] Using shooter_position, distance=1139.47668457031
[06:57:38] [INFO] [Bullet] Distance to wall: 1139.47668457031 (77.5890627652555% of viewport)
[06:57:38] [INFO] [LastChance] Threat detected: @Area2D@4571
[06:57:38] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:38] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[06:57:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.4167, 813.905), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:38] [ENEMY] [Enemy1] Heard gunshot at (410.4167, 813.905), source_type=0, intensity=0.01, distance=477
[06:57:38] [ENEMY] [Enemy2] Heard gunshot at (410.4167, 813.905), source_type=0, intensity=0.04, distance=264
[06:57:38] [ENEMY] [Enemy4] Heard gunshot at (410.4167, 813.905), source_type=0, intensity=0.02, distance=399
[06:57:38] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(991.834, 1423.013), shooter_id=3886945406089, bullet_pos=(61.15998, 719.4825)
[06:57:38] [INFO] [Bullet] Using shooter_position, distance=1166.666015625
[06:57:38] [INFO] [Bullet] Distance to wall: 1166.666015625 (79.4404343135404% of viewport)
[06:57:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(991.834, 1423.013), shooter_id=3886945406089, bullet_pos=(96.87444, 700.562)
[06:57:38] [INFO] [Bullet] Using shooter_position, distance=1150.1689453125
[06:57:38] [INFO] [Bullet] Distance to wall: 1150.1689453125 (78.3171184605249% of viewport)
[06:57:38] [INFO] [Bullet] Distance-based penetration chance: 55.2966951293876%
[06:57:38] [INFO] [Bullet] Penetration failed (distance roll)
[06:57:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.445, 1492.013), shooter_id=3886945406089, bullet_pos=(678.8458, 821.5179)
[06:57:38] [INFO] [Bullet] Using shooter_position, distance=782.080749511719
[06:57:38] [INFO] [Bullet] Distance to wall: 782.080749511719 (53.2533163539411% of viewport)
[06:57:38] [INFO] [Bullet] Distance-based penetration chance: 84.5377975870687%
[06:57:38] [INFO] [Bullet] Starting wall penetration at (678.8458, 821.5179)
[06:57:38] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:57:38] [INFO] [Bullet] Exiting penetration at (710.451, 836.7958) after traveling 30.1041698455811 pixels through wall
[06:57:38] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[06:57:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(414.1122, 798.9358), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:38] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1050.695, 1470.167), shooter_id=3886945406089, bullet_pos=(504.9021, 914.2379)
[06:57:38] [INFO] [Bullet] Using shooter_position, distance=779.067810058594
[06:57:38] [INFO] [Bullet] Distance to wall: 779.067810058594 (53.0481597662707% of viewport)
[06:57:38] [INFO] [Bullet] Distance-based penetration chance: 84.7771469393508%
[06:57:38] [INFO] [Bullet] Starting wall penetration at (504.9021, 914.2379)
[06:57:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(420.4673, 785.2568), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:38] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:38] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12.3941411972046
[06:57:38] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:38] [INFO] [Bullet] Exiting penetration at (534.4228, 933.2335) after traveling 30.1041698455811 pixels through wall
[06:57:38] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[06:57:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(428.6968, 773.8633), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:38] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(658.1513, 758.168), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:38] [ENEMY] [Enemy3] Hit taken, health: 3/4
[06:57:38] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:38] [INFO] [ImpactEffects] spawn_blood_effect called at (658.1513, 758.168), dir=(0.964492, -0.264112), lethal=false
[06:57:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:38] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:38] [INFO] [ImpactEffects] Blood effect spawned at (658.1513, 758.168) (scale=0.9)
[06:57:38] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:57:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(438.6886, 764.8977), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:38] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:38] [INFO] [LastChance] Threat detected: Bullet
[06:57:38] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450.4427, 758.3599), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:38] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(653.7348, 764.8384), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(463.9593, 754.2498), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:38] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(647.8461, 773.7324), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:38] [INFO] [LastChance] Threat detected: @Area2D@4600
[06:57:38] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(590.9767, 769.6705), shooter_id=3884948916625, bullet_pos=(50.12621, 799.3918)
[06:57:38] [INFO] [Bullet] Using shooter_position, distance=541.66650390625
[06:57:38] [INFO] [Bullet] Distance to wall: 541.66650390625 (36.883068287849% of viewport)
[06:57:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:38] [INFO] [Bullet] Starting wall penetration at (50.12621, 799.3918)
[06:57:38] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28.513111114502
[06:57:38] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:38] [INFO] [Bullet] Exiting penetration at (3.529842, 801.9525) after traveling 41.6666679382324 pixels through wall
[06:57:38] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(414.1122, 798.9358), shooter_id=3887767489722, bullet_pos=(915.4912, 661.025)
[06:57:38] [INFO] [Bullet] Using shooter_position, distance=520.000244140625
[06:57:38] [INFO] [Bullet] Distance to wall: 520.000244140625 (35.4077728196689% of viewport)
[06:57:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:38] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(585.9207, 770.4812), shooter_id=3884948916625, bullet_pos=(58.03377, 891.8833)
[06:57:38] [INFO] [Bullet] Using shooter_position, distance=541.666931152344
[06:57:38] [INFO] [Bullet] Distance to wall: 541.666931152344 (36.8830973798211% of viewport)
[06:57:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:38] [INFO] [Bullet] Starting wall penetration at (58.03377, 891.8833)
[06:57:38] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19.9533157348633
[06:57:38] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:38] [INFO] [Bullet] Exiting penetration at (12.55429, 902.3425) after traveling 41.6666717529297 pixels through wall
[06:57:38] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:38] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[06:57:38] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[06:57:38] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[06:57:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(420.4673, 785.2568), shooter_id=3887767489722, bullet_pos=(914.8324, 624.0041)
[06:57:38] [INFO] [Bullet] Using shooter_position, distance=519.999328613281
[06:57:38] [INFO] [Bullet] Distance to wall: 519.999328613281 (35.4077104797286% of viewport)
[06:57:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:38] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(579.7977, 773.8598), shooter_id=3884948916625, bullet_pos=(38.37252, 757.686)
[06:57:38] [INFO] [Bullet] Using shooter_position, distance=541.666748046875
[06:57:38] [INFO] [Bullet] Distance to wall: 541.666748046875 (36.883084911833% of viewport)
[06:57:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:38] [INFO] [Bullet] Starting wall penetration at (38.37252, 757.686)
[06:57:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(428.6968, 773.8633), shooter_id=3887767489722, bullet_pos=(909.4844, 636.5922)
[06:57:38] [INFO] [Bullet] Using shooter_position, distance=500.000122070313
[06:57:38] [INFO] [Bullet] Distance to wall: 500.000122070313 (34.0459277309198% of viewport)
[06:57:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:38] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:38] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40.2913017272949
[06:57:38] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:38] [INFO] [Bullet] Exiting penetration at (-8.273335, 756.2925) after traveling 41.6666679382324 pixels through wall
[06:57:38] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.6886, 764.8977), shooter_id=3887767489722, bullet_pos=(926.5762, 655.509)
[06:57:38] [INFO] [Bullet] Using shooter_position, distance=500.000183105469
[06:57:38] [INFO] [Bullet] Distance to wall: 500.000183105469 (34.0459318869158% of viewport)
[06:57:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:38] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450.4427, 758.3599), shooter_id=3887767489722, bullet_pos=(924.9408, 685.8896)
[06:57:38] [INFO] [Bullet] Using shooter_position, distance=480.000335693359
[06:57:38] [INFO] [Bullet] Distance to wall: 480.000335693359 (32.6841055001487% of viewport)
[06:57:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:38] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:39] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[06:57:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(446.7032, 610.4375), source=ENEMY (Enemy2), range=1469, listeners=10
[06:57:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[06:57:39] [INFO] [LastChance] Threat detected: Bullet
[06:57:39] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(463.9593, 754.2498), shooter_id=3887767489722, bullet_pos=(1361.176, 360.0421)
[06:57:39] [INFO] [Bullet] Using shooter_position, distance=979.998962402344
[06:57:39] [INFO] [Bullet] Distance to wall: 979.998962402344 (66.7299314091659% of viewport)
[06:57:39] [INFO] [Bullet] Distance-based penetration chance: 68.8150800226398%
[06:57:39] [INFO] [Bullet] Penetration failed (distance roll)
[06:57:39] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[06:57:39] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[06:57:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(466.8063, 640.7955), source=ENEMY (Enemy2), range=1469, listeners=10
[06:57:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[06:57:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(503.0749, 698.3408), shooter_id=3884663703281, bullet_pos=(503.0749, 698.3408)
[06:57:39] [INFO] [Bullet] Using shooter_position, distance=0
[06:57:39] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[06:57:39] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[06:57:39] [INFO] [Bullet] Starting wall penetration at (503.0749, 698.3408)
[06:57:39] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:57:39] [INFO] [Bullet] Exiting penetration at (532.3204, 734.7068) after traveling 41.6666679382324 pixels through wall
[06:57:39] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:39] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[06:57:39] [ENEMY] [Enemy10] FLANKING started: target=(553.9326, 1061.073), side=right, pos=(1002.572, 1424.962)
[06:57:39] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[06:57:39] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[06:57:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.0749, 958.6926), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:39] [ENEMY] [Enemy3] Heard gunshot at (644.0749, 958.6926), source_type=0, intensity=1.00, distance=33
[06:57:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[06:57:39] [ENEMY] [Enemy3] Hit taken, health: 2/4
[06:57:39] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:39] [INFO] [ImpactEffects] spawn_blood_effect called at (664.9229, 933.4913), dir=(0.744536, -0.667583), lethal=false
[06:57:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:39] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:39] [INFO] [ImpactEffects] Wall found for blood splatter at (713.4274, 890) (dist=65 px)
[06:57:39] [INFO] [ImpactEffects] Blood effect spawned at (664.9229, 933.4913) (scale=0.9)
[06:57:39] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:57:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(647.7704, 973.6619), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:39] [ENEMY] [Enemy3] Heard gunshot at (647.7704, 973.6619), source_type=0, intensity=1.00, distance=39
[06:57:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[06:57:39] [ENEMY] [Enemy3] Hit taken, health: 1/4
[06:57:39] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:39] [INFO] [ImpactEffects] spawn_blood_effect called at (668.3948, 940.1188), dir=(0.758321, -0.651882), lethal=false
[06:57:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:39] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:39] [INFO] [ImpactEffects] Wall found for blood splatter at (726.6969, 890) (dist=76 px)
[06:57:39] [INFO] [ImpactEffects] Blood effect spawned at (668.3948, 940.1188) (scale=0.9)
[06:57:39] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:57:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(769.5807, 912.5085), source=ENEMY (Enemy4), range=1469, listeners=10
[06:57:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[06:57:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(654.2376, 983.9335), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:39] [ENEMY] [Enemy3] Heard gunshot at (654.2376, 983.9335), source_type=0, intensity=1.00, distance=48
[06:57:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[06:57:39] [INFO] [LastChance] Threat detected: Bullet
[06:57:39] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:39] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:57:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(715.8231, 953.7604), shooter_id=3885234129066, bullet_pos=(644.3148, 996.5507)
[06:57:39] [INFO] [Bullet] Using shooter_position, distance=83.3333358764648
[06:57:39] [INFO] [Bullet] Distance to wall: 83.3333358764648 (5.67432007632112% of viewport)
[06:57:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:39] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:57:39] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:57:39] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:57:39] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:57:39] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:57:39] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:57:39] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:57:39] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:57:39] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:57:39] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:57:39] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:57:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(662.2843, 983.9338), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:39] [ENEMY] [Enemy3] Heard gunshot at (662.2843, 983.9338), source_type=0, intensity=0.89, distance=53
[06:57:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[06:57:39] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:57:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(666.8568, 983.9305), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:40] [ENEMY] [Enemy3] Heard gunshot at (666.8568, 983.9305), source_type=0, intensity=0.83, distance=55
[06:57:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[06:57:40] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:57:40] [ENEMY] [Enemy4] Hit taken, health: 3/4
[06:57:40] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:40] [INFO] [ImpactEffects] spawn_blood_effect called at (769.5807, 912.5085), dir=(0.808715, -0.5882), lethal=false
[06:57:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:40] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:40] [INFO] [ImpactEffects] Blood effect spawned at (769.5807, 912.5085) (scale=0.9)
[06:57:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(769.5807, 912.5085), source=ENEMY (Enemy4), range=1469, listeners=10
[06:57:40] [ENEMY] [Enemy3] Heard gunshot at (769.5807, 912.5085), source_type=1, intensity=0.32, distance=88
[06:57:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[06:57:40] [INFO] [LastChance] Threat detected: Bullet
[06:57:40] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:40] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:57:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[06:57:40] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[06:57:40] [INFO] [PenultimateHit] Player died - ending penultimate effect
[06:57:40] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:57:40] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:57:40] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[06:57:40] [INFO] [LastChance] Player died
[06:57:40] [ENEMY] [Enemy4] Hit taken, health: 2/4
[06:57:40] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:40] [INFO] [ImpactEffects] spawn_blood_effect called at (769.5807, 912.5085), dir=(0.850503, -0.52597), lethal=false
[06:57:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:40] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:40] [INFO] [ImpactEffects] Blood effect spawned at (769.5807, 912.5085) (scale=0.9)
[06:57:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(682.1147, 980.0821), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:40] [ENEMY] [Enemy3] Heard gunshot at (682.1147, 980.0821), source_type=0, intensity=0.80, distance=56
[06:57:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[06:57:40] [ENEMY] [Enemy4] Hit taken, health: 1/4
[06:57:40] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:40] [INFO] [ImpactEffects] spawn_blood_effect called at (769.5807, 912.5085), dir=(0.810894, -0.585194), lethal=false
[06:57:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:40] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:40] [INFO] [ImpactEffects] Blood effect spawned at (769.5807, 912.5085) (scale=0.9)
[06:57:40] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:57:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(692.9351, 973.5694), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:40] [ENEMY] [Enemy3] Heard gunshot at (692.9351, 973.5694), source_type=0, intensity=0.89, distance=53
[06:57:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[06:57:40] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:57:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(769.5807, 912.5085), source=ENEMY (Enemy4), range=1469, listeners=10
[06:57:40] [ENEMY] [Enemy3] Heard gunshot at (769.5807, 912.5085), source_type=1, intensity=0.50, distance=71
[06:57:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[06:57:40] [ENEMY] [Enemy4] Hit taken, health: 0/4
[06:57:40] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:40] [INFO] [ImpactEffects] spawn_blood_effect called at (769.5807, 912.5085), dir=(0.801228, -0.59836), lethal=true
[06:57:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:40] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[06:57:40] [INFO] [ImpactEffects] Blood effect spawned at (769.5807, 912.5085) (scale=1.35)
[06:57:40] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[06:57:40] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[06:57:40] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 9)
[06:57:40] [INFO] [DeathAnim] Started - Angle: -36.8 deg, Index: 9
[06:57:40] [ENEMY] [Enemy4] Death animation started with hit direction: (0.801228, -0.59836)
[06:57:40] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:57:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(708.1188, 960.2809), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:57:40] [ENEMY] [Enemy3] Heard gunshot at (708.1188, 960.2809), source_type=0, intensity=1.00, distance=38
[06:57:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[06:57:40] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:57:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(723.6752, 944.7245), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:57:40] [ENEMY] [Enemy3] Heard gunshot at (723.6752, 944.7245), source_type=0, intensity=1.00, distance=29
[06:57:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[06:57:40] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:57:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(739.2316, 929.1682), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:57:40] [ENEMY] [Enemy3] Heard gunshot at (739.2316, 929.1682), source_type=0, intensity=1.00, distance=30
[06:57:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[06:57:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(692.9351, 973.5694), shooter_id=3887767489722, bullet_pos=(918.1793, 843.7043)
[06:57:40] [INFO] [Bullet] Using shooter_position, distance=259.999816894531
[06:57:40] [INFO] [Bullet] Distance to wall: 259.999816894531 (17.7038656298543% of viewport)
[06:57:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:40] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:40] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:57:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(708.1188, 960.2809), shooter_id=3887767489722, bullet_pos=(913.5787, 741.6805)
[06:57:40] [INFO] [Bullet] Using shooter_position, distance=299.999908447266
[06:57:40] [INFO] [Bullet] Distance to wall: 299.999908447266 (20.4275454173626% of viewport)
[06:57:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:40] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(739.2316, 929.1682), shooter_id=3887767489722, bullet_pos=(922.2083, 848.4254)
[06:57:41] [INFO] [Bullet] Using shooter_position, distance=199.999664306641
[06:57:41] [INFO] [Bullet] Distance to wall: 199.999664306641 (13.618344909593% of viewport)
[06:57:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:41] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(723.6752, 944.7245), shooter_id=3887767489722, bullet_pos=(914.021, 739.3747)
[06:57:41] [INFO] [Bullet] Using shooter_position, distance=280.000152587891
[06:57:41] [INFO] [Bullet] Distance to wall: 280.000152587891 (19.0657252645896% of viewport)
[06:57:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:41] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:57:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:57:41] [ENEMY] [Enemy1] Death animation component initialized
[06:57:41] [ENEMY] [Enemy2] Death animation component initialized
[06:57:41] [ENEMY] [Enemy3] Death animation component initialized
[06:57:41] [ENEMY] [Enemy4] Death animation component initialized
[06:57:41] [ENEMY] [Enemy5] Death animation component initialized
[06:57:41] [ENEMY] [Enemy6] Death animation component initialized
[06:57:41] [ENEMY] [Enemy7] Death animation component initialized
[06:57:41] [ENEMY] [Enemy8] Death animation component initialized
[06:57:41] [ENEMY] [Enemy9] Death animation component initialized
[06:57:41] [ENEMY] [Enemy10] Death animation component initialized
[06:57:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:57:41] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:57:41] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:57:41] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:57:41] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:57:41] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:57:41] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:57:41] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[06:57:41] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:57:41] [INFO] [ScoreManager] Level started with 10 enemies
[06:57:41] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[06:57:41] [ENEMY] [Enemy1] Registered as sound listener
[06:57:41] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[06:57:41] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[06:57:41] [ENEMY] [Enemy2] Registered as sound listener
[06:57:41] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[06:57:41] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[06:57:41] [ENEMY] [Enemy3] Registered as sound listener
[06:57:41] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[06:57:41] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[06:57:41] [ENEMY] [Enemy4] Registered as sound listener
[06:57:41] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[06:57:41] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[06:57:41] [ENEMY] [Enemy5] Registered as sound listener
[06:57:41] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[06:57:41] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[06:57:41] [ENEMY] [Enemy6] Registered as sound listener
[06:57:41] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[06:57:41] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[06:57:41] [ENEMY] [Enemy7] Registered as sound listener
[06:57:41] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[06:57:41] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[06:57:41] [ENEMY] [Enemy8] Registered as sound listener
[06:57:41] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[06:57:41] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[06:57:41] [ENEMY] [Enemy9] Registered as sound listener
[06:57:41] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[06:57:41] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[06:57:41] [ENEMY] [Enemy10] Registered as sound listener
[06:57:41] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[06:57:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:57:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:57:41] [ENEMY] [Enemy1] Death animation component initialized
[06:57:41] [ENEMY] [Enemy2] Death animation component initialized
[06:57:41] [ENEMY] [Enemy3] Death animation component initialized
[06:57:41] [ENEMY] [Enemy4] Death animation component initialized
[06:57:41] [ENEMY] [Enemy5] Death animation component initialized
[06:57:41] [ENEMY] [Enemy6] Death animation component initialized
[06:57:41] [ENEMY] [Enemy7] Death animation component initialized
[06:57:41] [ENEMY] [Enemy8] Death animation component initialized
[06:57:41] [ENEMY] [Enemy9] Death animation component initialized
[06:57:41] [ENEMY] [Enemy10] Death animation component initialized
[06:57:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:57:41] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:57:41] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:57:41] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:57:41] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:57:41] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:57:41] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:57:41] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[06:57:41] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:57:41] [INFO] [ScoreManager] Level started with 10 enemies
[06:57:41] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[06:57:41] [ENEMY] [Enemy1] Registered as sound listener
[06:57:41] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[06:57:41] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[06:57:41] [ENEMY] [Enemy2] Registered as sound listener
[06:57:41] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[06:57:41] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[06:57:41] [ENEMY] [Enemy3] Registered as sound listener
[06:57:41] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[06:57:41] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[06:57:41] [ENEMY] [Enemy4] Registered as sound listener
[06:57:41] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[06:57:41] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[06:57:41] [ENEMY] [Enemy5] Registered as sound listener
[06:57:41] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[06:57:41] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[06:57:41] [ENEMY] [Enemy6] Registered as sound listener
[06:57:41] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[06:57:41] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[06:57:41] [ENEMY] [Enemy7] Registered as sound listener
[06:57:41] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[06:57:41] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[06:57:41] [ENEMY] [Enemy8] Registered as sound listener
[06:57:41] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[06:57:41] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[06:57:41] [ENEMY] [Enemy9] Registered as sound listener
[06:57:41] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[06:57:41] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[06:57:41] [ENEMY] [Enemy10] Registered as sound listener
[06:57:41] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[06:57:41] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:57:41] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:57:41] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:57:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:57:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:57:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:57:41] [INFO] [LastChance] Found player: Player
[06:57:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:57:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:57:41] [INFO] [LastChance] Connected to player Died signal (C#)
[06:57:41] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:57:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.932, 1519.16), source=ENEMY (Enemy10), range=1469, listeners=29
[06:57:41] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[06:57:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1111.98, 1499.853), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1080.756, 1479.391), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1050.383, 1457.688), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.679, 1491.617), shooter_id=4244685982888, bullet_pos=(39.972, 879.314)
[06:57:42] [INFO] [Bullet] Using shooter_position, distance=1208.33312988281
[06:57:42] [INFO] [Bullet] Distance to wall: 1208.33312988281 (82.2776247424219% of viewport)
[06:57:42] [INFO] [Bullet] Distance-based penetration chance: 50.6761044671745%
[06:57:42] [INFO] [Bullet] Penetration failed (distance roll)
[06:57:42] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:57:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1050.608, 1470.36), shooter_id=4244685982888, bullet_pos=(63.86566, 847.9043)
[06:57:42] [INFO] [Bullet] Using shooter_position, distance=1166.6669921875
[06:57:42] [INFO] [Bullet] Distance to wall: 1166.6669921875 (79.4405008094768% of viewport)
[06:57:42] [INFO] [Bullet] Distance-based penetration chance: 53.9860823889438%
[06:57:42] [INFO] [Bullet] Penetration failed (distance roll)
[06:57:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1020.624, 1447.442), shooter_id=4244685982888, bullet_pos=(59.83867, 785.6237)
[06:57:42] [INFO] [Bullet] Using shooter_position, distance=1166.66687011719
[06:57:42] [INFO] [Bullet] Distance to wall: 1166.66687011719 (79.4404924974847% of viewport)
[06:57:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1020.624, 1447.442), shooter_id=4244685982888, bullet_pos=(139.7695, 708.2438)
[06:57:42] [INFO] [Bullet] Using shooter_position, distance=1149.92102050781
[06:57:42] [INFO] [Bullet] Distance to wall: 1149.92102050781 (78.3002368046802% of viewport)
[06:57:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(991.5796, 1423.354), shooter_id=4244685982888, bullet_pos=(58.09336, 723.5587)
[06:57:42] [INFO] [Bullet] Using shooter_position, distance=1166.66638183594
[06:57:42] [INFO] [Bullet] Distance to wall: 1166.66638183594 (79.4404592495165% of viewport)
[06:57:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(991.5796, 1423.354), shooter_id=4244685982888, bullet_pos=(124.0422, 686.1228)
[06:57:42] [INFO] [Bullet] Using shooter_position, distance=1138.47766113281
[06:57:42] [INFO] [Bullet] Distance to wall: 1138.47766113281 (77.521037422354% of viewport)
[06:57:42] [INFO] [Bullet] Distance-based penetration chance: 56.225456340587%
[06:57:42] [INFO] [Bullet] Penetration failed (distance roll)
[06:57:42] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[06:57:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(360.961, 792.7537), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:42] [ENEMY] [Enemy1] Heard gunshot at (360.961, 792.7537), source_type=0, intensity=0.01, distance=447
[06:57:42] [ENEMY] [Enemy2] Heard gunshot at (360.961, 792.7537), source_type=0, intensity=0.04, distance=246
[06:57:42] [ENEMY] [Enemy4] Heard gunshot at (360.961, 792.7537), source_type=0, intensity=0.01, distance=452
[06:57:42] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(364.23, 778.9867), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:42] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.0215, 760.83), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(369.6509, 767.2465), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:42] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:42] [INFO] [LastChance] Threat detected: Bullet
[06:57:42] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(377.1309, 757.6882), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(610.3799, 761.8896), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[06:57:43] [ENEMY] [Enemy3] Hit taken, health: 1/2
[06:57:43] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:43] [INFO] [ImpactEffects] spawn_blood_effect called at (610.3799, 761.8896), dir=(0.998027, -0.06279), lethal=false
[06:57:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:43] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:43] [INFO] [ImpactEffects] Blood effect spawned at (610.3799, 761.8896) (scale=0.9)
[06:57:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(386.6698, 750.3118), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:43] [INFO] [LastChance] Threat detected: @Area2D@5191
[06:57:43] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:43] [ENEMY] [Enemy3] Hit taken, health: 0/2
[06:57:43] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:43] [INFO] [ImpactEffects] spawn_blood_effect called at (610.3799, 761.8896), dir=(0.997162, -0.075287), lethal=true
[06:57:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:43] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[06:57:43] [INFO] [ImpactEffects] Blood effect spawned at (610.3799, 761.8896) (scale=1.35)
[06:57:43] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[06:57:43] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[06:57:43] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[06:57:43] [INFO] [DeathAnim] Started - Angle: -4.3 deg, Index: 11
[06:57:43] [ENEMY] [Enemy3] Death animation started with hit direction: (0.997162, -0.075287)
[06:57:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(398.2677, 745.1172), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:57:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[06:57:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(569.9671, 773.1093), shooter_id=4242689493122, bullet_pos=(29.49627, 809.0823)
[06:57:43] [INFO] [Bullet] Using shooter_position, distance=541.666687011719
[06:57:43] [INFO] [Bullet] Distance to wall: 541.666687011719 (36.883080755837% of viewport)
[06:57:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:43] [INFO] [Bullet] Starting wall penetration at (29.49627, 809.0823)
[06:57:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 49.1759338378906
[06:57:43] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:43] [INFO] [Bullet] Exiting penetration at (-17.06737, 812.1815) after traveling 41.6666679382324 pixels through wall
[06:57:43] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(542.4834, 767.6575), shooter_id=4242689493122, bullet_pos=(42.70792, 752.678)
[06:57:43] [INFO] [Bullet] Using shooter_position, distance=499.999908447266
[06:57:43] [INFO] [Bullet] Distance to wall: 499.999908447266 (34.0459131849337% of viewport)
[06:57:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:43] [INFO] [Bullet] Starting wall penetration at (42.70792, 752.678)
[06:57:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35.9539451599121
[06:57:43] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:43] [INFO] [Bullet] Exiting penetration at (-3.937805, 751.28) after traveling 41.6666679382324 pixels through wall
[06:57:43] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:43] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[06:57:43] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[06:57:43] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[06:57:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(369.6509, 767.2465), shooter_id=4245508065979, bullet_pos=(928.6988, 734.5981)
[06:57:43] [INFO] [Bullet] Using shooter_position, distance=560.000366210938
[06:57:43] [INFO] [Bullet] Distance to wall: 560.000366210938 (38.1314546851752% of viewport)
[06:57:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:43] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(377.1309, 757.6882), shooter_id=4245508065979, bullet_pos=(910.5424, 673.5917)
[06:57:43] [INFO] [Bullet] Using shooter_position, distance=540
[06:57:43] [INFO] [Bullet] Distance to wall: 540 (36.7695929724419% of viewport)
[06:57:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:43] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(386.6698, 750.3118), shooter_id=4245508065979, bullet_pos=(915.3599, 640.3722)
[06:57:43] [INFO] [Bullet] Using shooter_position, distance=539.999938964844
[06:57:43] [INFO] [Bullet] Distance to wall: 539.999938964844 (36.7695888164459% of viewport)
[06:57:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:43] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(398.2677, 745.1172), shooter_id=4245508065979, bullet_pos=(922.5382, 615.7335)
[06:57:43] [INFO] [Bullet] Using shooter_position, distance=539.999755859375
[06:57:43] [INFO] [Bullet] Distance to wall: 539.999755859375 (36.7695763484578% of viewport)
[06:57:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:43] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:43] [ENEMY] [Enemy3] Ragdoll activated
[06:57:43] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[06:57:43] [ENEMY] [Enemy10] FLANKING started: target=(479.5693, 1038.845), side=right, pos=(1002.358, 1425.211)
[06:57:43] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[06:57:43] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[06:57:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(554.2279, 913.8024), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:57:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[06:57:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(554.5359, 930.1748), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:57:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[06:57:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(775.7664, 908.1868), source=ENEMY (Enemy4), range=1469, listeners=9
[06:57:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=7
[06:57:44] [INFO] [LastChance] Threat detected: Bullet
[06:57:44] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(557.2217, 945.4058), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:57:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[06:57:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(554.2279, 913.8024), shooter_id=4245508065979, bullet_pos=(732.7217, 890.5641)
[06:57:44] [INFO] [Bullet] Using shooter_position, distance=180.000122070313
[06:57:44] [INFO] [Bullet] Distance to wall: 180.000122070313 (12.256539302806% of viewport)
[06:57:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:44] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(561.9932, 958.5215), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:57:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[06:57:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(775.7664, 908.1868), source=ENEMY (Enemy4), range=1469, listeners=9
[06:57:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[06:57:44] [INFO] [LastChance] Threat detected: Bullet
[06:57:44] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(568.7643, 969.4009), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:57:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[06:57:44] [ENEMY] [Enemy4] Hit taken, health: 2/3
[06:57:44] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:44] [INFO] [ImpactEffects] spawn_blood_effect called at (775.7664, 908.1868), dir=(0.999511, -0.031267), lethal=false
[06:57:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:44] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:44] [INFO] [ImpactEffects] Blood effect spawned at (775.7664, 908.1868) (scale=0.9)
[06:57:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(576.583, 977.5715), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:57:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[06:57:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(712.3593, 932.4705), shooter_id=4242974706810, bullet_pos=(510.5356, 984.1416)
[06:57:44] [INFO] [Bullet] Using shooter_position, distance=208.333236694336
[06:57:44] [INFO] [Bullet] Distance to wall: 208.333236694336 (14.1857931775595% of viewport)
[06:57:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(712.3593, 932.4705), shooter_id=4242974706810, bullet_pos=(515.1031, 986.1756)
[06:57:44] [INFO] [Bullet] Using shooter_position, distance=204.436386108398
[06:57:44] [INFO] [Bullet] Distance to wall: 204.436386108398 (13.9204494554867% of viewport)
[06:57:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(775.7664, 908.1868), source=ENEMY (Enemy4), range=1469, listeners=9
[06:57:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[06:57:44] [INFO] [LastChance] Threat detected: @Area2D@5237
[06:57:44] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:44] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[06:57:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[06:57:44] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[06:57:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(779.9595, 909.6716), source=ENEMY (Enemy4), range=1469, listeners=9
[06:57:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[06:57:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(568.7643, 969.4009), shooter_id=4245508065979, bullet_pos=(806.934, 998.9834)
[06:57:44] [INFO] [Bullet] Using shooter_position, distance=239.99983215332
[06:57:44] [INFO] [Bullet] Distance to wall: 239.99983215332 (16.3420298920962% of viewport)
[06:57:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:44] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(557.2217, 945.4058), shooter_id=4245508065979, bullet_pos=(917.0778, 955.5737)
[06:57:44] [INFO] [Bullet] Using shooter_position, distance=359.999694824219
[06:57:44] [INFO] [Bullet] Distance to wall: 359.999694824219 (24.5130412016478% of viewport)
[06:57:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:44] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:44] [INFO] [LastChance] Threat detected: @Area2D@5239
[06:57:44] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(720.0026, 941.8548), shooter_id=4242974706810, bullet_pos=(612.8813, 1006.276)
[06:57:44] [INFO] [Bullet] Using shooter_position, distance=124.999984741211
[06:57:44] [INFO] [Bullet] Distance to wall: 124.999984741211 (8.51147881573292% of viewport)
[06:57:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(561.9932, 958.5215), shooter_id=4245508065979, bullet_pos=(921.5614, 940.8873)
[06:57:44] [INFO] [Bullet] Using shooter_position, distance=360.000396728516
[06:57:44] [INFO] [Bullet] Distance to wall: 360.000396728516 (24.5130889956021% of viewport)
[06:57:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:44] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(783.9634, 900.2538), source=ENEMY (Enemy4), range=1469, listeners=9
[06:57:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[06:57:44] [INFO] [LastChance] Threat detected: @Area2D@5244
[06:57:44] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(720.0026, 941.8548), shooter_id=4242974706810, bullet_pos=(526.1987, 936.5425)
[06:57:44] [INFO] [Bullet] Using shooter_position, distance=193.876693725586
[06:57:44] [INFO] [Bullet] Distance to wall: 193.876693725586 (13.2014205835789% of viewport)
[06:57:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(785.5942, 889.8853), source=ENEMY (Enemy4), range=1469, listeners=9
[06:57:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[06:57:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(724.8661, 933.9896), shooter_id=4242974706810, bullet_pos=(578.7599, 1014.182)
[06:57:44] [INFO] [Bullet] Using shooter_position, distance=166.666732788086
[06:57:44] [INFO] [Bullet] Distance to wall: 166.666732788086 (11.3486443086383% of viewport)
[06:57:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(576.583, 977.5715), shooter_id=4245508065979, bullet_pos=(916.5311, 971.6281)
[06:57:44] [INFO] [Bullet] Using shooter_position, distance=340.000061035156
[06:57:44] [INFO] [Bullet] Distance to wall: 340.000061035156 (23.1512293608669% of viewport)
[06:57:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:44] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:44] [INFO] [LastChance] Threat detected: Bullet
[06:57:44] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(724.8661, 933.9896), shooter_id=4242974706810, bullet_pos=(512.4646, 977.3629)
[06:57:44] [INFO] [Bullet] Using shooter_position, distance=216.784774780273
[06:57:44] [INFO] [Bullet] Distance to wall: 216.784774780273 (14.7612739468392% of viewport)
[06:57:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:57:44] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:57:44] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:57:44] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:57:44] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:57:44] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:57:44] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:57:44] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:57:44] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:57:44] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:57:44] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:57:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(720.0026, 941.8548), shooter_id=4242974706810, bullet_pos=(687.8406, 845.2814)
[06:57:44] [INFO] [Bullet] Using shooter_position, distance=101.788040161133
[06:57:44] [INFO] [Bullet] Distance to wall: 101.788040161133 (6.93093482627301% of viewport)
[06:57:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:44] [INFO] [Bullet] Starting wall penetration at (687.8406, 845.2814)
[06:57:44] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:57:44] [INFO] [Bullet] Exiting penetration at (694.8161, 841.3432) after traveling 3.01041650772095 pixels through wall
[06:57:44] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[06:57:44] [ENEMY] [Enemy3] Death animation completed
[06:57:44] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:45] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:45] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:57:45] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:57:45] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:57:45] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:57:45] [ENEMY] [Enemy1] Death animation component initialized
[06:57:45] [ENEMY] [Enemy2] Death animation component initialized
[06:57:45] [ENEMY] [Enemy3] Death animation component initialized
[06:57:45] [ENEMY] [Enemy4] Death animation component initialized
[06:57:45] [ENEMY] [Enemy5] Death animation component initialized
[06:57:45] [ENEMY] [Enemy6] Death animation component initialized
[06:57:45] [ENEMY] [Enemy7] Death animation component initialized
[06:57:45] [ENEMY] [Enemy8] Death animation component initialized
[06:57:45] [ENEMY] [Enemy9] Death animation component initialized
[06:57:45] [ENEMY] [Enemy10] Death animation component initialized
[06:57:45] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:57:45] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:57:45] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:57:45] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:57:45] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:57:45] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:57:45] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:57:45] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[06:57:45] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:57:45] [INFO] [ScoreManager] Level started with 10 enemies
[06:57:45] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[06:57:45] [ENEMY] [Enemy1] Registered as sound listener
[06:57:45] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[06:57:45] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[06:57:45] [ENEMY] [Enemy2] Registered as sound listener
[06:57:45] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[06:57:45] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[06:57:45] [ENEMY] [Enemy3] Registered as sound listener
[06:57:45] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[06:57:45] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[06:57:45] [ENEMY] [Enemy4] Registered as sound listener
[06:57:45] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[06:57:45] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[06:57:45] [ENEMY] [Enemy5] Registered as sound listener
[06:57:45] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[06:57:45] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[06:57:45] [ENEMY] [Enemy6] Registered as sound listener
[06:57:45] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[06:57:45] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[06:57:45] [ENEMY] [Enemy7] Registered as sound listener
[06:57:45] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[06:57:45] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[06:57:45] [ENEMY] [Enemy8] Registered as sound listener
[06:57:45] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[06:57:45] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[06:57:45] [ENEMY] [Enemy9] Registered as sound listener
[06:57:45] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[06:57:45] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[06:57:45] [ENEMY] [Enemy10] Registered as sound listener
[06:57:45] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[06:57:45] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:57:45] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:57:45] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:57:45] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:57:45] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:57:45] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:57:45] [INFO] [LastChance] Found player: Player
[06:57:45] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:57:45] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:57:45] [INFO] [LastChance] Connected to player Died signal (C#)
[06:57:45] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:57:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.004, 1519.036), source=ENEMY (Enemy10), range=1469, listeners=19
[06:57:45] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[06:57:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.385, 1499.191), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.598, 1478.078), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.619, 1455.831), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1022.124, 1432.944), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=4472117922305, bullet_pos=(47.54776, 866.3744)
[06:57:46] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[06:57:46] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[06:57:46] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[06:57:46] [INFO] [Bullet] Penetration failed (distance roll)
[06:57:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(987.8936, 1424.066), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=4472117922305, bullet_pos=(43.40149, 802.4432)
[06:57:46] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[06:57:46] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[06:57:46] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:57:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=4472117922305, bullet_pos=(240.4697, 710.4084)
[06:57:46] [INFO] [Bullet] Using shooter_position, distance=1110.21496582031
[06:57:46] [INFO] [Bullet] Distance to wall: 1110.21496582031 (75.5965785280119% of viewport)
[06:57:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.149, 1444.873), shooter_id=4472117922305, bullet_pos=(41.66475, 738.6735)
[06:57:46] [INFO] [Bullet] Using shooter_position, distance=1208.33276367188
[06:57:46] [INFO] [Bullet] Distance to wall: 1208.33276367188 (82.2775998064458% of viewport)
[06:57:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.149, 1444.873), shooter_id=4472117922305, bullet_pos=(98.18111, 688.1107)
[06:57:46] [INFO] [Bullet] Using shooter_position, distance=1194.32275390625
[06:57:46] [INFO] [Bullet] Distance to wall: 1194.32275390625 (81.323632479368% of viewport)
[06:57:46] [INFO] [Bullet] Distance-based penetration chance: 51.7890954407373%
[06:57:46] [INFO] [Bullet] Starting wall penetration at (98.18111, 688.1107)
[06:57:46] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:57:46] [INFO] [Bullet] Exiting penetration at (128.3025, 661.1624) after traveling 35.4166679382324 pixels through wall
[06:57:46] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[06:57:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.197, 1420.892), shooter_id=4472117922305, bullet_pos=(67.13266, 711.304)
[06:57:46] [INFO] [Bullet] Using shooter_position, distance=1166.66638183594
[06:57:46] [INFO] [Bullet] Distance to wall: 1166.66638183594 (79.4404592495165% of viewport)
[06:57:46] [INFO] [Bullet] Distance-based penetration chance: 53.9861308755641%
[06:57:46] [INFO] [Bullet] Starting wall penetration at (67.13266, 711.304)
[06:57:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 2.40611553192139
[06:57:46] [INFO] [Bullet] Max penetration distance exceeded: 83.3333358764648 >= 48
[06:57:46] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:46] [INFO] [Bullet] Exiting penetration at (-2.983624, 657.578) after traveling 83.3333358764648 pixels through wall
[06:57:46] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=4472117922305, bullet_pos=(500.9872, 801.3594)
[06:57:46] [INFO] [Bullet] Using shooter_position, distance=864.977661132813
[06:57:46] [INFO] [Bullet] Distance to wall: 864.977661132813 (58.8979195002006% of viewport)
[06:57:46] [INFO] [Bullet] Distance-based penetration chance: 77.952427249766%
[06:57:46] [INFO] [Bullet] Penetration failed (distance roll)
[06:57:46] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[06:57:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(964.1117, 1397.362), shooter_id=4472117922305, bullet_pos=(46.0722, 677.4216)
[06:57:46] [INFO] [Bullet] Using shooter_position, distance=1166.66650390625
[06:57:46] [INFO] [Bullet] Distance to wall: 1166.66650390625 (79.4404675615086% of viewport)
[06:57:46] [INFO] [Bullet] Distance-based penetration chance: 53.98612117824%
[06:57:46] [INFO] [Bullet] Starting wall penetration at (46.0722, 677.4216)
[06:57:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(396.2831, 807.2438), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:46] [ENEMY] [Enemy1] Heard gunshot at (396.2831, 807.2438), source_type=0, intensity=0.01, distance=467
[06:57:46] [ENEMY] [Enemy2] Heard gunshot at (396.2831, 807.2438), source_type=0, intensity=0.04, distance=257
[06:57:46] [ENEMY] [Enemy4] Heard gunshot at (396.2831, 807.2438), source_type=0, intensity=0.01, distance=414
[06:57:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28.7833690643311
[06:57:46] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:46] [INFO] [Bullet] Exiting penetration at (9.350609, 648.624) after traveling 41.6666679382324 pixels through wall
[06:57:46] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(402.7502, 793.4227), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(931.0218, 1386.598), shooter_id=4472117922305, bullet_pos=(100.5754, 690.9179)
[06:57:46] [INFO] [Bullet] Using shooter_position, distance=1083.33374023438
[06:57:46] [INFO] [Bullet] Distance to wall: 1083.33374023438 (73.7661864476502% of viewport)
[06:57:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(396.2831, 807.2438), shooter_id=4472940005063, bullet_pos=(516.282, 806.7407)
[06:57:46] [INFO] [Bullet] Using shooter_position, distance=119.999984741211
[06:57:46] [INFO] [Bullet] Distance to wall: 119.999984741211 (8.17101962154364% of viewport)
[06:57:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:46] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(411.989, 780.7496), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(931.0218, 1386.598), shooter_id=4472117922305, bullet_pos=(41.37637, 738.3117)
[06:57:46] [INFO] [Bullet] Using shooter_position, distance=1100.79248046875
[06:57:46] [INFO] [Bullet] Distance to wall: 1100.79248046875 (74.9549841740012% of viewport)
[06:57:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(647.6953, 760.1647), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(423.4627, 769.0021), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:46] [INFO] [LastChance] Threat detected: @Area2D@5528
[06:57:46] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(435.5127, 758.2587), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(647.6953, 760.1647), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(448.7107, 750.287), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:46] [INFO] [LastChance] Threat detected: @Area2D@5533
[06:57:46] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:46] [ENEMY] [Enemy3] Hit taken, health: 2/3
[06:57:46] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:46] [INFO] [ImpactEffects] spawn_blood_effect called at (647.6953, 760.1647), dir=(0.999562, -0.029592), lethal=false
[06:57:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:46] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:46] [INFO] [ImpactEffects] Blood effect spawned at (647.6953, 760.1647) (scale=0.9)
[06:57:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(463.0567, 745.0869), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:46] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:57:46] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:57:46] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:57:46] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:57:46] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:57:46] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:57:46] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:57:46] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:57:46] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:57:46] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:57:46] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:57:46] [ENEMY] [Enemy3] Hit taken, health: 1/3
[06:57:46] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:46] [INFO] [ImpactEffects] spawn_blood_effect called at (647.6953, 760.1647), dir=(0.999432, -0.0337), lethal=false
[06:57:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:46] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:46] [INFO] [ImpactEffects] Blood effect spawned at (647.6953, 760.1647) (scale=0.9)
[06:57:47] [ENEMY] [Enemy3] Hit taken, health: 0/3
[06:57:47] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:47] [INFO] [ImpactEffects] spawn_blood_effect called at (647.6953, 760.1647), dir=(0.99962, 0.027566), lethal=true
[06:57:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:47] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[06:57:47] [INFO] [ImpactEffects] Blood effect spawned at (647.6953, 760.1647) (scale=1.35)
[06:57:47] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[06:57:47] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[06:57:47] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[06:57:47] [INFO] [DeathAnim] Started - Angle: 1.6 deg, Index: 12
[06:57:47] [ENEMY] [Enemy3] Death animation started with hit direction: (0.99962, 0.027566)
[06:57:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(580.7036, 772.7814), shooter_id=4470121433770, bullet_pos=(65.3569, 809.688)
[06:57:47] [INFO] [Bullet] Using shooter_position, distance=516.66650390625
[06:57:47] [INFO] [Bullet] Distance to wall: 516.66650390625 (35.1807723169026% of viewport)
[06:57:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:47] [INFO] [Bullet] Starting wall penetration at (65.3569, 809.688)
[06:57:47] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:57:47] [INFO] [Bullet] Exiting penetration at (56.21365, 810.3428) after traveling 4.16666650772095 pixels through wall
[06:57:47] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:47] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:57:47] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:57:47] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:57:47] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:57:47] [ENEMY] [Enemy1] Death animation component initialized
[06:57:47] [ENEMY] [Enemy2] Death animation component initialized
[06:57:47] [ENEMY] [Enemy3] Death animation component initialized
[06:57:47] [ENEMY] [Enemy4] Death animation component initialized
[06:57:47] [ENEMY] [Enemy5] Death animation component initialized
[06:57:47] [ENEMY] [Enemy6] Death animation component initialized
[06:57:47] [ENEMY] [Enemy7] Death animation component initialized
[06:57:47] [ENEMY] [Enemy8] Death animation component initialized
[06:57:47] [ENEMY] [Enemy9] Death animation component initialized
[06:57:47] [ENEMY] [Enemy10] Death animation component initialized
[06:57:47] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:57:47] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:57:47] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:57:47] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:57:47] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:57:47] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:57:47] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:57:47] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[06:57:47] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:57:47] [INFO] [ScoreManager] Level started with 10 enemies
[06:57:47] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[06:57:47] [ENEMY] [Enemy1] Registered as sound listener
[06:57:47] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[06:57:47] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[06:57:47] [ENEMY] [Enemy2] Registered as sound listener
[06:57:47] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[06:57:47] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[06:57:47] [ENEMY] [Enemy3] Registered as sound listener
[06:57:47] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[06:57:47] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[06:57:47] [ENEMY] [Enemy4] Registered as sound listener
[06:57:47] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[06:57:47] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[06:57:47] [ENEMY] [Enemy5] Registered as sound listener
[06:57:47] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[06:57:47] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[06:57:47] [ENEMY] [Enemy6] Registered as sound listener
[06:57:47] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[06:57:47] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[06:57:47] [ENEMY] [Enemy7] Registered as sound listener
[06:57:47] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[06:57:47] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[06:57:47] [ENEMY] [Enemy8] Registered as sound listener
[06:57:47] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[06:57:47] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[06:57:47] [ENEMY] [Enemy9] Registered as sound listener
[06:57:47] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[06:57:47] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[06:57:47] [ENEMY] [Enemy10] Registered as sound listener
[06:57:47] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[06:57:47] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:57:47] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:57:47] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:57:47] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:57:47] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:57:47] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:57:47] [INFO] [LastChance] Found player: Player
[06:57:47] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:57:47] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:57:47] [INFO] [LastChance] Connected to player Died signal (C#)
[06:57:48] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:57:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.767, 1519.453), source=ENEMY (Enemy10), range=1469, listeners=19
[06:57:48] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[06:57:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1111.434, 1500.79), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1079.355, 1481.694), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.762, 1461.805), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1016.94, 1440.743), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.168, 1492.733), shooter_id=4647624378423, bullet_pos=(67.71408, 914.7854)
[06:57:48] [INFO] [Bullet] Using shooter_position, distance=1166.66687011719
[06:57:48] [INFO] [Bullet] Distance to wall: 1166.66687011719 (79.4404924974847% of viewport)
[06:57:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(986.0446, 1424.066), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1049.163, 1473.318), shooter_id=4647624378423, bullet_pos=(42.75586, 883.1856)
[06:57:49] [INFO] [Bullet] Using shooter_position, distance=1166.6669921875
[06:57:49] [INFO] [Bullet] Distance to wall: 1166.6669921875 (79.4405008094768% of viewport)
[06:57:49] [INFO] [Bullet] Distance-based penetration chance: 53.9860823889438%
[06:57:49] [INFO] [Bullet] Starting wall penetration at (42.75586, 883.1856)
[06:57:49] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.198070526123
[06:57:49] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:49] [INFO] [Bullet] Exiting penetration at (2.499569, 859.5804) after traveling 41.6666679382324 pixels through wall
[06:57:49] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1017.585, 1453.079), shooter_id=4647624378423, bullet_pos=(57.70169, 866.3524)
[06:57:49] [INFO] [Bullet] Using shooter_position, distance=1124.99926757813
[06:57:49] [INFO] [Bullet] Distance to wall: 1124.99926757813 (76.6032688206351% of viewport)
[06:57:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(955.2183, 1406.91), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:49] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:57:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(986.9792, 1431.112), shooter_id=4647624378423, bullet_pos=(47.44342, 812.3265)
[06:57:49] [INFO] [Bullet] Using shooter_position, distance=1124.99926757813
[06:57:49] [INFO] [Bullet] Distance to wall: 1124.99926757813 (76.6032688206351% of viewport)
[06:57:49] [INFO] [Bullet] Distance-based penetration chance: 57.2961863759258%
[06:57:49] [INFO] [Bullet] Starting wall penetration at (47.44342, 812.3265)
[06:57:49] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28.1747169494629
[06:57:49] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:49] [INFO] [Bullet] Exiting penetration at (8.470074, 786.6583) after traveling 41.6666679382324 pixels through wall
[06:57:49] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1017.585, 1453.079), shooter_id=4647624378423, bullet_pos=(379.1317, 706.0916)
[06:57:49] [INFO] [Bullet] Using shooter_position, distance=982.655700683594
[06:57:49] [INFO] [Bullet] Distance to wall: 982.655700683594 (66.9108336040472% of viewport)
[06:57:49] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[06:57:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(957.4246, 1407.66), shooter_id=4647624378423, bullet_pos=(43.21128, 752.0402)
[06:57:49] [INFO] [Bullet] Using shooter_position, distance=1124.99938964844
[06:57:49] [INFO] [Bullet] Distance to wall: 1124.99938964844 (76.6032771326271% of viewport)
[06:57:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(374.0659, 819.6512), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:49] [ENEMY] [Enemy1] Heard gunshot at (374.0659, 819.6512), source_type=0, intensity=0.01, distance=475
[06:57:49] [ENEMY] [Enemy2] Heard gunshot at (374.0659, 819.6512), source_type=0, intensity=0.03, distance=271
[06:57:49] [ENEMY] [Enemy4] Heard gunshot at (374.0659, 819.6512), source_type=0, intensity=0.01, distance=433
[06:57:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(957.4246, 1407.66), shooter_id=4647624378423, bullet_pos=(107.8134, 712.3256)
[06:57:49] [INFO] [Bullet] Using shooter_position, distance=1097.875
[06:57:49] [INFO] [Bullet] Distance to wall: 1097.875 (74.7563275641105% of viewport)
[06:57:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(378.6853, 805.0647), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(386.0764, 791.6262), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(374.0659, 819.6512), shooter_id=4648446462947, bullet_pos=(514.064, 820.3929)
[06:57:49] [INFO] [Bullet] Using shooter_position, distance=140.000015258789
[06:57:49] [INFO] [Bullet] Distance to wall: 140.000015258789 (9.53285847629876% of viewport)
[06:57:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:49] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(928.084, 1388.281), shooter_id=4647624378423, bullet_pos=(44.79697, 691.554)
[06:57:49] [INFO] [Bullet] Using shooter_position, distance=1125
[06:57:49] [INFO] [Bullet] Distance to wall: 1125 (76.6033186925873% of viewport)
[06:57:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(378.6853, 805.0647), shooter_id=4648446462947, bullet_pos=(498.6663, 807.2037)
[06:57:49] [INFO] [Bullet] Using shooter_position, distance=120.000022888184
[06:57:49] [INFO] [Bullet] Distance to wall: 120.000022888184 (8.17102221904116% of viewport)
[06:57:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:49] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(396.239, 779.3358), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(898.9871, 1368.475), shooter_id=4647624378423, bullet_pos=(143.4631, 713.3535)
[06:57:49] [INFO] [Bullet] Using shooter_position, distance=1000.00024414063
[06:57:49] [INFO] [Bullet] Distance to wall: 1000.00024414063 (68.0918554618395% of viewport)
[06:57:49] [INFO] [Bullet] Distance-based penetration chance: 67.2261686278539%
[06:57:49] [INFO] [Bullet] Starting wall penetration at (143.4631, 713.3535)
[06:57:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(632.3632, 763.4033), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:49] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7.96608638763428
[06:57:49] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:49] [INFO] [Bullet] Exiting penetration at (108.2053, 682.7813) after traveling 41.6666679382324 pixels through wall
[06:57:49] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(408.1533, 769.2487), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:49] [INFO] [LastChance] Threat detected: Bullet
[06:57:49] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1017.585, 1453.079), shooter_id=4647624378423, bullet_pos=(840.2446, 1000.111)
[06:57:49] [INFO] [Bullet] Using shooter_position, distance=486.44580078125
[06:57:49] [INFO] [Bullet] Distance to wall: 486.44580078125 (33.1229890701484% of viewport)
[06:57:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(421.3091, 761.8926), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(928.084, 1388.281), shooter_id=4647624378423, bullet_pos=(274.1138, 463.0197)
[06:57:49] [INFO] [Bullet] Using shooter_position, distance=1133.04296875
[06:57:49] [INFO] [Bullet] Distance to wall: 1133.04296875 (77.1509792244902% of viewport)
[06:57:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(957.4246, 1407.66), shooter_id=4647624378423, bullet_pos=(512.243, 983.0306)
[06:57:49] [INFO] [Bullet] Using shooter_position, distance=615.221069335938
[06:57:49] [INFO] [Bullet] Distance to wall: 615.221069335938 (41.8915339028757% of viewport)
[06:57:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1017.585, 1453.079), shooter_id=4647624378423, bullet_pos=(921.0081, 929.3846)
[06:57:49] [INFO] [Bullet] Using shooter_position, distance=532.524780273438
[06:57:49] [INFO] [Bullet] Distance to wall: 532.524780273438 (36.2605915155433% of viewport)
[06:57:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(632.3632, 763.4033), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(435.7065, 757.2676), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:49] [INFO] [LastChance] Threat detected: @Area2D@5840
[06:57:49] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:49] [ENEMY] [Enemy3] Hit taken, health: 3/4
[06:57:49] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:49] [INFO] [ImpactEffects] spawn_blood_effect called at (632.3632, 763.4033), dir=(0.999692, -0.024808), lethal=false
[06:57:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:49] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:49] [INFO] [ImpactEffects] Blood effect spawned at (632.3632, 763.4033) (scale=0.9)
[06:57:49] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[06:57:49] [ENEMY] [Enemy2] Hit taken, health: 3/4
[06:57:49] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:49] [INFO] [ImpactEffects] spawn_blood_effect called at (398.0494, 571.2439), dir=(0.694798, 0.719205), lethal=false
[06:57:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:49] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:49] [INFO] [ImpactEffects] Blood effect spawned at (398.0494, 571.2439) (scale=1)
[06:57:49] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[06:57:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.3455, 755.3735), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:49] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[06:57:49] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[06:57:49] [ENEMY] [Enemy3] Hit taken, health: 2/4
[06:57:49] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:49] [INFO] [ImpactEffects] spawn_blood_effect called at (632.3632, 763.4033), dir=(0.999866, -0.01637), lethal=false
[06:57:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:49] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:49] [INFO] [ImpactEffects] Blood effect spawned at (632.3632, 763.4033) (scale=0.9)
[06:57:49] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[06:57:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(565.0344, 774.7661), shooter_id=4645627890912, bullet_pos=(65.73006, 801.1332)
[06:57:49] [INFO] [Bullet] Using shooter_position, distance=500.000091552734
[06:57:49] [INFO] [Bullet] Distance to wall: 500.000091552734 (34.0459256529217% of viewport)
[06:57:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:49] [INFO] [Bullet] Starting wall penetration at (65.73006, 801.1332)
[06:57:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(467.8344, 755.3491), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:49] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12.889609336853
[06:57:49] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:49] [INFO] [Bullet] Exiting penetration at (19.12833, 803.5942) after traveling 41.6666641235352 pixels through wall
[06:57:49] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:49] [ENEMY] [Enemy3] Hit taken, health: 1/4
[06:57:49] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:49] [INFO] [ImpactEffects] spawn_blood_effect called at (632.3632, 763.4033), dir=(0.995676, 0.092888), lethal=false
[06:57:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:49] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:49] [INFO] [ImpactEffects] Blood effect spawned at (632.3632, 763.4033) (scale=0.9)
[06:57:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(632.3632, 763.4033), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:49] [INFO] [LastChance] Threat detected: @Area2D@5851
[06:57:49] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:49] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:57:49] [ENEMY] [Enemy3] Hit taken, health: 0/4
[06:57:49] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:49] [INFO] [ImpactEffects] spawn_blood_effect called at (632.3632, 763.4033), dir=(0.995583, 0.093886), lethal=true
[06:57:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:49] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[06:57:49] [INFO] [ImpactEffects] Blood effect spawned at (632.3632, 763.4033) (scale=1.35)
[06:57:49] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[06:57:49] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[06:57:49] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[06:57:49] [INFO] [DeathAnim] Started - Angle: 5.4 deg, Index: 12
[06:57:49] [ENEMY] [Enemy3] Death animation started with hit direction: (0.995583, 0.093886)
[06:57:49] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[06:57:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(484.3344, 755.3491), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:57:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[06:57:49] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:57:49] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:57:49] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:57:49] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:57:49] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:57:49] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:57:49] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:57:49] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:57:49] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:57:49] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:57:49] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:57:49] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[06:57:49] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[06:57:49] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[06:57:49] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[06:57:50] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:57:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(386.0764, 791.6262), shooter_id=4648446462947, bullet_pos=(909.9924, 801.0103)
[06:57:50] [INFO] [Bullet] Using shooter_position, distance=524.000061035156
[06:57:50] [INFO] [Bullet] Distance to wall: 524.000061035156 (35.6801277070323% of viewport)
[06:57:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:50] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:50] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:50] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:50] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:57:50] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:57:50] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:57:50] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:57:50] [ENEMY] [Enemy1] Death animation component initialized
[06:57:50] [ENEMY] [Enemy2] Death animation component initialized
[06:57:50] [ENEMY] [Enemy3] Death animation component initialized
[06:57:50] [ENEMY] [Enemy4] Death animation component initialized
[06:57:50] [ENEMY] [Enemy5] Death animation component initialized
[06:57:50] [ENEMY] [Enemy6] Death animation component initialized
[06:57:50] [ENEMY] [Enemy7] Death animation component initialized
[06:57:50] [ENEMY] [Enemy8] Death animation component initialized
[06:57:50] [ENEMY] [Enemy9] Death animation component initialized
[06:57:50] [ENEMY] [Enemy10] Death animation component initialized
[06:57:50] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:57:50] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:57:50] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:57:50] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:57:50] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:57:50] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:57:50] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:57:50] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[06:57:50] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:57:50] [INFO] [ScoreManager] Level started with 10 enemies
[06:57:50] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[06:57:50] [ENEMY] [Enemy1] Registered as sound listener
[06:57:50] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[06:57:50] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[06:57:50] [ENEMY] [Enemy2] Registered as sound listener
[06:57:50] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[06:57:50] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[06:57:50] [ENEMY] [Enemy3] Registered as sound listener
[06:57:50] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[06:57:50] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[06:57:50] [ENEMY] [Enemy4] Registered as sound listener
[06:57:50] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[06:57:50] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[06:57:50] [ENEMY] [Enemy5] Registered as sound listener
[06:57:50] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[06:57:50] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[06:57:50] [ENEMY] [Enemy6] Registered as sound listener
[06:57:50] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[06:57:50] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[06:57:50] [ENEMY] [Enemy7] Registered as sound listener
[06:57:50] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[06:57:50] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[06:57:50] [ENEMY] [Enemy8] Registered as sound listener
[06:57:50] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[06:57:50] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[06:57:50] [ENEMY] [Enemy9] Registered as sound listener
[06:57:50] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[06:57:50] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[06:57:50] [ENEMY] [Enemy10] Registered as sound listener
[06:57:50] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[06:57:50] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:57:50] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:57:50] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:57:50] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:57:50] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:57:50] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:57:50] [INFO] [LastChance] Found player: Player
[06:57:50] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:57:50] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:57:50] [INFO] [LastChance] Connected to player Died signal (C#)
[06:57:51] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:57:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.758, 1519.476), source=ENEMY (Enemy10), range=1469, listeners=19
[06:57:51] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[06:57:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1111.856, 1500.089), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1080.685, 1479.546), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1050.285, 1457.88), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1020.687, 1435.128), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.462, 1491.992), shooter_id=4833885030708, bullet_pos=(39.08952, 880.8221)
[06:57:52] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[06:57:52] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[06:57:52] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:57:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1050.611, 1470.336), shooter_id=4833885030708, bullet_pos=(66.53369, 843.6754)
[06:57:52] [INFO] [Bullet] Using shooter_position, distance=1166.66723632813
[06:57:52] [INFO] [Bullet] Distance to wall: 1166.66723632813 (79.4405174334609% of viewport)
[06:57:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.462, 1491.992), shooter_id=4833885030708, bullet_pos=(261.2957, 697.0817)
[06:57:52] [INFO] [Bullet] Using shooter_position, distance=1142.17163085938
[06:57:52] [INFO] [Bullet] Distance to wall: 1142.17163085938 (77.772566613647% of viewport)
[06:57:52] [INFO] [LastChance] Threat detected: Bullet
[06:57:52] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:52] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[06:57:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1020.57, 1447.573), shooter_id=4833885030708, bullet_pos=(60.06091, 785.3549)
[06:57:52] [INFO] [Bullet] Using shooter_position, distance=1166.66662597656
[06:57:52] [INFO] [Bullet] Distance to wall: 1166.66662597656 (79.4404758735006% of viewport)
[06:57:52] [INFO] [Bullet] Distance-based penetration chance: 53.9861114809159%
[06:57:52] [INFO] [Bullet] Starting wall penetration at (60.06091, 785.3549)
[06:57:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1050.611, 1470.336), shooter_id=4833885030708, bullet_pos=(275.0164, 700.491)
[06:57:52] [INFO] [Bullet] Using shooter_position, distance=1092.79858398438
[06:57:52] [INFO] [Bullet] Distance to wall: 1092.79858398438 (74.4106650629007% of viewport)
[06:57:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12.5829334259033
[06:57:52] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:52] [INFO] [Bullet] Exiting penetration at (21.64055, 758.8661) after traveling 41.6666679382324 pixels through wall
[06:57:52] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(363.5045, 803.3342), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:52] [ENEMY] [Enemy1] Heard gunshot at (363.5045, 803.3342), source_type=0, intensity=0.01, distance=458
[06:57:52] [ENEMY] [Enemy2] Heard gunshot at (363.5045, 803.3342), source_type=0, intensity=0.04, distance=256
[06:57:52] [ENEMY] [Enemy4] Heard gunshot at (363.5045, 803.3342), source_type=0, intensity=0.01, distance=447
[06:57:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.462, 1491.992), shooter_id=4833885030708, bullet_pos=(503.1931, 930.4907)
[06:57:52] [INFO] [Bullet] Using shooter_position, distance=806.02685546875
[06:57:52] [INFO] [Bullet] Distance to wall: 806.02685546875 (54.8838507415615% of viewport)
[06:57:52] [INFO] [Bullet] Distance-based penetration chance: 82.6355074681782%
[06:57:52] [INFO] [Bullet] Starting wall penetration at (503.1931, 930.4907)
[06:57:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(367.2001, 788.365), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6.19054460525513
[06:57:52] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:52] [INFO] [Bullet] Exiting penetration at (528.4548, 954.866) after traveling 30.1041679382324 pixels through wall
[06:57:52] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[06:57:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(991.3696, 1423.747), shooter_id=4833885030708, bullet_pos=(55.52767, 727.1039)
[06:57:52] [INFO] [Bullet] Using shooter_position, distance=1166.66674804688
[06:57:52] [INFO] [Bullet] Distance to wall: 1166.66674804688 (79.4404841854927% of viewport)
[06:57:52] [INFO] [Bullet] Distance-based penetration chance: 53.9861017835919%
[06:57:52] [INFO] [Bullet] Penetration failed (distance roll)
[06:57:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1050.611, 1470.336), shooter_id=4833885030708, bullet_pos=(516.7301, 833.5923)
[06:57:52] [INFO] [Bullet] Using shooter_position, distance=830.9462890625
[06:57:52] [INFO] [Bullet] Distance to wall: 830.9462890625 (56.5806607977578% of viewport)
[06:57:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(373.6672, 774.5438), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(363.5045, 803.3342), shooter_id=4834707114185, bullet_pos=(503.4712, 806.386)
[06:57:52] [INFO] [Bullet] Using shooter_position, distance=139.999938964844
[06:57:52] [INFO] [Bullet] Distance to wall: 139.999938964844 (9.53285328130373% of viewport)
[06:57:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:52] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.9202, 760.1957), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:52] [INFO] [LastChance] Threat detected: Bullet
[06:57:52] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(382.906, 761.8707), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(963.0367, 1398.901), shooter_id=4833885030708, bullet_pos=(52.82781, 669.0863)
[06:57:52] [INFO] [Bullet] Using shooter_position, distance=1166.66625976563
[06:57:52] [INFO] [Bullet] Distance to wall: 1166.66625976563 (79.4404509375245% of viewport)
[06:57:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(394.4065, 750.8733), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(620.9358, 760.8915), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:52] [INFO] [LastChance] Threat detected: @Area2D@6145
[06:57:52] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(407.1484, 742.6069), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:52] [ENEMY] [Enemy3] Hit taken, health: 3/4
[06:57:52] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:52] [INFO] [ImpactEffects] spawn_blood_effect called at (620.9358, 760.8915), dir=(0.999936, -0.011329), lethal=false
[06:57:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:52] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:52] [INFO] [ImpactEffects] Blood effect spawned at (620.9358, 760.8915) (scale=0.9)
[06:57:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(421.132, 737.0715), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(963.0367, 1398.901), shooter_id=4833885030708, bullet_pos=(248.6895, 457.4868)
[06:57:52] [INFO] [Bullet] Using shooter_position, distance=1181.75854492188
[06:57:52] [INFO] [Bullet] Distance to wall: 1181.75854492188 (80.4681123860788% of viewport)
[06:57:52] [ENEMY] [Enemy3] Hit taken, health: 2/4
[06:57:52] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:52] [INFO] [ImpactEffects] spawn_blood_effect called at (620.9358, 760.8915), dir=(0.999895, -0.014461), lethal=false
[06:57:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:52] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:52] [INFO] [ImpactEffects] Blood effect spawned at (620.9358, 760.8915) (scale=0.9)
[06:57:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(569.718, 771.669), shooter_id=4831888541346, bullet_pos=(28.854, 801.1475)
[06:57:52] [INFO] [Bullet] Using shooter_position, distance=541.666687011719
[06:57:52] [INFO] [Bullet] Distance to wall: 541.666687011719 (36.883080755837% of viewport)
[06:57:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:52] [INFO] [Bullet] Starting wall penetration at (28.854, 801.1475)
[06:57:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(620.9358, 760.8915), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(436.3571, 734.2671), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 49.8173370361328
[06:57:52] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:52] [INFO] [Bullet] Exiting penetration at (-17.74351, 803.6872) after traveling 41.6666679382324 pixels through wall
[06:57:52] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:52] [INFO] [LastChance] Threat detected: @Area2D@6154
[06:57:52] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:52] [ENEMY] [Enemy3] Hit taken, health: 1/4
[06:57:52] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:52] [INFO] [ImpactEffects] spawn_blood_effect called at (620.9358, 760.8915), dir=(0.994102, 0.108452), lethal=false
[06:57:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:52] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:52] [INFO] [ImpactEffects] Blood effect spawned at (620.9358, 760.8915) (scale=0.9)
[06:57:52] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:57:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(452.6969, 733.9147), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:52] [ENEMY] [Enemy3] Hit taken, health: 0/4
[06:57:52] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:52] [INFO] [ImpactEffects] spawn_blood_effect called at (619.0933, 758.9637), dir=(0.994074, 0.10871), lethal=true
[06:57:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:52] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[06:57:52] [INFO] [ImpactEffects] Blood effect spawned at (619.0933, 758.9637) (scale=1.35)
[06:57:52] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[06:57:52] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[06:57:52] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[06:57:52] [INFO] [DeathAnim] Started - Angle: 6.2 deg, Index: 12
[06:57:52] [ENEMY] [Enemy3] Death animation started with hit direction: (0.994074, 0.10871)
[06:57:52] [INFO] [LastChance] Threat detected: @Area2D@6125
[06:57:52] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(552.8814, 764.7029), shooter_id=4831888541346, bullet_pos=(53.7433, 735.3562)
[06:57:52] [INFO] [Bullet] Using shooter_position, distance=500.000091552734
[06:57:52] [INFO] [Bullet] Distance to wall: 500.000091552734 (34.0459256529217% of viewport)
[06:57:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(963.0367, 1398.901), shooter_id=4833885030708, bullet_pos=(428.0989, 705.426)
[06:57:52] [INFO] [Bullet] Using shooter_position, distance=875.823303222656
[06:57:52] [INFO] [Bullet] Distance to wall: 875.823303222656 (59.6364192134753% of viewport)
[06:57:52] [INFO] [Bullet] Distance-based penetration chance: 77.0908442509455%
[06:57:52] [INFO] [Bullet] Starting wall penetration at (428.0989, 705.426)
[06:57:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26.9895763397217
[06:57:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(552.8392, 759.4377), shooter_id=4831888541346, bullet_pos=(222.5887, 714.2083)
[06:57:52] [INFO] [Bullet] Using shooter_position, distance=333.333282470703
[06:57:52] [INFO] [Bullet] Distance to wall: 333.333282470703 (22.6972761492885% of viewport)
[06:57:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:52] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:52] [INFO] [Bullet] Exiting penetration at (448.6778, 733.8655) after traveling 30.1041736602783 pixels through wall
[06:57:52] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[06:57:52] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[06:57:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(552.8814, 764.7029), shooter_id=4831888541346, bullet_pos=(198.7565, 713.3954)
[06:57:52] [INFO] [Bullet] Using shooter_position, distance=357.822418212891
[06:57:52] [INFO] [Bullet] Distance to wall: 357.822418212891 (24.3647864335238% of viewport)
[06:57:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(367.2001, 788.365), shooter_id=4834707114185, bullet_pos=(926.8429, 808.3687)
[06:57:52] [INFO] [Bullet] Using shooter_position, distance=560.000244140625
[06:57:52] [INFO] [Bullet] Distance to wall: 560.000244140625 (38.1314463731831% of viewport)
[06:57:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:52] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:52] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[06:57:52] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[06:57:52] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[06:57:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(421.132, 737.0715), shooter_id=4834707114185, bullet_pos=(690.7576, 812.5838)
[06:57:52] [INFO] [Bullet] Using shooter_position, distance=280.000122070313
[06:57:52] [INFO] [Bullet] Distance to wall: 280.000122070313 (19.0657231865916% of viewport)
[06:57:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:52] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[06:57:52] [INFO] [LastChance] Threat detected: @Area2D@6154
[06:57:52] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:52] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[06:57:52] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[06:57:52] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:57:52] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[06:57:52] [INFO] [LastChance] Threat detected: @Area2D@6145
[06:57:52] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:52] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[06:57:52] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[06:57:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(398.4791, 560.5576), source=ENEMY (Enemy2), range=1469, listeners=9
[06:57:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:57:53] [INFO] [LastChance] Threat detected: Bullet
[06:57:53] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(436.3571, 734.2671), shooter_id=4834707114185, bullet_pos=(910.3732, 809.8223)
[06:57:53] [INFO] [Bullet] Using shooter_position, distance=479.999877929688
[06:57:53] [INFO] [Bullet] Distance to wall: 479.999877929688 (32.6840743301786% of viewport)
[06:57:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:53] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(398.4791, 560.5576), source=ENEMY (Enemy2), range=1469, listeners=9
[06:57:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:57:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(452.6969, 733.9147), shooter_id=4834707114185, bullet_pos=(910.0928, 685.0383)
[06:57:53] [INFO] [Bullet] Using shooter_position, distance=459.999938964844
[06:57:53] [INFO] [Bullet] Distance to wall: 459.999938964844 (31.3222417094175% of viewport)
[06:57:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:53] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:53] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:57:53] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:57:53] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:57:53] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:57:53] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:57:53] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:57:53] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:57:53] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:57:53] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:57:53] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:57:53] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:57:53] [INFO] [LastChance] Threat detected: @Area2D@6172
[06:57:53] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(398.4791, 560.5576), source=ENEMY (Enemy2), range=1469, listeners=9
[06:57:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:57:53] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:57:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:53] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:57:53] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:57:53] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:57:53] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:57:53] [ENEMY] [Enemy1] Death animation component initialized
[06:57:53] [ENEMY] [Enemy2] Death animation component initialized
[06:57:53] [ENEMY] [Enemy3] Death animation component initialized
[06:57:53] [ENEMY] [Enemy4] Death animation component initialized
[06:57:53] [ENEMY] [Enemy5] Death animation component initialized
[06:57:53] [ENEMY] [Enemy6] Death animation component initialized
[06:57:53] [ENEMY] [Enemy7] Death animation component initialized
[06:57:53] [ENEMY] [Enemy8] Death animation component initialized
[06:57:53] [ENEMY] [Enemy9] Death animation component initialized
[06:57:53] [ENEMY] [Enemy10] Death animation component initialized
[06:57:53] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:57:53] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:57:53] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:57:53] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:57:53] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:57:53] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:57:53] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:57:53] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[06:57:53] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:57:53] [INFO] [ScoreManager] Level started with 10 enemies
[06:57:53] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[06:57:53] [ENEMY] [Enemy1] Registered as sound listener
[06:57:53] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[06:57:53] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[06:57:53] [ENEMY] [Enemy2] Registered as sound listener
[06:57:53] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[06:57:53] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[06:57:53] [ENEMY] [Enemy3] Registered as sound listener
[06:57:53] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[06:57:53] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[06:57:53] [ENEMY] [Enemy4] Registered as sound listener
[06:57:53] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[06:57:53] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[06:57:53] [ENEMY] [Enemy5] Registered as sound listener
[06:57:53] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[06:57:53] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[06:57:53] [ENEMY] [Enemy6] Registered as sound listener
[06:57:53] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[06:57:53] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[06:57:53] [ENEMY] [Enemy7] Registered as sound listener
[06:57:53] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[06:57:53] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[06:57:53] [ENEMY] [Enemy8] Registered as sound listener
[06:57:53] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[06:57:53] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[06:57:53] [ENEMY] [Enemy9] Registered as sound listener
[06:57:53] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[06:57:53] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[06:57:53] [ENEMY] [Enemy10] Registered as sound listener
[06:57:53] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[06:57:53] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:57:53] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:57:53] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:57:53] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:57:53] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:57:53] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:57:53] [INFO] [LastChance] Found player: Player
[06:57:53] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:57:53] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:57:53] [INFO] [LastChance] Connected to player Died signal (C#)
[06:57:54] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:57:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.639, 1519.698), source=ENEMY (Enemy10), range=1469, listeners=19
[06:57:54] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[06:57:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1111.687, 1500.393), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1080.494, 1479.884), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1050.102, 1458.206), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1020.545, 1435.402), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.253, 1492.413), shooter_id=5042409048804, bullet_pos=(36.92289, 884.5949)
[06:57:55] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[06:57:55] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[06:57:55] [INFO] [Bullet] Distance-based penetration chance: 50.6760947698504%
[06:57:55] [INFO] [Bullet] Starting wall penetration at (36.92289, 884.5949)
[06:57:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40.9706878662109
[06:57:55] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:55] [INFO] [Bullet] Exiting penetration at (-3.409866, 861.1205) after traveling 41.6666679382324 pixels through wall
[06:57:55] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:55] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:57:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1050.39, 1470.745), shooter_id=5042409048804, bullet_pos=(65.22879, 845.7893)
[06:57:55] [INFO] [Bullet] Using shooter_position, distance=1166.66674804688
[06:57:55] [INFO] [Bullet] Distance to wall: 1166.66674804688 (79.4404841854927% of viewport)
[06:57:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1050.39, 1470.745), shooter_id=5042409048804, bullet_pos=(234.584, 709.3157)
[06:57:55] [INFO] [Bullet] Using shooter_position, distance=1115.93603515625
[06:57:55] [INFO] [Bullet] Distance to wall: 1115.93603515625 (75.9861366592147% of viewport)
[06:57:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1020.369, 1447.926), shooter_id=5042409048804, bullet_pos=(59.6898, 785.9542)
[06:57:55] [INFO] [Bullet] Using shooter_position, distance=1166.66687011719
[06:57:55] [INFO] [Bullet] Distance to wall: 1166.66687011719 (79.4404924974847% of viewport)
[06:57:55] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[06:57:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1020.369, 1447.926), shooter_id=5042409048804, bullet_pos=(222.6644, 704.7532)
[06:57:55] [INFO] [Bullet] Using shooter_position, distance=1090.24719238281
[06:57:55] [INFO] [Bullet] Distance to wall: 1090.24719238281 (74.2369361171548% of viewport)
[06:57:55] [INFO] [LastChance] Threat detected: @Area2D@6432
[06:57:55] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(991.2261, 1424.002), shooter_id=5042409048804, bullet_pos=(56.2168, 726.2417)
[06:57:55] [INFO] [Bullet] Using shooter_position, distance=1166.66711425781
[06:57:55] [INFO] [Bullet] Distance to wall: 1166.66711425781 (79.4405091214688% of viewport)
[06:57:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1050.39, 1470.745), shooter_id=5042409048804, bullet_pos=(509.701, 902.4603)
[06:57:55] [INFO] [Bullet] Using shooter_position, distance=784.405212402344
[06:57:55] [INFO] [Bullet] Distance to wall: 784.405212402344 (53.4115933064741% of viewport)
[06:57:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(367.9392, 779.0609), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:55] [ENEMY] [Enemy1] Heard gunshot at (367.9392, 779.0609), source_type=0, intensity=0.01, distance=434
[06:57:55] [ENEMY] [Enemy2] Heard gunshot at (367.9392, 779.0609), source_type=0, intensity=0.05, distance=231
[06:57:55] [ENEMY] [Enemy4] Heard gunshot at (367.9392, 779.0609), source_type=0, intensity=0.01, distance=449
[06:57:55] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(962.9885, 1399.023), shooter_id=5042409048804, bullet_pos=(54.69057, 666.8302)
[06:57:55] [INFO] [Bullet] Using shooter_position, distance=1166.6669921875
[06:57:55] [INFO] [Bullet] Distance to wall: 1166.6669921875 (79.4405008094768% of viewport)
[06:57:55] [INFO] [Bullet] Distance-based penetration chance: 53.9860823889438%
[06:57:55] [INFO] [Bullet] Penetration failed (distance roll)
[06:57:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.9804, 760.4949), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1020.369, 1447.926), shooter_id=5042409048804, bullet_pos=(519.6732, 862.1696)
[06:57:55] [INFO] [Bullet] Using shooter_position, distance=770.588806152344
[06:57:55] [INFO] [Bullet] Distance to wall: 770.588806152344 (52.4708087987808% of viewport)
[06:57:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(373.4825, 764.8571), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:55] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:55] [INFO] [LastChance] Threat detected: Bullet
[06:57:55] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(381.4346, 752.2463), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:55] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(615.6583, 761.1108), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[06:57:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(391.07, 742.1188), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:55] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:55] [INFO] [LastChance] Threat detected: @Area2D@6452
[06:57:55] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:55] [ENEMY] [Enemy3] Hit taken, health: 2/3
[06:57:55] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:55] [INFO] [ImpactEffects] spawn_blood_effect called at (615.6583, 761.1108), dir=(0.998821, -0.048535), lethal=false
[06:57:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:55] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:55] [INFO] [ImpactEffects] Blood effect spawned at (615.6583, 761.1108) (scale=0.9)
[06:57:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(402.3886, 734.4746), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:55] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:55] [ENEMY] [Enemy3] Hit taken, health: 1/3
[06:57:55] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:55] [INFO] [ImpactEffects] spawn_blood_effect called at (615.6583, 761.1108), dir=(0.99704, -0.076883), lethal=false
[06:57:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:55] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:55] [INFO] [ImpactEffects] Blood effect spawned at (615.6583, 761.1108) (scale=0.9)
[06:57:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(415.3904, 729.3137), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:55] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(569.7299, 771.7491), shooter_id=5040412559298, bullet_pos=(28.77268, 799.4622)
[06:57:55] [INFO] [Bullet] Using shooter_position, distance=541.666625976563
[06:57:55] [INFO] [Bullet] Distance to wall: 541.666625976563 (36.883076599841% of viewport)
[06:57:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:55] [INFO] [Bullet] Starting wall penetration at (28.77268, 799.4622)
[06:57:55] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[06:57:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(615.6583, 761.1108), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 49.8982162475586
[06:57:55] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:55] [INFO] [Bullet] Exiting penetration at (-17.83287, 801.8497) after traveling 41.6666679382324 pixels through wall
[06:57:55] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:55] [INFO] [LastChance] Threat detected: @Area2D@6461
[06:57:55] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:55] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[06:57:55] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[06:57:55] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:57:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(430.2218, 728.0663), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:55] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(415.3904, 729.3137), shooter_id=5043231132521, bullet_pos=(494.0034, 714.4814)
[06:57:55] [INFO] [Bullet] Using shooter_position, distance=80.0000381469727
[06:57:55] [INFO] [Bullet] Distance to wall: 80.0000381469727 (5.44734970452595% of viewport)
[06:57:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:55] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:55] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[06:57:55] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[06:57:55] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[06:57:55] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[06:57:55] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:57:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(547.5589, 764.1819), shooter_id=5040412559298, bullet_pos=(48.76928, 729.4131)
[06:57:55] [INFO] [Bullet] Using shooter_position, distance=499.999938964844
[06:57:55] [INFO] [Bullet] Distance to wall: 499.999938964844 (34.0459152629317% of viewport)
[06:57:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:55] [INFO] [Bullet] Starting wall penetration at (48.76928, 729.4131)
[06:57:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.8567008972168
[06:57:55] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:55] [INFO] [Bullet] Exiting penetration at (2.215572, 726.168) after traveling 41.6666679382324 pixels through wall
[06:57:55] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(612.7167, 768.5504), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:55] [INFO] [LastChance] Threat detected: Bullet
[06:57:55] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(608.7947, 778.4698), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:55] [INFO] [LastChance] Threat detected: @Area2D@6467
[06:57:55] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:55] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[06:57:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(604.8729, 788.3893), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(542.9883, 761.1458), shooter_id=5040412559298, bullet_pos=(385.5081, 706.577)
[06:57:55] [INFO] [Bullet] Using shooter_position, distance=166.66667175293
[06:57:55] [INFO] [Bullet] Distance to wall: 166.66667175293 (11.3486401526422% of viewport)
[06:57:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(381.4346, 752.2463), shooter_id=5043231132521, bullet_pos=(916.9141, 682.5166)
[06:57:55] [INFO] [Bullet] Using shooter_position, distance=540.00048828125
[06:57:55] [INFO] [Bullet] Distance to wall: 540.00048828125 (36.7696262204101% of viewport)
[06:57:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:55] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:55] [INFO] [LastChance] Threat detected: @Area2D@6469
[06:57:55] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:56] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:57:56] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:57:56] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:57:56] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:57:56] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:57:56] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:57:56] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:57:56] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:57:56] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:57:56] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:57:56] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:57:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(545.3398, 759.0135), shooter_id=5040412559298, bullet_pos=(131.0339, 714.7215)
[06:57:56] [INFO] [Bullet] Using shooter_position, distance=416.666809082031
[06:57:56] [INFO] [Bullet] Distance to wall: 416.666809082031 (28.3716092130971% of viewport)
[06:57:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:56] [INFO] [Bullet] Starting wall penetration at (131.0339, 714.7215)
[06:57:56] [INFO] [Bullet] Raycast forward hit penetrating body at distance 16.4352684020996
[06:57:56] [INFO] [Bullet] Raycast forward hit penetrating body at distance 12.2684488296509
[06:57:56] [INFO] [Bullet] Raycast forward hit penetrating body at distance 8.10165882110596
[06:57:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(391.07, 742.1188), shooter_id=5043231132521, bullet_pos=(910.6025, 659.8879)
[06:57:56] [INFO] [Bullet] Using shooter_position, distance=526
[06:57:56] [INFO] [Bullet] Distance to wall: 526 (35.8163072287119% of viewport)
[06:57:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:56] [INFO] [Bullet] Caliber cannot penetrate walls
[06:57:56] [INFO] [Bullet] Raycast forward hit penetrating body at distance 3.93485379219055
[06:57:56] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:57:56] [INFO] [Bullet] Exiting penetration at (105.3469, 711.9753) after traveling 20.8333349227905 pixels through wall
[06:57:56] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(600.3631, 799.7966), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:56] [INFO] [LastChance] Threat detected: Bullet
[06:57:56] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:56] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[06:57:56] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[06:57:56] [INFO] [PenultimateHit] Player died - ending penultimate effect
[06:57:56] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:57:56] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:57:56] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[06:57:56] [INFO] [LastChance] Player died
[06:57:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:56] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:57:56] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:57:56] [ENEMY] [Enemy1] Death animation component initialized
[06:57:56] [ENEMY] [Enemy2] Death animation component initialized
[06:57:56] [ENEMY] [Enemy3] Death animation component initialized
[06:57:56] [ENEMY] [Enemy4] Death animation component initialized
[06:57:56] [ENEMY] [Enemy5] Death animation component initialized
[06:57:56] [ENEMY] [Enemy6] Death animation component initialized
[06:57:56] [ENEMY] [Enemy7] Death animation component initialized
[06:57:56] [ENEMY] [Enemy8] Death animation component initialized
[06:57:56] [ENEMY] [Enemy9] Death animation component initialized
[06:57:56] [ENEMY] [Enemy10] Death animation component initialized
[06:57:56] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:57:56] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:57:56] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:57:56] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:57:56] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:57:56] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:57:56] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:57:56] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[06:57:56] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:57:56] [INFO] [ScoreManager] Level started with 10 enemies
[06:57:56] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[06:57:56] [ENEMY] [Enemy1] Registered as sound listener
[06:57:56] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[06:57:56] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[06:57:56] [ENEMY] [Enemy2] Registered as sound listener
[06:57:56] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[06:57:56] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[06:57:56] [ENEMY] [Enemy3] Registered as sound listener
[06:57:56] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[06:57:56] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[06:57:56] [ENEMY] [Enemy4] Registered as sound listener
[06:57:56] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[06:57:56] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[06:57:56] [ENEMY] [Enemy5] Registered as sound listener
[06:57:56] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[06:57:56] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[06:57:56] [ENEMY] [Enemy6] Registered as sound listener
[06:57:56] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[06:57:56] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[06:57:56] [ENEMY] [Enemy7] Registered as sound listener
[06:57:56] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[06:57:56] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[06:57:56] [ENEMY] [Enemy8] Registered as sound listener
[06:57:56] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[06:57:56] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[06:57:56] [ENEMY] [Enemy9] Registered as sound listener
[06:57:56] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[06:57:56] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[06:57:56] [ENEMY] [Enemy10] Registered as sound listener
[06:57:56] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[06:57:56] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:57:56] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:57:56] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:57:56] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:57:56] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:57:56] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:57:56] [INFO] [LastChance] Found player: Player
[06:57:56] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:57:56] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:57:56] [INFO] [LastChance] Connected to player Died signal (C#)
[06:57:57] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:57:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1110.617, 1502.291), source=ENEMY (Enemy10), range=1469, listeners=20
[06:57:57] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[06:57:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.716, 1482.902), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.586, 1462.298), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1017.267, 1440.517), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(985.8253, 1424.068), source=ENEMY (Enemy10), range=1469, listeners=10
[06:57:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:57:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1048.298, 1474.852), shooter_id=5230716520111, bullet_pos=(41.42812, 885.5096)
[06:57:57] [INFO] [Bullet] Using shooter_position, distance=1166.66748046875
[06:57:57] [INFO] [Bullet] Distance to wall: 1166.66748046875 (79.440534057445% of viewport)
[06:57:57] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:57:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1017.503, 1453.078), shooter_id=5230716520111, bullet_pos=(34.13981, 825.299)
[06:57:57] [INFO] [Bullet] Using shooter_position, distance=1166.66625976563
[06:57:57] [INFO] [Bullet] Distance to wall: 1166.66625976563 (79.4404509375245% of viewport)
[06:57:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1048.298, 1474.852), shooter_id=5230716520111, bullet_pos=(351.781, 704.7288)
[06:57:57] [INFO] [Bullet] Using shooter_position, distance=1038.37707519531
[06:57:57] [INFO] [Bullet] Distance to wall: 1038.37707519531 (70.7050044571229% of viewport)
[06:57:58] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[06:57:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(987.5648, 1430.144), shooter_id=5230716520111, bullet_pos=(63.28154, 788.7958)
[06:57:58] [INFO] [Bullet] Using shooter_position, distance=1125.00085449219
[06:57:58] [INFO] [Bullet] Distance to wall: 1125.00085449219 (76.6033768765317% of viewport)
[06:57:58] [INFO] [Bullet] Distance-based penetration chance: 57.2960603107131%
[06:57:58] [INFO] [Bullet] Starting wall penetration at (63.28154, 788.7958)
[06:57:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1017.503, 1453.078), shooter_id=5230716520111, bullet_pos=(219.1152, 710.8859)
[06:57:58] [INFO] [Bullet] Using shooter_position, distance=1090.07922363281
[06:57:58] [INFO] [Bullet] Distance to wall: 1090.07922363281 (74.2254988161% of viewport)
[06:57:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8.59203338623047
[06:57:58] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:58] [INFO] [Bullet] Exiting penetration at (24.94091, 762.1918) after traveling 41.6666717529297 pixels through wall
[06:57:58] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:58] [INFO] [LastChance] Threat detected: @Area2D@6730
[06:57:58] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1048.298, 1474.852), shooter_id=5230716520111, bullet_pos=(506.0663, 807.9407)
[06:57:58] [INFO] [Bullet] Using shooter_position, distance=859.527160644531
[06:57:58] [INFO] [Bullet] Distance to wall: 859.527160644531 (58.5267848993669% of viewport)
[06:57:58] [INFO] [Bullet] Distance-based penetration chance: 78.3854176174053%
[06:57:58] [INFO] [Bullet] Starting wall penetration at (506.0663, 807.9407)
[06:57:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13.5275716781616
[06:57:58] [INFO] [Bullet] Body exited signal received for penetrating body
[06:57:58] [INFO] [Bullet] Exiting penetration at (535.2437, 827.4595) after traveling 30.1041717529297 pixels through wall
[06:57:58] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[06:57:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(958.5162, 1406.099), shooter_id=5230716520111, bullet_pos=(59.35386, 729.9838)
[06:57:58] [INFO] [Bullet] Using shooter_position, distance=1124.99951171875
[06:57:58] [INFO] [Bullet] Distance to wall: 1124.99951171875 (76.6032854446191% of viewport)
[06:57:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(958.5162, 1406.099), shooter_id=5230716520111, bullet_pos=(120.7333, 685.45)
[06:57:58] [INFO] [Bullet] Using shooter_position, distance=1105.08569335938
[06:57:58] [INFO] [Bullet] Distance to wall: 1105.08569335938 (75.2473169342463% of viewport)
[06:57:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(369.9674, 776.7468), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:58] [ENEMY] [Enemy1] Heard gunshot at (369.9674, 776.7468), source_type=0, intensity=0.01, distance=432
[06:57:58] [ENEMY] [Enemy2] Heard gunshot at (369.9674, 776.7468), source_type=0, intensity=0.05, distance=229
[06:57:58] [ENEMY] [Enemy4] Heard gunshot at (369.9674, 776.7468), source_type=0, intensity=0.01, distance=447
[06:57:58] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(958.5162, 1406.099), shooter_id=5230716520111, bullet_pos=(63.78812, 653.6794)
[06:57:58] [INFO] [Bullet] Using shooter_position, distance=1169.0478515625
[06:57:58] [INFO] [Bullet] Distance to wall: 1169.0478515625 (79.6026179023349% of viewport)
[06:57:58] [INFO] [Bullet] Distance-based penetration chance: 53.7969457806093%
[06:57:58] [INFO] [Bullet] Starting wall penetration at (63.78812, 653.6794)
[06:57:58] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:57:58] [INFO] [Bullet] Exiting penetration at (33.13231, 636.576) after traveling 30.1041698455811 pixels through wall
[06:57:58] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[06:57:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.9256, 760.1396), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(375.5107, 762.543), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:58] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(928.6876, 1387.001), shooter_id=5230716520111, bullet_pos=(61.21827, 670.6758)
[06:57:58] [INFO] [Bullet] Using shooter_position, distance=1124.99963378906
[06:57:58] [INFO] [Bullet] Distance to wall: 1124.99963378906 (76.6032937566112% of viewport)
[06:57:58] [INFO] [LastChance] Threat detected: Bullet
[06:57:58] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(383.1527, 750.3403), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:58] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(615.5997, 760.6016), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[06:57:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.5571, 740.5654), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:58] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:58] [INFO] [LastChance] Threat detected: @Area2D@6753
[06:57:58] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:58] [ENEMY] [Enemy3] Hit taken, health: 3/4
[06:57:58] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:58] [INFO] [ImpactEffects] spawn_blood_effect called at (615.5997, 760.6016), dir=(0.999584, -0.028825), lethal=false
[06:57:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:58] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:58] [INFO] [ImpactEffects] Blood effect spawned at (615.5997, 760.6016) (scale=0.9)
[06:57:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(403.7238, 733.2183), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:58] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:58] [ENEMY] [Enemy3] Hit taken, health: 2/4
[06:57:58] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:58] [INFO] [ImpactEffects] spawn_blood_effect called at (615.5997, 760.6016), dir=(0.999944, 0.010611), lethal=false
[06:57:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:58] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:58] [INFO] [ImpactEffects] Blood effect spawned at (615.5997, 760.6016) (scale=0.9)
[06:57:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(416.6529, 728.299), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:58] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(569.5969, 770.9254), shooter_id=5228720031950, bullet_pos=(28.45974, 794.8712)
[06:57:58] [INFO] [Bullet] Using shooter_position, distance=541.666748046875
[06:57:58] [INFO] [Bullet] Distance to wall: 541.666748046875 (36.883084911833% of viewport)
[06:57:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:58] [INFO] [Bullet] Starting wall penetration at (28.45974, 794.8712)
[06:57:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(615.5997, 760.6016), source=ENEMY (Enemy3), range=1469, listeners=10
[06:57:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:57:58] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:57:58] [INFO] [Bullet] Exiting penetration at (-18.1613, 796.9341) after traveling 41.6666679382324 pixels through wall
[06:57:58] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:58] [INFO] [LastChance] Threat detected: @Area2D@6762
[06:57:58] [INFO] [LastChance] Not in hard mode - effect disabled
[06:57:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:57:58] [ENEMY] [Enemy3] Hit taken, health: 1/4
[06:57:58] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:58] [INFO] [ImpactEffects] spawn_blood_effect called at (615.5997, 760.6016), dir=(0.999996, -0.002867), lethal=false
[06:57:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:58] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:57:58] [INFO] [ImpactEffects] Blood effect spawned at (615.5997, 760.6016) (scale=0.9)
[06:57:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(431.7568, 728.0665), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:57:58] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:57:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(928.6876, 1387.001), shooter_id=5230716520111, bullet_pos=(516.8979, 387.9738)
[06:57:58] [INFO] [Bullet] Using shooter_position, distance=1080.56701660156
[06:57:58] [INFO] [Bullet] Distance to wall: 1080.56701660156 (73.5777951479358% of viewport)
[06:57:58] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:57:58] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:57:58] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:57:58] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:57:58] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:57:58] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:57:58] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:57:58] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:57:58] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:57:58] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:57:58] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:57:58] [ENEMY] [Enemy3] Hit taken, health: 0/4
[06:57:58] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:57:58] [INFO] [ImpactEffects] spawn_blood_effect called at (615.5997, 760.6016), dir=(0.99962, -0.027571), lethal=true
[06:57:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:57:58] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[06:57:58] [INFO] [ImpactEffects] Blood effect spawned at (615.5997, 760.6016) (scale=1.35)
[06:57:58] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[06:57:58] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[06:57:58] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[06:57:58] [INFO] [DeathAnim] Started - Angle: -1.6 deg, Index: 11
[06:57:58] [ENEMY] [Enemy3] Death animation started with hit direction: (0.99962, -0.027571)
[06:57:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(547.4871, 763.2933), shooter_id=5228720031950, bullet_pos=(65.51853, 726.9971)
[06:57:58] [INFO] [Bullet] Using shooter_position, distance=483.333312988281
[06:57:58] [INFO] [Bullet] Distance to wall: 483.333312988281 (32.9110540529648% of viewport)
[06:57:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:57:58] [INFO] [Bullet] Starting wall penetration at (65.51853, 726.9971)
[06:57:58] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:57:58] [INFO] [Bullet] Exiting penetration at (56.37775, 726.3087) after traveling 4.16666650772095 pixels through wall
[06:57:58] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:57:59] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[06:57:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:57:59] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:57:59] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:57:59] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:57:59] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:57:59] [ENEMY] [Enemy1] Death animation component initialized
[06:57:59] [ENEMY] [Enemy2] Death animation component initialized
[06:57:59] [ENEMY] [Enemy3] Death animation component initialized
[06:57:59] [ENEMY] [Enemy4] Death animation component initialized
[06:57:59] [ENEMY] [Enemy5] Death animation component initialized
[06:57:59] [ENEMY] [Enemy6] Death animation component initialized
[06:57:59] [ENEMY] [Enemy7] Death animation component initialized
[06:57:59] [ENEMY] [Enemy8] Death animation component initialized
[06:57:59] [ENEMY] [Enemy9] Death animation component initialized
[06:57:59] [ENEMY] [Enemy10] Death animation component initialized
[06:57:59] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:57:59] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:57:59] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:57:59] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:57:59] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:57:59] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:57:59] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:57:59] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[06:57:59] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:57:59] [INFO] [ScoreManager] Level started with 10 enemies
[06:57:59] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[06:57:59] [ENEMY] [Enemy1] Registered as sound listener
[06:57:59] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[06:57:59] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[06:57:59] [ENEMY] [Enemy2] Registered as sound listener
[06:57:59] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[06:57:59] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[06:57:59] [ENEMY] [Enemy3] Registered as sound listener
[06:57:59] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[06:57:59] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[06:57:59] [ENEMY] [Enemy4] Registered as sound listener
[06:57:59] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[06:57:59] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[06:57:59] [ENEMY] [Enemy5] Registered as sound listener
[06:57:59] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[06:57:59] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[06:57:59] [ENEMY] [Enemy6] Registered as sound listener
[06:57:59] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[06:57:59] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[06:57:59] [ENEMY] [Enemy7] Registered as sound listener
[06:57:59] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[06:57:59] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[06:57:59] [ENEMY] [Enemy8] Registered as sound listener
[06:57:59] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[06:57:59] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[06:57:59] [ENEMY] [Enemy9] Registered as sound listener
[06:57:59] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[06:57:59] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[06:57:59] [ENEMY] [Enemy10] Registered as sound listener
[06:57:59] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[06:57:59] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:57:59] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:57:59] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:57:59] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:57:59] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:57:59] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:57:59] [INFO] [LastChance] Found player: Player
[06:57:59] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:57:59] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:57:59] [INFO] [LastChance] Connected to player Died signal (C#)
[06:57:59] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:57:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1110.547, 1502.404), source=ENEMY (Enemy10), range=1469, listeners=19
[06:57:59] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[06:57:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.273, 1483.641), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1046.722, 1463.689), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1015.978, 1442.513), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.806, 1475.985), shooter_id=5399310763751, bullet_pos=(67.82535, 923.4804)
[06:58:00] [INFO] [Bullet] Using shooter_position, distance=1124.99975585938
[06:58:00] [INFO] [Bullet] Distance to wall: 1124.99975585938 (76.6033020686032% of viewport)
[06:58:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(986.0725, 1424.066), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1016.443, 1455.12), shooter_id=5399310763751, bullet_pos=(55.59467, 869.9723)
[06:58:00] [INFO] [Bullet] Using shooter_position, distance=1125.00061035156
[06:58:00] [INFO] [Bullet] Distance to wall: 1125.00061035156 (76.6033602525476% of viewport)
[06:58:00] [INFO] [Bullet] Distance-based penetration chance: 57.2960797053612%
[06:58:00] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(955.0617, 1407.164), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.806, 1475.985), shooter_id=5399310763751, bullet_pos=(484.3263, 715.7794)
[06:58:00] [INFO] [Bullet] Using shooter_position, distance=946.267822265625
[06:58:00] [INFO] [Bullet] Distance to wall: 946.267822265625 (64.4331160511593% of viewport)
[06:58:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(986.0616, 1432.756), shooter_id=5399310763751, bullet_pos=(48.98623, 810.2495)
[06:58:00] [INFO] [Bullet] Using shooter_position, distance=1124.99975585938
[06:58:00] [INFO] [Bullet] Distance to wall: 1124.99975585938 (76.6033020686032% of viewport)
[06:58:00] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[06:58:00] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:58:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(986.0616, 1432.756), shooter_id=5399310763751, bullet_pos=(235.3609, 698.1303)
[06:58:00] [INFO] [Bullet] Using shooter_position, distance=1050.34582519531
[06:58:00] [INFO] [Bullet] Distance to wall: 1050.34582519531 (71.5199786532135% of viewport)
[06:58:00] [ENEMY] [Enemy3] Hit taken, health: 3/4
[06:58:00] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:00] [INFO] [ImpactEffects] spawn_blood_effect called at (689.6625, 752.6283), dir=(0.956876, 0.290497), lethal=false
[06:58:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:00] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:00] [INFO] [ImpactEffects] Blood effect spawned at (689.6625, 752.6283) (scale=1)
[06:58:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(956.574, 1409.232), shooter_id=5399310763751, bullet_pos=(44.55577, 750.5605)
[06:58:00] [INFO] [Bullet] Using shooter_position, distance=1125.00012207031
[06:58:00] [INFO] [Bullet] Distance to wall: 1125.00012207031 (76.6033270045794% of viewport)
[06:58:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(956.574, 1409.232), shooter_id=5399310763751, bullet_pos=(144.2062, 701.0999)
[06:58:00] [INFO] [Bullet] Using shooter_position, distance=1077.67932128906
[06:58:00] [INFO] [Bullet] Distance to wall: 1077.67932128906 (73.3811666641042% of viewport)
[06:58:00] [INFO] [LastChance] Threat detected: @Area2D@7035
[06:58:00] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(927.9995, 1388.488), shooter_id=5399310763751, bullet_pos=(42.33182, 694.7904)
[06:58:00] [INFO] [Bullet] Using shooter_position, distance=1124.99938964844
[06:58:00] [INFO] [Bullet] Distance to wall: 1124.99938964844 (76.6032771326271% of viewport)
[06:58:00] [INFO] [Bullet] Distance-based penetration chance: 57.2961766786017%
[06:58:00] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:00] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:58:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(986.0616, 1432.756), shooter_id=5399310763751, bullet_pos=(511.8337, 889.3285)
[06:58:00] [INFO] [Bullet] Using shooter_position, distance=721.252624511719
[06:58:00] [INFO] [Bullet] Distance to wall: 721.252624511719 (49.1114174696322% of viewport)
[06:58:00] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:58:00] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:58:00] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:58:00] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:58:00] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:58:00] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:58:00] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:58:00] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:58:00] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:58:00] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:58:00] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:58:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(353.0007, 773.2822), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:00] [ENEMY] [Enemy1] Heard gunshot at (353.0007, 773.2822), source_type=0, intensity=0.01, distance=427
[06:58:00] [ENEMY] [Enemy2] Heard gunshot at (353.0007, 773.2822), source_type=0, intensity=0.05, distance=228
[06:58:00] [ENEMY] [Enemy4] Heard gunshot at (353.0007, 773.2822), source_type=0, intensity=0.01, distance=465
[06:58:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(897.9929, 1370.023), shooter_id=5399310763751, bullet_pos=(105.4013, 713.5305)
[06:58:01] [INFO] [Bullet] Using shooter_position, distance=1029.16638183594
[06:58:01] [INFO] [Bullet] Distance to wall: 1029.16638183594 (70.0778314093114% of viewport)
[06:58:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(639.3051, 774.6949), source=ENEMY (Enemy3), range=1469, listeners=10
[06:58:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:58:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(897.9929, 1370.023), shooter_id=5399310763751, bullet_pos=(66.75395, 752.0758)
[06:58:01] [INFO] [Bullet] Using shooter_position, distance=1035.7685546875
[06:58:01] [INFO] [Bullet] Distance to wall: 1035.7685546875 (70.5273854990997% of viewport)
[06:58:01] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:01] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:01] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:58:01] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:58:01] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:58:01] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:58:01] [ENEMY] [Enemy1] Death animation component initialized
[06:58:01] [ENEMY] [Enemy2] Death animation component initialized
[06:58:01] [ENEMY] [Enemy3] Death animation component initialized
[06:58:01] [ENEMY] [Enemy4] Death animation component initialized
[06:58:01] [ENEMY] [Enemy5] Death animation component initialized
[06:58:01] [ENEMY] [Enemy6] Death animation component initialized
[06:58:01] [ENEMY] [Enemy7] Death animation component initialized
[06:58:01] [ENEMY] [Enemy8] Death animation component initialized
[06:58:01] [ENEMY] [Enemy9] Death animation component initialized
[06:58:01] [ENEMY] [Enemy10] Death animation component initialized
[06:58:01] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:58:01] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:58:01] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:58:01] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:58:01] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:58:01] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:58:01] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:58:01] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[06:58:01] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:58:01] [INFO] [ScoreManager] Level started with 10 enemies
[06:58:01] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[06:58:01] [ENEMY] [Enemy1] Registered as sound listener
[06:58:01] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[06:58:01] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[06:58:01] [ENEMY] [Enemy2] Registered as sound listener
[06:58:01] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[06:58:01] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[06:58:01] [ENEMY] [Enemy3] Registered as sound listener
[06:58:01] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[06:58:01] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[06:58:01] [ENEMY] [Enemy4] Registered as sound listener
[06:58:01] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[06:58:01] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[06:58:01] [ENEMY] [Enemy5] Registered as sound listener
[06:58:01] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[06:58:01] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[06:58:01] [ENEMY] [Enemy6] Registered as sound listener
[06:58:01] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[06:58:01] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[06:58:01] [ENEMY] [Enemy7] Registered as sound listener
[06:58:01] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[06:58:01] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[06:58:01] [ENEMY] [Enemy8] Registered as sound listener
[06:58:01] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[06:58:01] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[06:58:01] [ENEMY] [Enemy9] Registered as sound listener
[06:58:01] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[06:58:01] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[06:58:01] [ENEMY] [Enemy10] Registered as sound listener
[06:58:01] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[06:58:01] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:58:01] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:58:01] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:58:01] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:58:01] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:58:01] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:58:01] [INFO] [LastChance] Found player: Player
[06:58:01] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:58:01] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:58:01] [INFO] [LastChance] Connected to player Died signal (C#)
[06:58:02] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:58:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.865, 1519.278), source=ENEMY (Enemy10), range=1469, listeners=20
[06:58:02] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[06:58:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1111.675, 1500.37), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1079.711, 1481.08), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:02] [INFO] [LastChance] Threat detected: Bullet
[06:58:02] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.984, 1461.403), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1016.546, 1441.27), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.453, 1492.111), shooter_id=5570706802072, bullet_pos=(36.09902, 886.0555)
[06:58:02] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[06:58:02] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[06:58:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(985.6992, 1424.067), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1049.614, 1472.426), shooter_id=5570706802072, bullet_pos=(47.71331, 874.6751)
[06:58:03] [INFO] [Bullet] Using shooter_position, distance=1166.6669921875
[06:58:03] [INFO] [Bullet] Distance to wall: 1166.6669921875 (79.4405008094768% of viewport)
[06:58:03] [INFO] [Bullet] Distance-based penetration chance: 53.9860823889438%
[06:58:03] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.005, 1452.358), shooter_id=5570706802072, bullet_pos=(59.20712, 863.8584)
[06:58:03] [INFO] [Bullet] Using shooter_position, distance=1125.00012207031
[06:58:03] [INFO] [Bullet] Distance to wall: 1125.00012207031 (76.6033270045794% of viewport)
[06:58:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(954.2228, 1407.194), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.453, 1492.111), shooter_id=5570706802072, bullet_pos=(468.5547, 714.0243)
[06:58:03] [INFO] [Bullet] Using shooter_position, distance=990.486206054688
[06:58:03] [INFO] [Bullet] Distance to wall: 990.486206054688 (67.4440271137946% of viewport)
[06:58:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(986.5997, 1432.002), shooter_id=5570706802072, bullet_pos=(34.35736, 832.9525)
[06:58:03] [INFO] [Bullet] Using shooter_position, distance=1125.00024414063
[06:58:03] [INFO] [Bullet] Distance to wall: 1125.00024414063 (76.6033353165714% of viewport)
[06:58:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.005, 1452.358), shooter_id=5570706802072, bullet_pos=(249.7423, 697.5358)
[06:58:03] [INFO] [Bullet] Using shooter_position, distance=1077.02551269531
[06:58:03] [INFO] [Bullet] Distance to wall: 1077.02551269531 (73.3366476347078% of viewport)
[06:58:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(935.8853, 1396.664), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.453, 1492.111), shooter_id=5570706802072, bullet_pos=(726.9553, 810.826)
[06:58:03] [INFO] [Bullet] Using shooter_position, distance=767.995788574219
[06:58:03] [INFO] [Bullet] Distance to wall: 767.995788574219 (52.2942454637474% of viewport)
[06:58:03] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[06:58:03] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:58:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(955.803, 1410.526), shooter_id=5570706802072, bullet_pos=(51.63663, 813.7893)
[06:58:03] [INFO] [Bullet] Using shooter_position, distance=1083.33361816406
[06:58:03] [INFO] [Bullet] Distance to wall: 1083.33361816406 (73.7661781356581% of viewport)
[06:58:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(986.5997, 1432.002), shooter_id=5570706802072, bullet_pos=(333.5355, 709.2331)
[06:58:03] [INFO] [Bullet] Using shooter_position, distance=974.108581542969
[06:58:03] [INFO] [Bullet] Distance to wall: 974.108581542969 (66.3288445449958% of viewport)
[06:58:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(955.803, 1410.526), shooter_id=5570706802072, bullet_pos=(191.0396, 696.6518)
[06:58:03] [INFO] [Bullet] Using shooter_position, distance=1046.173828125
[06:58:03] [INFO] [Bullet] Distance to wall: 1046.173828125 (71.2358997010698% of viewport)
[06:58:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.453, 1492.111), shooter_id=5570706802072, bullet_pos=(909.1689, 707.0194)
[06:58:03] [INFO] [Bullet] Using shooter_position, distance=803.772399902344
[06:58:03] [INFO] [Bullet] Distance to wall: 803.772399902344 (54.7303407164667% of viewport)
[06:58:03] [INFO] [Bullet] Distance-based penetration chance: 82.8146024974556%
[06:58:03] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:03] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:58:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.005, 1452.358), shooter_id=5570706802072, bullet_pos=(508.8082, 956.4254)
[06:58:03] [INFO] [Bullet] Using shooter_position, distance=710.795654296875
[06:58:03] [INFO] [Bullet] Distance to wall: 710.795654296875 (48.3993831390308% of viewport)
[06:58:03] [INFO] [LastChance] Threat detected: @Area2D@7311
[06:58:03] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(926.2188, 1390.872), shooter_id=5570706802072, bullet_pos=(46.9034, 758.0875)
[06:58:03] [INFO] [Bullet] Using shooter_position, distance=1083.33374023438
[06:58:03] [INFO] [Bullet] Distance to wall: 1083.33374023438 (73.7661864476502% of viewport)
[06:58:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(341.0262, 804.1636), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:03] [ENEMY] [Enemy1] Heard gunshot at (341.0262, 804.1636), source_type=0, intensity=0.01, distance=456
[06:58:03] [ENEMY] [Enemy2] Heard gunshot at (341.0262, 804.1636), source_type=0, intensity=0.04, distance=261
[06:58:03] [ENEMY] [Enemy4] Heard gunshot at (341.0262, 804.1636), source_type=0, intensity=0.01, distance=469
[06:58:03] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(926.2188, 1390.872), shooter_id=5570706802072, bullet_pos=(142.3115, 700.8697)
[06:58:03] [INFO] [Bullet] Using shooter_position, distance=1044.32458496094
[06:58:03] [INFO] [Bullet] Distance to wall: 1044.32458496094 (71.1099813335704% of viewport)
[06:58:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(348.4173, 790.7252), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:03] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:03] [INFO] [LastChance] Threat detected: @Area2D@7313
[06:58:03] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:03] [ENEMY] [Enemy3] Hit taken, health: 1/2
[06:58:03] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:03] [INFO] [ImpactEffects] spawn_blood_effect called at (649.4293, 774.5915), dir=(0.975388, 0.220494), lethal=false
[06:58:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:03] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:03] [INFO] [ImpactEffects] Blood effect spawned at (649.4293, 774.5915) (scale=1)
[06:58:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.1532, 778.9197), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:03] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(896.3174, 1371.331), shooter_id=5570706802072, bullet_pos=(46.69514, 699.205)
[06:58:03] [INFO] [Bullet] Using shooter_position, distance=1083.33312988281
[06:58:03] [INFO] [Bullet] Distance to wall: 1083.33312988281 (73.76614488769% of viewport)
[06:58:03] [INFO] [Bullet] Distance-based penetration chance: 60.6061642976951%
[06:58:03] [INFO] [Bullet] Starting wall penetration at (46.69514, 699.205)
[06:58:03] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27.929220199585
[06:58:03] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:03] [INFO] [Bullet] Exiting penetration at (10.09603, 670.2519) after traveling 41.6666679382324 pixels through wall
[06:58:03] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(341.0262, 804.1636), shooter_id=5571528887302, bullet_pos=(501.0228, 805.1983)
[06:58:03] [INFO] [Bullet] Using shooter_position, distance=159.999923706055
[06:58:03] [INFO] [Bullet] Distance to wall: 159.999923706055 (10.8946890190618% of viewport)
[06:58:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:03] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(369.3806, 769.7172), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:03] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(879.561, 1358.425), shooter_id=5570706802072, bullet_pos=(122.023, 705.6324)
[06:58:03] [INFO] [Bullet] Using shooter_position, distance=1000.00079345703
[06:58:03] [INFO] [Bullet] Distance to wall: 1000.00079345703 (68.0918928658037% of viewport)
[06:58:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(382.0993, 763.1177), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:03] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(955.803, 1410.526), shooter_id=5570706802072, bullet_pos=(510.5142, 1022.819)
[06:58:03] [INFO] [Bullet] Using shooter_position, distance=590.422668457031
[06:58:03] [INFO] [Bullet] Distance to wall: 590.422668457031 (40.2029651867927% of viewport)
[06:58:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(879.561, 1358.425), shooter_id=5570706802072, bullet_pos=(57.15808, 744.9164)
[06:58:03] [INFO] [Bullet] Using shooter_position, distance=1026.03076171875
[06:58:03] [INFO] [Bullet] Distance to wall: 1026.03076171875 (69.8643212696352% of viewport)
[06:58:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(396.3095, 759.1213), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:03] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:03] [ENEMY] [Enemy3] Hit taken, health: 0/2
[06:58:03] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:03] [INFO] [ImpactEffects] spawn_blood_effect called at (629.231, 805.3672), dir=(0.999981, 0.006203), lethal=true
[06:58:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:03] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[06:58:03] [INFO] [ImpactEffects] Blood effect spawned at (629.231, 805.3672) (scale=1.35)
[06:58:03] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[06:58:03] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[06:58:03] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[06:58:03] [INFO] [DeathAnim] Started - Angle: 0.4 deg, Index: 12
[06:58:03] [ENEMY] [Enemy3] Death animation started with hit direction: (0.999981, 0.006203)
[06:58:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(926.2188, 1390.872), shooter_id=5570706802072, bullet_pos=(521.8792, 895.2791)
[06:58:03] [INFO] [Bullet] Using shooter_position, distance=639.611511230469
[06:58:03] [INFO] [Bullet] Distance to wall: 639.611511230469 (43.5523239415422% of viewport)
[06:58:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(412.0111, 757.7278), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:03] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[06:58:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.005, 1452.358), shooter_id=5570706802072, bullet_pos=(51.44662, 1293.152)
[06:58:03] [INFO] [Bullet] Using shooter_position, distance=979.582580566406
[06:58:03] [INFO] [Bullet] Distance to wall: 979.582580566406 (66.7015792042982% of viewport)
[06:58:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(428.5111, 757.7278), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:03] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[06:58:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(382.0993, 763.1177), shooter_id=5571528887302, bullet_pos=(698.8932, 808.3033)
[06:58:03] [INFO] [Bullet] Using shooter_position, distance=320.000183105469
[06:58:03] [INFO] [Bullet] Distance to wall: 320.000183105469 (21.7894008961018% of viewport)
[06:58:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:03] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:03] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[06:58:03] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[06:58:03] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[06:58:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.1532, 778.9197), shooter_id=5571528887302, bullet_pos=(918.0883, 787.4338)
[06:58:04] [INFO] [Bullet] Using shooter_position, distance=559.999816894531
[06:58:04] [INFO] [Bullet] Distance to wall: 559.999816894531 (38.131417281211% of viewport)
[06:58:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:04] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(428.5111, 757.7278), shooter_id=5571528887302, bullet_pos=(744.5435, 807.9603)
[06:58:04] [INFO] [Bullet] Using shooter_position, distance=319.999603271484
[06:58:04] [INFO] [Bullet] Distance to wall: 319.999603271484 (21.7893614141396% of viewport)
[06:58:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:04] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(369.3806, 769.7172), shooter_id=5571528887302, bullet_pos=(927.5556, 814.884)
[06:58:04] [INFO] [Bullet] Using shooter_position, distance=559.999450683594
[06:58:04] [INFO] [Bullet] Distance to wall: 559.999450683594 (38.1313923452348% of viewport)
[06:58:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:04] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(396.3095, 759.1213), shooter_id=5571528887302, bullet_pos=(916.2871, 763.9899)
[06:58:04] [INFO] [Bullet] Using shooter_position, distance=520.000427246094
[06:58:04] [INFO] [Bullet] Distance to wall: 520.000427246094 (35.407785287657% of viewport)
[06:58:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:04] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.005, 1452.358), shooter_id=5570706802072, bullet_pos=(407.9911, 1586.571)
[06:58:04] [INFO] [Bullet] Using shooter_position, distance=624.604370117188
[06:58:04] [INFO] [Bullet] Distance to wall: 624.604370117188 (42.5304601074397% of viewport)
[06:58:04] [INFO] [Bullet] Distance-based penetration chance: 97.0477965413203%
[06:58:04] [INFO] [Bullet] Starting wall penetration at (407.9911, 1586.571)
[06:58:04] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[06:58:04] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:58:04] [INFO] [Bullet] Exiting penetration at (428.6463, 1603.57) after traveling 21.7502632141113 pixels through wall
[06:58:04] [INFO] [Bullet] Damage multiplier after penetration: 0.05625
[06:58:04] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[06:58:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(412.0111, 757.7278), shooter_id=5571528887302, bullet_pos=(928.8676, 814.8155)
[06:58:04] [INFO] [Bullet] Using shooter_position, distance=519.999694824219
[06:58:04] [INFO] [Bullet] Distance to wall: 519.999694824219 (35.4077354157047% of viewport)
[06:58:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:04] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:04] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[06:58:04] [ENEMY] [Enemy3] Ragdoll activated
[06:58:04] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[06:58:04] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[06:58:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.7453, 642.178), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[06:58:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(497.6956, 699.2862), shooter_id=5568425100984, bullet_pos=(497.6956, 699.2862)
[06:58:04] [INFO] [Bullet] Using shooter_position, distance=0
[06:58:04] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[06:58:04] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[06:58:04] [INFO] [Bullet] Starting wall penetration at (497.6956, 699.2862)
[06:58:04] [INFO] [Bullet] Raycast backward hit penetrating body at distance 43.0430793762207
[06:58:04] [INFO] [LastChance] Threat detected: Bullet
[06:58:04] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:04] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:04] [INFO] [Bullet] Exiting penetration at (527.3721, 735.3013) after traveling 41.6666679382324 pixels through wall
[06:58:04] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(775.2576, 909.4001), source=ENEMY (Enemy4), range=1469, listeners=9
[06:58:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[06:58:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(623.3737, 894.0412), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[06:58:04] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[06:58:04] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[06:58:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(623.3737, 894.0412), shooter_id=5571528887302, bullet_pos=(683.0165, 887.5042)
[06:58:04] [INFO] [Bullet] Using shooter_position, distance=59.9999313354492
[06:58:04] [INFO] [Bullet] Distance to wall: 59.9999313354492 (4.0855056547758% of viewport)
[06:58:04] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[06:58:04] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(775.2576, 909.4001), source=ENEMY (Enemy4), range=1469, listeners=9
[06:58:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[06:58:04] [INFO] [LastChance] Threat detected: Bullet
[06:58:04] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:04] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[06:58:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(627.6851, 914.2553), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[06:58:04] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[06:58:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.924, 932.4284), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(650.9757, 948.6079), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(666.5321, 964.1643), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[06:58:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(682.8539, 977.8729), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[06:58:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(636.924, 932.4284), shooter_id=5571528887302, bullet_pos=(915.984, 909.5075)
[06:58:05] [INFO] [Bullet] Using shooter_position, distance=279.999786376953
[06:58:05] [INFO] [Bullet] Distance to wall: 279.999786376953 (19.0657003286134% of viewport)
[06:58:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:05] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(650.9757, 948.6079), shooter_id=5571528887302, bullet_pos=(924.6918, 889.6198)
[06:58:05] [INFO] [Bullet] Using shooter_position, distance=280.000152587891
[06:58:05] [INFO] [Bullet] Distance to wall: 280.000152587891 (19.0657252645896% of viewport)
[06:58:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:05] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:05] [ENEMY] [Enemy3] Death animation completed
[06:58:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(666.5321, 964.1643), shooter_id=5571528887302, bullet_pos=(912.2784, 879.2596)
[06:58:05] [INFO] [Bullet] Using shooter_position, distance=260.000122070313
[06:58:05] [INFO] [Bullet] Distance to wall: 260.000122070313 (17.7038864098345% of viewport)
[06:58:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:05] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(682.8539, 977.8729), shooter_id=5571528887302, bullet_pos=(918.0068, 866.954)
[06:58:05] [INFO] [Bullet] Using shooter_position, distance=259.999816894531
[06:58:05] [INFO] [Bullet] Distance to wall: 259.999816894531 (17.7038656298543% of viewport)
[06:58:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:05] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(828.171, 872.436), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[06:58:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(834.4885, 853.0527), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[06:58:05] [ENEMY] [Enemy4] Hit taken, health: 3/4
[06:58:05] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:05] [INFO] [ImpactEffects] spawn_blood_effect called at (874.237, 786.8391), dir=(0.20738, -0.97826), lethal=false
[06:58:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:05] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:05] [INFO] [ImpactEffects] Blood effect spawned at (874.237, 786.8391) (scale=0.9)
[06:58:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(845.7334, 835.7104), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[06:58:05] [ENEMY] [Enemy4] Hit taken, health: 2/4
[06:58:05] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:05] [INFO] [ImpactEffects] spawn_blood_effect called at (871.3368, 791.3149), dir=(0.209008, -0.977914), lethal=false
[06:58:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:05] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:05] [INFO] [ImpactEffects] Blood effect spawned at (871.3368, 791.3149) (scale=0.9)
[06:58:05] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[06:58:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(860.9818, 820.0265), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[06:58:05] [ENEMY] [Enemy4] Hit taken, health: 1/4
[06:58:05] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:05] [INFO] [ImpactEffects] spawn_blood_effect called at (873.5798, 807.1568), dir=(0.300098, -0.953908), lethal=false
[06:58:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:05] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:05] [INFO] [ImpactEffects] Blood effect spawned at (873.5798, 807.1568) (scale=0.9)
[06:58:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(876.5382, 804.4701), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[06:58:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(892.0946, 788.9137), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[06:58:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(876.5382, 804.4701), shooter_id=5571528887302, bullet_pos=(909.0309, 709.8961)
[06:58:06] [INFO] [Bullet] Using shooter_position, distance=100.000045776367
[06:58:06] [INFO] [Bullet] Distance to wall: 100.000045776367 (6.80918700078256% of viewport)
[06:58:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:06] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(892.0946, 788.9137), shooter_id=5571528887302, bullet_pos=(913.1307, 732.7223)
[06:58:06] [INFO] [Bullet] Using shooter_position, distance=59.9999198913574
[06:58:06] [INFO] [Bullet] Distance to wall: 59.9999198913574 (4.08550487552654% of viewport)
[06:58:06] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[06:58:06] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9349, 773.3574), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[06:58:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(494.6718, 652.2692), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[06:58:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.9349, 773.3574), shooter_id=5571528887302, bullet_pos=(910.5793, 736.1345)
[06:58:06] [INFO] [Bullet] Using shooter_position, distance=40.0000381469727
[06:58:06] [INFO] [Bullet] Distance to wall: 40.0000381469727 (2.72367615101173% of viewport)
[06:58:06] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[06:58:06] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:06] [INFO] [LastChance] Threat detected: Bullet
[06:58:06] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(531.2899, 653.9835), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[06:58:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(557.1647, 679.2748), shooter_id=5568425100984, bullet_pos=(916.1743, 787.6121)
[06:58:06] [INFO] [Bullet] Using shooter_position, distance=374.999786376953
[06:58:06] [INFO] [Bullet] Distance to wall: 374.999786376953 (25.5344250182097% of viewport)
[06:58:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:06] [INFO] [Bullet] Starting wall penetration at (916.1743, 787.6121)
[06:58:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25.9579448699951
[06:58:06] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:06] [INFO] [Bullet] Exiting penetration at (960.8511, 801.0941) after traveling 41.6666679382324 pixels through wall
[06:58:06] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:06] [INFO] [LastChance] Threat detected: @Area2D@7409
[06:58:06] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(567.8481, 661.4683), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[06:58:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(595.0692, 677.9659), shooter_id=5568425100984, bullet_pos=(918.4525, 758.8018)
[06:58:06] [INFO] [Bullet] Using shooter_position, distance=333.333465576172
[06:58:06] [INFO] [Bullet] Distance to wall: 333.333465576172 (22.6972886172765% of viewport)
[06:58:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(828.171, 872.436), shooter_id=5571528887302, bullet_pos=(954.8395, 62.27822)
[06:58:06] [INFO] [Bullet] Using shooter_position, distance=820.000366210938
[06:58:06] [INFO] [Bullet] Distance to wall: 820.000366210938 (55.8353327830176% of viewport)
[06:58:06] [INFO] [Bullet] Distance-based penetration chance: 81.5254450864795%
[06:58:06] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:06] [INFO] [LastChance] Threat detected: Bullet
[06:58:06] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(605.0155, 664.7295), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[06:58:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(633.8344, 678.6063), shooter_id=5568425100984, bullet_pos=(922.6694, 719.1503)
[06:58:06] [INFO] [Bullet] Using shooter_position, distance=291.666748046875
[06:58:06] [INFO] [Bullet] Distance to wall: 291.666748046875 (19.8601252023692% of viewport)
[06:58:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:06] [INFO] [LastChance] Threat detected: @Area2D@7422
[06:58:06] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(672.6215, 673.6191), shooter_id=5568425100984, bullet_pos=(922.589, 677.6485)
[06:58:06] [INFO] [Bullet] Using shooter_position, distance=250
[06:58:06] [INFO] [Bullet] Distance to wall: 250 (17.0229597094639% of viewport)
[06:58:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:06] [INFO] [Bullet] Starting wall penetration at (922.589, 677.6485)
[06:58:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.3051, 663.4028), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[06:58:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.2538948059082
[06:58:06] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:06] [INFO] [Bullet] Exiting penetration at (969.2496, 678.4006) after traveling 41.666675567627 pixels through wall
[06:58:06] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:06] [INFO] [LastChance] Threat detected: Bullet
[06:58:06] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(710.6481, 663.5108), shooter_id=5568425100984, bullet_pos=(917.6595, 640.0782)
[06:58:06] [INFO] [Bullet] Using shooter_position, distance=208.333419799805
[06:58:06] [INFO] [Bullet] Distance to wall: 208.333419799805 (14.1858056455476% of viewport)
[06:58:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:06] [INFO] [Bullet] Starting wall penetration at (917.6595, 640.0782)
[06:58:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28.2090950012207
[06:58:06] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[06:58:06] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:06] [INFO] [Bullet] Exiting penetration at (964.0301, 634.8293) after traveling 41.6666641235352 pixels through wall
[06:58:06] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.3051, 663.4028), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[06:58:06] [INFO] [LastChance] Threat detected: @Area2D@7430
[06:58:06] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(709.9166, 654.3719), shooter_id=5568425100984, bullet_pos=(911.9088, 603.3627)
[06:58:06] [INFO] [Bullet] Using shooter_position, distance=208.333343505859
[06:58:06] [INFO] [Bullet] Distance to wall: 208.333343505859 (14.1858004505525% of viewport)
[06:58:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.3051, 663.4028), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[06:58:06] [INFO] [LastChance] Threat detected: Bullet
[06:58:06] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:06] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:58:06] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:58:06] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:58:06] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:58:06] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:58:06] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:58:06] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:58:06] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:58:06] [INFO] [PenultimateHit] Applying saturation to 9 enemies
[06:58:06] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:58:06] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:58:07] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:07] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:07] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:58:07] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:58:07] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:58:07] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:58:07] [ENEMY] [Enemy1] Death animation component initialized
[06:58:07] [ENEMY] [Enemy2] Death animation component initialized
[06:58:07] [ENEMY] [Enemy3] Death animation component initialized
[06:58:07] [ENEMY] [Enemy4] Death animation component initialized
[06:58:07] [ENEMY] [Enemy5] Death animation component initialized
[06:58:07] [ENEMY] [Enemy6] Death animation component initialized
[06:58:07] [ENEMY] [Enemy7] Death animation component initialized
[06:58:07] [ENEMY] [Enemy8] Death animation component initialized
[06:58:07] [ENEMY] [Enemy9] Death animation component initialized
[06:58:07] [ENEMY] [Enemy10] Death animation component initialized
[06:58:07] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:58:07] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:58:07] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:58:07] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:58:07] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:58:07] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:58:07] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:58:07] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[06:58:07] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:58:07] [INFO] [ScoreManager] Level started with 10 enemies
[06:58:07] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[06:58:07] [ENEMY] [Enemy1] Registered as sound listener
[06:58:07] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[06:58:07] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[06:58:07] [ENEMY] [Enemy2] Registered as sound listener
[06:58:07] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[06:58:07] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[06:58:07] [ENEMY] [Enemy3] Registered as sound listener
[06:58:07] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[06:58:07] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[06:58:07] [ENEMY] [Enemy4] Registered as sound listener
[06:58:07] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[06:58:07] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[06:58:07] [ENEMY] [Enemy5] Registered as sound listener
[06:58:07] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[06:58:07] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[06:58:07] [ENEMY] [Enemy6] Registered as sound listener
[06:58:07] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[06:58:07] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[06:58:07] [ENEMY] [Enemy7] Registered as sound listener
[06:58:07] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[06:58:07] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[06:58:07] [ENEMY] [Enemy8] Registered as sound listener
[06:58:07] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[06:58:07] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[06:58:07] [ENEMY] [Enemy9] Registered as sound listener
[06:58:07] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[06:58:07] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[06:58:07] [ENEMY] [Enemy10] Registered as sound listener
[06:58:07] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[06:58:07] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:58:07] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:58:07] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:58:07] [INFO] [LastChance] Found player: Player
[06:58:07] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:58:07] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:58:07] [INFO] [LastChance] Connected to player Died signal (C#)
[06:58:07] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:58:07] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:58:07] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:58:07] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:58:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.004, 1519.036), source=ENEMY (Enemy10), range=1469, listeners=19
[06:58:07] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[06:58:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.385, 1499.191), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.559, 1478.133), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.271, 1456.307), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1021.206, 1434.174), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=5924907388193, bullet_pos=(47.54776, 866.3744)
[06:58:08] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[06:58:08] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[06:58:08] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[06:58:08] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:08] [INFO] [LastChance] Threat detected: @Area2D@7688
[06:58:08] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(987.5958, 1424.066), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=5924907388193, bullet_pos=(43.40149, 802.4432)
[06:58:08] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[06:58:08] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[06:58:08] [INFO] [LastChance] Threat detected: @Area2D@7690
[06:58:08] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=5924907388193, bullet_pos=(193.9118, 699.9689)
[06:58:08] [INFO] [Bullet] Using shooter_position, distance=1151.61328125
[06:58:08] [INFO] [Bullet] Distance to wall: 1151.61328125 (78.4154659504089% of viewport)
[06:58:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(956.6977, 1408.349), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1021.877, 1445.386), shooter_id=5924907388193, bullet_pos=(36.1035, 746.5856)
[06:58:08] [INFO] [Bullet] Using shooter_position, distance=1208.33386230469
[06:58:08] [INFO] [Bullet] Distance to wall: 1208.33386230469 (82.2776746143741% of viewport)
[06:58:08] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:58:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(992.0927, 1422.697), shooter_id=5924907388193, bullet_pos=(50.34525, 734.0579)
[06:58:08] [INFO] [Bullet] Using shooter_position, distance=1166.66674804688
[06:58:08] [INFO] [Bullet] Distance to wall: 1166.66674804688 (79.4404841854927% of viewport)
[06:58:08] [INFO] [Bullet] Distance-based penetration chance: 53.9861017835919%
[06:58:08] [INFO] [Bullet] Starting wall penetration at (50.34525, 734.0579)
[06:58:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23.9399814605713
[06:58:08] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:08] [INFO] [Bullet] Exiting penetration at (12.67537, 706.5123) after traveling 41.6666679382324 pixels through wall
[06:58:08] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:08] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[06:58:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=5924907388193, bullet_pos=(518.868, 868.9145)
[06:58:08] [INFO] [Bullet] Using shooter_position, distance=802.029357910156
[06:58:08] [INFO] [Bullet] Distance to wall: 802.029357910156 (54.611653782047% of viewport)
[06:58:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(962.2788, 1400.126), shooter_id=5924907388193, bullet_pos=(59.11532, 729.3643)
[06:58:08] [INFO] [Bullet] Using shooter_position, distance=1125.00012207031
[06:58:08] [INFO] [Bullet] Distance to wall: 1125.00012207031 (76.6033270045794% of viewport)
[06:58:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(962.2788, 1400.126), shooter_id=5924907388193, bullet_pos=(122.8056, 688.2031)
[06:58:08] [INFO] [Bullet] Using shooter_position, distance=1100.70397949219
[06:58:08] [INFO] [Bullet] Distance to wall: 1100.70397949219 (74.9489579797681% of viewport)
[06:58:08] [INFO] [Bullet] Distance-based penetration chance: 59.2262156902705%
[06:58:08] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(929.6107, 1388.363), shooter_id=5924907388193, bullet_pos=(45.50738, 692.6715)
[06:58:08] [INFO] [Bullet] Using shooter_position, distance=1125.00024414063
[06:58:08] [INFO] [Bullet] Distance to wall: 1125.00024414063 (76.6033353165714% of viewport)
[06:58:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(370.9071, 780.7855), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:08] [ENEMY] [Enemy1] Heard gunshot at (370.9071, 780.7855), source_type=0, intensity=0.01, distance=437
[06:58:08] [ENEMY] [Enemy2] Heard gunshot at (370.9071, 780.7855), source_type=0, intensity=0.05, distance=233
[06:58:08] [ENEMY] [Enemy4] Heard gunshot at (370.9071, 780.7855), source_type=0, intensity=0.01, distance=445
[06:58:08] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:08] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[06:58:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.0013, 760.6563), source=ENEMY (Enemy3), range=1469, listeners=10
[06:58:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:58:08] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[06:58:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(378.2982, 767.347), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:08] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(900.1042, 1370.453), shooter_id=5924907388193, bullet_pos=(106.6316, 695.5687)
[06:58:08] [INFO] [Bullet] Using shooter_position, distance=1041.66613769531
[06:58:08] [INFO] [Bullet] Distance to wall: 1041.66613769531 (70.9289627708005% of viewport)
[06:58:08] [INFO] [LastChance] Threat detected: @Area2D@7706
[06:58:08] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:08] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(900.1042, 1370.453), shooter_id=5924907388193, bullet_pos=(53.79087, 749.9612)
[06:58:08] [INFO] [Bullet] Using shooter_position, distance=1049.40783691406
[06:58:08] [INFO] [Bullet] Distance to wall: 1049.40783691406 (71.4561093063348% of viewport)
[06:58:08] [INFO] [Bullet] Distance-based penetration chance: 63.3012058092761%
[06:58:08] [INFO] [Bullet] Starting wall penetration at (53.79087, 749.9612)
[06:58:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(388.4608, 755.0566), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:08] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9.1439037322998
[06:58:08] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:08] [INFO] [Bullet] Exiting penetration at (25.62852, 778.9507) after traveling 35.4166717529297 pixels through wall
[06:58:08] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[06:58:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(621.0198, 761.4158), source=ENEMY (Enemy3), range=1469, listeners=10
[06:58:08] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[06:58:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400.3751, 744.9695), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:08] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:08] [INFO] [LastChance] Threat detected: @Area2D@7714
[06:58:08] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(413.5309, 737.6135), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:08] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(929.6107, 1388.363), shooter_id=5924907388193, bullet_pos=(525.5891, 382.3095)
[06:58:08] [INFO] [Bullet] Using shooter_position, distance=1084.14831542969
[06:58:08] [INFO] [Bullet] Distance to wall: 1084.14831542969 (73.8216523705707% of viewport)
[06:58:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(427.9283, 732.9884), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:08] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(569.8453, 772.4182), shooter_id=5922910898431, bullet_pos=(29.11295, 804.2183)
[06:58:08] [INFO] [Bullet] Using shooter_position, distance=541.666564941406
[06:58:08] [INFO] [Bullet] Distance to wall: 541.666564941406 (36.883072443845% of viewport)
[06:58:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:08] [INFO] [Bullet] Starting wall penetration at (29.11295, 804.2183)
[06:58:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(370.9071, 780.7855), shooter_id=5925729471826, bullet_pos=(689.2863, 812.9506)
[06:58:08] [INFO] [Bullet] Using shooter_position, distance=319.999786376953
[06:58:08] [INFO] [Bullet] Distance to wall: 319.999786376953 (21.7893738821277% of viewport)
[06:58:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:08] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(621.0198, 761.4158), source=ENEMY (Enemy3), range=1469, listeners=10
[06:58:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:58:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 49.558708190918
[06:58:08] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:08] [INFO] [Bullet] Exiting penetration at (-17.47322, 806.958) after traveling 41.6666679382324 pixels through wall
[06:58:08] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:08] [INFO] [LastChance] Threat detected: @Area2D@7725
[06:58:08] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:08] [ENEMY] [Enemy3] Hit taken, health: 3/4
[06:58:08] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:08] [INFO] [ImpactEffects] spawn_blood_effect called at (621.0198, 761.4158), dir=(0.993716, 0.111934), lethal=false
[06:58:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:08] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:08] [INFO] [ImpactEffects] Blood effect spawned at (621.0198, 761.4158) (scale=0.9)
[06:58:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(443.5673, 731.0944), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:09] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:09] [ENEMY] [Enemy3] Hit taken, health: 2/4
[06:58:09] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:09] [INFO] [ImpactEffects] spawn_blood_effect called at (621.0198, 761.4158), dir=(0.992817, 0.11964), lethal=false
[06:58:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:09] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:09] [INFO] [ImpactEffects] Blood effect spawned at (621.0198, 761.4158) (scale=0.9)
[06:58:09] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:58:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(552.9536, 765.1743), shooter_id=5922910898431, bullet_pos=(53.83815, 735.4446)
[06:58:09] [INFO] [Bullet] Using shooter_position, distance=500.000061035156
[06:58:09] [INFO] [Bullet] Distance to wall: 500.000061035156 (34.0459235749237% of viewport)
[06:58:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:09] [INFO] [Bullet] Starting wall penetration at (53.83815, 735.4446)
[06:58:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(929.6107, 1388.363), shooter_id=5924907388193, bullet_pos=(338.8686, 274.2609)
[06:58:09] [INFO] [Bullet] Using shooter_position, distance=1261.03137207031
[06:58:09] [INFO] [Bullet] Distance to wall: 1261.03137207031 (85.8659449564914% of viewport)
[06:58:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24.7898139953613
[06:58:09] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:09] [INFO] [Bullet] Exiting penetration at (7.254047, 732.6698) after traveling 41.6666641235352 pixels through wall
[06:58:09] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(618.0327, 768.8373), source=ENEMY (Enemy3), range=1469, listeners=10
[06:58:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:58:09] [INFO] [LastChance] Threat detected: @Area2D@7731
[06:58:09] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(413.5309, 737.6135), shooter_id=5925729471826, bullet_pos=(682.9276, 813.9384)
[06:58:09] [INFO] [Bullet] Using shooter_position, distance=280.000061035156
[06:58:09] [INFO] [Bullet] Distance to wall: 280.000061035156 (19.0657190305955% of viewport)
[06:58:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:09] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:09] [ENEMY] [Enemy3] Hit taken, health: 1/4
[06:58:09] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:09] [INFO] [ImpactEffects] spawn_blood_effect called at (615.0455, 776.2587), dir=(0.928534, 0.371248), lethal=false
[06:58:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:09] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:09] [INFO] [ImpactEffects] Wall found for blood splatter at (699.4362, 810) (dist=90 px)
[06:58:09] [INFO] [ImpactEffects] Blood effect spawned at (615.0455, 776.2587) (scale=0.9)
[06:58:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(614.0497, 778.7325), source=ENEMY (Enemy3), range=1469, listeners=10
[06:58:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:58:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(427.9283, 732.9884), shooter_id=5925729471826, bullet_pos=(691.2992, 828.0447)
[06:58:09] [INFO] [Bullet] Using shooter_position, distance=279.999816894531
[06:58:09] [INFO] [Bullet] Distance to wall: 279.999816894531 (19.0657024066114% of viewport)
[06:58:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:09] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:09] [INFO] [LastChance] Threat detected: @Area2D@7734
[06:58:09] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(378.2982, 767.347), shooter_id=5925729471826, bullet_pos=(916.0568, 816.5037)
[06:58:09] [INFO] [Bullet] Using shooter_position, distance=540.000610351563
[06:58:09] [INFO] [Bullet] Distance to wall: 540.000610351563 (36.7696345324022% of viewport)
[06:58:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:09] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:09] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[06:58:09] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[06:58:09] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[06:58:09] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[06:58:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(550.6185, 759.5677), shooter_id=5922910898431, bullet_pos=(136.6567, 712.1666)
[06:58:09] [INFO] [Bullet] Using shooter_position, distance=416.666748046875
[06:58:09] [INFO] [Bullet] Distance to wall: 416.666748046875 (28.3716050571011% of viewport)
[06:58:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(929.6107, 1388.363), shooter_id=5924907388193, bullet_pos=(66.50549, 473.8268)
[06:58:09] [INFO] [Bullet] Using shooter_position, distance=1257.50830078125
[06:58:09] [INFO] [Bullet] Distance to wall: 1257.50830078125 (85.6260525540623% of viewport)
[06:58:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(550.6185, 759.5677), shooter_id=5922910898431, bullet_pos=(60.87147, 709.4667)
[06:58:09] [INFO] [Bullet] Using shooter_position, distance=492.303009033203
[06:58:09] [INFO] [Bullet] Distance to wall: 492.303009033203 (33.5218171504801% of viewport)
[06:58:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:09] [INFO] [Bullet] Starting wall penetration at (60.87147, 709.4667)
[06:58:09] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[06:58:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11.5268812179565
[06:58:09] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:09] [INFO] [Bullet] Exiting penetration at (20.48043, 708.0278) after traveling 35.4166679382324 pixels through wall
[06:58:09] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[06:58:09] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[06:58:09] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[06:58:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[06:58:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[06:58:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(929.6107, 1388.363), shooter_id=5924907388193, bullet_pos=(284.9551, 693.0804)
[06:58:09] [INFO] [Bullet] Using shooter_position, distance=948.155517578125
[06:58:09] [INFO] [Bullet] Distance to wall: 948.155517578125 (64.5616526961531% of viewport)
[06:58:09] [INFO] [Bullet] Distance-based penetration chance: 71.3447385211548%
[06:58:09] [INFO] [Bullet] Starting wall penetration at (284.9551, 693.0804)
[06:58:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[06:58:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[06:58:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 0.04289950802922
[06:58:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21.7931385040283
[06:58:09] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:09] [INFO] [Bullet] Exiting penetration at (319.1871, 727.4384) after traveling 43.5005226135254 pixels through wall
[06:58:09] [INFO] [Bullet] Damage multiplier after penetration: 0.05625
[06:58:09] [INFO] [LastChance] Threat detected: @Area2D@7745
[06:58:09] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[06:58:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[06:58:09] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(430.1498, 607.4003), shooter_id=5922625686292, bullet_pos=(692.0546, 875.7858)
[06:58:09] [INFO] [Bullet] Using shooter_position, distance=374.999908447266
[06:58:09] [INFO] [Bullet] Distance to wall: 374.999908447266 (25.5344333302017% of viewport)
[06:58:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:09] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:09] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(431.4524, 609.1711), shooter_id=5922625686292, bullet_pos=(680.986, 889.0961)
[06:58:09] [INFO] [Bullet] Using shooter_position, distance=375.000091552734
[06:58:09] [INFO] [Bullet] Distance to wall: 375.000091552734 (25.5344457981898% of viewport)
[06:58:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(430.1498, 607.4003), shooter_id=5922625686292, bullet_pos=(572.5809, 1013.192)
[06:58:09] [INFO] [Bullet] Using shooter_position, distance=430.062042236328
[06:58:09] [INFO] [Bullet] Distance to wall: 430.062042236328 (29.283715270235% of viewport)
[06:58:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(430.1498, 607.4003), shooter_id=5922625686292, bullet_pos=(523.5812, 970.1666)
[06:58:09] [INFO] [Bullet] Using shooter_position, distance=374.604949951172
[06:58:09] [INFO] [Bullet] Distance to wall: 374.604949951172 (25.5075398799381% of viewport)
[06:58:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:09] [ENEMY] [Enemy3] Hit taken, health: 0/4
[06:58:09] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:09] [INFO] [ImpactEffects] spawn_blood_effect called at (561.8807, 910.4951), dir=(0.468938, 0.883231), lethal=true
[06:58:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:09] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[06:58:09] [INFO] [ImpactEffects] Blood effect spawned at (561.8807, 910.4951) (scale=1.5)
[06:58:09] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[06:58:09] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[06:58:09] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[06:58:09] [INFO] [DeathAnim] Started - Angle: 62.0 deg, Index: 16
[06:58:09] [ENEMY] [Enemy3] Death animation started with hit direction: (0.468938, 0.883231)
[06:58:09] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[06:58:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(431.4524, 609.1711), shooter_id=5922625686292, bullet_pos=(588.8411, 1003.203)
[06:58:09] [INFO] [Bullet] Using shooter_position, distance=424.302368164063
[06:58:09] [INFO] [Bullet] Distance to wall: 424.302368164063 (28.8915284715477% of viewport)
[06:58:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(431.4524, 609.1711), shooter_id=5922625686292, bullet_pos=(522.5078, 934.7609)
[06:58:09] [INFO] [Bullet] Using shooter_position, distance=338.08251953125
[06:58:09] [INFO] [Bullet] Distance to wall: 338.08251953125 (23.020660433818% of viewport)
[06:58:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:09] [INFO] [Bullet] Starting wall penetration at (522.5078, 934.7609)
[06:58:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 2.76342368125916
[06:58:09] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:58:09] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:58:09] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:58:09] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:58:09] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:58:09] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:58:09] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:58:09] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:58:09] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:58:09] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:58:09] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:58:09] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:09] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[06:58:09] [INFO] [Bullet] Max penetration distance exceeded: 60.2083435058594 >= 48
[06:58:09] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:09] [INFO] [Bullet] Exiting penetration at (477.1256, 887.9358) after traveling 60.2083435058594 pixels through wall
[06:58:09] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[06:58:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(632.2526, 890.2884), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:10] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:10] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:10] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:10] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:10] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(632.2526, 890.2884), shooter_id=5925729471826, bullet_pos=(678.2471, 889.5907)
[06:58:10] [INFO] [Bullet] Using shooter_position, distance=45.9997978210449
[06:58:10] [INFO] [Bullet] Distance to wall: 45.9997978210449 (3.13221081980452% of viewport)
[06:58:10] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[06:58:10] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:10] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:10] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:10] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:10] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.1271, 899.6414), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:10] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:10] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:10] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:10] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:10] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:10] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:10] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:10] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:10] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:10] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:10] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(652.0405, 906.8975), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:10] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:10] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:10] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:10] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:10] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:10] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:11] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:11] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:11] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:11] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:11] [ENEMY] [Enemy4] Hit taken, health: 3/4
[06:58:11] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:11] [INFO] [ImpactEffects] spawn_blood_effect called at (784.7296, 896.6132), dir=(0.999892, -0.014679), lethal=false
[06:58:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:11] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:11] [INFO] [ImpactEffects] Blood effect spawned at (784.7296, 896.6132) (scale=0.9)
[06:58:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(663.1663, 912.5902), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:11] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:11] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:11] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:11] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:11] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:11] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:11] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:11] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:11] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:11] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:11] [ENEMY] [Enemy4] Hit taken, health: 2/4
[06:58:11] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:11] [INFO] [ImpactEffects] spawn_blood_effect called at (786.624, 889.006), dir=(0.997137, -0.07562), lethal=false
[06:58:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:11] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:11] [INFO] [ImpactEffects] Blood effect spawned at (786.624, 889.006) (scale=0.9)
[06:58:11] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:11] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:11] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(675.1642, 916.3909), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:11] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:11] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:11] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:11] [ENEMY] [Enemy4] Hit taken, health: 1/4
[06:58:11] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:11] [INFO] [ImpactEffects] spawn_blood_effect called at (788.6989, 880.6744), dir=(0.988669, -0.15011), lethal=false
[06:58:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:11] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:11] [INFO] [ImpactEffects] Blood effect spawned at (788.6989, 880.6744) (scale=0.9)
[06:58:11] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:11] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:11] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:11] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(687.5028, 918.2597), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:12] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:12] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:12] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:12] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:12] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:12] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:12] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:12] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:12] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:12] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(701.6713, 918.5446), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:12] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:12] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:12] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:12] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:12] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(714.871, 918.5446), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:12] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[06:58:12] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[06:58:12] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:58:12] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:58:12] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[06:58:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(733.021, 918.5446), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:12] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[06:58:12] [ENEMY] [Enemy3] Ragdoll activated
[06:58:12] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[06:58:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(687.5028, 918.2597), shooter_id=5925729471826, bullet_pos=(927.9761, 866.4045)
[06:58:12] [INFO] [Bullet] Using shooter_position, distance=246.000793457031
[06:58:12] [INFO] [Bullet] Distance to wall: 246.000793457031 (16.7506463820607% of viewport)
[06:58:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:12] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(755.021, 918.5446), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:12] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[06:58:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(701.6713, 918.5446), shooter_id=5925729471826, bullet_pos=(909.7941, 868.7355)
[06:58:12] [INFO] [Bullet] Using shooter_position, distance=214.000122070313
[06:58:12] [INFO] [Bullet] Distance to wall: 214.000122070313 (14.5716618232931% of viewport)
[06:58:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:12] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(714.871, 918.5446), shooter_id=5925729471826, bullet_pos=(914.0941, 866.1418)
[06:58:13] [INFO] [Bullet] Using shooter_position, distance=205.99967956543
[06:58:13] [INFO] [Bullet] Distance to wall: 205.99967956543 (14.0268969816191% of viewport)
[06:58:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:13] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(777.021, 918.5446), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:13] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[06:58:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(733.021, 918.5446), shooter_id=5925729471826, bullet_pos=(912.8051, 927.3524)
[06:58:13] [INFO] [Bullet] Using shooter_position, distance=179.999740600586
[06:58:13] [INFO] [Bullet] Distance to wall: 179.999740600586 (12.2565133278309% of viewport)
[06:58:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:13] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(755.021, 918.5446), shooter_id=5925729471826, bullet_pos=(926.1973, 862.878)
[06:58:13] [INFO] [Bullet] Using shooter_position, distance=180.000305175781
[06:58:13] [INFO] [Bullet] Distance to wall: 180.000305175781 (12.2565517707941% of viewport)
[06:58:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:13] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(777.021, 918.5446), shooter_id=5925729471826, bullet_pos=(914.0751, 889.9751)
[06:58:13] [INFO] [Bullet] Using shooter_position, distance=140.000183105469
[06:58:13] [INFO] [Bullet] Distance to wall: 140.000183105469 (9.53286990528783% of viewport)
[06:58:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:13] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400.7086, 610.0761), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[06:58:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400.7086, 610.0761), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[06:58:13] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:13] [ENEMY] [Enemy4] Hit taken, health: 0/4
[06:58:13] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:13] [INFO] [ImpactEffects] spawn_blood_effect called at (647.3582, 744.2634), dir=(0.944127, 0.329583), lethal=true
[06:58:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:13] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[06:58:13] [INFO] [ImpactEffects] Blood effect spawned at (647.3582, 744.2634) (scale=1.5)
[06:58:13] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[06:58:13] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[06:58:13] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[06:58:13] [INFO] [DeathAnim] Started - Angle: 19.2 deg, Index: 13
[06:58:13] [ENEMY] [Enemy4] Death animation started with hit direction: (0.944127, 0.329583)
[06:58:13] [ENEMY] [Enemy3] Death animation completed
[06:58:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(458.0388, 647.2302), shooter_id=5922625686292, bullet_pos=(908.2695, 864.698)
[06:58:14] [INFO] [Bullet] Using shooter_position, distance=499.999908447266
[06:58:14] [INFO] [Bullet] Distance to wall: 499.999908447266 (34.0459131849337% of viewport)
[06:58:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:14] [INFO] [Bullet] Starting wall penetration at (908.2695, 864.698)
[06:58:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15.8708524703979
[06:58:14] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:14] [INFO] [Bullet] Exiting penetration at (950.2911, 884.995) after traveling 41.6666679382324 pixels through wall
[06:58:14] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:14] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:14] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:14] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:58:14] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:58:14] [ENEMY] [Enemy1] Death animation component initialized
[06:58:14] [ENEMY] [Enemy2] Death animation component initialized
[06:58:14] [ENEMY] [Enemy3] Death animation component initialized
[06:58:14] [ENEMY] [Enemy4] Death animation component initialized
[06:58:14] [ENEMY] [Enemy5] Death animation component initialized
[06:58:14] [ENEMY] [Enemy6] Death animation component initialized
[06:58:14] [ENEMY] [Enemy7] Death animation component initialized
[06:58:14] [ENEMY] [Enemy8] Death animation component initialized
[06:58:14] [ENEMY] [Enemy9] Death animation component initialized
[06:58:14] [ENEMY] [Enemy10] Death animation component initialized
[06:58:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:58:14] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:58:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:58:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:58:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:58:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:58:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:58:14] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[06:58:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:58:14] [INFO] [ScoreManager] Level started with 10 enemies
[06:58:14] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[06:58:14] [ENEMY] [Enemy1] Registered as sound listener
[06:58:14] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[06:58:14] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[06:58:14] [ENEMY] [Enemy2] Registered as sound listener
[06:58:14] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[06:58:14] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[06:58:14] [ENEMY] [Enemy3] Registered as sound listener
[06:58:14] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[06:58:14] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[06:58:14] [ENEMY] [Enemy4] Registered as sound listener
[06:58:14] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[06:58:14] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[06:58:14] [ENEMY] [Enemy5] Registered as sound listener
[06:58:14] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[06:58:14] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[06:58:14] [ENEMY] [Enemy6] Registered as sound listener
[06:58:14] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[06:58:14] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[06:58:14] [ENEMY] [Enemy7] Registered as sound listener
[06:58:14] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[06:58:14] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[06:58:14] [ENEMY] [Enemy8] Registered as sound listener
[06:58:14] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[06:58:14] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[06:58:14] [ENEMY] [Enemy9] Registered as sound listener
[06:58:14] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[06:58:14] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[06:58:14] [ENEMY] [Enemy10] Registered as sound listener
[06:58:14] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[06:58:14] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:58:14] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:58:14] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:58:14] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:58:14] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:58:14] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:58:14] [INFO] [LastChance] Found player: Player
[06:58:14] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:58:14] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:58:14] [INFO] [LastChance] Connected to player Died signal (C#)
[06:58:14] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:58:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.004, 1519.036), source=ENEMY (Enemy10), range=1469, listeners=18
[06:58:14] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[06:58:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.385, 1499.191), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.598, 1478.078), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.686, 1455.743), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=6404383443944, bullet_pos=(47.54776, 866.3744)
[06:58:15] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[06:58:15] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[06:58:15] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:58:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=6404383443944, bullet_pos=(43.40149, 802.4432)
[06:58:15] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[06:58:15] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[06:58:15] [INFO] [Bullet] Distance-based penetration chance: 50.6760656778783%
[06:58:15] [INFO] [Bullet] Starting wall penetration at (43.40149, 802.4432)
[06:58:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=6404383443944, bullet_pos=(240.1717, 702.4756)
[06:58:15] [INFO] [Bullet] Using shooter_position, distance=1153.32788085938
[06:58:15] [INFO] [Bullet] Distance to wall: 1153.32788085938 (78.5322161906819% of viewport)
[06:58:15] [INFO] [LastChance] Threat detected: @Area2D@8064
[06:58:15] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.0024871826172
[06:58:15] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:15] [INFO] [Bullet] Exiting penetration at (4.462528, 776.7229) after traveling 41.6666679382324 pixels through wall
[06:58:15] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.149, 1444.873), shooter_id=6404383443944, bullet_pos=(41.66475, 738.6735)
[06:58:15] [INFO] [Bullet] Using shooter_position, distance=1208.33276367188
[06:58:15] [INFO] [Bullet] Distance to wall: 1208.33276367188 (82.2775998064458% of viewport)
[06:58:15] [INFO] [Bullet] Distance-based penetration chance: 50.6761335591466%
[06:58:15] [INFO] [Bullet] Starting wall penetration at (41.66475, 738.6735)
[06:58:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.7560081481934
[06:58:15] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:15] [INFO] [Bullet] Exiting penetration at (3.797741, 711.3995) after traveling 41.6666679382324 pixels through wall
[06:58:15] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=6404383443944, bullet_pos=(510.367, 902.447)
[06:58:15] [INFO] [Bullet] Using shooter_position, distance=820.3310546875
[06:58:15] [INFO] [Bullet] Distance to wall: 820.3310546875 (55.8578499694692% of viewport)
[06:58:15] [INFO] [Bullet] Distance-based penetration chance: 81.4991750356193%
[06:58:15] [INFO] [Bullet] Starting wall penetration at (510.367, 902.447)
[06:58:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18.1435680389404
[06:58:15] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:15] [INFO] [Bullet] Exiting penetration at (538.5839, 923.3303) after traveling 30.1041698455811 pixels through wall
[06:58:15] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[06:58:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6042, 1420.208), shooter_id=6404383443944, bullet_pos=(41.90015, 675.675)
[06:58:15] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[06:58:15] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[06:58:15] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[06:58:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(408.0999, 793.3605), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:15] [ENEMY] [Enemy1] Heard gunshot at (408.0999, 793.3605), source_type=0, intensity=0.01, distance=456
[06:58:15] [ENEMY] [Enemy2] Heard gunshot at (408.0999, 793.3605), source_type=0, intensity=0.04, distance=243
[06:58:15] [ENEMY] [Enemy4] Heard gunshot at (408.0999, 793.3605), source_type=0, intensity=0.02, distance=406
[06:58:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(419.6003, 782.363), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(647.7907, 760.6869), source=ENEMY (Enemy3), range=1469, listeners=10
[06:58:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:58:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(408.0999, 793.3605), shooter_id=6405205527980, bullet_pos=(507.8602, 800.2794)
[06:58:15] [INFO] [Bullet] Using shooter_position, distance=99.9999313354492
[06:58:15] [INFO] [Bullet] Distance to wall: 99.9999313354492 (6.80917920829002% of viewport)
[06:58:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:15] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6042, 1420.208), shooter_id=6404383443944, bullet_pos=(504.2162, 403.9619)
[06:58:15] [INFO] [Bullet] Using shooter_position, distance=1127.94372558594
[06:58:15] [INFO] [Bullet] Distance to wall: 1127.94372558594 (76.8037623807679% of viewport)
[06:58:15] [INFO] [Bullet] Distance-based penetration chance: 57.0622772224375%
[06:58:15] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:15] [INFO] [LastChance] Threat detected: Bullet
[06:58:15] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(432.3423, 774.0966), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(446.3259, 768.5612), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:16] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[06:58:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(647.7907, 760.6869), source=ENEMY (Enemy3), range=1469, listeners=10
[06:58:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:58:16] [INFO] [LastChance] Threat detected: @Area2D@8080
[06:58:16] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:16] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[06:58:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(461.551, 765.7568), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:16] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:16] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[06:58:16] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[06:58:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(477.8908, 765.4045), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(581.1324, 774.8533), shooter_id=6402386953592, bullet_pos=(41.89307, 826.0765)
[06:58:16] [INFO] [Bullet] Using shooter_position, distance=541.666748046875
[06:58:16] [INFO] [Bullet] Distance to wall: 541.666748046875 (36.883084911833% of viewport)
[06:58:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(647.7907, 760.6869), source=ENEMY (Enemy3), range=1469, listeners=10
[06:58:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:58:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(494.3908, 765.4045), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:16] [INFO] [LastChance] Threat detected: @Area2D@8087
[06:58:16] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:16] [ENEMY] [Enemy3] Hit taken, health: 3/4
[06:58:16] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:16] [INFO] [ImpactEffects] spawn_blood_effect called at (647.7907, 760.6869), dir=(0.998453, 0.055603), lethal=false
[06:58:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:16] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:16] [INFO] [ImpactEffects] Blood effect spawned at (647.7907, 760.6869) (scale=0.9)
[06:58:16] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:58:16] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:58:16] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:58:16] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:58:16] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:58:16] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:58:16] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:58:16] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:58:16] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:58:16] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:58:16] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:58:16] [ENEMY] [Enemy3] Hit taken, health: 2/4
[06:58:16] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:16] [INFO] [ImpactEffects] spawn_blood_effect called at (647.7907, 760.6869), dir=(0.998211, 0.059796), lethal=false
[06:58:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:16] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:16] [INFO] [ImpactEffects] Blood effect spawned at (647.7907, 760.6869) (scale=0.9)
[06:58:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(510.8908, 765.4045), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:16] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:58:16] [ENEMY] [Enemy3] Hit taken, health: 1/4
[06:58:16] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:16] [INFO] [ImpactEffects] spawn_blood_effect called at (645.3186, 766.3007), dir=(0.995055, 0.099321), lethal=false
[06:58:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:16] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:16] [INFO] [ImpactEffects] Blood effect spawned at (645.3186, 766.3007) (scale=0.9)
[06:58:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(643.9213, 769.4738), source=ENEMY (Enemy3), range=1469, listeners=10
[06:58:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:58:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(477.8908, 765.4045), shooter_id=6405205527980, bullet_pos=(695.9325, 807.1451)
[06:58:16] [INFO] [Bullet] Using shooter_position, distance=222.001052856445
[06:58:16] [INFO] [Bullet] Distance to wall: 222.001052856445 (15.1164599129353% of viewport)
[06:58:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:16] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:16] [ENEMY] [Enemy3] Hit taken, health: 0/4
[06:58:16] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:16] [INFO] [ImpactEffects] spawn_blood_effect called at (643.1689, 771.1823), dir=(0.99908, -0.042884), lethal=true
[06:58:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:16] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[06:58:16] [INFO] [ImpactEffects] Blood effect spawned at (643.1689, 771.1823) (scale=1.35)
[06:58:16] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[06:58:16] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[06:58:16] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[06:58:16] [INFO] [DeathAnim] Started - Angle: -2.5 deg, Index: 11
[06:58:16] [ENEMY] [Enemy3] Death animation started with hit direction: (0.99908, -0.042884)
[06:58:16] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[06:58:16] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[06:58:16] [INFO] [PenultimateHit] Player died - ending penultimate effect
[06:58:16] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:58:16] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:58:16] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[06:58:16] [INFO] [LastChance] Player died
[06:58:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(419.6003, 782.363), shooter_id=6405205527980, bullet_pos=(912.4709, 815.7443)
[06:58:17] [INFO] [Bullet] Using shooter_position, distance=493.999694824219
[06:58:17] [INFO] [Bullet] Distance to wall: 493.999694824219 (33.6373476059205% of viewport)
[06:58:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:17] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.3423, 774.0966), shooter_id=6405205527980, bullet_pos=(924.625, 815.2406)
[06:58:17] [INFO] [Bullet] Using shooter_position, distance=493.999053955078
[06:58:17] [INFO] [Bullet] Distance to wall: 493.999053955078 (33.6373039679622% of viewport)
[06:58:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:17] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:17] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[06:58:17] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[06:58:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:58:17] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[06:58:17] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[06:58:17] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[06:58:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:58:17] [INFO] [LastChance] Threat detected: @Area2D@8099
[06:58:17] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:58:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.5721, 612.0238), shooter_id=6402101741154, bullet_pos=(682.7, 834.6083)
[06:58:17] [INFO] [Bullet] Using shooter_position, distance=333.333587646484
[06:58:17] [INFO] [Bullet] Distance to wall: 333.333587646484 (22.6972969292686% of viewport)
[06:58:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:17] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.9503, 609.5034), shooter_id=6402101741154, bullet_pos=(500.768, 714.507)
[06:58:17] [INFO] [Bullet] Using shooter_position, distance=125.000030517578
[06:58:17] [INFO] [Bullet] Distance to wall: 125.000030517578 (8.51148193272994% of viewport)
[06:58:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:17] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:17] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.5721, 612.0238), shooter_id=6402101741154, bullet_pos=(537.3441, 996.4041)
[06:58:17] [INFO] [Bullet] Using shooter_position, distance=397.882263183594
[06:58:17] [INFO] [Bullet] Distance to wall: 397.882263183594 (27.0925349411384% of viewport)
[06:58:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.5721, 612.0238), shooter_id=6402101741154, bullet_pos=(510.8798, 973.3403)
[06:58:17] [INFO] [Bullet] Using shooter_position, distance=369.286437988281
[06:58:17] [INFO] [Bullet] Distance to wall: 369.286437988281 (25.1453926205037% of viewport)
[06:58:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:17] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[06:58:17] [ENEMY] [Enemy3] Ragdoll activated
[06:58:17] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[06:58:17] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:17] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:58:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:58:17] [ENEMY] [Enemy1] Death animation component initialized
[06:58:17] [ENEMY] [Enemy2] Death animation component initialized
[06:58:17] [ENEMY] [Enemy3] Death animation component initialized
[06:58:17] [ENEMY] [Enemy4] Death animation component initialized
[06:58:17] [ENEMY] [Enemy5] Death animation component initialized
[06:58:17] [ENEMY] [Enemy6] Death animation component initialized
[06:58:17] [ENEMY] [Enemy7] Death animation component initialized
[06:58:17] [ENEMY] [Enemy8] Death animation component initialized
[06:58:17] [ENEMY] [Enemy9] Death animation component initialized
[06:58:17] [ENEMY] [Enemy10] Death animation component initialized
[06:58:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:58:17] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:58:17] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:58:17] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:58:17] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:58:17] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:58:17] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:58:17] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[06:58:17] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:58:17] [INFO] [ScoreManager] Level started with 10 enemies
[06:58:17] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[06:58:17] [ENEMY] [Enemy1] Registered as sound listener
[06:58:17] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[06:58:17] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[06:58:17] [ENEMY] [Enemy2] Registered as sound listener
[06:58:17] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[06:58:17] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[06:58:17] [ENEMY] [Enemy3] Registered as sound listener
[06:58:17] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[06:58:17] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[06:58:17] [ENEMY] [Enemy4] Registered as sound listener
[06:58:17] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[06:58:17] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[06:58:17] [ENEMY] [Enemy5] Registered as sound listener
[06:58:17] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[06:58:17] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[06:58:17] [ENEMY] [Enemy6] Registered as sound listener
[06:58:17] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[06:58:17] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[06:58:17] [ENEMY] [Enemy7] Registered as sound listener
[06:58:17] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[06:58:17] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[06:58:17] [ENEMY] [Enemy8] Registered as sound listener
[06:58:17] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[06:58:17] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[06:58:17] [ENEMY] [Enemy9] Registered as sound listener
[06:58:17] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[06:58:17] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[06:58:17] [ENEMY] [Enemy10] Registered as sound listener
[06:58:17] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[06:58:17] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:58:17] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:58:17] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:58:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:58:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:58:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:58:17] [INFO] [LastChance] Found player: Player
[06:58:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:58:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:58:17] [INFO] [LastChance] Connected to player Died signal (C#)
[06:58:17] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:17] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:58:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:58:17] [ENEMY] [Enemy1] Death animation component initialized
[06:58:17] [ENEMY] [Enemy2] Death animation component initialized
[06:58:17] [ENEMY] [Enemy3] Death animation component initialized
[06:58:17] [ENEMY] [Enemy4] Death animation component initialized
[06:58:17] [ENEMY] [Enemy5] Death animation component initialized
[06:58:17] [ENEMY] [Enemy6] Death animation component initialized
[06:58:17] [ENEMY] [Enemy7] Death animation component initialized
[06:58:17] [ENEMY] [Enemy8] Death animation component initialized
[06:58:17] [ENEMY] [Enemy9] Death animation component initialized
[06:58:17] [ENEMY] [Enemy10] Death animation component initialized
[06:58:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:58:17] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:58:17] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:58:17] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:58:17] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:58:17] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:58:17] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:58:17] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[06:58:17] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:58:17] [INFO] [ScoreManager] Level started with 10 enemies
[06:58:17] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[06:58:17] [ENEMY] [Enemy1] Registered as sound listener
[06:58:17] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[06:58:17] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[06:58:17] [ENEMY] [Enemy2] Registered as sound listener
[06:58:17] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[06:58:17] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[06:58:17] [ENEMY] [Enemy3] Registered as sound listener
[06:58:17] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[06:58:17] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[06:58:17] [ENEMY] [Enemy4] Registered as sound listener
[06:58:17] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[06:58:17] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[06:58:17] [ENEMY] [Enemy5] Registered as sound listener
[06:58:17] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[06:58:17] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[06:58:17] [ENEMY] [Enemy6] Registered as sound listener
[06:58:17] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[06:58:17] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[06:58:17] [ENEMY] [Enemy7] Registered as sound listener
[06:58:17] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[06:58:17] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[06:58:17] [ENEMY] [Enemy8] Registered as sound listener
[06:58:17] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[06:58:17] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[06:58:17] [ENEMY] [Enemy9] Registered as sound listener
[06:58:17] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[06:58:17] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[06:58:17] [ENEMY] [Enemy10] Registered as sound listener
[06:58:17] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[06:58:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:58:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:58:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:58:17] [INFO] [LastChance] Found player: Player
[06:58:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:58:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:58:17] [INFO] [LastChance] Connected to player Died signal (C#)
[06:58:17] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:58:17] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:58:17] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:58:18] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:58:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.268, 1520.384), source=ENEMY (Enemy10), range=1469, listeners=29
[06:58:18] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[06:58:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1110.852, 1501.869), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1079.171, 1482.122), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1048.276, 1461.168), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1018.206, 1439.045), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1080.262, 1494.585), shooter_id=6645572701592, bullet_pos=(58.35171, 931.7248)
[06:58:18] [INFO] [Bullet] Using shooter_position, distance=1166.66772460938
[06:58:18] [INFO] [Bullet] Distance to wall: 1166.66772460938 (79.440550681429% of viewport)
[06:58:18] [INFO] [Bullet] Distance-based penetration chance: 53.9860242049995%
[06:58:18] [INFO] [Bullet] Starting wall penetration at (58.35171, 931.7248)
[06:58:18] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16.5821895599365
[06:58:19] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:19] [INFO] [Bullet] Exiting penetration at (17.4753, 909.2104) after traveling 41.6666717529297 pixels through wall
[06:58:19] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1048.846, 1473.733), shooter_id=6645572701592, bullet_pos=(48.64918, 873.1344)
[06:58:19] [INFO] [Bullet] Using shooter_position, distance=1166.66687011719
[06:58:19] [INFO] [Bullet] Distance to wall: 1166.66687011719 (79.4404924974847% of viewport)
[06:58:19] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:58:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.299, 1451.609), shooter_id=6645572701592, bullet_pos=(42.08319, 812.7733)
[06:58:19] [INFO] [Bullet] Using shooter_position, distance=1166.66613769531
[06:58:19] [INFO] [Bullet] Distance to wall: 1166.66613769531 (79.4404426255325% of viewport)
[06:58:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1048.846, 1473.733), shooter_id=6645572701592, bullet_pos=(404.2892, 702.2067)
[06:58:19] [INFO] [Bullet] Using shooter_position, distance=1005.33868408203
[06:58:19] [INFO] [Bullet] Distance to wall: 1005.33868408203 (68.4553596539753% of viewport)
[06:58:19] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[06:58:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.299, 1451.609), shooter_id=6645572701592, bullet_pos=(190.2724, 706.9703)
[06:58:19] [INFO] [Bullet] Using shooter_position, distance=1113.60510253906
[06:58:19] [INFO] [Bullet] Distance to wall: 1113.60510253906 (75.8274191711033% of viewport)
[06:58:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(988.6229, 1428.337), shooter_id=6645572701592, bullet_pos=(37.69627, 752.4299)
[06:58:19] [INFO] [Bullet] Using shooter_position, distance=1166.66674804688
[06:58:19] [INFO] [Bullet] Distance to wall: 1166.66674804688 (79.4404841854927% of viewport)
[06:58:19] [INFO] [Bullet] Distance-based penetration chance: 53.9861017835919%
[06:58:19] [INFO] [Bullet] Starting wall penetration at (37.69627, 752.4299)
[06:58:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39.678050994873
[06:58:19] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:19] [INFO] [Bullet] Exiting penetration at (-0.340778, 725.3937) after traveling 41.6666679382324 pixels through wall
[06:58:19] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:19] [INFO] [LastChance] Threat detected: @Area2D@8631
[06:58:19] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(959.8484, 1403.964), shooter_id=6645572701592, bullet_pos=(35.37677, 692.3019)
[06:58:19] [INFO] [Bullet] Using shooter_position, distance=1166.66662597656
[06:58:19] [INFO] [Bullet] Distance to wall: 1166.66662597656 (79.4404758735006% of viewport)
[06:58:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1048.846, 1473.733), shooter_id=6645572701592, bullet_pos=(684.9251, 887.2404)
[06:58:19] [INFO] [Bullet] Using shooter_position, distance=690.225830078125
[06:58:19] [INFO] [Bullet] Distance to wall: 690.225830078125 (46.9987459834047% of viewport)
[06:58:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.0085, 760.575), source=ENEMY (Enemy3), range=1469, listeners=10
[06:58:19] [ENEMY] [Enemy2] Heard gunshot at (637.0085, 760.575), source_type=1, intensity=0.02, distance=317
[06:58:19] [ENEMY] [Enemy4] Heard gunshot at (637.0085, 760.575), source_type=1, intensity=0.05, distance=214
[06:58:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:58:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.299, 1451.609), shooter_id=6645572701592, bullet_pos=(501.1622, 952.8244)
[06:58:19] [INFO] [Bullet] Using shooter_position, distance=718.482788085938
[06:58:19] [INFO] [Bullet] Distance to wall: 718.482788085938 (48.9228142141207% of viewport)
[06:58:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(385.0222, 762.3171), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:19] [ENEMY] [Enemy1] Heard gunshot at (385.0222, 762.3171), source_type=0, intensity=0.01, distance=421
[06:58:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:19] [INFO] [LastChance] Threat detected: Bullet
[06:58:19] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.4133, 748.8787), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1048.846, 1473.733), shooter_id=6645572701592, bullet_pos=(546.4027, 1008.532)
[06:58:19] [INFO] [Bullet] Using shooter_position, distance=684.734191894531
[06:58:19] [INFO] [Bullet] Distance to wall: 684.734191894531 (46.6248102412516% of viewport)
[06:58:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1048.846, 1473.733), shooter_id=6645572701592, bullet_pos=(514.0676, 972.3829)
[06:58:19] [INFO] [Bullet] Using shooter_position, distance=733.034423828125
[06:58:19] [INFO] [Bullet] Distance to wall: 733.034423828125 (49.9136618499049% of viewport)
[06:58:19] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:58:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(401.7906, 737.5173), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(626.3524, 761.0482), source=ENEMY (Enemy3), range=1469, listeners=10
[06:58:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[06:58:19] [INFO] [LastChance] Threat detected: @Area2D@8653
[06:58:19] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(412.7614, 728.6978), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:19] [ENEMY] [Enemy3] Hit taken, health: 1/2
[06:58:19] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:19] [INFO] [ImpactEffects] spawn_blood_effect called at (617.3348, 772.9515), dir=(0.997488, 0.070842), lethal=false
[06:58:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:19] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:19] [INFO] [ImpactEffects] Blood effect spawned at (617.3348, 772.9515) (scale=0.9)
[06:58:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(959.8484, 1403.964), shooter_id=6645572701592, bullet_pos=(503.0679, 363.5653)
[06:58:19] [INFO] [Bullet] Using shooter_position, distance=1136.25598144531
[06:58:19] [INFO] [Bullet] Distance to wall: 1136.25598144531 (77.3697591671234% of viewport)
[06:58:19] [INFO] [Bullet] Distance-based penetration chance: 56.401947638356%
[06:58:19] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(425.7945, 728.0665), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(569.6716, 771.3712), shooter_id=6643576211016, bullet_pos=(28.53793, 795.3978)
[06:58:19] [INFO] [Bullet] Using shooter_position, distance=541.666809082031
[06:58:19] [INFO] [Bullet] Distance to wall: 541.666809082031 (36.8830890678291% of viewport)
[06:58:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:19] [INFO] [Bullet] Starting wall penetration at (28.53793, 795.3978)
[06:58:19] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:58:19] [INFO] [Bullet] Exiting penetration at (-18.0828, 797.4678) after traveling 41.6666679382324 pixels through wall
[06:58:19] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:19] [ENEMY] [Enemy3] Hit taken, health: 0/2
[06:58:19] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:19] [INFO] [ImpactEffects] spawn_blood_effect called at (610.5717, 781.879), dir=(0.99815, 0.060801), lethal=true
[06:58:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:19] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[06:58:19] [INFO] [ImpactEffects] Blood effect spawned at (610.5717, 781.879) (scale=1.35)
[06:58:19] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[06:58:19] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[06:58:19] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[06:58:19] [INFO] [DeathAnim] Started - Angle: 3.5 deg, Index: 12
[06:58:19] [ENEMY] [Enemy3] Death animation started with hit direction: (0.99815, 0.060801)
[06:58:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(441.6499, 728.0665), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[06:58:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1048.846, 1473.733), shooter_id=6645572701592, bullet_pos=(685.0166, 823.2569)
[06:58:19] [INFO] [Bullet] Using shooter_position, distance=745.3125
[06:58:19] [INFO] [Bullet] Distance to wall: 745.3125 (50.7496986338391% of viewport)
[06:58:19] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[06:58:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.1499, 728.0665), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[06:58:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(558.0426, 761.7284), shooter_id=6643576211016, bullet_pos=(102.0012, 715.9492)
[06:58:19] [INFO] [Bullet] Using shooter_position, distance=458.333435058594
[06:58:19] [INFO] [Bullet] Distance to wall: 458.333435058594 (31.2087663940104% of viewport)
[06:58:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:19] [INFO] [Bullet] Starting wall penetration at (102.0012, 715.9492)
[06:58:19] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[06:58:19] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[06:58:19] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:58:19] [INFO] [Bullet] Exiting penetration at (55.56786, 711.2881) after traveling 41.6666679382324 pixels through wall
[06:58:19] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:19] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[06:58:19] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:19] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[06:58:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(474.6499, 728.0665), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[06:58:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.299, 1451.609), shooter_id=6645572701592, bullet_pos=(63.3136, 1353.542)
[06:58:19] [INFO] [Bullet] Using shooter_position, distance=960.007934570313
[06:58:19] [INFO] [Bullet] Distance to wall: 960.007934570313 (65.3687055638242% of viewport)
[06:58:20] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[06:58:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(401.7906, 737.5173), shooter_id=6646394784426, bullet_pos=(921.7825, 734.5054)
[06:58:20] [INFO] [Bullet] Using shooter_position, distance=520.000610351563
[06:58:20] [INFO] [Bullet] Distance to wall: 520.000610351563 (35.407797755645% of viewport)
[06:58:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:20] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(412.7614, 728.6978), shooter_id=6646394784426, bullet_pos=(912.7293, 723.0612)
[06:58:20] [INFO] [Bullet] Using shooter_position, distance=499.999725341797
[06:58:20] [INFO] [Bullet] Distance to wall: 499.999725341797 (34.0459007169456% of viewport)
[06:58:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:20] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:58:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(425.7945, 728.0665), shooter_id=6646394784426, bullet_pos=(917.7683, 817.2968)
[06:58:20] [INFO] [Bullet] Using shooter_position, distance=500.000274658203
[06:58:20] [INFO] [Bullet] Distance to wall: 500.000274658203 (34.0459381209098% of viewport)
[06:58:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:20] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(441.6499, 728.0665), shooter_id=6646394784426, bullet_pos=(911.2687, 827.3521)
[06:58:20] [INFO] [Bullet] Using shooter_position, distance=479.999389648438
[06:58:20] [INFO] [Bullet] Distance to wall: 479.999389648438 (32.6840410822104% of viewport)
[06:58:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:20] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.299, 1451.609), shooter_id=6645572701592, bullet_pos=(354.1268, 1589.908)
[06:58:20] [INFO] [Bullet] Using shooter_position, distance=678.418762207031
[06:58:20] [INFO] [Bullet] Distance to wall: 678.418762207031 (46.1947810207785% of viewport)
[06:58:20] [INFO] [Bullet] Distance-based penetration chance: 92.7727554757584%
[06:58:20] [INFO] [Bullet] Starting wall penetration at (354.1268, 1589.908)
[06:58:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:58:20] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:58:20] [INFO] [Bullet] Exiting penetration at (374.8853, 1606.78) after traveling 21.7502613067627 pixels through wall
[06:58:20] [INFO] [Bullet] Damage multiplier after penetration: 0.05625
[06:58:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(458.1499, 728.0665), shooter_id=6646394784426, bullet_pos=(917.8593, 711.7093)
[06:58:20] [INFO] [Bullet] Using shooter_position, distance=460.000244140625
[06:58:20] [INFO] [Bullet] Distance to wall: 460.000244140625 (31.3222624893976% of viewport)
[06:58:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:20] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:20] [ENEMY] [Enemy2] Hit taken, health: 3/4
[06:58:20] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:20] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(-0.681455, -0.73186), lethal=false
[06:58:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:20] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:20] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[06:58:20] [ENEMY] [Enemy3] Ragdoll activated
[06:58:20] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[06:58:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(474.6499, 728.0665), shooter_id=6646394784426, bullet_pos=(914.3626, 712.1694)
[06:58:20] [INFO] [Bullet] Using shooter_position, distance=439.999938964844
[06:58:20] [INFO] [Bullet] Distance to wall: 439.999938964844 (29.9604049326604% of viewport)
[06:58:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:20] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:20] [INFO] [LastChance] Threat detected: @Area2D@8675
[06:58:20] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:58:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.3918, 609.5703), shooter_id=6643290999069, bullet_pos=(692.3337, 819.4756)
[06:58:20] [INFO] [Bullet] Using shooter_position, distance=333.333374023438
[06:58:20] [INFO] [Bullet] Distance to wall: 333.333374023438 (22.6972823832825% of viewport)
[06:58:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:20] [INFO] [LastChance] Threat detected: @Area2D@8690
[06:58:20] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:58:20] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.3215, 608.2501), shooter_id=6643290999069, bullet_pos=(469.5925, 684.2103)
[06:58:20] [INFO] [Bullet] Using shooter_position, distance=83.333366394043
[06:58:20] [INFO] [Bullet] Distance to wall: 83.333366394043 (5.67432215431913% of viewport)
[06:58:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:20] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[06:58:20] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[06:58:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.3215, 608.2501), shooter_id=6643290999069, bullet_pos=(526.3879, 588.5501)
[06:58:20] [INFO] [Bullet] Using shooter_position, distance=93.1727828979492
[06:58:20] [INFO] [Bullet] Distance to wall: 93.1727828979492 (6.34430611716165% of viewport)
[06:58:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.3918, 609.5703), shooter_id=6643290999069, bullet_pos=(929.3995, 598.9899)
[06:58:20] [INFO] [Bullet] Using shooter_position, distance=496.120544433594
[06:58:20] [INFO] [Bullet] Distance to wall: 496.120544433594 (33.7817601557214% of viewport)
[06:58:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(423.9754, 521.3826), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:58:20] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[06:58:20] [INFO] [LastChance] Threat detected: @Area2D@8696
[06:58:20] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.3215, 608.2501), shooter_id=6643290999069, bullet_pos=(719.0826, 826.3109)
[06:58:20] [INFO] [Bullet] Using shooter_position, distance=357.869903564453
[06:58:20] [INFO] [Bullet] Distance to wall: 357.869903564453 (24.3680197984296% of viewport)
[06:58:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(447.9507, 492.7653), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:58:20] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:58:20] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:58:20] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:58:20] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:58:20] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:58:20] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:58:20] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:58:20] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:58:20] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:58:20] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:58:20] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:58:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(622.6551, 888.0333), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:20] [ENEMY] [Enemy10] FLANKING started: target=(535.052, 1074.292), side=right, pos=(965.7644, 1412.676)
[06:58:20] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[06:58:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(622.6551, 888.0333), shooter_id=6646394784426, bullet_pos=(677.5923, 877.1777)
[06:58:21] [INFO] [Bullet] Using shooter_position, distance=55.9995307922363
[06:58:21] [INFO] [Bullet] Distance to wall: 55.9995307922363 (3.81311102570048% of viewport)
[06:58:21] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[06:58:21] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(625.9661, 899.6373), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:21] [INFO] [LastChance] Threat detected: @Area2D@8700
[06:58:21] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(625.9661, 899.6373), shooter_id=6646394784426, bullet_pos=(677.1141, 890.2647)
[06:58:21] [INFO] [Bullet] Using shooter_position, distance=51.9996528625488
[06:58:21] [INFO] [Bullet] Distance to wall: 51.9996528625488 (3.5407519823411% of viewport)
[06:58:21] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[06:58:21] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(630.9124, 910.4553), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.3215, 608.2501), shooter_id=6643290999069, bullet_pos=(908.0313, 661.6172)
[06:58:21] [INFO] [Bullet] Using shooter_position, distance=475.712646484375
[06:58:21] [INFO] [Bullet] Distance to wall: 475.712646484375 (32.3921488575437% of viewport)
[06:58:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:21] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:21] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.8561, 920.7716), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(759.8499, 915.7079), source=ENEMY (Enemy4), range=1469, listeners=9
[06:58:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=7
[06:58:21] [INFO] [LastChance] Threat detected: @Area2D@8712
[06:58:21] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[06:58:22] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[06:58:22] [INFO] [PenultimateHit] Player died - ending penultimate effect
[06:58:22] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:58:22] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:58:22] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[06:58:22] [INFO] [LastChance] Player died
[06:58:22] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[06:58:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.3918, 609.5703), shooter_id=6643290999069, bullet_pos=(509.2994, 46.10099)
[06:58:22] [INFO] [Bullet] Using shooter_position, distance=568.559265136719
[06:58:22] [INFO] [Bullet] Distance to wall: 568.559265136719 (38.714245851459% of viewport)
[06:58:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:22] [INFO] [Bullet] Starting wall penetration at (509.2994, 46.10099)
[06:58:22] [ENEMY] [Enemy4] Hit taken, health: 3/4
[06:58:22] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:22] [INFO] [ImpactEffects] spawn_blood_effect called at (759.8499, 915.7079), dir=(0.991916, -0.126893), lethal=false
[06:58:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:22] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:22] [INFO] [ImpactEffects] Blood effect spawned at (759.8499, 915.7079) (scale=0.9)
[06:58:22] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:22] [INFO] [Bullet] Exiting penetration at (488.0615, 18.15004) after traveling 0 pixels through wall
[06:58:22] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[06:58:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(653.1882, 936.8479), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=7
[06:58:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(773.825, 911.0032), source=ENEMY (Enemy4), range=1469, listeners=9
[06:58:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[06:58:22] [INFO] [LastChance] Threat detected: Bullet
[06:58:22] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(668.7446, 952.4043), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.301, 967.9607), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(790.3115, 894.5529), source=ENEMY (Enemy4), range=1469, listeners=9
[06:58:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[06:58:22] [INFO] [LastChance] Threat detected: Bullet
[06:58:22] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700.6228, 981.6693), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(653.1882, 936.8479), shooter_id=6646394784426, bullet_pos=(909.8525, 978.3608)
[06:58:22] [INFO] [Bullet] Using shooter_position, distance=259.999786376953
[06:58:22] [INFO] [Bullet] Distance to wall: 259.999786376953 (17.7038635518563% of viewport)
[06:58:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:22] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(684.301, 967.9607), shooter_id=6646394784426, bullet_pos=(800.4961, 997.9398)
[06:58:22] [INFO] [Bullet] Using shooter_position, distance=120.000175476074
[06:58:22] [INFO] [Bullet] Distance to wall: 120.000175476074 (8.17103260903122% of viewport)
[06:58:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(700.6228, 981.6693), shooter_id=6646394784426, bullet_pos=(758.097, 998.895)
[06:58:22] [INFO] [Bullet] Using shooter_position, distance=60.0000953674316
[06:58:22] [INFO] [Bullet] Distance to wall: 60.0000953674316 (4.08551682401511% of viewport)
[06:58:22] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[06:58:22] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:22] [ENEMY] [Enemy3] Death animation completed
[06:58:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(668.7446, 952.4043), shooter_id=6646394784426, bullet_pos=(904.8928, 995.229)
[06:58:22] [INFO] [Bullet] Using shooter_position, distance=239.999847412109
[06:58:22] [INFO] [Bullet] Distance to wall: 239.999847412109 (16.3420309310952% of viewport)
[06:58:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:22] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(720.2202, 983.9337), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(802.9943, 871.7034), source=ENEMY (Enemy4), range=1469, listeners=9
[06:58:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[06:58:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(720.2202, 983.9337), shooter_id=6646394784426, bullet_pos=(757.754, 997.7617)
[06:58:22] [INFO] [Bullet] Using shooter_position, distance=40.0000076293945
[06:58:22] [INFO] [Bullet] Distance to wall: 40.0000076293945 (2.72367407301372% of viewport)
[06:58:22] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[06:58:22] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:22] [INFO] [LastChance] Threat detected: Bullet
[06:58:22] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(769.3037, 930.5162), shooter_id=6643861425183, bullet_pos=(718.3177, 996.4319)
[06:58:22] [INFO] [Bullet] Using shooter_position, distance=83.3333129882813
[06:58:22] [INFO] [Bullet] Distance to wall: 83.3333129882813 (5.67431851782261% of viewport)
[06:58:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.3215, 608.2501), shooter_id=6643290999069, bullet_pos=(514.9616, 300.8514)
[06:58:22] [INFO] [Bullet] Using shooter_position, distance=317.547607421875
[06:58:22] [INFO] [Bullet] Distance to wall: 317.547607421875 (21.6224005079169% of viewport)
[06:58:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(815.6771, 848.8538), source=ENEMY (Enemy4), range=1469, listeners=9
[06:58:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[06:58:22] [INFO] [LastChance] Threat detected: Bullet
[06:58:22] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(684.301, 967.9607), shooter_id=6646394784426, bullet_pos=(916.1053, 979.955)
[06:58:22] [INFO] [Bullet] Using shooter_position, distance=232.11442565918
[06:58:22] [INFO] [Bullet] Distance to wall: 232.11442565918 (15.8050980639262% of viewport)
[06:58:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:22] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:22] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:22] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:22] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:58:22] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:58:22] [ENEMY] [Enemy1] Death animation component initialized
[06:58:22] [ENEMY] [Enemy2] Death animation component initialized
[06:58:22] [ENEMY] [Enemy3] Death animation component initialized
[06:58:22] [ENEMY] [Enemy4] Death animation component initialized
[06:58:22] [ENEMY] [Enemy5] Death animation component initialized
[06:58:22] [ENEMY] [Enemy6] Death animation component initialized
[06:58:22] [ENEMY] [Enemy7] Death animation component initialized
[06:58:22] [ENEMY] [Enemy8] Death animation component initialized
[06:58:22] [ENEMY] [Enemy9] Death animation component initialized
[06:58:22] [ENEMY] [Enemy10] Death animation component initialized
[06:58:22] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:58:22] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:58:22] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:58:22] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:58:22] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:58:22] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:58:22] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:58:22] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[06:58:22] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:58:22] [INFO] [ScoreManager] Level started with 10 enemies
[06:58:22] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[06:58:22] [ENEMY] [Enemy1] Registered as sound listener
[06:58:22] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[06:58:22] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[06:58:22] [ENEMY] [Enemy2] Registered as sound listener
[06:58:22] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[06:58:22] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[06:58:22] [ENEMY] [Enemy3] Registered as sound listener
[06:58:22] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[06:58:22] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[06:58:22] [ENEMY] [Enemy4] Registered as sound listener
[06:58:22] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[06:58:22] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[06:58:22] [ENEMY] [Enemy5] Registered as sound listener
[06:58:22] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[06:58:22] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[06:58:22] [ENEMY] [Enemy6] Registered as sound listener
[06:58:22] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[06:58:22] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[06:58:22] [ENEMY] [Enemy7] Registered as sound listener
[06:58:22] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[06:58:22] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[06:58:22] [ENEMY] [Enemy8] Registered as sound listener
[06:58:22] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[06:58:22] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[06:58:22] [ENEMY] [Enemy9] Registered as sound listener
[06:58:22] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[06:58:22] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[06:58:22] [ENEMY] [Enemy10] Registered as sound listener
[06:58:22] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[06:58:22] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:58:22] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:58:22] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:58:22] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:58:22] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:58:22] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:58:22] [INFO] [LastChance] Found player: Player
[06:58:22] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:58:22] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:58:22] [INFO] [LastChance] Connected to player Died signal (C#)
[06:58:22] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:22] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:22] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:58:22] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:58:22] [ENEMY] [Enemy1] Death animation component initialized
[06:58:22] [ENEMY] [Enemy2] Death animation component initialized
[06:58:22] [ENEMY] [Enemy3] Death animation component initialized
[06:58:22] [ENEMY] [Enemy4] Death animation component initialized
[06:58:22] [ENEMY] [Enemy5] Death animation component initialized
[06:58:22] [ENEMY] [Enemy6] Death animation component initialized
[06:58:22] [ENEMY] [Enemy7] Death animation component initialized
[06:58:22] [ENEMY] [Enemy8] Death animation component initialized
[06:58:22] [ENEMY] [Enemy9] Death animation component initialized
[06:58:22] [ENEMY] [Enemy10] Death animation component initialized
[06:58:22] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:58:22] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:58:22] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:58:22] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:58:22] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:58:22] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:58:22] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:58:22] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[06:58:22] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:58:22] [INFO] [ScoreManager] Level started with 10 enemies
[06:58:22] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[06:58:22] [ENEMY] [Enemy1] Registered as sound listener
[06:58:22] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[06:58:22] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[06:58:22] [ENEMY] [Enemy2] Registered as sound listener
[06:58:22] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[06:58:22] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[06:58:22] [ENEMY] [Enemy3] Registered as sound listener
[06:58:22] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[06:58:22] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[06:58:22] [ENEMY] [Enemy4] Registered as sound listener
[06:58:22] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[06:58:22] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[06:58:22] [ENEMY] [Enemy5] Registered as sound listener
[06:58:22] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[06:58:22] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[06:58:22] [ENEMY] [Enemy6] Registered as sound listener
[06:58:22] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[06:58:22] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[06:58:22] [ENEMY] [Enemy7] Registered as sound listener
[06:58:22] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[06:58:22] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[06:58:22] [ENEMY] [Enemy8] Registered as sound listener
[06:58:22] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[06:58:22] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[06:58:22] [ENEMY] [Enemy9] Registered as sound listener
[06:58:22] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[06:58:22] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[06:58:22] [ENEMY] [Enemy10] Registered as sound listener
[06:58:22] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[06:58:22] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:58:22] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:58:22] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:58:22] [INFO] [LastChance] Found player: Player
[06:58:22] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:58:22] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:58:22] [INFO] [LastChance] Connected to player Died signal (C#)
[06:58:22] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:58:22] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:58:22] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:58:23] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:58:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.476, 1519.989), source=ENEMY (Enemy10), range=1469, listeners=29
[06:58:23] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[06:58:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1110.913, 1501.73), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.87, 1482.576), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.594, 1462.195), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1017.154, 1440.583), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1080.479, 1494.222), shooter_id=7010812693543, bullet_pos=(58.37331, 931.7167)
[06:58:23] [INFO] [Bullet] Using shooter_position, distance=1166.66711425781
[06:58:23] [INFO] [Bullet] Distance to wall: 1166.66711425781 (79.4405091214688% of viewport)
[06:58:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(985.6346, 1424.066), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1048.466, 1474.618), shooter_id=7010812693543, bullet_pos=(38.58751, 890.4454)
[06:58:24] [INFO] [Bullet] Using shooter_position, distance=1166.66662597656
[06:58:24] [INFO] [Bullet] Distance to wall: 1166.66662597656 (79.4404758735006% of viewport)
[06:58:24] [INFO] [Bullet] Distance-based penetration chance: 53.9861114809159%
[06:58:24] [INFO] [Bullet] Starting wall penetration at (38.58751, 890.4454)
[06:58:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39.0564231872559
[06:58:24] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:24] [INFO] [Bullet] Exiting penetration at (-1.807602, 867.0784) after traveling 41.6666679382324 pixels through wall
[06:58:24] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1017.425, 1453.23), shooter_id=7010812693543, bullet_pos=(64.4819, 855.2979)
[06:58:24] [INFO] [Bullet] Using shooter_position, distance=1124.99951171875
[06:58:24] [INFO] [Bullet] Distance to wall: 1124.99951171875 (76.6032854446191% of viewport)
[06:58:24] [INFO] [Bullet] Distance-based penetration chance: 57.2961669812777%
[06:58:24] [INFO] [Bullet] Starting wall penetration at (64.4819, 855.2979)
[06:58:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8.32009983062744
[06:58:24] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:24] [INFO] [Bullet] Exiting penetration at (24.95238, 830.4948) after traveling 41.6666679382324 pixels through wall
[06:58:24] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(987.3715, 1430.416), shooter_id=7010812693543, bullet_pos=(59.09609, 794.8612)
[06:58:24] [INFO] [Bullet] Using shooter_position, distance=1125
[06:58:24] [INFO] [Bullet] Distance to wall: 1125 (76.6033186925873% of viewport)
[06:58:24] [INFO] [Bullet] Distance-based penetration chance: 57.2961281919814%
[06:58:24] [INFO] [Bullet] Starting wall penetration at (59.09609, 794.8612)
[06:58:24] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:58:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13.8282680511475
[06:58:24] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:24] [INFO] [Bullet] Exiting penetration at (20.58985, 768.4974) after traveling 41.6666717529297 pixels through wall
[06:58:24] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:24] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[06:58:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(958.2405, 1406.441), shooter_id=7010812693543, bullet_pos=(55.91088, 734.5585)
[06:58:24] [INFO] [Bullet] Using shooter_position, distance=1124.99975585938
[06:58:24] [INFO] [Bullet] Distance to wall: 1124.99975585938 (76.6033020686032% of viewport)
[06:58:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(958.2405, 1406.441), shooter_id=7010812693543, bullet_pos=(113.6843, 685.437)
[06:58:24] [INFO] [Bullet] Using shooter_position, distance=1110.4599609375
[06:58:24] [INFO] [Bullet] Distance to wall: 1110.4599609375 (75.6132606960475% of viewport)
[06:58:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(958.2405, 1406.441), shooter_id=7010812693543, bullet_pos=(64.85527, 642.2183)
[06:58:24] [INFO] [Bullet] Using shooter_position, distance=1175.65844726563
[06:58:24] [INFO] [Bullet] Distance to wall: 1175.65844726563 (80.0527455195743% of viewport)
[06:58:24] [INFO] [Bullet] Distance-based penetration chance: 53.27179689383%
[06:58:24] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(928.3715, 1387.197), shooter_id=7010812693543, bullet_pos=(58.44422, 673.8586)
[06:58:24] [INFO] [Bullet] Using shooter_position, distance=1125.00024414063
[06:58:24] [INFO] [Bullet] Distance to wall: 1125.00024414063 (76.6033353165714% of viewport)
[06:58:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(369.332, 792.11), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:24] [ENEMY] [Enemy1] Heard gunshot at (369.332, 792.11), source_type=0, intensity=0.01, distance=448
[06:58:24] [ENEMY] [Enemy2] Heard gunshot at (369.332, 792.11), source_type=0, intensity=0.04, distance=244
[06:58:24] [ENEMY] [Enemy4] Heard gunshot at (369.332, 792.11), source_type=0, intensity=0.01, distance=444
[06:58:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.1267, 761.6287), source=ENEMY (Enemy3), range=1469, listeners=10
[06:58:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:58:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(380.7254, 781.1985), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:24] [INFO] [LastChance] Threat detected: Bullet
[06:58:24] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(393.3905, 773.0042), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(369.332, 792.11), shooter_id=7011634776969, bullet_pos=(509.198, 798.2341)
[06:58:24] [INFO] [Bullet] Using shooter_position, distance=140.000076293945
[06:58:24] [INFO] [Bullet] Distance to wall: 140.000076293945 (9.53286263229479% of viewport)
[06:58:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:24] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(928.3715, 1387.197), shooter_id=7010812693543, bullet_pos=(314.541, 475.7968)
[06:58:24] [INFO] [Bullet] Using shooter_position, distance=1098.83520507813
[06:58:24] [INFO] [Bullet] Distance to wall: 1098.83520507813 (74.8217096935415% of viewport)
[06:58:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(621.1943, 763.0941), source=ENEMY (Enemy3), range=1469, listeners=10
[06:58:24] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[06:58:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(407.3272, 767.527), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:24] [INFO] [LastChance] Threat detected: @Area2D@9264
[06:58:24] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:24] [ENEMY] [Enemy2] Hit taken, health: 2/3
[06:58:24] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:24] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(0.799401, 0.600797), lethal=false
[06:58:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:24] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:24] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[06:58:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(422.5355, 764.767), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:24] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[06:58:24] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[06:58:24] [ENEMY] [Enemy3] Hit taken, health: 1/2
[06:58:24] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:24] [INFO] [ImpactEffects] spawn_blood_effect called at (621.1943, 763.0941), dir=(0.999403, 0.034552), lethal=false
[06:58:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:24] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:24] [INFO] [ImpactEffects] Blood effect spawned at (621.1943, 763.0941) (scale=0.9)
[06:58:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(438.8809, 764.4365), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(570.543, 776.158), shooter_id=7008816204258, bullet_pos=(31.59048, 830.3154)
[06:58:24] [INFO] [Bullet] Using shooter_position, distance=541.666748046875
[06:58:24] [INFO] [Bullet] Distance to wall: 541.666748046875 (36.883084911833% of viewport)
[06:58:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:24] [INFO] [Bullet] Starting wall penetration at (31.59048, 830.3154)
[06:58:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(621.1943, 763.0941), source=ENEMY (Enemy3), range=1469, listeners=10
[06:58:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:58:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 47.0782508850098
[06:58:24] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:24] [INFO] [Bullet] Exiting penetration at (-14.84235, 834.9813) after traveling 41.6666603088379 pixels through wall
[06:58:24] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:24] [INFO] [LastChance] Threat detected: @Area2D@9273
[06:58:24] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:24] [ENEMY] [Enemy3] Hit taken, health: 0/2
[06:58:24] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:24] [INFO] [ImpactEffects] spawn_blood_effect called at (621.1943, 763.0941), dir=(0.997564, -0.069763), lethal=true
[06:58:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:24] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[06:58:24] [INFO] [ImpactEffects] Blood effect spawned at (621.1943, 763.0941) (scale=1.35)
[06:58:24] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[06:58:24] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[06:58:24] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[06:58:24] [INFO] [DeathAnim] Started - Angle: -4.0 deg, Index: 11
[06:58:24] [ENEMY] [Enemy3] Death animation started with hit direction: (0.997564, -0.069763)
[06:58:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(455.3809, 764.4365), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:24] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[06:58:24] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:58:24] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:58:24] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:58:24] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:58:24] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:58:24] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:58:24] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:58:24] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:58:24] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:58:24] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:58:24] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:58:24] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[06:58:24] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[06:58:24] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[06:58:24] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[06:58:24] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[06:58:24] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(463.6308, 764.4365), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:24] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[06:58:26] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[06:58:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(407.3272, 767.527), shooter_id=7011634776969, bullet_pos=(910.2203, 734.1485)
[06:58:27] [INFO] [Bullet] Using shooter_position, distance=503.999572753906
[06:58:27] [INFO] [Bullet] Distance to wall: 503.999572753906 (34.318257682307% of viewport)
[06:58:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:27] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(422.5355, 764.767), shooter_id=7011634776969, bullet_pos=(909.6595, 682.6186)
[06:58:27] [INFO] [Bullet] Using shooter_position, distance=494.002197265625
[06:58:27] [INFO] [Bullet] Distance to wall: 494.002197265625 (33.6375180017574% of viewport)
[06:58:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:27] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:27] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[06:58:27] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:58:27] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:58:27] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[06:58:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.8809, 764.4365), shooter_id=7011634776969, bullet_pos=(913.3936, 706.7856)
[06:58:27] [INFO] [Bullet] Using shooter_position, distance=478.002075195313
[06:58:27] [INFO] [Bullet] Distance to wall: 478.002075195313 (32.5480402683597% of viewport)
[06:58:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:27] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(455.3809, 764.4365), shooter_id=7011634776969, bullet_pos=(909.5095, 705.021)
[06:58:27] [INFO] [Bullet] Using shooter_position, distance=457.998962402344
[06:58:27] [INFO] [Bullet] Distance to wall: 457.998962402344 (31.1859915358054% of viewport)
[06:58:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:27] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(463.6308, 764.4365), shooter_id=7011634776969, bullet_pos=(910.522, 732.8952)
[06:58:27] [INFO] [Bullet] Using shooter_position, distance=448.002960205078
[06:58:27] [INFO] [Bullet] Distance to wall: 448.002960205078 (30.5053453651663% of viewport)
[06:58:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:27] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:58:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(577.1853, 767.0684), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[06:58:27] [ENEMY] [Enemy3] Ragdoll activated
[06:58:27] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[06:58:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:58:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(589.0215, 756.5714), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[06:58:28] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[06:58:28] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[06:58:28] [INFO] [PenultimateHit] Player died - ending penultimate effect
[06:58:28] [INFO] [LastChance] Player died
[06:58:28] [INFO] [LastChance] Threat detected: @Area2D@9303
[06:58:28] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:58:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(600.6888, 744.9041), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[06:58:28] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:58:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(612.3561, 733.2368), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[06:58:28] [INFO] [LastChance] Threat detected: @Area2D@9310
[06:58:28] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(624.0234, 721.5695), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[06:58:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(635.6907, 709.9022), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[06:58:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450.8338, 603.8035), shooter_id=7008530991127, bullet_pos=(694.4739, 831.2913)
[06:58:28] [INFO] [Bullet] Using shooter_position, distance=333.33349609375
[06:58:28] [INFO] [Bullet] Distance to wall: 333.33349609375 (22.6972906952745% of viewport)
[06:58:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:28] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:28] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(647.358, 698.2349), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[06:58:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(442.4578, 603.9415), shooter_id=7008530991127, bullet_pos=(741.2998, 1004.808)
[06:58:28] [INFO] [Bullet] Using shooter_position, distance=500.000244140625
[06:58:28] [INFO] [Bullet] Distance to wall: 500.000244140625 (34.0459360429118% of viewport)
[06:58:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:28] [INFO] [Bullet] Starting wall penetration at (741.2998, 1004.808)
[06:58:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22.7280368804932
[06:58:28] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:28] [INFO] [Bullet] Exiting penetration at (769.1917, 1042.222) after traveling 41.6666679382324 pixels through wall
[06:58:28] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(577.1853, 767.0684), shooter_id=7011634776969, bullet_pos=(283.4327, 466.8854)
[06:58:28] [INFO] [Bullet] Using shooter_position, distance=420.00048828125
[06:58:28] [INFO] [Bullet] Distance to wall: 420.00048828125 (28.5986055598675% of viewport)
[06:58:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:28] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(659.0253, 686.5676), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[06:58:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450.8338, 603.8035), shooter_id=7008530991127, bullet_pos=(514.0146, 952.7028)
[06:58:28] [INFO] [Bullet] Using shooter_position, distance=354.573791503906
[06:58:28] [INFO] [Bullet] Distance to wall: 354.573791503906 (24.1435814672113% of viewport)
[06:58:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(589.0215, 756.5714), shooter_id=7011634776969, bullet_pos=(316.2461, 464.0079)
[06:58:28] [INFO] [Bullet] Using shooter_position, distance=399.999755859375
[06:58:28] [INFO] [Bullet] Distance to wall: 399.999755859375 (27.2367189111581% of viewport)
[06:58:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:28] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(635.6907, 709.9022), shooter_id=7011634776969, bullet_pos=(516.0364, 575.4296)
[06:58:28] [INFO] [Bullet] Using shooter_position, distance=180.000122070313
[06:58:28] [INFO] [Bullet] Distance to wall: 180.000122070313 (12.256539302806% of viewport)
[06:58:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:28] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(670.6926, 674.9003), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[06:58:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450.8338, 603.8035), shooter_id=7008530991127, bullet_pos=(561.5303, 997.3614)
[06:58:28] [INFO] [Bullet] Using shooter_position, distance=408.829528808594
[06:58:28] [INFO] [Bullet] Distance to wall: 408.829528808594 (27.8379543877911% of viewport)
[06:58:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(600.6888, 744.9041), shooter_id=7011634776969, bullet_pos=(335.1107, 445.7916)
[06:58:28] [INFO] [Bullet] Using shooter_position, distance=400.000122070313
[06:58:28] [INFO] [Bullet] Distance to wall: 400.000122070313 (27.2367438471342% of viewport)
[06:58:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:28] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(682.3599, 663.233), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(647.358, 698.2349), shooter_id=7011634776969, bullet_pos=(518.7546, 519.738)
[06:58:28] [INFO] [Bullet] Using shooter_position, distance=219.999969482422
[06:58:28] [INFO] [Bullet] Distance to wall: 219.999969482422 (14.9802024663302% of viewport)
[06:58:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:28] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:28] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[06:58:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(612.3561, 733.2368), shooter_id=7011634776969, bullet_pos=(281.5382, 474.4718)
[06:58:28] [INFO] [Bullet] Using shooter_position, distance=419.999816894531
[06:58:28] [INFO] [Bullet] Distance to wall: 419.999816894531 (28.5985598439112% of viewport)
[06:58:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:28] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:28] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[06:58:28] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[06:58:28] [ENEMY] [Enemy10] FLANKING started: target=(560.2416, 800.2312), side=right, pos=(935.6613, 1394.55)
[06:58:28] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[06:58:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(659.0253, 686.5676), shooter_id=7011634776969, bullet_pos=(523.9739, 512.898)
[06:58:28] [INFO] [Bullet] Using shooter_position, distance=220.000076293945
[06:58:28] [INFO] [Bullet] Distance to wall: 220.000076293945 (14.9802097393232% of viewport)
[06:58:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:28] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450.8338, 603.8035), shooter_id=7008530991127, bullet_pos=(703.5319, 880.1621)
[06:58:28] [INFO] [Bullet] Using shooter_position, distance=374.473541259766
[06:58:28] [INFO] [Bullet] Distance to wall: 374.473541259766 (25.498592020501% of viewport)
[06:58:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:28] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[06:58:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(624.0234, 721.5695), shooter_id=7011634776969, bullet_pos=(288.249, 469.2696)
[06:58:28] [INFO] [Bullet] Using shooter_position, distance=419.999664306641
[06:58:28] [INFO] [Bullet] Distance to wall: 419.999664306641 (28.5985494539211% of viewport)
[06:58:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:28] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(670.6926, 674.9003), shooter_id=7011634776969, bullet_pos=(522.3369, 540.7713)
[06:58:28] [INFO] [Bullet] Using shooter_position, distance=200.000045776367
[06:58:28] [INFO] [Bullet] Distance to wall: 200.000045776367 (13.6183708845681% of viewport)
[06:58:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:28] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:28] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:28] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:28] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:58:28] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:58:28] [ENEMY] [Enemy1] Death animation component initialized
[06:58:28] [ENEMY] [Enemy2] Death animation component initialized
[06:58:28] [ENEMY] [Enemy3] Death animation component initialized
[06:58:28] [ENEMY] [Enemy4] Death animation component initialized
[06:58:28] [ENEMY] [Enemy5] Death animation component initialized
[06:58:28] [ENEMY] [Enemy6] Death animation component initialized
[06:58:28] [ENEMY] [Enemy7] Death animation component initialized
[06:58:28] [ENEMY] [Enemy8] Death animation component initialized
[06:58:28] [ENEMY] [Enemy9] Death animation component initialized
[06:58:28] [ENEMY] [Enemy10] Death animation component initialized
[06:58:28] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:58:28] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:58:28] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:58:28] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:58:28] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:58:28] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:58:28] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:58:28] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[06:58:28] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:58:28] [INFO] [ScoreManager] Level started with 10 enemies
[06:58:28] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[06:58:28] [ENEMY] [Enemy1] Registered as sound listener
[06:58:28] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[06:58:28] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[06:58:28] [ENEMY] [Enemy2] Registered as sound listener
[06:58:28] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[06:58:28] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[06:58:28] [ENEMY] [Enemy3] Registered as sound listener
[06:58:28] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[06:58:28] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[06:58:28] [ENEMY] [Enemy4] Registered as sound listener
[06:58:28] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[06:58:28] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[06:58:28] [ENEMY] [Enemy5] Registered as sound listener
[06:58:28] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[06:58:28] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[06:58:28] [ENEMY] [Enemy6] Registered as sound listener
[06:58:28] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[06:58:28] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[06:58:28] [ENEMY] [Enemy7] Registered as sound listener
[06:58:28] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[06:58:28] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[06:58:28] [ENEMY] [Enemy8] Registered as sound listener
[06:58:28] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[06:58:28] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[06:58:28] [ENEMY] [Enemy9] Registered as sound listener
[06:58:28] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[06:58:28] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[06:58:28] [ENEMY] [Enemy10] Registered as sound listener
[06:58:28] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[06:58:28] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:58:28] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:58:28] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:58:28] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:58:28] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:58:28] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:58:28] [INFO] [LastChance] Found player: Player
[06:58:28] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:58:28] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:58:28] [INFO] [LastChance] Connected to player Died signal (C#)
[06:58:28] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:58:28] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:28] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:28] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:58:28] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:58:28] [ENEMY] [Enemy1] Death animation component initialized
[06:58:28] [ENEMY] [Enemy2] Death animation component initialized
[06:58:28] [ENEMY] [Enemy3] Death animation component initialized
[06:58:28] [ENEMY] [Enemy4] Death animation component initialized
[06:58:28] [ENEMY] [Enemy5] Death animation component initialized
[06:58:28] [ENEMY] [Enemy6] Death animation component initialized
[06:58:28] [ENEMY] [Enemy7] Death animation component initialized
[06:58:28] [ENEMY] [Enemy8] Death animation component initialized
[06:58:28] [ENEMY] [Enemy9] Death animation component initialized
[06:58:28] [ENEMY] [Enemy10] Death animation component initialized
[06:58:29] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:58:29] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:58:29] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:58:29] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:58:29] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:58:29] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:58:29] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:58:29] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[06:58:29] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:58:29] [INFO] [ScoreManager] Level started with 10 enemies
[06:58:29] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[06:58:29] [ENEMY] [Enemy1] Registered as sound listener
[06:58:29] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[06:58:29] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[06:58:29] [ENEMY] [Enemy2] Registered as sound listener
[06:58:29] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[06:58:29] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[06:58:29] [ENEMY] [Enemy3] Registered as sound listener
[06:58:29] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[06:58:29] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[06:58:29] [ENEMY] [Enemy4] Registered as sound listener
[06:58:29] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[06:58:29] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[06:58:29] [ENEMY] [Enemy5] Registered as sound listener
[06:58:29] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[06:58:29] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[06:58:29] [ENEMY] [Enemy6] Registered as sound listener
[06:58:29] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[06:58:29] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[06:58:29] [ENEMY] [Enemy7] Registered as sound listener
[06:58:29] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[06:58:29] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[06:58:29] [ENEMY] [Enemy8] Registered as sound listener
[06:58:29] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[06:58:29] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[06:58:29] [ENEMY] [Enemy9] Registered as sound listener
[06:58:29] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[06:58:29] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[06:58:29] [ENEMY] [Enemy10] Registered as sound listener
[06:58:29] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[06:58:29] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:58:29] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:58:29] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:58:29] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:58:29] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:58:29] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:58:29] [INFO] [LastChance] Found player: Player
[06:58:29] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:58:29] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:58:29] [INFO] [LastChance] Connected to player Died signal (C#)
[06:58:29] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:58:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.865, 1519.278), source=ENEMY (Enemy10), range=1469, listeners=29
[06:58:29] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[06:58:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1111.724, 1500.286), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1080.147, 1480.374), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1049.377, 1459.236), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1019.476, 1436.887), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.453, 1492.111), shooter_id=7407174421691, bullet_pos=(36.09902, 886.0555)
[06:58:30] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[06:58:30] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[06:58:30] [INFO] [Bullet] Distance-based penetration chance: 50.6761238618226%
[06:58:30] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1049.923, 1471.728), shooter_id=7407174421691, bullet_pos=(53.90802, 864.2214)
[06:58:30] [INFO] [Bullet] Using shooter_position, distance=1166.66625976563
[06:58:30] [INFO] [Bullet] Distance to wall: 1166.66625976563 (79.4404509375245% of viewport)
[06:58:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1019.435, 1449.541), shooter_id=7407174421691, bullet_pos=(46.58311, 805.5919)
[06:58:30] [INFO] [Bullet] Using shooter_position, distance=1166.66625976563
[06:58:30] [INFO] [Bullet] Distance to wall: 1166.66625976563 (79.4404509375245% of viewport)
[06:58:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1049.923, 1471.728), shooter_id=7407174421691, bullet_pos=(288.3458, 696.3673)
[06:58:30] [INFO] [Bullet] Using shooter_position, distance=1086.82287597656
[06:58:30] [INFO] [Bullet] Distance to wall: 1086.82287597656 (74.0037681162906% of viewport)
[06:58:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1019.435, 1449.541), shooter_id=7407174421691, bullet_pos=(243.6991, 713.6594)
[06:58:30] [INFO] [Bullet] Using shooter_position, distance=1069.24597167969
[06:58:30] [INFO] [Bullet] Distance to wall: 1069.24597167969 (72.8069243816394% of viewport)
[06:58:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.9498, 1425.995), shooter_id=7407174421691, bullet_pos=(43.69041, 743.569)
[06:58:30] [INFO] [Bullet] Using shooter_position, distance=1166.66687011719
[06:58:30] [INFO] [Bullet] Distance to wall: 1166.66687011719 (79.4404924974847% of viewport)
[06:58:30] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:58:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.9498, 1425.995), shooter_id=7407174421691, bullet_pos=(110.5475, 707.7805)
[06:58:30] [INFO] [Bullet] Using shooter_position, distance=1135.42065429688
[06:58:30] [INFO] [Bullet] Distance to wall: 1135.42065429688 (77.3128802055552% of viewport)
[06:58:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1049.923, 1471.728), shooter_id=7407174421691, bullet_pos=(508.0029, 909.4692)
[06:58:30] [INFO] [Bullet] Using shooter_position, distance=780.90478515625
[06:58:30] [INFO] [Bullet] Distance to wall: 780.90478515625 (53.1732427785695% of viewport)
[06:58:30] [INFO] [Bullet] Distance-based penetration chance: 84.6312167583356%
[06:58:30] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:30] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[06:58:30] [INFO] [LastChance] Threat detected: @Area2D@9848
[06:58:30] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(961.4149, 1401.313), shooter_id=7407174421691, bullet_pos=(42.98625, 681.8685)
[06:58:30] [INFO] [Bullet] Using shooter_position, distance=1166.6669921875
[06:58:30] [INFO] [Bullet] Distance to wall: 1166.6669921875 (79.4405008094768% of viewport)
[06:58:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1019.435, 1449.541), shooter_id=7407174421691, bullet_pos=(502.2813, 877.3562)
[06:58:30] [INFO] [Bullet] Using shooter_position, distance=771.260498046875
[06:58:30] [INFO] [Bullet] Distance to wall: 771.260498046875 (52.5165455350119% of viewport)
[06:58:30] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[06:58:30] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[06:58:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(337.3019, 797.311), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:30] [ENEMY] [Enemy1] Heard gunshot at (337.3019, 797.311), source_type=0, intensity=0.01, distance=449
[06:58:30] [ENEMY] [Enemy2] Heard gunshot at (337.3019, 797.311), source_type=0, intensity=0.04, distance=255
[06:58:30] [ENEMY] [Enemy4] Heard gunshot at (337.3019, 797.311), source_type=0, intensity=0.01, distance=474
[06:58:30] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(961.4149, 1401.313), shooter_id=7407174421691, bullet_pos=(279.2199, 460.4917)
[06:58:30] [INFO] [Bullet] Using shooter_position, distance=1162.12536621094
[06:58:30] [INFO] [Bullet] Distance to wall: 1162.12536621094 (79.1312531454189% of viewport)
[06:58:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(342.3393, 783.158), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:30] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.6815, 762.9863), source=ENEMY (Enemy3), range=1469, listeners=10
[06:58:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:58:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(349.8299, 770.5214), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:30] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:30] [INFO] [LastChance] Threat detected: Bullet
[06:58:30] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(359.0621, 760.3275), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:30] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(600.3741, 764.0049), source=ENEMY (Enemy3), range=1469, listeners=10
[06:58:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[06:58:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(370.0359, 752.5762), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:30] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(961.4149, 1401.313), shooter_id=7407174421691, bullet_pos=(473.2179, 697.1903)
[06:58:30] [INFO] [Bullet] Using shooter_position, distance=856.811218261719
[06:58:30] [INFO] [Bullet] Distance to wall: 856.811218261719 (58.3418513883435% of viewport)
[06:58:30] [INFO] [LastChance] Threat detected: @Area2D@9870
[06:58:30] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:30] [ENEMY] [Enemy3] Hit taken, health: 2/3
[06:58:30] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:30] [INFO] [ImpactEffects] spawn_blood_effect called at (600.3741, 764.0049), dir=(0.999258, -0.038518), lethal=false
[06:58:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:30] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:30] [INFO] [ImpactEffects] Blood effect spawned at (600.3741, 764.0049) (scale=0.9)
[06:58:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1019.435, 1449.541), shooter_id=7407174421691, bullet_pos=(59.25174, 1089.452)
[06:58:30] [INFO] [Bullet] Using shooter_position, distance=1025.48291015625
[06:58:30] [INFO] [Bullet] Distance to wall: 1025.48291015625 (69.8270170493343% of viewport)
[06:58:30] [ENEMY] [Enemy3] Hit taken, health: 1/3
[06:58:30] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:30] [INFO] [ImpactEffects] spawn_blood_effect called at (600.3741, 764.0049), dir=(0.999201, -0.03997), lethal=false
[06:58:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:30] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:30] [INFO] [ImpactEffects] Blood effect spawned at (600.3741, 764.0049) (scale=0.9)
[06:58:30] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[06:58:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(382.7512, 747.2678), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:30] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:30] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[06:58:30] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[06:58:30] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[06:58:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(570.6539, 775.3816), shooter_id=7405177932461, bullet_pos=(30.24622, 812.2908)
[06:58:30] [INFO] [Bullet] Using shooter_position, distance=541.666687011719
[06:58:30] [INFO] [Bullet] Distance to wall: 541.666687011719 (36.883080755837% of viewport)
[06:58:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:30] [INFO] [Bullet] Starting wall penetration at (30.24622, 812.2908)
[06:58:30] [ENEMY] [Enemy3] Hit taken, health: 0/3
[06:58:30] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:30] [INFO] [ImpactEffects] spawn_blood_effect called at (600.3741, 764.0049), dir=(0.99852, -0.05439), lethal=true
[06:58:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:30] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[06:58:30] [INFO] [ImpactEffects] Blood effect spawned at (600.3741, 764.0049) (scale=1.35)
[06:58:30] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[06:58:30] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[06:58:30] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[06:58:30] [INFO] [DeathAnim] Started - Angle: -3.1 deg, Index: 11
[06:58:30] [ENEMY] [Enemy3] Death animation started with hit direction: (0.99852, -0.05439)
[06:58:30] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[06:58:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(397.208, 744.4021), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[06:58:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 48.4245414733887
[06:58:30] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:30] [INFO] [Bullet] Exiting penetration at (-16.31199, 815.4707) after traveling 41.6666679382324 pixels through wall
[06:58:30] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:30] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(413.3135, 743.8487), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[06:58:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(532.389, 769.9381), shooter_id=7405177932461, bullet_pos=(32.57735, 756.2103)
[06:58:31] [INFO] [Bullet] Using shooter_position, distance=500.000122070313
[06:58:31] [INFO] [Bullet] Distance to wall: 500.000122070313 (34.0459277309198% of viewport)
[06:58:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:31] [INFO] [Bullet] Starting wall penetration at (32.57735, 756.2103)
[06:58:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(429.8135, 743.8487), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[06:58:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 46.0890960693359
[06:58:31] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:31] [INFO] [Bullet] Exiting penetration at (-14.07172, 754.9291) after traveling 41.6666679382324 pixels through wall
[06:58:31] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:31] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[06:58:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(359.0621, 760.3275), shooter_id=7407996504489, bullet_pos=(918.9354, 748.3902)
[06:58:31] [INFO] [Bullet] Using shooter_position, distance=560.000549316406
[06:58:31] [INFO] [Bullet] Distance to wall: 560.000549316406 (38.1314671531632% of viewport)
[06:58:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:31] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(370.0359, 752.5762), shooter_id=7407996504489, bullet_pos=(910.0342, 751.2793)
[06:58:31] [INFO] [Bullet] Using shooter_position, distance=540
[06:58:31] [INFO] [Bullet] Distance to wall: 540 (36.7695929724419% of viewport)
[06:58:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:31] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(382.7512, 747.2678), shooter_id=7407996504489, bullet_pos=(922.456, 729.4041)
[06:58:31] [INFO] [Bullet] Using shooter_position, distance=540.000427246094
[06:58:31] [INFO] [Bullet] Distance to wall: 540.000427246094 (36.7696220644141% of viewport)
[06:58:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:31] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:31] [ENEMY] [Enemy3] Ragdoll activated
[06:58:31] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[06:58:31] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[06:58:31] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[06:58:31] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[06:58:31] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[06:58:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(397.208, 744.4021), shooter_id=7407996504489, bullet_pos=(1376.005, 457.4244)
[06:58:31] [INFO] [Bullet] Using shooter_position, distance=1020.00012207031
[06:58:31] [INFO] [Bullet] Distance to wall: 1020.00012207031 (69.4536839266046% of viewport)
[06:58:31] [INFO] [Bullet] Distance-based penetration chance: 65.6373687522947%
[06:58:31] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(413.3135, 743.8487), shooter_id=7407996504489, bullet_pos=(1377.576, 411.2841)
[06:58:31] [INFO] [Bullet] Using shooter_position, distance=1020.00048828125
[06:58:31] [INFO] [Bullet] Distance to wall: 1020.00048828125 (69.4537088625807% of viewport)
[06:58:31] [INFO] [Bullet] Distance-based penetration chance: 65.6373396603225%
[06:58:31] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(429.8135, 743.8487), shooter_id=7407996504489, bullet_pos=(1376.432, 363.9628)
[06:58:31] [INFO] [Bullet] Using shooter_position, distance=1020.00042724609
[06:58:31] [INFO] [Bullet] Distance to wall: 1020.00042724609 (69.4537047065847% of viewport)
[06:58:31] [INFO] [Bullet] Distance-based penetration chance: 65.6373445089846%
[06:58:31] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(591.7025, 926.0333), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(776.7858, 907.2477), source=ENEMY (Enemy4), range=1469, listeners=9
[06:58:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=7
[06:58:31] [INFO] [LastChance] Threat detected: Bullet
[06:58:31] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(599.0936, 939.4718), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(591.7025, 926.0333), shooter_id=7407996504489, bullet_pos=(685.4226, 891.1542)
[06:58:32] [INFO] [Bullet] Using shooter_position, distance=100.000061035156
[06:58:32] [INFO] [Bullet] Distance to wall: 100.000061035156 (6.80918803978156% of viewport)
[06:58:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:32] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(609.2562, 951.7622), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(776.7858, 907.2477), source=ENEMY (Enemy4), range=1469, listeners=9
[06:58:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[06:58:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(620.9235, 963.4295), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(599.0936, 939.4718), shooter_id=7407996504489, bullet_pos=(730.3222, 890.6961)
[06:58:32] [INFO] [Bullet] Using shooter_position, distance=140.000076293945
[06:58:32] [INFO] [Bullet] Distance to wall: 140.000076293945 (9.53286263229479% of viewport)
[06:58:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:32] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:32] [INFO] [LastChance] Threat detected: Bullet
[06:58:32] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:32] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:58:32] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:58:32] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:58:32] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:58:32] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:58:32] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:58:32] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:58:32] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:58:32] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:58:32] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:58:32] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:58:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(633.3562, 973.249), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:32] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[06:58:32] [ENEMY] [Enemy4] Hit taken, health: 3/4
[06:58:32] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:32] [INFO] [ImpactEffects] spawn_blood_effect called at (776.7858, 907.2477), dir=(0.942289, -0.3348), lethal=false
[06:58:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:32] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:32] [INFO] [ImpactEffects] Blood effect spawned at (776.7858, 907.2477) (scale=0.9)
[06:58:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(639.9169, 977.3273), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:32] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[06:58:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(776.7858, 907.2477), source=ENEMY (Enemy4), range=1469, listeners=9
[06:58:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[06:58:32] [INFO] [LastChance] Threat detected: Bullet
[06:58:32] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:32] [ENEMY] [Enemy4] Hit taken, health: 2/4
[06:58:32] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:32] [INFO] [ImpactEffects] spawn_blood_effect called at (776.7858, 907.2477), dir=(0.901662, -0.432441), lethal=false
[06:58:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:32] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:32] [INFO] [ImpactEffects] Blood effect spawned at (776.7858, 907.2477) (scale=0.9)
[06:58:32] [ENEMY] [Enemy3] Death animation completed
[06:58:32] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[06:58:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(651.4893, 982.5846), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:32] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[06:58:32] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[06:58:32] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[06:58:32] [INFO] [PenultimateHit] Player died - ending penultimate effect
[06:58:32] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:58:32] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:58:32] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[06:58:32] [INFO] [LastChance] Player died
[06:58:32] [ENEMY] [Enemy4] Hit taken, health: 1/4
[06:58:32] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:32] [INFO] [ImpactEffects] spawn_blood_effect called at (775.1039, 911.1721), dir=(0.904241, -0.427023), lethal=false
[06:58:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:32] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:32] [INFO] [ImpactEffects] Blood effect spawned at (775.1039, 911.1721) (scale=0.9)
[06:58:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(777.7581, 910.9135), source=ENEMY (Enemy4), range=1469, listeners=9
[06:58:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[06:58:32] [INFO] [LastChance] Threat detected: Bullet
[06:58:32] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:32] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[06:58:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(781.4551, 907.1698), source=ENEMY (Enemy4), range=1469, listeners=9
[06:58:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[06:58:33] [INFO] [LastChance] Threat detected: Bullet
[06:58:33] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(639.9169, 977.3273), shooter_id=7407996504489, bullet_pos=(915.1467, 915.9079)
[06:58:33] [INFO] [Bullet] Using shooter_position, distance=281.999603271484
[06:58:33] [INFO] [Bullet] Distance to wall: 281.999603271484 (19.2018715383011% of viewport)
[06:58:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:33] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(783.1815, 896.8597), source=ENEMY (Enemy4), range=1469, listeners=9
[06:58:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=7
[06:58:33] [INFO] [LastChance] Threat detected: Bullet
[06:58:33] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(651.4893, 982.5846), shooter_id=7407996504489, bullet_pos=(909.0823, 895.2355)
[06:58:33] [INFO] [Bullet] Using shooter_position, distance=272.000061035156
[06:58:33] [INFO] [Bullet] Distance to wall: 272.000061035156 (18.5209843198927% of viewport)
[06:58:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:33] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:33] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[06:58:33] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[06:58:33] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[06:58:33] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[06:58:33] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:33] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:33] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:33] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:58:33] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:58:33] [ENEMY] [Enemy1] Death animation component initialized
[06:58:33] [ENEMY] [Enemy2] Death animation component initialized
[06:58:33] [ENEMY] [Enemy3] Death animation component initialized
[06:58:33] [ENEMY] [Enemy4] Death animation component initialized
[06:58:33] [ENEMY] [Enemy5] Death animation component initialized
[06:58:33] [ENEMY] [Enemy6] Death animation component initialized
[06:58:33] [ENEMY] [Enemy7] Death animation component initialized
[06:58:33] [ENEMY] [Enemy8] Death animation component initialized
[06:58:33] [ENEMY] [Enemy9] Death animation component initialized
[06:58:33] [ENEMY] [Enemy10] Death animation component initialized
[06:58:33] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:58:33] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:58:33] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:58:33] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:58:33] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:58:33] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:58:33] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:58:33] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[06:58:33] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:58:33] [INFO] [ScoreManager] Level started with 10 enemies
[06:58:33] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[06:58:33] [ENEMY] [Enemy1] Registered as sound listener
[06:58:33] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[06:58:33] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[06:58:33] [ENEMY] [Enemy2] Registered as sound listener
[06:58:33] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[06:58:33] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[06:58:33] [ENEMY] [Enemy3] Registered as sound listener
[06:58:33] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[06:58:33] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[06:58:33] [ENEMY] [Enemy4] Registered as sound listener
[06:58:33] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[06:58:33] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[06:58:33] [ENEMY] [Enemy5] Registered as sound listener
[06:58:33] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[06:58:33] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[06:58:33] [ENEMY] [Enemy6] Registered as sound listener
[06:58:33] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[06:58:33] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[06:58:33] [ENEMY] [Enemy7] Registered as sound listener
[06:58:33] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[06:58:33] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[06:58:33] [ENEMY] [Enemy8] Registered as sound listener
[06:58:33] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[06:58:33] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[06:58:33] [ENEMY] [Enemy9] Registered as sound listener
[06:58:33] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[06:58:33] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[06:58:33] [ENEMY] [Enemy10] Registered as sound listener
[06:58:33] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[06:58:33] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:58:33] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:58:33] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:58:33] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:58:33] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:58:33] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:58:33] [INFO] [LastChance] Found player: Player
[06:58:33] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:58:33] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:58:33] [INFO] [LastChance] Connected to player Died signal (C#)
[06:58:33] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:33] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:33] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:58:33] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:58:33] [ENEMY] [Enemy1] Death animation component initialized
[06:58:33] [ENEMY] [Enemy2] Death animation component initialized
[06:58:33] [ENEMY] [Enemy3] Death animation component initialized
[06:58:33] [ENEMY] [Enemy4] Death animation component initialized
[06:58:33] [ENEMY] [Enemy5] Death animation component initialized
[06:58:33] [ENEMY] [Enemy6] Death animation component initialized
[06:58:33] [ENEMY] [Enemy7] Death animation component initialized
[06:58:33] [ENEMY] [Enemy8] Death animation component initialized
[06:58:33] [ENEMY] [Enemy9] Death animation component initialized
[06:58:33] [ENEMY] [Enemy10] Death animation component initialized
[06:58:33] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:58:33] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:58:33] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:58:33] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:58:33] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:58:33] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:58:33] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:58:33] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[06:58:33] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:58:33] [INFO] [ScoreManager] Level started with 10 enemies
[06:58:33] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[06:58:33] [ENEMY] [Enemy1] Registered as sound listener
[06:58:33] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[06:58:33] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[06:58:33] [ENEMY] [Enemy2] Registered as sound listener
[06:58:33] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[06:58:33] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[06:58:33] [ENEMY] [Enemy3] Registered as sound listener
[06:58:33] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[06:58:33] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[06:58:33] [ENEMY] [Enemy4] Registered as sound listener
[06:58:33] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[06:58:33] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[06:58:33] [ENEMY] [Enemy5] Registered as sound listener
[06:58:33] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[06:58:33] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[06:58:33] [ENEMY] [Enemy6] Registered as sound listener
[06:58:33] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[06:58:33] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[06:58:33] [ENEMY] [Enemy7] Registered as sound listener
[06:58:33] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[06:58:33] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[06:58:33] [ENEMY] [Enemy8] Registered as sound listener
[06:58:33] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[06:58:33] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[06:58:33] [ENEMY] [Enemy9] Registered as sound listener
[06:58:33] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[06:58:33] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[06:58:33] [ENEMY] [Enemy10] Registered as sound listener
[06:58:33] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[06:58:33] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:58:33] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:58:33] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:58:33] [INFO] [LastChance] Found player: Player
[06:58:33] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:58:33] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:58:33] [INFO] [LastChance] Connected to player Died signal (C#)
[06:58:33] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:58:33] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:58:33] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:58:33] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:58:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.865, 1519.278), source=ENEMY (Enemy10), range=1469, listeners=29
[06:58:34] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[06:58:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1111.724, 1500.286), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1080.147, 1480.374), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1049.377, 1459.236), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1019.476, 1436.887), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.453, 1492.111), shooter_id=7722535749833, bullet_pos=(36.09902, 886.0555)
[06:58:34] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[06:58:34] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[06:58:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1049.923, 1471.728), shooter_id=7722535749833, bullet_pos=(53.90802, 864.2214)
[06:58:34] [INFO] [Bullet] Using shooter_position, distance=1166.66625976563
[06:58:34] [INFO] [Bullet] Distance to wall: 1166.66625976563 (79.4404509375245% of viewport)
[06:58:34] [INFO] [Bullet] Distance-based penetration chance: 53.9861405728881%
[06:58:34] [INFO] [Bullet] Starting wall penetration at (53.90802, 864.2214)
[06:58:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21.0050582885742
[06:58:34] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:34] [INFO] [Bullet] Exiting penetration at (14.0674, 839.9212) after traveling 41.6666679382324 pixels through wall
[06:58:34] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.453, 1492.111), shooter_id=7722535749833, bullet_pos=(385.5517, 702.8102)
[06:58:34] [INFO] [Bullet] Using shooter_position, distance=1052.27099609375
[06:58:34] [INFO] [Bullet] Distance to wall: 1052.27099609375 (71.6510670797652% of viewport)
[06:58:34] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:58:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1019.435, 1449.541), shooter_id=7722535749833, bullet_pos=(46.58311, 805.5919)
[06:58:34] [INFO] [Bullet] Using shooter_position, distance=1166.66625976563
[06:58:34] [INFO] [Bullet] Distance to wall: 1166.66625976563 (79.4404509375245% of viewport)
[06:58:34] [INFO] [Bullet] Distance-based penetration chance: 53.9861405728881%
[06:58:34] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.9498, 1425.995), shooter_id=7722535749833, bullet_pos=(43.69041, 743.569)
[06:58:34] [INFO] [Bullet] Using shooter_position, distance=1166.66687011719
[06:58:34] [INFO] [Bullet] Distance to wall: 1166.66687011719 (79.4404924974847% of viewport)
[06:58:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.9498, 1425.995), shooter_id=7722535749833, bullet_pos=(104.0544, 697.6682)
[06:58:35] [INFO] [Bullet] Using shooter_position, distance=1146.85217285156
[06:58:35] [INFO] [Bullet] Distance to wall: 1146.85217285156 (78.0912733246529% of viewport)
[06:58:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.453, 1492.111), shooter_id=7722535749833, bullet_pos=(676.4179, 871.3061)
[06:58:35] [INFO] [Bullet] Using shooter_position, distance=741.250183105469
[06:58:35] [INFO] [Bullet] Distance to wall: 741.250183105469 (50.4730880065484% of viewport)
[06:58:35] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[06:58:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.9498, 1425.995), shooter_id=7722535749833, bullet_pos=(53.87702, 656.0225)
[06:58:35] [INFO] [Bullet] Using shooter_position, distance=1212.05993652344
[06:58:35] [INFO] [Bullet] Distance to wall: 1212.05993652344 (82.5313898595752% of viewport)
[06:58:35] [INFO] [Bullet] Distance-based penetration chance: 50.380045163829%
[06:58:35] [INFO] [Bullet] Starting wall penetration at (53.87702, 656.0225)
[06:58:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6.67373275756836
[06:58:35] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:35] [INFO] [Bullet] Exiting penetration at (26.8646, 633.603) after traveling 30.1041698455811 pixels through wall
[06:58:35] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[06:58:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(961.4149, 1401.313), shooter_id=7722535749833, bullet_pos=(42.98625, 681.8685)
[06:58:35] [INFO] [Bullet] Using shooter_position, distance=1166.6669921875
[06:58:35] [INFO] [Bullet] Distance to wall: 1166.6669921875 (79.4405008094768% of viewport)
[06:58:35] [INFO] [Bullet] Distance-based penetration chance: 53.9860823889438%
[06:58:35] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.453, 1492.111), shooter_id=7722535749833, bullet_pos=(512.0449, 954.2618)
[06:58:35] [INFO] [Bullet] Using shooter_position, distance=783.266967773438
[06:58:35] [INFO] [Bullet] Distance to wall: 783.266967773438 (53.3340881366446% of viewport)
[06:58:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(364.3577, 809.5497), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:35] [ENEMY] [Enemy1] Heard gunshot at (364.3577, 809.5497), source_type=0, intensity=0.01, distance=464
[06:58:35] [ENEMY] [Enemy2] Heard gunshot at (364.3577, 809.5497), source_type=0, intensity=0.04, distance=262
[06:58:35] [ENEMY] [Enemy4] Heard gunshot at (364.3577, 809.5497), source_type=0, intensity=0.01, distance=445
[06:58:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(371.7271, 796.8969), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.453, 1492.111), shooter_id=7722535749833, bullet_pos=(638.7214, 1002.363)
[06:58:35] [INFO] [Bullet] Using shooter_position, distance=660.200012207031
[06:58:35] [INFO] [Bullet] Distance to wall: 660.200012207031 (44.9542328319513% of viewport)
[06:58:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.2111, 762.0463), source=ENEMY (Enemy3), range=1469, listeners=10
[06:58:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:58:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(381.1684, 786.1398), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(364.3577, 809.5497), shooter_id=7723357834507, bullet_pos=(504.2637, 814.6814)
[06:58:35] [INFO] [Bullet] Using shooter_position, distance=140.000091552734
[06:58:35] [INFO] [Bullet] Distance to wall: 140.000091552734 (9.53286367129379% of viewport)
[06:58:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:35] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:35] [INFO] [LastChance] Threat detected: @Area2D@10471
[06:58:35] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.2556, 777.8909), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(371.7271, 796.8969), shooter_id=7723357834507, bullet_pos=(511.6118, 802.5801)
[06:58:35] [INFO] [Bullet] Using shooter_position, distance=140.000045776367
[06:58:35] [INFO] [Bullet] Distance to wall: 140.000045776367 (9.53286055429678% of viewport)
[06:58:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:35] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(404.9886, 772.1501), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(621.2872, 763.6033), source=ENEMY (Enemy3), range=1469, listeners=10
[06:58:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:58:35] [INFO] [LastChance] Threat detected: @Area2D@10480
[06:58:35] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(419.3675, 768.9176), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:35] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[06:58:35] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[06:58:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(435.3678, 768.156), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(570.7096, 776.9144), shooter_id=7720539261150, bullet_pos=(32.04035, 833.8204)
[06:58:35] [INFO] [Bullet] Using shooter_position, distance=541.666748046875
[06:58:35] [INFO] [Bullet] Distance to wall: 541.666748046875 (36.883084911833% of viewport)
[06:58:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.453, 1492.111), shooter_id=7722535749833, bullet_pos=(909.1902, 921.4393)
[06:58:35] [INFO] [Bullet] Using shooter_position, distance=596.104248046875
[06:58:35] [INFO] [Bullet] Distance to wall: 596.104248046875 (40.5898343885688% of viewport)
[06:58:35] [INFO] [Bullet] Distance-based penetration chance: 99.3118598800031%
[06:58:35] [INFO] [Bullet] Starting wall penetration at (909.1902, 921.4393)
[06:58:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(621.2872, 763.6033), source=ENEMY (Enemy3), range=1469, listeners=10
[06:58:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:58:35] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:58:35] [INFO] [Bullet] Exiting penetration at (931.6923, 914.7067) after traveling 18.4877223968506 pixels through wall
[06:58:35] [INFO] [Bullet] Damage multiplier after penetration: 0.028125
[06:58:35] [INFO] [LastChance] Threat detected: @Area2D@10488
[06:58:35] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:35] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[06:58:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.8678, 768.156), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:35] [ENEMY] [Enemy3] Hit taken, health: 2/3
[06:58:35] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:35] [INFO] [ImpactEffects] spawn_blood_effect called at (621.2872, 763.6033), dir=(0.999401, -0.034598), lethal=false
[06:58:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:35] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:35] [INFO] [ImpactEffects] Blood effect spawned at (621.2872, 763.6033) (scale=0.9)
[06:58:35] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[06:58:35] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:58:35] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:58:35] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:58:35] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:58:35] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:58:35] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:58:35] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:58:35] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:58:35] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:58:35] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:58:35] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:58:35] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[06:58:35] [ENEMY] [Enemy3] Hit taken, health: 1/3
[06:58:35] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:35] [INFO] [ImpactEffects] spawn_blood_effect called at (621.2872, 763.6033), dir=(0.999108, 0.04223), lethal=false
[06:58:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:35] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:35] [INFO] [ImpactEffects] Blood effect spawned at (621.2872, 763.6033) (scale=0.9)
[06:58:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(392.2556, 777.8909), shooter_id=7723357834507, bullet_pos=(698.8711, 807.063)
[06:58:35] [INFO] [Bullet] Using shooter_position, distance=308.000152587891
[06:58:35] [INFO] [Bullet] Distance to wall: 308.000152587891 (20.9722967520495% of viewport)
[06:58:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:35] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:35] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:58:35] [ENEMY] [Enemy3] Hit taken, health: 0/3
[06:58:35] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:35] [INFO] [ImpactEffects] spawn_blood_effect called at (621.0121, 764.0602), dir=(0.997794, 0.066389), lethal=true
[06:58:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:35] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[06:58:35] [INFO] [ImpactEffects] Blood effect spawned at (621.0121, 764.0602) (scale=1.35)
[06:58:35] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[06:58:35] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[06:58:35] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[06:58:35] [INFO] [DeathAnim] Started - Angle: 3.8 deg, Index: 12
[06:58:35] [ENEMY] [Enemy3] Death animation started with hit direction: (0.997794, 0.066389)
[06:58:36] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[06:58:36] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[06:58:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(381.1684, 786.1398), shooter_id=7723357834507, bullet_pos=(910.5698, 811.3276)
[06:58:36] [INFO] [Bullet] Using shooter_position, distance=530.000244140625
[06:58:36] [INFO] [Bullet] Distance to wall: 530.000244140625 (36.0886912080475% of viewport)
[06:58:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:36] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(530.2966, 764.9686), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:37] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[06:58:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(542.197, 760.5032), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:38] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[06:58:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(530.2966, 764.9686), shooter_id=7723357834507, bullet_pos=(481.8713, 714.4213)
[06:58:38] [INFO] [Bullet] Using shooter_position, distance=70.0003204345703
[06:58:38] [INFO] [Bullet] Distance to wall: 70.0003204345703 (4.766450537629% of viewport)
[06:58:38] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[06:58:38] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(542.197, 760.5032), shooter_id=7723357834507, bullet_pos=(502.9979, 709.9117)
[06:58:38] [INFO] [Bullet] Using shooter_position, distance=64.0005798339844
[06:58:38] [INFO] [Bullet] Distance to wall: 64.0005798339844 (4.35791716758496% of viewport)
[06:58:38] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[06:58:38] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(553.3002, 754.1131), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:38] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[06:58:38] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[06:58:38] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:58:38] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:58:38] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[06:58:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(451.8678, 768.156), shooter_id=7723357834507, bullet_pos=(909.4771, 787.012)
[06:58:38] [INFO] [Bullet] Using shooter_position, distance=457.997589111328
[06:58:38] [INFO] [Bullet] Distance to wall: 457.997589111328 (31.1858980258949% of viewport)
[06:58:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:38] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(570.8724, 738.1124), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:38] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[06:58:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(582.5397, 726.4451), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:38] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[06:58:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(553.3002, 754.1131), shooter_id=7723357834507, bullet_pos=(497.7767, 595.5533)
[06:58:38] [INFO] [Bullet] Using shooter_position, distance=168.000198364258
[06:58:38] [INFO] [Bullet] Distance to wall: 168.000198364258 (11.4394424317468% of viewport)
[06:58:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:38] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:38] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[06:58:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(598.0961, 710.8887), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:38] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[06:58:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(570.8724, 738.1124), shooter_id=7723357834507, bullet_pos=(517.849, 587.1539)
[06:58:38] [INFO] [Bullet] Using shooter_position, distance=159.999847412109
[06:58:38] [INFO] [Bullet] Distance to wall: 159.999847412109 (10.8946838240668% of viewport)
[06:58:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:38] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:38] [ENEMY] [Enemy3] Ragdoll activated
[06:58:38] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[06:58:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(613.6525, 695.3323), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:38] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[06:58:38] [ENEMY] [Enemy2] Hit taken, health: 1/2
[06:58:38] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:38] [INFO] [ImpactEffects] spawn_blood_effect called at (397.8873, 565.8598), dir=(-0.788746, -0.61472), lethal=false
[06:58:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:38] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:38] [INFO] [ImpactEffects] Blood effect spawned at (397.8873, 565.8598) (scale=0.9)
[06:58:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(629.2089, 679.7759), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:38] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[06:58:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(397.8873, 565.8598), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:58:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(613.6525, 695.3323), shooter_id=7723357834507, bullet_pos=(512.5422, 598.4991)
[06:58:38] [INFO] [Bullet] Using shooter_position, distance=139.999893188477
[06:58:38] [INFO] [Bullet] Distance to wall: 139.999893188477 (9.53285016430672% of viewport)
[06:58:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:38] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.7653, 664.2195), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:38] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[06:58:38] [INFO] [LastChance] Threat detected: Bullet
[06:58:38] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(629.2089, 679.7759), shooter_id=7723357834507, bullet_pos=(514.8784, 567.8447)
[06:58:38] [INFO] [Bullet] Using shooter_position, distance=160.000198364258
[06:58:38] [INFO] [Bullet] Distance to wall: 160.000198364258 (10.8947077210439% of viewport)
[06:58:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:38] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:38] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[06:58:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(660.3217, 648.6631), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:38] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[06:58:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(405.8633, 565.2409), source=ENEMY (Enemy2), range=1469, listeners=9
[06:58:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[06:58:39] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[06:58:39] [ENEMY] [Enemy10] FLANKING started: target=(869.1991, 670.2849), side=left, pos=(958.2552, 1405.971)
[06:58:39] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[06:58:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(675.8781, 633.1067), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[06:58:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(644.7653, 664.2195), shooter_id=7723357834507, bullet_pos=(515.2816, 539.1835)
[06:58:39] [INFO] [Bullet] Using shooter_position, distance=180.000091552734
[06:58:39] [INFO] [Bullet] Distance to wall: 180.000091552734 (12.256537224808% of viewport)
[06:58:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:39] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(473.8641, 567.788), shooter_id=7720254049735, bullet_pos=(513.6505, 555.4124)
[06:58:39] [INFO] [Bullet] Using shooter_position, distance=41.6666717529297
[06:58:39] [INFO] [Bullet] Distance to wall: 41.6666717529297 (2.83716029791031% of viewport)
[06:58:39] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[06:58:39] [INFO] [Bullet] Starting wall penetration at (513.6505, 555.4124)
[06:58:39] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[06:58:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35.8280448913574
[06:58:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(455.9565, 601.6329), shooter_id=7720254049735, bullet_pos=(908.8547, 813.4896)
[06:58:39] [INFO] [Bullet] Using shooter_position, distance=500
[06:58:39] [INFO] [Bullet] Distance to wall: 500 (34.0459194189277% of viewport)
[06:58:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:39] [INFO] [Bullet] Starting wall penetration at (908.8547, 813.4896)
[06:58:39] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:39] [INFO] [Bullet] Exiting penetration at (558.2112, 541.5518) after traveling 41.666675567627 pixels through wall
[06:58:39] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:39] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16.6982154846191
[06:58:39] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:39] [INFO] [Bullet] Exiting penetration at (951.1252, 833.2629) after traveling 41.6666679382324 pixels through wall
[06:58:39] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(691.4345, 617.5503), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(660.3217, 648.6631), shooter_id=7723357834507, bullet_pos=(526.2129, 500.2891)
[06:58:39] [INFO] [Bullet] Using shooter_position, distance=200.000076293945
[06:58:39] [INFO] [Bullet] Distance to wall: 200.000076293945 (13.6183729625661% of viewport)
[06:58:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:39] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(706.9909, 601.9939), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(598.0961, 710.8887), shooter_id=7723357834507, bullet_pos=(220.4458, 270.6843)
[06:58:39] [INFO] [Bullet] Using shooter_position, distance=579.999694824219
[06:58:39] [INFO] [Bullet] Distance to wall: 579.999694824219 (39.493245745976% of viewport)
[06:58:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:39] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(675.8781, 633.1067), shooter_id=7723357834507, bullet_pos=(519.2131, 451.2938)
[06:58:39] [INFO] [Bullet] Using shooter_position, distance=239.999710083008
[06:58:39] [INFO] [Bullet] Distance to wall: 239.999710083008 (16.3420215801042% of viewport)
[06:58:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:39] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(722.5473, 586.4375), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(691.4345, 617.5503), shooter_id=7723357834507, bullet_pos=(516.9216, 573.4457)
[06:58:39] [INFO] [Bullet] Using shooter_position, distance=179.999893188477
[06:58:39] [INFO] [Bullet] Distance to wall: 179.999893188477 (12.2565237178209% of viewport)
[06:58:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:39] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:39] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[06:58:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(787.1811, 957.5033), source=ENEMY (Enemy4), range=1469, listeners=9
[06:58:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[06:58:39] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[06:58:39] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[06:58:39] [INFO] [LastChance] Threat detected: Bullet
[06:58:39] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:39] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[06:58:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(722.5473, 586.4375), shooter_id=7723357834507, bullet_pos=(522.5534, 584.9055)
[06:58:39] [INFO] [Bullet] Using shooter_position, distance=199.999771118164
[06:58:39] [INFO] [Bullet] Distance to wall: 199.999771118164 (13.618352182586% of viewport)
[06:58:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:39] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:39] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[06:58:39] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[06:58:39] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[06:58:39] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[06:58:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(772.9886, 883.5494), shooter_id=7720824474988, bullet_pos=(629.9882, 62.57743)
[06:58:39] [INFO] [Bullet] Using shooter_position, distance=833.333129882813
[06:58:39] [INFO] [Bullet] Distance to wall: 833.333129882813 (56.7431851782261% of viewport)
[06:58:39] [INFO] [Bullet] Distance-based penetration chance: 80.4662839587362%
[06:58:39] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:39] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[06:58:39] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[06:58:39] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[06:58:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(706.9909, 601.9939), shooter_id=7723357834507, bullet_pos=(47.0656, 611.9479)
[06:58:39] [INFO] [Bullet] Using shooter_position, distance=660.000366210938
[06:58:39] [INFO] [Bullet] Distance to wall: 660.000366210938 (44.9406385689607% of viewport)
[06:58:39] [INFO] [Bullet] Distance-based penetration chance: 94.2359216695458%
[06:58:39] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:39] [ENEMY] [Enemy3] Death animation completed
[06:58:39] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[06:58:39] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[06:58:39] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[06:58:40] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[06:58:40] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[06:58:40] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[06:58:40] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[06:58:40] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[06:58:41] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[06:58:41] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[06:58:41] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[06:58:41] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[06:58:41] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[06:58:41] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[06:58:41] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[06:58:41] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[06:58:41] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[06:58:41] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[06:58:41] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[06:58:41] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1237.181, 671.9335), source=PLAYER (Player), range=900, listeners=9
[06:58:41] [ENEMY] [Enemy7] Heard player RELOAD at (1237.181, 671.9335), intensity=0.01, distance=438
[06:58:41] [ENEMY] [Enemy7] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[06:58:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=5
[06:58:41] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1041), can_see=false
[06:58:41] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=830), can_see=false
[06:58:41] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=620), can_see=false
[06:58:41] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=564), can_see=false
[06:58:41] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=747), can_see=false
[06:58:41] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=438), can_see=false
[06:58:41] [ENEMY] [Enemy7] Pursuing vulnerability sound at (1237.181, 671.9335), distance=438
[06:58:41] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1022), can_see=false
[06:58:41] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1231), can_see=false
[06:58:41] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=809), can_see=false
[06:58:41] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[06:58:41] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[06:58:41] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[06:58:41] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[06:58:41] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[06:58:41] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[06:58:41] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[06:58:41] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[06:58:41] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[06:58:41] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[06:58:41] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[06:58:41] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[06:58:41] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[06:58:41] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[06:58:41] [INFO] [Player.Reload.Anim] LeftArm: pos=(13.611956, 5.9960046), target=(14, 6), base=(14, 6)
[06:58:41] [INFO] [Player.Reload.Anim] RightArm: pos=(0.99999255, 6.061346), target=(1, 6), base=(1, 6)
[06:58:41] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[06:58:42] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[06:58:42] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[06:58:42] [ENEMY] [Enemy7] Pursuing vulnerability sound at (1237.181, 671.9335), distance=546
[06:58:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1247.493, 666.0314), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=9
[06:58:42] [ENEMY] [Enemy7] State: PURSUING -> COMBAT
[06:58:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1253.951, 659.6514), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=9
[06:58:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1262.515, 651.1343), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[06:58:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1273.184, 640.4802), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[06:58:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1284.851, 628.8129), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[06:58:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1689.578, 751.9338), source=ENEMY (Enemy7), range=1469, listeners=9
[06:58:42] [ENEMY] [Enemy5] Heard gunshot at (1689.578, 751.9338), source_type=1, intensity=0.02, distance=402
[06:58:42] [ENEMY] [Enemy6] Heard gunshot at (1689.578, 751.9338), source_type=1, intensity=0.02, distance=399
[06:58:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[06:58:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1296.518, 617.1456), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[06:58:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1307.877, 605.3507), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[06:58:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1296.518, 617.1456), shooter_id=7723357834507, bullet_pos=(1376.03, 625.9654)
[06:58:42] [INFO] [Bullet] Using shooter_position, distance=79.9998779296875
[06:58:42] [INFO] [Bullet] Distance to wall: 79.9998779296875 (5.44733879503639% of viewport)
[06:58:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:42] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1307.877, 605.3507), shooter_id=7723357834507, bullet_pos=(1367.805, 602.3992)
[06:58:42] [INFO] [Bullet] Using shooter_position, distance=60.000129699707
[06:58:42] [INFO] [Bullet] Distance to wall: 60.000129699707 (4.08551916176287% of viewport)
[06:58:42] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[06:58:42] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:42] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[06:58:42] [ENEMY] [Enemy7] State: RETREATING -> IN_COVER
[06:58:42] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[06:58:43] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[06:58:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1325.097, 493.0139), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[06:58:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1320.477, 478.4273), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=5
[06:58:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1622.823, 738.1326), shooter_id=7721680112793, bullet_pos=(514.8435, 372.762)
[06:58:43] [INFO] [Bullet] Using shooter_position, distance=1166.66748046875
[06:58:43] [INFO] [Bullet] Distance to wall: 1166.66748046875 (79.440534057445% of viewport)
[06:58:43] [INFO] [Bullet] Distance-based penetration chance: 53.9860435996476%
[06:58:43] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:43] [ENEMY] [Enemy5] State: COMBAT -> PURSUING
[06:58:43] [ENEMY] [Enemy6] State: COMBAT -> PURSUING
[06:58:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1313.086, 464.9887), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=5
[06:58:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1302.923, 452.6982), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=5
[06:58:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(884.5419, 576.3731), source=ENEMY (Enemy10), range=1469, listeners=9
[06:58:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[06:58:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1291.256, 441.0309), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=5
[06:58:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1279.589, 429.3636), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[06:58:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1325.097, 493.0139), shooter_id=7723357834507, bullet_pos=(1021.395, 686.315)
[06:58:43] [INFO] [Bullet] Using shooter_position, distance=360.000030517578
[06:58:43] [INFO] [Bullet] Distance to wall: 360.000030517578 (24.513064059626% of viewport)
[06:58:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:43] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:43] [INFO] [LastChance] Threat detected: Bullet
[06:58:43] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(917.6405, 560.2665), source=ENEMY (Enemy10), range=1469, listeners=9
[06:58:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[06:58:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1247.493, 666.0314), shooter_id=7723357834507, bullet_pos=(2463.129, 769.1662)
[06:58:43] [INFO] [Bullet] Using shooter_position, distance=1220.00354003906
[06:58:43] [INFO] [Bullet] Distance to wall: 1220.00354003906 (83.0722844299529% of viewport)
[06:58:43] [INFO] [Bullet] Distance-based penetration chance: 49.7490014983883%
[06:58:43] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1320.477, 478.4273), shooter_id=7723357834507, bullet_pos=(981.5858, 690.92)
[06:58:43] [INFO] [Bullet] Using shooter_position, distance=400.000671386719
[06:58:43] [INFO] [Bullet] Distance to wall: 400.000671386719 (27.2367812510984% of viewport)
[06:58:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:43] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(951.3491, 563.1749), shooter_id=7722535749833, bullet_pos=(1387.858, 423.4282)
[06:58:43] [INFO] [Bullet] Using shooter_position, distance=458.332946777344
[06:58:43] [INFO] [Bullet] Distance to wall: 458.332946777344 (31.2087331460422% of viewport)
[06:58:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:43] [INFO] [Bullet] Starting wall penetration at (1387.858, 423.4282)
[06:58:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1253.951, 659.6514), shooter_id=7723357834507, bullet_pos=(2473.678, 685.49)
[06:58:43] [INFO] [Bullet] Using shooter_position, distance=1220.00085449219
[06:58:43] [INFO] [Bullet] Distance to wall: 1220.00085449219 (83.0721015661279% of viewport)
[06:58:43] [INFO] [Bullet] Distance-based penetration chance: 49.7492148395174%
[06:58:43] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:43] [INFO] [LastChance] Threat detected: @Area2D@10594
[06:58:43] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 46.5174751281738
[06:58:43] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:43] [INFO] [Bullet] Exiting penetration at (1432.302, 409.1994) after traveling 41.6666679382324 pixels through wall
[06:58:43] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(951.5702, 544.7307), source=ENEMY (Enemy10), range=1469, listeners=9
[06:58:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[06:58:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1313.086, 464.9887), shooter_id=7723357834507, bullet_pos=(937.2905, 652.5443)
[06:58:43] [INFO] [Bullet] Using shooter_position, distance=419.999389648438
[06:58:43] [INFO] [Bullet] Distance to wall: 419.999389648438 (28.598530751939% of viewport)
[06:58:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:43] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1262.515, 651.1343), shooter_id=7723357834507, bullet_pos=(2477.079, 766.1683)
[06:58:43] [INFO] [Bullet] Using shooter_position, distance=1219.99963378906
[06:58:43] [INFO] [Bullet] Distance to wall: 1219.99963378906 (83.0720184462075% of viewport)
[06:58:43] [INFO] [Bullet] Distance-based penetration chance: 49.749311812758%
[06:58:43] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1273.184, 640.4802), shooter_id=7723357834507, bullet_pos=(2468.36, 747.9887)
[06:58:43] [INFO] [Bullet] Using shooter_position, distance=1200.00146484375
[06:58:43] [INFO] [Bullet] Distance to wall: 1200.00146484375 (81.710306349331% of viewport)
[06:58:43] [INFO] [Bullet] Distance-based penetration chance: 51.3379759257805%
[06:58:43] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:43] [ENEMY] [Enemy2] FLANKING started: target=(1093.039, 232.156), side=right, pos=(413.8393, 564.622)
[06:58:43] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[06:58:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(983.2894, 541.9669), shooter_id=7722535749833, bullet_pos=(1369.214, 384.8896)
[06:58:43] [INFO] [Bullet] Using shooter_position, distance=416.666259765625
[06:58:43] [INFO] [Bullet] Distance to wall: 416.666259765625 (28.3715718091329% of viewport)
[06:58:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:43] [INFO] [LastChance] Threat detected: Bullet
[06:58:43] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1302.923, 452.6982), shooter_id=7723357834507, bullet_pos=(925.6901, 679.1825)
[06:58:43] [INFO] [Bullet] Using shooter_position, distance=440.000183105469
[06:58:43] [INFO] [Bullet] Distance to wall: 440.000183105469 (29.9604215566445% of viewport)
[06:58:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:43] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:43] [ENEMY] [Enemy10] Hit taken, health: 2/3
[06:58:43] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:43] [INFO] [ImpactEffects] spawn_blood_effect called at (974.6548, 531.3966), dir=(-0.919987, 0.39195), lethal=false
[06:58:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:43] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:43] [INFO] [ImpactEffects] Blood effect spawned at (974.6548, 531.3966) (scale=0.9)
[06:58:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1291.256, 441.0309), shooter_id=7723357834507, bullet_pos=(923.9301, 599.372)
[06:58:43] [INFO] [Bullet] Using shooter_position, distance=400.000610351563
[06:58:43] [INFO] [Bullet] Distance to wall: 400.000610351563 (27.2367770951024% of viewport)
[06:58:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:43] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1284.851, 628.8129), shooter_id=7723357834507, bullet_pos=(2473.767, 791.5314)
[06:58:43] [INFO] [Bullet] Using shooter_position, distance=1199.99914550781
[06:58:43] [INFO] [Bullet] Distance to wall: 1199.99914550781 (81.7101484214822% of viewport)
[06:58:43] [INFO] [Bullet] Distance-based penetration chance: 51.3381601749375%
[06:58:43] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(983.5417, 525.4982), source=ENEMY (Enemy10), range=1469, listeners=9
[06:58:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[06:58:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1205.698, 355.4708), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:43] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[06:58:43] [INFO] [LastChance] Threat detected: @Area2D@10608
[06:58:43] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1014.994, 519.7322), shooter_id=7722535749833, bullet_pos=(1382.611, 323.5981)
[06:58:43] [INFO] [Bullet] Using shooter_position, distance=416.666534423828
[06:58:43] [INFO] [Bullet] Distance to wall: 416.666534423828 (28.371590511115% of viewport)
[06:58:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1194.03, 343.8035), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(983.2894, 541.9669), shooter_id=7722535749833, bullet_pos=(1096.538, 291.1659)
[06:58:43] [INFO] [Bullet] Using shooter_position, distance=275.184234619141
[06:58:43] [INFO] [Bullet] Distance to wall: 275.184234619141 (18.7378005544051% of viewport)
[06:58:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(994.4404, 523.8355), source=ENEMY (Enemy10), range=1469, listeners=9
[06:58:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[06:58:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1182.363, 332.1362), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:43] [INFO] [LastChance] Threat detected: @Area2D@10615
[06:58:43] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(991.705, 534.1456), source=ENEMY (Enemy10), range=1469, listeners=9
[06:58:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[06:58:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1170.696, 320.4689), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1043.394, 492.8092), shooter_id=7722535749833, bullet_pos=(1383.837, 252.5809)
[06:58:43] [INFO] [Bullet] Using shooter_position, distance=416.666687011719
[06:58:43] [INFO] [Bullet] Distance to wall: 416.666687011719 (28.3716009011051% of viewport)
[06:58:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:43] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[06:58:43] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[06:58:43] [INFO] [PenultimateHit] Player died - ending penultimate effect
[06:58:43] [INFO] [LastChance] Player died
[06:58:43] [INFO] [LastChance] Threat detected: @Area2D@10618
[06:58:43] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:43] [ENEMY] [Enemy2] State: FLANKING -> COMBAT
[06:58:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1159.029, 308.8016), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(988.9697, 544.4556), source=ENEMY (Enemy10), range=1469, listeners=9
[06:58:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[06:58:43] [ENEMY] [Enemy10] Hit taken, health: 1/3
[06:58:43] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:43] [INFO] [ImpactEffects] spawn_blood_effect called at (988.2858, 547.0331), dir=(-0.803491, 0.595317), lethal=false
[06:58:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:43] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:43] [INFO] [ImpactEffects] Wall found for blood splatter at (916.7972, 600) (dist=88 px)
[06:58:43] [INFO] [ImpactEffects] Blood effect spawned at (988.2858, 547.0331) (scale=0.9)
[06:58:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1147.362, 297.1343), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:58:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:58:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(986.2343, 554.7657), source=ENEMY (Enemy10), range=1469, listeners=9
[06:58:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[06:58:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1043.394, 492.8092), shooter_id=7722535749833, bullet_pos=(1079.16, 62.38956)
[06:58:43] [INFO] [Bullet] Using shooter_position, distance=431.903045654297
[06:58:43] [INFO] [Bullet] Distance to wall: 431.903045654297 (29.4090725782713% of viewport)
[06:58:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(983.2894, 541.9669), shooter_id=7722535749833, bullet_pos=(527.6395, 387.3923)
[06:58:44] [INFO] [Bullet] Using shooter_position, distance=481.155059814453
[06:58:44] [INFO] [Bullet] Distance to wall: 481.155059814453 (32.7627327889044% of viewport)
[06:58:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:44] [INFO] [Bullet] Starting wall penetration at (527.6395, 387.3923)
[06:58:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7.0721321105957
[06:58:44] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:44] [INFO] [Bullet] Exiting penetration at (493.0269, 393.2469) after traveling 30.1041698455811 pixels through wall
[06:58:44] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[06:58:44] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[06:58:44] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[06:58:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1034.853, 494.2032), shooter_id=7722535749833, bullet_pos=(1413.034, 50.06681)
[06:58:44] [INFO] [Bullet] Using shooter_position, distance=583.333679199219
[06:58:44] [INFO] [Bullet] Distance to wall: 583.333679199219 (39.7202628727265% of viewport)
[06:58:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1027.752, 500.8503), shooter_id=7722535749833, bullet_pos=(1403.305, 54.48906)
[06:58:44] [INFO] [Bullet] Using shooter_position, distance=583.333679199219
[06:58:44] [INFO] [Bullet] Distance to wall: 583.333679199219 (39.7202628727265% of viewport)
[06:58:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:44] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[06:58:44] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[06:58:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1034.853, 494.2032), shooter_id=7722535749833, bullet_pos=(1624.86, 294.9009)
[06:58:44] [INFO] [Bullet] Using shooter_position, distance=622.759948730469
[06:58:44] [INFO] [Bullet] Distance to wall: 622.759948730469 (42.4048700636262% of viewport)
[06:58:44] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[06:58:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1027.752, 500.8503), shooter_id=7722535749833, bullet_pos=(1580.339, 282.0748)
[06:58:44] [INFO] [Bullet] Using shooter_position, distance=594.318603515625
[06:58:44] [INFO] [Bullet] Distance to wall: 594.318603515625 (40.4682465689252% of viewport)
[06:58:44] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:44] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:44] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:58:44] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:58:44] [ENEMY] [Enemy1] Death animation component initialized
[06:58:44] [ENEMY] [Enemy2] Death animation component initialized
[06:58:44] [ENEMY] [Enemy3] Death animation component initialized
[06:58:44] [ENEMY] [Enemy4] Death animation component initialized
[06:58:44] [ENEMY] [Enemy5] Death animation component initialized
[06:58:44] [ENEMY] [Enemy6] Death animation component initialized
[06:58:44] [ENEMY] [Enemy7] Death animation component initialized
[06:58:44] [ENEMY] [Enemy8] Death animation component initialized
[06:58:44] [ENEMY] [Enemy9] Death animation component initialized
[06:58:44] [ENEMY] [Enemy10] Death animation component initialized
[06:58:44] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:58:44] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:58:44] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:58:44] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:58:44] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:58:44] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:58:44] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:58:44] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[06:58:44] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:58:44] [INFO] [ScoreManager] Level started with 10 enemies
[06:58:44] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[06:58:44] [ENEMY] [Enemy1] Registered as sound listener
[06:58:44] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[06:58:44] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[06:58:44] [ENEMY] [Enemy2] Registered as sound listener
[06:58:44] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[06:58:44] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[06:58:44] [ENEMY] [Enemy3] Registered as sound listener
[06:58:44] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[06:58:44] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[06:58:44] [ENEMY] [Enemy4] Registered as sound listener
[06:58:44] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[06:58:44] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[06:58:44] [ENEMY] [Enemy5] Registered as sound listener
[06:58:44] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[06:58:44] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[06:58:44] [ENEMY] [Enemy6] Registered as sound listener
[06:58:44] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[06:58:44] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[06:58:44] [ENEMY] [Enemy7] Registered as sound listener
[06:58:44] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[06:58:44] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[06:58:44] [ENEMY] [Enemy8] Registered as sound listener
[06:58:44] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[06:58:44] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[06:58:44] [ENEMY] [Enemy9] Registered as sound listener
[06:58:44] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[06:58:44] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[06:58:44] [ENEMY] [Enemy10] Registered as sound listener
[06:58:44] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[06:58:44] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:58:44] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:58:44] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:58:44] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:58:44] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:58:44] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:58:44] [INFO] [LastChance] Found player: Player
[06:58:44] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:58:44] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:58:44] [INFO] [LastChance] Connected to player Died signal (C#)
[06:58:44] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:58:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.968, 1519.099), source=ENEMY (Enemy10), range=1469, listeners=19
[06:58:45] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[06:58:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.286, 1499.355), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.399, 1478.388), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.349, 1456.239), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:45] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:58:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.953, 1490.981), shooter_id=8387349712589, bullet_pos=(45.84888, 869.2435)
[06:58:45] [INFO] [Bullet] Using shooter_position, distance=1208.33312988281
[06:58:45] [INFO] [Bullet] Distance to wall: 1208.33312988281 (82.2776247424219% of viewport)
[06:58:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.419, 1468.83), shooter_id=8387349712589, bullet_pos=(40.46389, 806.9844)
[06:58:45] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[06:58:45] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[06:58:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.953, 1490.981), shooter_id=8387349712589, bullet_pos=(365.7567, 705.9653)
[06:58:45] [INFO] [Bullet] Using shooter_position, distance=1062.63195800781
[06:58:45] [INFO] [Bullet] Distance to wall: 1062.63195800781 (72.3565640286227% of viewport)
[06:58:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.419, 1468.83), shooter_id=8387349712589, bullet_pos=(237.1573, 714.1516)
[06:58:45] [INFO] [Bullet] Using shooter_position, distance=1110.2080078125
[06:58:45] [INFO] [Bullet] Distance to wall: 1110.2080078125 (75.5961047444653% of viewport)
[06:58:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1021.767, 1445.516), shooter_id=8387349712589, bullet_pos=(37.35197, 744.8046)
[06:58:45] [INFO] [Bullet] Using shooter_position, distance=1208.33386230469
[06:58:45] [INFO] [Bullet] Distance to wall: 1208.33386230469 (82.2776746143741% of viewport)
[06:58:45] [INFO] [LastChance] Threat detected: @Area2D@10889
[06:58:45] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1021.767, 1445.516), shooter_id=8387349712589, bullet_pos=(102.7338, 706.387)
[06:58:45] [INFO] [Bullet] Using shooter_position, distance=1179.37902832031
[06:58:45] [INFO] [Bullet] Distance to wall: 1179.37902832031 (80.3060867251332% of viewport)
[06:58:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.953, 1490.981), shooter_id=8387349712589, bullet_pos=(521.0884, 807.5955)
[06:58:45] [INFO] [Bullet] Using shooter_position, distance=884.07275390625
[06:58:45] [INFO] [Bullet] Distance to wall: 884.07275390625 (60.1981394799234% of viewport)
[06:58:45] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[06:58:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1021.767, 1445.516), shooter_id=8387349712589, bullet_pos=(52.02344, 665.3921)
[06:58:45] [INFO] [Bullet] Using shooter_position, distance=1244.58715820313
[06:58:45] [INFO] [Bullet] Distance to wall: 1244.58715820313 (84.7462281960316% of viewport)
[06:58:45] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[06:58:45] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[06:58:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.0307, 1421.091), shooter_id=8387349712589, bullet_pos=(36.38991, 682.9119)
[06:58:45] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[06:58:45] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[06:58:45] [ENEMY] [Enemy3] Hit taken, health: 2/3
[06:58:45] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:45] [INFO] [ImpactEffects] spawn_blood_effect called at (679.2311, 754.8591), dir=(0.898449, -0.439079), lethal=false
[06:58:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:45] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:45] [INFO] [ImpactEffects] Blood effect spawned at (679.2311, 754.8591) (scale=1)
[06:58:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(382.6874, 787.1949), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:45] [ENEMY] [Enemy1] Heard gunshot at (382.6874, 787.1949), source_type=0, intensity=0.01, distance=445
[06:58:45] [ENEMY] [Enemy2] Heard gunshot at (382.6874, 787.1949), source_type=0, intensity=0.04, distance=238
[06:58:45] [ENEMY] [Enemy4] Heard gunshot at (382.6874, 787.1949), source_type=0, intensity=0.01, distance=432
[06:58:45] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(378.2063, 773.6096), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.9561, 760.3743), source=ENEMY (Enemy3), range=1469, listeners=10
[06:58:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:58:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.0307, 1421.091), shooter_id=8387349712589, bullet_pos=(328.8652, 474.444)
[06:58:46] [INFO] [Bullet] Using shooter_position, distance=1156.39770507813
[06:58:46] [INFO] [Bullet] Distance to wall: 1156.39770507813 (78.7412461666455% of viewport)
[06:58:46] [INFO] [Bullet] Distance-based penetration chance: 54.8018794722469%
[06:58:46] [INFO] [Bullet] Starting wall penetration at (328.8652, 474.444)
[06:58:46] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:58:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26.7428703308105
[06:58:46] [INFO] [LastChance] Threat detected: Bullet
[06:58:46] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:46] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:46] [INFO] [Bullet] Exiting penetration at (361.7772, 450.9853) after traveling 35.4166717529297 pixels through wall
[06:58:46] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[06:58:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(376.6418, 760.5362), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(627.753, 768.7867), source=ENEMY (Enemy3), range=1469, listeners=10
[06:58:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:58:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(377.5571, 749.0814), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:58:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1021.767, 1445.516), shooter_id=8387349712589, bullet_pos=(515.879, 384.337)
[06:58:46] [INFO] [Bullet] Using shooter_position, distance=1175.59558105469
[06:58:46] [INFO] [Bullet] Distance to wall: 1175.59558105469 (80.0484648436708% of viewport)
[06:58:46] [INFO] [Bullet] Distance-based penetration chance: 53.2767910157175%
[06:58:46] [INFO] [Bullet] Starting wall penetration at (515.879, 384.337)
[06:58:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(629.6859, 779.2767), source=ENEMY (Enemy3), range=1469, listeners=10
[06:58:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:58:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21.0930328369141
[06:58:46] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:46] [INFO] [Bullet] Exiting penetration at (542.0399, 368.4857) after traveling 25.5885429382324 pixels through wall
[06:58:46] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[06:58:46] [INFO] [LastChance] Threat detected: @Area2D@10915
[06:58:46] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:46] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[06:58:46] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[06:58:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(569.7057, 771.6232), shooter_id=8385353222930, bullet_pos=(28.74618, 799.2935)
[06:58:46] [INFO] [Bullet] Using shooter_position, distance=541.666748046875
[06:58:46] [INFO] [Bullet] Distance to wall: 541.666748046875 (36.883084911833% of viewport)
[06:58:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:46] [INFO] [Bullet] Starting wall penetration at (28.74618, 799.2935)
[06:58:46] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[06:58:46] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:58:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 49.9247436523438
[06:58:46] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:46] [INFO] [Bullet] Exiting penetration at (-17.85956, 801.6774) after traveling 41.6666679382324 pixels through wall
[06:58:46] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:46] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[06:58:46] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[06:58:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(559.7924, 772.2437), shooter_id=8385353222930, bullet_pos=(28.59353, 878.2186)
[06:58:46] [INFO] [Bullet] Using shooter_position, distance=541.666809082031
[06:58:46] [INFO] [Bullet] Distance to wall: 541.666809082031 (36.8830890678291% of viewport)
[06:58:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(561.7033, 776.281), shooter_id=8385353222930, bullet_pos=(107.475, 715.0754)
[06:58:46] [INFO] [Bullet] Using shooter_position, distance=458.333404541016
[06:58:46] [INFO] [Bullet] Distance to wall: 458.333404541016 (31.2087643160124% of viewport)
[06:58:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:46] [INFO] [Bullet] Starting wall penetration at (107.475, 715.0754)
[06:58:46] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:58:46] [INFO] [Bullet] Exiting penetration at (61.22628, 708.8435) after traveling 41.6666717529297 pixels through wall
[06:58:46] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(382.6874, 787.1949), shooter_id=8388171796222, bullet_pos=(913.5262, 688.145)
[06:58:46] [INFO] [Bullet] Using shooter_position, distance=540.000732421875
[06:58:46] [INFO] [Bullet] Distance to wall: 540.000732421875 (36.7696428443942% of viewport)
[06:58:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:46] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(378.2063, 773.6096), shooter_id=8388171796222, bullet_pos=(925.666, 655.7649)
[06:58:46] [INFO] [Bullet] Using shooter_position, distance=559.999572753906
[06:58:46] [INFO] [Bullet] Distance to wall: 559.999572753906 (38.1314006572269% of viewport)
[06:58:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:46] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:46] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[06:58:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(376.6418, 760.5362), shooter_id=8388171796222, bullet_pos=(914.2191, 709.4349)
[06:58:46] [INFO] [Bullet] Using shooter_position, distance=540.000610351563
[06:58:46] [INFO] [Bullet] Distance to wall: 540.000610351563 (36.7696345324022% of viewport)
[06:58:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:46] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(377.5571, 749.0814), shooter_id=8388171796222, bullet_pos=(917.4565, 759.4932)
[06:58:46] [INFO] [Bullet] Using shooter_position, distance=539.999877929688
[06:58:46] [INFO] [Bullet] Distance to wall: 539.999877929688 (36.7695846604499% of viewport)
[06:58:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:46] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:46] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:46] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:46] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:58:46] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:58:46] [ENEMY] [Enemy1] Death animation component initialized
[06:58:46] [ENEMY] [Enemy2] Death animation component initialized
[06:58:46] [ENEMY] [Enemy3] Death animation component initialized
[06:58:46] [ENEMY] [Enemy4] Death animation component initialized
[06:58:46] [ENEMY] [Enemy5] Death animation component initialized
[06:58:46] [ENEMY] [Enemy6] Death animation component initialized
[06:58:46] [ENEMY] [Enemy7] Death animation component initialized
[06:58:46] [ENEMY] [Enemy8] Death animation component initialized
[06:58:47] [ENEMY] [Enemy9] Death animation component initialized
[06:58:47] [ENEMY] [Enemy10] Death animation component initialized
[06:58:47] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:58:47] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:58:47] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:58:47] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:58:47] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:58:47] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:58:47] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:58:47] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[06:58:47] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:58:47] [INFO] [ScoreManager] Level started with 10 enemies
[06:58:47] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[06:58:47] [ENEMY] [Enemy1] Registered as sound listener
[06:58:47] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[06:58:47] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[06:58:47] [ENEMY] [Enemy2] Registered as sound listener
[06:58:47] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[06:58:47] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[06:58:47] [ENEMY] [Enemy3] Registered as sound listener
[06:58:47] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[06:58:47] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[06:58:47] [ENEMY] [Enemy4] Registered as sound listener
[06:58:47] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[06:58:47] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[06:58:47] [ENEMY] [Enemy5] Registered as sound listener
[06:58:47] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[06:58:47] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[06:58:47] [ENEMY] [Enemy6] Registered as sound listener
[06:58:47] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[06:58:47] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[06:58:47] [ENEMY] [Enemy7] Registered as sound listener
[06:58:47] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[06:58:47] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[06:58:47] [ENEMY] [Enemy8] Registered as sound listener
[06:58:47] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[06:58:47] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[06:58:47] [ENEMY] [Enemy9] Registered as sound listener
[06:58:47] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[06:58:47] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[06:58:47] [ENEMY] [Enemy10] Registered as sound listener
[06:58:47] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[06:58:47] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:58:47] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:58:47] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:58:47] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:58:47] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:58:47] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:58:47] [INFO] [LastChance] Found player: Player
[06:58:47] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:58:47] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:58:47] [INFO] [LastChance] Connected to player Died signal (C#)
[06:58:50] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:58:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.893, 1624.954), source=ENEMY (Enemy10), range=1469, listeners=20
[06:58:50] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[06:58:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[06:58:50] [INFO] [LastChance] Threat detected: Bullet
[06:58:50] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1084.541, 1654.059), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=7
[06:58:50] [INFO] [LastChance] Threat detected: @Area2D@11177
[06:58:50] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1069.159, 1680.763), shooter_id=8572570174971, bullet_pos=(711.2692, 2087.356)
[06:58:51] [INFO] [Bullet] Using shooter_position, distance=541.66650390625
[06:58:51] [INFO] [Bullet] Distance to wall: 541.66650390625 (36.883068287849% of viewport)
[06:58:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.577, 1685.582), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=6
[06:58:51] [INFO] [LastChance] Threat detected: @Area2D@11179
[06:58:51] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1052.058, 1713.714), shooter_id=8572570174971, bullet_pos=(788.1088, 2088.414)
[06:58:51] [INFO] [Bullet] Using shooter_position, distance=458.333221435547
[06:58:51] [INFO] [Bullet] Distance to wall: 458.333221435547 (31.2087518480244% of viewport)
[06:58:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:51] [INFO] [Bullet] Starting wall penetration at (788.1088, 2088.414)
[06:58:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37.387020111084
[06:58:51] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:51] [INFO] [Bullet] Exiting penetration at (761.2339, 2126.565) after traveling 41.6666679382324 pixels through wall
[06:58:51] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1048.488, 1719.246), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=6
[06:58:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1069.159, 1680.763), shooter_id=8572570174971, bullet_pos=(513.2899, 1831.196)
[06:58:51] [INFO] [Bullet] Using shooter_position, distance=575.864562988281
[06:58:51] [INFO] [Bullet] Distance to wall: 575.864562988281 (39.2116770154301% of viewport)
[06:58:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1039.224, 1748.589), shooter_id=8572570174971, bullet_pos=(860.212, 2078.104)
[06:58:51] [INFO] [Bullet] Using shooter_position, distance=374.999725341797
[06:58:51] [INFO] [Bullet] Distance to wall: 374.999725341797 (25.5344208622137% of viewport)
[06:58:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:51] [INFO] [Bullet] Starting wall penetration at (860.212, 2078.104)
[06:58:51] [INFO] [LastChance] Threat detected: @Area2D@11182
[06:58:51] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26.2998943328857
[06:58:51] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:51] [INFO] [Bullet] Exiting penetration at (837.9349, 2119.11) after traveling 41.6666679382324 pixels through wall
[06:58:51] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1036.74, 1754.658), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=6
[06:58:51] [INFO] [LastChance] Threat detected: @Area2D@11186
[06:58:51] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:51] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[06:58:51] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[06:58:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1036.74, 1754.658), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=6
[06:58:51] [INFO] [LastChance] Threat detected: @Area2D@11188
[06:58:51] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:51] [ENEMY] [Enemy9] State: IDLE -> COMBAT
[06:58:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1036.74, 1754.658), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=6
[06:58:51] [INFO] [LastChance] Threat detected: @Area2D@11190
[06:58:51] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1035.391, 1822.876), shooter_id=8572570174971, bullet_pos=(1059.048, 2071.754)
[06:58:51] [INFO] [Bullet] Using shooter_position, distance=250.000076293945
[06:58:51] [INFO] [Bullet] Distance to wall: 250.000076293945 (17.0229649044589% of viewport)
[06:58:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:51] [INFO] [Bullet] Starting wall penetration at (1059.048, 2071.754)
[06:58:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1036.74, 1754.658), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=6
[06:58:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22.3112926483154
[06:58:51] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:51] [INFO] [Bullet] Exiting penetration at (1063.464, 2118.211) after traveling 41.6666679382324 pixels through wall
[06:58:51] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:51] [INFO] [LastChance] Threat detected: @Area2D@11193
[06:58:51] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2038.93, 1564.753), source=ENEMY (Enemy9), range=1469, listeners=10
[06:58:51] [ENEMY] [Enemy8] Heard gunshot at (2038.93, 1564.753), source_type=1, intensity=0.08, distance=180
[06:58:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[06:58:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1046.336, 1822.201), shooter_id=8572570174971, bullet_pos=(1109.561, 2064.075)
[06:58:51] [INFO] [Bullet] Using shooter_position, distance=250.000381469727
[06:58:51] [INFO] [Bullet] Distance to wall: 250.000381469727 (17.022985684439% of viewport)
[06:58:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1036.74, 1754.658), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=6
[06:58:51] [INFO] [LastChance] Threat detected: @Area2D@11197
[06:58:51] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:51] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[06:58:51] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[06:58:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2002.403, 1564.066), source=ENEMY (Enemy9), range=1469, listeners=10
[06:58:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[06:58:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1036.74, 1754.658), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=6
[06:58:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1056.219, 1820.023), shooter_id=8572570174971, bullet_pos=(1170.927, 2088.186)
[06:58:51] [INFO] [Bullet] Using shooter_position, distance=291.666595458984
[06:58:51] [INFO] [Bullet] Distance to wall: 291.666595458984 (19.8601148123791% of viewport)
[06:58:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:51] [INFO] [LastChance] Threat detected: @Area2D@11201
[06:58:51] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:51] [ENEMY] [Enemy6] State: IDLE -> COMBAT
[06:58:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1966.955, 1564.066), source=ENEMY (Enemy9), range=1469, listeners=10
[06:58:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[06:58:51] [INFO] [LastChance] Threat detected: Bullet
[06:58:51] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:51] [ENEMY] [Enemy9] State: COMBAT -> PURSUING
[06:58:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1036.74, 1754.658), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=6
[06:58:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1065.055, 1816.704), shooter_id=8572570174971, bullet_pos=(1215.691, 2066.461)
[06:58:51] [INFO] [Bullet] Using shooter_position, distance=291.666473388672
[06:58:51] [INFO] [Bullet] Distance to wall: 291.666473388672 (19.8601065003871% of viewport)
[06:58:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:51] [INFO] [Bullet] Starting wall penetration at (1215.691, 2066.461)
[06:58:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12.1704444885254
[06:58:52] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:52] [INFO] [Bullet] Exiting penetration at (1239.793, 2106.422) after traveling 41.6666679382324 pixels through wall
[06:58:52] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:52] [INFO] [LastChance] Threat detected: @Area2D@11206
[06:58:52] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:52] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:58:52] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:58:52] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:58:52] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:58:52] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:58:52] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:58:52] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:58:52] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:58:52] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:58:52] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:58:52] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:58:52] [INFO] [LastChance] Threat detected: @Area2D@11199
[06:58:52] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1036.74, 1754.658), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=6
[06:58:52] [INFO] [LastChance] Threat detected: Bullet
[06:58:52] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1073.802, 1811.927), shooter_id=8572570174971, bullet_pos=(1280.408, 2062.801)
[06:58:52] [INFO] [Bullet] Using shooter_position, distance=324.998229980469
[06:58:52] [INFO] [Bullet] Distance to wall: 324.998229980469 (22.1297270984183% of viewport)
[06:58:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:52] [INFO] [Bullet] Starting wall penetration at (1280.408, 2062.801)
[06:58:52] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:58:52] [INFO] [Bullet] Exiting penetration at (1286.236, 2069.876) after traveling 4.16666698455811 pixels through wall
[06:58:52] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:53] [INFO] [LastChance] Threat detected: @Area2D@11204
[06:58:53] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:53] [ENEMY] [Enemy8] State: COMBAT -> PURSUING
[06:58:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1036.74, 1754.658), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=6
[06:58:53] [INFO] [LastChance] Threat detected: @Area2D@11211
[06:58:53] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1945.216, 1600.898), shooter_id=8572284962778, bullet_pos=(1010.578, 2060.8)
[06:58:53] [INFO] [Bullet] Using shooter_position, distance=1041.66137695313
[06:58:53] [INFO] [Bullet] Distance to wall: 1041.66137695313 (70.9286386031107% of viewport)
[06:58:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.94, 1805.548), shooter_id=8572570174971, bullet_pos=(1367.666, 2061.097)
[06:58:54] [INFO] [Bullet] Using shooter_position, distance=383.333160400391
[06:58:54] [INFO] [Bullet] Distance to wall: 383.333160400391 (26.1018597791892% of viewport)
[06:58:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1036.74, 1754.658), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=6
[06:58:54] [INFO] [LastChance] Threat detected: @Area2D@11215
[06:58:54] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1893.137, 565.2697), source=ENEMY (Enemy6), range=1469, listeners=10
[06:58:54] [ENEMY] [Enemy5] Heard gunshot at (1893.137, 565.2697), source_type=1, intensity=0.03, distance=289
[06:58:54] [ENEMY] [Enemy7] Heard gunshot at (1893.137, 565.2697), source_type=1, intensity=0.01, distance=435
[06:58:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[06:58:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1910.346, 1601.811), shooter_id=8572284962778, bullet_pos=(1012.803, 2061.325)
[06:58:54] [INFO] [Bullet] Using shooter_position, distance=1008.33349609375
[06:58:54] [INFO] [Bullet] Distance to wall: 1008.33349609375 (68.6592819108269% of viewport)
[06:58:55] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[06:58:55] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:58:55] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:58:55] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1088.017, 1799.417), shooter_id=8572570174971, bullet_pos=(1493.035, 2078.169)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=491.672637939453
[06:58:55] [INFO] [Bullet] Distance to wall: 491.672637939453 (33.4788940235565% of viewport)
[06:58:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1036.74, 1754.658), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=7
[06:58:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1258.798, 1827.119), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[06:58:55] [INFO] [LastChance] Threat detected: @Area2D@11221
[06:58:55] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1879.072, 593.4178), source=ENEMY (Enemy6), range=1469, listeners=10
[06:58:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[06:58:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1266.097, 1813.642), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1945.216, 1600.898), shooter_id=8572284962778, bullet_pos=(512.6237, 1861.78)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=1456.15270996094
[06:58:55] [INFO] [Bullet] Distance to wall: 1456.15270996094 (99.1521156499666% of viewport)
[06:58:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1036.74, 1754.658), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=7
[06:58:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1276.167, 1801.313), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=7
[06:58:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1614.066, 935.2814), source=ENEMY (Enemy7), range=1469, listeners=10
[06:58:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1093.053, 1792.889), shooter_id=8572570174971, bullet_pos=(1635.89, 2076.584)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=612.499267578125
[06:58:55] [INFO] [Bullet] Distance to wall: 612.499267578125 (41.7062014162342% of viewport)
[06:58:55] [INFO] [LastChance] Threat detected: @Area2D@11229
[06:58:55] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1862.33, 626.7869), source=ENEMY (Enemy6), range=1469, listeners=10
[06:58:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:58:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1287.834, 1789.646), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=7
[06:58:55] [ENEMY] [Enemy10] Hit taken, health: 2/3
[06:58:55] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:55] [INFO] [ImpactEffects] spawn_blood_effect called at (1036.74, 1754.658), dir=(-0.929438, -0.368977), lethal=false
[06:58:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:55] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:55] [INFO] [ImpactEffects] Blood effect spawned at (1036.74, 1754.658) (scale=0.9)
[06:58:55] [ENEMY] [Enemy9] Hit taken, health: 2/3
[06:58:55] [ENEMY] [Enemy9] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:55] [INFO] [ImpactEffects] spawn_blood_effect called at (1941.582, 1559.33), dir=(0.748333, -0.663323), lethal=false
[06:58:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:55] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:55] [INFO] [ImpactEffects] Wall found for blood splatter at (1963.389, 1540) (dist=29 px)
[06:58:55] [INFO] [ImpactEffects] Blood effect spawned at (1941.582, 1559.33) (scale=1)
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1910.346, 1601.811), shooter_id=8572284962778, bullet_pos=(512.1866, 1730.594)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=1404.078125
[06:58:55] [INFO] [Bullet] Distance to wall: 1404.078125 (95.6062614032582% of viewport)
[06:58:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1299.501, 1777.979), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=7
[06:58:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1036.74, 1754.658), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[06:58:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1614.067, 951.5547), source=ENEMY (Enemy7), range=1469, listeners=10
[06:58:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[06:58:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1311.168, 1766.312), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=7
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1870.095, 629.2999), shooter_id=8571429325382, bullet_pos=(1485.107, 1405.763)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=866.666320800781
[06:58:55] [INFO] [Bullet] Distance to wall: 866.666320800781 (59.0129034421639% of viewport)
[06:58:55] [INFO] [Bullet] Distance-based penetration chance: 77.8182793174755%
[06:58:55] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:55] [INFO] [LastChance] Threat detected: Bullet
[06:58:55] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:55] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[06:58:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1322.836, 1754.645), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1097.45, 1785.77), shooter_id=8572570174971, bullet_pos=(1838.645, 2063.918)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=791.666870117188
[06:58:55] [INFO] [Bullet] Distance to wall: 791.666870117188 (53.9060529332889% of viewport)
[06:58:55] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[06:58:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1619.547, 944.6639), source=ENEMY (Enemy7), range=1469, listeners=10
[06:58:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[06:58:55] [ENEMY] [Enemy9] State: PURSUING -> RETREATING
[06:58:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1334.503, 1742.978), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[06:58:55] [ENEMY] [Enemy9] State: RETREATING -> IN_COVER
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1266.097, 1813.642), shooter_id=8573392259163, bullet_pos=(898.5036, 1655.925)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=399.999389648438
[06:58:55] [INFO] [Bullet] Distance to wall: 399.999389648438 (27.2366939751819% of viewport)
[06:58:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:55] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:55] [ENEMY] [Enemy9] State: IN_COVER -> SUPPRESSED
[06:58:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1028.742, 1754.505), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[06:58:55] [ENEMY] [Enemy6] State: COMBAT -> PURSUING
[06:58:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1346.17, 1731.311), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1322.836, 1754.645), shooter_id=8573392259163, bullet_pos=(1209.194, 1672.878)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=140.000442504883
[06:58:55] [INFO] [Bullet] Distance to wall: 140.000442504883 (9.53288756827092% of viewport)
[06:58:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:55] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1311.168, 1766.312), shooter_id=8573392259163, bullet_pos=(1137.305, 1667.461)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=200.000274658203
[06:58:55] [INFO] [Bullet] Distance to wall: 200.000274658203 (13.6183864695532% of viewport)
[06:58:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:55] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:55] [ENEMY] [Enemy5] State: COMBAT -> PURSUING
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1276.167, 1801.313), shooter_id=8573392259163, bullet_pos=(910.0933, 1640.097)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=400.000701904297
[06:58:55] [INFO] [Bullet] Distance to wall: 400.000701904297 (27.2367833290964% of viewport)
[06:58:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:55] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:55] [INFO] [LastChance] Threat detected: @Area2D@11224
[06:58:55] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1018.077, 1754.302), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1839.213, 690.7774), shooter_id=8571429325382, bullet_pos=(1486.644, 1399.601)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=791.666809082031
[06:58:55] [INFO] [Bullet] Distance to wall: 791.666809082031 (53.9060487772929% of viewport)
[06:58:55] [INFO] [Bullet] Distance-based penetration chance: 83.7762764264916%
[06:58:55] [INFO] [Bullet] Starting wall penetration at (1486.644, 1399.601)
[06:58:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1619.844, 919.0126), source=ENEMY (Enemy7), range=1469, listeners=10
[06:58:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[06:58:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1361.726, 1715.754), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:58:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[06:58:55] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:58:55] [INFO] [Bullet] Exiting penetration at (1465.861, 1441.385) after traveling 41.6666717529297 pixels through wall
[06:58:55] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:55] [INFO] [LastChance] Threat detected: @Area2D@11244
[06:58:55] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1287.834, 1789.646), shooter_id=8573392259163, bullet_pos=(905.313, 1572.214)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=439.999359130859
[06:58:55] [INFO] [Bullet] Distance to wall: 439.999359130859 (29.9603654506981% of viewport)
[06:58:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:55] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1603.986, 1010.887), shooter_id=8571714536941, bullet_pos=(1510.78, 1416.996)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=416.666900634766
[06:58:55] [INFO] [Bullet] Distance to wall: 416.666900634766 (28.3716154470912% of viewport)
[06:58:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:55] [INFO] [LastChance] Threat detected: @Area2D@11262
[06:58:55] [INFO] [LastChance] Not in hard mode - effect disabled
[06:58:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1096.646, 1758.934), shooter_id=8572570174971, bullet_pos=(1494.615, 1635.515)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=416.667053222656
[06:58:55] [INFO] [Bullet] Distance to wall: 416.667053222656 (28.3716258370812% of viewport)
[06:58:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1299.501, 1777.979), shooter_id=8573392259163, bullet_pos=(908.1447, 1576.883)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=439.999816894531
[06:58:55] [INFO] [Bullet] Distance to wall: 439.999816894531 (29.9603966206683% of viewport)
[06:58:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:55] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:55] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[06:58:55] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[06:58:55] [INFO] [PenultimateHit] Player died - ending penultimate effect
[06:58:55] [INFO] [LastChance] Player died
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1596.763, 1001.088), shooter_id=8571714536941, bullet_pos=(1172.699, 2087.958)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=1166.66857910156
[06:58:55] [INFO] [Bullet] Distance to wall: 1166.66857910156 (79.4406088653734% of viewport)
[06:58:55] [INFO] [Bullet] Distance-based penetration chance: 53.9859563237311%
[06:58:55] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1097.45, 1785.77), shooter_id=8572570174971, bullet_pos=(2478.323, 1839.46)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=1381.9169921875
[06:58:55] [INFO] [Bullet] Distance to wall: 1381.9169921875 (94.0972691193251% of viewport)
[06:58:55] [INFO] [Bullet] Distance-based penetration chance: 36.8865193607873%
[06:58:55] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1606.244, 985.6498), shooter_id=8571714536941, bullet_pos=(1490.687, 1429.177)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=458.333831787109
[06:58:55] [INFO] [Bullet] Distance to wall: 458.333831787109 (31.2087934079846% of viewport)
[06:58:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:55] [INFO] [Bullet] Starting wall penetration at (1490.687, 1429.177)
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1101.346, 1776.51), shooter_id=8572570174971, bullet_pos=(2445.688, 2065.252)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=1375.00085449219
[06:58:55] [INFO] [Bullet] Distance to wall: 1375.00085449219 (93.6263365859955% of viewport)
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1855.674, 657.3202), shooter_id=8571429325382, bullet_pos=(1144.449, 2071.924)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=1583.33349609375
[06:58:55] [INFO] [Bullet] Distance to wall: 1583.33349609375 (107.812089242594% of viewport)
[06:58:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36.0080909729004
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1101.346, 1776.51), shooter_id=8572570174971, bullet_pos=(2486.07, 2063.572)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=1414.16552734375
[06:58:55] [INFO] [Bullet] Distance to wall: 1414.16552734375 (96.2931311779414% of viewport)
[06:58:55] [INFO] [Bullet] Distance-based penetration chance: 34.3246802924017%
[06:58:55] [INFO] [Bullet] Starting wall penetration at (2486.07, 2063.572)
[06:58:55] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:55] [INFO] [Bullet] Exiting penetration at (1478.922, 1474.336) after traveling 41.6666717529297 pixels through wall
[06:58:55] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30.4775123596191
[06:58:55] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:55] [INFO] [Bullet] Exiting penetration at (2526.451, 2061.892) after traveling 35.4166717529297 pixels through wall
[06:58:55] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1597.482, 1017.538), shooter_id=8571714536941, bullet_pos=(1199.974, 2069.968)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=1124.99853515625
[06:58:55] [INFO] [Bullet] Distance to wall: 1124.99853515625 (76.6032189486828% of viewport)
[06:58:55] [INFO] [Bullet] Distance-based penetration chance: 57.2962445598701%
[06:58:55] [INFO] [Bullet] Starting wall penetration at (1199.974, 2069.968)
[06:58:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18.8400497436523
[06:58:55] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:55] [INFO] [Bullet] Exiting penetration at (1183.484, 2113.625) after traveling 41.6666641235352 pixels through wall
[06:58:55] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1334.503, 1742.978), shooter_id=8573392259163, bullet_pos=(912.8151, 1617.364)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=439.999176025391
[06:58:55] [INFO] [Bullet] Distance to wall: 439.999176025391 (29.9603529827101% of viewport)
[06:58:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:55] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:55] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1346.17, 1731.311), shooter_id=8573392259163, bullet_pos=(897.0012, 1632.081)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=459.998901367188
[06:58:55] [INFO] [Bullet] Distance to wall: 459.998901367188 (31.3221710574851% of viewport)
[06:58:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:58:55] [INFO] [Bullet] Caliber cannot penetrate walls
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1103.512, 1768.414), shooter_id=8572570174971, bullet_pos=(2473.127, 1889.972)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=1374.99938964844
[06:58:55] [INFO] [Bullet] Distance to wall: 1374.99938964844 (93.626236842091% of viewport)
[06:58:55] [INFO] [Bullet] Distance-based penetration chance: 37.4360570175606%
[06:58:55] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:55] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[06:58:55] [ENEMY] [Enemy10] Hit taken, health: 1/3
[06:58:55] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[06:58:55] [INFO] [ImpactEffects] spawn_blood_effect called at (936.0684, 1722.968), dir=(-0.999392, 0.03487), lethal=false
[06:58:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:58:55] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:58:55] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 1723.807) (dist=24 px)
[06:58:55] [INFO] [ImpactEffects] Blood effect spawned at (936.0684, 1722.968) (scale=0.9)
[06:58:55] [ENEMY] [Enemy7] State: RETREATING -> IN_COVER
[06:58:55] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[06:58:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1603.986, 1010.887), shooter_id=8571714536941, bullet_pos=(1611.472, 2087.393)
[06:58:55] [INFO] [Bullet] Using shooter_position, distance=1076.53149414063
[06:58:55] [INFO] [Bullet] Distance to wall: 1076.53149414063 (73.3030090028991% of viewport)
[06:58:55] [INFO] [Bullet] Distance-based penetration chance: 61.1464894966177%
[06:58:55] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:56] [ENEMY] [Enemy6] State: PURSUING -> COMBAT
[06:58:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:58:56] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:58:56] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:58:56] [ENEMY] [Enemy1] Death animation component initialized
[06:58:56] [ENEMY] [Enemy2] Death animation component initialized
[06:58:56] [ENEMY] [Enemy3] Death animation component initialized
[06:58:56] [ENEMY] [Enemy4] Death animation component initialized
[06:58:56] [ENEMY] [Enemy5] Death animation component initialized
[06:58:56] [ENEMY] [Enemy6] Death animation component initialized
[06:58:56] [ENEMY] [Enemy7] Death animation component initialized
[06:58:56] [ENEMY] [Enemy8] Death animation component initialized
[06:58:56] [ENEMY] [Enemy9] Death animation component initialized
[06:58:56] [ENEMY] [Enemy10] Death animation component initialized
[06:58:56] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:58:56] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:58:56] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:58:56] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:58:56] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:58:56] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:58:56] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:58:56] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[06:58:56] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:58:56] [INFO] [ScoreManager] Level started with 10 enemies
[06:58:56] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[06:58:56] [ENEMY] [Enemy1] Registered as sound listener
[06:58:56] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[06:58:56] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[06:58:56] [ENEMY] [Enemy2] Registered as sound listener
[06:58:56] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[06:58:56] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[06:58:56] [ENEMY] [Enemy3] Registered as sound listener
[06:58:56] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[06:58:56] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[06:58:56] [ENEMY] [Enemy4] Registered as sound listener
[06:58:56] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[06:58:56] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[06:58:56] [ENEMY] [Enemy5] Registered as sound listener
[06:58:56] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[06:58:56] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[06:58:56] [ENEMY] [Enemy6] Registered as sound listener
[06:58:56] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[06:58:56] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[06:58:56] [ENEMY] [Enemy7] Registered as sound listener
[06:58:56] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[06:58:56] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[06:58:56] [ENEMY] [Enemy8] Registered as sound listener
[06:58:56] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[06:58:56] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[06:58:56] [ENEMY] [Enemy9] Registered as sound listener
[06:58:56] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[06:58:56] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[06:58:56] [ENEMY] [Enemy10] Registered as sound listener
[06:58:56] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[06:58:56] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:58:56] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:58:56] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:58:56] [INFO] [LastChance] Found player: Player
[06:58:56] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:58:56] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:58:56] [INFO] [LastChance] Connected to player Died signal (C#)
[06:58:56] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:58:56] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:58:56] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:58:56] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:58:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.004, 1519.036), source=ENEMY (Enemy10), range=1469, listeners=20
[06:58:56] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[06:58:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.385, 1499.191), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.598, 1478.078), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.686, 1455.743), source=ENEMY (Enemy10), range=1469, listeners=10
[06:58:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:58:57] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:58:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=9121805895183, bullet_pos=(47.54776, 866.3744)
[06:58:57] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[06:58:57] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[06:58:57] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[06:58:57] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=9121805895183, bullet_pos=(43.40149, 802.4432)
[06:58:57] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[06:58:57] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[06:58:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=9121805895183, bullet_pos=(157.3416, 710.092)
[06:58:57] [INFO] [Bullet] Using shooter_position, distance=1172.53125
[06:58:57] [INFO] [Bullet] Distance to wall: 1172.53125 (79.8398089073492% of viewport)
[06:58:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.149, 1444.873), shooter_id=9121805895183, bullet_pos=(41.66475, 738.6735)
[06:58:57] [INFO] [Bullet] Using shooter_position, distance=1208.33276367188
[06:58:57] [INFO] [Bullet] Distance to wall: 1208.33276367188 (82.2775998064458% of viewport)
[06:58:57] [INFO] [Bullet] Distance-based penetration chance: 50.6761335591466%
[06:58:57] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6154, 1420.184), shooter_id=9121805895183, bullet_pos=(42.19441, 675.29)
[06:58:57] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[06:58:57] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[06:58:57] [INFO] [Bullet] Distance-based penetration chance: 50.6760947698504%
[06:58:57] [INFO] [Bullet] Penetration failed (distance roll)
[06:58:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=9121805895183, bullet_pos=(496.9586, 968.0205)
[06:58:57] [INFO] [Bullet] Using shooter_position, distance=747.040893554688
[06:58:57] [INFO] [Bullet] Distance to wall: 747.040893554688 (50.8673881292133% of viewport)
[06:58:57] [INFO] [Bullet] Distance-based penetration chance: 87.3213805159179%
[06:58:57] [INFO] [Bullet] Starting wall penetration at (496.9586, 968.0205)
[06:58:57] [INFO] [Bullet] Raycast backward hit penetrating body at distance 1.1481899023056
[06:58:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=9121805895183, bullet_pos=(524.9144, 989.252)
[06:58:57] [INFO] [Bullet] Using shooter_position, distance=712.068054199219
[06:58:57] [INFO] [Bullet] Distance to wall: 712.068054199219 (48.4860231881185% of viewport)
[06:58:57] [INFO] [Bullet] Max penetration distance exceeded: 55.6927108764648 >= 48
[06:58:57] [INFO] [Bullet] Body exited signal received for penetrating body
[06:58:57] [INFO] [Bullet] Exiting penetration at (501.9831, 1009.496) after traveling 55.6927108764648 pixels through wall
[06:58:57] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[06:59:00] [ENEMY] [Enemy10] FLANKING started: target=(669.8247, 797.0156), side=left, pos=(1022.668, 1432.257)
[06:59:00] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[06:59:01] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:59:01] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:59:01] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:59:01] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:59:01] [ENEMY] [Enemy1] Death animation component initialized
[06:59:01] [ENEMY] [Enemy2] Death animation component initialized
[06:59:01] [ENEMY] [Enemy3] Death animation component initialized
[06:59:01] [ENEMY] [Enemy4] Death animation component initialized
[06:59:01] [ENEMY] [Enemy5] Death animation component initialized
[06:59:01] [ENEMY] [Enemy6] Death animation component initialized
[06:59:01] [ENEMY] [Enemy7] Death animation component initialized
[06:59:01] [ENEMY] [Enemy8] Death animation component initialized
[06:59:01] [ENEMY] [Enemy9] Death animation component initialized
[06:59:01] [ENEMY] [Enemy10] Death animation component initialized
[06:59:01] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:59:01] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:59:01] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:59:01] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:59:01] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:59:01] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:59:01] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:59:01] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[06:59:01] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:59:01] [INFO] [ScoreManager] Level started with 10 enemies
[06:59:01] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[06:59:01] [ENEMY] [Enemy1] Registered as sound listener
[06:59:01] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[06:59:01] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[06:59:01] [ENEMY] [Enemy2] Registered as sound listener
[06:59:01] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[06:59:01] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[06:59:01] [ENEMY] [Enemy3] Registered as sound listener
[06:59:01] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[06:59:01] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[06:59:01] [ENEMY] [Enemy4] Registered as sound listener
[06:59:01] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[06:59:01] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[06:59:01] [ENEMY] [Enemy5] Registered as sound listener
[06:59:01] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[06:59:01] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[06:59:01] [ENEMY] [Enemy6] Registered as sound listener
[06:59:01] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[06:59:01] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[06:59:01] [ENEMY] [Enemy7] Registered as sound listener
[06:59:01] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[06:59:01] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[06:59:01] [ENEMY] [Enemy8] Registered as sound listener
[06:59:01] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[06:59:01] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[06:59:01] [ENEMY] [Enemy9] Registered as sound listener
[06:59:01] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[06:59:01] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[06:59:01] [ENEMY] [Enemy10] Registered as sound listener
[06:59:01] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[06:59:01] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:59:01] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:59:01] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:59:01] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:59:01] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:59:01] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:59:01] [INFO] [LastChance] Found player: Player
[06:59:01] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:59:01] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:59:01] [INFO] [LastChance] Connected to player Died signal (C#)
[06:59:03] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:59:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(804.5657, 1285.996), source=PLAYER (MiniUzi), range=1469, listeners=20
[06:59:03] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[06:59:03] [ENEMY] [Enemy4] Heard gunshot at (804.5657, 1285.996), source_type=0, intensity=0.02, distance=386
[06:59:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[06:59:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(817.3811, 1277.1), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:59:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[06:59:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(831.3445, 1270.976), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:59:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[06:59:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(846.4559, 1267.624), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:59:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[06:59:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(804.5657, 1285.996), shooter_id=9304140678741, bullet_pos=(887.1732, 1468.138)
[06:59:03] [INFO] [Bullet] Using shooter_position, distance=199.999526977539
[06:59:03] [INFO] [Bullet] Distance to wall: 199.999526977539 (13.6183355586019% of viewport)
[06:59:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:03] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(817.3811, 1277.1), shooter_id=9304140678741, bullet_pos=(888.6, 1442.411)
[06:59:03] [INFO] [Bullet] Using shooter_position, distance=179.999847412109
[06:59:03] [INFO] [Bullet] Distance to wall: 179.999847412109 (12.2565206008239% of viewport)
[06:59:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:03] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(862.0283, 1267.072), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:59:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[06:59:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(831.3445, 1270.976), shooter_id=9304140678741, bullet_pos=(886.8365, 1399.509)
[06:59:03] [INFO] [Bullet] Using shooter_position, distance=140.000076293945
[06:59:03] [INFO] [Bullet] Distance to wall: 140.000076293945 (9.53286263229479% of viewport)
[06:59:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:03] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(846.4559, 1267.624), shooter_id=9304140678741, bullet_pos=(914.8138, 1412.286)
[06:59:03] [INFO] [Bullet] Using shooter_position, distance=159.999786376953
[06:59:03] [INFO] [Bullet] Distance to wall: 159.999786376953 (10.8946796680708% of viewport)
[06:59:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:03] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:03] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:59:03] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[06:59:04] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[06:59:04] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[06:59:04] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[06:59:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1073.088, 1480.845), source=ENEMY (Enemy10), range=1469, listeners=10
[06:59:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:59:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[06:59:04] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[06:59:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1073.088, 1480.845), source=ENEMY (Enemy10), range=1469, listeners=10
[06:59:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:59:04] [INFO] [LastChance] Threat detected: Bullet
[06:59:04] [INFO] [LastChance] Not in hard mode - effect disabled
[06:59:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:59:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1073.088, 1480.845), source=ENEMY (Enemy10), range=1469, listeners=10
[06:59:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:59:04] [INFO] [LastChance] Threat detected: Bullet
[06:59:04] [INFO] [LastChance] Not in hard mode - effect disabled
[06:59:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:59:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:59:04] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:59:04] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:59:04] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:59:04] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:59:04] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:59:04] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:59:04] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:59:04] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:59:04] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:59:04] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:59:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(960.433, 1442.884), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:59:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[06:59:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1073.088, 1480.845), source=ENEMY (Enemy10), range=1469, listeners=10
[06:59:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:59:04] [INFO] [LastChance] Threat detected: Bullet
[06:59:04] [INFO] [LastChance] Not in hard mode - effect disabled
[06:59:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:59:04] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[06:59:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[06:59:04] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[06:59:04] [INFO] [PenultimateHit] Player died - ending penultimate effect
[06:59:04] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:59:04] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:59:04] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[06:59:04] [INFO] [LastChance] Player died
[06:59:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(963.1092, 1462.675), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:59:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[06:59:04] [ENEMY] [Enemy10] Hit taken, health: 2/3
[06:59:04] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[06:59:04] [INFO] [ImpactEffects] spawn_blood_effect called at (1074.325, 1465.963), dir=(0.95897, 0.283506), lethal=false
[06:59:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:59:04] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:59:04] [INFO] [ImpactEffects] Blood effect spawned at (1074.325, 1465.963) (scale=0.9)
[06:59:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(862.0283, 1267.072), shooter_id=9304140678741, bullet_pos=(1400.451, 2076.323)
[06:59:04] [INFO] [Bullet] Using shooter_position, distance=972.00146484375
[06:59:04] [INFO] [Bullet] Distance to wall: 972.00146484375 (66.1853670943% of viewport)
[06:59:04] [INFO] [Bullet] Distance-based penetration chance: 69.45040505665%
[06:59:04] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(968.5601, 1476.918), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:59:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[06:59:04] [ENEMY] [Enemy10] Hit taken, health: 1/3
[06:59:04] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[06:59:04] [INFO] [ImpactEffects] spawn_blood_effect called at (1072.528, 1445.033), dir=(0.972181, -0.234231), lethal=false
[06:59:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:59:04] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:59:04] [INFO] [ImpactEffects] Blood effect spawned at (1072.528, 1445.033) (scale=0.9)
[06:59:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(976.7827, 1490.012), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:59:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[06:59:04] [ENEMY] [Enemy10] Hit taken, health: 0/3
[06:59:04] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[06:59:04] [INFO] [ImpactEffects] spawn_blood_effect called at (1072.559, 1439.7), dir=(0.978972, -0.203995), lethal=true
[06:59:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:59:04] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[06:59:04] [INFO] [ImpactEffects] Blood effect spawned at (1072.559, 1439.7) (scale=1.35)
[06:59:04] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[06:59:04] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[06:59:04] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[06:59:04] [INFO] [DeathAnim] Started - Angle: -11.8 deg, Index: 11
[06:59:04] [ENEMY] [Enemy10] Death animation started with hit direction: (0.978972, -0.203995)
[06:59:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(976.7827, 1490.012), shooter_id=9304140678741, bullet_pos=(1241.39, 1398.453)
[06:59:05] [INFO] [Bullet] Using shooter_position, distance=279.999908447266
[06:59:05] [INFO] [Bullet] Distance to wall: 279.999908447266 (19.0657086406055% of viewport)
[06:59:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:59:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:59:05] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:59:05] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:59:05] [ENEMY] [Enemy1] Death animation component initialized
[06:59:05] [ENEMY] [Enemy2] Death animation component initialized
[06:59:05] [ENEMY] [Enemy3] Death animation component initialized
[06:59:05] [ENEMY] [Enemy4] Death animation component initialized
[06:59:05] [ENEMY] [Enemy5] Death animation component initialized
[06:59:05] [ENEMY] [Enemy6] Death animation component initialized
[06:59:05] [ENEMY] [Enemy7] Death animation component initialized
[06:59:05] [ENEMY] [Enemy8] Death animation component initialized
[06:59:05] [ENEMY] [Enemy9] Death animation component initialized
[06:59:05] [ENEMY] [Enemy10] Death animation component initialized
[06:59:05] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:59:05] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:59:05] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:59:05] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:59:05] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:59:05] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:59:05] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:59:05] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[06:59:05] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:59:05] [INFO] [ScoreManager] Level started with 10 enemies
[06:59:05] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[06:59:05] [ENEMY] [Enemy1] Registered as sound listener
[06:59:05] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[06:59:05] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[06:59:05] [ENEMY] [Enemy2] Registered as sound listener
[06:59:05] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[06:59:05] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[06:59:05] [ENEMY] [Enemy3] Registered as sound listener
[06:59:05] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[06:59:05] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[06:59:05] [ENEMY] [Enemy4] Registered as sound listener
[06:59:05] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[06:59:05] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[06:59:05] [ENEMY] [Enemy5] Registered as sound listener
[06:59:05] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[06:59:05] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[06:59:05] [ENEMY] [Enemy6] Registered as sound listener
[06:59:05] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[06:59:05] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[06:59:05] [ENEMY] [Enemy7] Registered as sound listener
[06:59:05] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[06:59:05] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[06:59:05] [ENEMY] [Enemy8] Registered as sound listener
[06:59:05] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[06:59:05] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[06:59:05] [ENEMY] [Enemy9] Registered as sound listener
[06:59:05] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[06:59:05] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[06:59:05] [ENEMY] [Enemy10] Registered as sound listener
[06:59:05] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[06:59:05] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:59:05] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:59:05] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:59:05] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:59:05] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:59:05] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:59:05] [INFO] [LastChance] Found player: Player
[06:59:05] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:59:05] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:59:05] [INFO] [LastChance] Connected to player Died signal (C#)
[06:59:07] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:59:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(825.336, 1283.855), source=PLAYER (MiniUzi), range=1469, listeners=19
[06:59:07] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[06:59:07] [ENEMY] [Enemy4] Heard gunshot at (825.336, 1283.855), source_type=0, intensity=0.02, distance=385
[06:59:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[06:59:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(830.4426, 1270.62), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:59:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[06:59:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(832.9518, 1258.824), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:59:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[06:59:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(832.9118, 1248.61), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:59:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[06:59:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(832.9518, 1258.824), shooter_id=9545111832012, bullet_pos=(985.3138, 1388.385)
[06:59:07] [INFO] [Bullet] Using shooter_position, distance=200.000335693359
[06:59:07] [INFO] [Bullet] Distance to wall: 200.000335693359 (13.6183906255492% of viewport)
[06:59:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:07] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:07] [ENEMY] [Enemy10] Hit taken, health: 1/2
[06:59:07] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[06:59:07] [INFO] [ImpactEffects] spawn_blood_effect called at (1098.508, 1510.356), dir=(0.741683, 0.670751), lethal=false
[06:59:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:59:07] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:59:07] [INFO] [ImpactEffects] Blood effect spawned at (1098.508, 1510.356) (scale=0.9)
[06:59:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(832.9118, 1248.61), shooter_id=9545111832012, bullet_pos=(1008.277, 1381.454)
[06:59:07] [INFO] [Bullet] Using shooter_position, distance=220.000396728516
[06:59:07] [INFO] [Bullet] Distance to wall: 220.000396728516 (14.9802315583023% of viewport)
[06:59:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:07] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(832.9118, 1248.61), shooter_id=9545111832012, bullet_pos=(1008.277, 1381.454)
[06:59:07] [INFO] [Bullet] Using shooter_position, distance=220.000396728516
[06:59:07] [INFO] [Bullet] Distance to wall: 220.000396728516 (14.9802315583023% of viewport)
[06:59:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:07] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:07] [ENEMY] [Enemy10] Hit taken, health: 0/2
[06:59:07] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[06:59:07] [INFO] [ImpactEffects] spawn_blood_effect called at (1087.26, 1498.977), dir=(0.751311, 0.659948), lethal=true
[06:59:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:59:07] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[06:59:07] [INFO] [ImpactEffects] Blood effect spawned at (1087.26, 1498.977) (scale=1.35)
[06:59:07] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[06:59:07] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[06:59:07] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[06:59:07] [INFO] [DeathAnim] Started - Angle: 41.3 deg, Index: 14
[06:59:07] [ENEMY] [Enemy10] Death animation started with hit direction: (0.751311, 0.659948)
[06:59:07] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[06:59:08] [ENEMY] [Enemy10] Ragdoll activated
[06:59:08] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[06:59:09] [ENEMY] [Enemy10] Death animation completed
[06:59:09] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[06:59:09] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[06:59:09] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[06:59:09] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[06:59:09] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[06:59:09] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[06:59:09] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[06:59:09] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[06:59:09] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[06:59:09] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[06:59:09] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[06:59:09] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(473.4694, 1435.344), source=PLAYER (Player), range=900, listeners=9
[06:59:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=3
[06:59:09] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1099), can_see=false
[06:59:09] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=888), can_see=false
[06:59:09] [ENEMY] [Enemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=722), can_see=false
[06:59:09] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=533), can_see=false
[06:59:09] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1638), can_see=false
[06:59:09] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1775), can_see=false
[06:59:09] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1258), can_see=false
[06:59:09] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1427), can_see=false
[06:59:09] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1631), can_see=false
[06:59:09] [ENEMY] [Enemy4] FLANKING started: target=(368.9606, 1303.322), side=left, pos=(743.7784, 975.9337)
[06:59:09] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[06:59:09] [INFO] [Player.Reload.Anim] LeftArm: pos=(-5.954759, 2.010645), target=(-6, 2), base=(14, 6)
[06:59:09] [INFO] [Player.Reload.Anim] RightArm: pos=(1.0079837, 6), target=(1, 6), base=(1, 6)
[06:59:09] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[06:59:09] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[06:59:09] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[06:59:09] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[06:59:09] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[06:59:09] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[06:59:09] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[06:59:09] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[06:59:09] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[06:59:09] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[06:59:09] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[06:59:09] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[06:59:09] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[06:59:10] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[06:59:12] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[06:59:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(440.4904, 1434.468), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=5
[06:59:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(453.929, 1441.859), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=5
[06:59:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(466.2195, 1452.021), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=5
[06:59:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(477.8868, 1463.688), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=5
[06:59:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(489.5541, 1475.355), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=5
[06:59:12] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[06:59:12] [ENEMY] [Enemy4] Hit taken, health: 2/3
[06:59:12] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[06:59:12] [INFO] [ImpactEffects] spawn_blood_effect called at (344.7726, 1269.769), dir=(-0.529359, -0.848398), lethal=false
[06:59:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:59:12] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:59:12] [INFO] [ImpactEffects] Blood effect spawned at (344.7726, 1269.769) (scale=0.9)
[06:59:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(440.4904, 1434.468), shooter_id=9545111832012, bullet_pos=(289.7444, 709.9855)
[06:59:12] [INFO] [Bullet] Using shooter_position, distance=739.9990234375
[06:59:12] [INFO] [Bullet] Distance to wall: 739.9990234375 (50.3878942440766% of viewport)
[06:59:12] [INFO] [Bullet] Distance-based penetration chance: 87.8807900485773%
[06:59:12] [INFO] [Bullet] Penetration failed (distance roll)
[06:59:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(580.3143, 1575.26), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=5
[06:59:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(584.5905, 1589.989), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=5
[06:59:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(453.929, 1441.859), shooter_id=9545111832012, bullet_pos=(248.3512, 710.1915)
[06:59:12] [INFO] [Bullet] Using shooter_position, distance=759.999206542969
[06:59:12] [INFO] [Bullet] Distance to wall: 759.999206542969 (51.7497434888218% of viewport)
[06:59:12] [INFO] [Bullet] Distance-based penetration chance: 86.2919659297079%
[06:59:12] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:12] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[06:59:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(586.0951, 1605.866), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=5
[06:59:12] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[06:59:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(466.2195, 1452.021), shooter_id=9545111832012, bullet_pos=(194.6582, 699.5212)
[06:59:12] [INFO] [Bullet] Using shooter_position, distance=800.001098632813
[06:59:12] [INFO] [Bullet] Distance to wall: 800.001098632813 (54.4735458782127% of viewport)
[06:59:12] [INFO] [Bullet] Distance-based penetration chance: 83.1141964754185%
[06:59:12] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(586.0951, 1622.366), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=5
[06:59:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(477.8868, 1463.688), shooter_id=9545111832012, bullet_pos=(215.8483, 707.8203)
[06:59:12] [INFO] [Bullet] Using shooter_position, distance=800.000427246094
[06:59:12] [INFO] [Bullet] Distance to wall: 800.000427246094 (54.4735001622565% of viewport)
[06:59:12] [INFO] [Bullet] Distance-based penetration chance: 83.1142498107008%
[06:59:12] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(586.0951, 1638.866), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=5
[06:59:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(580.3143, 1575.26), shooter_id=9545111832012, bullet_pos=(394.794, 1393.1)
[06:59:12] [INFO] [Bullet] Using shooter_position, distance=260.000274658203
[06:59:12] [INFO] [Bullet] Distance to wall: 260.000274658203 (17.7038967998245% of viewport)
[06:59:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:12] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(586.0951, 1655.366), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=5
[06:59:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(584.5905, 1589.989), shooter_id=9545111832012, bullet_pos=(400.199, 1406.686)
[06:59:12] [INFO] [Bullet] Using shooter_position, distance=260.000305175781
[06:59:12] [INFO] [Bullet] Distance to wall: 260.000305175781 (17.7038988778225% of viewport)
[06:59:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:12] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(586.0951, 1638.866), shooter_id=9545111832012, bullet_pos=(498.4874, 1590.648)
[06:59:12] [INFO] [Bullet] Using shooter_position, distance=100.000015258789
[06:59:12] [INFO] [Bullet] Distance to wall: 100.000015258789 (6.80918492278455% of viewport)
[06:59:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:12] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(586.0951, 1638.866), shooter_id=9545111832012, bullet_pos=(498.4874, 1590.648)
[06:59:12] [INFO] [Bullet] Using shooter_position, distance=100.000015258789
[06:59:12] [INFO] [Bullet] Distance to wall: 100.000015258789 (6.80918492278455% of viewport)
[06:59:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:12] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(586.0951, 1671.866), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=5
[06:59:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(586.0951, 1655.366), shooter_id=9545111832012, bullet_pos=(505.6453, 1595.97)
[06:59:13] [INFO] [Bullet] Using shooter_position, distance=100.000152587891
[06:59:13] [INFO] [Bullet] Distance to wall: 100.000152587891 (6.8091942737756% of viewport)
[06:59:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:13] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(586.0951, 1605.866), shooter_id=9545111832012, bullet_pos=(360.019, 1408.661)
[06:59:13] [INFO] [Bullet] Using shooter_position, distance=300.000091552734
[06:59:13] [INFO] [Bullet] Distance to wall: 300.000091552734 (20.4275578853507% of viewport)
[06:59:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:13] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(586.0951, 1671.866), shooter_id=9545111832012, bullet_pos=(480.7747, 1614.354)
[06:59:13] [INFO] [Bullet] Using shooter_position, distance=120.00008392334
[06:59:13] [INFO] [Bullet] Distance to wall: 120.00008392334 (8.17102637503718% of viewport)
[06:59:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:13] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(586.0951, 1622.366), shooter_id=9545111832012, bullet_pos=(245.6666, 1412.346)
[06:59:13] [INFO] [Bullet] Using shooter_position, distance=399.999694824219
[06:59:13] [INFO] [Bullet] Distance to wall: 399.999694824219 (27.2367147551621% of viewport)
[06:59:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:13] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:15] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[06:59:15] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[06:59:17] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[06:59:17] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[06:59:17] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[06:59:17] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[06:59:17] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[06:59:17] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[06:59:17] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[06:59:17] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[06:59:17] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[06:59:17] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[06:59:17] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(202.6555, 1628.075), source=PLAYER (Player), range=900, listeners=9
[06:59:17] [ENEMY] [Enemy4] Heard player RELOAD at (202.6555, 1628.075), intensity=0.03, distance=305
[06:59:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=0
[06:59:17] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1282), can_see=false
[06:59:17] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1096), can_see=false
[06:59:17] [ENEMY] [Enemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=1009), can_see=false
[06:59:17] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=true (dist=305), can_see=false
[06:59:17] [ENEMY] [Enemy4] Pursuing vulnerability sound at (202.6555, 1628.075), distance=305
[06:59:17] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1969), can_see=false
[06:59:17] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=2107), can_see=false
[06:59:17] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1586), can_see=false
[06:59:17] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1707), can_see=false
[06:59:17] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1899), can_see=false
[06:59:17] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[06:59:17] [INFO] [Player.Reload.Anim] LeftArm: pos=(-1.3525455, 4.316991), target=(2, 6), base=(14, 6)
[06:59:17] [INFO] [Player.Reload.Anim] RightArm: pos=(0.99999976, 7.15625), target=(1, 8), base=(1, 6)
[06:59:17] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[06:59:17] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[06:59:17] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[06:59:17] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[06:59:17] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[06:59:17] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[06:59:17] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[06:59:17] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[06:59:17] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[06:59:17] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[06:59:17] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[06:59:17] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[06:59:18] [ENEMY] [Enemy4] Pursuing vulnerability sound at (202.6555, 1628.075), distance=333
[06:59:18] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[06:59:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(199.6839, 1628.845), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=3
[06:59:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(195.1318, 1631.925), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=3
[06:59:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(188.6657, 1637.315), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=3
[06:59:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(180.2855, 1645.016), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=3
[06:59:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(169.9912, 1655.026), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=3
[06:59:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(158.3562, 1666.654), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=3
[06:59:18] [ENEMY] [Enemy4] Hit taken, health: 1/3
[06:59:18] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[06:59:18] [INFO] [ImpactEffects] spawn_blood_effect called at (534.3601, 1620.917), dir=(0.999173, -0.040671), lethal=false
[06:59:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:59:18] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:59:18] [INFO] [ImpactEffects] Blood effect spawned at (534.3601, 1620.917) (scale=0.9)
[06:59:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(146.689, 1678.321), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=3
[06:59:19] [ENEMY] [Enemy4] Hit taken, health: 0/3
[06:59:19] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[06:59:19] [INFO] [ImpactEffects] spawn_blood_effect called at (533.5568, 1622.721), dir=(0.999924, -0.012345), lethal=true
[06:59:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:59:19] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[06:59:19] [INFO] [ImpactEffects] Blood effect spawned at (533.5568, 1622.721) (scale=1.35)
[06:59:19] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[06:59:19] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[06:59:19] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[06:59:19] [INFO] [DeathAnim] Started - Angle: -0.7 deg, Index: 11
[06:59:19] [ENEMY] [Enemy4] Death animation started with hit direction: (0.999924, -0.012345)
[06:59:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(135.0217, 1689.988), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[06:59:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(123.3545, 1701.655), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[06:59:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(123.3545, 1701.655), shooter_id=9545111832012, bullet_pos=(162.9339, 1707.441)
[06:59:19] [INFO] [Bullet] Using shooter_position, distance=40.0000038146973
[06:59:19] [INFO] [Bullet] Distance to wall: 40.0000038146973 (2.72367381326397% of viewport)
[06:59:19] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[06:59:19] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(112.6111, 1713.705), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[06:59:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(112.6111, 1713.705), shooter_id=9545111832012, bullet_pos=(172.0437, 1721.937)
[06:59:19] [INFO] [Bullet] Using shooter_position, distance=60.0000038146973
[06:59:19] [INFO] [Bullet] Distance to wall: 60.0000038146973 (4.08551059002108% of viewport)
[06:59:19] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[06:59:19] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(146.689, 1678.321), shooter_id=9545111832012, bullet_pos=(377.8424, 1613.761)
[06:59:19] [INFO] [Bullet] Using shooter_position, distance=239.999816894531
[06:59:19] [INFO] [Bullet] Distance to wall: 239.999816894531 (16.3420288530972% of viewport)
[06:59:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(104.6393, 1726.903), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[06:59:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(104.6393, 1726.903), shooter_id=9545111832012, bullet_pos=(158.9723, 1752.358)
[06:59:19] [INFO] [Bullet] Using shooter_position, distance=60.0000381469727
[06:59:19] [INFO] [Bullet] Distance to wall: 60.0000381469727 (4.08551292776884% of viewport)
[06:59:19] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[06:59:19] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(135.0217, 1689.988), shooter_id=9545111832012, bullet_pos=(513.7571, 1720.965)
[06:59:19] [INFO] [Bullet] Using shooter_position, distance=380.000061035156
[06:59:19] [INFO] [Bullet] Distance to wall: 380.000061035156 (25.8749029143811% of viewport)
[06:59:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:19] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(188.6657, 1637.315), shooter_id=9545111832012, bullet_pos=(887.7647, 1601.82)
[06:59:19] [INFO] [Bullet] Using shooter_position, distance=699.99951171875
[06:59:19] [INFO] [Bullet] Distance to wall: 699.99951171875 (47.6642539385306% of viewport)
[06:59:19] [INFO] [Bullet] Distance-based penetration chance: 91.0583704050476%
[06:59:19] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(180.2855, 1645.016), shooter_id=9545111832012, bullet_pos=(894.4254, 1736.69)
[06:59:19] [INFO] [Bullet] Using shooter_position, distance=720.000061035156
[06:59:19] [INFO] [Bullet] Distance to wall: 720.000061035156 (49.0261281192519% of viewport)
[06:59:19] [INFO] [Bullet] Distance-based penetration chance: 89.4695171942061%
[06:59:19] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:19] [ENEMY] [Enemy4] Ragdoll activated
[06:59:19] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[06:59:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(169.9912, 1655.026), shooter_id=9545111832012, bullet_pos=(888.0241, 1708.217)
[06:59:19] [INFO] [Bullet] Using shooter_position, distance=720.000366210938
[06:59:19] [INFO] [Bullet] Distance to wall: 720.000366210938 (49.026148899232% of viewport)
[06:59:19] [INFO] [Bullet] Distance-based penetration chance: 89.469492950896%
[06:59:19] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(158.3562, 1666.654), shooter_id=9545111832012, bullet_pos=(892.2318, 1571.647)
[06:59:19] [INFO] [Bullet] Using shooter_position, distance=739.999633789063
[06:59:19] [INFO] [Bullet] Distance to wall: 739.999633789063 (50.3879358040369% of viewport)
[06:59:19] [INFO] [Bullet] Distance-based penetration chance: 87.880741561957%
[06:59:19] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(146.689, 1678.321), shooter_id=9545111832012, bullet_pos=(887.2858, 1740.613)
[06:59:20] [INFO] [Bullet] Using shooter_position, distance=743.2119140625
[06:59:20] [INFO] [Bullet] Distance to wall: 743.2119140625 (50.6066658747178% of viewport)
[06:59:20] [INFO] [Bullet] Distance-based penetration chance: 87.6255564794959%
[06:59:20] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:20] [ENEMY] [Enemy4] Death animation completed
[06:59:21] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[06:59:21] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[06:59:21] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[06:59:21] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[06:59:21] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[06:59:21] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[06:59:21] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[06:59:21] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[06:59:21] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[06:59:21] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(275.5385, 1428.065), source=PLAYER (Player), range=900, listeners=8
[06:59:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=2
[06:59:21] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1078), can_see=false
[06:59:21] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=887), can_see=false
[06:59:21] [ENEMY] [Enemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=800), can_see=false
[06:59:21] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1786), can_see=false
[06:59:21] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1939), can_see=false
[06:59:21] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1437), can_see=false
[06:59:21] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1625), can_see=false
[06:59:21] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1829), can_see=false
[06:59:22] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[06:59:22] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[06:59:22] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[06:59:22] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[06:59:22] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[06:59:22] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[06:59:22] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[06:59:22] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[06:59:22] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[06:59:22] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[06:59:22] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[06:59:22] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[06:59:22] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[06:59:22] [INFO] [Player.Reload.Anim] LeftArm: pos=(13.700821, 5.992897), target=(14, 6), base=(14, 6)
[06:59:22] [INFO] [Player.Reload.Anim] RightArm: pos=(0.999985, 6.0439467), target=(1, 6), base=(1, 6)
[06:59:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(132.8502, 1358.705), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[06:59:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(135.2745, 1345.689), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[06:59:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(140.6673, 1333.106), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[06:59:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(149.0287, 1320.956), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[06:59:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(160.1412, 1309.208), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[06:59:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(171.8085, 1297.541), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[06:59:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(183.8584, 1286.798), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[06:59:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(197.0564, 1278.826), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=4
[06:59:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(211.4024, 1273.626), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=4
[06:59:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(132.8502, 1358.705), shooter_id=9545111832012, bullet_pos=(285.3646, 696.0283)
[06:59:24] [INFO] [Bullet] Using shooter_position, distance=680.000366210938
[06:59:24] [INFO] [Bullet] Distance to wall: 680.000366210938 (46.3024753457178% of viewport)
[06:59:24] [INFO] [Bullet] Distance-based penetration chance: 92.6471120966626%
[06:59:24] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(135.2745, 1345.689), shooter_id=9545111832012, bullet_pos=(262.5583, 698.0788)
[06:59:24] [INFO] [Bullet] Using shooter_position, distance=659.999877929688
[06:59:24] [INFO] [Bullet] Distance to wall: 659.999877929688 (44.9406053209925% of viewport)
[06:59:24] [INFO] [Bullet] Distance-based penetration chance: 94.235960458842%
[06:59:24] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(140.6673, 1333.106), shooter_id=9545111832012, bullet_pos=(247.1189, 702.0211)
[06:59:24] [INFO] [Bullet] Using shooter_position, distance=640.000122070313
[06:59:24] [INFO] [Bullet] Distance to wall: 640.000122070313 (43.5787851682195% of viewport)
[06:59:24] [INFO] [Bullet] Distance-based penetration chance: 95.8247506370772%
[06:59:24] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(149.0287, 1320.956), shooter_id=9545111832012, bullet_pos=(204.088, 703.4057)
[06:59:24] [INFO] [Bullet] Using shooter_position, distance=620.000244140625
[06:59:24] [INFO] [Bullet] Distance to wall: 620.000244140625 (42.2169567034544% of viewport)
[06:59:24] [INFO] [Bullet] Distance-based penetration chance: 97.4135505126365%
[06:59:24] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(160.1412, 1309.208), shooter_id=9545111832012, bullet_pos=(219.6075, 712.1625)
[06:59:24] [INFO] [Bullet] Using shooter_position, distance=599.999816894531
[06:59:24] [INFO] [Bullet] Distance to wall: 599.999816894531 (40.8550908347252% of viewport)
[06:59:24] [INFO] [Bullet] Distance-based penetration chance: 99.002394026154%
[06:59:24] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(171.8085, 1297.541), shooter_id=9545111832012, bullet_pos=(218.7585, 699.3804)
[06:59:24] [INFO] [Bullet] Using shooter_position, distance=600.000366210938
[06:59:24] [INFO] [Bullet] Distance to wall: 600.000366210938 (40.8551282386894% of viewport)
[06:59:24] [INFO] [Bullet] Distance-based penetration chance: 99.0023503881957%
[06:59:24] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(183.8584, 1286.798), shooter_id=9545111832012, bullet_pos=(149.8807, 707.7933)
[06:59:24] [INFO] [Bullet] Using shooter_position, distance=580.000366210938
[06:59:24] [INFO] [Bullet] Distance to wall: 580.000366210938 (39.4932914619323% of viewport)
[06:59:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:24] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(347.6888, 1270.696), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=4
[06:59:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(197.0564, 1278.826), shooter_id=9545111832012, bullet_pos=(252.0898, 701.442)
[06:59:24] [INFO] [Bullet] Using shooter_position, distance=580.000732421875
[06:59:24] [INFO] [Bullet] Distance to wall: 580.000732421875 (39.4933163979084% of viewport)
[06:59:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:24] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(363.0407, 1267.924), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=4
[06:59:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(211.4024, 1273.626), shooter_id=9545111832012, bullet_pos=(141.8, 697.8171)
[06:59:24] [INFO] [Bullet] Using shooter_position, distance=580
[06:59:24] [INFO] [Bullet] Distance to wall: 580 (39.4932665259561% of viewport)
[06:59:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:24] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(377.2446, 1262.381), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=4
[06:59:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(390.3005, 1254.066), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=4
[06:59:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(347.6888, 1270.696), shooter_id=9545111832012, bullet_pos=(157.9034, 701.5013)
[06:59:24] [INFO] [Bullet] Using shooter_position, distance=600.000549316406
[06:59:24] [INFO] [Bullet] Distance to wall: 600.000549316406 (40.8551407066775% of viewport)
[06:59:24] [INFO] [Bullet] Distance-based penetration chance: 99.0023358422096%
[06:59:24] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(363.0407, 1267.924), shooter_id=9545111832012, bullet_pos=(156.3733, 704.6404)
[06:59:24] [INFO] [Bullet] Using shooter_position, distance=600
[06:59:24] [INFO] [Bullet] Distance to wall: 600 (40.8551033027132% of viewport)
[06:59:24] [INFO] [Bullet] Distance-based penetration chance: 99.0023794801679%
[06:59:24] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(377.2446, 1262.381), shooter_id=9545111832012, bullet_pos=(141.0443, 710.8293)
[06:59:24] [INFO] [Bullet] Using shooter_position, distance=599.999633789063
[06:59:24] [INFO] [Bullet] Distance to wall: 599.999633789063 (40.8550783667371% of viewport)
[06:59:24] [INFO] [Bullet] Distance-based penetration chance: 99.00240857214%
[06:59:24] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(390.3005, 1254.066), shooter_id=9545111832012, bullet_pos=(66.17258, 702.2144)
[06:59:25] [INFO] [Bullet] Using shooter_position, distance=639.999267578125
[06:59:25] [INFO] [Bullet] Distance to wall: 639.999267578125 (43.5787269842752% of viewport)
[06:59:25] [INFO] [Bullet] Distance-based penetration chance: 95.8248185183456%
[06:59:25] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:27] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[06:59:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(413.4302, 804.491), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:27] [ENEMY] [Enemy1] Heard gunshot at (413.4302, 804.491), source_type=0, intensity=0.01, distance=468
[06:59:27] [ENEMY] [Enemy2] Heard gunshot at (413.4302, 804.491), source_type=0, intensity=0.04, distance=255
[06:59:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=2
[06:59:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(418.0496, 789.9044), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=2
[06:59:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(413.4302, 804.491), shooter_id=9545111832012, bullet_pos=(513.3445, 808.6319)
[06:59:27] [INFO] [Bullet] Using shooter_position, distance=100.000022888184
[06:59:27] [INFO] [Bullet] Distance to wall: 100.000022888184 (6.80918544228405% of viewport)
[06:59:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:27] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(425.4407, 776.4659), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=2
[06:59:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(435.4482, 764.3442), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=2
[06:59:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(446.9857, 754.7202), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=2
[06:59:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(459.8981, 747.7626), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=2
[06:59:27] [ENEMY] [Enemy3] Hit taken, health: 2/3
[06:59:27] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:59:27] [INFO] [ImpactEffects] spawn_blood_effect called at (658.1802, 758.3017), dir=(0.997651, -0.068504), lethal=false
[06:59:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:59:27] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:59:27] [INFO] [ImpactEffects] Blood effect spawned at (658.1802, 758.3017) (scale=0.9)
[06:59:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(474.1854, 743.4713), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=2
[06:59:27] [ENEMY] [Enemy3] Hit taken, health: 1/3
[06:59:27] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:59:27] [INFO] [ImpactEffects] spawn_blood_effect called at (658.1802, 758.3017), dir=(0.995272, -0.097131), lethal=false
[06:59:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:59:27] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:59:27] [INFO] [ImpactEffects] Blood effect spawned at (658.1802, 758.3017) (scale=0.9)
[06:59:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(489.8476, 741.8464), source=PLAYER (MiniUzi), range=1469, listeners=8
[06:59:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=2
[06:59:27] [ENEMY] [Enemy3] Hit taken, health: 0/3
[06:59:27] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:59:27] [INFO] [ImpactEffects] spawn_blood_effect called at (658.1802, 758.3017), dir=(0.99986, -0.016759), lethal=true
[06:59:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:59:27] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[06:59:27] [INFO] [ImpactEffects] Blood effect spawned at (658.1802, 758.3017) (scale=1.35)
[06:59:27] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[06:59:27] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[06:59:27] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 7)
[06:59:27] [INFO] [DeathAnim] Started - Angle: -1.0 deg, Index: 11
[06:59:27] [ENEMY] [Enemy3] Death animation started with hit direction: (0.99986, -0.016759)
[06:59:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(506.3476, 741.8464), source=PLAYER (MiniUzi), range=1469, listeners=7
[06:59:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=2
[06:59:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(522.0822, 743.6942), source=PLAYER (MiniUzi), range=1469, listeners=7
[06:59:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=3
[06:59:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(418.0496, 789.9044), shooter_id=9545111832012, bullet_pos=(917.9398, 800.3994)
[06:59:27] [INFO] [Bullet] Using shooter_position, distance=500.000305175781
[06:59:27] [INFO] [Bullet] Distance to wall: 500.000305175781 (34.0459401989078% of viewport)
[06:59:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:27] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(489.8476, 741.8464), shooter_id=9545111832012, bullet_pos=(677.7156, 810.4438)
[06:59:27] [INFO] [Bullet] Using shooter_position, distance=200.000015258789
[06:59:27] [INFO] [Bullet] Distance to wall: 200.000015258789 (13.6183688065701% of viewport)
[06:59:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:27] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:27] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[06:59:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(506.3476, 741.8464), shooter_id=9545111832012, bullet_pos=(756.9658, 811.0605)
[06:59:27] [INFO] [Bullet] Using shooter_position, distance=260.000091552734
[06:59:27] [INFO] [Bullet] Distance to wall: 260.000091552734 (17.7038843318364% of viewport)
[06:59:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(459.8981, 747.7626), shooter_id=9545111832012, bullet_pos=(916.6623, 802.2332)
[06:59:27] [INFO] [Bullet] Using shooter_position, distance=460.000579833984
[06:59:27] [INFO] [Bullet] Distance to wall: 460.000579833984 (31.3222853473757% of viewport)
[06:59:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:27] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(474.1854, 743.4713), shooter_id=9545111832012, bullet_pos=(911.5173, 791.8501)
[06:59:27] [INFO] [Bullet] Using shooter_position, distance=439.999664306641
[06:59:27] [INFO] [Bullet] Distance to wall: 439.999664306641 (29.9603862306783% of viewport)
[06:59:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:27] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(522.0822, 743.6942), shooter_id=9545111832012, bullet_pos=(916.0678, 812.797)
[06:59:27] [INFO] [Bullet] Using shooter_position, distance=399.999816894531
[06:59:27] [INFO] [Bullet] Distance to wall: 399.999816894531 (27.2367230671541% of viewport)
[06:59:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:27] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:28] [ENEMY] [Enemy3] Ragdoll activated
[06:59:28] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[06:59:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400.5621, 560.6519), source=ENEMY (Enemy2), range=1469, listeners=7
[06:59:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=2
[06:59:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(506.3476, 741.8464), shooter_id=9545111832012, bullet_pos=(911.2779, 782.1356)
[06:59:28] [INFO] [Bullet] Using shooter_position, distance=406.9296875
[06:59:28] [INFO] [Bullet] Distance to wall: 406.9296875 (27.7085906995889% of viewport)
[06:59:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:28] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:28] [INFO] [LastChance] Threat detected: Bullet
[06:59:28] [INFO] [LastChance] Not in hard mode - effect disabled
[06:59:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:59:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400.5621, 560.6519), source=ENEMY (Enemy2), range=1469, listeners=7
[06:59:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=2
[06:59:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(663.9344, 834.1542), source=PLAYER (MiniUzi), range=1469, listeners=7
[06:59:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[06:59:28] [INFO] [LastChance] Threat detected: @Area2D@12293
[06:59:28] [INFO] [LastChance] Not in hard mode - effect disabled
[06:59:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:59:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.2299, 617.3613), shooter_id=9542008049060, bullet_pos=(760.7716, 999.4175)
[06:59:28] [INFO] [Bullet] Using shooter_position, distance=500.000061035156
[06:59:28] [INFO] [Bullet] Distance to wall: 500.000061035156 (34.0459235749237% of viewport)
[06:59:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(663.935, 831.4577), source=PLAYER (MiniUzi), range=1469, listeners=7
[06:59:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[06:59:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400.5621, 560.6519), source=ENEMY (Enemy2), range=1469, listeners=7
[06:59:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=2
[06:59:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(663.935, 827.0163), source=PLAYER (MiniUzi), range=1469, listeners=7
[06:59:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[06:59:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(440.7973, 615.6062), shooter_id=9542008049060, bullet_pos=(695.5197, 890.8181)
[06:59:28] [INFO] [Bullet] Using shooter_position, distance=375.000122070313
[06:59:28] [INFO] [Bullet] Distance to wall: 375.000122070313 (25.5344478761878% of viewport)
[06:59:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:28] [INFO] [LastChance] Threat detected: @Area2D@12300
[06:59:28] [INFO] [LastChance] Not in hard mode - effect disabled
[06:59:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:59:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(663.9348, 821.0826), source=PLAYER (MiniUzi), range=1469, listeners=7
[06:59:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[06:59:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.2299, 617.3613), shooter_id=9542008049060, bullet_pos=(929.6841, 811.1744)
[06:59:28] [INFO] [Bullet] Using shooter_position, distance=528.290466308594
[06:59:28] [INFO] [Bullet] Distance to wall: 528.290466308594 (35.9722692914602% of viewport)
[06:59:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:28] [INFO] [Bullet] Starting wall penetration at (929.6841, 811.1744)
[06:59:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30.9598045349121
[06:59:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(663.9344, 834.1542), shooter_id=9545111832012, bullet_pos=(490.2816, 699.0812)
[06:59:28] [INFO] [Bullet] Using shooter_position, distance=220.000015258789
[06:59:28] [INFO] [Bullet] Distance to wall: 220.000015258789 (14.9802055833272% of viewport)
[06:59:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:28] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(440.7973, 615.6062), shooter_id=9542008049060, bullet_pos=(602.5413, 1004.247)
[06:59:28] [INFO] [Bullet] Using shooter_position, distance=420.954895019531
[06:59:28] [INFO] [Bullet] Distance to wall: 420.954895019531 (28.6635928696763% of viewport)
[06:59:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:28] [INFO] [Bullet] Body exited signal received for penetrating body
[06:59:28] [INFO] [Bullet] Exiting penetration at (956.6768, 781.0928) after traveling 35.4166679382324 pixels through wall
[06:59:28] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[06:59:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400.5621, 560.6519), source=ENEMY (Enemy2), range=1469, listeners=7
[06:59:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=2
[06:59:28] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:59:28] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:59:28] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:59:28] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:59:28] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:59:28] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:59:28] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:59:28] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:59:28] [INFO] [PenultimateHit] Applying saturation to 8 enemies
[06:59:28] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:59:28] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:59:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(663.935, 813.9099), source=PLAYER (MiniUzi), range=1469, listeners=7
[06:59:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[06:59:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(663.935, 831.4577), shooter_id=9545111832012, bullet_pos=(501.6302, 704.5994)
[06:59:28] [INFO] [Bullet] Using shooter_position, distance=205.999755859375
[06:59:28] [INFO] [Bullet] Distance to wall: 205.999755859375 (14.0269021766141% of viewport)
[06:59:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:28] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(440.7973, 615.6062), shooter_id=9542008049060, bullet_pos=(526.7625, 932.5177)
[06:59:28] [INFO] [Bullet] Using shooter_position, distance=328.364013671875
[06:59:28] [INFO] [Bullet] Distance to wall: 328.364013671875 (22.3589094990967% of viewport)
[06:59:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:28] [INFO] [Bullet] Starting wall penetration at (526.7625, 932.5177)
[06:59:28] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:59:28] [INFO] [Bullet] Exiting penetration at (520.945, 927.011) after traveling 3.01041626930237 pixels through wall
[06:59:28] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[06:59:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(663.9268, 809.7424), source=PLAYER (MiniUzi), range=1469, listeners=7
[06:59:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[06:59:28] [INFO] [LastChance] Threat detected: @Area2D@12310
[06:59:28] [INFO] [LastChance] Not in hard mode - effect disabled
[06:59:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:59:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(663.935, 827.0163), shooter_id=9545111832012, bullet_pos=(502.4364, 692.785)
[06:59:29] [INFO] [Bullet] Using shooter_position, distance=209.999633789063
[06:59:29] [INFO] [Bullet] Distance to wall: 209.999633789063 (14.2992612199735% of viewport)
[06:59:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:29] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(665.0336, 802.7143), source=PLAYER (MiniUzi), range=1469, listeners=7
[06:59:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[06:59:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(663.9348, 821.0826), shooter_id=9545111832012, bullet_pos=(501.5951, 687.8713)
[06:59:29] [INFO] [Bullet] Using shooter_position, distance=209.998672485352
[06:59:29] [INFO] [Bullet] Distance to wall: 209.998672485352 (14.2991957630361% of viewport)
[06:59:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:29] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(668.1287, 795.0643), source=PLAYER (MiniUzi), range=1469, listeners=7
[06:59:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[06:59:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(443.4017, 613.5667), shooter_id=9542008049060, bullet_pos=(678.4689, 843.9852)
[06:59:29] [INFO] [Bullet] Using shooter_position, distance=329.164520263672
[06:59:29] [INFO] [Bullet] Distance to wall: 329.164520263672 (22.4134174649339% of viewport)
[06:59:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(673.2123, 786.7925), source=PLAYER (MiniUzi), range=1469, listeners=7
[06:59:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[06:59:29] [ENEMY] [Enemy1] Player ammo empty state changed: false -> true
[06:59:29] [ENEMY] [Enemy2] Player ammo empty state changed: false -> true
[06:59:29] [ENEMY] [Enemy3] Player ammo empty state changed: false -> true
[06:59:29] [ENEMY] [Enemy5] Player ammo empty state changed: false -> true
[06:59:29] [ENEMY] [Enemy6] Player ammo empty state changed: false -> true
[06:59:29] [ENEMY] [Enemy7] Player ammo empty state changed: false -> true
[06:59:29] [ENEMY] [Enemy8] Player ammo empty state changed: false -> true
[06:59:29] [ENEMY] [Enemy9] Player ammo empty state changed: false -> true
[06:59:29] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(673.457, 786.4487), source=PLAYER (Player), range=600, listeners=7
[06:59:29] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (673.457, 786.4487), intensity=0.02, distance=354
[06:59:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:29] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=584), can_see=false
[06:59:29] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1115), can_see=false
[06:59:29] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1320), can_see=false
[06:59:29] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=943), can_see=false
[06:59:29] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1395), can_see=false
[06:59:29] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1618), can_see=false
[06:59:29] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(673.7048, 786.1039), source=PLAYER (Player), range=600, listeners=7
[06:59:29] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (673.7048, 786.1039), intensity=0.02, distance=354
[06:59:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:29] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(673.9559, 785.7581), source=PLAYER (Player), range=600, listeners=7
[06:59:29] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (673.9559, 785.7581), intensity=0.02, distance=354
[06:59:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:29] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(674.2101, 785.4113), source=PLAYER (Player), range=600, listeners=7
[06:59:29] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (674.2101, 785.4113), intensity=0.02, distance=354
[06:59:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(674.4676, 785.0635), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (674.4676, 785.0635), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(674.7282, 784.7147), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (674.7282, 784.7147), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(674.992, 784.3649), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (674.992, 784.3649), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(663.935, 813.9099), shooter_id=9545111832012, bullet_pos=(472.1128, 714.6113)
[06:59:30] [INFO] [Bullet] Using shooter_position, distance=215.999893188477
[06:59:30] [INFO] [Bullet] Distance to wall: 215.999893188477 (14.7078299159837% of viewport)
[06:59:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:30] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(675.259, 784.0142), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (675.259, 784.0142), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(675.5291, 783.6624), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (675.5291, 783.6624), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(675.8024, 783.3096), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (675.8024, 783.3096), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(676.0789, 782.9559), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (676.0789, 782.9559), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(676.3586, 782.6011), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (676.3586, 782.6011), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(676.6415, 782.2454), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (676.6415, 782.2454), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(676.9276, 781.8886), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (676.9276, 781.8886), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(677.2169, 781.5309), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (677.2169, 781.5309), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(677.5093, 781.1722), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (677.5093, 781.1722), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(677.8049, 780.8124), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (677.8049, 780.8124), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(678.1036, 780.4517), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (678.1036, 780.4517), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(678.4056, 780.09), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (678.4056, 780.09), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(678.7108, 779.7273), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (678.7108, 779.7273), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(663.9268, 809.7424), shooter_id=9545111832012, bullet_pos=(476.7297, 714.5672)
[06:59:30] [INFO] [Bullet] Using shooter_position, distance=210.002502441406
[06:59:30] [INFO] [Bullet] Distance to wall: 210.002502441406 (14.2994565517866% of viewport)
[06:59:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:30] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:30] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400.5621, 560.6519), source=ENEMY (Enemy2), range=1469, listeners=7
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=2
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(679.0191, 779.3636), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (679.0191, 779.3636), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(679.3306, 778.9989), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (679.3306, 778.9989), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(679.6453, 778.6332), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (679.6453, 778.6332), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(679.9632, 778.2665), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (679.9632, 778.2665), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [ENEMY] [Enemy3] Death animation completed
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(680.2842, 777.8988), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (680.2842, 777.8988), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(680.6085, 777.5302), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (680.6085, 777.5302), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(680.9359, 777.1605), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (680.9359, 777.1605), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(681.2665, 776.7898), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (681.2665, 776.7898), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(681.6003, 776.4182), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (681.6003, 776.4182), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(681.9373, 776.0455), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (681.9373, 776.0455), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(682.2774, 775.6718), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (682.2774, 775.6718), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(443.4017, 613.5667), shooter_id=9542008049060, bullet_pos=(561.8475, 997.4002)
[06:59:30] [INFO] [Bullet] Using shooter_position, distance=401.693420410156
[06:59:30] [INFO] [Bullet] Distance to wall: 401.693420410156 (27.3520436447953% of viewport)
[06:59:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(682.6207, 775.2972), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (682.6207, 775.2972), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=584), can_see=false
[06:59:30] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1103), can_see=false
[06:59:30] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1308), can_see=false
[06:59:30] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=934), can_see=false
[06:59:30] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1392), can_see=false
[06:59:30] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1615), can_see=false
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(682.9672, 774.9215), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (682.9672, 774.9215), intensity=0.02, distance=354
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(683.3169, 774.5449), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (683.3169, 774.5449), intensity=0.02, distance=355
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(683.6697, 774.1672), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (683.6697, 774.1672), intensity=0.02, distance=355
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(684.0258, 773.7886), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (684.0258, 773.7886), intensity=0.02, distance=355
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(684.385, 773.4089), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (684.385, 773.4089), intensity=0.02, distance=355
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(684.7474, 773.0283), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (684.7474, 773.0283), intensity=0.02, distance=355
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(685.113, 772.6467), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (685.113, 772.6467), intensity=0.02, distance=355
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(685.4818, 772.2641), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (685.4818, 772.2641), intensity=0.02, distance=355
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(685.8538, 771.8805), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (685.8538, 771.8805), intensity=0.02, distance=355
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(686.2289, 771.4959), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (686.2289, 771.4959), intensity=0.02, distance=355
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(686.6072, 771.1103), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (686.6072, 771.1103), intensity=0.02, distance=355
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(686.9886, 770.7237), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (686.9886, 770.7237), intensity=0.02, distance=355
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(687.3734, 770.3361), source=PLAYER (Player), range=600, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (687.3734, 770.3361), intensity=0.02, distance=355
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(443.4017, 613.5667), shooter_id=9542008049060, bullet_pos=(527.3481, 960.9941)
[06:59:30] [INFO] [Bullet] Using shooter_position, distance=357.425262451172
[06:59:30] [INFO] [Bullet] Distance to wall: 357.425262451172 (24.3377433674034% of viewport)
[06:59:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:30] [INFO] [LastChance] Threat detected: Bullet
[06:59:30] [INFO] [LastChance] Not in hard mode - effect disabled
[06:59:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:59:30] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[06:59:30] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[06:59:30] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[06:59:30] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[06:59:30] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[06:59:30] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[06:59:30] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[06:59:30] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[06:59:30] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[06:59:30] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(693.0366, 764.4326), source=PLAYER (Player), range=900, listeners=7
[06:59:30] [ENEMY] [Enemy2] Heard player RELOAD at (693.0366, 764.4326), intensity=0.02, distance=356
[06:59:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[06:59:30] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=585), can_see=false
[06:59:30] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1087), can_see=false
[06:59:30] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1294), can_see=false
[06:59:30] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=924), can_see=false
[06:59:30] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1388), can_see=false
[06:59:30] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1611), can_see=false
[06:59:31] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[06:59:31] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[06:59:31] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[06:59:31] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[06:59:31] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[06:59:31] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[06:59:31] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[06:59:31] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[06:59:31] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[06:59:31] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[06:59:31] [ENEMY] [Enemy1] Player ammo empty state changed: true -> false
[06:59:31] [ENEMY] [Enemy2] Player ammo empty state changed: true -> false
[06:59:31] [ENEMY] [Enemy3] Player ammo empty state changed: true -> false
[06:59:31] [ENEMY] [Enemy5] Player ammo empty state changed: true -> false
[06:59:31] [ENEMY] [Enemy6] Player ammo empty state changed: true -> false
[06:59:31] [ENEMY] [Enemy7] Player ammo empty state changed: true -> false
[06:59:31] [ENEMY] [Enemy8] Player ammo empty state changed: true -> false
[06:59:31] [ENEMY] [Enemy9] Player ammo empty state changed: true -> false
[06:59:31] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[06:59:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400.5621, 560.6519), source=ENEMY (Enemy2), range=1469, listeners=7
[06:59:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=2
[06:59:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(668.1287, 795.0643), shooter_id=9545111832012, bullet_pos=(526.2505, 599.0156)
[06:59:31] [INFO] [Bullet] Using shooter_position, distance=242.001083374023
[06:59:31] [INFO] [Bullet] Distance to wall: 242.001083374023 (16.4782987676904% of viewport)
[06:59:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:31] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:31] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[06:59:31] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:59:31] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:59:31] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[06:59:31] [INFO] [LastChance] Threat detected: @Area2D@12310
[06:59:31] [INFO] [LastChance] Not in hard mode - effect disabled
[06:59:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:59:31] [ENEMY] [Enemy2] Hit taken, health: 3/4
[06:59:31] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[06:59:31] [INFO] [ImpactEffects] spawn_blood_effect called at (400.5621, 560.6519), dir=(-0.738084, -0.674709), lethal=false
[06:59:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:59:31] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:59:31] [INFO] [ImpactEffects] Blood effect spawned at (400.5621, 560.6519) (scale=0.9)
[06:59:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(708.2986, 738.3043), source=PLAYER (MiniUzi), range=1469, listeners=7
[06:59:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[06:59:31] [INFO] [LastChance] Threat detected: Bullet
[06:59:31] [INFO] [LastChance] Not in hard mode - effect disabled
[06:59:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:59:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400.5621, 560.6519), source=ENEMY (Enemy2), range=1469, listeners=7
[06:59:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=2
[06:59:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(711.7433, 723.2312), source=PLAYER (MiniUzi), range=1469, listeners=7
[06:59:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[06:59:31] [INFO] [Player.Reload.Anim] LeftArm: pos=(13.268361, 5.885599), target=(14, 6), base=(14, 6)
[06:59:31] [INFO] [Player.Reload.Anim] RightArm: pos=(0.8416579, 6.052996), target=(1, 6), base=(1, 6)
[06:59:31] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[06:59:31] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[06:59:31] [INFO] [PenultimateHit] Player died - ending penultimate effect
[06:59:31] [INFO] [LastChance] Player died
[06:59:31] [INFO] [Player.Reload.Anim] LeftArm: pos=(13.451271, 5.9141994), target=(14, 6), base=(14, 6)
[06:59:31] [INFO] [Player.Reload.Anim] RightArm: pos=(0.8812434, 6.039747), target=(1, 6), base=(1, 6)
[06:59:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(712.5, 707.0447), source=PLAYER (MiniUzi), range=1469, listeners=7
[06:59:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[06:59:31] [INFO] [LastChance] Threat detected: @Area2D@12334
[06:59:31] [INFO] [LastChance] Not in hard mode - effect disabled
[06:59:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:59:31] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[06:59:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400.5621, 560.6519), source=ENEMY (Enemy2), range=1469, listeners=7
[06:59:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=2
[06:59:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(712.5, 685.0447), source=PLAYER (MiniUzi), range=1469, listeners=7
[06:59:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[06:59:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(452.9469, 604.1027), shooter_id=9542008049060, bullet_pos=(931.1808, 915.7811)
[06:59:31] [INFO] [Bullet] Using shooter_position, distance=570.833740234375
[06:59:31] [INFO] [Bullet] Distance to wall: 570.833740234375 (38.8691190432493% of viewport)
[06:59:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:31] [INFO] [LastChance] Threat detected: @Area2D@12340
[06:59:31] [INFO] [LastChance] Not in hard mode - effect disabled
[06:59:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:59:31] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[06:59:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(712.5, 663.0447), source=PLAYER (MiniUzi), range=1469, listeners=7
[06:59:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[06:59:31] [ENEMY] [Enemy2] Pursuing vulnerability sound at (693.0366, 764.4326), distance=356
[06:59:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(712.5, 707.0447), shooter_id=9545111832012, bullet_pos=(492.51, 704.9721)
[06:59:31] [INFO] [Bullet] Using shooter_position, distance=219.999725341797
[06:59:31] [INFO] [Bullet] Distance to wall: 219.999725341797 (14.9801858423461% of viewport)
[06:59:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:31] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(456.4199, 599.707), shooter_id=9542008049060, bullet_pos=(932.9408, 857.2544)
[06:59:31] [INFO] [Bullet] Using shooter_position, distance=541.666748046875
[06:59:31] [INFO] [Bullet] Distance to wall: 541.666748046875 (36.883084911833% of viewport)
[06:59:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:31] [INFO] [Bullet] Starting wall penetration at (932.9408, 857.2544)
[06:59:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(452.9469, 604.1027), shooter_id=9542008049060, bullet_pos=(731.5521, 1002.121)
[06:59:31] [INFO] [Bullet] Using shooter_position, distance=485.838989257813
[06:59:31] [INFO] [Bullet] Distance to wall: 485.838989257813 (33.0816701576895% of viewport)
[06:59:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 43.189266204834
[06:59:31] [INFO] [Bullet] Body exited signal received for penetrating body
[06:59:31] [INFO] [Bullet] Exiting penetration at (973.9949, 879.4431) after traveling 41.6666679382324 pixels through wall
[06:59:31] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:59:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(712.5, 641.0447), source=PLAYER (MiniUzi), range=1469, listeners=7
[06:59:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[06:59:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(712.5, 619.0447), source=PLAYER (MiniUzi), range=1469, listeners=7
[06:59:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[06:59:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(460.0773, 593.8826), shooter_id=9542008049060, bullet_pos=(921.6584, 786.0877)
[06:59:31] [INFO] [Bullet] Using shooter_position, distance=499.999847412109
[06:59:31] [INFO] [Bullet] Distance to wall: 499.999847412109 (34.0459090289377% of viewport)
[06:59:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(452.9469, 604.1027), shooter_id=9542008049060, bullet_pos=(507.3157, 901.3633)
[06:59:31] [INFO] [Bullet] Using shooter_position, distance=302.191680908203
[06:59:31] [INFO] [Bullet] Distance to wall: 302.191680908203 (20.576787234542% of viewport)
[06:59:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:31] [INFO] [Bullet] Starting wall penetration at (507.3157, 901.3633)
[06:59:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27.0838527679443
[06:59:31] [INFO] [Bullet] Body exited signal received for penetrating body
[06:59:31] [INFO] [Bullet] Exiting penetration at (475.2955, 886.9754) after traveling 30.1041717529297 pixels through wall
[06:59:31] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[06:59:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(712.5, 597.0447), source=PLAYER (MiniUzi), range=1469, listeners=7
[06:59:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[06:59:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(460.0773, 593.8826), shooter_id=9542008049060, bullet_pos=(745.7727, 833.1898)
[06:59:31] [INFO] [Bullet] Using shooter_position, distance=372.67919921875
[06:59:31] [INFO] [Bullet] Distance to wall: 372.67919921875 (25.3764119714241% of viewport)
[06:59:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:31] [INFO] [Bullet] Starting wall penetration at (745.7727, 833.1898)
[06:59:31] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[06:59:31] [INFO] [Bullet] Exiting penetration at (706.7317, 843.645) after traveling 35.4166679382324 pixels through wall
[06:59:31] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[06:59:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(712.5, 619.0447), shooter_id=9545111832012, bullet_pos=(515.9314, 582.1563)
[06:59:32] [INFO] [Bullet] Using shooter_position, distance=199.999938964844
[06:59:32] [INFO] [Bullet] Distance to wall: 199.999938964844 (13.6183636115751% of viewport)
[06:59:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:32] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:32] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[06:59:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(712.5, 663.0447), shooter_id=9545111832012, bullet_pos=(333.1787, 685.7475)
[06:59:32] [INFO] [Bullet] Using shooter_position, distance=380.000091552734
[06:59:32] [INFO] [Bullet] Distance to wall: 380.000091552734 (25.8749049923791% of viewport)
[06:59:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:32] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:32] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[06:59:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(708.2986, 738.3043), shooter_id=9545111832012, bullet_pos=(62.3858, 468.4961)
[06:59:32] [INFO] [Bullet] Using shooter_position, distance=699.999816894531
[06:59:32] [INFO] [Bullet] Distance to wall: 699.999816894531 (47.6642747185107% of viewport)
[06:59:32] [INFO] [Bullet] Distance-based penetration chance: 91.0583461617375%
[06:59:32] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:32] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:59:32] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:59:32] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:59:32] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:59:32] [ENEMY] [Enemy1] Death animation component initialized
[06:59:32] [ENEMY] [Enemy2] Death animation component initialized
[06:59:32] [ENEMY] [Enemy3] Death animation component initialized
[06:59:32] [ENEMY] [Enemy4] Death animation component initialized
[06:59:32] [ENEMY] [Enemy5] Death animation component initialized
[06:59:32] [ENEMY] [Enemy6] Death animation component initialized
[06:59:32] [ENEMY] [Enemy7] Death animation component initialized
[06:59:32] [ENEMY] [Enemy8] Death animation component initialized
[06:59:32] [ENEMY] [Enemy9] Death animation component initialized
[06:59:32] [ENEMY] [Enemy10] Death animation component initialized
[06:59:32] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:59:32] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:59:32] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:59:32] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:59:32] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:59:32] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:59:32] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:59:32] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[06:59:32] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:59:32] [INFO] [ScoreManager] Level started with 10 enemies
[06:59:32] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 8)
[06:59:32] [ENEMY] [Enemy1] Registered as sound listener
[06:59:32] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[06:59:32] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 9)
[06:59:32] [ENEMY] [Enemy2] Registered as sound listener
[06:59:32] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[06:59:32] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 10)
[06:59:32] [ENEMY] [Enemy3] Registered as sound listener
[06:59:32] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[06:59:32] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 11)
[06:59:32] [ENEMY] [Enemy4] Registered as sound listener
[06:59:32] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[06:59:32] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 12)
[06:59:32] [ENEMY] [Enemy5] Registered as sound listener
[06:59:32] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[06:59:32] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 13)
[06:59:32] [ENEMY] [Enemy6] Registered as sound listener
[06:59:32] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[06:59:32] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 14)
[06:59:32] [ENEMY] [Enemy7] Registered as sound listener
[06:59:32] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[06:59:32] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 15)
[06:59:32] [ENEMY] [Enemy8] Registered as sound listener
[06:59:32] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[06:59:32] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 16)
[06:59:32] [ENEMY] [Enemy9] Registered as sound listener
[06:59:32] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[06:59:32] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 17)
[06:59:32] [ENEMY] [Enemy10] Registered as sound listener
[06:59:32] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[06:59:32] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:59:32] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:59:32] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:59:32] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:59:32] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:59:32] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:59:32] [INFO] [LastChance] Found player: Player
[06:59:32] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:59:32] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:59:32] [INFO] [LastChance] Connected to player Died signal (C#)
[06:59:32] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:59:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.395, 1465.462), source=ENEMY (Enemy10), range=1469, listeners=17
[06:59:32] [INFO] [SoundPropagation] Cleaned up 7 invalid listeners
[06:59:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:59:33] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:59:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1005.725, 1430.902), shooter_id=10825649622961, bullet_pos=(41.69983, 702.3934)
[06:59:33] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[06:59:33] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[06:59:33] [INFO] [Bullet] Distance-based penetration chance: 50.6761141644985%
[06:59:33] [INFO] [Bullet] Penetration failed (distance roll)
[06:59:34] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[06:59:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(485.7551, 781.6668), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:59:34] [ENEMY] [Enemy1] Heard gunshot at (485.7551, 781.6668), source_type=0, intensity=0.01, distance=470
[06:59:34] [ENEMY] [Enemy2] Heard gunshot at (485.7551, 781.6668), source_type=0, intensity=0.04, distance=247
[06:59:34] [ENEMY] [Enemy4] Heard gunshot at (485.7551, 781.6668), source_type=0, intensity=0.02, distance=336
[06:59:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:59:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(489.764, 768.9879), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:59:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:59:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(495.8783, 758.4461), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:59:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:59:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(504.0981, 750.0413), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:59:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[06:59:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(513.3005, 744.3292), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:59:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[06:59:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(522.9241, 741.5872), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:59:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[06:59:34] [ENEMY] [Enemy3] Hit taken, health: 3/4
[06:59:34] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:59:34] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.993885, 0.110424), lethal=false
[06:59:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:59:34] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:59:34] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=0.9)
[06:59:34] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[06:59:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(532.9691, 741.8156), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:59:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[06:59:34] [ENEMY] [Enemy3] Hit taken, health: 2/4
[06:59:34] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:59:34] [INFO] [ImpactEffects] spawn_blood_effect called at (699.3661, 755.2955), dir=(0.99289, 0.119038), lethal=false
[06:59:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:59:34] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:59:34] [INFO] [ImpactEffects] Blood effect spawned at (699.3661, 755.2955) (scale=0.9)
[06:59:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(543.4353, 745.0142), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:59:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[06:59:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(485.7551, 781.6668), shooter_id=10826471706594, bullet_pos=(925.4932, 796.8495)
[06:59:34] [INFO] [Bullet] Using shooter_position, distance=440.000183105469
[06:59:34] [INFO] [Bullet] Distance to wall: 440.000183105469 (29.9604215566445% of viewport)
[06:59:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:34] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(699.0492, 757.9433), source=ENEMY (Enemy3), range=1469, listeners=10
[06:59:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:59:34] [ENEMY] [Enemy10] FLANKING started: target=(742.6788, 727.6356), side=left, pos=(1026.766, 1435.67)
[06:59:34] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[06:59:34] [ENEMY] [Enemy3] Hit taken, health: 1/4
[06:59:34] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:59:34] [INFO] [ImpactEffects] spawn_blood_effect called at (698.7322, 760.5911), dir=(0.99612, 0.088006), lethal=false
[06:59:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:59:34] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:59:34] [INFO] [ImpactEffects] Blood effect spawned at (698.7322, 760.5911) (scale=0.9)
[06:59:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(489.764, 768.9879), shooter_id=10826471706594, bullet_pos=(909.5064, 783.6805)
[06:59:34] [INFO] [Bullet] Using shooter_position, distance=419.99951171875
[06:59:34] [INFO] [Bullet] Distance to wall: 419.99951171875 (28.5985390639311% of viewport)
[06:59:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:34] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(554.3228, 751.1831), source=PLAYER (MiniUzi), range=1469, listeners=10
[06:59:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[06:59:34] [ENEMY] [Enemy3] Hit taken, health: 0/4
[06:59:34] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[06:59:34] [INFO] [ImpactEffects] spawn_blood_effect called at (697.7814, 768.5344), dir=(0.972291, 0.233773), lethal=true
[06:59:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:59:34] [INFO] [ImpactEffects] Blood decals scheduled: 8 to spawn at particle landing times
[06:59:34] [INFO] [ImpactEffects] Blood effect spawned at (697.7814, 768.5344) (scale=1.35)
[06:59:34] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[06:59:34] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[06:59:34] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[06:59:34] [INFO] [DeathAnim] Started - Angle: 13.5 deg, Index: 12
[06:59:34] [ENEMY] [Enemy3] Death animation started with hit direction: (0.972291, 0.233773)
[06:59:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(495.8783, 758.4461), shooter_id=10826471706594, bullet_pos=(913.9442, 798.7068)
[06:59:34] [INFO] [Bullet] Using shooter_position, distance=419.999969482422
[06:59:34] [INFO] [Bullet] Distance to wall: 419.999969482422 (28.5985702339013% of viewport)
[06:59:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:34] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(565.3054, 760.1741), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:34] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[06:59:34] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[06:59:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[06:59:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[06:59:34] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[06:59:34] [INFO] [LastChance] Threat detected: @Area2D@12640
[06:59:34] [INFO] [LastChance] Not in hard mode - effect disabled
[06:59:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:59:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(565.3054, 760.1741), shooter_id=10826471706594, bullet_pos=(738.4801, 809.2714)
[06:59:34] [INFO] [Bullet] Using shooter_position, distance=180.000122070313
[06:59:34] [INFO] [Bullet] Distance to wall: 180.000122070313 (12.256539302806% of viewport)
[06:59:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:34] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(631.0355, 760.1193), shooter_id=10823653134138, bullet_pos=(57.87664, 868.5936)
[06:59:34] [INFO] [Bullet] Using shooter_position, distance=583.333312988281
[06:59:34] [INFO] [Bullet] Distance to wall: 583.333312988281 (39.7202379367503% of viewport)
[06:59:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:34] [INFO] [Bullet] Starting wall penetration at (57.87664, 868.5936)
[06:59:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20.3306789398193
[06:59:34] [INFO] [Bullet] Body exited signal received for penetrating body
[06:59:34] [INFO] [Bullet] Exiting penetration at (12.02392, 877.2715) after traveling 41.6666679382324 pixels through wall
[06:59:34] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[06:59:34] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[06:59:34] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[06:59:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(543.4353, 745.0142), shooter_id=10826471706594, bullet_pos=(921.3212, 785.0378)
[06:59:34] [INFO] [Bullet] Using shooter_position, distance=379.999542236328
[06:59:34] [INFO] [Bullet] Distance to wall: 379.999542236328 (25.8748675884149% of viewport)
[06:59:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:34] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(554.3228, 751.1831), shooter_id=10826471706594, bullet_pos=(913.1121, 780.6836)
[06:59:34] [INFO] [Bullet] Using shooter_position, distance=360.000061035156
[06:59:34] [INFO] [Bullet] Distance to wall: 360.000061035156 (24.513066137624% of viewport)
[06:59:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:34] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:34] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[06:59:35] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[06:59:35] [ENEMY] [Enemy3] Ragdoll activated
[06:59:35] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[06:59:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(585.3972, 912.0963), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:59:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(585.7052, 928.4688), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[06:59:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(588.4768, 943.8207), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[06:59:35] [ENEMY] [Enemy4] Hit taken, health: 2/3
[06:59:35] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[06:59:35] [INFO] [ImpactEffects] spawn_blood_effect called at (731.901, 914.0654), dir=(0.998042, 0.06254), lethal=false
[06:59:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:59:35] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:59:35] [INFO] [ImpactEffects] Blood effect spawned at (731.901, 914.0654) (scale=0.9)
[06:59:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(594.0201, 958.0245), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[06:59:35] [ENEMY] [Enemy4] Hit taken, health: 1/3
[06:59:35] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[06:59:35] [INFO] [ImpactEffects] spawn_blood_effect called at (731.901, 914.0654), dir=(0.998568, 0.053496), lethal=false
[06:59:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[06:59:35] [INFO] [ImpactEffects] Blood decals scheduled: 4 to spawn at particle landing times
[06:59:35] [INFO] [ImpactEffects] Blood effect spawned at (731.901, 914.0654) (scale=0.9)
[06:59:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(601.6622, 970.2272), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[06:59:35] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[06:59:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(611.0665, 980.0021), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[06:59:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(622.3708, 983.9338), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[06:59:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(740.0924, 915.6808), source=ENEMY (Enemy4), range=1469, listeners=9
[06:59:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[06:59:35] [INFO] [LastChance] Threat detected: Bullet
[06:59:35] [INFO] [LastChance] Not in hard mode - effect disabled
[06:59:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:59:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.5376, 983.9338), source=PLAYER (MiniUzi), range=1469, listeners=9
[06:59:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[06:59:35] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:59:35] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:59:35] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:59:35] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:59:35] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:59:35] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:59:35] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:59:35] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:59:35] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:59:35] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:59:35] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:59:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(588.4768, 943.8207), shooter_id=10826471706594, bullet_pos=(928.262, 955.9097)
[06:59:35] [INFO] [Bullet] Using shooter_position, distance=340.000213623047
[06:59:35] [INFO] [Bullet] Distance to wall: 340.000213623047 (23.1512397508569% of viewport)
[06:59:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:35] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(601.6622, 970.2272), shooter_id=10826471706594, bullet_pos=(826.0614, 997.0771)
[06:59:35] [INFO] [Bullet] Using shooter_position, distance=225.999847412109
[06:59:35] [INFO] [Bullet] Distance to wall: 225.999847412109 (15.3887451873653% of viewport)
[06:59:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:35] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(751.2, 914.0652), source=ENEMY (Enemy4), range=1469, listeners=9
[06:59:35] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[06:59:35] [INFO] [LastChance] Threat detected: Bullet
[06:59:35] [INFO] [LastChance] Not in hard mode - effect disabled
[06:59:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:59:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(594.0201, 958.0245), shooter_id=10826471706594, bullet_pos=(909.929, 965.6194)
[06:59:35] [INFO] [Bullet] Using shooter_position, distance=316.000213623047
[06:59:35] [INFO] [Bullet] Distance to wall: 316.000213623047 (21.5170356187484% of viewport)
[06:59:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:35] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:36] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[06:59:36] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[06:59:36] [INFO] [PenultimateHit] Player died - ending penultimate effect
[06:59:36] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:59:36] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:59:36] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[06:59:36] [INFO] [LastChance] Player died
[06:59:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(756.8775, 914.0658), source=ENEMY (Enemy4), range=1469, listeners=9
[06:59:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[06:59:36] [INFO] [LastChance] Threat detected: Bullet
[06:59:36] [INFO] [LastChance] Not in hard mode - effect disabled
[06:59:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:59:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(611.0665, 980.0021), shooter_id=10826471706594, bullet_pos=(902.9351, 988.761)
[06:59:36] [INFO] [Bullet] Using shooter_position, distance=291.999938964844
[06:59:36] [INFO] [Bullet] Distance to wall: 291.999938964844 (19.8828127846578% of viewport)
[06:59:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:36] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(622.3708, 983.9338), shooter_id=10826471706594, bullet_pos=(926.6791, 915.0847)
[06:59:36] [INFO] [Bullet] Using shooter_position, distance=311.99951171875
[06:59:36] [INFO] [Bullet] Distance to wall: 311.99951171875 (21.2446204694427% of viewport)
[06:59:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:36] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(636.5376, 983.9338), shooter_id=10826471706594, bullet_pos=(922.4313, 924.53)
[06:59:36] [INFO] [Bullet] Using shooter_position, distance=292
[06:59:36] [INFO] [Bullet] Distance to wall: 292 (19.8828169406538% of viewport)
[06:59:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[06:59:36] [INFO] [Bullet] Caliber cannot penetrate walls
[06:59:36] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[06:59:36] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:59:36] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:59:36] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:59:36] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:59:36] [ENEMY] [Enemy1] Death animation component initialized
[06:59:36] [ENEMY] [Enemy2] Death animation component initialized
[06:59:36] [ENEMY] [Enemy3] Death animation component initialized
[06:59:36] [ENEMY] [Enemy4] Death animation component initialized
[06:59:36] [ENEMY] [Enemy5] Death animation component initialized
[06:59:36] [ENEMY] [Enemy6] Death animation component initialized
[06:59:36] [ENEMY] [Enemy7] Death animation component initialized
[06:59:36] [ENEMY] [Enemy8] Death animation component initialized
[06:59:36] [ENEMY] [Enemy9] Death animation component initialized
[06:59:36] [ENEMY] [Enemy10] Death animation component initialized
[06:59:36] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:59:36] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:59:36] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:59:36] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:59:36] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:59:36] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:59:36] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:59:36] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[06:59:36] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:59:36] [INFO] [ScoreManager] Level started with 10 enemies
[06:59:36] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[06:59:36] [ENEMY] [Enemy1] Registered as sound listener
[06:59:36] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[06:59:36] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[06:59:36] [ENEMY] [Enemy2] Registered as sound listener
[06:59:36] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[06:59:36] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[06:59:36] [ENEMY] [Enemy3] Registered as sound listener
[06:59:36] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[06:59:36] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[06:59:36] [ENEMY] [Enemy4] Registered as sound listener
[06:59:36] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[06:59:36] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[06:59:36] [ENEMY] [Enemy5] Registered as sound listener
[06:59:36] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[06:59:36] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[06:59:36] [ENEMY] [Enemy6] Registered as sound listener
[06:59:36] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[06:59:36] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[06:59:36] [ENEMY] [Enemy7] Registered as sound listener
[06:59:36] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[06:59:36] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[06:59:36] [ENEMY] [Enemy8] Registered as sound listener
[06:59:36] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[06:59:36] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[06:59:36] [ENEMY] [Enemy9] Registered as sound listener
[06:59:36] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[06:59:36] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[06:59:36] [ENEMY] [Enemy10] Registered as sound listener
[06:59:36] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[06:59:36] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:59:36] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:59:36] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:59:36] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:59:36] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:59:36] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:59:36] [INFO] [LastChance] Found player: Player
[06:59:36] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:59:36] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:59:36] [INFO] [LastChance] Connected to player Died signal (C#)
[06:59:36] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:59:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1063.365, 1467.074), source=ENEMY (Enemy10), range=1469, listeners=19
[06:59:37] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[06:59:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:59:37] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:59:37] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:59:37] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[06:59:37] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[06:59:37] [INFO] [LastChance] Resetting all effects (scene change detected)
[06:59:37] [ENEMY] [Enemy1] Death animation component initialized
[06:59:37] [ENEMY] [Enemy2] Death animation component initialized
[06:59:37] [ENEMY] [Enemy3] Death animation component initialized
[06:59:37] [ENEMY] [Enemy4] Death animation component initialized
[06:59:37] [ENEMY] [Enemy5] Death animation component initialized
[06:59:37] [ENEMY] [Enemy6] Death animation component initialized
[06:59:37] [ENEMY] [Enemy7] Death animation component initialized
[06:59:37] [ENEMY] [Enemy8] Death animation component initialized
[06:59:37] [ENEMY] [Enemy9] Death animation component initialized
[06:59:37] [ENEMY] [Enemy10] Death animation component initialized
[06:59:37] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[06:59:37] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[06:59:37] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[06:59:37] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[06:59:37] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[06:59:37] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[06:59:37] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[06:59:37] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[06:59:37] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[06:59:37] [INFO] [ScoreManager] Level started with 10 enemies
[06:59:37] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[06:59:37] [ENEMY] [Enemy1] Registered as sound listener
[06:59:37] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[06:59:37] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[06:59:37] [ENEMY] [Enemy2] Registered as sound listener
[06:59:37] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[06:59:37] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[06:59:37] [ENEMY] [Enemy3] Registered as sound listener
[06:59:37] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[06:59:37] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[06:59:37] [ENEMY] [Enemy4] Registered as sound listener
[06:59:37] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[06:59:37] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[06:59:37] [ENEMY] [Enemy5] Registered as sound listener
[06:59:37] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[06:59:37] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[06:59:37] [ENEMY] [Enemy6] Registered as sound listener
[06:59:37] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[06:59:37] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[06:59:37] [ENEMY] [Enemy7] Registered as sound listener
[06:59:37] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[06:59:37] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[06:59:37] [ENEMY] [Enemy8] Registered as sound listener
[06:59:37] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[06:59:37] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[06:59:37] [ENEMY] [Enemy9] Registered as sound listener
[06:59:37] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[06:59:37] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[06:59:37] [ENEMY] [Enemy10] Registered as sound listener
[06:59:37] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[06:59:37] [INFO] [Player] Detecting weapon pose (frame 3)...
[06:59:37] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[06:59:37] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[06:59:37] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[06:59:37] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[06:59:37] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[06:59:37] [INFO] [LastChance] Found player: Player
[06:59:37] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[06:59:37] [INFO] [LastChance] Connected to player Damaged signal (C#)
[06:59:37] [INFO] [LastChance] Connected to player Died signal (C#)
[06:59:38] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[06:59:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.599, 1465.174), source=ENEMY (Enemy10), range=1469, listeners=20
[06:59:39] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[06:59:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[06:59:39] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[06:59:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1006.355, 1429.885), shooter_id=11179263002167, bullet_pos=(51.42196, 689.4968)
[06:59:39] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[06:59:39] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[06:59:39] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[06:59:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1006.355, 1429.885), shooter_id=11179263002167, bullet_pos=(525.1077, 438.1287)
[06:59:39] [INFO] [Bullet] Using shooter_position, distance=1102.35192871094
[06:59:39] [INFO] [Bullet] Distance to wall: 1102.35192871094 (75.0611698723842% of viewport)
[06:59:39] [INFO] [Bullet] Distance-based penetration chance: 59.0953018155517%
[06:59:39] [INFO] [Bullet] Penetration failed (distance roll)
[06:59:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[06:59:40] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[06:59:40] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[06:59:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:59:40] [INFO] [LastChance] Threat detected: Bullet
[06:59:40] [INFO] [LastChance] Not in hard mode - effect disabled
[06:59:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:59:40] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[06:59:40] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[06:59:40] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[06:59:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[06:59:40] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[06:59:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[06:59:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:59:40] [INFO] [LastChance] Threat detected: Bullet
[06:59:40] [INFO] [LastChance] Not in hard mode - effect disabled
[06:59:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:59:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[06:59:40] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[06:59:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[06:59:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:59:40] [INFO] [LastChance] Threat detected: Bullet
[06:59:40] [INFO] [LastChance] Not in hard mode - effect disabled
[06:59:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:59:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[06:59:40] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[06:59:40] [INFO] [PenultimateHit] Starting penultimate hit effect:
[06:59:40] [INFO] [PenultimateHit]   - Time scale: 0.10
[06:59:40] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[06:59:40] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[06:59:40] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[06:59:40] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[06:59:40] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[06:59:40] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[06:59:40] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[06:59:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[06:59:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:59:40] [INFO] [LastChance] Threat detected: Bullet
[06:59:40] [INFO] [LastChance] Not in hard mode - effect disabled
[06:59:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:59:41] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[06:59:41] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[06:59:41] [INFO] [PenultimateHit] Player died - ending penultimate effect
[06:59:41] [INFO] [PenultimateHit] Ending penultimate hit effect
[06:59:41] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[06:59:41] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[06:59:41] [INFO] [LastChance] Player died
[06:59:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[06:59:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:59:41] [INFO] [LastChance] Threat detected: Bullet
[06:59:41] [INFO] [LastChance] Not in hard mode - effect disabled
[06:59:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:59:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(781.7121, 799.558), source=ENEMY (Enemy4), range=1469, listeners=10
[06:59:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:59:41] [ENEMY] [Enemy10] FLANKING started: target=(681.7059, 701.4207), side=left, pos=(1031.345, 1438.446)
[06:59:41] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[06:59:41] [INFO] [LastChance] Threat detected: @Area2D@13205
[06:59:41] [INFO] [LastChance] Not in hard mode - effect disabled
[06:59:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:59:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[06:59:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[06:59:41] [INFO] [LastChance] Threat detected: Bullet
[06:59:41] [INFO] [LastChance] Not in hard mode - effect disabled
[06:59:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[06:59:41] [INFO] ------------------------------------------------------------
[06:59:41] [INFO] GAME LOG ENDED: 2026-01-24T06:59:41
[06:59:41] [INFO] ============================================================
